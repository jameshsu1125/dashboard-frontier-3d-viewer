var _8 = Object.defineProperty;
var w8 = (a, e, n) => e in a ? _8(a, e, { enumerable: !0, configurable: !0, writable: !0, value: n }) : a[e] = n;
var Jn = (a, e, n) => (w8(a, typeof e != "symbol" ? e + "" : e, n), n);
import { r as Ke, C as li, A as Ht, R as re, T as Gc, j as Oe, D as HS, c as Dr, a as zu, g as Uu, b as T8, d as Gu, e as N8 } from "./index-DJtAE6UU.js";
const oo = (a, e = "") => {
  var h;
  const [n, r] = Ke.useState(e), [o] = Ke.useContext(li), l = (h = o[Ht.UserProps]) == null ? void 0 : h.translate;
  return Ke.useEffect(() => {
    l && r(l[a] || e);
  }, [a, e, l]), [n];
};
var $S = {
  color: void 0,
  size: void 0,
  className: void 0,
  style: void 0,
  attr: void 0
}, oT = re.createContext && /* @__PURE__ */ re.createContext($S), M8 = ["attr", "size", "title"];
function S8(a, e) {
  if (a == null)
    return {};
  var n = I8(a, e), r, o;
  if (Object.getOwnPropertySymbols) {
    var l = Object.getOwnPropertySymbols(a);
    for (o = 0; o < l.length; o++)
      r = l[o], !(e.indexOf(r) >= 0) && Object.prototype.propertyIsEnumerable.call(a, r) && (n[r] = a[r]);
  }
  return n;
}
function I8(a, e) {
  if (a == null)
    return {};
  var n = {};
  for (var r in a)
    if (Object.prototype.hasOwnProperty.call(a, r)) {
      if (e.indexOf(r) >= 0)
        continue;
      n[r] = a[r];
    }
  return n;
}
function Lg() {
  return Lg = Object.assign ? Object.assign.bind() : function(a) {
    for (var e = 1; e < arguments.length; e++) {
      var n = arguments[e];
      for (var r in n)
        Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
    }
    return a;
  }, Lg.apply(this, arguments);
}
function aT(a, e) {
  var n = Object.keys(a);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(a);
    e && (r = r.filter(function(o) {
      return Object.getOwnPropertyDescriptor(a, o).enumerable;
    })), n.push.apply(n, r);
  }
  return n;
}
function jg(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e] != null ? arguments[e] : {};
    e % 2 ? aT(Object(n), !0).forEach(function(r) {
      A8(a, r, n[r]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(a, Object.getOwnPropertyDescriptors(n)) : aT(Object(n)).forEach(function(r) {
      Object.defineProperty(a, r, Object.getOwnPropertyDescriptor(n, r));
    });
  }
  return a;
}
function A8(a, e, n) {
  return e = E8(e), e in a ? Object.defineProperty(a, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : a[e] = n, a;
}
function E8(a) {
  var e = P8(a, "string");
  return typeof e == "symbol" ? e : e + "";
}
function P8(a, e) {
  if (typeof a != "object" || !a)
    return a;
  var n = a[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(a, e || "default");
    if (typeof r != "object")
      return r;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (e === "string" ? String : Number)(a);
}
function qS(a) {
  return a && a.map((e, n) => /* @__PURE__ */ re.createElement(e.tag, jg({
    key: n
  }, e.attr), qS(e.child)));
}
function ls(a) {
  return (e) => /* @__PURE__ */ re.createElement(R8, Lg({
    attr: jg({}, a.attr)
  }, e), qS(a.child));
}
function R8(a) {
  var e = (n) => {
    var {
      attr: r,
      size: o,
      title: l
    } = a, h = S8(a, M8), d = o || n.size || "1em", p;
    return n.className && (p = n.className), a.className && (p = (p ? p + " " : "") + a.className), /* @__PURE__ */ re.createElement("svg", Lg({
      stroke: "currentColor",
      fill: "currentColor",
      strokeWidth: "0"
    }, n.attr, r, h, {
      className: p,
      style: jg(jg({
        color: a.color || n.color
      }, n.style), a.style),
      height: d,
      width: d,
      xmlns: "http://www.w3.org/2000/svg"
    }), l && /* @__PURE__ */ re.createElement("title", null, l), a.children);
  };
  return oT !== void 0 ? /* @__PURE__ */ re.createElement(oT.Consumer, null, (n) => e(n)) : e($S);
}
function B8(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0z" }, child: [] }, { tag: "path", attr: { d: "M7.52 21.48A10.487 10.487 0 0 1 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08a1.07 1.07 0 0 1-.4-.24c-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56a1.67 1.67 0 0 0-.23-.51c-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31a2.098 2.098 0 0 0 .89-.75c.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96a1.78 1.78 0 0 0-.51-.69c-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49a.87.87 0 0 1-.25.37c-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z" }, child: [] }] })(a);
}
function O8(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0V0z" }, child: [] }, { tag: "path", attr: { d: "M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z" }, child: [] }] })(a);
}
function YS(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0V0z" }, child: [] }, { tag: "path", attr: { d: "M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z" }, child: [] }] })(a);
}
function L8(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0V0z" }, child: [] }, { tag: "path", attr: { d: "M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" }, child: [] }] })(a);
}
function j8(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 24 24" }, child: [{ tag: "path", attr: { fill: "none", d: "M0 0h24v24H0V0z" }, child: [] }, { tag: "path", attr: { d: "m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z" }, child: [] }] })(a);
}
const c2 = "-";
function D8(a) {
  const e = k8(a), {
    conflictingClassGroups: n,
    conflictingClassGroupModifiers: r
  } = a;
  function o(h) {
    const d = h.split(c2);
    return d[0] === "" && d.length !== 1 && d.shift(), KS(d, e) || F8(h);
  }
  function l(h, d) {
    const p = n[h] || [];
    return d && r[h] ? [...p, ...r[h]] : p;
  }
  return {
    getClassGroupId: o,
    getConflictingClassGroupIds: l
  };
}
function KS(a, e) {
  var h;
  if (a.length === 0)
    return e.classGroupId;
  const n = a[0], r = e.nextPart.get(n), o = r ? KS(a.slice(1), r) : void 0;
  if (o)
    return o;
  if (e.validators.length === 0)
    return;
  const l = a.join(c2);
  return (h = e.validators.find(({
    validator: d
  }) => d(l))) == null ? void 0 : h.classGroupId;
}
const sT = /^\[(.+)\]$/;
function F8(a) {
  if (sT.test(a)) {
    const e = sT.exec(a)[1], n = e == null ? void 0 : e.substring(0, e.indexOf(":"));
    if (n)
      return "arbitrary.." + n;
  }
}
function k8(a) {
  const {
    theme: e,
    prefix: n
  } = a, r = {
    nextPart: /* @__PURE__ */ new Map(),
    validators: []
  };
  return z8(Object.entries(a.classGroups), n).forEach(([l, h]) => {
    Cx(h, r, l, e);
  }), r;
}
function Cx(a, e, n, r) {
  a.forEach((o) => {
    if (typeof o == "string") {
      const l = o === "" ? e : lT(e, o);
      l.classGroupId = n;
      return;
    }
    if (typeof o == "function") {
      if (X8(o)) {
        Cx(o(r), e, n, r);
        return;
      }
      e.validators.push({
        validator: o,
        classGroupId: n
      });
      return;
    }
    Object.entries(o).forEach(([l, h]) => {
      Cx(h, lT(e, l), n, r);
    });
  });
}
function lT(a, e) {
  let n = a;
  return e.split(c2).forEach((r) => {
    n.nextPart.has(r) || n.nextPart.set(r, {
      nextPart: /* @__PURE__ */ new Map(),
      validators: []
    }), n = n.nextPart.get(r);
  }), n;
}
function X8(a) {
  return a.isThemeGetter;
}
function z8(a, e) {
  return e ? a.map(([n, r]) => {
    const o = r.map((l) => typeof l == "string" ? e + l : typeof l == "object" ? Object.fromEntries(Object.entries(l).map(([h, d]) => [e + h, d])) : l);
    return [n, o];
  }) : a;
}
function U8(a) {
  if (a < 1)
    return {
      get: () => {
      },
      set: () => {
      }
    };
  let e = 0, n = /* @__PURE__ */ new Map(), r = /* @__PURE__ */ new Map();
  function o(l, h) {
    n.set(l, h), e++, e > a && (e = 0, r = n, n = /* @__PURE__ */ new Map());
  }
  return {
    get(l) {
      let h = n.get(l);
      if (h !== void 0)
        return h;
      if ((h = r.get(l)) !== void 0)
        return o(l, h), h;
    },
    set(l, h) {
      n.has(l) ? n.set(l, h) : o(l, h);
    }
  };
}
const ZS = "!";
function G8(a) {
  const e = a.separator, n = e.length === 1, r = e[0], o = e.length;
  return function(h) {
    const d = [];
    let p = 0, g = 0, v;
    for (let M = 0; M < h.length; M++) {
      let S = h[M];
      if (p === 0) {
        if (S === r && (n || h.slice(M, M + o) === e)) {
          d.push(h.slice(g, M)), g = M + o;
          continue;
        }
        if (S === "/") {
          v = M;
          continue;
        }
      }
      S === "[" ? p++ : S === "]" && p--;
    }
    const y = d.length === 0 ? h : h.substring(g), x = y.startsWith(ZS), w = x ? y.substring(1) : y, T = v && v > g ? v - g : void 0;
    return {
      modifiers: d,
      hasImportantModifier: x,
      baseClassName: w,
      maybePostfixModifierPosition: T
    };
  };
}
function W8(a) {
  if (a.length <= 1)
    return a;
  const e = [];
  let n = [];
  return a.forEach((r) => {
    r[0] === "[" ? (e.push(...n.sort(), r), n = []) : n.push(r);
  }), e.push(...n.sort()), e;
}
function V8(a) {
  return {
    cache: U8(a.cacheSize),
    splitModifiers: G8(a),
    ...D8(a)
  };
}
const H8 = /\s+/;
function $8(a, e) {
  const {
    splitModifiers: n,
    getClassGroupId: r,
    getConflictingClassGroupIds: o
  } = e, l = /* @__PURE__ */ new Set();
  return a.trim().split(H8).map((h) => {
    const {
      modifiers: d,
      hasImportantModifier: p,
      baseClassName: g,
      maybePostfixModifierPosition: v
    } = n(h);
    let y = r(v ? g.substring(0, v) : g), x = !!v;
    if (!y) {
      if (!v)
        return {
          isTailwindClass: !1,
          originalClassName: h
        };
      if (y = r(g), !y)
        return {
          isTailwindClass: !1,
          originalClassName: h
        };
      x = !1;
    }
    const w = W8(d).join(":");
    return {
      isTailwindClass: !0,
      modifierId: p ? w + ZS : w,
      classGroupId: y,
      originalClassName: h,
      hasPostfixModifier: x
    };
  }).reverse().filter((h) => {
    if (!h.isTailwindClass)
      return !0;
    const {
      modifierId: d,
      classGroupId: p,
      hasPostfixModifier: g
    } = h, v = d + p;
    return l.has(v) ? !1 : (l.add(v), o(p, g).forEach((y) => l.add(d + y)), !0);
  }).reverse().map((h) => h.originalClassName).join(" ");
}
function q8() {
  let a = 0, e, n, r = "";
  for (; a < arguments.length; )
    (e = arguments[a++]) && (n = JS(e)) && (r && (r += " "), r += n);
  return r;
}
function JS(a) {
  if (typeof a == "string")
    return a;
  let e, n = "";
  for (let r = 0; r < a.length; r++)
    a[r] && (e = JS(a[r])) && (n && (n += " "), n += e);
  return n;
}
function Y8(a, ...e) {
  let n, r, o, l = h;
  function h(p) {
    const g = e.reduce((v, y) => y(v), a());
    return n = V8(g), r = n.cache.get, o = n.cache.set, l = d, d(p);
  }
  function d(p) {
    const g = r(p);
    if (g)
      return g;
    const v = $8(p, n);
    return o(p, v), v;
  }
  return function() {
    return l(q8.apply(null, arguments));
  };
}
function rr(a) {
  const e = (n) => n[a] || [];
  return e.isThemeGetter = !0, e;
}
const QS = /^\[(?:([a-z-]+):)?(.+)\]$/i, K8 = /^\d+\/\d+$/, Z8 = /* @__PURE__ */ new Set(["px", "full", "screen"]), J8 = /^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/, Q8 = /\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/, eB = /^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/, tB = /^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/, nB = /^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;
function qa(a) {
  return Fc(a) || Z8.has(a) || K8.test(a);
}
function nl(a) {
  return Wu(a, "length", hB);
}
function Fc(a) {
  return !!a && !Number.isNaN(Number(a));
}
function A1(a) {
  return Wu(a, "number", Fc);
}
function Pm(a) {
  return !!a && Number.isInteger(Number(a));
}
function rB(a) {
  return a.endsWith("%") && Fc(a.slice(0, -1));
}
function hn(a) {
  return QS.test(a);
}
function rl(a) {
  return J8.test(a);
}
const iB = /* @__PURE__ */ new Set(["length", "size", "percentage"]);
function oB(a) {
  return Wu(a, iB, eI);
}
function aB(a) {
  return Wu(a, "position", eI);
}
const sB = /* @__PURE__ */ new Set(["image", "url"]);
function lB(a) {
  return Wu(a, sB, dB);
}
function cB(a) {
  return Wu(a, "", uB);
}
function Rm() {
  return !0;
}
function Wu(a, e, n) {
  const r = QS.exec(a);
  return r ? r[1] ? typeof e == "string" ? r[1] === e : e.has(r[1]) : n(r[2]) : !1;
}
function hB(a) {
  return Q8.test(a) && !eB.test(a);
}
function eI() {
  return !1;
}
function uB(a) {
  return tB.test(a);
}
function dB(a) {
  return nB.test(a);
}
function mB() {
  const a = rr("colors"), e = rr("spacing"), n = rr("blur"), r = rr("brightness"), o = rr("borderColor"), l = rr("borderRadius"), h = rr("borderSpacing"), d = rr("borderWidth"), p = rr("contrast"), g = rr("grayscale"), v = rr("hueRotate"), y = rr("invert"), x = rr("gap"), w = rr("gradientColorStops"), T = rr("gradientColorStopPositions"), M = rr("inset"), S = rr("margin"), L = rr("opacity"), F = rr("padding"), G = rr("saturate"), $ = rr("scale"), K = rr("sepia"), q = rr("skew"), he = rr("space"), ae = rr("translate"), ve = () => ["auto", "contain", "none"], ne = () => ["auto", "hidden", "clip", "visible", "scroll"], se = () => ["auto", hn, e], oe = () => [hn, e], J = () => ["", qa, nl], pe = () => ["auto", Fc, hn], be = () => ["bottom", "center", "left", "left-bottom", "left-top", "right", "right-bottom", "right-top", "top"], fe = () => ["solid", "dashed", "dotted", "double", "none"], de = () => ["normal", "multiply", "screen", "overlay", "darken", "lighten", "color-dodge", "color-burn", "hard-light", "soft-light", "difference", "exclusion", "hue", "saturation", "color", "luminosity"], Fe = () => ["start", "end", "center", "between", "around", "evenly", "stretch"], Be = () => ["", "0", hn], _e = () => ["auto", "avoid", "all", "avoid-page", "page", "left", "right", "column"], Xe = () => [Fc, A1], De = () => [Fc, hn];
  return {
    cacheSize: 500,
    separator: ":",
    theme: {
      colors: [Rm],
      spacing: [qa, nl],
      blur: ["none", "", rl, hn],
      brightness: Xe(),
      borderColor: [a],
      borderRadius: ["none", "", "full", rl, hn],
      borderSpacing: oe(),
      borderWidth: J(),
      contrast: Xe(),
      grayscale: Be(),
      hueRotate: De(),
      invert: Be(),
      gap: oe(),
      gradientColorStops: [a],
      gradientColorStopPositions: [rB, nl],
      inset: se(),
      margin: se(),
      opacity: Xe(),
      padding: oe(),
      saturate: Xe(),
      scale: Xe(),
      sepia: Be(),
      skew: De(),
      space: oe(),
      translate: oe()
    },
    classGroups: {
      // Layout
      /**
       * Aspect Ratio
       * @see https://tailwindcss.com/docs/aspect-ratio
       */
      aspect: [{
        aspect: ["auto", "square", "video", hn]
      }],
      /**
       * Container
       * @see https://tailwindcss.com/docs/container
       */
      container: ["container"],
      /**
       * Columns
       * @see https://tailwindcss.com/docs/columns
       */
      columns: [{
        columns: [rl]
      }],
      /**
       * Break After
       * @see https://tailwindcss.com/docs/break-after
       */
      "break-after": [{
        "break-after": _e()
      }],
      /**
       * Break Before
       * @see https://tailwindcss.com/docs/break-before
       */
      "break-before": [{
        "break-before": _e()
      }],
      /**
       * Break Inside
       * @see https://tailwindcss.com/docs/break-inside
       */
      "break-inside": [{
        "break-inside": ["auto", "avoid", "avoid-page", "avoid-column"]
      }],
      /**
       * Box Decoration Break
       * @see https://tailwindcss.com/docs/box-decoration-break
       */
      "box-decoration": [{
        "box-decoration": ["slice", "clone"]
      }],
      /**
       * Box Sizing
       * @see https://tailwindcss.com/docs/box-sizing
       */
      box: [{
        box: ["border", "content"]
      }],
      /**
       * Display
       * @see https://tailwindcss.com/docs/display
       */
      display: ["block", "inline-block", "inline", "flex", "inline-flex", "table", "inline-table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row-group", "table-row", "flow-root", "grid", "inline-grid", "contents", "list-item", "hidden"],
      /**
       * Floats
       * @see https://tailwindcss.com/docs/float
       */
      float: [{
        float: ["right", "left", "none", "start", "end"]
      }],
      /**
       * Clear
       * @see https://tailwindcss.com/docs/clear
       */
      clear: [{
        clear: ["left", "right", "both", "none", "start", "end"]
      }],
      /**
       * Isolation
       * @see https://tailwindcss.com/docs/isolation
       */
      isolation: ["isolate", "isolation-auto"],
      /**
       * Object Fit
       * @see https://tailwindcss.com/docs/object-fit
       */
      "object-fit": [{
        object: ["contain", "cover", "fill", "none", "scale-down"]
      }],
      /**
       * Object Position
       * @see https://tailwindcss.com/docs/object-position
       */
      "object-position": [{
        object: [...be(), hn]
      }],
      /**
       * Overflow
       * @see https://tailwindcss.com/docs/overflow
       */
      overflow: [{
        overflow: ne()
      }],
      /**
       * Overflow X
       * @see https://tailwindcss.com/docs/overflow
       */
      "overflow-x": [{
        "overflow-x": ne()
      }],
      /**
       * Overflow Y
       * @see https://tailwindcss.com/docs/overflow
       */
      "overflow-y": [{
        "overflow-y": ne()
      }],
      /**
       * Overscroll Behavior
       * @see https://tailwindcss.com/docs/overscroll-behavior
       */
      overscroll: [{
        overscroll: ve()
      }],
      /**
       * Overscroll Behavior X
       * @see https://tailwindcss.com/docs/overscroll-behavior
       */
      "overscroll-x": [{
        "overscroll-x": ve()
      }],
      /**
       * Overscroll Behavior Y
       * @see https://tailwindcss.com/docs/overscroll-behavior
       */
      "overscroll-y": [{
        "overscroll-y": ve()
      }],
      /**
       * Position
       * @see https://tailwindcss.com/docs/position
       */
      position: ["static", "fixed", "absolute", "relative", "sticky"],
      /**
       * Top / Right / Bottom / Left
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      inset: [{
        inset: [M]
      }],
      /**
       * Right / Left
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      "inset-x": [{
        "inset-x": [M]
      }],
      /**
       * Top / Bottom
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      "inset-y": [{
        "inset-y": [M]
      }],
      /**
       * Start
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      start: [{
        start: [M]
      }],
      /**
       * End
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      end: [{
        end: [M]
      }],
      /**
       * Top
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      top: [{
        top: [M]
      }],
      /**
       * Right
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      right: [{
        right: [M]
      }],
      /**
       * Bottom
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      bottom: [{
        bottom: [M]
      }],
      /**
       * Left
       * @see https://tailwindcss.com/docs/top-right-bottom-left
       */
      left: [{
        left: [M]
      }],
      /**
       * Visibility
       * @see https://tailwindcss.com/docs/visibility
       */
      visibility: ["visible", "invisible", "collapse"],
      /**
       * Z-Index
       * @see https://tailwindcss.com/docs/z-index
       */
      z: [{
        z: ["auto", Pm, hn]
      }],
      // Flexbox and Grid
      /**
       * Flex Basis
       * @see https://tailwindcss.com/docs/flex-basis
       */
      basis: [{
        basis: se()
      }],
      /**
       * Flex Direction
       * @see https://tailwindcss.com/docs/flex-direction
       */
      "flex-direction": [{
        flex: ["row", "row-reverse", "col", "col-reverse"]
      }],
      /**
       * Flex Wrap
       * @see https://tailwindcss.com/docs/flex-wrap
       */
      "flex-wrap": [{
        flex: ["wrap", "wrap-reverse", "nowrap"]
      }],
      /**
       * Flex
       * @see https://tailwindcss.com/docs/flex
       */
      flex: [{
        flex: ["1", "auto", "initial", "none", hn]
      }],
      /**
       * Flex Grow
       * @see https://tailwindcss.com/docs/flex-grow
       */
      grow: [{
        grow: Be()
      }],
      /**
       * Flex Shrink
       * @see https://tailwindcss.com/docs/flex-shrink
       */
      shrink: [{
        shrink: Be()
      }],
      /**
       * Order
       * @see https://tailwindcss.com/docs/order
       */
      order: [{
        order: ["first", "last", "none", Pm, hn]
      }],
      /**
       * Grid Template Columns
       * @see https://tailwindcss.com/docs/grid-template-columns
       */
      "grid-cols": [{
        "grid-cols": [Rm]
      }],
      /**
       * Grid Column Start / End
       * @see https://tailwindcss.com/docs/grid-column
       */
      "col-start-end": [{
        col: ["auto", {
          span: ["full", Pm, hn]
        }, hn]
      }],
      /**
       * Grid Column Start
       * @see https://tailwindcss.com/docs/grid-column
       */
      "col-start": [{
        "col-start": pe()
      }],
      /**
       * Grid Column End
       * @see https://tailwindcss.com/docs/grid-column
       */
      "col-end": [{
        "col-end": pe()
      }],
      /**
       * Grid Template Rows
       * @see https://tailwindcss.com/docs/grid-template-rows
       */
      "grid-rows": [{
        "grid-rows": [Rm]
      }],
      /**
       * Grid Row Start / End
       * @see https://tailwindcss.com/docs/grid-row
       */
      "row-start-end": [{
        row: ["auto", {
          span: [Pm, hn]
        }, hn]
      }],
      /**
       * Grid Row Start
       * @see https://tailwindcss.com/docs/grid-row
       */
      "row-start": [{
        "row-start": pe()
      }],
      /**
       * Grid Row End
       * @see https://tailwindcss.com/docs/grid-row
       */
      "row-end": [{
        "row-end": pe()
      }],
      /**
       * Grid Auto Flow
       * @see https://tailwindcss.com/docs/grid-auto-flow
       */
      "grid-flow": [{
        "grid-flow": ["row", "col", "dense", "row-dense", "col-dense"]
      }],
      /**
       * Grid Auto Columns
       * @see https://tailwindcss.com/docs/grid-auto-columns
       */
      "auto-cols": [{
        "auto-cols": ["auto", "min", "max", "fr", hn]
      }],
      /**
       * Grid Auto Rows
       * @see https://tailwindcss.com/docs/grid-auto-rows
       */
      "auto-rows": [{
        "auto-rows": ["auto", "min", "max", "fr", hn]
      }],
      /**
       * Gap
       * @see https://tailwindcss.com/docs/gap
       */
      gap: [{
        gap: [x]
      }],
      /**
       * Gap X
       * @see https://tailwindcss.com/docs/gap
       */
      "gap-x": [{
        "gap-x": [x]
      }],
      /**
       * Gap Y
       * @see https://tailwindcss.com/docs/gap
       */
      "gap-y": [{
        "gap-y": [x]
      }],
      /**
       * Justify Content
       * @see https://tailwindcss.com/docs/justify-content
       */
      "justify-content": [{
        justify: ["normal", ...Fe()]
      }],
      /**
       * Justify Items
       * @see https://tailwindcss.com/docs/justify-items
       */
      "justify-items": [{
        "justify-items": ["start", "end", "center", "stretch"]
      }],
      /**
       * Justify Self
       * @see https://tailwindcss.com/docs/justify-self
       */
      "justify-self": [{
        "justify-self": ["auto", "start", "end", "center", "stretch"]
      }],
      /**
       * Align Content
       * @see https://tailwindcss.com/docs/align-content
       */
      "align-content": [{
        content: ["normal", ...Fe(), "baseline"]
      }],
      /**
       * Align Items
       * @see https://tailwindcss.com/docs/align-items
       */
      "align-items": [{
        items: ["start", "end", "center", "baseline", "stretch"]
      }],
      /**
       * Align Self
       * @see https://tailwindcss.com/docs/align-self
       */
      "align-self": [{
        self: ["auto", "start", "end", "center", "stretch", "baseline"]
      }],
      /**
       * Place Content
       * @see https://tailwindcss.com/docs/place-content
       */
      "place-content": [{
        "place-content": [...Fe(), "baseline"]
      }],
      /**
       * Place Items
       * @see https://tailwindcss.com/docs/place-items
       */
      "place-items": [{
        "place-items": ["start", "end", "center", "baseline", "stretch"]
      }],
      /**
       * Place Self
       * @see https://tailwindcss.com/docs/place-self
       */
      "place-self": [{
        "place-self": ["auto", "start", "end", "center", "stretch"]
      }],
      // Spacing
      /**
       * Padding
       * @see https://tailwindcss.com/docs/padding
       */
      p: [{
        p: [F]
      }],
      /**
       * Padding X
       * @see https://tailwindcss.com/docs/padding
       */
      px: [{
        px: [F]
      }],
      /**
       * Padding Y
       * @see https://tailwindcss.com/docs/padding
       */
      py: [{
        py: [F]
      }],
      /**
       * Padding Start
       * @see https://tailwindcss.com/docs/padding
       */
      ps: [{
        ps: [F]
      }],
      /**
       * Padding End
       * @see https://tailwindcss.com/docs/padding
       */
      pe: [{
        pe: [F]
      }],
      /**
       * Padding Top
       * @see https://tailwindcss.com/docs/padding
       */
      pt: [{
        pt: [F]
      }],
      /**
       * Padding Right
       * @see https://tailwindcss.com/docs/padding
       */
      pr: [{
        pr: [F]
      }],
      /**
       * Padding Bottom
       * @see https://tailwindcss.com/docs/padding
       */
      pb: [{
        pb: [F]
      }],
      /**
       * Padding Left
       * @see https://tailwindcss.com/docs/padding
       */
      pl: [{
        pl: [F]
      }],
      /**
       * Margin
       * @see https://tailwindcss.com/docs/margin
       */
      m: [{
        m: [S]
      }],
      /**
       * Margin X
       * @see https://tailwindcss.com/docs/margin
       */
      mx: [{
        mx: [S]
      }],
      /**
       * Margin Y
       * @see https://tailwindcss.com/docs/margin
       */
      my: [{
        my: [S]
      }],
      /**
       * Margin Start
       * @see https://tailwindcss.com/docs/margin
       */
      ms: [{
        ms: [S]
      }],
      /**
       * Margin End
       * @see https://tailwindcss.com/docs/margin
       */
      me: [{
        me: [S]
      }],
      /**
       * Margin Top
       * @see https://tailwindcss.com/docs/margin
       */
      mt: [{
        mt: [S]
      }],
      /**
       * Margin Right
       * @see https://tailwindcss.com/docs/margin
       */
      mr: [{
        mr: [S]
      }],
      /**
       * Margin Bottom
       * @see https://tailwindcss.com/docs/margin
       */
      mb: [{
        mb: [S]
      }],
      /**
       * Margin Left
       * @see https://tailwindcss.com/docs/margin
       */
      ml: [{
        ml: [S]
      }],
      /**
       * Space Between X
       * @see https://tailwindcss.com/docs/space
       */
      "space-x": [{
        "space-x": [he]
      }],
      /**
       * Space Between X Reverse
       * @see https://tailwindcss.com/docs/space
       */
      "space-x-reverse": ["space-x-reverse"],
      /**
       * Space Between Y
       * @see https://tailwindcss.com/docs/space
       */
      "space-y": [{
        "space-y": [he]
      }],
      /**
       * Space Between Y Reverse
       * @see https://tailwindcss.com/docs/space
       */
      "space-y-reverse": ["space-y-reverse"],
      // Sizing
      /**
       * Width
       * @see https://tailwindcss.com/docs/width
       */
      w: [{
        w: ["auto", "min", "max", "fit", "svw", "lvw", "dvw", hn, e]
      }],
      /**
       * Min-Width
       * @see https://tailwindcss.com/docs/min-width
       */
      "min-w": [{
        "min-w": [hn, e, "min", "max", "fit"]
      }],
      /**
       * Max-Width
       * @see https://tailwindcss.com/docs/max-width
       */
      "max-w": [{
        "max-w": [hn, e, "none", "full", "min", "max", "fit", "prose", {
          screen: [rl]
        }, rl]
      }],
      /**
       * Height
       * @see https://tailwindcss.com/docs/height
       */
      h: [{
        h: [hn, e, "auto", "min", "max", "fit", "svh", "lvh", "dvh"]
      }],
      /**
       * Min-Height
       * @see https://tailwindcss.com/docs/min-height
       */
      "min-h": [{
        "min-h": [hn, e, "min", "max", "fit", "svh", "lvh", "dvh"]
      }],
      /**
       * Max-Height
       * @see https://tailwindcss.com/docs/max-height
       */
      "max-h": [{
        "max-h": [hn, e, "min", "max", "fit", "svh", "lvh", "dvh"]
      }],
      /**
       * Size
       * @see https://tailwindcss.com/docs/size
       */
      size: [{
        size: [hn, e, "auto", "min", "max", "fit"]
      }],
      // Typography
      /**
       * Font Size
       * @see https://tailwindcss.com/docs/font-size
       */
      "font-size": [{
        text: ["base", rl, nl]
      }],
      /**
       * Font Smoothing
       * @see https://tailwindcss.com/docs/font-smoothing
       */
      "font-smoothing": ["antialiased", "subpixel-antialiased"],
      /**
       * Font Style
       * @see https://tailwindcss.com/docs/font-style
       */
      "font-style": ["italic", "not-italic"],
      /**
       * Font Weight
       * @see https://tailwindcss.com/docs/font-weight
       */
      "font-weight": [{
        font: ["thin", "extralight", "light", "normal", "medium", "semibold", "bold", "extrabold", "black", A1]
      }],
      /**
       * Font Family
       * @see https://tailwindcss.com/docs/font-family
       */
      "font-family": [{
        font: [Rm]
      }],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-normal": ["normal-nums"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-ordinal": ["ordinal"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-slashed-zero": ["slashed-zero"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-figure": ["lining-nums", "oldstyle-nums"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-spacing": ["proportional-nums", "tabular-nums"],
      /**
       * Font Variant Numeric
       * @see https://tailwindcss.com/docs/font-variant-numeric
       */
      "fvn-fraction": ["diagonal-fractions", "stacked-fractons"],
      /**
       * Letter Spacing
       * @see https://tailwindcss.com/docs/letter-spacing
       */
      tracking: [{
        tracking: ["tighter", "tight", "normal", "wide", "wider", "widest", hn]
      }],
      /**
       * Line Clamp
       * @see https://tailwindcss.com/docs/line-clamp
       */
      "line-clamp": [{
        "line-clamp": ["none", Fc, A1]
      }],
      /**
       * Line Height
       * @see https://tailwindcss.com/docs/line-height
       */
      leading: [{
        leading: ["none", "tight", "snug", "normal", "relaxed", "loose", qa, hn]
      }],
      /**
       * List Style Image
       * @see https://tailwindcss.com/docs/list-style-image
       */
      "list-image": [{
        "list-image": ["none", hn]
      }],
      /**
       * List Style Type
       * @see https://tailwindcss.com/docs/list-style-type
       */
      "list-style-type": [{
        list: ["none", "disc", "decimal", hn]
      }],
      /**
       * List Style Position
       * @see https://tailwindcss.com/docs/list-style-position
       */
      "list-style-position": [{
        list: ["inside", "outside"]
      }],
      /**
       * Placeholder Color
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/placeholder-color
       */
      "placeholder-color": [{
        placeholder: [a]
      }],
      /**
       * Placeholder Opacity
       * @see https://tailwindcss.com/docs/placeholder-opacity
       */
      "placeholder-opacity": [{
        "placeholder-opacity": [L]
      }],
      /**
       * Text Alignment
       * @see https://tailwindcss.com/docs/text-align
       */
      "text-alignment": [{
        text: ["left", "center", "right", "justify", "start", "end"]
      }],
      /**
       * Text Color
       * @see https://tailwindcss.com/docs/text-color
       */
      "text-color": [{
        text: [a]
      }],
      /**
       * Text Opacity
       * @see https://tailwindcss.com/docs/text-opacity
       */
      "text-opacity": [{
        "text-opacity": [L]
      }],
      /**
       * Text Decoration
       * @see https://tailwindcss.com/docs/text-decoration
       */
      "text-decoration": ["underline", "overline", "line-through", "no-underline"],
      /**
       * Text Decoration Style
       * @see https://tailwindcss.com/docs/text-decoration-style
       */
      "text-decoration-style": [{
        decoration: [...fe(), "wavy"]
      }],
      /**
       * Text Decoration Thickness
       * @see https://tailwindcss.com/docs/text-decoration-thickness
       */
      "text-decoration-thickness": [{
        decoration: ["auto", "from-font", qa, nl]
      }],
      /**
       * Text Underline Offset
       * @see https://tailwindcss.com/docs/text-underline-offset
       */
      "underline-offset": [{
        "underline-offset": ["auto", qa, hn]
      }],
      /**
       * Text Decoration Color
       * @see https://tailwindcss.com/docs/text-decoration-color
       */
      "text-decoration-color": [{
        decoration: [a]
      }],
      /**
       * Text Transform
       * @see https://tailwindcss.com/docs/text-transform
       */
      "text-transform": ["uppercase", "lowercase", "capitalize", "normal-case"],
      /**
       * Text Overflow
       * @see https://tailwindcss.com/docs/text-overflow
       */
      "text-overflow": ["truncate", "text-ellipsis", "text-clip"],
      /**
       * Text Wrap
       * @see https://tailwindcss.com/docs/text-wrap
       */
      "text-wrap": [{
        text: ["wrap", "nowrap", "balance", "pretty"]
      }],
      /**
       * Text Indent
       * @see https://tailwindcss.com/docs/text-indent
       */
      indent: [{
        indent: oe()
      }],
      /**
       * Vertical Alignment
       * @see https://tailwindcss.com/docs/vertical-align
       */
      "vertical-align": [{
        align: ["baseline", "top", "middle", "bottom", "text-top", "text-bottom", "sub", "super", hn]
      }],
      /**
       * Whitespace
       * @see https://tailwindcss.com/docs/whitespace
       */
      whitespace: [{
        whitespace: ["normal", "nowrap", "pre", "pre-line", "pre-wrap", "break-spaces"]
      }],
      /**
       * Word Break
       * @see https://tailwindcss.com/docs/word-break
       */
      break: [{
        break: ["normal", "words", "all", "keep"]
      }],
      /**
       * Hyphens
       * @see https://tailwindcss.com/docs/hyphens
       */
      hyphens: [{
        hyphens: ["none", "manual", "auto"]
      }],
      /**
       * Content
       * @see https://tailwindcss.com/docs/content
       */
      content: [{
        content: ["none", hn]
      }],
      // Backgrounds
      /**
       * Background Attachment
       * @see https://tailwindcss.com/docs/background-attachment
       */
      "bg-attachment": [{
        bg: ["fixed", "local", "scroll"]
      }],
      /**
       * Background Clip
       * @see https://tailwindcss.com/docs/background-clip
       */
      "bg-clip": [{
        "bg-clip": ["border", "padding", "content", "text"]
      }],
      /**
       * Background Opacity
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/background-opacity
       */
      "bg-opacity": [{
        "bg-opacity": [L]
      }],
      /**
       * Background Origin
       * @see https://tailwindcss.com/docs/background-origin
       */
      "bg-origin": [{
        "bg-origin": ["border", "padding", "content"]
      }],
      /**
       * Background Position
       * @see https://tailwindcss.com/docs/background-position
       */
      "bg-position": [{
        bg: [...be(), aB]
      }],
      /**
       * Background Repeat
       * @see https://tailwindcss.com/docs/background-repeat
       */
      "bg-repeat": [{
        bg: ["no-repeat", {
          repeat: ["", "x", "y", "round", "space"]
        }]
      }],
      /**
       * Background Size
       * @see https://tailwindcss.com/docs/background-size
       */
      "bg-size": [{
        bg: ["auto", "cover", "contain", oB]
      }],
      /**
       * Background Image
       * @see https://tailwindcss.com/docs/background-image
       */
      "bg-image": [{
        bg: ["none", {
          "gradient-to": ["t", "tr", "r", "br", "b", "bl", "l", "tl"]
        }, lB]
      }],
      /**
       * Background Color
       * @see https://tailwindcss.com/docs/background-color
       */
      "bg-color": [{
        bg: [a]
      }],
      /**
       * Gradient Color Stops From Position
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-from-pos": [{
        from: [T]
      }],
      /**
       * Gradient Color Stops Via Position
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-via-pos": [{
        via: [T]
      }],
      /**
       * Gradient Color Stops To Position
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-to-pos": [{
        to: [T]
      }],
      /**
       * Gradient Color Stops From
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-from": [{
        from: [w]
      }],
      /**
       * Gradient Color Stops Via
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-via": [{
        via: [w]
      }],
      /**
       * Gradient Color Stops To
       * @see https://tailwindcss.com/docs/gradient-color-stops
       */
      "gradient-to": [{
        to: [w]
      }],
      // Borders
      /**
       * Border Radius
       * @see https://tailwindcss.com/docs/border-radius
       */
      rounded: [{
        rounded: [l]
      }],
      /**
       * Border Radius Start
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-s": [{
        "rounded-s": [l]
      }],
      /**
       * Border Radius End
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-e": [{
        "rounded-e": [l]
      }],
      /**
       * Border Radius Top
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-t": [{
        "rounded-t": [l]
      }],
      /**
       * Border Radius Right
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-r": [{
        "rounded-r": [l]
      }],
      /**
       * Border Radius Bottom
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-b": [{
        "rounded-b": [l]
      }],
      /**
       * Border Radius Left
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-l": [{
        "rounded-l": [l]
      }],
      /**
       * Border Radius Start Start
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-ss": [{
        "rounded-ss": [l]
      }],
      /**
       * Border Radius Start End
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-se": [{
        "rounded-se": [l]
      }],
      /**
       * Border Radius End End
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-ee": [{
        "rounded-ee": [l]
      }],
      /**
       * Border Radius End Start
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-es": [{
        "rounded-es": [l]
      }],
      /**
       * Border Radius Top Left
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-tl": [{
        "rounded-tl": [l]
      }],
      /**
       * Border Radius Top Right
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-tr": [{
        "rounded-tr": [l]
      }],
      /**
       * Border Radius Bottom Right
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-br": [{
        "rounded-br": [l]
      }],
      /**
       * Border Radius Bottom Left
       * @see https://tailwindcss.com/docs/border-radius
       */
      "rounded-bl": [{
        "rounded-bl": [l]
      }],
      /**
       * Border Width
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w": [{
        border: [d]
      }],
      /**
       * Border Width X
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-x": [{
        "border-x": [d]
      }],
      /**
       * Border Width Y
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-y": [{
        "border-y": [d]
      }],
      /**
       * Border Width Start
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-s": [{
        "border-s": [d]
      }],
      /**
       * Border Width End
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-e": [{
        "border-e": [d]
      }],
      /**
       * Border Width Top
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-t": [{
        "border-t": [d]
      }],
      /**
       * Border Width Right
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-r": [{
        "border-r": [d]
      }],
      /**
       * Border Width Bottom
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-b": [{
        "border-b": [d]
      }],
      /**
       * Border Width Left
       * @see https://tailwindcss.com/docs/border-width
       */
      "border-w-l": [{
        "border-l": [d]
      }],
      /**
       * Border Opacity
       * @see https://tailwindcss.com/docs/border-opacity
       */
      "border-opacity": [{
        "border-opacity": [L]
      }],
      /**
       * Border Style
       * @see https://tailwindcss.com/docs/border-style
       */
      "border-style": [{
        border: [...fe(), "hidden"]
      }],
      /**
       * Divide Width X
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-x": [{
        "divide-x": [d]
      }],
      /**
       * Divide Width X Reverse
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-x-reverse": ["divide-x-reverse"],
      /**
       * Divide Width Y
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-y": [{
        "divide-y": [d]
      }],
      /**
       * Divide Width Y Reverse
       * @see https://tailwindcss.com/docs/divide-width
       */
      "divide-y-reverse": ["divide-y-reverse"],
      /**
       * Divide Opacity
       * @see https://tailwindcss.com/docs/divide-opacity
       */
      "divide-opacity": [{
        "divide-opacity": [L]
      }],
      /**
       * Divide Style
       * @see https://tailwindcss.com/docs/divide-style
       */
      "divide-style": [{
        divide: fe()
      }],
      /**
       * Border Color
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color": [{
        border: [o]
      }],
      /**
       * Border Color X
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-x": [{
        "border-x": [o]
      }],
      /**
       * Border Color Y
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-y": [{
        "border-y": [o]
      }],
      /**
       * Border Color Top
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-t": [{
        "border-t": [o]
      }],
      /**
       * Border Color Right
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-r": [{
        "border-r": [o]
      }],
      /**
       * Border Color Bottom
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-b": [{
        "border-b": [o]
      }],
      /**
       * Border Color Left
       * @see https://tailwindcss.com/docs/border-color
       */
      "border-color-l": [{
        "border-l": [o]
      }],
      /**
       * Divide Color
       * @see https://tailwindcss.com/docs/divide-color
       */
      "divide-color": [{
        divide: [o]
      }],
      /**
       * Outline Style
       * @see https://tailwindcss.com/docs/outline-style
       */
      "outline-style": [{
        outline: ["", ...fe()]
      }],
      /**
       * Outline Offset
       * @see https://tailwindcss.com/docs/outline-offset
       */
      "outline-offset": [{
        "outline-offset": [qa, hn]
      }],
      /**
       * Outline Width
       * @see https://tailwindcss.com/docs/outline-width
       */
      "outline-w": [{
        outline: [qa, nl]
      }],
      /**
       * Outline Color
       * @see https://tailwindcss.com/docs/outline-color
       */
      "outline-color": [{
        outline: [a]
      }],
      /**
       * Ring Width
       * @see https://tailwindcss.com/docs/ring-width
       */
      "ring-w": [{
        ring: J()
      }],
      /**
       * Ring Width Inset
       * @see https://tailwindcss.com/docs/ring-width
       */
      "ring-w-inset": ["ring-inset"],
      /**
       * Ring Color
       * @see https://tailwindcss.com/docs/ring-color
       */
      "ring-color": [{
        ring: [a]
      }],
      /**
       * Ring Opacity
       * @see https://tailwindcss.com/docs/ring-opacity
       */
      "ring-opacity": [{
        "ring-opacity": [L]
      }],
      /**
       * Ring Offset Width
       * @see https://tailwindcss.com/docs/ring-offset-width
       */
      "ring-offset-w": [{
        "ring-offset": [qa, nl]
      }],
      /**
       * Ring Offset Color
       * @see https://tailwindcss.com/docs/ring-offset-color
       */
      "ring-offset-color": [{
        "ring-offset": [a]
      }],
      // Effects
      /**
       * Box Shadow
       * @see https://tailwindcss.com/docs/box-shadow
       */
      shadow: [{
        shadow: ["", "inner", "none", rl, cB]
      }],
      /**
       * Box Shadow Color
       * @see https://tailwindcss.com/docs/box-shadow-color
       */
      "shadow-color": [{
        shadow: [Rm]
      }],
      /**
       * Opacity
       * @see https://tailwindcss.com/docs/opacity
       */
      opacity: [{
        opacity: [L]
      }],
      /**
       * Mix Blend Mode
       * @see https://tailwindcss.com/docs/mix-blend-mode
       */
      "mix-blend": [{
        "mix-blend": [...de(), "plus-lighter", "plus-darker"]
      }],
      /**
       * Background Blend Mode
       * @see https://tailwindcss.com/docs/background-blend-mode
       */
      "bg-blend": [{
        "bg-blend": de()
      }],
      // Filters
      /**
       * Filter
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/filter
       */
      filter: [{
        filter: ["", "none"]
      }],
      /**
       * Blur
       * @see https://tailwindcss.com/docs/blur
       */
      blur: [{
        blur: [n]
      }],
      /**
       * Brightness
       * @see https://tailwindcss.com/docs/brightness
       */
      brightness: [{
        brightness: [r]
      }],
      /**
       * Contrast
       * @see https://tailwindcss.com/docs/contrast
       */
      contrast: [{
        contrast: [p]
      }],
      /**
       * Drop Shadow
       * @see https://tailwindcss.com/docs/drop-shadow
       */
      "drop-shadow": [{
        "drop-shadow": ["", "none", rl, hn]
      }],
      /**
       * Grayscale
       * @see https://tailwindcss.com/docs/grayscale
       */
      grayscale: [{
        grayscale: [g]
      }],
      /**
       * Hue Rotate
       * @see https://tailwindcss.com/docs/hue-rotate
       */
      "hue-rotate": [{
        "hue-rotate": [v]
      }],
      /**
       * Invert
       * @see https://tailwindcss.com/docs/invert
       */
      invert: [{
        invert: [y]
      }],
      /**
       * Saturate
       * @see https://tailwindcss.com/docs/saturate
       */
      saturate: [{
        saturate: [G]
      }],
      /**
       * Sepia
       * @see https://tailwindcss.com/docs/sepia
       */
      sepia: [{
        sepia: [K]
      }],
      /**
       * Backdrop Filter
       * @deprecated since Tailwind CSS v3.0.0
       * @see https://tailwindcss.com/docs/backdrop-filter
       */
      "backdrop-filter": [{
        "backdrop-filter": ["", "none"]
      }],
      /**
       * Backdrop Blur
       * @see https://tailwindcss.com/docs/backdrop-blur
       */
      "backdrop-blur": [{
        "backdrop-blur": [n]
      }],
      /**
       * Backdrop Brightness
       * @see https://tailwindcss.com/docs/backdrop-brightness
       */
      "backdrop-brightness": [{
        "backdrop-brightness": [r]
      }],
      /**
       * Backdrop Contrast
       * @see https://tailwindcss.com/docs/backdrop-contrast
       */
      "backdrop-contrast": [{
        "backdrop-contrast": [p]
      }],
      /**
       * Backdrop Grayscale
       * @see https://tailwindcss.com/docs/backdrop-grayscale
       */
      "backdrop-grayscale": [{
        "backdrop-grayscale": [g]
      }],
      /**
       * Backdrop Hue Rotate
       * @see https://tailwindcss.com/docs/backdrop-hue-rotate
       */
      "backdrop-hue-rotate": [{
        "backdrop-hue-rotate": [v]
      }],
      /**
       * Backdrop Invert
       * @see https://tailwindcss.com/docs/backdrop-invert
       */
      "backdrop-invert": [{
        "backdrop-invert": [y]
      }],
      /**
       * Backdrop Opacity
       * @see https://tailwindcss.com/docs/backdrop-opacity
       */
      "backdrop-opacity": [{
        "backdrop-opacity": [L]
      }],
      /**
       * Backdrop Saturate
       * @see https://tailwindcss.com/docs/backdrop-saturate
       */
      "backdrop-saturate": [{
        "backdrop-saturate": [G]
      }],
      /**
       * Backdrop Sepia
       * @see https://tailwindcss.com/docs/backdrop-sepia
       */
      "backdrop-sepia": [{
        "backdrop-sepia": [K]
      }],
      // Tables
      /**
       * Border Collapse
       * @see https://tailwindcss.com/docs/border-collapse
       */
      "border-collapse": [{
        border: ["collapse", "separate"]
      }],
      /**
       * Border Spacing
       * @see https://tailwindcss.com/docs/border-spacing
       */
      "border-spacing": [{
        "border-spacing": [h]
      }],
      /**
       * Border Spacing X
       * @see https://tailwindcss.com/docs/border-spacing
       */
      "border-spacing-x": [{
        "border-spacing-x": [h]
      }],
      /**
       * Border Spacing Y
       * @see https://tailwindcss.com/docs/border-spacing
       */
      "border-spacing-y": [{
        "border-spacing-y": [h]
      }],
      /**
       * Table Layout
       * @see https://tailwindcss.com/docs/table-layout
       */
      "table-layout": [{
        table: ["auto", "fixed"]
      }],
      /**
       * Caption Side
       * @see https://tailwindcss.com/docs/caption-side
       */
      caption: [{
        caption: ["top", "bottom"]
      }],
      // Transitions and Animation
      /**
       * Tranisition Property
       * @see https://tailwindcss.com/docs/transition-property
       */
      transition: [{
        transition: ["none", "all", "", "colors", "opacity", "shadow", "transform", hn]
      }],
      /**
       * Transition Duration
       * @see https://tailwindcss.com/docs/transition-duration
       */
      duration: [{
        duration: De()
      }],
      /**
       * Transition Timing Function
       * @see https://tailwindcss.com/docs/transition-timing-function
       */
      ease: [{
        ease: ["linear", "in", "out", "in-out", hn]
      }],
      /**
       * Transition Delay
       * @see https://tailwindcss.com/docs/transition-delay
       */
      delay: [{
        delay: De()
      }],
      /**
       * Animation
       * @see https://tailwindcss.com/docs/animation
       */
      animate: [{
        animate: ["none", "spin", "ping", "pulse", "bounce", hn]
      }],
      // Transforms
      /**
       * Transform
       * @see https://tailwindcss.com/docs/transform
       */
      transform: [{
        transform: ["", "gpu", "none"]
      }],
      /**
       * Scale
       * @see https://tailwindcss.com/docs/scale
       */
      scale: [{
        scale: [$]
      }],
      /**
       * Scale X
       * @see https://tailwindcss.com/docs/scale
       */
      "scale-x": [{
        "scale-x": [$]
      }],
      /**
       * Scale Y
       * @see https://tailwindcss.com/docs/scale
       */
      "scale-y": [{
        "scale-y": [$]
      }],
      /**
       * Rotate
       * @see https://tailwindcss.com/docs/rotate
       */
      rotate: [{
        rotate: [Pm, hn]
      }],
      /**
       * Translate X
       * @see https://tailwindcss.com/docs/translate
       */
      "translate-x": [{
        "translate-x": [ae]
      }],
      /**
       * Translate Y
       * @see https://tailwindcss.com/docs/translate
       */
      "translate-y": [{
        "translate-y": [ae]
      }],
      /**
       * Skew X
       * @see https://tailwindcss.com/docs/skew
       */
      "skew-x": [{
        "skew-x": [q]
      }],
      /**
       * Skew Y
       * @see https://tailwindcss.com/docs/skew
       */
      "skew-y": [{
        "skew-y": [q]
      }],
      /**
       * Transform Origin
       * @see https://tailwindcss.com/docs/transform-origin
       */
      "transform-origin": [{
        origin: ["center", "top", "top-right", "right", "bottom-right", "bottom", "bottom-left", "left", "top-left", hn]
      }],
      // Interactivity
      /**
       * Accent Color
       * @see https://tailwindcss.com/docs/accent-color
       */
      accent: [{
        accent: ["auto", a]
      }],
      /**
       * Appearance
       * @see https://tailwindcss.com/docs/appearance
       */
      appearance: [{
        appearance: ["none", "auto"]
      }],
      /**
       * Cursor
       * @see https://tailwindcss.com/docs/cursor
       */
      cursor: [{
        cursor: ["auto", "default", "pointer", "wait", "text", "move", "help", "not-allowed", "none", "context-menu", "progress", "cell", "crosshair", "vertical-text", "alias", "copy", "no-drop", "grab", "grabbing", "all-scroll", "col-resize", "row-resize", "n-resize", "e-resize", "s-resize", "w-resize", "ne-resize", "nw-resize", "se-resize", "sw-resize", "ew-resize", "ns-resize", "nesw-resize", "nwse-resize", "zoom-in", "zoom-out", hn]
      }],
      /**
       * Caret Color
       * @see https://tailwindcss.com/docs/just-in-time-mode#caret-color-utilities
       */
      "caret-color": [{
        caret: [a]
      }],
      /**
       * Pointer Events
       * @see https://tailwindcss.com/docs/pointer-events
       */
      "pointer-events": [{
        "pointer-events": ["none", "auto"]
      }],
      /**
       * Resize
       * @see https://tailwindcss.com/docs/resize
       */
      resize: [{
        resize: ["none", "y", "x", ""]
      }],
      /**
       * Scroll Behavior
       * @see https://tailwindcss.com/docs/scroll-behavior
       */
      "scroll-behavior": [{
        scroll: ["auto", "smooth"]
      }],
      /**
       * Scroll Margin
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-m": [{
        "scroll-m": oe()
      }],
      /**
       * Scroll Margin X
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mx": [{
        "scroll-mx": oe()
      }],
      /**
       * Scroll Margin Y
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-my": [{
        "scroll-my": oe()
      }],
      /**
       * Scroll Margin Start
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-ms": [{
        "scroll-ms": oe()
      }],
      /**
       * Scroll Margin End
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-me": [{
        "scroll-me": oe()
      }],
      /**
       * Scroll Margin Top
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mt": [{
        "scroll-mt": oe()
      }],
      /**
       * Scroll Margin Right
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mr": [{
        "scroll-mr": oe()
      }],
      /**
       * Scroll Margin Bottom
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-mb": [{
        "scroll-mb": oe()
      }],
      /**
       * Scroll Margin Left
       * @see https://tailwindcss.com/docs/scroll-margin
       */
      "scroll-ml": [{
        "scroll-ml": oe()
      }],
      /**
       * Scroll Padding
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-p": [{
        "scroll-p": oe()
      }],
      /**
       * Scroll Padding X
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-px": [{
        "scroll-px": oe()
      }],
      /**
       * Scroll Padding Y
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-py": [{
        "scroll-py": oe()
      }],
      /**
       * Scroll Padding Start
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-ps": [{
        "scroll-ps": oe()
      }],
      /**
       * Scroll Padding End
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pe": [{
        "scroll-pe": oe()
      }],
      /**
       * Scroll Padding Top
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pt": [{
        "scroll-pt": oe()
      }],
      /**
       * Scroll Padding Right
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pr": [{
        "scroll-pr": oe()
      }],
      /**
       * Scroll Padding Bottom
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pb": [{
        "scroll-pb": oe()
      }],
      /**
       * Scroll Padding Left
       * @see https://tailwindcss.com/docs/scroll-padding
       */
      "scroll-pl": [{
        "scroll-pl": oe()
      }],
      /**
       * Scroll Snap Align
       * @see https://tailwindcss.com/docs/scroll-snap-align
       */
      "snap-align": [{
        snap: ["start", "end", "center", "align-none"]
      }],
      /**
       * Scroll Snap Stop
       * @see https://tailwindcss.com/docs/scroll-snap-stop
       */
      "snap-stop": [{
        snap: ["normal", "always"]
      }],
      /**
       * Scroll Snap Type
       * @see https://tailwindcss.com/docs/scroll-snap-type
       */
      "snap-type": [{
        snap: ["none", "x", "y", "both"]
      }],
      /**
       * Scroll Snap Type Strictness
       * @see https://tailwindcss.com/docs/scroll-snap-type
       */
      "snap-strictness": [{
        snap: ["mandatory", "proximity"]
      }],
      /**
       * Touch Action
       * @see https://tailwindcss.com/docs/touch-action
       */
      touch: [{
        touch: ["auto", "none", "manipulation"]
      }],
      /**
       * Touch Action X
       * @see https://tailwindcss.com/docs/touch-action
       */
      "touch-x": [{
        "touch-pan": ["x", "left", "right"]
      }],
      /**
       * Touch Action Y
       * @see https://tailwindcss.com/docs/touch-action
       */
      "touch-y": [{
        "touch-pan": ["y", "up", "down"]
      }],
      /**
       * Touch Action Pinch Zoom
       * @see https://tailwindcss.com/docs/touch-action
       */
      "touch-pz": ["touch-pinch-zoom"],
      /**
       * User Select
       * @see https://tailwindcss.com/docs/user-select
       */
      select: [{
        select: ["none", "text", "all", "auto"]
      }],
      /**
       * Will Change
       * @see https://tailwindcss.com/docs/will-change
       */
      "will-change": [{
        "will-change": ["auto", "scroll", "contents", "transform", hn]
      }],
      // SVG
      /**
       * Fill
       * @see https://tailwindcss.com/docs/fill
       */
      fill: [{
        fill: [a, "none"]
      }],
      /**
       * Stroke Width
       * @see https://tailwindcss.com/docs/stroke-width
       */
      "stroke-w": [{
        stroke: [qa, nl, A1]
      }],
      /**
       * Stroke
       * @see https://tailwindcss.com/docs/stroke
       */
      stroke: [{
        stroke: [a, "none"]
      }],
      // Accessibility
      /**
       * Screen Readers
       * @see https://tailwindcss.com/docs/screen-readers
       */
      sr: ["sr-only", "not-sr-only"],
      /**
       * Forced Color Adjust
       * @see https://tailwindcss.com/docs/forced-color-adjust
       */
      "forced-color-adjust": [{
        "forced-color-adjust": ["auto", "none"]
      }]
    },
    conflictingClassGroups: {
      overflow: ["overflow-x", "overflow-y"],
      overscroll: ["overscroll-x", "overscroll-y"],
      inset: ["inset-x", "inset-y", "start", "end", "top", "right", "bottom", "left"],
      "inset-x": ["right", "left"],
      "inset-y": ["top", "bottom"],
      flex: ["basis", "grow", "shrink"],
      gap: ["gap-x", "gap-y"],
      p: ["px", "py", "ps", "pe", "pt", "pr", "pb", "pl"],
      px: ["pr", "pl"],
      py: ["pt", "pb"],
      m: ["mx", "my", "ms", "me", "mt", "mr", "mb", "ml"],
      mx: ["mr", "ml"],
      my: ["mt", "mb"],
      size: ["w", "h"],
      "font-size": ["leading"],
      "fvn-normal": ["fvn-ordinal", "fvn-slashed-zero", "fvn-figure", "fvn-spacing", "fvn-fraction"],
      "fvn-ordinal": ["fvn-normal"],
      "fvn-slashed-zero": ["fvn-normal"],
      "fvn-figure": ["fvn-normal"],
      "fvn-spacing": ["fvn-normal"],
      "fvn-fraction": ["fvn-normal"],
      "line-clamp": ["display", "overflow"],
      rounded: ["rounded-s", "rounded-e", "rounded-t", "rounded-r", "rounded-b", "rounded-l", "rounded-ss", "rounded-se", "rounded-ee", "rounded-es", "rounded-tl", "rounded-tr", "rounded-br", "rounded-bl"],
      "rounded-s": ["rounded-ss", "rounded-es"],
      "rounded-e": ["rounded-se", "rounded-ee"],
      "rounded-t": ["rounded-tl", "rounded-tr"],
      "rounded-r": ["rounded-tr", "rounded-br"],
      "rounded-b": ["rounded-br", "rounded-bl"],
      "rounded-l": ["rounded-tl", "rounded-bl"],
      "border-spacing": ["border-spacing-x", "border-spacing-y"],
      "border-w": ["border-w-s", "border-w-e", "border-w-t", "border-w-r", "border-w-b", "border-w-l"],
      "border-w-x": ["border-w-r", "border-w-l"],
      "border-w-y": ["border-w-t", "border-w-b"],
      "border-color": ["border-color-t", "border-color-r", "border-color-b", "border-color-l"],
      "border-color-x": ["border-color-r", "border-color-l"],
      "border-color-y": ["border-color-t", "border-color-b"],
      "scroll-m": ["scroll-mx", "scroll-my", "scroll-ms", "scroll-me", "scroll-mt", "scroll-mr", "scroll-mb", "scroll-ml"],
      "scroll-mx": ["scroll-mr", "scroll-ml"],
      "scroll-my": ["scroll-mt", "scroll-mb"],
      "scroll-p": ["scroll-px", "scroll-py", "scroll-ps", "scroll-pe", "scroll-pt", "scroll-pr", "scroll-pb", "scroll-pl"],
      "scroll-px": ["scroll-pr", "scroll-pl"],
      "scroll-py": ["scroll-pt", "scroll-pb"],
      touch: ["touch-x", "touch-y", "touch-pz"],
      "touch-x": ["touch"],
      "touch-y": ["touch"],
      "touch-pz": ["touch"]
    },
    conflictingClassGroupModifiers: {
      "font-size": ["leading"]
    }
  };
}
const ma = /* @__PURE__ */ Y8(mB);
function pB(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 256 256", fill: "currentColor" }, child: [{ tag: "path", attr: { d: "M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z" }, child: [] }] })(a);
}
const cT = Ke.memo(({ children: a, direction: e, mode: n }) => {
  const r = Ke.useMemo(() => {
    const o = e === "left" ? ["rounded-l border-l"] : ["rounded-r border-r"];
    return (e === "left" ? Gc["3D"] : Gc["2D"]) === n ? o.push("border-primary-400 border-x") : o.push("border-grey-600 text-grey-250 bg-grey-800"), o.join(" ");
  }, [n, e]);
  return /* @__PURE__ */ Oe.jsx(
    "div",
    {
      className: ma(
        "flex h-[30px] flex-row items-center border-y border-primary-400 bg-primary-900 px-1 pr-2 text-sm font-bold text-primary-400",
        r
      ),
      children: a
    }
  );
}), tI = Ke.memo(() => {
  const [a, e] = Ke.useContext(li), n = a[Ht.Display];
  return /* @__PURE__ */ Oe.jsxs("div", { className: "flex flex-row", children: [
    /* @__PURE__ */ Oe.jsx(si, { onClick: () => e({ type: Ht.Display, state: Gc["3D"] }), children: /* @__PURE__ */ Oe.jsxs(cT, { direction: "left", mode: n, children: [
      /* @__PURE__ */ Oe.jsx(pB, { className: "ml-1 h-7 w-7 md:mr-1" }),
      " ",
      /* @__PURE__ */ Oe.jsx("span", { className: "hidden sm:block", children: "3D" })
    ] }) }),
    /* @__PURE__ */ Oe.jsx(si, { onClick: () => e({ type: Ht.Display, state: Gc["2D"] }), children: /* @__PURE__ */ Oe.jsxs(cT, { direction: "right", mode: n, children: [
      /* @__PURE__ */ Oe.jsx(j8, { className: "ml-1 h-6 w-6" }),
      /* @__PURE__ */ Oe.jsx("span", { className: "hidden sm:block", children: "2D" })
    ] }) })
  ] });
});
function fB(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 512 512" }, child: [{ tag: "path", attr: { d: "M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z" }, child: [] }] })(a);
}
const gB = Ke.memo(({ className: a = "" }) => {
  const [e] = oo("exit", "Exit");
  return /* @__PURE__ */ Oe.jsxs(Oe.Fragment, { children: [
    /* @__PURE__ */ Oe.jsx(
      "div",
      {
        className: ma(
          "hidden h-10 min-w-20 items-center justify-center gap-x-1 rounded bg-primary-400 px-4 font-normal sm:flex",
          a
        ),
        children: e
      }
    ),
    /* @__PURE__ */ Oe.jsx("div", { className: "flex h-10 w-10 items-center justify-center sm:hidden", children: /* @__PURE__ */ Oe.jsx(fB, {}) })
  ] });
});
function bB(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 512 512" }, child: [{ tag: "path", attr: { d: "M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z" }, child: [] }] })(a);
}
const vB = Ke.memo(() => {
  const [a] = oo("screenshot", "Screenshot");
  return /* @__PURE__ */ Oe.jsxs("div", { className: "h-8.5 flex w-fit min-w-14 items-center justify-center gap-x-1 space-x-1 whitespace-nowrap rounded border border-grey-700 bg-transparent px-3 py-1 text-base font-normal text-primary-400 hover:border-grey-600 hover:text-primary-500 disabled:text-grey-600", children: [
    /* @__PURE__ */ Oe.jsx(bB, {}),
    /* @__PURE__ */ Oe.jsx("span", { children: a })
  ] });
}), yB = {
  base: "base",
  dispImgUrl: "displacement",
  roughImgUrl: "roughness",
  normalImgUrl: "normal",
  alpha: "alpha",
  bump: "bump",
  color: "color"
}, xB = Ke.memo(({ children: a, active: e }) => /* @__PURE__ */ Oe.jsx(
  "div",
  {
    className: ma(
      "box-border flex h-[2.125rem] w-fit cursor-pointer items-center whitespace-nowrap rounded-full border border-grey-600 bg-grey-700 px-5 py-2.5 text-sm font-bold text-grey-100 hover:border-grey-700 hover:bg-grey-800 hover:text-grey-0",
      e ? "!border-none !bg-primary-700 !text-primary-300" : ""
    ),
    children: yB[a] || a
  }
)), yp = ({ children: a, disabled: e = !1, className: n = "", onClick: r }) => /* @__PURE__ */ Oe.jsx(
  "button",
  {
    disabled: e,
    className: ma(
      n,
      e ? "pointer-events-none [&>div]:!text-grey-900" : "pointer-events-auto"
    ),
    onClick: r,
    children: a
  }
);
yp.Exit = gB;
yp.Toggle = tI;
yp.Screenshot = vB;
yp.Badge = xB;
const si = yp, CB = Ke.memo(({ state: a, onLeft: e, onRight: n }) => /* @__PURE__ */ Oe.jsxs("div", { className: "pointer-events-none absolute left-0 top-0 h-full w-full", children: [
  a.direction !== "start" && /* @__PURE__ */ Oe.jsx("div", { className: "absolute left-0 flex h-full w-10 items-center justify-start bg-gradient-to-l from-transparent to-grey-900", children: /* @__PURE__ */ Oe.jsx(si, { onClick: e, children: /* @__PURE__ */ Oe.jsx(YS, { className: "pointer-events-auto h-7 w-7 hover:text-primary-400" }) }) }),
  a.direction !== "end" && /* @__PURE__ */ Oe.jsx("div", { className: "absolute right-0 flex h-full w-10 items-center justify-center bg-gradient-to-r from-transparent to-grey-900", children: /* @__PURE__ */ Oe.jsx(si, { onClick: n, children: /* @__PURE__ */ Oe.jsx(L8, { className: "pointer-events-auto h-7 w-7 hover:text-primary-400" }) }) })
] })), _B = Ke.memo(({ data: a, selected: e, onClick: n }) => /* @__PURE__ */ Oe.jsx(si, { onClick: n, children: /* @__PURE__ */ Oe.jsx(
  "div",
  {
    className: ma(
      "h-11 w-11 rounded border bg-grey-900 p-1",
      e ? "border-primary-400" : "border-gray-700 hover:[&>img]:opacity-80"
    ),
    children: /* @__PURE__ */ Oe.jsx(
      "img",
      {
        draggable: "false",
        src: "/3d-viewer/" + a.cover,
        alt: a.label,
        className: "h-full w-full select-none object-contain"
      }
    )
  }
) })), wB = Ke.memo(() => {
  const [a, e] = Ke.useContext(li), n = a[Ht.ModelPicker] || 0, r = a[Ht.Display] || Gc["3D"], o = a[Ht.UserProps] || null, l = a[Ht.ImagePicker] || "base", h = Ke.useMemo(() => {
    if (o) {
      const y = {
        base: o.texture.base
      };
      return o.texture.alpha && (y.alpha = o.texture.alpha), o.texture.bump && (y.metal = o.texture.bump), o.texture.normalImgUrl && (y.normalImgUrl = o.texture.normalImgUrl), o.texture.dispImgUrl && (y.dispImgUrl = o.texture.dispImgUrl), o.texture.roughImgUrl && (y.roughImgUrl = o.texture.roughImgUrl), y;
    }
  }, [o, l]), d = Ke.useMemo(() => (o == null ? void 0 : o.model) || HS, [o == null ? void 0 : o.model]), p = Ke.useRef(null), [g, v] = Ke.useState({ active: !1, direction: "start" });
  return Ke.useEffect(() => {
    const y = p.current, x = () => {
      if (p.current) {
        const w = p.current.scrollWidth > p.current.clientWidth, T = p.current.scrollLeft === 0 ? "start" : p.current.scrollLeft === p.current.scrollWidth - p.current.clientWidth ? "end" : "unset";
        v((M) => ({ ...M, active: w, direction: T }));
      }
    };
    return x(), window.addEventListener("resize", x), y == null || y.addEventListener("scroll", x), () => {
      window.removeEventListener("resize", x), y == null || y.removeEventListener("scroll", x);
    };
  }, []), /* @__PURE__ */ Oe.jsxs("div", { className: "relative", children: [
    /* @__PURE__ */ Oe.jsx(
      "div",
      {
        ref: p,
        className: "no-scrollbar flex max-w-[calc(100vw-173px)] flex-row space-x-2 overflow-x-scroll",
        children: r === Gc["3D"] ? d.map((y, x) => /* @__PURE__ */ Oe.jsx(
          _B,
          {
            data: y,
            selected: x === n,
            onClick: () => e({ type: Ht.ModelPicker, state: x })
          },
          y.label + x
        )) : Object.entries(h || {}).map(([y]) => {
          const x = y, w = x === "metal" ? "bump" : x;
          return /* @__PURE__ */ Oe.jsx(
            si,
            {
              onClick: () => e({
                type: Ht.ImagePicker,
                state: w
              }),
              children: /* @__PURE__ */ Oe.jsx(si.Badge, { active: w === l, children: x })
            },
            y
          );
        })
      }
    ),
    g.active && /* @__PURE__ */ Oe.jsx(
      CB,
      {
        state: g,
        onLeft: () => {
          if (p.current) {
            const y = p.current.scrollLeft - 46;
            p.current.scrollTo({ left: y, behavior: "smooth" });
          }
        },
        onRight: () => {
          if (p.current) {
            const y = p.current.scrollLeft + 46;
            p.current.scrollTo({ left: y, behavior: "smooth" });
          }
        }
      }
    )
  ] });
}), TB = Ke.memo(() => {
  const [, a] = Ke.useContext(li), [e] = oo("3dViewer", "3D Viewer");
  return /* @__PURE__ */ Oe.jsxs("div", { className: "flex h-20 w-full items-center justify-between border-b border-grey-800 bg-grey-900 px-3 text-white md:px-10", children: [
    /* @__PURE__ */ Oe.jsxs("div", { className: "hidden flex-row flex-nowrap items-center whitespace-nowrap font-black md:flex", children: [
      /* @__PURE__ */ Oe.jsx(B8, { className: "mr-3 h-6 w-6" }),
      e
    ] }),
    /* @__PURE__ */ Oe.jsxs("div", { className: "flex flex-row items-center space-x-4 md:space-x-10", children: [
      /* @__PURE__ */ Oe.jsx(tI, {}),
      /* @__PURE__ */ Oe.jsx(wB, {})
    ] }),
    /* @__PURE__ */ Oe.jsx("div", { children: /* @__PURE__ */ Oe.jsx(si, { onClick: () => a({ type: Ht.Active, state: !1 }), children: /* @__PURE__ */ Oe.jsx(si.Exit, {}) }) })
  ] });
});
var zc = /* @__PURE__ */ ((a) => (a[a.Open = 0] = "Open", a[a.Close = 1] = "Close", a))(zc || {}), _x = /* @__PURE__ */ ((a) => (a[a.unset = 0] = "unset", a[a.dom = 1] = "dom", a))(_x || {});
const nI = {
  drawer: 0,
  loadSteps: 0,
  domElement: void 0,
  polar: void 0
}, Vu = Ke.createContext([nI, () => {
}]), wx = -2, NB = {
  success: !0,
  code: null,
  message: null,
  result: {
    code: {
      pantoneList: [
        {
          pantoneId: 1,
          name: "11-0103 TCX",
          majorColorName: "White",
          colorName: "Egret",
          r: 243,
          g: 236,
          b: 224
        },
        {
          pantoneId: 2,
          name: "11-0104 TCX",
          majorColorName: "White",
          colorName: "Vanilla Ice",
          r: 240,
          g: 234,
          b: 218
        },
        {
          pantoneId: 3,
          name: "11-0105 TCX",
          majorColorName: "White",
          colorName: "Antique White",
          r: 237,
          g: 227,
          b: 210
        },
        {
          pantoneId: 4,
          name: "11-0107 TCX",
          majorColorName: "White",
          colorName: "Papyrus",
          r: 245,
          g: 237,
          b: 214
        },
        {
          pantoneId: 5,
          name: "11-0205 TCX",
          majorColorName: "White",
          colorName: "Glass Green",
          r: 236,
          g: 234,
          b: 208
        },
        {
          pantoneId: 6,
          name: "11-0304 TCX",
          majorColorName: "White",
          colorName: "Water Lily",
          r: 221,
          g: 227,
          b: 213
        },
        {
          pantoneId: 7,
          name: "11-0410 TCX",
          majorColorName: "White",
          colorName: "Sylvan Green",
          r: 231,
          g: 234,
          b: 203
        },
        {
          pantoneId: 8,
          name: "11-0507 TCX",
          majorColorName: "White",
          colorName: "Winter White",
          r: 245,
          g: 236,
          b: 210
        },
        {
          pantoneId: 9,
          name: "11-0510 TCX",
          majorColorName: "Orange",
          colorName: "Afterglow",
          r: 243,
          g: 230,
          b: 201
        },
        {
          pantoneId: 10,
          name: "11-0601 TCX",
          majorColorName: "White",
          colorName: "Bright White",
          r: 244,
          g: 245,
          b: 240
        },
        {
          pantoneId: 11,
          name: "11-0602 TCX",
          majorColorName: "White",
          colorName: "Snow White",
          r: 242,
          g: 240,
          b: 235
        },
        {
          pantoneId: 12,
          name: "11-0603 TCX",
          majorColorName: "White",
          colorName: "Pastel Parchment",
          r: 229,
          g: 217,
          b: 211
        },
        {
          pantoneId: 13,
          name: "11-0604 TCX",
          majorColorName: "White",
          colorName: "Gardenia",
          r: 241,
          g: 232,
          b: 223
        },
        {
          pantoneId: 14,
          name: "11-0606 TCX",
          majorColorName: "White",
          colorName: "Pristine",
          r: 242,
          g: 232,
          b: 218
        },
        {
          pantoneId: 15,
          name: "11-0609 TCX",
          majorColorName: "Yellow",
          colorName: "Ethereal Green",
          r: 241,
          g: 236,
          b: 202
        },
        {
          pantoneId: 16,
          name: "11-0616 TCX",
          majorColorName: "Yellow",
          colorName: "Pastel Yellow",
          r: 242,
          g: 230,
          b: 177
        },
        {
          pantoneId: 17,
          name: "11-0617 TCX",
          majorColorName: "Yellow",
          colorName: "Transparent Yellow",
          r: 244,
          g: 236,
          b: 194
        },
        {
          pantoneId: 18,
          name: "11-0618 TCX",
          majorColorName: "Yellow",
          colorName: "Wax Yellow",
          r: 237,
          g: 233,
          b: 173
        },
        {
          pantoneId: 19,
          name: "11-0620 TCX",
          majorColorName: "Yellow",
          colorName: "Elfin Yellow",
          r: 238,
          g: 234,
          b: 151
        },
        {
          pantoneId: 20,
          name: "11-0701 TCX",
          majorColorName: "White",
          colorName: "Whisper White",
          r: 237,
          g: 230,
          b: 219
        },
        {
          pantoneId: 21,
          name: "11-0710 TCX",
          majorColorName: "Yellow",
          colorName: "Tender Yellow",
          r: 237,
          g: 237,
          b: 183
        },
        {
          pantoneId: 22,
          name: "11-0809 TCX",
          majorColorName: "Orange",
          colorName: "Ecru",
          r: 243,
          g: 223,
          b: 202
        },
        {
          pantoneId: 23,
          name: "11-0907 TCX",
          majorColorName: "Orange",
          colorName: "Pearled Ivory",
          r: 240,
          g: 223,
          b: 204
        },
        {
          pantoneId: 24,
          name: "11-1005 TCX",
          majorColorName: "White",
          colorName: "Bridal Blush",
          r: 238,
          g: 226,
          b: 221
        },
        {
          pantoneId: 25,
          name: "11-1305 TCX",
          majorColorName: "White",
          colorName: "Angel Wing",
          r: 243,
          g: 223,
          b: 215
        },
        {
          pantoneId: 26,
          name: "11-1306 TCX",
          majorColorName: "White",
          colorName: "Cream Pink",
          r: 246,
          g: 228,
          b: 217
        },
        {
          pantoneId: 27,
          name: "11-1404 TCX",
          majorColorName: "White",
          colorName: "Powder Puff",
          r: 243,
          g: 224,
          b: 214
        },
        {
          pantoneId: 28,
          name: "11-1408 TCX",
          majorColorName: "White",
          colorName: "Rosewater",
          r: 246,
          g: 219,
          b: 216
        },
        {
          pantoneId: 29,
          name: "11-2309 TCX",
          majorColorName: "White",
          colorName: "Petal Pink",
          r: 242,
          g: 226,
          b: 224
        },
        {
          pantoneId: 30,
          name: "11-2409 TCX",
          majorColorName: "White",
          colorName: "Delicacy",
          r: 245,
          g: 227,
          b: 226
        },
        {
          pantoneId: 31,
          name: "11-2511 TCX",
          majorColorName: "White",
          colorName: "Shrinking Violet",
          r: 244,
          g: 225,
          b: 230
        },
        {
          pantoneId: 32,
          name: "11-4201 TCX",
          majorColorName: "White",
          colorName: "Cloud Dancer",
          r: 240,
          g: 238,
          b: 233
        },
        {
          pantoneId: 33,
          name: "11-4202 TCX",
          majorColorName: "White",
          colorName: "Star White",
          r: 239,
          g: 239,
          b: 232
        },
        {
          pantoneId: 34,
          name: "11-4300 TCX",
          majorColorName: "White",
          colorName: "Marshmallow",
          r: 240,
          g: 238,
          b: 228
        },
        {
          pantoneId: 35,
          name: "11-4301 TCX",
          majorColorName: "White",
          colorName: "Lily White",
          r: 226,
          g: 226,
          b: 218
        },
        {
          pantoneId: 36,
          name: "11-4303 TCX",
          majorColorName: "White",
          colorName: "Mystic Blue",
          r: 225,
          g: 227,
          b: 222
        },
        {
          pantoneId: 37,
          name: "11-4601 TCX",
          majorColorName: "White",
          colorName: "Bit of Blue",
          r: 226,
          g: 234,
          b: 235
        },
        {
          pantoneId: 38,
          name: "11-4604 TCX",
          majorColorName: "White",
          colorName: "Billowing Sail",
          r: 216,
          g: 231,
          b: 231
        },
        {
          pantoneId: 39,
          name: "11-4800 TCX",
          majorColorName: "White",
          colorName: "Blanc de Blanc",
          r: 231,
          g: 233,
          b: 231
        },
        {
          pantoneId: 40,
          name: "11-4802 TCX",
          majorColorName: "White",
          colorName: "Summer Shower",
          r: 229,
          g: 235,
          b: 227
        },
        {
          pantoneId: 41,
          name: "11-4803 TCX",
          majorColorName: "White",
          colorName: "Ice",
          r: 224,
          g: 228,
          b: 217
        },
        {
          pantoneId: 42,
          name: "11-4804 TCX",
          majorColorName: "White",
          colorName: "Lightest Sky",
          r: 228,
          g: 234,
          b: 223
        },
        {
          pantoneId: 43,
          name: "11-4805 TCX",
          majorColorName: "White",
          colorName: "Hint of Mint",
          r: 216,
          g: 235,
          b: 230
        },
        {
          pantoneId: 44,
          name: "12-0000 TCX",
          majorColorName: "White",
          colorName: "White Swan",
          r: 228,
          g: 215,
          b: 197
        },
        {
          pantoneId: 45,
          name: "12-0104 TCX",
          majorColorName: "White",
          colorName: "White Asparagus",
          r: 225,
          g: 219,
          b: 200
        },
        {
          pantoneId: 46,
          name: "12-0105 TCX",
          majorColorName: "White",
          colorName: "Bone White",
          r: 215,
          g: 208,
          b: 192
        },
        {
          pantoneId: 47,
          name: "12-0106 TCX",
          majorColorName: "White",
          colorName: "Meadow Mist",
          r: 211,
          g: 222,
          b: 196
        },
        {
          pantoneId: 48,
          name: "12-0108 TCX",
          majorColorName: "White",
          colorName: "Canary Green",
          r: 214,
          g: 222,
          b: 201
        },
        {
          pantoneId: 49,
          name: "12-0109 TCX",
          majorColorName: "White",
          colorName: "Ambrosia",
          r: 210,
          g: 231,
          b: 202
        },
        {
          pantoneId: 50,
          name: "12-0225 TCX",
          majorColorName: "Green",
          colorName: "Patina Green",
          r: 185,
          g: 234,
          b: 179
        },
        {
          pantoneId: 51,
          name: "12-0304 TCX",
          majorColorName: "White",
          colorName: "Whitecap Gray",
          r: 224,
          g: 213,
          b: 198
        },
        {
          pantoneId: 52,
          name: "12-0311 TCX",
          majorColorName: "White",
          colorName: "Asparagus Green",
          r: 210,
          g: 205,
          b: 180
        },
        {
          pantoneId: 53,
          name: "12-0312 TCX",
          majorColorName: "Green",
          colorName: "Lime Cream",
          r: 215,
          g: 232,
          b: 188
        },
        {
          pantoneId: 54,
          name: "12-0313 TCX",
          majorColorName: "Green",
          colorName: "Seafoam Green",
          r: 203,
          g: 213,
          b: 177
        },
        {
          pantoneId: 55,
          name: "12-0315 TCX",
          majorColorName: "Green",
          colorName: "White Jade",
          r: 212,
          g: 219,
          b: 178
        },
        {
          pantoneId: 56,
          name: "12-0317 TCX",
          majorColorName: "Green",
          colorName: "Gleam",
          r: 191,
          g: 209,
          b: 173
        },
        {
          pantoneId: 57,
          name: "12-0322 TCX",
          majorColorName: "Green",
          colorName: "Butterfly",
          r: 202,
          g: 222,
          b: 165
        },
        {
          pantoneId: 58,
          name: "12-0404 TCX",
          majorColorName: "White",
          colorName: "Light Gray",
          r: 218,
          g: 216,
          b: 201
        },
        {
          pantoneId: 59,
          name: "12-0418 TCX",
          majorColorName: "Yellow",
          colorName: "Hay",
          r: 211,
          g: 204,
          b: 163
        },
        {
          pantoneId: 60,
          name: "12-0426 TCX",
          majorColorName: "Yellow",
          colorName: "Mellow Green",
          r: 213,
          g: 213,
          b: 147
        },
        {
          pantoneId: 61,
          name: "12-0435 TCX",
          majorColorName: "Green",
          colorName: "Daiquiri Green",
          r: 201,
          g: 215,
          b: 126
        },
        {
          pantoneId: 62,
          name: "12-0520 TCX",
          majorColorName: "Green",
          colorName: "Pale Lime Yellow",
          r: 223,
          g: 230,
          b: 159
        },
        {
          pantoneId: 63,
          name: "12-0521 TCX",
          majorColorName: "Yellow",
          colorName: "Young Wheat",
          r: 225,
          g: 227,
          b: 169
        },
        {
          pantoneId: 64,
          name: "12-0524 TCX",
          majorColorName: "Yellow",
          colorName: "Citron",
          r: 223,
          g: 222,
          b: 155
        },
        {
          pantoneId: 65,
          name: "12-0525 TCX",
          majorColorName: "Green",
          colorName: "Luminary Green",
          r: 227,
          g: 234,
          b: 165
        },
        {
          pantoneId: 66,
          name: "12-0530 TCX",
          majorColorName: "Yellow",
          colorName: "Charlock",
          r: 229,
          g: 231,
          b: 144
        },
        {
          pantoneId: 67,
          name: "12-0601 TCX",
          majorColorName: "White",
          colorName: "Eggnog",
          r: 236,
          g: 225,
          b: 211
        },
        {
          pantoneId: 68,
          name: "12-0605 TCX",
          majorColorName: "Orange",
          colorName: "Angora",
          r: 223,
          g: 209,
          b: 187
        },
        {
          pantoneId: 69,
          name: "12-0607 TCX",
          majorColorName: "White",
          colorName: "Green Essence",
          r: 233,
          g: 234,
          b: 200
        },
        {
          pantoneId: 70,
          name: "12-0619 TCX",
          majorColorName: "Yellow",
          colorName: "Dusty Yellow",
          r: 212,
          g: 204,
          b: 154
        },
        {
          pantoneId: 71,
          name: "12-0626 TCX",
          majorColorName: "Yellow",
          colorName: "Lemon Grass",
          r: 220,
          g: 212,
          b: 148
        },
        {
          pantoneId: 72,
          name: "12-0633 TCX",
          majorColorName: "Yellow",
          colorName: "Canary Yellow",
          r: 223,
          g: 216,
          b: 126
        },
        {
          pantoneId: 73,
          name: "12-0642 TCX",
          majorColorName: "Yellow",
          colorName: "Aurora",
          r: 237,
          g: 221,
          b: 89
        },
        {
          pantoneId: 74,
          name: "12-0643 TCX",
          majorColorName: "Yellow",
          colorName: "Blazing Yellow",
          r: 254,
          g: 231,
          b: 21
        },
        {
          pantoneId: 75,
          name: "12-0703 TCX",
          majorColorName: "White",
          colorName: "Seedpearl",
          r: 230,
          g: 218,
          b: 196
        },
        {
          pantoneId: 76,
          name: "12-0704 TCX",
          majorColorName: "Orange",
          colorName: "White Smoke",
          r: 237,
          g: 220,
          b: 201
        },
        {
          pantoneId: 77,
          name: "12-0710 TCX",
          majorColorName: "Orange",
          colorName: "Shortbread",
          r: 239,
          g: 220,
          b: 195
        },
        {
          pantoneId: 78,
          name: "12-0712 TCX",
          majorColorName: "Orange",
          colorName: "Vanilla",
          r: 244,
          g: 225,
          b: 193
        },
        {
          pantoneId: 79,
          name: "12-0713 TCX",
          majorColorName: "Orange",
          colorName: "Almond Oil",
          r: 244,
          g: 228,
          b: 193
        },
        {
          pantoneId: 80,
          name: "12-0714 TCX",
          majorColorName: "Orange",
          colorName: "Cornhusk",
          r: 242,
          g: 214,
          b: 174
        },
        {
          pantoneId: 81,
          name: "12-0715 TCX",
          majorColorName: "Orange",
          colorName: "Double Cream",
          r: 243,
          g: 224,
          b: 172
        },
        {
          pantoneId: 82,
          name: "12-0720 TCX",
          majorColorName: "Yellow",
          colorName: "Mellow Yellow",
          r: 240,
          g: 221,
          b: 157
        },
        {
          pantoneId: 83,
          name: "12-0721 TCX",
          majorColorName: "Yellow",
          colorName: "Lemonade",
          r: 240,
          g: 231,
          b: 157
        },
        {
          pantoneId: 84,
          name: "12-0722 TCX",
          majorColorName: "Yellow",
          colorName: "French Vanilla",
          r: 239,
          g: 225,
          b: 167
        },
        {
          pantoneId: 85,
          name: "12-0727 TCX",
          majorColorName: "Yellow",
          colorName: "Sunshine",
          r: 250,
          g: 222,
          b: 133
        },
        {
          pantoneId: 86,
          name: "12-0736 TCX",
          majorColorName: "Orange",
          colorName: "Lemon Drop",
          r: 253,
          g: 216,
          b: 120
        },
        {
          pantoneId: 87,
          name: "12-0738 TCX",
          majorColorName: "Yellow",
          colorName: "Yellow Cream",
          r: 239,
          g: 220,
          b: 117
        },
        {
          pantoneId: 88,
          name: "12-0740 TCX",
          majorColorName: "Yellow",
          colorName: "Limelight",
          r: 240,
          g: 232,
          b: 125
        },
        {
          pantoneId: 89,
          name: "12-0741 TCX",
          majorColorName: "Green",
          colorName: "Sunny Lime",
          r: 223,
          g: 239,
          b: 135
        },
        {
          pantoneId: 90,
          name: "12-0752 TCX",
          majorColorName: "Yellow",
          colorName: "Buttercup",
          r: 250,
          g: 224,
          b: 60
        },
        {
          pantoneId: 91,
          name: "12-0804 TCX",
          majorColorName: "White",
          colorName: "Cloud Cream",
          r: 230,
          g: 221,
          b: 197
        },
        {
          pantoneId: 92,
          name: "12-0806 TCX",
          majorColorName: "Orange",
          colorName: "Rutabaga",
          r: 236,
          g: 221,
          b: 190
        },
        {
          pantoneId: 93,
          name: "12-0807 TCX",
          majorColorName: "Orange",
          colorName: "Sun Kiss",
          r: 235,
          g: 209,
          b: 187
        },
        {
          pantoneId: 94,
          name: "12-0811 TCX",
          majorColorName: "Orange",
          colorName: "Dawn",
          r: 235,
          g: 210,
          b: 183
        },
        {
          pantoneId: 95,
          name: "12-0812 TCX",
          majorColorName: "Orange",
          colorName: "Alabaster Gleam",
          r: 240,
          g: 222,
          b: 189
        },
        {
          pantoneId: 96,
          name: "12-0813 TCX",
          majorColorName: "Orange",
          colorName: "Autumn Blonde",
          r: 238,
          g: 208,
          b: 174
        },
        {
          pantoneId: 97,
          name: "12-0815 TCX",
          majorColorName: "Orange",
          colorName: "Vanilla Custard",
          r: 243,
          g: 224,
          b: 190
        },
        {
          pantoneId: 98,
          name: "12-0817 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Gelato",
          r: 245,
          g: 215,
          b: 175
        },
        {
          pantoneId: 99,
          name: "12-0822 TCX",
          majorColorName: "Orange",
          colorName: "Golden Fleece",
          r: 242,
          g: 209,
          b: 160
        },
        {
          pantoneId: 100,
          name: "12-0824 TCX",
          majorColorName: "Orange",
          colorName: "Pale Banana",
          r: 250,
          g: 225,
          b: 153
        },
        {
          pantoneId: 101,
          name: "12-0825 TCX",
          majorColorName: "Yellow",
          colorName: "Popcorn",
          r: 248,
          g: 222,
          b: 141
        },
        {
          pantoneId: 102,
          name: "12-0826 TCX",
          majorColorName: "Orange",
          colorName: "Golden Haze",
          r: 251,
          g: 216,
          b: 151
        },
        {
          pantoneId: 103,
          name: "12-0910 TCX",
          majorColorName: "Orange",
          colorName: "Lamb's Wool",
          r: 229,
          g: 208,
          b: 177
        },
        {
          pantoneId: 104,
          name: "12-0911 TCX",
          majorColorName: "Orange",
          colorName: "Nude",
          r: 242,
          g: 211,
          b: 188
        },
        {
          pantoneId: 105,
          name: "12-0912 TCX",
          majorColorName: "Orange",
          colorName: "Tender Peach",
          r: 248,
          g: 213,
          b: 184
        },
        {
          pantoneId: 106,
          name: "12-0913 TCX",
          majorColorName: "Orange",
          colorName: "Alesan",
          r: 241,
          g: 206,
          b: 179
        },
        {
          pantoneId: 107,
          name: "12-0915 TCX",
          majorColorName: "Orange",
          colorName: "Pale Peach",
          r: 254,
          g: 209,
          b: 189
        },
        {
          pantoneId: 108,
          name: "12-0917 TCX",
          majorColorName: "Orange",
          colorName: "Bleached Apricot",
          r: 252,
          g: 202,
          b: 172
        },
        {
          pantoneId: 109,
          name: "12-0921 TCX",
          majorColorName: "Orange",
          colorName: "Golden Straw",
          r: 230,
          g: 189,
          b: 143
        },
        {
          pantoneId: 110,
          name: "12-1005 TCX",
          majorColorName: "Orange",
          colorName: "Novelle Peach",
          r: 231,
          g: 207,
          b: 189
        },
        {
          pantoneId: 111,
          name: "12-1006 TCX",
          majorColorName: "Orange",
          colorName: "Mother of Pearl",
          r: 233,
          g: 212,
          b: 195
        },
        {
          pantoneId: 112,
          name: "12-1007 TCX",
          majorColorName: "Orange",
          colorName: "Pastel Rose Tan",
          r: 233,
          g: 209,
          b: 191
        },
        {
          pantoneId: 113,
          name: "12-1008 TCX",
          majorColorName: "Orange",
          colorName: "Linen",
          r: 237,
          g: 210,
          b: 192
        },
        {
          pantoneId: 114,
          name: "12-1009 TCX",
          majorColorName: "Orange",
          colorName: "Vanilla Cream",
          r: 244,
          g: 216,
          b: 198
        },
        {
          pantoneId: 115,
          name: "12-1010 TCX",
          majorColorName: "Orange",
          colorName: "Scallop Shell",
          r: 251,
          g: 216,
          b: 201
        },
        {
          pantoneId: 116,
          name: "12-1011 TCX",
          majorColorName: "Orange",
          colorName: "Peach Puree",
          r: 239,
          g: 207,
          b: 186
        },
        {
          pantoneId: 117,
          name: "12-1106 TCX",
          majorColorName: "White",
          colorName: "Sheer Pink",
          r: 246,
          g: 229,
          b: 219
        },
        {
          pantoneId: 118,
          name: "12-1107 TCX",
          majorColorName: "Orange",
          colorName: "Pink Champagne",
          r: 240,
          g: 216,
          b: 204
        },
        {
          pantoneId: 119,
          name: "12-1108 TCX",
          majorColorName: "White",
          colorName: "Dew",
          r: 238,
          g: 222,
          b: 209
        },
        {
          pantoneId: 120,
          name: "12-1206 TCX",
          majorColorName: "White",
          colorName: "Silver Peony",
          r: 231,
          g: 207,
          b: 199
        },
        {
          pantoneId: 121,
          name: "12-1207 TCX",
          majorColorName: "Orange",
          colorName: "Pearl Blush",
          r: 244,
          g: 206,
          b: 197
        },
        {
          pantoneId: 122,
          name: "12-1209 TCX",
          majorColorName: "Orange",
          colorName: "Soft Pink",
          r: 242,
          g: 216,
          b: 205
        },
        {
          pantoneId: 123,
          name: "12-1212 TCX",
          majorColorName: "Pink",
          colorName: "Veiled Rose",
          r: 248,
          g: 205,
          b: 201
        },
        {
          pantoneId: 124,
          name: "12-1304 TCX",
          majorColorName: "White",
          colorName: "Pearl",
          r: 249,
          g: 219,
          b: 216
        },
        {
          pantoneId: 125,
          name: "12-1305 TCX",
          majorColorName: "White",
          colorName: "Heavenly Pink",
          r: 244,
          g: 222,
          b: 222
        },
        {
          pantoneId: 126,
          name: "12-1310 TCX",
          majorColorName: "Pink",
          colorName: "Blushing Bride",
          r: 251,
          g: 211,
          b: 217
        },
        {
          pantoneId: 127,
          name: "12-1403 TCX",
          majorColorName: "White",
          colorName: "Tapioca",
          r: 220,
          g: 205,
          b: 188
        },
        {
          pantoneId: 128,
          name: "12-1404 TCX",
          majorColorName: "White",
          colorName: "Pink Tint",
          r: 219,
          g: 203,
          b: 189
        },
        {
          pantoneId: 129,
          name: "12-1605 TCX",
          majorColorName: "White",
          colorName: "Crystal Pink",
          r: 237,
          g: 208,
          b: 206
        },
        {
          pantoneId: 130,
          name: "12-1706 TCX",
          majorColorName: "Pink",
          colorName: "Pink Dogwood",
          r: 247,
          g: 209,
          b: 209
        },
        {
          pantoneId: 131,
          name: "12-1708 TCX",
          majorColorName: "Pink",
          colorName: "Crystal Rose",
          r: 253,
          g: 195,
          b: 198
        },
        {
          pantoneId: 132,
          name: "12-2102 TCX",
          majorColorName: "White",
          colorName: "Mauve Morn",
          r: 236,
          g: 214,
          b: 214
        },
        {
          pantoneId: 133,
          name: "12-2103 TCX",
          majorColorName: "White",
          colorName: "Almost Mauve",
          r: 231,
          g: 220,
          b: 217
        },
        {
          pantoneId: 134,
          name: "12-2902 TCX",
          majorColorName: "White",
          colorName: "Mauve Chalk",
          r: 229,
          g: 208,
          b: 207
        },
        {
          pantoneId: 135,
          name: "12-2903 TCX",
          majorColorName: "White",
          colorName: "Light Lilac",
          r: 222,
          g: 198,
          b: 211
        },
        {
          pantoneId: 136,
          name: "12-2904 TCX",
          majorColorName: "White",
          colorName: "Primrose Pink",
          r: 238,
          g: 212,
          b: 217
        },
        {
          pantoneId: 137,
          name: "12-2905 TCX",
          majorColorName: "White",
          colorName: "Cradle Pink",
          r: 237,
          g: 208,
          b: 221
        },
        {
          pantoneId: 138,
          name: "12-2906 TCX",
          majorColorName: "White",
          colorName: "Barely Pink",
          r: 248,
          g: 215,
          b: 221
        },
        {
          pantoneId: 139,
          name: "12-4302 TCX",
          majorColorName: "White",
          colorName: "Vaporous Gray",
          r: 223,
          g: 221,
          b: 215
        },
        {
          pantoneId: 140,
          name: "12-4304 TCX",
          majorColorName: "White",
          colorName: "Bluewash",
          r: 226,
          g: 230,
          b: 224
        },
        {
          pantoneId: 141,
          name: "12-4305 TCX",
          majorColorName: "White",
          colorName: "Spa Blue",
          r: 211,
          g: 222,
          b: 223
        },
        {
          pantoneId: 142,
          name: "12-4306 TCX",
          majorColorName: "White",
          colorName: "Barely Blue",
          r: 221,
          g: 224,
          b: 223
        },
        {
          pantoneId: 143,
          name: "12-4604 TCX",
          majorColorName: "White",
          colorName: "Skylight",
          r: 200,
          g: 224,
          b: 224
        },
        {
          pantoneId: 144,
          name: "12-4607 TCX",
          majorColorName: "White",
          colorName: "Pastel Blue",
          r: 188,
          g: 211,
          b: 213
        },
        {
          pantoneId: 145,
          name: "12-4608 TCX",
          majorColorName: "Blue",
          colorName: "Clearwater",
          r: 170,
          g: 213,
          b: 219
        },
        {
          pantoneId: 146,
          name: "12-4609 TCX",
          majorColorName: "White",
          colorName: "Starlight Blue",
          r: 181,
          g: 206,
          b: 212
        },
        {
          pantoneId: 147,
          name: "12-4610 TCX",
          majorColorName: "White",
          colorName: "Whispering Blue",
          r: 201,
          g: 220,
          b: 220
        },
        {
          pantoneId: 148,
          name: "12-4705 TCX",
          majorColorName: "White",
          colorName: "Blue Blush",
          r: 214,
          g: 219,
          b: 217
        },
        {
          pantoneId: 149,
          name: "12-4805 TCX",
          majorColorName: "White",
          colorName: "Wan Blue",
          r: 203,
          g: 220,
          b: 223
        },
        {
          pantoneId: 150,
          name: "12-4806 TCX",
          majorColorName: "White",
          colorName: "Chalk Blue",
          r: 204,
          g: 218,
          b: 215
        },
        {
          pantoneId: 151,
          name: "12-5201 TCX",
          majorColorName: "White",
          colorName: "Icicle",
          r: 218,
          g: 220,
          b: 208
        },
        {
          pantoneId: 152,
          name: "12-5202 TCX",
          majorColorName: "White",
          colorName: "Turtledove",
          r: 222,
          g: 215,
          b: 200
        },
        {
          pantoneId: 153,
          name: "12-5203 TCX",
          majorColorName: "White",
          colorName: "Murmur",
          r: 210,
          g: 216,
          b: 210
        },
        {
          pantoneId: 154,
          name: "12-5204 TCX",
          majorColorName: "White",
          colorName: "Morning Mist",
          r: 207,
          g: 223,
          b: 219
        },
        {
          pantoneId: 155,
          name: "12-5206 TCX",
          majorColorName: "White",
          colorName: "Blue Glass",
          r: 198,
          g: 227,
          b: 225
        },
        {
          pantoneId: 156,
          name: "12-5209 TCX",
          majorColorName: "Blue-Green",
          colorName: "Soothing Sea",
          r: 195,
          g: 233,
          b: 228
        },
        {
          pantoneId: 157,
          name: "12-5303 TCX",
          majorColorName: "White",
          colorName: "Sprout Green",
          r: 203,
          g: 215,
          b: 210
        },
        {
          pantoneId: 158,
          name: "12-5403 TCX",
          majorColorName: "White",
          colorName: "Blue Flower",
          r: 208,
          g: 217,
          b: 212
        },
        {
          pantoneId: 159,
          name: "12-5404 TCX",
          majorColorName: "White",
          colorName: "Whisper Green",
          r: 224,
          g: 230,
          b: 215
        },
        {
          pantoneId: 160,
          name: "12-5406 TCX",
          majorColorName: "White",
          colorName: "Opal Blue",
          r: 195,
          g: 221,
          b: 214
        },
        {
          pantoneId: 161,
          name: "12-5407 TCX",
          majorColorName: "White",
          colorName: "Aqua Glass",
          r: 210,
          g: 232,
          b: 224
        },
        {
          pantoneId: 162,
          name: "12-5408 TCX",
          majorColorName: "White",
          colorName: "Moonlight Jade",
          r: 199,
          g: 229,
          b: 223
        },
        {
          pantoneId: 163,
          name: "12-5409 TCX",
          majorColorName: "Blue-Green",
          colorName: "Fair Aqua",
          r: 184,
          g: 226,
          b: 220
        },
        {
          pantoneId: 164,
          name: "12-5410 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bleached Aqua",
          r: 188,
          g: 227,
          b: 223
        },
        {
          pantoneId: 165,
          name: "12-5504 TCX",
          majorColorName: "White",
          colorName: "Clearly Aqua",
          r: 206,
          g: 225,
          b: 212
        },
        {
          pantoneId: 166,
          name: "12-5505 TCX",
          majorColorName: "White",
          colorName: "Glacier",
          r: 195,
          g: 219,
          b: 212
        },
        {
          pantoneId: 167,
          name: "12-5506 TCX",
          majorColorName: "White",
          colorName: "Dusty Aqua",
          r: 192,
          g: 220,
          b: 205
        },
        {
          pantoneId: 168,
          name: "12-5507 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bay",
          r: 186,
          g: 229,
          b: 214
        },
        {
          pantoneId: 169,
          name: "12-5508 TCX",
          majorColorName: "White",
          colorName: "Hushed Green",
          r: 216,
          g: 233,
          b: 229
        },
        {
          pantoneId: 170,
          name: "12-5603 TCX",
          majorColorName: "White",
          colorName: "Zephyr Blue",
          r: 211,
          g: 217,
          b: 209
        },
        {
          pantoneId: 171,
          name: "12-5808 TCX",
          majorColorName: "Blue-Green",
          colorName: "Honeydew",
          r: 186,
          g: 225,
          b: 211
        },
        {
          pantoneId: 172,
          name: "12-6204 TCX",
          majorColorName: "White",
          colorName: "Silver Green",
          r: 215,
          g: 215,
          b: 199
        },
        {
          pantoneId: 173,
          name: "12-6205 TCX",
          majorColorName: "White",
          colorName: "Milky Green",
          r: 207,
          g: 219,
          b: 209
        },
        {
          pantoneId: 174,
          name: "12-6206 TCX",
          majorColorName: "White",
          colorName: "Fairest Jade",
          r: 216,
          g: 227,
          b: 215
        },
        {
          pantoneId: 175,
          name: "12-6207 TCX",
          majorColorName: "White",
          colorName: "Frost",
          r: 221,
          g: 226,
          b: 214
        },
        {
          pantoneId: 176,
          name: "12-6208 TCX",
          majorColorName: "White",
          colorName: "Phantom Green",
          r: 220,
          g: 228,
          b: 215
        },
        {
          pantoneId: 177,
          name: "13-0000 TCX",
          majorColorName: "White",
          colorName: "Moonbeam",
          r: 205,
          g: 198,
          b: 189
        },
        {
          pantoneId: 178,
          name: "13-0002 TCX",
          majorColorName: "White",
          colorName: "White Sand",
          r: 219,
          g: 213,
          b: 209
        },
        {
          pantoneId: 179,
          name: "13-0107 TCX",
          majorColorName: "White",
          colorName: "Dewkist",
          r: 196,
          g: 209,
          b: 194
        },
        {
          pantoneId: 180,
          name: "13-0111 TCX",
          majorColorName: "White",
          colorName: "Seacrest",
          r: 191,
          g: 209,
          b: 179
        },
        {
          pantoneId: 181,
          name: "13-0116 TCX",
          majorColorName: "Green",
          colorName: "Pastel Green",
          r: 180,
          g: 211,
          b: 178
        },
        {
          pantoneId: 182,
          name: "13-0117 TCX",
          majorColorName: "Green",
          colorName: "Green Ash",
          r: 160,
          g: 218,
          b: 169
        },
        {
          pantoneId: 183,
          name: "13-0210 TCX",
          majorColorName: "White",
          colorName: "Fog Green",
          r: 194,
          g: 203,
          b: 180
        },
        {
          pantoneId: 184,
          name: "13-0212 TCX",
          majorColorName: "White",
          colorName: "Tender Greens",
          r: 197,
          g: 207,
          b: 182
        },
        {
          pantoneId: 185,
          name: "13-0215 TCX",
          majorColorName: "Green",
          colorName: "Reed",
          r: 195,
          g: 211,
          b: 168
        },
        {
          pantoneId: 186,
          name: "13-0220 TCX",
          majorColorName: "Green",
          colorName: "Paradise Green",
          r: 178,
          g: 231,
          b: 159
        },
        {
          pantoneId: 187,
          name: "13-0221 TCX",
          majorColorName: "Green",
          colorName: "Pistachio Green",
          r: 169,
          g: 211,
          b: 158
        },
        {
          pantoneId: 188,
          name: "13-0317 TCX",
          majorColorName: "Green",
          colorName: "Lily Green",
          r: 197,
          g: 207,
          b: 152
        },
        {
          pantoneId: 189,
          name: "13-0319 TCX",
          majorColorName: "Green",
          colorName: "Shadow Lime",
          r: 207,
          g: 224,
          b: 157
        },
        {
          pantoneId: 190,
          name: "13-0324 TCX",
          majorColorName: "Green",
          colorName: "Lettuce Green",
          r: 190,
          g: 211,
          b: 142
        },
        {
          pantoneId: 191,
          name: "13-0331 TCX",
          majorColorName: "Green",
          colorName: "Sap Green",
          r: 175,
          g: 203,
          b: 128
        },
        {
          pantoneId: 192,
          name: "13-0333 TCX",
          majorColorName: "Yellow",
          colorName: "Lima Bean",
          r: 225,
          g: 213,
          b: 144
        },
        {
          pantoneId: 193,
          name: "13-0401 TCX",
          majorColorName: "White",
          colorName: "Oatmeal",
          r: 203,
          g: 195,
          b: 180
        },
        {
          pantoneId: 194,
          name: "13-0403 TCX",
          majorColorName: "White",
          colorName: "Gray Morn",
          r: 202,
          g: 190,
          b: 181
        },
        {
          pantoneId: 195,
          name: "13-0442 TCX",
          majorColorName: "Green",
          colorName: "Green Glow",
          r: 176,
          g: 201,
          b: 101
        },
        {
          pantoneId: 196,
          name: "13-0513 TCX",
          majorColorName: "Yellow",
          colorName: "Frozen Dew",
          r: 216,
          g: 207,
          b: 178
        },
        {
          pantoneId: 197,
          name: "13-0522 TCX",
          majorColorName: "Yellow",
          colorName: "Pale Green",
          r: 203,
          g: 206,
          b: 145
        },
        {
          pantoneId: 198,
          name: "13-0530 TCX",
          majorColorName: "Green",
          colorName: "Lime Sherbet",
          r: 205,
          g: 215,
          b: 138
        },
        {
          pantoneId: 199,
          name: "13-0532 TCX",
          majorColorName: "Green",
          colorName: "Celery Green",
          r: 197,
          g: 204,
          b: 123
        },
        {
          pantoneId: 200,
          name: "13-0535 TCX",
          majorColorName: "Green",
          colorName: "Sharp Green",
          r: 198,
          g: 230,
          b: 122
        },
        {
          pantoneId: 201,
          name: "13-0540 TCX",
          majorColorName: "Green",
          colorName: "Wild Lime",
          r: 195,
          g: 211,
          b: 99
        },
        {
          pantoneId: 202,
          name: "13-0550 TCX",
          majorColorName: "Green",
          colorName: "Lime Punch",
          r: 192,
          g: 215,
          b: 37
        },
        {
          pantoneId: 203,
          name: "13-0607 TCX",
          majorColorName: "White",
          colorName: "Fog",
          r: 208,
          g: 197,
          b: 177
        },
        {
          pantoneId: 204,
          name: "13-0608 TCX",
          majorColorName: "White",
          colorName: "Aloe Wash",
          r: 208,
          g: 211,
          b: 183
        },
        {
          pantoneId: 205,
          name: "13-0611 TCX",
          majorColorName: "Yellow",
          colorName: "Moth",
          r: 210,
          g: 203,
          b: 175
        },
        {
          pantoneId: 206,
          name: "13-0613 TCX",
          majorColorName: "Orange",
          colorName: "Chino Green",
          r: 217,
          g: 202,
          b: 165
        },
        {
          pantoneId: 207,
          name: "13-0614 TCX",
          majorColorName: "Yellow",
          colorName: "Garden Glade",
          r: 220,
          g: 216,
          b: 168
        },
        {
          pantoneId: 208,
          name: "13-0624 TCX",
          majorColorName: "Yellow",
          colorName: "Golden Mist",
          r: 213,
          g: 205,
          b: 148
        },
        {
          pantoneId: 209,
          name: "13-0632 TCX",
          majorColorName: "Yellow",
          colorName: "Endive",
          r: 210,
          g: 204,
          b: 129
        },
        {
          pantoneId: 210,
          name: "13-0633 TCX",
          majorColorName: "Yellow",
          colorName: "Chardonnay",
          r: 231,
          g: 223,
          b: 153
        },
        {
          pantoneId: 211,
          name: "13-0640 TCX",
          majorColorName: "Yellow",
          colorName: "Acacia",
          r: 218,
          g: 205,
          b: 101
        },
        {
          pantoneId: 212,
          name: "13-0645 TCX",
          majorColorName: "Yellow",
          colorName: "Limeade",
          r: 211,
          g: 217,
          b: 95
        },
        {
          pantoneId: 213,
          name: "13-0648 TCX",
          majorColorName: "Yellow",
          colorName: "Green Sheen",
          r: 217,
          g: 206,
          b: 82
        },
        {
          pantoneId: 214,
          name: "13-0650 TCX",
          majorColorName: "Yellow",
          colorName: "Sulphur Spring",
          r: 213,
          g: 215,
          b: 23
        },
        {
          pantoneId: 215,
          name: "13-0711 TCX",
          majorColorName: "Orange",
          colorName: "Putty",
          r: 212,
          g: 202,
          b: 176
        },
        {
          pantoneId: 216,
          name: "13-0715 TCX",
          majorColorName: "Orange",
          colorName: "Sea Mist",
          r: 216,
          g: 201,
          b: 163
        },
        {
          pantoneId: 217,
          name: "13-0720 TCX",
          majorColorName: "Yellow",
          colorName: "Custard",
          r: 229,
          g: 214,
          b: 142
        },
        {
          pantoneId: 218,
          name: "13-0725 TCX",
          majorColorName: "Orange",
          colorName: "Raffia",
          r: 218,
          g: 196,
          b: 131
        },
        {
          pantoneId: 219,
          name: "13-0739 TCX",
          majorColorName: "Yellow",
          colorName: "Cream Gold",
          r: 222,
          g: 192,
          b: 95
        },
        {
          pantoneId: 220,
          name: "13-0746 TCX",
          majorColorName: "Yellow",
          colorName: "Maize",
          r: 238,
          g: 200,
          b: 67
        },
        {
          pantoneId: 221,
          name: "13-0752 TCX",
          majorColorName: "Yellow",
          colorName: "Lemon",
          r: 243,
          g: 191,
          b: 8
        },
        {
          pantoneId: 222,
          name: "13-0755 TCX",
          majorColorName: "Yellow",
          colorName: "Primrose Yellow",
          r: 246,
          g: 209,
          b: 85
        },
        {
          pantoneId: 223,
          name: "13-0758 TCX",
          majorColorName: "Yellow",
          colorName: "Dandelion",
          r: 255,
          g: 208,
          b: 46
        },
        {
          pantoneId: 224,
          name: "13-0814 TCX",
          majorColorName: "Orange",
          colorName: "Summer Melon",
          r: 234,
          g: 211,
          b: 174
        },
        {
          pantoneId: 225,
          name: "13-0815 TCX",
          majorColorName: "Orange",
          colorName: "Banana Crepe",
          r: 231,
          g: 211,
          b: 173
        },
        {
          pantoneId: 226,
          name: "13-0822 TCX",
          majorColorName: "Orange",
          colorName: "Sunlight",
          r: 237,
          g: 213,
          b: 158
        },
        {
          pantoneId: 227,
          name: "13-0840 TCX",
          majorColorName: "Orange",
          colorName: "Snapdragon",
          r: 254,
          g: 215,
          b: 119
        },
        {
          pantoneId: 228,
          name: "13-0850 TCX",
          majorColorName: "Orange",
          colorName: "Aspen Gold",
          r: 255,
          g: 214,
          b: 98
        },
        {
          pantoneId: 229,
          name: "13-0858 TCX",
          majorColorName: "Yellow",
          colorName: "Vibrant Yellow",
          r: 255,
          g: 218,
          b: 41
        },
        {
          pantoneId: 230,
          name: "13-0859 TCX",
          majorColorName: "Yellow",
          colorName: "Lemon Chrome",
          r: 255,
          g: 195,
          b: 0
        },
        {
          pantoneId: 231,
          name: "13-0905 TCX",
          majorColorName: "White",
          colorName: "Birch",
          r: 221,
          g: 213,
          b: 199
        },
        {
          pantoneId: 232,
          name: "13-0907 TCX",
          majorColorName: "White",
          colorName: "Sandshell",
          r: 216,
          g: 204,
          b: 187
        },
        {
          pantoneId: 233,
          name: "13-0908 TCX",
          majorColorName: "White",
          colorName: "Parchment",
          r: 223,
          g: 209,
          b: 190
        },
        {
          pantoneId: 234,
          name: "13-0915 TCX",
          majorColorName: "Orange",
          colorName: "Reed Yellow",
          r: 220,
          g: 201,
          b: 158
        },
        {
          pantoneId: 235,
          name: "13-0916 TCX",
          majorColorName: "Orange",
          colorName: "Chamomile",
          r: 232,
          g: 208,
          b: 167
        },
        {
          pantoneId: 236,
          name: "13-0917 TCX",
          majorColorName: "Orange",
          colorName: "Italian Straw",
          r: 231,
          g: 209,
          b: 161
        },
        {
          pantoneId: 237,
          name: "13-0922 TCX",
          majorColorName: "Orange",
          colorName: "Straw",
          r: 224,
          g: 201,
          b: 146
        },
        {
          pantoneId: 238,
          name: "13-0932 TCX",
          majorColorName: "Orange",
          colorName: "Cornsilk",
          r: 237,
          g: 195,
          b: 115
        },
        {
          pantoneId: 239,
          name: "13-0935 TCX",
          majorColorName: "Orange",
          colorName: "Flax",
          r: 255,
          g: 200,
          b: 125
        },
        {
          pantoneId: 240,
          name: "13-0939 TCX",
          majorColorName: "Orange",
          colorName: "Golden Cream",
          r: 247,
          g: 191,
          b: 104
        },
        {
          pantoneId: 241,
          name: "13-0940 TCX",
          majorColorName: "Orange",
          colorName: "Sunset Gold",
          r: 247,
          g: 196,
          b: 108
        },
        {
          pantoneId: 242,
          name: "13-0941 TCX",
          majorColorName: "Orange",
          colorName: "Banana Cream",
          r: 255,
          g: 207,
          b: 115
        },
        {
          pantoneId: 243,
          name: "13-0942 TCX",
          majorColorName: "Orange",
          colorName: "Amber Yellow",
          r: 250,
          g: 183,
          b: 90
        },
        {
          pantoneId: 244,
          name: "13-0945 TCX",
          majorColorName: "Orange",
          colorName: "Pale Marigold",
          r: 255,
          g: 198,
          b: 110
        },
        {
          pantoneId: 245,
          name: "13-0947 TCX",
          majorColorName: "Orange",
          colorName: "Banana",
          r: 252,
          g: 185,
          b: 83
        },
        {
          pantoneId: 246,
          name: "13-1006 TCX",
          majorColorName: "Orange",
          colorName: "Creme Brulee",
          r: 219,
          g: 204,
          b: 181
        },
        {
          pantoneId: 247,
          name: "13-1007 TCX",
          majorColorName: "Yellow",
          colorName: "Oyster White",
          r: 210,
          g: 202,
          b: 175
        },
        {
          pantoneId: 248,
          name: "13-1008 TCX",
          majorColorName: "Orange",
          colorName: "Bleached Sand",
          r: 218,
          g: 204,
          b: 180
        },
        {
          pantoneId: 249,
          name: "13-1009 TCX",
          majorColorName: "Orange",
          colorName: "Biscotti",
          r: 218,
          g: 199,
          b: 171
        },
        {
          pantoneId: 250,
          name: "13-1010 TCX",
          majorColorName: "Orange",
          colorName: "Gray Sand",
          r: 229,
          g: 204,
          b: 175
        },
        {
          pantoneId: 251,
          name: "13-1011 TCX",
          majorColorName: "Orange",
          colorName: "Ivory Cream",
          r: 218,
          g: 192,
          b: 167
        },
        {
          pantoneId: 252,
          name: "13-1012 TCX",
          majorColorName: "Orange",
          colorName: "Frosted Almond",
          r: 210,
          g: 194,
          b: 172
        },
        {
          pantoneId: 253,
          name: "13-1013 TCX",
          majorColorName: "Orange",
          colorName: "Appleblossom",
          r: 221,
          g: 188,
          b: 160
        },
        {
          pantoneId: 254,
          name: "13-1014 TCX",
          majorColorName: "Orange",
          colorName: "Mellow Buff",
          r: 216,
          g: 185,
          b: 152
        },
        {
          pantoneId: 255,
          name: "13-1015 TCX",
          majorColorName: "Orange",
          colorName: "Honey Peach",
          r: 220,
          g: 189,
          b: 158
        },
        {
          pantoneId: 256,
          name: "13-1016 TCX",
          majorColorName: "Orange",
          colorName: "Wheat",
          r: 222,
          g: 197,
          b: 165
        },
        {
          pantoneId: 257,
          name: "13-1017 TCX",
          majorColorName: "Orange",
          colorName: "Almond Cream",
          r: 244,
          g: 194,
          b: 159
        },
        {
          pantoneId: 258,
          name: "13-1018 TCX",
          majorColorName: "Orange",
          colorName: "Desert Dust",
          r: 227,
          g: 188,
          b: 142
        },
        {
          pantoneId: 259,
          name: "13-1019 TCX",
          majorColorName: "Orange",
          colorName: "Cream Blush",
          r: 248,
          g: 193,
          b: 154
        },
        {
          pantoneId: 260,
          name: "13-1020 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Ice",
          r: 251,
          g: 190,
          b: 153
        },
        {
          pantoneId: 261,
          name: "13-1021 TCX",
          majorColorName: "Orange",
          colorName: "Prairie Sunset",
          r: 255,
          g: 187,
          b: 158
        },
        {
          pantoneId: 262,
          name: "13-1022 TCX",
          majorColorName: "Orange",
          colorName: "Caramel Cream",
          r: 244,
          g: 186,
          b: 148
        },
        {
          pantoneId: 263,
          name: "13-1023 TCX",
          majorColorName: "Orange",
          colorName: "Peach Fuzz",
          r: 255,
          g: 190,
          b: 152
        },
        {
          pantoneId: 264,
          name: "13-1024 TCX",
          majorColorName: "Orange",
          colorName: "Buff",
          r: 235,
          g: 195,
          b: 150
        },
        {
          pantoneId: 265,
          name: "13-1025 TCX",
          majorColorName: "Orange",
          colorName: "Impala",
          r: 248,
          g: 206,
          b: 151
        },
        {
          pantoneId: 266,
          name: "13-1026 TCX",
          majorColorName: "Orange",
          colorName: "Creampuff",
          r: 255,
          g: 205,
          b: 168
        },
        {
          pantoneId: 267,
          name: "13-1027 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Cream",
          r: 241,
          g: 189,
          b: 137
        },
        {
          pantoneId: 268,
          name: "13-1030 TCX",
          majorColorName: "Orange",
          colorName: "Sunburst",
          r: 246,
          g: 194,
          b: 137
        },
        {
          pantoneId: 269,
          name: "13-1031 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Sherbet",
          r: 250,
          g: 205,
          b: 158
        },
        {
          pantoneId: 270,
          name: "13-1106 TCX",
          majorColorName: "White",
          colorName: "Sand Dollar",
          r: 222,
          g: 205,
          b: 190
        },
        {
          pantoneId: 271,
          name: "13-1107 TCX",
          majorColorName: "White",
          colorName: "Whisper Pink",
          r: 218,
          g: 203,
          b: 190
        },
        {
          pantoneId: 272,
          name: "13-1108 TCX",
          majorColorName: "Orange",
          colorName: "Cream Tan",
          r: 228,
          g: 199,
          b: 184
        },
        {
          pantoneId: 273,
          name: "13-1109 TCX",
          majorColorName: "Orange",
          colorName: "Bisque",
          r: 237,
          g: 202,
          b: 181
        },
        {
          pantoneId: 274,
          name: "13-1114 TCX",
          majorColorName: "Orange",
          colorName: "Bellini",
          r: 244,
          g: 201,
          b: 177
        },
        {
          pantoneId: 275,
          name: "13-1310 TCX",
          majorColorName: "Pink",
          colorName: "English Rose",
          r: 244,
          g: 198,
          b: 195
        },
        {
          pantoneId: 276,
          name: "13-1318 TCX",
          majorColorName: "Orange",
          colorName: "Tropical Peach",
          r: 255,
          g: 196,
          b: 178
        },
        {
          pantoneId: 277,
          name: "13-1404 TCX",
          majorColorName: "Orange",
          colorName: "Pale Dogwood",
          r: 237,
          g: 205,
          b: 194
        },
        {
          pantoneId: 278,
          name: "13-1405 TCX",
          majorColorName: "White",
          colorName: "Shell",
          r: 225,
          g: 207,
          b: 198
        },
        {
          pantoneId: 279,
          name: "13-1406 TCX",
          majorColorName: "Orange",
          colorName: "Cloud Pink",
          r: 245,
          g: 209,
          b: 200
        },
        {
          pantoneId: 280,
          name: "13-1407 TCX",
          majorColorName: "Orange",
          colorName: "Creole Pink",
          r: 247,
          g: 213,
          b: 204
        },
        {
          pantoneId: 281,
          name: "13-1408 TCX",
          majorColorName: "Pink",
          colorName: "Chintz Rose",
          r: 238,
          g: 196,
          b: 190
        },
        {
          pantoneId: 282,
          name: "13-1409 TCX",
          majorColorName: "Pink",
          colorName: "Seashell Pink",
          r: 247,
          g: 200,
          b: 194
        },
        {
          pantoneId: 283,
          name: "13-1504 TCX",
          majorColorName: "White",
          colorName: "Peach Blush",
          r: 228,
          g: 204,
          b: 198
        },
        {
          pantoneId: 284,
          name: "13-1510 TCX",
          majorColorName: "Pink",
          colorName: "Impatiens Pink",
          r: 255,
          g: 196,
          b: 188
        },
        {
          pantoneId: 285,
          name: "13-1513 TCX",
          majorColorName: "Pink",
          colorName: "Gossamer Pink",
          r: 250,
          g: 200,
          b: 195
        },
        {
          pantoneId: 286,
          name: "13-1904 TCX",
          majorColorName: "White",
          colorName: "Chalk Pink",
          r: 230,
          g: 197,
          b: 202
        },
        {
          pantoneId: 287,
          name: "13-1906 TCX",
          majorColorName: "Pink",
          colorName: "Rose Shadow",
          r: 249,
          g: 194,
          b: 205
        },
        {
          pantoneId: 288,
          name: "13-2004 TCX",
          majorColorName: "White",
          colorName: "Potpourri",
          r: 231,
          g: 201,
          b: 202
        },
        {
          pantoneId: 289,
          name: "13-2005 TCX",
          majorColorName: "Pink",
          colorName: "Strawberry Cream",
          r: 244,
          g: 195,
          b: 196
        },
        {
          pantoneId: 290,
          name: "13-2006 TCX",
          majorColorName: "Pink",
          colorName: "Almond Blossom",
          r: 245,
          g: 190,
          b: 199
        },
        {
          pantoneId: 291,
          name: "13-2010 TCX",
          majorColorName: "Pink",
          colorName: "Orchid Pink",
          r: 243,
          g: 187,
          b: 202
        },
        {
          pantoneId: 292,
          name: "13-2803 TCX",
          majorColorName: "White",
          colorName: "Pale Lilac",
          r: 225,
          g: 198,
          b: 204
        },
        {
          pantoneId: 293,
          name: "13-2804 TCX",
          majorColorName: "Pink",
          colorName: "Parfait Pink",
          r: 233,
          g: 195,
          b: 207
        },
        {
          pantoneId: 294,
          name: "13-2805 TCX",
          majorColorName: "Pink",
          colorName: "Roseate Spoonbill",
          r: 230,
          g: 188,
          b: 205
        },
        {
          pantoneId: 295,
          name: "13-2806 TCX",
          majorColorName: "Pink",
          colorName: "Pink Lady",
          r: 239,
          g: 193,
          b: 214
        },
        {
          pantoneId: 296,
          name: "13-3405 TCX",
          majorColorName: "White",
          colorName: "Lilac Snow",
          r: 224,
          g: 199,
          b: 215
        },
        {
          pantoneId: 297,
          name: "13-3406 TCX",
          majorColorName: "White",
          colorName: "Orchid Ice",
          r: 224,
          g: 208,
          b: 219
        },
        {
          pantoneId: 298,
          name: "13-3801 TCX",
          majorColorName: "White",
          colorName: "Crystal Gray",
          r: 215,
          g: 203,
          b: 196
        },
        {
          pantoneId: 299,
          name: "13-3802 TCX",
          majorColorName: "White",
          colorName: "Orchid Tint",
          r: 219,
          g: 210,
          b: 219
        },
        {
          pantoneId: 300,
          name: "13-3803 TCX",
          majorColorName: "White",
          colorName: "Lilac Ash",
          r: 215,
          g: 205,
          b: 205
        },
        {
          pantoneId: 301,
          name: "13-3804 TCX",
          majorColorName: "White",
          colorName: "Gray Lilac",
          r: 212,
          g: 202,
          b: 205
        },
        {
          pantoneId: 302,
          name: "13-3805 TCX",
          majorColorName: "White",
          colorName: "Orchid Hush",
          r: 206,
          g: 195,
          b: 210
        },
        {
          pantoneId: 303,
          name: "13-3820 TCX",
          majorColorName: "White",
          colorName: "Lavender Fog",
          r: 210,
          g: 196,
          b: 214
        },
        {
          pantoneId: 304,
          name: "13-4103 TCX",
          majorColorName: "White",
          colorName: "Illusion Blue",
          r: 201,
          g: 211,
          b: 220
        },
        {
          pantoneId: 305,
          name: "13-4105 TCX",
          majorColorName: "White",
          colorName: "Lilac Hint",
          r: 208,
          g: 208,
          b: 218
        },
        {
          pantoneId: 306,
          name: "13-4110 TCX",
          majorColorName: "White",
          colorName: "Arctic Ice",
          r: 191,
          g: 199,
          b: 214
        },
        {
          pantoneId: 307,
          name: "13-4303 TCX",
          majorColorName: "White",
          colorName: "Dawn Blue",
          r: 202,
          g: 204,
          b: 203
        },
        {
          pantoneId: 308,
          name: "13-4304 TCX",
          majorColorName: "White",
          colorName: "Ballad Blue",
          r: 192,
          g: 206,
          b: 218
        },
        {
          pantoneId: 309,
          name: "13-4305 TCX",
          majorColorName: "White",
          colorName: "Foggy Dew",
          r: 209,
          g: 213,
          b: 208
        },
        {
          pantoneId: 310,
          name: "13-4308 TCX",
          majorColorName: "White",
          colorName: "Baby Blue",
          r: 181,
          g: 199,
          b: 211
        },
        {
          pantoneId: 311,
          name: "13-4403 TCX",
          majorColorName: "White",
          colorName: "Silver Birch",
          r: 210,
          g: 207,
          b: 196
        },
        {
          pantoneId: 312,
          name: "13-4404 TCX",
          majorColorName: "White",
          colorName: "Ice Flow",
          r: 198,
          g: 210,
          b: 210
        },
        {
          pantoneId: 313,
          name: "13-4405 TCX",
          majorColorName: "White",
          colorName: "Misty Blue",
          r: 191,
          g: 205,
          b: 204
        },
        {
          pantoneId: 314,
          name: "13-4409 TCX",
          majorColorName: "Blue",
          colorName: "Blue Glow",
          r: 178,
          g: 212,
          b: 221
        },
        {
          pantoneId: 315,
          name: "13-4411 TCX",
          majorColorName: "Blue",
          colorName: "Crystal Blue",
          r: 161,
          g: 200,
          b: 219
        },
        {
          pantoneId: 316,
          name: "13-4804 TCX",
          majorColorName: "White",
          colorName: "Pale Blue",
          r: 196,
          g: 214,
          b: 211
        },
        {
          pantoneId: 317,
          name: "13-4809 TCX",
          majorColorName: "Blue",
          colorName: "Plume",
          r: 165,
          g: 207,
          b: 213
        },
        {
          pantoneId: 318,
          name: "13-4909 TCX",
          majorColorName: "Blue-Green",
          colorName: "Blue Light",
          r: 172,
          g: 223,
          b: 221
        },
        {
          pantoneId: 319,
          name: "13-4910 TCX",
          majorColorName: "Blue-Green",
          colorName: "Blue Tint",
          r: 159,
          g: 217,
          b: 215
        },
        {
          pantoneId: 320,
          name: "13-5304 TCX",
          majorColorName: "White",
          colorName: "Rainy Day",
          r: 207,
          g: 200,
          b: 189
        },
        {
          pantoneId: 321,
          name: "13-5305 TCX",
          majorColorName: "White",
          colorName: "Pale Aqua",
          r: 193,
          g: 204,
          b: 194
        },
        {
          pantoneId: 322,
          name: "13-5306 TCX",
          majorColorName: "Blue-Green",
          colorName: "Icy Morn",
          r: 176,
          g: 211,
          b: 209
        },
        {
          pantoneId: 323,
          name: "13-5309 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pastel Turquoise",
          r: 153,
          g: 197,
          b: 196
        },
        {
          pantoneId: 324,
          name: "13-5313 TCX",
          majorColorName: "Blue-Green",
          colorName: "Aruba Blue",
          r: 129,
          g: 215,
          b: 211
        },
        {
          pantoneId: 325,
          name: "13-5409 TCX",
          majorColorName: "Blue-Green",
          colorName: "Yucca",
          r: 161,
          g: 215,
          b: 201
        },
        {
          pantoneId: 326,
          name: "13-5412 TCX",
          majorColorName: "Blue-Green",
          colorName: "Beach Glass",
          r: 150,
          g: 223,
          b: 206
        },
        {
          pantoneId: 327,
          name: "13-5414 TCX",
          majorColorName: "Blue-Green",
          colorName: "Ice Green",
          r: 135,
          g: 216,
          b: 195
        },
        {
          pantoneId: 328,
          name: "13-5714 TCX",
          majorColorName: "Blue-Green",
          colorName: "Cabbage",
          r: 135,
          g: 215,
          b: 190
        },
        {
          pantoneId: 329,
          name: "13-5907 TCX",
          majorColorName: "White",
          colorName: "Gossamer Green",
          r: 178,
          g: 207,
          b: 190
        },
        {
          pantoneId: 330,
          name: "13-5911 TCX",
          majorColorName: "Green",
          colorName: "Bird's Egg Green",
          r: 170,
          g: 204,
          b: 185
        },
        {
          pantoneId: 331,
          name: "13-6006 TCX",
          majorColorName: "White",
          colorName: "Almost Aqua",
          r: 202,
          g: 211,
          b: 193
        },
        {
          pantoneId: 332,
          name: "13-6007 TCX",
          majorColorName: "White",
          colorName: "Spray",
          r: 190,
          g: 211,
          b: 187
        },
        {
          pantoneId: 333,
          name: "13-6008 TCX",
          majorColorName: "White",
          colorName: "Misty Jade",
          r: 188,
          g: 217,
          b: 200
        },
        {
          pantoneId: 334,
          name: "13-6009 TCX",
          majorColorName: "Blue-Green",
          colorName: "Brook Green",
          r: 175,
          g: 221,
          b: 204
        },
        {
          pantoneId: 335,
          name: "13-6105 TCX",
          majorColorName: "White",
          colorName: "Celadon Tint",
          r: 203,
          g: 206,
          b: 190
        },
        {
          pantoneId: 336,
          name: "13-6106 TCX",
          majorColorName: "White",
          colorName: "Green Tint",
          r: 197,
          g: 204,
          b: 192
        },
        {
          pantoneId: 337,
          name: "13-6107 TCX",
          majorColorName: "White",
          colorName: "Green Lily",
          r: 193,
          g: 206,
          b: 193
        },
        {
          pantoneId: 338,
          name: "13-6108 TCX",
          majorColorName: "White",
          colorName: "Celadon",
          r: 184,
          g: 204,
          b: 186
        },
        {
          pantoneId: 339,
          name: "13-6110 TCX",
          majorColorName: "Green",
          colorName: "Mist Green",
          r: 170,
          g: 206,
          b: 188
        },
        {
          pantoneId: 340,
          name: "13-6208 TCX",
          majorColorName: "White",
          colorName: "Bok Choy",
          r: 188,
          g: 202,
          b: 179
        },
        {
          pantoneId: 341,
          name: "14-0000 TCX",
          majorColorName: "White",
          colorName: "Silver Gray",
          r: 193,
          g: 183,
          b: 176
        },
        {
          pantoneId: 342,
          name: "14-0002 TCX",
          majorColorName: "White",
          colorName: "Pumice Stone",
          r: 202,
          g: 194,
          b: 185
        },
        {
          pantoneId: 343,
          name: "14-0105 TCX",
          majorColorName: "White",
          colorName: "Overcast",
          r: 195,
          g: 189,
          b: 171
        },
        {
          pantoneId: 344,
          name: "14-0108 TCX",
          majorColorName: "White",
          colorName: "Castle Wall",
          r: 200,
          g: 193,
          b: 171
        },
        {
          pantoneId: 345,
          name: "14-0114 TCX",
          majorColorName: "White",
          colorName: "Celadon Green",
          r: 181,
          g: 193,
          b: 165
        },
        {
          pantoneId: 346,
          name: "14-0115 TCX",
          majorColorName: "Green",
          colorName: "Foam Green",
          r: 180,
          g: 199,
          b: 156
        },
        {
          pantoneId: 347,
          name: "14-0121 TCX",
          majorColorName: "Green",
          colorName: "Nile Green",
          r: 167,
          g: 199,
          b: 150
        },
        {
          pantoneId: 348,
          name: "14-0123 TCX",
          majorColorName: "Green",
          colorName: "Arcadian Green",
          r: 163,
          g: 200,
          b: 147
        },
        {
          pantoneId: 349,
          name: "14-0127 TCX",
          majorColorName: "Green",
          colorName: "Greengage",
          r: 139,
          g: 194,
          b: 140
        },
        {
          pantoneId: 350,
          name: "14-0156 TCX",
          majorColorName: "Green",
          colorName: "Summer Green",
          r: 126,
          g: 211,
          b: 127
        },
        {
          pantoneId: 351,
          name: "14-0210 TCX",
          majorColorName: "White",
          colorName: "Tidal Foam",
          r: 191,
          g: 185,
          b: 163
        },
        {
          pantoneId: 352,
          name: "14-0216 TCX",
          majorColorName: "Green",
          colorName: "Lint",
          r: 182,
          g: 186,
          b: 153
        },
        {
          pantoneId: 353,
          name: "14-0217 TCX",
          majorColorName: "Green",
          colorName: "Seedling",
          r: 192,
          g: 203,
          b: 161
        },
        {
          pantoneId: 354,
          name: "14-0223 TCX",
          majorColorName: "Green",
          colorName: "Nile",
          r: 180,
          g: 187,
          b: 133
        },
        {
          pantoneId: 355,
          name: "14-0226 TCX",
          majorColorName: "Green",
          colorName: "Opaline Green",
          r: 163,
          g: 197,
          b: 125
        },
        {
          pantoneId: 356,
          name: "14-0232 TCX",
          majorColorName: "Green",
          colorName: "Jade Lime",
          r: 161,
          g: 202,
          b: 123
        },
        {
          pantoneId: 357,
          name: "14-0244 TCX",
          majorColorName: "Green",
          colorName: "Bright Lime Green",
          r: 151,
          g: 188,
          b: 98
        },
        {
          pantoneId: 358,
          name: "14-0418 TCX",
          majorColorName: "Yellow",
          colorName: "Bog",
          r: 186,
          g: 182,
          b: 150
        },
        {
          pantoneId: 359,
          name: "14-0425 TCX",
          majorColorName: "Yellow",
          colorName: "Beechnut",
          r: 194,
          g: 193,
          b: 141
        },
        {
          pantoneId: 360,
          name: "14-0434 TCX",
          majorColorName: "Yellow",
          colorName: "Green Banana",
          r: 186,
          g: 188,
          b: 114
        },
        {
          pantoneId: 361,
          name: "14-0445 TCX",
          majorColorName: "Green",
          colorName: "Bright Chartreuse",
          r: 181,
          g: 191,
          b: 80
        },
        {
          pantoneId: 362,
          name: "14-0446 TCX",
          majorColorName: "Green",
          colorName: "Tender Shoots",
          r: 181,
          g: 204,
          b: 57
        },
        {
          pantoneId: 363,
          name: "14-0452 TCX",
          majorColorName: "Green",
          colorName: "Lime Green",
          r: 159,
          g: 193,
          b: 49
        },
        {
          pantoneId: 364,
          name: "14-0615 TCX",
          majorColorName: "Yellow",
          colorName: "Green Haze",
          r: 202,
          g: 196,
          b: 164
        },
        {
          pantoneId: 365,
          name: "14-0626 TCX",
          majorColorName: "Yellow",
          colorName: "Dried Moss",
          r: 204,
          g: 185,
          b: 126
        },
        {
          pantoneId: 366,
          name: "14-0627 TCX",
          majorColorName: "Yellow",
          colorName: "Shadow Green",
          r: 207,
          g: 196,
          b: 134
        },
        {
          pantoneId: 367,
          name: "14-0636 TCX",
          majorColorName: "Yellow",
          colorName: "Muted Lime",
          r: 209,
          g: 200,
          b: 124
        },
        {
          pantoneId: 368,
          name: "14-0647 TCX",
          majorColorName: "Yellow",
          colorName: "Celery",
          r: 206,
          g: 193,
          b: 83
        },
        {
          pantoneId: 369,
          name: "14-0708 TCX",
          majorColorName: "Orange",
          colorName: "Cement",
          r: 196,
          g: 182,
          b: 166
        },
        {
          pantoneId: 370,
          name: "14-0721 TCX",
          majorColorName: "Orange",
          colorName: "Hemp",
          r: 192,
          g: 173,
          b: 124
        },
        {
          pantoneId: 371,
          name: "14-0740 TCX",
          majorColorName: "Orange",
          colorName: "Bamboo",
          r: 210,
          g: 176,
          b: 76
        },
        {
          pantoneId: 372,
          name: "14-0754 TCX",
          majorColorName: "Yellow",
          colorName: "Super Lemon",
          r: 228,
          g: 191,
          b: 69
        },
        {
          pantoneId: 373,
          name: "14-0755 TCX",
          majorColorName: "Yellow",
          colorName: "Sulphur",
          r: 221,
          g: 182,
          b: 20
        },
        {
          pantoneId: 374,
          name: "14-0756 TCX",
          majorColorName: "Yellow",
          colorName: "Empire Yellow",
          r: 247,
          g: 208,
          b: 0
        },
        {
          pantoneId: 375,
          name: "14-0760 TCX",
          majorColorName: "Yellow",
          colorName: "Cyber Yellow",
          r: 255,
          g: 212,
          b: 0
        },
        {
          pantoneId: 376,
          name: "14-0826 TCX",
          majorColorName: "Yellow",
          colorName: "Pampas",
          r: 207,
          g: 187,
          b: 123
        },
        {
          pantoneId: 377,
          name: "14-0827 TCX",
          majorColorName: "Yellow",
          colorName: "Dusky Citron",
          r: 227,
          g: 204,
          b: 129
        },
        {
          pantoneId: 378,
          name: "14-0837 TCX",
          majorColorName: "Orange",
          colorName: "Misted Yellow",
          r: 218,
          g: 185,
          b: 101
        },
        {
          pantoneId: 379,
          name: "14-0846 TCX",
          majorColorName: "Orange",
          colorName: "Yolk Yellow",
          r: 226,
          g: 176,
          b: 81
        },
        {
          pantoneId: 380,
          name: "14-0847 TCX",
          majorColorName: "Orange",
          colorName: "Buff Yellow",
          r: 241,
          g: 191,
          b: 112
        },
        {
          pantoneId: 381,
          name: "14-0848 TCX",
          majorColorName: "Orange",
          colorName: "Mimosa",
          r: 240,
          g: 192,
          b: 90
        },
        {
          pantoneId: 382,
          name: "14-0850 TCX",
          majorColorName: "Orange",
          colorName: "Daffodil",
          r: 253,
          g: 192,
          b: 78
        },
        {
          pantoneId: 383,
          name: "14-0852 TCX",
          majorColorName: "Orange",
          colorName: "Freesia",
          r: 243,
          g: 193,
          b: 44
        },
        {
          pantoneId: 384,
          name: "14-0925 TCX",
          majorColorName: "Orange",
          colorName: "Parsnip",
          r: 214,
          g: 198,
          b: 154
        },
        {
          pantoneId: 385,
          name: "14-0935 TCX",
          majorColorName: "Orange",
          colorName: "Jojoba",
          r: 218,
          g: 190,
          b: 129
        },
        {
          pantoneId: 386,
          name: "14-0936 TCX",
          majorColorName: "Orange",
          colorName: "Sahara Sun",
          r: 223,
          g: 192,
          b: 138
        },
        {
          pantoneId: 387,
          name: "14-0941 TCX",
          majorColorName: "Orange",
          colorName: "Beeswax",
          r: 235,
          g: 168,
          b: 81
        },
        {
          pantoneId: 388,
          name: "14-0951 TCX",
          majorColorName: "Orange",
          colorName: "Golden Rod",
          r: 226,
          g: 168,
          b: 41
        },
        {
          pantoneId: 389,
          name: "14-0955 TCX",
          majorColorName: "Orange",
          colorName: "Citrus",
          r: 249,
          g: 172,
          b: 47
        },
        {
          pantoneId: 390,
          name: "14-0957 TCX",
          majorColorName: "Orange",
          colorName: "Spectra Yellow",
          r: 247,
          g: 183,
          b: 24
        },
        {
          pantoneId: 391,
          name: "14-1012 TCX",
          majorColorName: "Brown",
          colorName: "Gilded Beige",
          r: 179,
          g: 159,
          b: 141
        },
        {
          pantoneId: 392,
          name: "14-1014 TCX",
          majorColorName: "Orange",
          colorName: "Gravel",
          r: 203,
          g: 191,
          b: 162
        },
        {
          pantoneId: 393,
          name: "14-1025 TCX",
          majorColorName: "Orange",
          colorName: "Cocoon",
          r: 201,
          g: 178,
          b: 124
        },
        {
          pantoneId: 394,
          name: "14-1031 TCX",
          majorColorName: "Orange",
          colorName: "Rattan",
          r: 209,
          g: 178,
          b: 114
        },
        {
          pantoneId: 395,
          name: "14-1036 TCX",
          majorColorName: "Orange",
          colorName: "Ochre",
          r: 214,
          g: 175,
          b: 102
        },
        {
          pantoneId: 396,
          name: "14-1038 TCX",
          majorColorName: "Orange",
          colorName: "New Wheat",
          r: 215,
          g: 181,
          b: 127
        },
        {
          pantoneId: 397,
          name: "14-1041 TCX",
          majorColorName: "Orange",
          colorName: "Golden Apricot",
          r: 221,
          g: 167,
          b: 88
        },
        {
          pantoneId: 398,
          name: "14-1045 TCX",
          majorColorName: "Orange",
          colorName: "Amber",
          r: 239,
          g: 173,
          b: 85
        },
        {
          pantoneId: 399,
          name: "14-1050 TCX",
          majorColorName: "Orange",
          colorName: "Marigold",
          r: 253,
          g: 172,
          b: 83
        },
        {
          pantoneId: 400,
          name: "14-1051 TCX",
          majorColorName: "Orange",
          colorName: "Warm Apricot",
          r: 255,
          g: 184,
          b: 101
        },
        {
          pantoneId: 401,
          name: "14-1064 TCX",
          majorColorName: "Orange",
          colorName: "Saffron",
          r: 255,
          g: 165,
          b: 0
        },
        {
          pantoneId: 402,
          name: "14-1106 TCX",
          majorColorName: "White",
          colorName: "Peyote",
          r: 197,
          g: 187,
          b: 174
        },
        {
          pantoneId: 403,
          name: "14-1107 TCX",
          majorColorName: "White",
          colorName: "Oyster Gray",
          r: 203,
          g: 193,
          b: 174
        },
        {
          pantoneId: 404,
          name: "14-1108 TCX",
          majorColorName: "Orange",
          colorName: "Wood Ash",
          r: 215,
          g: 202,
          b: 176
        },
        {
          pantoneId: 405,
          name: "14-1110 TCX",
          majorColorName: "Orange",
          colorName: "Boulder",
          r: 209,
          g: 190,
          b: 155
        },
        {
          pantoneId: 406,
          name: "14-1112 TCX",
          majorColorName: "Orange",
          colorName: "Pebble",
          r: 202,
          g: 182,
          b: 152
        },
        {
          pantoneId: 407,
          name: "14-1113 TCX",
          majorColorName: "Orange",
          colorName: "Marzipan",
          r: 216,
          g: 192,
          b: 157
        },
        {
          pantoneId: 408,
          name: "14-1116 TCX",
          majorColorName: "Orange",
          colorName: "Almond Buff",
          r: 204,
          g: 179,
          b: 144
        },
        {
          pantoneId: 409,
          name: "14-1118 TCX",
          majorColorName: "Orange",
          colorName: "Beige",
          r: 213,
          g: 186,
          b: 152
        },
        {
          pantoneId: 410,
          name: "14-1119 TCX",
          majorColorName: "Orange",
          colorName: "Winter Wheat",
          r: 223,
          g: 192,
          b: 159
        },
        {
          pantoneId: 411,
          name: "14-1120 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Illusion",
          r: 226,
          g: 196,
          b: 166
        },
        {
          pantoneId: 412,
          name: "14-1122 TCX",
          majorColorName: "Orange",
          colorName: "Sheepskin",
          r: 218,
          g: 181,
          b: 143
        },
        {
          pantoneId: 413,
          name: "14-1127 TCX",
          majorColorName: "Orange",
          colorName: "Desert Mist",
          r: 224,
          g: 181,
          b: 137
        },
        {
          pantoneId: 414,
          name: "14-1128 TCX",
          majorColorName: "Orange",
          colorName: "Buff Orange",
          r: 255,
          g: 187,
          b: 124
        },
        {
          pantoneId: 415,
          name: "14-1133 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Nectar",
          r: 236,
          g: 170,
          b: 121
        },
        {
          pantoneId: 416,
          name: "14-1135 TCX",
          majorColorName: "Orange",
          colorName: "Salmon Buff",
          r: 254,
          g: 170,
          b: 123
        },
        {
          pantoneId: 417,
          name: "14-1139 TCX",
          majorColorName: "Orange",
          colorName: "Pumpkin",
          r: 245,
          g: 162,
          b: 111
        },
        {
          pantoneId: 418,
          name: "14-1159 TCX",
          majorColorName: "Orange",
          colorName: "Zinnia",
          r: 255,
          g: 160,
          b: 16
        },
        {
          pantoneId: 419,
          name: "14-1209 TCX",
          majorColorName: "Orange",
          colorName: "Smoke Gray",
          r: 206,
          g: 186,
          b: 168
        },
        {
          pantoneId: 420,
          name: "14-1210 TCX",
          majorColorName: "Orange",
          colorName: "Shifting Sand",
          r: 216,
          g: 192,
          b: 173
        },
        {
          pantoneId: 421,
          name: "14-1212 TCX",
          majorColorName: "Orange",
          colorName: "Frappe",
          r: 209,
          g: 183,
          b: 160
        },
        {
          pantoneId: 422,
          name: "14-1213 TCX",
          majorColorName: "Orange",
          colorName: "Toasted Almond",
          r: 210,
          g: 180,
          b: 156
        },
        {
          pantoneId: 423,
          name: "14-1217 TCX",
          majorColorName: "Orange",
          colorName: "Amberlight",
          r: 226,
          g: 190,
          b: 162
        },
        {
          pantoneId: 424,
          name: "14-1219 TCX",
          majorColorName: "Orange",
          colorName: "Peach Parfait",
          r: 248,
          g: 191,
          b: 168
        },
        {
          pantoneId: 425,
          name: "14-1220 TCX",
          majorColorName: "Orange",
          colorName: "Peach Nougat",
          r: 230,
          g: 175,
          b: 145
        },
        {
          pantoneId: 426,
          name: "14-1224 TCX",
          majorColorName: "Orange",
          colorName: "Coral Sands",
          r: 237,
          g: 170,
          b: 134
        },
        {
          pantoneId: 427,
          name: "14-1225 TCX",
          majorColorName: "Orange",
          colorName: "Beach Sand",
          r: 251,
          g: 185,
          b: 149
        },
        {
          pantoneId: 428,
          name: "14-1227 TCX",
          majorColorName: "Orange",
          colorName: "Peach",
          r: 242,
          g: 169,
          b: 135
        },
        {
          pantoneId: 429,
          name: "14-1228 TCX",
          majorColorName: "Orange",
          colorName: "Peach Nectar",
          r: 255,
          g: 181,
          b: 155
        },
        {
          pantoneId: 430,
          name: "14-1230 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Wash",
          r: 251,
          g: 172,
          b: 130
        },
        {
          pantoneId: 431,
          name: "14-1231 TCX",
          majorColorName: "Orange",
          colorName: "Peach Cobbler",
          r: 255,
          g: 177,
          b: 129
        },
        {
          pantoneId: 432,
          name: "14-1305 TCX",
          majorColorName: "White",
          colorName: "Mushroom",
          r: 189,
          g: 172,
          b: 163
        },
        {
          pantoneId: 433,
          name: "14-1307 TCX",
          majorColorName: "Orange",
          colorName: "Rose Dust",
          r: 205,
          g: 178,
          b: 165
        },
        {
          pantoneId: 434,
          name: "14-1309 TCX",
          majorColorName: "Orange",
          colorName: "Peach Whip",
          r: 219,
          g: 190,
          b: 183
        },
        {
          pantoneId: 435,
          name: "14-1310 TCX",
          majorColorName: "Orange",
          colorName: "Cameo Rose",
          r: 215,
          g: 184,
          b: 171
        },
        {
          pantoneId: 436,
          name: "14-1311 TCX",
          majorColorName: "Orange",
          colorName: "Evening Sand",
          r: 221,
          g: 182,
          b: 171
        },
        {
          pantoneId: 437,
          name: "14-1312 TCX",
          majorColorName: "Orange",
          colorName: "Pale Blush",
          r: 228,
          g: 191,
          b: 179
        },
        {
          pantoneId: 438,
          name: "14-1313 TCX",
          majorColorName: "Orange",
          colorName: "Rose Cloud",
          r: 219,
          g: 176,
          b: 162
        },
        {
          pantoneId: 439,
          name: "14-1314 TCX",
          majorColorName: "Orange",
          colorName: "Spanish Villa",
          r: 223,
          g: 186,
          b: 169
        },
        {
          pantoneId: 440,
          name: "14-1316 TCX",
          majorColorName: "Orange",
          colorName: "Dusty Pink",
          r: 222,
          g: 170,
          b: 155
        },
        {
          pantoneId: 441,
          name: "14-1318 TCX",
          majorColorName: "Orange",
          colorName: "Coral Pink",
          r: 232,
          g: 167,
          b: 152
        },
        {
          pantoneId: 442,
          name: "14-1323 TCX",
          majorColorName: "Orange",
          colorName: "Salmon",
          r: 250,
          g: 170,
          b: 148
        },
        {
          pantoneId: 443,
          name: "14-1324 TCX",
          majorColorName: "Pink",
          colorName: "Peach Bud",
          r: 253,
          g: 178,
          b: 168
        },
        {
          pantoneId: 444,
          name: "14-1418 TCX",
          majorColorName: "Orange",
          colorName: "Peach Melba",
          r: 251,
          g: 189,
          b: 175
        },
        {
          pantoneId: 445,
          name: "14-1419 TCX",
          majorColorName: "Pink",
          colorName: "Peach Pearl",
          r: 255,
          g: 178,
          b: 165
        },
        {
          pantoneId: 446,
          name: "14-1420 TCX",
          majorColorName: "Pink",
          colorName: "Apricot Blush",
          r: 254,
          g: 174,
          b: 165
        },
        {
          pantoneId: 447,
          name: "14-1506 TCX",
          majorColorName: "Orange",
          colorName: "Rose Smoke",
          r: 211,
          g: 180,
          b: 173
        },
        {
          pantoneId: 448,
          name: "14-1508 TCX",
          majorColorName: "Pink",
          colorName: "Silver Pink",
          r: 220,
          g: 177,
          b: 175
        },
        {
          pantoneId: 449,
          name: "14-1511 TCX",
          majorColorName: "Pink",
          colorName: "Powder Pink",
          r: 236,
          g: 178,
          b: 179
        },
        {
          pantoneId: 450,
          name: "14-1513 TCX",
          majorColorName: "Pink",
          colorName: "Blossom",
          r: 242,
          g: 178,
          b: 174
        },
        {
          pantoneId: 451,
          name: "14-1521 TCX",
          majorColorName: "Pink",
          colorName: "Peaches N' Cream",
          r: 244,
          g: 166,
          b: 163
        },
        {
          pantoneId: 452,
          name: "14-1714 TCX",
          majorColorName: "Pink",
          colorName: "Quartz Pink",
          r: 239,
          g: 166,
          b: 170
        },
        {
          pantoneId: 453,
          name: "14-1905 TCX",
          majorColorName: "Pink",
          colorName: "Lotus",
          r: 226,
          g: 193,
          b: 192
        },
        {
          pantoneId: 454,
          name: "14-1907 TCX",
          majorColorName: "Pink",
          colorName: "Peachskin",
          r: 223,
          g: 184,
          b: 182
        },
        {
          pantoneId: 455,
          name: "14-1909 TCX",
          majorColorName: "Pink",
          colorName: "Coral Blush",
          r: 230,
          g: 178,
          b: 184
        },
        {
          pantoneId: 456,
          name: "14-1911 TCX",
          majorColorName: "Pink",
          colorName: "Candy Pink",
          r: 245,
          g: 176,
          b: 189
        },
        {
          pantoneId: 457,
          name: "14-2305 TCX",
          majorColorName: "Pink",
          colorName: "Pink Nectar",
          r: 216,
          g: 170,
          b: 183
        },
        {
          pantoneId: 458,
          name: "14-2307 TCX",
          majorColorName: "Pink",
          colorName: "Cameo Pink",
          r: 219,
          g: 169,
          b: 184
        },
        {
          pantoneId: 459,
          name: "14-2311 TCX",
          majorColorName: "Pink",
          colorName: "Prism Pink",
          r: 240,
          g: 161,
          b: 191
        },
        {
          pantoneId: 460,
          name: "14-2710 TCX",
          majorColorName: "Pink",
          colorName: "Lilac Sachet",
          r: 233,
          g: 173,
          b: 202
        },
        {
          pantoneId: 461,
          name: "14-2808 TCX",
          majorColorName: "Pink",
          colorName: "Sweet Lilac",
          r: 232,
          g: 181,
          b: 206
        },
        {
          pantoneId: 462,
          name: "14-3204 TCX",
          majorColorName: "Pink",
          colorName: "Fragrant Lilac",
          r: 206,
          g: 173,
          b: 190
        },
        {
          pantoneId: 463,
          name: "14-3206 TCX",
          majorColorName: "White",
          colorName: "Winsome Orchid",
          r: 212,
          g: 185,
          b: 203
        },
        {
          pantoneId: 464,
          name: "14-3207 TCX",
          majorColorName: "Pink",
          colorName: "Pink Lavender",
          r: 217,
          g: 175,
          b: 202
        },
        {
          pantoneId: 465,
          name: "14-3209 TCX",
          majorColorName: "Pink",
          colorName: "Pastel Lavender",
          r: 216,
          g: 161,
          b: 196
        },
        {
          pantoneId: 466,
          name: "14-3612 TCX",
          majorColorName: "Light-Purple",
          colorName: "Orchid Bloom",
          r: 197,
          g: 174,
          b: 207
        },
        {
          pantoneId: 467,
          name: "14-3710 TCX",
          majorColorName: "White",
          colorName: "Orchid Petal",
          r: 191,
          g: 180,
          b: 203
        },
        {
          pantoneId: 468,
          name: "14-3803 TCX",
          majorColorName: "White",
          colorName: "Hushed Violet",
          r: 209,
          g: 192,
          b: 191
        },
        {
          pantoneId: 469,
          name: "14-3805 TCX",
          majorColorName: "White",
          colorName: "Iris",
          r: 186,
          g: 175,
          b: 188
        },
        {
          pantoneId: 470,
          name: "14-3812 TCX",
          majorColorName: "Light-Purple",
          colorName: "Pastel Lilac",
          r: 189,
          g: 176,
          b: 208
        },
        {
          pantoneId: 471,
          name: "14-3903 TCX",
          majorColorName: "White",
          colorName: "Lilac Marble",
          r: 195,
          g: 186,
          b: 191
        },
        {
          pantoneId: 472,
          name: "14-3904 TCX",
          majorColorName: "White",
          colorName: "Evening Haze",
          r: 189,
          g: 184,
          b: 199
        },
        {
          pantoneId: 473,
          name: "14-3905 TCX",
          majorColorName: "White",
          colorName: "Lavender Blue",
          r: 197,
          g: 192,
          b: 208
        },
        {
          pantoneId: 474,
          name: "14-3907 TCX",
          majorColorName: "White",
          colorName: "Thistle",
          r: 185,
          g: 179,
          b: 197
        },
        {
          pantoneId: 475,
          name: "14-3911 TCX",
          majorColorName: "White",
          colorName: "Purple Heather",
          r: 186,
          g: 184,
          b: 211
        },
        {
          pantoneId: 476,
          name: "14-4002 TCX",
          majorColorName: "White",
          colorName: "Wind Chime",
          r: 202,
          g: 197,
          b: 194
        },
        {
          pantoneId: 477,
          name: "14-4102 TCX",
          majorColorName: "White",
          colorName: "Glacier Gray",
          r: 197,
          g: 198,
          b: 199
        },
        {
          pantoneId: 478,
          name: "14-4103 TCX",
          majorColorName: "White",
          colorName: "Gray Violet",
          r: 187,
          g: 188,
          b: 188
        },
        {
          pantoneId: 479,
          name: "14-4106 TCX",
          majorColorName: "White",
          colorName: "Gray Dawn",
          r: 187,
          g: 193,
          b: 204
        },
        {
          pantoneId: 480,
          name: "14-4110 TCX",
          majorColorName: "White",
          colorName: "Heather",
          r: 183,
          g: 192,
          b: 214
        },
        {
          pantoneId: 481,
          name: "14-4112 TCX",
          majorColorName: "Blue",
          colorName: "Skyway",
          r: 173,
          g: 190,
          b: 211
        },
        {
          pantoneId: 482,
          name: "14-4115 TCX",
          majorColorName: "Blue",
          colorName: "Cashmere Blue",
          r: 165,
          g: 184,
          b: 208
        },
        {
          pantoneId: 483,
          name: "14-4121 TCX",
          majorColorName: "Blue",
          colorName: "Blue Bell",
          r: 147,
          g: 180,
          b: 215
        },
        {
          pantoneId: 484,
          name: "14-4201 TCX",
          majorColorName: "White",
          colorName: "Lunar Rock",
          r: 197,
          g: 197,
          b: 197
        },
        {
          pantoneId: 485,
          name: "14-4203 TCX",
          majorColorName: "White",
          colorName: "Vapor Blue",
          r: 190,
          g: 189,
          b: 189
        },
        {
          pantoneId: 486,
          name: "14-4206 TCX",
          majorColorName: "White",
          colorName: "Pearl Blue",
          r: 176,
          g: 183,
          b: 190
        },
        {
          pantoneId: 487,
          name: "14-4210 TCX",
          majorColorName: "Blue",
          colorName: "Celestial Blue",
          r: 163,
          g: 180,
          b: 196
        },
        {
          pantoneId: 488,
          name: "14-4214 TCX",
          majorColorName: "Blue",
          colorName: "Powder Blue",
          r: 150,
          g: 179,
          b: 210
        },
        {
          pantoneId: 489,
          name: "14-4306 TCX",
          majorColorName: "White",
          colorName: "Cloud Blue",
          r: 162,
          g: 182,
          b: 185
        },
        {
          pantoneId: 490,
          name: "14-4307 TCX",
          majorColorName: "Blue",
          colorName: "Winter Sky",
          r: 169,
          g: 192,
          b: 203
        },
        {
          pantoneId: 491,
          name: "14-4313 TCX",
          majorColorName: "Blue",
          colorName: "Aquamarine",
          r: 157,
          g: 195,
          b: 212
        },
        {
          pantoneId: 492,
          name: "14-4318 TCX",
          majorColorName: "Blue",
          colorName: "Sky Blue",
          r: 138,
          g: 186,
          b: 211
        },
        {
          pantoneId: 493,
          name: "14-4500 TCX",
          majorColorName: "White",
          colorName: "Moonstruck",
          r: 194,
          g: 190,
          b: 182
        },
        {
          pantoneId: 494,
          name: "14-4501 TCX",
          majorColorName: "White",
          colorName: "Silver Lining",
          r: 189,
          g: 182,
          b: 171
        },
        {
          pantoneId: 495,
          name: "14-4502 TCX",
          majorColorName: "White",
          colorName: "Mercury",
          r: 186,
          g: 194,
          b: 186
        },
        {
          pantoneId: 496,
          name: "14-4503 TCX",
          majorColorName: "White",
          colorName: "Metal",
          r: 186,
          g: 191,
          b: 188
        },
        {
          pantoneId: 497,
          name: "14-4504 TCX",
          majorColorName: "White",
          colorName: "Sky Gray",
          r: 188,
          g: 200,
          b: 198
        },
        {
          pantoneId: 498,
          name: "14-4505 TCX",
          majorColorName: "White",
          colorName: "Smoke",
          r: 191,
          g: 200,
          b: 195
        },
        {
          pantoneId: 499,
          name: "14-4506 TCX",
          majorColorName: "White",
          colorName: "Ether",
          r: 158,
          g: 182,
          b: 184
        },
        {
          pantoneId: 500,
          name: "14-4508 TCX",
          majorColorName: "Blue",
          colorName: "Stratosphere",
          r: 158,
          g: 193,
          b: 204
        },
        {
          pantoneId: 501,
          name: "14-4510 TCX",
          majorColorName: "Blue",
          colorName: "Aquatic",
          r: 153,
          g: 193,
          b: 204
        },
        {
          pantoneId: 502,
          name: "14-4512 TCX",
          majorColorName: "Blue",
          colorName: "Porcelain Blue",
          r: 149,
          g: 192,
          b: 203
        },
        {
          pantoneId: 503,
          name: "14-4516 TCX",
          majorColorName: "Blue",
          colorName: "Petit four",
          r: 135,
          g: 194,
          b: 212
        },
        {
          pantoneId: 504,
          name: "14-4522 TCX",
          majorColorName: "Blue",
          colorName: "Bachelor Button",
          r: 74,
          g: 187,
          b: 213
        },
        {
          pantoneId: 505,
          name: "14-4804 TCX",
          majorColorName: "White",
          colorName: "Blue Fox",
          r: 185,
          g: 188,
          b: 182
        },
        {
          pantoneId: 506,
          name: "14-4807 TCX",
          majorColorName: "White",
          colorName: "Surf Spray",
          r: 180,
          g: 200,
          b: 194
        },
        {
          pantoneId: 507,
          name: "14-4809 TCX",
          majorColorName: "Blue-Green",
          colorName: "Eggshell Blue",
          r: 163,
          g: 204,
          b: 201
        },
        {
          pantoneId: 508,
          name: "14-4810 TCX",
          majorColorName: "Blue",
          colorName: "Canal Blue",
          r: 156,
          g: 194,
          b: 197
        },
        {
          pantoneId: 509,
          name: "14-4811 TCX",
          majorColorName: "Blue-green",
          colorName: "Aqua Sky",
          r: 123,
          g: 196,
          b: 196
        },
        {
          pantoneId: 510,
          name: "14-4814 TCX",
          majorColorName: "Blue",
          colorName: "Angel Blue",
          r: 131,
          g: 197,
          b: 205
        },
        {
          pantoneId: 511,
          name: "14-4816 TCX",
          majorColorName: "Blue",
          colorName: "Blue Radiance",
          r: 88,
          g: 201,
          b: 212
        },
        {
          pantoneId: 512,
          name: "14-4908 TCX",
          majorColorName: "White",
          colorName: "Harbor Gray",
          r: 168,
          g: 192,
          b: 187
        },
        {
          pantoneId: 513,
          name: "14-5002 TCX",
          majorColorName: "Gray",
          colorName: "Silver",
          r: 162,
          g: 162,
          b: 161
        },
        {
          pantoneId: 514,
          name: "14-5413 TCX",
          majorColorName: "Blue-Green",
          colorName: "Holiday",
          r: 129,
          g: 195,
          b: 180
        },
        {
          pantoneId: 515,
          name: "14-5416 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bermuda",
          r: 96,
          g: 201,
          b: 179
        },
        {
          pantoneId: 516,
          name: "14-5420 TCX",
          majorColorName: "Blue-Green",
          colorName: "Cockatoo",
          r: 88,
          g: 200,
          b: 182
        },
        {
          pantoneId: 517,
          name: "14-5706 TCX",
          majorColorName: "White",
          colorName: "Silt Green",
          r: 169,
          g: 189,
          b: 177
        },
        {
          pantoneId: 518,
          name: "14-5707 TCX",
          majorColorName: "White",
          colorName: "Aqua Foam",
          r: 173,
          g: 195,
          b: 180
        },
        {
          pantoneId: 519,
          name: "14-5711 TCX",
          majorColorName: "Blue-Green",
          colorName: "Ocean Wave",
          r: 142,
          g: 197,
          b: 182
        },
        {
          pantoneId: 520,
          name: "14-5713 TCX",
          majorColorName: "Blue-Green",
          colorName: "Cascade",
          r: 118,
          g: 193,
          b: 178
        },
        {
          pantoneId: 521,
          name: "14-5714 TCX",
          majorColorName: "Blue-Green",
          colorName: "Beveled Glass",
          r: 122,
          g: 204,
          b: 184
        },
        {
          pantoneId: 522,
          name: "14-5718 TCX",
          majorColorName: "Blue-Green",
          colorName: "Opal",
          r: 119,
          g: 207,
          b: 183
        },
        {
          pantoneId: 523,
          name: "14-5721 TCX",
          majorColorName: "Blue-Green",
          colorName: "Electric Green",
          r: 75,
          g: 195,
          b: 168
        },
        {
          pantoneId: 524,
          name: "14-6007 TCX",
          majorColorName: "White",
          colorName: "Sea Foam",
          r: 183,
          g: 194,
          b: 178
        },
        {
          pantoneId: 525,
          name: "14-6008 TCX",
          majorColorName: "White",
          colorName: "Subtle Green",
          r: 181,
          g: 203,
          b: 187
        },
        {
          pantoneId: 526,
          name: "14-6011 TCX",
          majorColorName: "Green",
          colorName: "Grayed Jade",
          r: 155,
          g: 190,
          b: 169
        },
        {
          pantoneId: 527,
          name: "14-6017 TCX",
          majorColorName: "Blue-Green",
          colorName: "Neptune Green",
          r: 127,
          g: 187,
          b: 158
        },
        {
          pantoneId: 528,
          name: "14-6305 TCX",
          majorColorName: "White",
          colorName: "Pelican",
          r: 193,
          g: 188,
          b: 172
        },
        {
          pantoneId: 529,
          name: "14-6308 TCX",
          majorColorName: "White",
          colorName: "Alfalfa",
          r: 183,
          g: 181,
          b: 159
        },
        {
          pantoneId: 530,
          name: "14-6312 TCX",
          majorColorName: "White",
          colorName: "Cameo Green",
          r: 170,
          g: 192,
          b: 173
        },
        {
          pantoneId: 531,
          name: "14-6316 TCX",
          majorColorName: "Green",
          colorName: "Sprucestone",
          r: 159,
          g: 192,
          b: 156
        },
        {
          pantoneId: 532,
          name: "14-6319 TCX",
          majorColorName: "Green",
          colorName: "Meadow",
          r: 139,
          g: 186,
          b: 148
        },
        {
          pantoneId: 533,
          name: "14-6324 TCX",
          majorColorName: "Green",
          colorName: "Peapod",
          r: 130,
          g: 177,
          b: 133
        },
        {
          pantoneId: 534,
          name: "14-6327 TCX",
          majorColorName: "Green",
          colorName: "Zephyr Green",
          r: 124,
          g: 176,
          b: 131
        },
        {
          pantoneId: 535,
          name: "14-6329 TCX",
          majorColorName: "Green",
          colorName: "Absinthe Green",
          r: 118,
          g: 181,
          b: 131
        },
        {
          pantoneId: 536,
          name: "14-6330 TCX",
          majorColorName: "Green",
          colorName: "Spring Bud",
          r: 107,
          g: 205,
          b: 156
        },
        {
          pantoneId: 537,
          name: "14-6340 TCX",
          majorColorName: "Green",
          colorName: "Spring Bouquet",
          r: 109,
          g: 206,
          b: 135
        },
        {
          pantoneId: 538,
          name: "14-6408 TCX",
          majorColorName: "White",
          colorName: "Abbey Stone",
          r: 171,
          g: 167,
          b: 152
        },
        {
          pantoneId: 539,
          name: "15-0000 TCX",
          majorColorName: "White",
          colorName: "Dove",
          r: 179,
          g: 173,
          b: 167
        },
        {
          pantoneId: 540,
          name: "15-0146 TCX",
          majorColorName: "Green",
          colorName: "Green Flash",
          r: 121,
          g: 199,
          b: 83
        },
        {
          pantoneId: 541,
          name: "15-0309 TCX",
          majorColorName: "Brown",
          colorName: "Spray Green",
          r: 174,
          g: 166,
          b: 146
        },
        {
          pantoneId: 542,
          name: "15-0318 TCX",
          majorColorName: "Yellow",
          colorName: "Sage Green",
          r: 178,
          g: 172,
          b: 136
        },
        {
          pantoneId: 543,
          name: "15-0326 TCX",
          majorColorName: "Green",
          colorName: "Tarragon",
          r: 164,
          g: 174,
          b: 119
        },
        {
          pantoneId: 544,
          name: "15-0332 TCX",
          majorColorName: "Green",
          colorName: "Leaf Green",
          r: 159,
          g: 175,
          b: 108
        },
        {
          pantoneId: 545,
          name: "15-0336 TCX",
          majorColorName: "Green",
          colorName: "Herbal Garden",
          r: 156,
          g: 173,
          b: 96
        },
        {
          pantoneId: 546,
          name: "15-0341 TCX",
          majorColorName: "Green",
          colorName: "Parrot Green",
          r: 141,
          g: 176,
          b: 81
        },
        {
          pantoneId: 547,
          name: "15-0343 TCX",
          majorColorName: "Green",
          colorName: "Greenery",
          r: 136,
          g: 176,
          b: 75
        },
        {
          pantoneId: 548,
          name: "15-0513 TCX",
          majorColorName: "Brown",
          colorName: "Eucalyptus",
          r: 177,
          g: 169,
          b: 146
        },
        {
          pantoneId: 549,
          name: "15-0522 TCX",
          majorColorName: "Yellow",
          colorName: "Pale Olive Green",
          r: 181,
          g: 173,
          b: 136
        },
        {
          pantoneId: 550,
          name: "15-0523 TCX",
          majorColorName: "Green",
          colorName: "Winter Pear",
          r: 176,
          g: 180,
          b: 135
        },
        {
          pantoneId: 551,
          name: "15-0525 TCX",
          majorColorName: "Yellow",
          colorName: "Weeping Willow",
          r: 179,
          g: 177,
          b: 123
        },
        {
          pantoneId: 552,
          name: "15-0531 TCX",
          majorColorName: "Green",
          colorName: "Sweet Pea",
          r: 163,
          g: 169,
          b: 105
        },
        {
          pantoneId: 553,
          name: "15-0533 TCX",
          majorColorName: "Yellow",
          colorName: "Linden Green",
          r: 196,
          g: 191,
          b: 113
        },
        {
          pantoneId: 554,
          name: "15-0535 TCX",
          majorColorName: "Yellow",
          colorName: "Palm",
          r: 175,
          g: 175,
          b: 94
        },
        {
          pantoneId: 555,
          name: "15-0538 TCX",
          majorColorName: "Yellow",
          colorName: "Green Oasis",
          r: 176,
          g: 180,
          b: 84
        },
        {
          pantoneId: 556,
          name: "15-0543 TCX",
          majorColorName: "Yellow",
          colorName: "Apple Green",
          r: 181,
          g: 182,
          b: 68
        },
        {
          pantoneId: 557,
          name: "15-0545 TCX",
          majorColorName: "Green",
          colorName: "Jasmine Green",
          r: 126,
          g: 200,
          b: 69
        },
        {
          pantoneId: 558,
          name: "15-0548 TCX",
          majorColorName: "Yellow",
          colorName: "Citronelle",
          r: 184,
          g: 175,
          b: 35
        },
        {
          pantoneId: 559,
          name: "15-0628 TCX",
          majorColorName: "Yellow",
          colorName: "Leek Green",
          r: 183,
          g: 177,
          b: 122
        },
        {
          pantoneId: 560,
          name: "15-0636 TCX",
          majorColorName: "Yellow",
          colorName: "Golden Green",
          r: 189,
          g: 179,
          b: 105
        },
        {
          pantoneId: 561,
          name: "15-0643 TCX",
          majorColorName: "Yellow",
          colorName: "Cress Green",
          r: 188,
          g: 169,
          b: 73
        },
        {
          pantoneId: 562,
          name: "15-0646 TCX",
          majorColorName: "Yellow",
          colorName: "Warm Olive",
          r: 199,
          g: 182,
          b: 60
        },
        {
          pantoneId: 563,
          name: "15-0703 TCX",
          majorColorName: "White",
          colorName: "Ashes of Roses",
          r: 181,
          g: 172,
          b: 171
        },
        {
          pantoneId: 564,
          name: "15-0719 TCX",
          majorColorName: "Brown",
          colorName: "Silver Fern",
          r: 187,
          g: 170,
          b: 126
        },
        {
          pantoneId: 565,
          name: "15-0730 TCX",
          majorColorName: "Brown",
          colorName: "Southern Moss",
          r: 188,
          g: 166,
          b: 106
        },
        {
          pantoneId: 566,
          name: "15-0732 TCX",
          majorColorName: "Orange",
          colorName: "Olivenite",
          r: 193,
          g: 166,
          b: 92
        },
        {
          pantoneId: 567,
          name: "15-0743 TCX",
          majorColorName: "Yellow",
          colorName: "Oil Yellow",
          r: 196,
          g: 166,
          b: 71
        },
        {
          pantoneId: 568,
          name: "15-0751 TCX",
          majorColorName: "Yellow",
          colorName: "Lemon Curry",
          r: 205,
          g: 163,
          b: 35
        },
        {
          pantoneId: 569,
          name: "15-0850 TCX",
          majorColorName: "Orange",
          colorName: "Ceylon Yellow",
          r: 212,
          g: 174,
          b: 64
        },
        {
          pantoneId: 570,
          name: "15-0927 TCX",
          majorColorName: "Brown",
          colorName: "Pale Gold",
          r: 189,
          g: 152,
          b: 101
        },
        {
          pantoneId: 571,
          name: "15-0942 TCX",
          majorColorName: "Orange",
          colorName: "Sauterne",
          r: 197,
          g: 162,
          b: 83
        },
        {
          pantoneId: 572,
          name: "15-0948 TCX",
          majorColorName: "Orange",
          colorName: "Golden Spice",
          r: 198,
          g: 151,
          b: 63
        },
        {
          pantoneId: 573,
          name: "15-0953 TCX",
          majorColorName: "Orange",
          colorName: "Golden Yellow",
          r: 203,
          g: 142,
          b: 22
        },
        {
          pantoneId: 574,
          name: "15-0955 TCX",
          majorColorName: "Orange",
          colorName: "Old Gold",
          r: 236,
          g: 168,
          b: 37
        },
        {
          pantoneId: 575,
          name: "15-1046 TCX",
          majorColorName: "Orange",
          colorName: "Mineral Yellow",
          r: 211,
          g: 156,
          b: 67
        },
        {
          pantoneId: 576,
          name: "15-1049 TCX",
          majorColorName: "Orange",
          colorName: "Artisan's Gold",
          r: 242,
          g: 171,
          b: 70
        },
        {
          pantoneId: 577,
          name: "15-1050 TCX",
          majorColorName: "Orange",
          colorName: "Golden Glow",
          r: 217,
          g: 153,
          b: 56
        },
        {
          pantoneId: 578,
          name: "15-1054 TCX",
          majorColorName: "Orange",
          colorName: "Cadmium Yellow",
          r: 238,
          g: 150,
          b: 38
        },
        {
          pantoneId: 579,
          name: "15-1058 TCX",
          majorColorName: "Orange",
          colorName: "Radiant Yellow",
          r: 252,
          g: 158,
          b: 33
        },
        {
          pantoneId: 580,
          name: "15-1062 TCX",
          majorColorName: "Orange",
          colorName: "Gold Fusion",
          r: 255,
          g: 176,
          b: 0
        },
        {
          pantoneId: 581,
          name: "15-1116 TCX",
          majorColorName: "Brown",
          colorName: "Safari",
          r: 186,
          g: 170,
          b: 145
        },
        {
          pantoneId: 582,
          name: "15-1119 TCX",
          majorColorName: "Brown",
          colorName: "Taos Taupe",
          r: 191,
          g: 167,
          b: 127
        },
        {
          pantoneId: 583,
          name: "15-1132 TCX",
          majorColorName: "Orange",
          colorName: "Fall Leaf",
          r: 201,
          g: 168,
          b: 106
        },
        {
          pantoneId: 584,
          name: "15-1142 TCX",
          majorColorName: "Orange",
          colorName: "Honey Gold",
          r: 209,
          g: 160,
          b: 84
        },
        {
          pantoneId: 585,
          name: "15-1145 TCX",
          majorColorName: "Orange",
          colorName: "Chamois",
          r: 247,
          g: 178,
          b: 106
        },
        {
          pantoneId: 586,
          name: "15-1147 TCX",
          majorColorName: "Orange",
          colorName: "Butterscotch",
          r: 225,
          g: 150,
          b: 64
        },
        {
          pantoneId: 587,
          name: "15-1150 TCX",
          majorColorName: "Orange",
          colorName: "Dark Cheddar",
          r: 224,
          g: 129,
          b: 25
        },
        {
          pantoneId: 588,
          name: "15-1153 TCX",
          majorColorName: "Orange",
          colorName: "Apricot",
          r: 241,
          g: 144,
          b: 53
        },
        {
          pantoneId: 589,
          name: "15-1157 TCX",
          majorColorName: "Orange",
          colorName: "Flame Orange",
          r: 251,
          g: 139,
          b: 35
        },
        {
          pantoneId: 590,
          name: "15-1160 TCX",
          majorColorName: "Orange",
          colorName: "Blazing Orange",
          r: 255,
          g: 166,
          b: 79
        },
        {
          pantoneId: 591,
          name: "15-1164 TCX",
          majorColorName: "Orange",
          colorName: "Bright Marigold",
          r: 255,
          g: 141,
          b: 0
        },
        {
          pantoneId: 592,
          name: "15-1213 TCX",
          majorColorName: "Brown",
          colorName: "Candied Ginger",
          r: 191,
          g: 163,
          b: 135
        },
        {
          pantoneId: 593,
          name: "15-1214 TCX",
          majorColorName: "Orange",
          colorName: "Warm Sand",
          r: 197,
          g: 174,
          b: 145
        },
        {
          pantoneId: 594,
          name: "15-1215 TCX",
          majorColorName: "Brown",
          colorName: "Sesame",
          r: 186,
          g: 163,
          b: 139
        },
        {
          pantoneId: 595,
          name: "15-1216 TCX",
          majorColorName: "Brown",
          colorName: "Pale Khaki",
          r: 191,
          g: 175,
          b: 146
        },
        {
          pantoneId: 596,
          name: "15-1217 TCX",
          majorColorName: "Orange",
          colorName: "Mojave Desert",
          r: 199,
          g: 181,
          b: 149
        },
        {
          pantoneId: 597,
          name: "15-1220 TCX",
          majorColorName: "Orange",
          colorName: "Latte",
          r: 197,
          g: 165,
          b: 130
        },
        {
          pantoneId: 598,
          name: "15-1225 TCX",
          majorColorName: "Orange",
          colorName: "Sand",
          r: 204,
          g: 166,
          b: 127
        },
        {
          pantoneId: 599,
          name: "15-1231 TCX",
          majorColorName: "Orange",
          colorName: "Clay",
          r: 210,
          g: 161,
          b: 114
        },
        {
          pantoneId: 600,
          name: "15-1234 TCX",
          majorColorName: "Orange",
          colorName: "Gold Earth",
          r: 221,
          g: 156,
          b: 107
        },
        {
          pantoneId: 601,
          name: "15-1237 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Tan",
          r: 221,
          g: 151,
          b: 96
        },
        {
          pantoneId: 602,
          name: "15-1239 TCX",
          majorColorName: "Orange",
          colorName: "Cantaloupe",
          r: 255,
          g: 161,
          b: 119
        },
        {
          pantoneId: 603,
          name: "15-1242 TCX",
          majorColorName: "Orange",
          colorName: "Muskmelon",
          r: 236,
          g: 147,
          b: 94
        },
        {
          pantoneId: 604,
          name: "15-1245 TCX",
          majorColorName: "Orange",
          colorName: "Mock Orange",
          r: 255,
          g: 163,
          b: 104
        },
        {
          pantoneId: 605,
          name: "15-1247 TCX",
          majorColorName: "Orange",
          colorName: "Tangerine",
          r: 248,
          g: 143,
          b: 88
        },
        {
          pantoneId: 606,
          name: "15-1263 TCX",
          majorColorName: "Orange",
          colorName: "Autumn Glory",
          r: 255,
          g: 136,
          b: 18
        },
        {
          pantoneId: 607,
          name: "15-1305 TCX",
          majorColorName: "White",
          colorName: "Feather Gray",
          r: 184,
          g: 173,
          b: 158
        },
        {
          pantoneId: 608,
          name: "15-1306 TCX",
          majorColorName: "Brown",
          colorName: "Oxford Tan",
          r: 184,
          g: 169,
          b: 154
        },
        {
          pantoneId: 609,
          name: "15-1308 TCX",
          majorColorName: "Brown",
          colorName: "Doeskin",
          r: 189,
          g: 171,
          b: 155
        },
        {
          pantoneId: 610,
          name: "15-1309 TCX",
          majorColorName: "Orange",
          colorName: "Moonlight",
          r: 197,
          g: 177,
          b: 160
        },
        {
          pantoneId: 611,
          name: "15-1314 TCX",
          majorColorName: "Orange",
          colorName: "Cuban Sand",
          r: 193,
          g: 166,
          b: 141
        },
        {
          pantoneId: 612,
          name: "15-1315 TCX",
          majorColorName: "Orange",
          colorName: "Rugby Tan",
          r: 194,
          g: 165,
          b: 148
        },
        {
          pantoneId: 613,
          name: "15-1316 TCX",
          majorColorName: "Orange",
          colorName: "Maple Sugar",
          r: 201,
          g: 163,
          b: 141
        },
        {
          pantoneId: 614,
          name: "15-1317 TCX",
          majorColorName: "Orange",
          colorName: "Sirocco",
          r: 195,
          g: 157,
          b: 136
        },
        {
          pantoneId: 615,
          name: "15-1318 TCX",
          majorColorName: "Orange",
          colorName: "Pink Sand",
          r: 223,
          g: 177,
          b: 155
        },
        {
          pantoneId: 616,
          name: "15-1319 TCX",
          majorColorName: "Orange",
          colorName: "Almost Apricot",
          r: 229,
          g: 179,
          b: 155
        },
        {
          pantoneId: 617,
          name: "15-1322 TCX",
          majorColorName: "Orange",
          colorName: "Dusty Coral",
          r: 210,
          g: 155,
          b: 131
        },
        {
          pantoneId: 618,
          name: "15-1327 TCX",
          majorColorName: "Orange",
          colorName: "Peach Bloom",
          r: 217,
          g: 155,
          b: 124
        },
        {
          pantoneId: 619,
          name: "15-1331 TCX",
          majorColorName: "Orange",
          colorName: "Coral Reef",
          r: 250,
          g: 161,
          b: 129
        },
        {
          pantoneId: 620,
          name: "15-1333 TCX",
          majorColorName: "Orange",
          colorName: "Canyon Sunset",
          r: 225,
          g: 146,
          b: 122
        },
        {
          pantoneId: 621,
          name: "15-1334 TCX",
          majorColorName: "Orange",
          colorName: "Shell Coral",
          r: 234,
          g: 149,
          b: 117
        },
        {
          pantoneId: 622,
          name: "15-1340 TCX",
          majorColorName: "Orange",
          colorName: "Cadmium Orange",
          r: 249,
          g: 148,
          b: 113
        },
        {
          pantoneId: 623,
          name: "15-1415 TCX",
          majorColorName: "Pink",
          colorName: "Coral Cloud",
          r: 226,
          g: 169,
          b: 161
        },
        {
          pantoneId: 624,
          name: "15-1423 TCX",
          majorColorName: "Pink",
          colorName: "Peach Amber",
          r: 251,
          g: 159,
          b: 147
        },
        {
          pantoneId: 625,
          name: "15-1433 TCX",
          majorColorName: "Orange",
          colorName: "Papaya Punch",
          r: 252,
          g: 162,
          b: 137
        },
        {
          pantoneId: 626,
          name: "15-1435 TCX",
          majorColorName: "Pink",
          colorName: "Desert Flower",
          r: 255,
          g: 150,
          b: 135
        },
        {
          pantoneId: 627,
          name: "15-1511 TCX",
          majorColorName: "Orange",
          colorName: "Mahogany Rose",
          r: 197,
          g: 161,
          b: 147
        },
        {
          pantoneId: 628,
          name: "15-1512 TCX",
          majorColorName: "Orange",
          colorName: "Misty Rose",
          r: 202,
          g: 163,
          b: 154
        },
        {
          pantoneId: 629,
          name: "15-1515 TCX",
          majorColorName: "Pink",
          colorName: "Mellow Rose",
          r: 217,
          g: 166,
          b: 161
        },
        {
          pantoneId: 630,
          name: "15-1516 TCX",
          majorColorName: "Red",
          colorName: "Peach Beige",
          r: 211,
          g: 162,
          b: 151
        },
        {
          pantoneId: 631,
          name: "15-1523 TCX",
          majorColorName: "Orange",
          colorName: "Shrimp",
          r: 226,
          g: 154,
          b: 134
        },
        {
          pantoneId: 632,
          name: "15-1530 TCX",
          majorColorName: "Pink",
          colorName: "Peach Pink",
          r: 250,
          g: 154,
          b: 133
        },
        {
          pantoneId: 633,
          name: "15-1607 TCX",
          majorColorName: "Pink",
          colorName: "Pale Mauve",
          r: 198,
          g: 164,
          b: 164
        },
        {
          pantoneId: 634,
          name: "15-1611 TCX",
          majorColorName: "Pink",
          colorName: "Bridal Rose",
          r: 214,
          g: 159,
          b: 162
        },
        {
          pantoneId: 635,
          name: "15-1614 TCX",
          majorColorName: "Pink",
          colorName: "Blush",
          r: 209,
          g: 150,
          b: 154
        },
        {
          pantoneId: 636,
          name: "15-1621 TCX",
          majorColorName: "Pink",
          colorName: "Candlelight Peach",
          r: 248,
          g: 163,
          b: 157
        },
        {
          pantoneId: 637,
          name: "15-1624 TCX",
          majorColorName: "Pink",
          colorName: "Conch Shell",
          r: 252,
          g: 143,
          b: 155
        },
        {
          pantoneId: 638,
          name: "15-1626 TCX",
          majorColorName: "Pink",
          colorName: "Salmon Rose",
          r: 255,
          g: 141,
          b: 148
        },
        {
          pantoneId: 639,
          name: "15-1717 TCX",
          majorColorName: "Pink",
          colorName: "Pink Icing",
          r: 238,
          g: 160,
          b: 166
        },
        {
          pantoneId: 640,
          name: "15-1816 TCX",
          majorColorName: "Pink",
          colorName: "Peony",
          r: 237,
          g: 156,
          b: 168
        },
        {
          pantoneId: 641,
          name: "15-1821 TCX",
          majorColorName: "Pink",
          colorName: "Flamingo Pink",
          r: 247,
          g: 150,
          b: 158
        },
        {
          pantoneId: 642,
          name: "15-1905 TCX",
          majorColorName: "White",
          colorName: "Burnished Lilac",
          r: 197,
          g: 174,
          b: 177
        },
        {
          pantoneId: 643,
          name: "15-1906 TCX",
          majorColorName: "Pink",
          colorName: "Zephyr",
          r: 200,
          g: 159,
          b: 165
        },
        {
          pantoneId: 644,
          name: "15-1912 TCX",
          majorColorName: "Pink",
          colorName: "Sea Pink",
          r: 222,
          g: 152,
          b: 171
        },
        {
          pantoneId: 645,
          name: "15-1920 TCX",
          majorColorName: "Pink",
          colorName: "Morning Glory",
          r: 238,
          g: 129,
          b: 159
        },
        {
          pantoneId: 646,
          name: "15-1922 TCX",
          majorColorName: "Pink",
          colorName: "Geranium Pink",
          r: 246,
          g: 144,
          b: 157
        },
        {
          pantoneId: 647,
          name: "15-2205 TCX",
          majorColorName: "White",
          colorName: "Dawn Pink",
          r: 191,
          g: 163,
          b: 175
        },
        {
          pantoneId: 648,
          name: "15-2210 TCX",
          majorColorName: "Pink",
          colorName: "Orchid Smoke",
          r: 210,
          g: 148,
          b: 170
        },
        {
          pantoneId: 649,
          name: "15-2214 TCX",
          majorColorName: "Pink",
          colorName: "Rosebloom",
          r: 226,
          g: 144,
          b: 178
        },
        {
          pantoneId: 650,
          name: "15-2215 TCX",
          majorColorName: "Pink",
          colorName: "Begonia Pink",
          r: 236,
          g: 154,
          b: 190
        },
        {
          pantoneId: 651,
          name: "15-2216 TCX",
          majorColorName: "Pink",
          colorName: "Sachet Pink",
          r: 241,
          g: 138,
          b: 173
        },
        {
          pantoneId: 652,
          name: "15-2217 TCX",
          majorColorName: "Pink",
          colorName: "Aurora Pink",
          r: 232,
          g: 129,
          b: 166
        },
        {
          pantoneId: 653,
          name: "15-2705 TCX",
          majorColorName: "White",
          colorName: "Keepsake Lilac",
          r: 192,
          g: 165,
          b: 174
        },
        {
          pantoneId: 654,
          name: "15-2706 TCX",
          majorColorName: "White",
          colorName: "Violet Ice",
          r: 194,
          g: 172,
          b: 177
        },
        {
          pantoneId: 655,
          name: "15-2718 TCX",
          majorColorName: "Pink",
          colorName: "Fuchsia Pink",
          r: 223,
          g: 136,
          b: 183
        },
        {
          pantoneId: 656,
          name: "15-2913 TCX",
          majorColorName: "Pink",
          colorName: "Lilac Chiffon",
          r: 222,
          g: 155,
          b: 196
        },
        {
          pantoneId: 657,
          name: "15-3207 TCX",
          majorColorName: "Pink",
          colorName: "Mauve Mist",
          r: 196,
          g: 157,
          b: 180
        },
        {
          pantoneId: 658,
          name: "15-3214 TCX",
          majorColorName: "Pink",
          colorName: "Orchid",
          r: 209,
          g: 152,
          b: 197
        },
        {
          pantoneId: 659,
          name: "15-3412 TCX",
          majorColorName: "Light-Purple",
          colorName: "Orchid Bouquet",
          r: 209,
          g: 172,
          b: 206
        },
        {
          pantoneId: 660,
          name: "15-3507 TCX",
          majorColorName: "White",
          colorName: "Lavender Frost",
          r: 189,
          g: 171,
          b: 190
        },
        {
          pantoneId: 661,
          name: "15-3508 TCX",
          majorColorName: "White",
          colorName: "Fair Orchid",
          r: 192,
          g: 170,
          b: 192
        },
        {
          pantoneId: 662,
          name: "15-3620 TCX",
          majorColorName: "Light-Purple",
          colorName: "Lavendula",
          r: 188,
          g: 164,
          b: 203
        },
        {
          pantoneId: 663,
          name: "15-3802 TCX",
          majorColorName: "White",
          colorName: "Cloud Gray",
          r: 183,
          g: 169,
          b: 172
        },
        {
          pantoneId: 664,
          name: "15-3807 TCX",
          majorColorName: "White",
          colorName: "Misty Lilac",
          r: 188,
          g: 180,
          b: 196
        },
        {
          pantoneId: 665,
          name: "15-3817 TCX",
          majorColorName: "Light-Purple",
          colorName: "Lavender",
          r: 175,
          g: 164,
          b: 206
        },
        {
          pantoneId: 666,
          name: "15-3909 TCX",
          majorColorName: "White",
          colorName: "Cosmic Sky",
          r: 170,
          g: 170,
          b: 196
        },
        {
          pantoneId: 667,
          name: "15-3910 TCX",
          majorColorName: "White",
          colorName: "Languid Lavender",
          r: 162,
          g: 161,
          b: 186
        },
        {
          pantoneId: 668,
          name: "15-3915 TCX",
          majorColorName: "Blue",
          colorName: "Kentucky Blue",
          r: 165,
          g: 179,
          b: 204
        },
        {
          pantoneId: 669,
          name: "15-3920 TCX",
          majorColorName: "Blue",
          colorName: "Placid Blue",
          r: 140,
          g: 173,
          b: 211
        },
        {
          pantoneId: 670,
          name: "15-3930 TCX",
          majorColorName: "Blue",
          colorName: "Vista Blue",
          r: 129,
          g: 160,
          b: 212
        },
        {
          pantoneId: 671,
          name: "15-4003 TCX",
          majorColorName: "White",
          colorName: "Storm Gray",
          r: 181,
          g: 186,
          b: 182
        },
        {
          pantoneId: 672,
          name: "15-4005 TCX",
          majorColorName: "Blue",
          colorName: "Dream Blue",
          r: 160,
          g: 188,
          b: 208
        },
        {
          pantoneId: 673,
          name: "15-4008 TCX",
          majorColorName: "Blue",
          colorName: "Blue Fog",
          r: 155,
          g: 171,
          b: 187
        },
        {
          pantoneId: 674,
          name: "15-4020 TCX",
          majorColorName: "Blue",
          colorName: "Cerulean",
          r: 155,
          g: 183,
          b: 212
        },
        {
          pantoneId: 675,
          name: "15-4101 TCX",
          majorColorName: "White",
          colorName: "High-rise",
          r: 174,
          g: 178,
          b: 181
        },
        {
          pantoneId: 676,
          name: "15-4105 TCX",
          majorColorName: "Blue",
          colorName: "Angel Falls",
          r: 163,
          g: 189,
          b: 211
        },
        {
          pantoneId: 677,
          name: "15-4225 TCX",
          majorColorName: "Blue",
          colorName: "Alaskan Blue",
          r: 109,
          g: 169,
          b: 210
        },
        {
          pantoneId: 678,
          name: "15-4305 TCX",
          majorColorName: "Gray",
          colorName: "Quarry",
          r: 152,
          g: 160,
          b: 165
        },
        {
          pantoneId: 679,
          name: "15-4309 TCX",
          majorColorName: "Blue",
          colorName: "Sterling Blue",
          r: 162,
          g: 185,
          b: 194
        },
        {
          pantoneId: 680,
          name: "15-4312 TCX",
          majorColorName: "Blue",
          colorName: "Forget-Me-Not",
          r: 143,
          g: 173,
          b: 189
        },
        {
          pantoneId: 681,
          name: "15-4319 TCX",
          majorColorName: "Blue",
          colorName: "Air Blue",
          r: 119,
          g: 172,
          b: 199
        },
        {
          pantoneId: 682,
          name: "15-4323 TCX",
          majorColorName: "Blue",
          colorName: "Ethereal Blue",
          r: 92,
          g: 166,
          b: 206
        },
        {
          pantoneId: 683,
          name: "15-4415 TCX",
          majorColorName: "Blue",
          colorName: "Milky Blue",
          r: 114,
          g: 168,
          b: 186
        },
        {
          pantoneId: 684,
          name: "15-4421 TCX",
          majorColorName: "Blue",
          colorName: "Blue Grotto",
          r: 92,
          g: 172,
          b: 206
        },
        {
          pantoneId: 685,
          name: "15-4427 TCX",
          majorColorName: "Blue",
          colorName: "Norse Blue",
          r: 76,
          g: 165,
          b: 199
        },
        {
          pantoneId: 686,
          name: "15-4502 TCX",
          majorColorName: "White",
          colorName: "Silver Cloud",
          r: 190,
          g: 183,
          b: 176
        },
        {
          pantoneId: 687,
          name: "15-4503 TCX",
          majorColorName: "White",
          colorName: "Chateau Gray",
          r: 187,
          g: 177,
          b: 168
        },
        {
          pantoneId: 688,
          name: "15-4702 TCX",
          majorColorName: "White",
          colorName: "Puritan Gray",
          r: 168,
          g: 176,
          b: 174
        },
        {
          pantoneId: 689,
          name: "15-4703 TCX",
          majorColorName: "White",
          colorName: "Mirage Gray",
          r: 171,
          g: 175,
          b: 174
        },
        {
          pantoneId: 690,
          name: "15-4704 TCX",
          majorColorName: "White",
          colorName: "Pigeon",
          r: 169,
          g: 175,
          b: 170
        },
        {
          pantoneId: 691,
          name: "15-4706 TCX",
          majorColorName: "White",
          colorName: "Gray Mist",
          r: 153,
          g: 174,
          b: 174
        },
        {
          pantoneId: 692,
          name: "15-4707 TCX",
          majorColorName: "White",
          colorName: "Blue Haze",
          r: 165,
          g: 188,
          b: 187
        },
        {
          pantoneId: 693,
          name: "15-4712 TCX",
          majorColorName: "Blue",
          colorName: "Marine Blue",
          r: 118,
          g: 175,
          b: 182
        },
        {
          pantoneId: 694,
          name: "15-4715 TCX",
          majorColorName: "Blue",
          colorName: "Aqua Sea",
          r: 107,
          g: 170,
          b: 174
        },
        {
          pantoneId: 695,
          name: "15-4717 TCX",
          majorColorName: "Blue",
          colorName: "Aqua",
          r: 100,
          g: 161,
          b: 173
        },
        {
          pantoneId: 696,
          name: "15-4720 TCX",
          majorColorName: "Blue",
          colorName: "River Blue",
          r: 56,
          g: 175,
          b: 205
        },
        {
          pantoneId: 697,
          name: "15-4722 TCX",
          majorColorName: "Blue",
          colorName: "Capri",
          r: 68,
          g: 187,
          b: 202
        },
        {
          pantoneId: 698,
          name: "15-4825 TCX",
          majorColorName: "Blue",
          colorName: "Blue Curacao",
          r: 50,
          g: 190,
          b: 204
        },
        {
          pantoneId: 699,
          name: "15-5205 TCX",
          majorColorName: "White",
          colorName: "Aqua Gray",
          r: 165,
          g: 178,
          b: 170
        },
        {
          pantoneId: 700,
          name: "15-5207 TCX",
          majorColorName: "Blue-green",
          colorName: "Aquifer",
          r: 137,
          g: 172,
          b: 172
        },
        {
          pantoneId: 701,
          name: "15-5209 TCX",
          majorColorName: "Blue",
          colorName: "Aqua Haze",
          r: 135,
          g: 185,
          b: 188
        },
        {
          pantoneId: 702,
          name: "15-5210 TCX",
          majorColorName: "Blue",
          colorName: "Nile Blue",
          r: 118,
          g: 167,
          b: 171
        },
        {
          pantoneId: 703,
          name: "15-5217 TCX",
          majorColorName: "Blue-Green",
          colorName: "Blue Turquoise",
          r: 83,
          g: 176,
          b: 174
        },
        {
          pantoneId: 704,
          name: "15-5218 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pool Blue",
          r: 103,
          g: 188,
          b: 179
        },
        {
          pantoneId: 705,
          name: "15-5416 TCX",
          majorColorName: "Blue-Green",
          colorName: "Florida Keys",
          r: 86,
          g: 190,
          b: 171
        },
        {
          pantoneId: 706,
          name: "15-5421 TCX",
          majorColorName: "Blue-Green",
          colorName: "Aqua Green",
          r: 0,
          g: 184,
          b: 159
        },
        {
          pantoneId: 707,
          name: "15-5425 TCX",
          majorColorName: "Blue-Green",
          colorName: "Atlantis",
          r: 0,
          g: 175,
          b: 159
        },
        {
          pantoneId: 708,
          name: "15-5516 TCX",
          majorColorName: "Blue-Green",
          colorName: "Waterfall",
          r: 58,
          g: 176,
          b: 162
        },
        {
          pantoneId: 709,
          name: "15-5519 TCX",
          majorColorName: "Blue-Green",
          colorName: "Turquoise",
          r: 69,
          g: 181,
          b: 170
        },
        {
          pantoneId: 710,
          name: "15-5534 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bright Green",
          r: 0,
          g: 155,
          b: 92
        },
        {
          pantoneId: 711,
          name: "15-5704 TCX",
          majorColorName: "White",
          colorName: "Mineral Gray",
          r: 178,
          g: 182,
          b: 172
        },
        {
          pantoneId: 712,
          name: "15-5706 TCX",
          majorColorName: "White",
          colorName: "Frosty Green",
          r: 163,
          g: 181,
          b: 166
        },
        {
          pantoneId: 713,
          name: "15-5711 TCX",
          majorColorName: "Blue-Green",
          colorName: "Dusty Jade Green",
          r: 123,
          g: 181,
          b: 163
        },
        {
          pantoneId: 714,
          name: "15-5718 TCX",
          majorColorName: "Blue-Green",
          colorName: "Biscay Green",
          r: 85,
          g: 198,
          b: 169
        },
        {
          pantoneId: 715,
          name: "15-5728 TCX",
          majorColorName: "Blue-Green",
          colorName: "Mint Leaf",
          r: 0,
          g: 182,
          b: 148
        },
        {
          pantoneId: 716,
          name: "15-5812 TCX",
          majorColorName: "Blue-Green",
          colorName: "Lichen",
          r: 155,
          g: 194,
          b: 177
        },
        {
          pantoneId: 717,
          name: "15-5819 TCX",
          majorColorName: "Blue-Green",
          colorName: "Spearmint",
          r: 100,
          g: 191,
          b: 164
        },
        {
          pantoneId: 718,
          name: "15-6114 TCX",
          majorColorName: "Green",
          colorName: "Hemlock",
          r: 151,
          g: 193,
          b: 161
        },
        {
          pantoneId: 719,
          name: "15-6120 TCX",
          majorColorName: "Green",
          colorName: "Ming",
          r: 124,
          g: 176,
          b: 138
        },
        {
          pantoneId: 720,
          name: "15-6123 TCX",
          majorColorName: "Blue-Green",
          colorName: "Jade Cream",
          r: 96,
          g: 184,
          b: 146
        },
        {
          pantoneId: 721,
          name: "15-6304 TCX",
          majorColorName: "White",
          colorName: "Pussywillow Gray",
          r: 174,
          g: 172,
          b: 161
        },
        {
          pantoneId: 722,
          name: "15-6307 TCX",
          majorColorName: "White",
          colorName: "Agate Gray",
          r: 177,
          g: 176,
          b: 159
        },
        {
          pantoneId: 723,
          name: "15-6310 TCX",
          majorColorName: "White",
          colorName: "Swamp",
          r: 168,
          g: 177,
          b: 151
        },
        {
          pantoneId: 724,
          name: "15-6313 TCX",
          majorColorName: "White",
          colorName: "Laurel Green",
          r: 173,
          g: 187,
          b: 161
        },
        {
          pantoneId: 725,
          name: "15-6315 TCX",
          majorColorName: "White",
          colorName: "Smoke Green",
          r: 168,
          g: 187,
          b: 162
        },
        {
          pantoneId: 726,
          name: "15-6316 TCX",
          majorColorName: "Green",
          colorName: "Fair Green",
          r: 146,
          g: 175,
          b: 136
        },
        {
          pantoneId: 727,
          name: "15-6317 TCX",
          majorColorName: "Green",
          colorName: "Quiet Green",
          r: 158,
          g: 188,
          b: 151
        },
        {
          pantoneId: 728,
          name: "15-6322 TCX",
          majorColorName: "Green",
          colorName: "Light Grass Green",
          r: 124,
          g: 182,
          b: 142
        },
        {
          pantoneId: 729,
          name: "15-6340 TCX",
          majorColorName: "Green",
          colorName: "Irish Green",
          r: 69,
          g: 190,
          b: 118
        },
        {
          pantoneId: 730,
          name: "15-6410 TCX",
          majorColorName: "White",
          colorName: "Moss Gray",
          r: 175,
          g: 171,
          b: 151
        },
        {
          pantoneId: 731,
          name: "15-6414 TCX",
          majorColorName: "Green",
          colorName: "Reseda",
          r: 161,
          g: 173,
          b: 146
        },
        {
          pantoneId: 732,
          name: "15-6423 TCX",
          majorColorName: "Green",
          colorName: "Forest Shade",
          r: 145,
          g: 172,
          b: 128
        },
        {
          pantoneId: 733,
          name: "15-6428 TCX",
          majorColorName: "Green",
          colorName: "Green Tea",
          r: 134,
          g: 169,
          b: 111
        },
        {
          pantoneId: 734,
          name: "15-6432 TCX",
          majorColorName: "Green",
          colorName: "Shamrock",
          r: 111,
          g: 162,
          b: 107
        },
        {
          pantoneId: 735,
          name: "15-6437 TCX",
          majorColorName: "Green",
          colorName: "Grass Green",
          r: 123,
          g: 179,
          b: 105
        },
        {
          pantoneId: 736,
          name: "15-6442 TCX",
          majorColorName: "Green",
          colorName: "Bud Green",
          r: 121,
          g: 180,
          b: 101
        },
        {
          pantoneId: 737,
          name: "16-0000 TCX",
          majorColorName: "Gray",
          colorName: "Paloma",
          r: 159,
          g: 156,
          b: 153
        },
        {
          pantoneId: 738,
          name: "16-0110 TCX",
          majorColorName: "White",
          colorName: "Desert Sage",
          r: 167,
          g: 174,
          b: 158
        },
        {
          pantoneId: 739,
          name: "16-0123 TCX",
          majorColorName: "Green",
          colorName: "Tendril",
          r: 137,
          g: 160,
          b: 107
        },
        {
          pantoneId: 740,
          name: "16-0207 TCX",
          majorColorName: "Gray",
          colorName: "London Fog",
          r: 162,
          g: 158,
          b: 146
        },
        {
          pantoneId: 741,
          name: "16-0213 TCX",
          majorColorName: "Gray",
          colorName: "Tea",
          r: 153,
          g: 155,
          b: 133
        },
        {
          pantoneId: 742,
          name: "16-0220 TCX",
          majorColorName: "Green",
          colorName: "Mistletoe",
          r: 138,
          g: 162,
          b: 130
        },
        {
          pantoneId: 743,
          name: "16-0224 TCX",
          majorColorName: "Green",
          colorName: "Green Eyes",
          r: 125,
          g: 149,
          b: 109
        },
        {
          pantoneId: 744,
          name: "16-0228 TCX",
          majorColorName: "Green",
          colorName: "Jade Green",
          r: 117,
          g: 148,
          b: 101
        },
        {
          pantoneId: 745,
          name: "16-0230 TCX",
          majorColorName: "Green",
          colorName: "Macaw Green",
          r: 155,
          g: 181,
          b: 62
        },
        {
          pantoneId: 746,
          name: "16-0233 TCX",
          majorColorName: "Green",
          colorName: "Meadow Green",
          r: 115,
          g: 153,
          b: 87
        },
        {
          pantoneId: 747,
          name: "16-0235 TCX",
          majorColorName: "Green",
          colorName: "Kiwi",
          r: 122,
          g: 171,
          b: 85
        },
        {
          pantoneId: 748,
          name: "16-0237 TCX",
          majorColorName: "Green",
          colorName: "Foliage",
          r: 117,
          g: 161,
          b: 79
        },
        {
          pantoneId: 749,
          name: "16-0421 TCX",
          majorColorName: "Green",
          colorName: "Sage",
          r: 145,
          g: 148,
          b: 110
        },
        {
          pantoneId: 750,
          name: "16-0430 TCX",
          majorColorName: "Green",
          colorName: "Fern",
          r: 154,
          g: 160,
          b: 103
        },
        {
          pantoneId: 751,
          name: "16-0435 TCX",
          majorColorName: "Green",
          colorName: "Dark Citron",
          r: 160,
          g: 172,
          b: 79
        },
        {
          pantoneId: 752,
          name: "16-0439 TCX",
          majorColorName: "Green",
          colorName: "Spinach Green",
          r: 144,
          g: 155,
          b: 76
        },
        {
          pantoneId: 753,
          name: "16-0518 TCX",
          majorColorName: "Yellow",
          colorName: "Gray Green",
          r: 164,
          g: 154,
          b: 121
        },
        {
          pantoneId: 754,
          name: "16-0526 TCX",
          majorColorName: "Yellow",
          colorName: "Cedar",
          r: 146,
          g: 142,
          b: 100
        },
        {
          pantoneId: 755,
          name: "16-0532 TCX",
          majorColorName: "Yellow",
          colorName: "Moss",
          r: 160,
          g: 157,
          b: 89
        },
        {
          pantoneId: 756,
          name: "16-0540 TCX",
          majorColorName: "Yellow",
          colorName: "Oasis",
          r: 163,
          g: 160,
          b: 78
        },
        {
          pantoneId: 757,
          name: "16-0613 TCX",
          majorColorName: "Yellow",
          colorName: "Elm",
          r: 163,
          g: 159,
          b: 134
        },
        {
          pantoneId: 758,
          name: "16-0632 TCX",
          majorColorName: "Yellow",
          colorName: "Willow",
          r: 154,
          g: 139,
          b: 79
        },
        {
          pantoneId: 759,
          name: "16-0639 TCX",
          majorColorName: "Yellow",
          colorName: "Golden Olive",
          r: 175,
          g: 152,
          b: 65
        },
        {
          pantoneId: 760,
          name: "16-0713 TCX",
          majorColorName: "Yellow",
          colorName: "Slate Green",
          r: 160,
          g: 152,
          b: 124
        },
        {
          pantoneId: 761,
          name: "16-0726 TCX",
          majorColorName: "Brown",
          colorName: "Khaki",
          r: 163,
          g: 146,
          b: 100
        },
        {
          pantoneId: 762,
          name: "16-0730 TCX",
          majorColorName: "Brown",
          colorName: "Antique Gold",
          r: 181,
          g: 158,
          b: 95
        },
        {
          pantoneId: 763,
          name: "16-0737 TCX",
          majorColorName: "Yellow",
          colorName: "Burnished Gold",
          r: 170,
          g: 152,
          b: 85
        },
        {
          pantoneId: 764,
          name: "16-0742 TCX",
          majorColorName: "Yellow",
          colorName: "Green Sulphur",
          r: 174,
          g: 142,
          b: 44
        },
        {
          pantoneId: 765,
          name: "16-0806 TCX",
          majorColorName: "White",
          colorName: "Goat",
          r: 168,
          g: 154,
          b: 145
        },
        {
          pantoneId: 766,
          name: "16-0836 TCX",
          majorColorName: "Orange",
          colorName: "Rich Gold",
          r: 200,
          g: 178,
          b: 115
        },
        {
          pantoneId: 767,
          name: "16-0840 TCX",
          majorColorName: "Yellow",
          colorName: "Antique Moss",
          r: 185,
          g: 160,
          b: 35
        },
        {
          pantoneId: 768,
          name: "16-0847 TCX",
          majorColorName: "Yellow",
          colorName: "Olive Oil",
          r: 169,
          g: 139,
          b: 45
        },
        {
          pantoneId: 769,
          name: "16-0906 TCX",
          majorColorName: "Brown",
          colorName: "Simply Taupe",
          r: 173,
          g: 159,
          b: 147
        },
        {
          pantoneId: 770,
          name: "16-0924 TCX",
          majorColorName: "Orange",
          colorName: "Croissant",
          r: 196,
          g: 171,
          b: 134
        },
        {
          pantoneId: 771,
          name: "16-0928 TCX",
          majorColorName: "Brown",
          colorName: "Curry",
          r: 190,
          g: 158,
          b: 111
        },
        {
          pantoneId: 772,
          name: "16-0940 TCX",
          majorColorName: "Orange",
          colorName: "Taffy",
          r: 195,
          g: 155,
          b: 106
        },
        {
          pantoneId: 773,
          name: "16-0945 TCX",
          majorColorName: "Orange",
          colorName: "Tinsel",
          r: 195,
          g: 150,
          b: 77
        },
        {
          pantoneId: 774,
          name: "16-0946 TCX",
          majorColorName: "Brown",
          colorName: "Honey",
          r: 186,
          g: 146,
          b: 56
        },
        {
          pantoneId: 775,
          name: "16-0947 TCX",
          majorColorName: "Orange",
          colorName: "Bright Gold",
          r: 207,
          g: 159,
          b: 82
        },
        {
          pantoneId: 776,
          name: "16-0948 TCX",
          majorColorName: "Brown",
          colorName: "Harvest Gold",
          r: 182,
          g: 138,
          b: 58
        },
        {
          pantoneId: 777,
          name: "16-0950 TCX",
          majorColorName: "Orange",
          colorName: "Narcissus",
          r: 195,
          g: 148,
          b: 73
        },
        {
          pantoneId: 778,
          name: "16-0952 TCX",
          majorColorName: "Orange",
          colorName: "Nugget Gold",
          r: 200,
          g: 151,
          b: 32
        },
        {
          pantoneId: 779,
          name: "16-0953 TCX",
          majorColorName: "Orange",
          colorName: "Tawny Olive",
          r: 196,
          g: 150,
          b: 44
        },
        {
          pantoneId: 780,
          name: "16-0954 TCX",
          majorColorName: "Brown",
          colorName: "Arrowwood",
          r: 188,
          g: 141,
          b: 31
        },
        {
          pantoneId: 781,
          name: "16-1010 TCX",
          majorColorName: "Brown",
          colorName: "Incense",
          r: 175,
          g: 154,
          b: 126
        },
        {
          pantoneId: 782,
          name: "16-1054 TCX",
          majorColorName: "Orange",
          colorName: "Sunflower",
          r: 211,
          g: 146,
          b: 55
        },
        {
          pantoneId: 783,
          name: "16-1105 TCX",
          majorColorName: "Brown",
          colorName: "Plaza Taupe",
          r: 174,
          g: 163,
          b: 147
        },
        {
          pantoneId: 784,
          name: "16-1106 TCX",
          majorColorName: "Brown",
          colorName: "Tuffet",
          r: 165,
          g: 151,
          b: 136
        },
        {
          pantoneId: 785,
          name: "16-1107 TCX",
          majorColorName: "Brown",
          colorName: "Aluminum",
          r: 159,
          g: 149,
          b: 134
        },
        {
          pantoneId: 786,
          name: "16-1108 TCX",
          majorColorName: "Brown",
          colorName: "Twill",
          r: 167,
          g: 155,
          b: 130
        },
        {
          pantoneId: 787,
          name: "16-1110 TCX",
          majorColorName: "Brown",
          colorName: "Olive Gray",
          r: 166,
          g: 153,
          b: 122
        },
        {
          pantoneId: 788,
          name: "16-1118 TCX",
          majorColorName: "Brown",
          colorName: "Sponge",
          r: 164,
          g: 151,
          b: 117
        },
        {
          pantoneId: 789,
          name: "16-1126 TCX",
          majorColorName: "Brown",
          colorName: "Antelope",
          r: 177,
          g: 150,
          b: 100
        },
        {
          pantoneId: 790,
          name: "16-1133 TCX",
          majorColorName: "Brown",
          colorName: "Mustard Gold",
          r: 176,
          g: 142,
          b: 81
        },
        {
          pantoneId: 791,
          name: "16-1139 TCX",
          majorColorName: "Orange",
          colorName: "Amber Gold",
          r: 193,
          g: 149,
          b: 82
        },
        {
          pantoneId: 792,
          name: "16-1140 TCX",
          majorColorName: "Orange",
          colorName: "Yam",
          r: 208,
          g: 137,
          b: 63
        },
        {
          pantoneId: 793,
          name: "16-1142 TCX",
          majorColorName: "Orange",
          colorName: "Golden Nugget",
          r: 219,
          g: 155,
          b: 89
        },
        {
          pantoneId: 794,
          name: "16-1143 TCX",
          majorColorName: "Orange",
          colorName: "Honey Yellow",
          r: 202,
          g: 148,
          b: 86
        },
        {
          pantoneId: 795,
          name: "16-1144 TCX",
          majorColorName: "Orange",
          colorName: "Oak Buff",
          r: 207,
          g: 156,
          b: 99
        },
        {
          pantoneId: 796,
          name: "16-1148 TCX",
          majorColorName: "Orange",
          colorName: "Nugget",
          r: 207,
          g: 136,
          b: 72
        },
        {
          pantoneId: 797,
          name: "16-1150 TCX",
          majorColorName: "Orange",
          colorName: "Topaz",
          r: 208,
          g: 131,
          b: 68
        },
        {
          pantoneId: 798,
          name: "16-1210 TCX",
          majorColorName: "Brown",
          colorName: "Light Taupe",
          r: 177,
          g: 157,
          b: 141
        },
        {
          pantoneId: 799,
          name: "16-1212 TCX",
          majorColorName: "Brown",
          colorName: "Nomad",
          r: 180,
          g: 159,
          b: 137
        },
        {
          pantoneId: 800,
          name: "16-1219 TCX",
          majorColorName: "Brown",
          colorName: "Tuscany",
          r: 190,
          g: 151,
          b: 133
        },
        {
          pantoneId: 801,
          name: "16-1220 TCX",
          majorColorName: "Orange",
          colorName: "Cafe Creme",
          r: 199,
          g: 150,
          b: 133
        },
        {
          pantoneId: 802,
          name: "16-1221 TCX",
          majorColorName: "Brown",
          colorName: "Roebuck",
          r: 176,
          g: 144,
          b: 128
        },
        {
          pantoneId: 803,
          name: "16-1235 TCX",
          majorColorName: "Brown",
          colorName: "Sandstorm",
          r: 189,
          g: 139,
          b: 105
        },
        {
          pantoneId: 804,
          name: "16-1253 TCX",
          majorColorName: "Orange",
          colorName: "Orange Ochre",
          r: 220,
          g: 121,
          b: 58
        },
        {
          pantoneId: 805,
          name: "16-1255 TCX",
          majorColorName: "Orange",
          colorName: "Russet Orange",
          r: 228,
          g: 113,
          b: 39
        },
        {
          pantoneId: 806,
          name: "16-1257 TCX",
          majorColorName: "Orange",
          colorName: "Sun Orange",
          r: 244,
          g: 128,
          b: 55
        },
        {
          pantoneId: 807,
          name: "16-1260 TCX",
          majorColorName: "Orange",
          colorName: "Harvest Pumpkin",
          r: 213,
          g: 98,
          b: 49
        },
        {
          pantoneId: 808,
          name: "16-1305 TCX",
          majorColorName: "White",
          colorName: "String",
          r: 170,
          g: 159,
          b: 150
        },
        {
          pantoneId: 809,
          name: "16-1310 TCX",
          majorColorName: "Brown",
          colorName: "Natural",
          r: 170,
          g: 144,
          b: 125
        },
        {
          pantoneId: 810,
          name: "16-1315 TCX",
          majorColorName: "Brown",
          colorName: "Cornstalk",
          r: 169,
          g: 148,
          b: 122
        },
        {
          pantoneId: 811,
          name: "16-1317 TCX",
          majorColorName: "Brown",
          colorName: "Brush",
          r: 185,
          g: 153,
          b: 132
        },
        {
          pantoneId: 812,
          name: "16-1318 TCX",
          majorColorName: "Brown",
          colorName: "Warm Taupe",
          r: 175,
          g: 148,
          b: 131
        },
        {
          pantoneId: 813,
          name: "16-1320 TCX",
          majorColorName: "Brown",
          colorName: "Nougat",
          r: 182,
          g: 152,
          b: 133
        },
        {
          pantoneId: 814,
          name: "16-1323 TCX",
          majorColorName: "Brown",
          colorName: "Macaroon",
          r: 179,
          g: 139,
          b: 113
        },
        {
          pantoneId: 815,
          name: "16-1324 TCX",
          majorColorName: "Brown",
          colorName: "Lark",
          r: 184,
          g: 155,
          b: 114
        },
        {
          pantoneId: 816,
          name: "16-1325 TCX",
          majorColorName: "Orange",
          colorName: "Copper",
          r: 196,
          g: 126,
          b: 90
        },
        {
          pantoneId: 817,
          name: "16-1326 TCX",
          majorColorName: "Brown",
          colorName: "Prairie Sand",
          r: 181,
          g: 154,
          b: 106
        },
        {
          pantoneId: 818,
          name: "16-1327 TCX",
          majorColorName: "Orange",
          colorName: "Toasted Nut",
          r: 192,
          g: 135,
          b: 104
        },
        {
          pantoneId: 819,
          name: "16-1328 TCX",
          majorColorName: "Orange",
          colorName: "Sandstone",
          r: 196,
          g: 138,
          b: 105
        },
        {
          pantoneId: 820,
          name: "16-1329 TCX",
          majorColorName: "Pink",
          colorName: "Coral Haze",
          r: 227,
          g: 142,
          b: 132
        },
        {
          pantoneId: 821,
          name: "16-1330 TCX",
          majorColorName: "Orange",
          colorName: "Muted Clay",
          r: 210,
          g: 147,
          b: 128
        },
        {
          pantoneId: 822,
          name: "16-1331 TCX",
          majorColorName: "Orange",
          colorName: "Toast",
          r: 202,
          g: 153,
          b: 120
        },
        {
          pantoneId: 823,
          name: "16-1332 TCX",
          majorColorName: "Orange",
          colorName: "Pheasant",
          r: 198,
          g: 132,
          b: 99
        },
        {
          pantoneId: 824,
          name: "16-1333 TCX",
          majorColorName: "Brown",
          colorName: "Doe",
          r: 185,
          g: 142,
          b: 104
        },
        {
          pantoneId: 825,
          name: "16-1334 TCX",
          majorColorName: "Brown",
          colorName: "Tan",
          r: 182,
          g: 149,
          b: 116
        },
        {
          pantoneId: 826,
          name: "16-1336 TCX",
          majorColorName: "Brown",
          colorName: "Biscuit",
          r: 180,
          g: 131,
          b: 91
        },
        {
          pantoneId: 827,
          name: "16-1337 TCX",
          majorColorName: "Orange",
          colorName: "Coral Gold",
          r: 210,
          g: 125,
          b: 86
        },
        {
          pantoneId: 828,
          name: "16-1338 TCX",
          majorColorName: "Orange",
          colorName: "Copper Tan",
          r: 222,
          g: 142,
          b: 101
        },
        {
          pantoneId: 829,
          name: "16-1340 TCX",
          majorColorName: "Orange",
          colorName: "Brandied Melon",
          r: 206,
          g: 123,
          b: 91
        },
        {
          pantoneId: 830,
          name: "16-1341 TCX",
          majorColorName: "Orange",
          colorName: "Butterum",
          r: 198,
          g: 143,
          b: 101
        },
        {
          pantoneId: 831,
          name: "16-1342 TCX",
          majorColorName: "Orange",
          colorName: "Buckskin",
          r: 209,
          g: 142,
          b: 84
        },
        {
          pantoneId: 832,
          name: "16-1343 TCX",
          majorColorName: "Orange",
          colorName: "Autumn Sunset",
          r: 243,
          g: 133,
          b: 84
        },
        {
          pantoneId: 833,
          name: "16-1344 TCX",
          majorColorName: "Orange",
          colorName: "Dusty Orange",
          r: 226,
          g: 122,
          b: 83
        },
        {
          pantoneId: 834,
          name: "16-1346 TCX",
          majorColorName: "Orange",
          colorName: "Golden Ochre",
          r: 199,
          g: 121,
          b: 67
        },
        {
          pantoneId: 835,
          name: "16-1349 TCX",
          majorColorName: "Orange",
          colorName: "Coral Rose",
          r: 243,
          g: 119,
          b: 77
        },
        {
          pantoneId: 836,
          name: "16-1350 TCX",
          majorColorName: "Orange",
          colorName: "Amberglow",
          r: 220,
          g: 121,
          b: 62
        },
        {
          pantoneId: 837,
          name: "16-1356 TCX",
          majorColorName: "Orange",
          colorName: "Persimmon Orange",
          r: 244,
          g: 115,
          b: 39
        },
        {
          pantoneId: 838,
          name: "16-1357 TCX",
          majorColorName: "Orange",
          colorName: "Bird of Paradise",
          r: 255,
          g: 140,
          b: 85
        },
        {
          pantoneId: 839,
          name: "16-1359 TCX",
          majorColorName: "Orange",
          colorName: "Orange Peel",
          r: 250,
          g: 122,
          b: 53
        },
        {
          pantoneId: 840,
          name: "16-1360 TCX",
          majorColorName: "Orange",
          colorName: "Nectarine",
          r: 255,
          g: 134,
          b: 86
        },
        {
          pantoneId: 841,
          name: "16-1361 TCX",
          majorColorName: "Orange",
          colorName: "Carrot",
          r: 253,
          g: 111,
          b: 59
        },
        {
          pantoneId: 842,
          name: "16-1362 TCX",
          majorColorName: "Orange",
          colorName: "Vermillion Orange",
          r: 249,
          g: 99,
          b: 59
        },
        {
          pantoneId: 843,
          name: "16-1364 TCX",
          majorColorName: "Orange",
          colorName: "Vibrant Orange",
          r: 255,
          g: 116,
          b: 32
        },
        {
          pantoneId: 844,
          name: "16-1406 TCX",
          majorColorName: "White",
          colorName: "Atmosphere",
          r: 168,
          g: 156,
          b: 148
        },
        {
          pantoneId: 845,
          name: "16-1407 TCX",
          majorColorName: "Brown",
          colorName: "Cobblestone",
          r: 168,
          g: 154,
          b: 142
        },
        {
          pantoneId: 846,
          name: "16-1412 TCX",
          majorColorName: "Brown",
          colorName: "Stucco",
          r: 165,
          g: 141,
          b: 127
        },
        {
          pantoneId: 847,
          name: "16-1414 TCX",
          majorColorName: "Brown",
          colorName: "Chanterelle",
          r: 162,
          g: 135,
          b: 118
        },
        {
          pantoneId: 848,
          name: "16-1415 TCX",
          majorColorName: "Brown",
          colorName: "Almondine",
          r: 167,
          g: 140,
          b: 123
        },
        {
          pantoneId: 849,
          name: "16-1422 TCX",
          majorColorName: "Brown",
          colorName: "Cork",
          r: 186,
          g: 134,
          b: 113
        },
        {
          pantoneId: 850,
          name: "16-1429 TCX",
          majorColorName: "Brown",
          colorName: "Sunburn",
          r: 179,
          g: 114,
          b: 86
        },
        {
          pantoneId: 851,
          name: "16-1431 TCX",
          majorColorName: "Pink",
          colorName: "Canyon Clay",
          r: 206,
          g: 132,
          b: 119
        },
        {
          pantoneId: 852,
          name: "16-1432 TCX",
          majorColorName: "Brown",
          colorName: "Almond",
          r: 167,
          g: 117,
          b: 77
        },
        {
          pantoneId: 853,
          name: "16-1434 TCX",
          majorColorName: "Pink",
          colorName: "Coral Almond",
          r: 226,
          g: 157,
          b: 148
        },
        {
          pantoneId: 854,
          name: "16-1435 TCX",
          majorColorName: "Orange",
          colorName: "Carnelian",
          r: 206,
          g: 120,
          b: 93
        },
        {
          pantoneId: 855,
          name: "16-1439 TCX",
          majorColorName: "Orange",
          colorName: "Caramel",
          r: 195,
          g: 124,
          b: 84
        },
        {
          pantoneId: 856,
          name: "16-1440 TCX",
          majorColorName: "Orange",
          colorName: "Langoustino",
          r: 202,
          g: 108,
          b: 86
        },
        {
          pantoneId: 857,
          name: "16-1441 TCX",
          majorColorName: "Orange",
          colorName: "Arabesque",
          r: 209,
          g: 111,
          b: 82
        },
        {
          pantoneId: 858,
          name: "16-1442 TCX",
          majorColorName: "Orange",
          colorName: "Melon",
          r: 254,
          g: 136,
          b: 99
        },
        {
          pantoneId: 859,
          name: "16-1443 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Buff",
          r: 205,
          g: 126,
          b: 77
        },
        {
          pantoneId: 860,
          name: "16-1448 TCX",
          majorColorName: "Orange",
          colorName: "Burnt Orange",
          r: 200,
          g: 103,
          b: 51
        },
        {
          pantoneId: 861,
          name: "16-1450 TCX",
          majorColorName: "Orange",
          colorName: "Flamingo",
          r: 223,
          g: 114,
          b: 83
        },
        {
          pantoneId: 862,
          name: "16-1451 TCX",
          majorColorName: "Red",
          colorName: "Nasturtium",
          r: 254,
          g: 99,
          b: 71
        },
        {
          pantoneId: 863,
          name: "16-1452 TCX",
          majorColorName: "Orange",
          colorName: "Firecracker",
          r: 243,
          g: 105,
          b: 68
        },
        {
          pantoneId: 864,
          name: "16-1454 TCX",
          majorColorName: "Orange",
          colorName: "Jaffa Orange",
          r: 216,
          g: 109,
          b: 57
        },
        {
          pantoneId: 865,
          name: "16-1459 TCX",
          majorColorName: "Orange",
          colorName: "Mandarin Orange",
          r: 236,
          g: 106,
          b: 55
        },
        {
          pantoneId: 866,
          name: "16-1462 TCX",
          majorColorName: "Orange",
          colorName: "Golden Poppy",
          r: 245,
          g: 103,
          b: 51
        },
        {
          pantoneId: 867,
          name: "16-1506 TCX",
          majorColorName: "White",
          colorName: "Bark",
          r: 169,
          g: 149,
          b: 146
        },
        {
          pantoneId: 868,
          name: "16-1508 TCX",
          majorColorName: "Pink",
          colorName: "Adobe Rose",
          r: 186,
          g: 159,
          b: 153
        },
        {
          pantoneId: 869,
          name: "16-1509 TCX",
          majorColorName: "White",
          colorName: "Shadow Gray",
          r: 187,
          g: 165,
          b: 160
        },
        {
          pantoneId: 870,
          name: "16-1510 TCX",
          majorColorName: "Pink",
          colorName: "Fawn",
          r: 174,
          g: 148,
          b: 144
        },
        {
          pantoneId: 871,
          name: "16-1511 TCX",
          majorColorName: "Pink",
          colorName: "Rose Tan",
          r: 209,
          g: 156,
          b: 151
        },
        {
          pantoneId: 872,
          name: "16-1516 TCX",
          majorColorName: "Pink",
          colorName: "Cameo Brown",
          r: 192,
          g: 138,
          b: 128
        },
        {
          pantoneId: 873,
          name: "16-1518 TCX",
          majorColorName: "Pink",
          colorName: "Rosette",
          r: 206,
          g: 142,
          b: 139
        },
        {
          pantoneId: 874,
          name: "16-1520 TCX",
          majorColorName: "Pink",
          colorName: "Lobster Bisque",
          r: 221,
          g: 146,
          b: 137
        },
        {
          pantoneId: 875,
          name: "16-1522 TCX",
          majorColorName: "Pink",
          colorName: "Rose Dawn",
          r: 194,
          g: 135,
          b: 123
        },
        {
          pantoneId: 876,
          name: "16-1526 TCX",
          majorColorName: "Pink",
          colorName: "Terra Cotta",
          r: 211,
          g: 131,
          b: 119
        },
        {
          pantoneId: 877,
          name: "16-1529 TCX",
          majorColorName: "Pink",
          colorName: "Burnt Coral",
          r: 233,
          g: 137,
          b: 126
        },
        {
          pantoneId: 878,
          name: "16-1532 TCX",
          majorColorName: "Pink",
          colorName: "Crabapple",
          r: 215,
          g: 126,
          b: 112
        },
        {
          pantoneId: 879,
          name: "16-1539 TCX",
          majorColorName: "Pink",
          colorName: "Coral",
          r: 237,
          g: 116,
          b: 100
        },
        {
          pantoneId: 880,
          name: "16-1541 TCX",
          majorColorName: "Pink",
          colorName: "Camellia",
          r: 246,
          g: 116,
          b: 95
        },
        {
          pantoneId: 881,
          name: "16-1542 TCX",
          majorColorName: "Pink",
          colorName: "Fresh Salmon",
          r: 255,
          g: 127,
          b: 106
        },
        {
          pantoneId: 882,
          name: "16-1543 TCX",
          majorColorName: "Pink",
          colorName: "Fusion Coral",
          r: 255,
          g: 133,
          b: 118
        },
        {
          pantoneId: 883,
          name: "16-1544 TCX",
          majorColorName: "Pink",
          colorName: "Persimmon",
          r: 246,
          g: 120,
          b: 102
        },
        {
          pantoneId: 884,
          name: "16-1546 TCX",
          majorColorName: "Pink",
          colorName: "Living Coral",
          r: 255,
          g: 111,
          b: 97
        },
        {
          pantoneId: 885,
          name: "16-1610 TCX",
          majorColorName: "Pink",
          colorName: "Brandied Apricot",
          r: 202,
          g: 132,
          b: 138
        },
        {
          pantoneId: 886,
          name: "16-1617 TCX",
          majorColorName: "Pink",
          colorName: "Mauveglow",
          r: 209,
          g: 132,
          b: 137
        },
        {
          pantoneId: 887,
          name: "16-1620 TCX",
          majorColorName: "Pink",
          colorName: "Tea Rose",
          r: 220,
          g: 113,
          b: 120
        },
        {
          pantoneId: 888,
          name: "16-1624 TCX",
          majorColorName: "Pink",
          colorName: "Lantana",
          r: 218,
          g: 126,
          b: 122
        },
        {
          pantoneId: 889,
          name: "16-1626 TCX",
          majorColorName: "Pink",
          colorName: "Peach Blossom",
          r: 222,
          g: 130,
          b: 134
        },
        {
          pantoneId: 890,
          name: "16-1632 TCX",
          majorColorName: "Pink",
          colorName: "Shell Pink",
          r: 248,
          g: 129,
          b: 128
        },
        {
          pantoneId: 891,
          name: "16-1640 TCX",
          majorColorName: "Pink",
          colorName: "Sugar Coral",
          r: 245,
          g: 108,
          b: 115
        },
        {
          pantoneId: 892,
          name: "16-1641 TCX",
          majorColorName: "Pink",
          colorName: "Georgia Peach",
          r: 249,
          g: 114,
          b: 114
        },
        {
          pantoneId: 893,
          name: "16-1703 TCX",
          majorColorName: "White",
          colorName: "Sphinx",
          r: 171,
          g: 152,
          b: 149
        },
        {
          pantoneId: 894,
          name: "16-1707 TCX",
          majorColorName: "Pink",
          colorName: "Deauville Mauve",
          r: 175,
          g: 146,
          b: 148
        },
        {
          pantoneId: 895,
          name: "16-1708 TCX",
          majorColorName: "Pink",
          colorName: "Lilas",
          r: 184,
          g: 137,
          b: 149
        },
        {
          pantoneId: 896,
          name: "16-1712 TCX",
          majorColorName: "Pink",
          colorName: "Polignac",
          r: 194,
          g: 135,
          b: 153
        },
        {
          pantoneId: 897,
          name: "16-1715 TCX",
          majorColorName: "Pink",
          colorName: "Wild Rose",
          r: 206,
          g: 132,
          b: 152
        },
        {
          pantoneId: 898,
          name: "16-1720 TCX",
          majorColorName: "Pink",
          colorName: "Strawberry Ice",
          r: 231,
          g: 139,
          b: 144
        },
        {
          pantoneId: 899,
          name: "16-1723 TCX",
          majorColorName: "Pink",
          colorName: "Confetti",
          r: 230,
          g: 121,
          b: 142
        },
        {
          pantoneId: 900,
          name: "16-1731 TCX",
          majorColorName: "Pink",
          colorName: "Strawberry Pink",
          r: 245,
          g: 127,
          b: 142
        },
        {
          pantoneId: 901,
          name: "16-1735 TCX",
          majorColorName: "Pink",
          colorName: "Pink Lemonade",
          r: 238,
          g: 109,
          b: 138
        },
        {
          pantoneId: 902,
          name: "16-1806 TCX",
          majorColorName: "Pink",
          colorName: "Woodrose",
          r: 174,
          g: 140,
          b: 142
        },
        {
          pantoneId: 903,
          name: "16-2107 TCX",
          majorColorName: "Pink",
          colorName: "Orchid Haze",
          r: 176,
          g: 135,
          b: 155
        },
        {
          pantoneId: 904,
          name: "16-2111 TCX",
          majorColorName: "Pink",
          colorName: "Mauve Orchid",
          r: 181,
          g: 130,
          b: 153
        },
        {
          pantoneId: 905,
          name: "16-2120 TCX",
          majorColorName: "Pink",
          colorName: "Wild Orchid",
          r: 217,
          g: 121,
          b: 162
        },
        {
          pantoneId: 906,
          name: "16-2124 TCX",
          majorColorName: "Pink",
          colorName: "Pink Carnation",
          r: 237,
          g: 122,
          b: 158
        },
        {
          pantoneId: 907,
          name: "16-2126 TCX",
          majorColorName: "Pink",
          colorName: "Azalea Pink",
          r: 233,
          g: 106,
          b: 151
        },
        {
          pantoneId: 908,
          name: "16-2215 TCX",
          majorColorName: "Pink",
          colorName: "Cashmere Rose",
          r: 206,
          g: 135,
          b: 159
        },
        {
          pantoneId: 909,
          name: "16-2614 TCX",
          majorColorName: "Pink",
          colorName: "Moonlite Mauve",
          r: 210,
          g: 143,
          b: 176
        },
        {
          pantoneId: 910,
          name: "16-3110 TCX",
          majorColorName: "Pink",
          colorName: "Smoky Grape",
          r: 184,
          g: 138,
          b: 172
        },
        {
          pantoneId: 911,
          name: "16-3115 TCX",
          majorColorName: "Pink",
          colorName: "Crocus",
          r: 198,
          g: 127,
          b: 174
        },
        {
          pantoneId: 912,
          name: "16-3116 TCX",
          majorColorName: "Pink",
          colorName: "Opera Mauve",
          r: 202,
          g: 128,
          b: 177
        },
        {
          pantoneId: 913,
          name: "16-3118 TCX",
          majorColorName: "Pink",
          colorName: "Cyclamen",
          r: 214,
          g: 135,
          b: 186
        },
        {
          pantoneId: 914,
          name: "16-3205 TCX",
          majorColorName: "Pink",
          colorName: "Mauve Shadows",
          r: 181,
          g: 152,
          b: 163
        },
        {
          pantoneId: 915,
          name: "16-3304 TCX",
          majorColorName: "Gray",
          colorName: "Sea Fog",
          r: 165,
          g: 146,
          b: 157
        },
        {
          pantoneId: 916,
          name: "16-3307 TCX",
          majorColorName: "Pink",
          colorName: "Lavender Mist",
          r: 174,
          g: 144,
          b: 167
        },
        {
          pantoneId: 917,
          name: "16-3310 TCX",
          majorColorName: "Pink",
          colorName: "Lavender Herb",
          r: 177,
          g: 142,
          b: 170
        },
        {
          pantoneId: 918,
          name: "16-3320 TCX",
          majorColorName: "Pink",
          colorName: "Violet",
          r: 193,
          g: 127,
          b: 181
        },
        {
          pantoneId: 919,
          name: "16-3416 TCX",
          majorColorName: "Light-Purple",
          colorName: "Violet Tulle",
          r: 193,
          g: 147,
          b: 192
        },
        {
          pantoneId: 920,
          name: "16-3520 TCX",
          majorColorName: "Light-Purple",
          colorName: "African Violet",
          r: 176,
          g: 133,
          b: 183
        },
        {
          pantoneId: 921,
          name: "16-3521 TCX",
          majorColorName: "Light-Purple",
          colorName: "Lupine",
          r: 190,
          g: 156,
          b: 193
        },
        {
          pantoneId: 922,
          name: "16-3525 TCX",
          majorColorName: "Light-Purple",
          colorName: "Regal Orchid",
          r: 169,
          g: 139,
          b: 175
        },
        {
          pantoneId: 923,
          name: "16-3617 TCX",
          majorColorName: "Light-Purple",
          colorName: "Sheer Lilac",
          r: 183,
          g: 147,
          b: 192
        },
        {
          pantoneId: 924,
          name: "16-3801 TCX",
          majorColorName: "Gray",
          colorName: "Opal Gray",
          r: 164,
          g: 158,
          b: 158
        },
        {
          pantoneId: 925,
          name: "16-3802 TCX",
          majorColorName: "Gray",
          colorName: "Ash",
          r: 160,
          g: 153,
          b: 152
        },
        {
          pantoneId: 926,
          name: "16-3803 TCX",
          majorColorName: "Gray",
          colorName: "Gull Gray",
          r: 164,
          g: 156,
          b: 160
        },
        {
          pantoneId: 927,
          name: "16-3810 TCX",
          majorColorName: "White",
          colorName: "Wisteria",
          r: 161,
          g: 152,
          b: 175
        },
        {
          pantoneId: 928,
          name: "16-3812 TCX",
          majorColorName: "Blue",
          colorName: "Heirloom Lilac",
          r: 157,
          g: 150,
          b: 178
        },
        {
          pantoneId: 929,
          name: "16-3815 TCX",
          majorColorName: "Light-Purple",
          colorName: "Viola",
          r: 166,
          g: 146,
          b: 186
        },
        {
          pantoneId: 930,
          name: "16-3823 TCX",
          majorColorName: "Light-Purple",
          colorName: "Violet Tulip",
          r: 158,
          g: 145,
          b: 195
        },
        {
          pantoneId: 931,
          name: "16-3907 TCX",
          majorColorName: "White",
          colorName: "Dapple Gray",
          r: 156,
          g: 155,
          b: 167
        },
        {
          pantoneId: 932,
          name: "16-3911 TCX",
          majorColorName: "White",
          colorName: "Lavender Aura",
          r: 159,
          g: 153,
          b: 170
        },
        {
          pantoneId: 933,
          name: "16-3919 TCX",
          majorColorName: "Blue",
          colorName: "Eventide",
          r: 149,
          g: 158,
          b: 183
        },
        {
          pantoneId: 934,
          name: "16-3920 TCX",
          majorColorName: "Blue",
          colorName: "Lavender Lustre",
          r: 140,
          g: 156,
          b: 193
        },
        {
          pantoneId: 935,
          name: "16-3925 TCX",
          majorColorName: "Blue",
          colorName: "Easter Egg",
          r: 145,
          g: 155,
          b: 201
        },
        {
          pantoneId: 936,
          name: "16-3929 TCX",
          majorColorName: "Blue",
          colorName: "Grapemist",
          r: 131,
          g: 152,
          b: 202
        },
        {
          pantoneId: 937,
          name: "16-3930 TCX",
          majorColorName: "Blue",
          colorName: "Thistle Down",
          r: 148,
          g: 153,
          b: 187
        },
        {
          pantoneId: 938,
          name: "16-3931 TCX",
          majorColorName: "Blue",
          colorName: "Sweet Lavender",
          r: 154,
          g: 155,
          b: 193
        },
        {
          pantoneId: 939,
          name: "16-4010 TCX",
          majorColorName: "Blue",
          colorName: "Dusty Blue",
          r: 140,
          g: 157,
          b: 173
        },
        {
          pantoneId: 940,
          name: "16-4013 TCX",
          majorColorName: "Blue",
          colorName: "Ashley Blue",
          r: 134,
          g: 153,
          b: 171
        },
        {
          pantoneId: 941,
          name: "16-4019 TCX",
          majorColorName: "Blue",
          colorName: "Forever Blue",
          r: 137,
          g: 155,
          b: 184
        },
        {
          pantoneId: 942,
          name: "16-4020 TCX",
          majorColorName: "Blue",
          colorName: "Della Robbia Blue",
          r: 122,
          g: 157,
          b: 203
        },
        {
          pantoneId: 943,
          name: "16-4021 TCX",
          majorColorName: "Blue",
          colorName: "Allure",
          r: 114,
          g: 145,
          b: 180
        },
        {
          pantoneId: 944,
          name: "16-4031 TCX",
          majorColorName: "Blue",
          colorName: "Cornflower Blue",
          r: 115,
          g: 145,
          b: 200
        },
        {
          pantoneId: 945,
          name: "16-4032 TCX",
          majorColorName: "Blue",
          colorName: "Provence",
          r: 101,
          g: 141,
          b: 198
        },
        {
          pantoneId: 946,
          name: "16-4109 TCX",
          majorColorName: "Blue",
          colorName: "Arona",
          r: 135,
          g: 155,
          b: 163
        },
        {
          pantoneId: 947,
          name: "16-4114 TCX",
          majorColorName: "Blue",
          colorName: "Stone Blue",
          r: 130,
          g: 156,
          b: 165
        },
        {
          pantoneId: 948,
          name: "16-4120 TCX",
          majorColorName: "Blue",
          colorName: "Dusk Blue",
          r: 123,
          g: 160,
          b: 192
        },
        {
          pantoneId: 949,
          name: "16-4127 TCX",
          majorColorName: "Blue",
          colorName: "Heritage Blue",
          r: 93,
          g: 150,
          b: 188
        },
        {
          pantoneId: 950,
          name: "16-4132 TCX",
          majorColorName: "Blue",
          colorName: "Little Boy Blue",
          r: 110,
          g: 162,
          b: 213
        },
        {
          pantoneId: 951,
          name: "16-4134 TCX",
          majorColorName: "Blue",
          colorName: "Bonnie Blue",
          r: 83,
          g: 156,
          b: 204
        },
        {
          pantoneId: 952,
          name: "16-4402 TCX",
          majorColorName: "Gray",
          colorName: "Drizzle",
          r: 160,
          g: 159,
          b: 156
        },
        {
          pantoneId: 953,
          name: "16-4404 TCX",
          majorColorName: "Gray",
          colorName: "Abyss",
          r: 143,
          g: 158,
          b: 157
        },
        {
          pantoneId: 954,
          name: "16-4408 TCX",
          majorColorName: "Gray",
          colorName: "Slate",
          r: 140,
          g: 159,
          b: 161
        },
        {
          pantoneId: 955,
          name: "16-4411 TCX",
          majorColorName: "Blue",
          colorName: "Tourmaline",
          r: 134,
          g: 161,
          b: 169
        },
        {
          pantoneId: 956,
          name: "16-4414 TCX",
          majorColorName: "Blue",
          colorName: "Cameo Blue",
          r: 118,
          g: 157,
          b: 166
        },
        {
          pantoneId: 957,
          name: "16-4421 TCX",
          majorColorName: "Blue",
          colorName: "Blue Mist",
          r: 91,
          g: 172,
          b: 195
        },
        {
          pantoneId: 958,
          name: "16-4427 TCX",
          majorColorName: "Blue",
          colorName: "Horizon Blue",
          r: 40,
          g: 157,
          b: 190
        },
        {
          pantoneId: 959,
          name: "16-4519 TCX",
          majorColorName: "Blue",
          colorName: "Delphinium Blue",
          r: 97,
          g: 152,
          b: 174
        },
        {
          pantoneId: 960,
          name: "16-4525 TCX",
          majorColorName: "Blue",
          colorName: "Maui Blue",
          r: 82,
          g: 162,
          b: 180
        },
        {
          pantoneId: 961,
          name: "16-4529 TCX",
          majorColorName: "Blue",
          colorName: "Cyan Blue",
          r: 20,
          g: 163,
          b: 199
        },
        {
          pantoneId: 962,
          name: "16-4530 TCX",
          majorColorName: "Blue",
          colorName: "Aquarius",
          r: 60,
          g: 173,
          b: 212
        },
        {
          pantoneId: 963,
          name: "16-4535 TCX",
          majorColorName: "Blue",
          colorName: "Blue Atoll",
          r: 0,
          g: 177,
          b: 210
        },
        {
          pantoneId: 964,
          name: "16-4610 TCX",
          majorColorName: "Blue",
          colorName: "Stillwater",
          r: 112,
          g: 164,
          b: 176
        },
        {
          pantoneId: 965,
          name: "16-4612 TCX",
          majorColorName: "Blue",
          colorName: "Reef Waters",
          r: 111,
          g: 159,
          b: 169
        },
        {
          pantoneId: 966,
          name: "16-4702 TCX",
          majorColorName: "Gray",
          colorName: "Limestone",
          r: 152,
          g: 154,
          b: 152
        },
        {
          pantoneId: 967,
          name: "16-4706 TCX",
          majorColorName: "Gray",
          colorName: "Silver Blue",
          r: 138,
          g: 154,
          b: 154
        },
        {
          pantoneId: 968,
          name: "16-4712 TCX",
          majorColorName: "Blue",
          colorName: "Mineral Blue",
          r: 109,
          g: 145,
          b: 146
        },
        {
          pantoneId: 969,
          name: "16-4719 TCX",
          majorColorName: "Blue",
          colorName: "Porcelain",
          r: 93,
          g: 156,
          b: 164
        },
        {
          pantoneId: 970,
          name: "16-4725 TCX",
          majorColorName: "Blue",
          colorName: "Scuba Blue",
          r: 0,
          g: 171,
          b: 192
        },
        {
          pantoneId: 971,
          name: "16-4728 TCX",
          majorColorName: "Blue",
          colorName: "Peacock Blue",
          r: 0,
          g: 160,
          b: 176
        },
        {
          pantoneId: 972,
          name: "16-4834 TCX",
          majorColorName: "Blue",
          colorName: "Bluebird",
          r: 0,
          g: 157,
          b: 174
        },
        {
          pantoneId: 973,
          name: "16-5106 TCX",
          majorColorName: "White",
          colorName: "Blue Surf",
          r: 144,
          g: 168,
          b: 164
        },
        {
          pantoneId: 974,
          name: "16-5109 TCX",
          majorColorName: "Blue-Green",
          colorName: "Wasabi",
          r: 115,
          g: 168,
          b: 158
        },
        {
          pantoneId: 975,
          name: "16-5112 TCX",
          majorColorName: "Blue-Green",
          colorName: "Canton",
          r: 109,
          g: 162,
          b: 158
        },
        {
          pantoneId: 976,
          name: "16-5114 TCX",
          majorColorName: "Blue",
          colorName: "Dusty Turquoise",
          r: 100,
          g: 155,
          b: 158
        },
        {
          pantoneId: 977,
          name: "16-5119 TCX",
          majorColorName: "Blue-Green",
          colorName: "Sea Blue",
          r: 84,
          g: 159,
          b: 152
        },
        {
          pantoneId: 978,
          name: "16-5121 TCX",
          majorColorName: "Blue",
          colorName: "Meadowbrook",
          r: 96,
          g: 160,
          b: 163
        },
        {
          pantoneId: 979,
          name: "16-5123 TCX",
          majorColorName: "Blue",
          colorName: "Baltic",
          r: 39,
          g: 157,
          b: 159
        },
        {
          pantoneId: 980,
          name: "16-5127 TCX",
          majorColorName: "Blue-Green",
          colorName: "Ceramic",
          r: 0,
          g: 170,
          b: 169
        },
        {
          pantoneId: 981,
          name: "16-5304 TCX",
          majorColorName: "White",
          colorName: "Jadeite",
          r: 149,
          g: 166,
          b: 159
        },
        {
          pantoneId: 982,
          name: "16-5412 TCX",
          majorColorName: "Blue-Green",
          colorName: "Agate Green",
          r: 89,
          g: 159,
          b: 153
        },
        {
          pantoneId: 983,
          name: "16-5418 TCX",
          majorColorName: "Blue-Green",
          colorName: "Lagoon",
          r: 77,
          g: 158,
          b: 154
        },
        {
          pantoneId: 984,
          name: "16-5421 TCX",
          majorColorName: "Blue-Green",
          colorName: "Sea Green",
          r: 20,
          g: 156,
          b: 136
        },
        {
          pantoneId: 985,
          name: "16-5422 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bright Aqua",
          r: 48,
          g: 162,
          b: 153
        },
        {
          pantoneId: 986,
          name: "16-5425 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pool Green",
          r: 0,
          g: 175,
          b: 157
        },
        {
          pantoneId: 987,
          name: "16-5427 TCX",
          majorColorName: "Blue-Green",
          colorName: "Billiard",
          r: 0,
          g: 170,
          b: 146
        },
        {
          pantoneId: 988,
          name: "16-5431 TCX",
          majorColorName: "Blue-Green",
          colorName: "Peacock Green",
          r: 0,
          g: 167,
          b: 139
        },
        {
          pantoneId: 989,
          name: "16-5515 TCX",
          majorColorName: "Blue-Green",
          colorName: "Beryl Green",
          r: 97,
          g: 145,
          b: 135
        },
        {
          pantoneId: 990,
          name: "16-5533 TCX",
          majorColorName: "Blue-Green",
          colorName: "Arcadia",
          r: 0,
          g: 162,
          b: 138
        },
        {
          pantoneId: 991,
          name: "16-5721 TCX",
          majorColorName: "Blue-Green",
          colorName: "Marine Green",
          r: 64,
          g: 164,
          b: 142
        },
        {
          pantoneId: 992,
          name: "16-5803 TCX",
          majorColorName: "Gray",
          colorName: "Flint Gray",
          r: 160,
          g: 156,
          b: 152
        },
        {
          pantoneId: 993,
          name: "16-5804 TCX",
          majorColorName: "Gray",
          colorName: "Slate Gray",
          r: 138,
          g: 150,
          b: 145
        },
        {
          pantoneId: 994,
          name: "16-5806 TCX",
          majorColorName: "Gray",
          colorName: "Green Milieu",
          r: 138,
          g: 153,
          b: 146
        },
        {
          pantoneId: 995,
          name: "16-5807 TCX",
          majorColorName: "Gray",
          colorName: "Lily Pad",
          r: 129,
          g: 143,
          b: 132
        },
        {
          pantoneId: 996,
          name: "16-5808 TCX",
          majorColorName: "Gray",
          colorName: "Iceberg Green",
          r: 140,
          g: 156,
          b: 146
        },
        {
          pantoneId: 997,
          name: "16-5810 TCX",
          majorColorName: "Gray",
          colorName: "Green Bay",
          r: 126,
          g: 146,
          b: 133
        },
        {
          pantoneId: 998,
          name: "16-5815 TCX",
          majorColorName: "Blue-Green",
          colorName: "Feldspar",
          r: 114,
          g: 155,
          b: 139
        },
        {
          pantoneId: 999,
          name: "16-5820 TCX",
          majorColorName: "Blue-Green",
          colorName: "Green Spruce",
          r: 88,
          g: 159,
          b: 126
        },
        {
          pantoneId: 1e3,
          name: "16-5825 TCX",
          majorColorName: "Blue-Green",
          colorName: "Gumdrop Green",
          r: 46,
          g: 167,
          b: 133
        },
        {
          pantoneId: 1001,
          name: "16-5904 TCX",
          majorColorName: "Gray",
          colorName: "Wrought Iron",
          r: 153,
          g: 158,
          b: 152
        },
        {
          pantoneId: 1002,
          name: "16-5907 TCX",
          majorColorName: "Green",
          colorName: "Granite Green",
          r: 134,
          g: 162,
          b: 147
        },
        {
          pantoneId: 1003,
          name: "16-5917 TCX",
          majorColorName: "Blue-Green",
          colorName: "Malachite Green",
          r: 112,
          g: 154,
          b: 137
        },
        {
          pantoneId: 1004,
          name: "16-5919 TCX",
          majorColorName: "Blue-Green",
          colorName: "Creme de Menthe",
          r: 112,
          g: 163,
          b: 141
        },
        {
          pantoneId: 1005,
          name: "16-5924 TCX",
          majorColorName: "Blue-Green",
          colorName: "Winter Green",
          r: 79,
          g: 158,
          b: 129
        },
        {
          pantoneId: 1006,
          name: "16-5930 TCX",
          majorColorName: "Blue-Green",
          colorName: "Ming Green",
          r: 58,
          g: 162,
          b: 120
        },
        {
          pantoneId: 1007,
          name: "16-5932 TCX",
          majorColorName: "Blue-Green",
          colorName: "Holly Green",
          r: 15,
          g: 157,
          b: 118
        },
        {
          pantoneId: 1008,
          name: "16-5938 TCX",
          majorColorName: "Blue-Green",
          colorName: "Mint",
          r: 0,
          g: 161,
          b: 112
        },
        {
          pantoneId: 1009,
          name: "16-5942 TCX",
          majorColorName: "Blue-Green",
          colorName: "Blarney",
          r: 0,
          g: 167,
          b: 118
        },
        {
          pantoneId: 1010,
          name: "16-6008 TCX",
          majorColorName: "Gray",
          colorName: "Seagrass",
          r: 149,
          g: 152,
          b: 137
        },
        {
          pantoneId: 1011,
          name: "16-6030 TCX",
          majorColorName: "Green",
          colorName: "Katydid",
          r: 102,
          g: 188,
          b: 145
        },
        {
          pantoneId: 1012,
          name: "16-6116 TCX",
          majorColorName: "Green",
          colorName: "Shale Green",
          r: 115,
          g: 144,
          b: 114
        },
        {
          pantoneId: 1013,
          name: "16-6127 TCX",
          majorColorName: "Green",
          colorName: "Greenbriar",
          r: 75,
          g: 155,
          b: 105
        },
        {
          pantoneId: 1014,
          name: "16-6138 TCX",
          majorColorName: "Green",
          colorName: "Kelly Green",
          r: 51,
          g: 156,
          b: 94
        },
        {
          pantoneId: 1015,
          name: "16-6216 TCX",
          majorColorName: "Green",
          colorName: "Basil",
          r: 135,
          g: 159,
          b: 132
        },
        {
          pantoneId: 1016,
          name: "16-6240 TCX",
          majorColorName: "Green",
          colorName: "Island Green",
          r: 43,
          g: 174,
          b: 102
        },
        {
          pantoneId: 1017,
          name: "16-6318 TCX",
          majorColorName: "Green",
          colorName: "Mineral Green",
          r: 122,
          g: 155,
          b: 120
        },
        {
          pantoneId: 1018,
          name: "16-6324 TCX",
          majorColorName: "Green",
          colorName: "Jadesheen",
          r: 119,
          g: 162,
          b: 118
        },
        {
          pantoneId: 1019,
          name: "16-6329 TCX",
          majorColorName: "Green",
          colorName: "Peppermint",
          r: 105,
          g: 158,
          b: 109
        },
        {
          pantoneId: 1020,
          name: "16-6339 TCX",
          majorColorName: "Green",
          colorName: "Vibrant Green",
          r: 85,
          g: 168,
          b: 96
        },
        {
          pantoneId: 1021,
          name: "16-6340 TCX",
          majorColorName: "Green",
          colorName: "Classic Green",
          r: 57,
          g: 168,
          b: 69
        },
        {
          pantoneId: 1022,
          name: "16-6444 TCX",
          majorColorName: "Green",
          colorName: "Poison Green",
          r: 77,
          g: 181,
          b: 96
        },
        {
          pantoneId: 1023,
          name: "17-0000 TCX",
          majorColorName: "Gray",
          colorName: "Frost Gray",
          r: 132,
          g: 130,
          b: 131
        },
        {
          pantoneId: 1024,
          name: "17-0115 TCX",
          majorColorName: "Green",
          colorName: "Oil Green",
          r: 128,
          g: 133,
          b: 109
        },
        {
          pantoneId: 1025,
          name: "17-0119 TCX",
          majorColorName: "Green",
          colorName: "Turf Green",
          r: 111,
          g: 140,
          b: 105
        },
        {
          pantoneId: 1026,
          name: "17-0123 TCX",
          majorColorName: "Green",
          colorName: "Stone Green",
          r: 101,
          g: 142,
          b: 103
        },
        {
          pantoneId: 1027,
          name: "17-0133 TCX",
          majorColorName: "Green",
          colorName: "Fluorite Green",
          r: 105,
          g: 145,
          b: 88
        },
        {
          pantoneId: 1028,
          name: "17-0145 TCX",
          majorColorName: "Green",
          colorName: "Online Lime",
          r: 68,
          g: 136,
          b: 60
        },
        {
          pantoneId: 1029,
          name: "17-0205 TCX",
          majorColorName: "Gray",
          colorName: "Elephant Skin",
          r: 143,
          g: 137,
          b: 130
        },
        {
          pantoneId: 1030,
          name: "17-0207 TCX",
          majorColorName: "Gray",
          colorName: "Rock Ridge",
          r: 145,
          g: 140,
          b: 134
        },
        {
          pantoneId: 1031,
          name: "17-0210 TCX",
          majorColorName: "Green",
          colorName: "Loden Frost",
          r: 120,
          g: 143,
          b: 116
        },
        {
          pantoneId: 1032,
          name: "17-0215 TCX",
          majorColorName: "Green",
          colorName: "Aspen Green",
          r: 126,
          g: 155,
          b: 118
        },
        {
          pantoneId: 1033,
          name: "17-0220 TCX",
          majorColorName: "Green",
          colorName: "Watercress",
          r: 116,
          g: 140,
          b: 105
        },
        {
          pantoneId: 1034,
          name: "17-0230 TCX",
          majorColorName: "Green",
          colorName: "Forest Green",
          r: 107,
          g: 141,
          b: 83
        },
        {
          pantoneId: 1035,
          name: "17-0235 TCX",
          majorColorName: "Green",
          colorName: "Piquant Green",
          r: 118,
          g: 147,
          b: 88
        },
        {
          pantoneId: 1036,
          name: "17-0324 TCX",
          majorColorName: "Green",
          colorName: "Epsom",
          r: 132,
          g: 145,
          b: 97
        },
        {
          pantoneId: 1037,
          name: "17-0330 TCX",
          majorColorName: "Green",
          colorName: "Turtle Green",
          r: 129,
          g: 137,
          b: 78
        },
        {
          pantoneId: 1038,
          name: "17-0336 TCX",
          majorColorName: "Green",
          colorName: "Peridot",
          r: 129,
          g: 149,
          b: 72
        },
        {
          pantoneId: 1039,
          name: "17-0510 TCX",
          majorColorName: "Brown",
          colorName: "Silver Sage",
          r: 147,
          g: 139,
          b: 120
        },
        {
          pantoneId: 1040,
          name: "17-0517 TCX",
          majorColorName: "Brown",
          colorName: "Dusky Green",
          r: 116,
          g: 108,
          b: 87
        },
        {
          pantoneId: 1041,
          name: "17-0525 TCX",
          majorColorName: "Green",
          colorName: "Mosstone",
          r: 133,
          g: 137,
          b: 97
        },
        {
          pantoneId: 1042,
          name: "17-0535 TCX",
          majorColorName: "Yellow",
          colorName: "Green Olive",
          r: 141,
          g: 139,
          b: 85
        },
        {
          pantoneId: 1043,
          name: "17-0610 TCX",
          majorColorName: "Gray",
          colorName: "Laurel Oak",
          r: 145,
          g: 140,
          b: 126
        },
        {
          pantoneId: 1044,
          name: "17-0613 TCX",
          majorColorName: "Gray",
          colorName: "Vetiver",
          r: 128,
          g: 125,
          b: 111
        },
        {
          pantoneId: 1045,
          name: "17-0618 TCX",
          majorColorName: "Brown",
          colorName: "Mermaid",
          r: 129,
          g: 122,
          b: 101
        },
        {
          pantoneId: 1046,
          name: "17-0620 TCX",
          majorColorName: "Yellow",
          colorName: "Aloe",
          r: 129,
          g: 122,
          b: 96
        },
        {
          pantoneId: 1047,
          name: "17-0625 TCX",
          majorColorName: "Yellow",
          colorName: "Boa",
          r: 142,
          g: 133,
          b: 95
        },
        {
          pantoneId: 1048,
          name: "17-0627 TCX",
          majorColorName: "Yellow",
          colorName: "Dried Herb",
          r: 132,
          g: 122,
          b: 89
        },
        {
          pantoneId: 1049,
          name: "17-0636 TCX",
          majorColorName: "Yellow",
          colorName: "Green Moss",
          r: 133,
          g: 121,
          b: 70
        },
        {
          pantoneId: 1050,
          name: "17-0808 TCX",
          majorColorName: "Brown",
          colorName: "Taupe Gray",
          r: 142,
          g: 124,
          b: 113
        },
        {
          pantoneId: 1051,
          name: "17-0836 TCX",
          majorColorName: "Brown",
          colorName: "Ecru Olive",
          r: 146,
          g: 123,
          b: 60
        },
        {
          pantoneId: 1052,
          name: "17-0839 TCX",
          majorColorName: "Yellow",
          colorName: "Golden Palm",
          r: 170,
          g: 136,
          b: 5
        },
        {
          pantoneId: 1053,
          name: "17-0840 TCX",
          majorColorName: "Brown",
          colorName: "Amber Green",
          r: 154,
          g: 128,
          b: 58
        },
        {
          pantoneId: 1054,
          name: "17-0843 TCX",
          majorColorName: "Brown",
          colorName: "Bronze Mist",
          r: 156,
          g: 126,
          b: 65
        },
        {
          pantoneId: 1055,
          name: "17-0909 TCX",
          majorColorName: "Brown",
          colorName: "Fossil",
          r: 128,
          g: 111,
          b: 99
        },
        {
          pantoneId: 1056,
          name: "17-0929 TCX",
          majorColorName: "Brown",
          colorName: "Fennel Seed",
          r: 153,
          g: 132,
          b: 86
        },
        {
          pantoneId: 1057,
          name: "17-0935 TCX",
          majorColorName: "Brown",
          colorName: "Dull Gold",
          r: 138,
          g: 111,
          b: 72
        },
        {
          pantoneId: 1058,
          name: "17-0942 TCX",
          majorColorName: "Brown",
          colorName: "Medal Bronze",
          r: 151,
          g: 117,
          b: 71
        },
        {
          pantoneId: 1059,
          name: "17-1009 TCX",
          majorColorName: "Brown",
          colorName: "Dune",
          r: 153,
          g: 137,
          b: 120
        },
        {
          pantoneId: 1060,
          name: "17-1019 TCX",
          majorColorName: "Brown",
          colorName: "Elmwood",
          r: 140,
          g: 124,
          b: 97
        },
        {
          pantoneId: 1061,
          name: "17-1022 TCX",
          majorColorName: "Brown",
          colorName: "Kelp",
          r: 152,
          g: 132,
          b: 103
        },
        {
          pantoneId: 1062,
          name: "17-1028 TCX",
          majorColorName: "Brown",
          colorName: "Antique Bronze",
          r: 144,
          g: 121,
          b: 84
        },
        {
          pantoneId: 1063,
          name: "17-1036 TCX",
          majorColorName: "Brown",
          colorName: "Bistre",
          r: 152,
          g: 117,
          b: 74
        },
        {
          pantoneId: 1064,
          name: "17-1040 TCX",
          majorColorName: "Brown",
          colorName: "Spruce Yellow",
          r: 190,
          g: 138,
          b: 74
        },
        {
          pantoneId: 1065,
          name: "17-1044 TCX",
          majorColorName: "Brown",
          colorName: "Chipmunk",
          r: 151,
          g: 111,
          b: 76
        },
        {
          pantoneId: 1066,
          name: "17-1045 TCX",
          majorColorName: "Brown",
          colorName: "Apple Cinnamon",
          r: 176,
          g: 136,
          b: 90
        },
        {
          pantoneId: 1067,
          name: "17-1046 TCX",
          majorColorName: "Brown",
          colorName: "Golden Oak",
          r: 190,
          g: 117,
          b: 45
        },
        {
          pantoneId: 1068,
          name: "17-1047 TCX",
          majorColorName: "Brown",
          colorName: "Honey Mustard",
          r: 182,
          g: 143,
          b: 82
        },
        {
          pantoneId: 1069,
          name: "17-1048 TCX",
          majorColorName: "Brown",
          colorName: "Inca Gold",
          r: 187,
          g: 122,
          b: 44
        },
        {
          pantoneId: 1070,
          name: "17-1107 TCX",
          majorColorName: "Brown",
          colorName: "Seneca Rock",
          r: 154,
          g: 146,
          b: 127
        },
        {
          pantoneId: 1071,
          name: "17-1109 TCX",
          majorColorName: "Brown",
          colorName: "Chinchilla",
          r: 156,
          g: 142,
          b: 123
        },
        {
          pantoneId: 1072,
          name: "17-1113 TCX",
          majorColorName: "Brown",
          colorName: "Coriander",
          r: 147,
          g: 135,
          b: 114
        },
        {
          pantoneId: 1073,
          name: "17-1118 TCX",
          majorColorName: "Brown",
          colorName: "Lead Gray",
          r: 138,
          g: 121,
          b: 99
        },
        {
          pantoneId: 1074,
          name: "17-1125 TCX",
          majorColorName: "Brown",
          colorName: "Dijon",
          r: 151,
          g: 117,
          b: 76
        },
        {
          pantoneId: 1075,
          name: "17-1128 TCX",
          majorColorName: "Brown",
          colorName: "Bone Brown",
          r: 157,
          g: 116,
          b: 70
        },
        {
          pantoneId: 1076,
          name: "17-1129 TCX",
          majorColorName: "Brown",
          colorName: "Wood Thrush",
          r: 164,
          g: 125,
          b: 67
        },
        {
          pantoneId: 1077,
          name: "17-1134 TCX",
          majorColorName: "Brown",
          colorName: "Brown Sugar",
          r: 161,
          g: 114,
          b: 73
        },
        {
          pantoneId: 1078,
          name: "17-1137 TCX",
          majorColorName: "Brown",
          colorName: "Cashew",
          r: 164,
          g: 113,
          b: 73
        },
        {
          pantoneId: 1079,
          name: "17-1143 TCX",
          majorColorName: "Brown",
          colorName: "Hazel",
          r: 174,
          g: 114,
          b: 80
        },
        {
          pantoneId: 1080,
          name: "17-1147 TCX",
          majorColorName: "Brown",
          colorName: "Amber Brown",
          r: 166,
          g: 102,
          b: 70
        },
        {
          pantoneId: 1081,
          name: "17-1210 TCX",
          majorColorName: "Gray",
          colorName: "Moon Rock",
          r: 149,
          g: 139,
          b: 132
        },
        {
          pantoneId: 1082,
          name: "17-1212 TCX",
          majorColorName: "Brown",
          colorName: "Fungi",
          r: 143,
          g: 129,
          b: 119
        },
        {
          pantoneId: 1083,
          name: "17-1223 TCX",
          majorColorName: "Brown",
          colorName: "Praline",
          r: 173,
          g: 139,
          b: 117
        },
        {
          pantoneId: 1084,
          name: "17-1224 TCX",
          majorColorName: "Brown",
          colorName: "Camel",
          r: 176,
          g: 132,
          b: 106
        },
        {
          pantoneId: 1085,
          name: "17-1225 TCX",
          majorColorName: "Brown",
          colorName: "Tawny Birch",
          r: 174,
          g: 133,
          b: 108
        },
        {
          pantoneId: 1086,
          name: "17-1226 TCX",
          majorColorName: "Brown",
          colorName: "Tawny Brown",
          r: 171,
          g: 133,
          b: 111
        },
        {
          pantoneId: 1087,
          name: "17-1227 TCX",
          majorColorName: "Brown",
          colorName: "Cafe au Lait",
          r: 174,
          g: 135,
          b: 116
        },
        {
          pantoneId: 1088,
          name: "17-1230 TCX",
          majorColorName: "Brown",
          colorName: "Mocha Mousse",
          r: 164,
          g: 120,
          b: 100
        },
        {
          pantoneId: 1089,
          name: "17-1310 TCX",
          majorColorName: "Brown",
          colorName: "Timber Wolf",
          r: 141,
          g: 128,
          b: 112
        },
        {
          pantoneId: 1090,
          name: "17-1312 TCX",
          majorColorName: "Brown",
          colorName: "Silver Mink",
          r: 159,
          g: 141,
          b: 124
        },
        {
          pantoneId: 1091,
          name: "17-1319 TCX",
          majorColorName: "Brown",
          colorName: "Amphora",
          r: 159,
          g: 134,
          b: 114
        },
        {
          pantoneId: 1092,
          name: "17-1320 TCX",
          majorColorName: "Brown",
          colorName: "Tannin",
          r: 166,
          g: 138,
          b: 109
        },
        {
          pantoneId: 1093,
          name: "17-1321 TCX",
          majorColorName: "Brown",
          colorName: "Woodsmoke",
          r: 148,
          g: 119,
          b: 100
        },
        {
          pantoneId: 1094,
          name: "17-1322 TCX",
          majorColorName: "Brown",
          colorName: "Burro",
          r: 158,
          g: 126,
          b: 103
        },
        {
          pantoneId: 1095,
          name: "17-1327 TCX",
          majorColorName: "Brown",
          colorName: "Tobacco Brown",
          r: 154,
          g: 115,
          b: 82
        },
        {
          pantoneId: 1096,
          name: "17-1328 TCX",
          majorColorName: "Brown",
          colorName: "Indian Tan",
          r: 173,
          g: 133,
          b: 103
        },
        {
          pantoneId: 1097,
          name: "17-1330 TCX",
          majorColorName: "Brown",
          colorName: "Lion",
          r: 160,
          g: 113,
          b: 79
        },
        {
          pantoneId: 1098,
          name: "17-1336 TCX",
          majorColorName: "Brown",
          colorName: "Bran",
          r: 166,
          g: 110,
          b: 74
        },
        {
          pantoneId: 1099,
          name: "17-1340 TCX",
          majorColorName: "Brown",
          colorName: "Adobe",
          r: 163,
          g: 98,
          b: 59
        },
        {
          pantoneId: 1100,
          name: "17-1341 TCX",
          majorColorName: "Pink",
          colorName: "Tawny Orange",
          r: 211,
          g: 127,
          b: 111
        },
        {
          pantoneId: 1101,
          name: "17-1347 TCX",
          majorColorName: "Brown",
          colorName: "Autumn Leaf",
          r: 181,
          g: 104,
          b: 76
        },
        {
          pantoneId: 1102,
          name: "17-1350 TCX",
          majorColorName: "Orange",
          colorName: "Oriole",
          r: 255,
          g: 121,
          b: 19
        },
        {
          pantoneId: 1103,
          name: "17-1353 TCX",
          majorColorName: "Orange",
          colorName: "Apricot Orange",
          r: 200,
          g: 107,
          b: 60
        },
        {
          pantoneId: 1104,
          name: "17-1410 TCX",
          majorColorName: "Brown",
          colorName: "Pine Bark",
          r: 130,
          g: 112,
          b: 100
        },
        {
          pantoneId: 1105,
          name: "17-1417 TCX",
          majorColorName: "Brown",
          colorName: "Beaver Fur",
          r: 153,
          g: 120,
          b: 103
        },
        {
          pantoneId: 1106,
          name: "17-1418 TCX",
          majorColorName: "Brown",
          colorName: "Ginger Snap",
          r: 151,
          g: 125,
          b: 112
        },
        {
          pantoneId: 1107,
          name: "17-1422 TCX",
          majorColorName: "Brown",
          colorName: "Raw Umber",
          r: 146,
          g: 112,
          b: 95
        },
        {
          pantoneId: 1108,
          name: "17-1424 TCX",
          majorColorName: "Pink",
          colorName: "Brick Dust",
          r: 176,
          g: 112,
          b: 105
        },
        {
          pantoneId: 1109,
          name: "17-1430 TCX",
          majorColorName: "Brown",
          colorName: "Pecan Brown",
          r: 163,
          g: 110,
          b: 81
        },
        {
          pantoneId: 1110,
          name: "17-1436 TCX",
          majorColorName: "Brown",
          colorName: "Raw Sienna",
          r: 185,
          g: 113,
          b: 79
        },
        {
          pantoneId: 1111,
          name: "17-1444 TCX",
          majorColorName: "Pink",
          colorName: "Ginger",
          r: 201,
          g: 101,
          b: 81
        },
        {
          pantoneId: 1112,
          name: "17-1446 TCX",
          majorColorName: "Brown",
          colorName: "Mango",
          r: 183,
          g: 94,
          b: 65
        },
        {
          pantoneId: 1113,
          name: "17-1456 TCX",
          majorColorName: "Red",
          colorName: "Tigerlily",
          r: 226,
          g: 88,
          b: 62
        },
        {
          pantoneId: 1114,
          name: "17-1462 TCX",
          majorColorName: "Orange",
          colorName: "Flame",
          r: 242,
          g: 85,
          b: 44
        },
        {
          pantoneId: 1115,
          name: "17-1464 TCX",
          majorColorName: "Orange",
          colorName: "Red Orange",
          r: 240,
          g: 86,
          b: 39
        },
        {
          pantoneId: 1116,
          name: "17-1500 TCX",
          majorColorName: "Gray",
          colorName: "Steeple Gray",
          r: 130,
          g: 126,
          b: 124
        },
        {
          pantoneId: 1117,
          name: "17-1501 TCX",
          majorColorName: "Gray",
          colorName: "Wild Dove",
          r: 139,
          g: 140,
          b: 137
        },
        {
          pantoneId: 1118,
          name: "17-1502 TCX",
          majorColorName: "Gray",
          colorName: "Cloudburst",
          r: 131,
          g: 127,
          b: 127
        },
        {
          pantoneId: 1119,
          name: "17-1505 TCX",
          majorColorName: "Gray",
          colorName: "Quail",
          r: 152,
          g: 134,
          b: 140
        },
        {
          pantoneId: 1120,
          name: "17-1506 TCX",
          majorColorName: "Gray",
          colorName: "Cinder",
          r: 138,
          g: 126,
          b: 120
        },
        {
          pantoneId: 1121,
          name: "17-1510 TCX",
          majorColorName: "Pink",
          colorName: "Antler",
          r: 149,
          g: 122,
          b: 118
        },
        {
          pantoneId: 1122,
          name: "17-1511 TCX",
          majorColorName: "Pink",
          colorName: "Wistful Mauve",
          r: 148,
          g: 108,
          b: 116
        },
        {
          pantoneId: 1123,
          name: "17-1512 TCX",
          majorColorName: "Pink",
          colorName: "Nostalgia Rose",
          r: 164,
          g: 119,
          b: 126
        },
        {
          pantoneId: 1124,
          name: "17-1514 TCX",
          majorColorName: "Pink",
          colorName: "Ash Rose",
          r: 181,
          g: 129,
          b: 125
        },
        {
          pantoneId: 1125,
          name: "17-1516 TCX",
          majorColorName: "Pink",
          colorName: "Burlwood",
          r: 155,
          g: 113,
          b: 107
        },
        {
          pantoneId: 1126,
          name: "17-1518 TCX",
          majorColorName: "Pink",
          colorName: "Old Rose",
          r: 180,
          g: 123,
          b: 119
        },
        {
          pantoneId: 1127,
          name: "17-1520 TCX",
          majorColorName: "Pink",
          colorName: "Canyon Rose",
          r: 175,
          g: 108,
          b: 103
        },
        {
          pantoneId: 1128,
          name: "17-1522 TCX",
          majorColorName: "Pink",
          colorName: "Mauvewood",
          r: 167,
          g: 93,
          b: 103
        },
        {
          pantoneId: 1129,
          name: "17-1524 TCX",
          majorColorName: "Pink",
          colorName: "Desert Sand",
          r: 189,
          g: 123,
          b: 116
        },
        {
          pantoneId: 1130,
          name: "17-1525 TCX",
          majorColorName: "Pink",
          colorName: "Cedar Wood",
          r: 161,
          g: 101,
          b: 91
        },
        {
          pantoneId: 1131,
          name: "17-1532 TCX",
          majorColorName: "Pink",
          colorName: "Aragon",
          r: 176,
          g: 100,
          b: 85
        },
        {
          pantoneId: 1132,
          name: "17-1537 TCX",
          majorColorName: "Pink",
          colorName: "Mineral Red",
          r: 179,
          g: 84,
          b: 87
        },
        {
          pantoneId: 1133,
          name: "17-1540 TCX",
          majorColorName: "Pink",
          colorName: "Apricot Brandy",
          r: 194,
          g: 106,
          b: 90
        },
        {
          pantoneId: 1134,
          name: "17-1544 TCX",
          majorColorName: "Pink",
          colorName: "Burnt Sienna",
          r: 198,
          g: 93,
          b: 82
        },
        {
          pantoneId: 1135,
          name: "17-1545 TCX",
          majorColorName: "Pink",
          colorName: "Cranberry",
          r: 187,
          g: 74,
          b: 77
        },
        {
          pantoneId: 1136,
          name: "17-1547 TCX",
          majorColorName: "Pink",
          colorName: "Emberglow",
          r: 234,
          g: 103,
          b: 89
        },
        {
          pantoneId: 1137,
          name: "17-1553 TCX",
          majorColorName: "Pink",
          colorName: "Paprika",
          r: 206,
          g: 77,
          b: 66
        },
        {
          pantoneId: 1138,
          name: "17-1558 TCX",
          majorColorName: "Red",
          colorName: "Grenadine",
          r: 223,
          g: 63,
          b: 50
        },
        {
          pantoneId: 1139,
          name: "17-1562 TCX",
          majorColorName: "Red",
          colorName: "Mandarin Red",
          r: 231,
          g: 74,
          b: 51
        },
        {
          pantoneId: 1140,
          name: "17-1563 TCX",
          majorColorName: "Red",
          colorName: "Cherry Tomato",
          r: 235,
          g: 60,
          b: 39
        },
        {
          pantoneId: 1141,
          name: "17-1564 TCX",
          majorColorName: "Red",
          colorName: "Fiesta",
          r: 221,
          g: 65,
          b: 50
        },
        {
          pantoneId: 1142,
          name: "17-1605 TCX",
          majorColorName: "Pink",
          colorName: "Elderberry",
          r: 157,
          g: 132,
          b: 142
        },
        {
          pantoneId: 1143,
          name: "17-1608 TCX",
          majorColorName: "Pink",
          colorName: "Heather Rose",
          r: 173,
          g: 109,
          b: 127
        },
        {
          pantoneId: 1144,
          name: "17-1610 TCX",
          majorColorName: "Pink",
          colorName: "Dusky Orchid",
          r: 154,
          g: 113,
          b: 130
        },
        {
          pantoneId: 1145,
          name: "17-1612 TCX",
          majorColorName: "Pink",
          colorName: "Mellow Mauve",
          r: 153,
          g: 99,
          b: 120
        },
        {
          pantoneId: 1146,
          name: "17-1614 TCX",
          majorColorName: "Pink",
          colorName: "Deco Rose",
          r: 152,
          g: 95,
          b: 104
        },
        {
          pantoneId: 1147,
          name: "17-1623 TCX",
          majorColorName: "Pink",
          colorName: "Rose Wine",
          r: 164,
          g: 89,
          b: 109
        },
        {
          pantoneId: 1148,
          name: "17-1633 TCX",
          majorColorName: "Pink",
          colorName: "Holly Berry",
          r: 180,
          g: 78,
          b: 93
        },
        {
          pantoneId: 1149,
          name: "17-1635 TCX",
          majorColorName: "Pink",
          colorName: "Rose of Sharon",
          r: 220,
          g: 91,
          b: 98
        },
        {
          pantoneId: 1150,
          name: "17-1641 TCX",
          majorColorName: "Pink",
          colorName: "Chrysanthemum",
          r: 190,
          g: 69,
          b: 79
        },
        {
          pantoneId: 1151,
          name: "17-1643 TCX",
          majorColorName: "Pink",
          colorName: "Porcelain Rose",
          r: 234,
          g: 107,
          b: 106
        },
        {
          pantoneId: 1152,
          name: "17-1644 TCX",
          majorColorName: "Pink",
          colorName: "Spiced Coral",
          r: 215,
          g: 92,
          b: 93
        },
        {
          pantoneId: 1153,
          name: "17-1647 TCX",
          majorColorName: "Pink",
          colorName: "Dubarry",
          r: 242,
          g: 95,
          b: 102
        },
        {
          pantoneId: 1154,
          name: "17-1654 TCX",
          majorColorName: "Red",
          colorName: "Poinsettia",
          r: 203,
          g: 52,
          b: 65
        },
        {
          pantoneId: 1155,
          name: "17-1656 TCX",
          majorColorName: "Pink",
          colorName: "Hot Coral",
          r: 243,
          g: 91,
          b: 83
        },
        {
          pantoneId: 1156,
          name: "17-1663 TCX",
          majorColorName: "Red",
          colorName: "Bittersweet",
          r: 217,
          g: 55,
          b: 68
        },
        {
          pantoneId: 1157,
          name: "17-1664 TCX",
          majorColorName: "Red",
          colorName: "Poppy Red",
          r: 220,
          g: 52,
          b: 59
        },
        {
          pantoneId: 1158,
          name: "17-1710 TCX",
          majorColorName: "Pink",
          colorName: "Bordeaux",
          r: 150,
          g: 99,
          b: 123
        },
        {
          pantoneId: 1159,
          name: "17-1718 TCX",
          majorColorName: "Pink",
          colorName: "Dusty Rose",
          r: 186,
          g: 121,
          b: 125
        },
        {
          pantoneId: 1160,
          name: "17-1723 TCX",
          majorColorName: "Pink",
          colorName: "Malaga",
          r: 159,
          g: 80,
          b: 105
        },
        {
          pantoneId: 1161,
          name: "17-1736 TCX",
          majorColorName: "Pink",
          colorName: "Sun Kissed Coral",
          r: 234,
          g: 102,
          b: 118
        },
        {
          pantoneId: 1162,
          name: "17-1740 TCX",
          majorColorName: "Pink",
          colorName: "Claret Red",
          r: 200,
          g: 76,
          b: 97
        },
        {
          pantoneId: 1163,
          name: "17-1744 TCX",
          majorColorName: "Pink",
          colorName: "Calypso Coral",
          r: 238,
          g: 92,
          b: 108
        },
        {
          pantoneId: 1164,
          name: "17-1753 TCX",
          majorColorName: "Pink",
          colorName: "Geranium",
          r: 218,
          g: 61,
          b: 88
        },
        {
          pantoneId: 1165,
          name: "17-1755 TCX",
          majorColorName: "Pink",
          colorName: "Paradise Pink",
          r: 228,
          g: 68,
          b: 94
        },
        {
          pantoneId: 1166,
          name: "17-1818 TCX",
          majorColorName: "Pink",
          colorName: "Red Violet",
          r: 163,
          g: 87,
          b: 118
        },
        {
          pantoneId: 1167,
          name: "17-1831 TCX",
          majorColorName: "Pink",
          colorName: "Carmine",
          r: 188,
          g: 72,
          b: 105
        },
        {
          pantoneId: 1168,
          name: "17-1842 TCX",
          majorColorName: "Pink",
          colorName: "Azalea",
          r: 212,
          g: 46,
          b: 91
        },
        {
          pantoneId: 1169,
          name: "17-1927 TCX",
          majorColorName: "Pink",
          colorName: "Desert Rose",
          r: 207,
          g: 105,
          b: 119
        },
        {
          pantoneId: 1170,
          name: "17-1928 TCX",
          majorColorName: "Pink",
          colorName: "Bubblegum",
          r: 234,
          g: 115,
          b: 141
        },
        {
          pantoneId: 1171,
          name: "17-1929 TCX",
          majorColorName: "Pink",
          colorName: "Rapture Rose",
          r: 209,
          g: 98,
          b: 119
        },
        {
          pantoneId: 1172,
          name: "17-1930 TCX",
          majorColorName: "Pink",
          colorName: "Camellia Rose",
          r: 235,
          g: 96,
          b: 129
        },
        {
          pantoneId: 1173,
          name: "17-1937 TCX",
          majorColorName: "Pink",
          colorName: "Hot Pink",
          r: 229,
          g: 89,
          b: 130
        },
        {
          pantoneId: 1174,
          name: "17-2031 TCX",
          majorColorName: "Pink",
          colorName: "Fuchsia Rose",
          r: 199,
          g: 67,
          b: 117
        },
        {
          pantoneId: 1175,
          name: "17-2033 TCX",
          majorColorName: "Pink",
          colorName: "Fandango Pink",
          r: 224,
          g: 79,
          b: 128
        },
        {
          pantoneId: 1176,
          name: "17-2036 TCX",
          majorColorName: "Pink",
          colorName: "Magenta",
          r: 210,
          g: 60,
          b: 119
        },
        {
          pantoneId: 1177,
          name: "17-2120 TCX",
          majorColorName: "Pink",
          colorName: "Chateau Rose",
          r: 210,
          g: 115,
          b: 143
        },
        {
          pantoneId: 1178,
          name: "17-2127 TCX",
          majorColorName: "Pink",
          colorName: "Shocking Pink",
          r: 222,
          g: 91,
          b: 140
        },
        {
          pantoneId: 1179,
          name: "17-2227 TCX",
          majorColorName: "Pink",
          colorName: "Lilac Rose",
          r: 189,
          g: 66,
          b: 117
        },
        {
          pantoneId: 1180,
          name: "17-2230 TCX",
          majorColorName: "Pink",
          colorName: "Carmine Rose",
          r: 227,
          g: 91,
          b: 143
        },
        {
          pantoneId: 1181,
          name: "17-2520 TCX",
          majorColorName: "Pink",
          colorName: "Ibis Rose",
          r: 202,
          g: 98,
          b: 143
        },
        {
          pantoneId: 1182,
          name: "17-2601 TCX",
          majorColorName: "Gray",
          colorName: "Zinc",
          r: 146,
          g: 137,
          b: 138
        },
        {
          pantoneId: 1183,
          name: "17-2617 TCX",
          majorColorName: "Pink",
          colorName: "Dahlia Mauve",
          r: 166,
          g: 79,
          b: 130
        },
        {
          pantoneId: 1184,
          name: "17-2624 TCX",
          majorColorName: "Pink",
          colorName: "Rose Violet",
          r: 192,
          g: 66,
          b: 138
        },
        {
          pantoneId: 1185,
          name: "17-2625 TCX",
          majorColorName: "Pink",
          colorName: "Super Pink",
          r: 206,
          g: 107,
          b: 164
        },
        {
          pantoneId: 1186,
          name: "17-2627 TCX",
          majorColorName: "Pink",
          colorName: "Phlox Pink",
          r: 206,
          g: 94,
          b: 154
        },
        {
          pantoneId: 1187,
          name: "17-3014 TCX",
          majorColorName: "Pink",
          colorName: "Mulberry",
          r: 167,
          g: 108,
          b: 151
        },
        {
          pantoneId: 1188,
          name: "17-3020 TCX",
          majorColorName: "Pink",
          colorName: "Spring Crocus",
          r: 186,
          g: 105,
          b: 161
        },
        {
          pantoneId: 1189,
          name: "17-3023 TCX",
          majorColorName: "Pink",
          colorName: "Rosebud",
          r: 182,
          g: 95,
          b: 154
        },
        {
          pantoneId: 1190,
          name: "17-3313 TCX",
          majorColorName: "Light-Purple",
          colorName: "Dusty Lavender",
          r: 161,
          g: 117,
          b: 156
        },
        {
          pantoneId: 1191,
          name: "17-3323 TCX",
          majorColorName: "Light-Purple",
          colorName: "Iris Orchid",
          r: 167,
          g: 103,
          b: 162
        },
        {
          pantoneId: 1192,
          name: "17-3410 TCX",
          majorColorName: "Pink",
          colorName: "Valerian",
          r: 159,
          g: 122,
          b: 147
        },
        {
          pantoneId: 1193,
          name: "17-3612 TCX",
          majorColorName: "Light-Purple",
          colorName: "Orchid Mist",
          r: 145,
          g: 119,
          b: 152
        },
        {
          pantoneId: 1194,
          name: "17-3615 TCX",
          majorColorName: "Light-Purple",
          colorName: "Chalk Violet",
          r: 143,
          g: 125,
          b: 165
        },
        {
          pantoneId: 1195,
          name: "17-3619 TCX",
          majorColorName: "Light-Purple",
          colorName: "Hyacinth",
          r: 147,
          g: 108,
          b: 167
        },
        {
          pantoneId: 1196,
          name: "17-3628 TCX",
          majorColorName: "Light-Purple",
          colorName: "Amethyst Orchid",
          r: 146,
          g: 106,
          b: 166
        },
        {
          pantoneId: 1197,
          name: "17-3725 TCX",
          majorColorName: "Light-Purple",
          colorName: "Bougainvillea",
          r: 152,
          g: 132,
          b: 185
        },
        {
          pantoneId: 1198,
          name: "17-3730 TCX",
          majorColorName: "Light-Purple",
          colorName: "Paisley Purple",
          r: 139,
          g: 121,
          b: 177
        },
        {
          pantoneId: 1199,
          name: "17-3802 TCX",
          majorColorName: "Gray",
          colorName: "Gull",
          r: 145,
          g: 140,
          b: 143
        },
        {
          pantoneId: 1200,
          name: "17-3808 TCX",
          majorColorName: "Gray",
          colorName: "Nirvana",
          r: 162,
          g: 145,
          b: 155
        },
        {
          pantoneId: 1201,
          name: "17-3810 TCX",
          majorColorName: "Gray",
          colorName: "Purple Ash",
          r: 143,
          g: 131,
          b: 149
        },
        {
          pantoneId: 1202,
          name: "17-3812 TCX",
          majorColorName: "Light-Purple",
          colorName: "Dusk",
          r: 137,
          g: 127,
          b: 152
        },
        {
          pantoneId: 1203,
          name: "17-3817 TCX",
          majorColorName: "Light-Purple",
          colorName: "Daybreak",
          r: 137,
          g: 129,
          b: 160
        },
        {
          pantoneId: 1204,
          name: "17-3826 TCX",
          majorColorName: "Blue",
          colorName: "Aster Purple",
          r: 125,
          g: 116,
          b: 168
        },
        {
          pantoneId: 1205,
          name: "17-3834 TCX",
          majorColorName: "Light-Purple",
          colorName: "Dahlia Purple",
          r: 126,
          g: 110,
          b: 172
        },
        {
          pantoneId: 1206,
          name: "17-3906 TCX",
          majorColorName: "Gray",
          colorName: "Minimal Gray",
          r: 148,
          g: 141,
          b: 153
        },
        {
          pantoneId: 1207,
          name: "17-3910 TCX",
          majorColorName: "Gray",
          colorName: "Lavender Gray",
          r: 152,
          g: 144,
          b: 162
        },
        {
          pantoneId: 1208,
          name: "17-3915 TCX",
          majorColorName: "Blue",
          colorName: "Tempest",
          r: 121,
          g: 131,
          b: 155
        },
        {
          pantoneId: 1209,
          name: "17-3917 TCX",
          majorColorName: "Blue",
          colorName: "Stonewash",
          r: 116,
          g: 128,
          b: 154
        },
        {
          pantoneId: 1210,
          name: "17-3918 TCX",
          majorColorName: "Blue",
          colorName: "Country Blue",
          r: 113,
          g: 127,
          b: 155
        },
        {
          pantoneId: 1211,
          name: "17-3919 TCX",
          majorColorName: "Blue",
          colorName: "Purple Impression",
          r: 133,
          g: 143,
          b: 177
        },
        {
          pantoneId: 1212,
          name: "17-3920 TCX",
          majorColorName: "Blue",
          colorName: "English Manor",
          r: 113,
          g: 129,
          b: 164
        },
        {
          pantoneId: 1213,
          name: "17-3922 TCX",
          majorColorName: "Blue",
          colorName: "Blue Ice",
          r: 112,
          g: 120,
          b: 155
        },
        {
          pantoneId: 1214,
          name: "17-3923 TCX",
          majorColorName: "Blue",
          colorName: "Colony Blue",
          r: 101,
          g: 118,
          b: 154
        },
        {
          pantoneId: 1215,
          name: "17-3924 TCX",
          majorColorName: "Blue",
          colorName: "Lavender Violet",
          r: 118,
          g: 123,
          b: 165
        },
        {
          pantoneId: 1216,
          name: "17-3925 TCX",
          majorColorName: "Blue",
          colorName: "Persian Violet",
          r: 140,
          g: 142,
          b: 178
        },
        {
          pantoneId: 1217,
          name: "17-3930 TCX",
          majorColorName: "Blue",
          colorName: "Jacaranda",
          r: 132,
          g: 141,
          b: 197
        },
        {
          pantoneId: 1218,
          name: "17-3932 TCX",
          majorColorName: "Blue",
          colorName: "Deep Periwinkle",
          r: 124,
          g: 131,
          b: 188
        },
        {
          pantoneId: 1219,
          name: "17-3934 TCX",
          majorColorName: "Blue",
          colorName: "Persian Jewel",
          r: 110,
          g: 129,
          b: 190
        },
        {
          pantoneId: 1220,
          name: "17-3936 TCX",
          majorColorName: "Blue",
          colorName: "Blue Bonnet",
          r: 99,
          g: 132,
          b: 184
        },
        {
          pantoneId: 1221,
          name: "17-4015 TCX",
          majorColorName: "Blue",
          colorName: "Infinity",
          r: 110,
          g: 126,
          b: 153
        },
        {
          pantoneId: 1222,
          name: "17-4020 TCX",
          majorColorName: "Blue",
          colorName: "Blue Shadow",
          r: 102,
          g: 130,
          b: 154
        },
        {
          pantoneId: 1223,
          name: "17-4021 TCX",
          majorColorName: "Blue",
          colorName: "Faded Denim",
          r: 121,
          g: 142,
          b: 164
        },
        {
          pantoneId: 1224,
          name: "17-4023 TCX",
          majorColorName: "Blue",
          colorName: "Blue Heaven",
          r: 91,
          g: 126,
          b: 152
        },
        {
          pantoneId: 1225,
          name: "17-4027 TCX",
          majorColorName: "Blue",
          colorName: "Riviera",
          r: 88,
          g: 121,
          b: 162
        },
        {
          pantoneId: 1226,
          name: "17-4030 TCX",
          majorColorName: "Blue",
          colorName: "Silver Lake Blue",
          r: 97,
          g: 139,
          b: 185
        },
        {
          pantoneId: 1227,
          name: "17-4037 TCX",
          majorColorName: "Blue",
          colorName: "Ultramarine",
          r: 91,
          g: 126,
          b: 189
        },
        {
          pantoneId: 1228,
          name: "17-4041 TCX",
          majorColorName: "Blue",
          colorName: "Marina",
          r: 79,
          g: 132,
          b: 196
        },
        {
          pantoneId: 1229,
          name: "17-4111 TCX",
          majorColorName: "Blue",
          colorName: "Citadel",
          r: 116,
          g: 137,
          b: 149
        },
        {
          pantoneId: 1230,
          name: "17-4123 TCX",
          majorColorName: "Blue",
          colorName: "Niagara",
          r: 84,
          g: 135,
          b: 164
        },
        {
          pantoneId: 1231,
          name: "17-4131 TCX",
          majorColorName: "Blue",
          colorName: "Cendre Blue",
          r: 62,
          g: 127,
          b: 165
        },
        {
          pantoneId: 1232,
          name: "17-4139 TCX",
          majorColorName: "Blue",
          colorName: "Azure Blue",
          r: 77,
          g: 145,
          b: 198
        },
        {
          pantoneId: 1233,
          name: "17-4247 TCX",
          majorColorName: "Blue",
          colorName: "Diva Blue",
          r: 0,
          g: 123,
          b: 178
        },
        {
          pantoneId: 1234,
          name: "17-4320 TCX",
          majorColorName: "Blue",
          colorName: "Adriatic Blue",
          r: 92,
          g: 137,
          b: 155
        },
        {
          pantoneId: 1235,
          name: "17-4328 TCX",
          majorColorName: "Blue",
          colorName: "Blue Moon",
          r: 54,
          g: 134,
          b: 160
        },
        {
          pantoneId: 1236,
          name: "17-4336 TCX",
          majorColorName: "Blue",
          colorName: "Blithe",
          r: 0,
          g: 132,
          b: 189
        },
        {
          pantoneId: 1237,
          name: "17-4402 TCX",
          majorColorName: "Gray",
          colorName: "Neutral Gray",
          r: 142,
          g: 145,
          b: 143
        },
        {
          pantoneId: 1238,
          name: "17-4405 TCX",
          majorColorName: "Gray",
          colorName: "Monument",
          r: 132,
          g: 137,
          b: 140
        },
        {
          pantoneId: 1239,
          name: "17-4408 TCX",
          majorColorName: "Gray",
          colorName: "Lead",
          r: 122,
          g: 137,
          b: 143
        },
        {
          pantoneId: 1240,
          name: "17-4412 TCX",
          majorColorName: "Blue",
          colorName: "Smoke Blue",
          r: 109,
          g: 137,
          b: 148
        },
        {
          pantoneId: 1241,
          name: "17-4421 TCX",
          majorColorName: "Blue",
          colorName: "Larkspur",
          r: 60,
          g: 125,
          b: 144
        },
        {
          pantoneId: 1242,
          name: "17-4427 TCX",
          majorColorName: "Blue",
          colorName: "Bluejay",
          r: 21,
          g: 126,
          b: 160
        },
        {
          pantoneId: 1243,
          name: "17-4432 TCX",
          majorColorName: "Blue",
          colorName: "Vivid Blue",
          r: 0,
          g: 136,
          b: 176
        },
        {
          pantoneId: 1244,
          name: "17-4433 TCX",
          majorColorName: "Blue",
          colorName: "Dresden Blue",
          r: 0,
          g: 134,
          b: 187
        },
        {
          pantoneId: 1245,
          name: "17-4435 TCX",
          majorColorName: "Blue",
          colorName: "Malibu Blue",
          r: 0,
          g: 140,
          b: 193
        },
        {
          pantoneId: 1246,
          name: "17-4440 TCX",
          majorColorName: "Blue",
          colorName: "Blue Danube",
          r: 0,
          g: 135,
          b: 182
        },
        {
          pantoneId: 1247,
          name: "17-4540 TCX",
          majorColorName: "Blue",
          colorName: "Hawaiian Ocean",
          r: 0,
          g: 141,
          b: 185
        },
        {
          pantoneId: 1248,
          name: "17-4716 TCX",
          majorColorName: "Blue",
          colorName: "Storm Blue",
          r: 71,
          g: 120,
          b: 138
        },
        {
          pantoneId: 1249,
          name: "17-4724 TCX",
          majorColorName: "Blue",
          colorName: "Pagoda Blue",
          r: 26,
          g: 127,
          b: 142
        },
        {
          pantoneId: 1250,
          name: "17-4728 TCX",
          majorColorName: "Blue",
          colorName: "Algiers Blue",
          r: 0,
          g: 133,
          b: 156
        },
        {
          pantoneId: 1251,
          name: "17-4730 TCX",
          majorColorName: "Blue",
          colorName: "Caneel Bay",
          r: 0,
          g: 132,
          b: 159
        },
        {
          pantoneId: 1252,
          name: "17-4735 TCX",
          majorColorName: "Blue",
          colorName: "Capri Breeze",
          r: 0,
          g: 135,
          b: 153
        },
        {
          pantoneId: 1253,
          name: "17-4818 TCX",
          majorColorName: "Blue",
          colorName: "Bristol Blue",
          r: 85,
          g: 143,
          b: 145
        },
        {
          pantoneId: 1254,
          name: "17-4911 TCX",
          majorColorName: "Blue",
          colorName: "Arctic",
          r: 100,
          g: 133,
          b: 137
        },
        {
          pantoneId: 1255,
          name: "17-4919 TCX",
          majorColorName: "Blue",
          colorName: "Teal",
          r: 71,
          g: 133,
          b: 137
        },
        {
          pantoneId: 1256,
          name: "17-4928 TCX",
          majorColorName: "Blue",
          colorName: "Lake Blue",
          r: 0,
          g: 140,
          b: 150
        },
        {
          pantoneId: 1257,
          name: "17-5024 TCX",
          majorColorName: "Blue-Green",
          colorName: "Teal Blue",
          r: 0,
          g: 127,
          b: 124
        },
        {
          pantoneId: 1258,
          name: "17-5025 TCX",
          majorColorName: "Blue-Green",
          colorName: "Navigate",
          r: 0,
          g: 133,
          b: 131
        },
        {
          pantoneId: 1259,
          name: "17-5029 TCX",
          majorColorName: "Blue-Green",
          colorName: "Deep Peacock Blue",
          r: 0,
          g: 131,
          b: 129
        },
        {
          pantoneId: 1260,
          name: "17-5034 TCX",
          majorColorName: "Blue-Green",
          colorName: "Lapis",
          r: 0,
          g: 134,
          b: 132
        },
        {
          pantoneId: 1261,
          name: "17-5102 TCX",
          majorColorName: "Gray",
          colorName: "Griffin",
          r: 141,
          g: 143,
          b: 143
        },
        {
          pantoneId: 1262,
          name: "17-5107 TCX",
          majorColorName: "Gray",
          colorName: "Chinois Green",
          r: 124,
          g: 140,
          b: 135
        },
        {
          pantoneId: 1263,
          name: "17-5110 TCX",
          majorColorName: "Blue-Green",
          colorName: "Trellis",
          r: 106,
          g: 137,
          b: 136
        },
        {
          pantoneId: 1264,
          name: "17-5111 TCX",
          majorColorName: "Blue-Green",
          colorName: "Oil Blue",
          r: 101,
          g: 140,
          b: 136
        },
        {
          pantoneId: 1265,
          name: "17-5117 TCX",
          majorColorName: "Blue",
          colorName: "Green-Blue Slate",
          r: 53,
          g: 128,
          b: 130
        },
        {
          pantoneId: 1266,
          name: "17-5122 TCX",
          majorColorName: "Blue-Green",
          colorName: "Latigo Bay",
          r: 55,
          g: 145,
          b: 144
        },
        {
          pantoneId: 1267,
          name: "17-5126 TCX",
          majorColorName: "Blue",
          colorName: "Viridian Green",
          r: 0,
          g: 148,
          b: 153
        },
        {
          pantoneId: 1268,
          name: "17-5130 TCX",
          majorColorName: "Blue-Green",
          colorName: "Columbia",
          r: 0,
          g: 146,
          b: 136
        },
        {
          pantoneId: 1269,
          name: "17-5330 TCX",
          majorColorName: "Blue-Green",
          colorName: "Dynasty Green",
          r: 0,
          g: 142,
          b: 128
        },
        {
          pantoneId: 1270,
          name: "17-5335 TCX",
          majorColorName: "Blue-Green",
          colorName: "Spectra Green",
          r: 0,
          g: 155,
          b: 140
        },
        {
          pantoneId: 1271,
          name: "17-5421 TCX",
          majorColorName: "Blue-Green",
          colorName: "Porcelain Green",
          r: 16,
          g: 135,
          b: 128
        },
        {
          pantoneId: 1272,
          name: "17-5430 TCX",
          majorColorName: "Blue-Green",
          colorName: "Alhambra",
          r: 0,
          g: 135,
          b: 120
        },
        {
          pantoneId: 1273,
          name: "17-5513 TCX",
          majorColorName: "Blue-Green",
          colorName: "Deep Sea",
          r: 79,
          g: 124,
          b: 116
        },
        {
          pantoneId: 1274,
          name: "17-5528 TCX",
          majorColorName: "Blue-Green",
          colorName: "Greenlake",
          r: 0,
          g: 125,
          b: 105
        },
        {
          pantoneId: 1275,
          name: "17-5633 TCX",
          majorColorName: "Blue-Green",
          colorName: "Deep Green",
          r: 0,
          g: 146,
          b: 118
        },
        {
          pantoneId: 1276,
          name: "17-5638 TCX",
          majorColorName: "Blue-Green",
          colorName: "Vivid Green",
          r: 0,
          g: 158,
          b: 130
        },
        {
          pantoneId: 1277,
          name: "17-5641 TCX",
          majorColorName: "Blue-Green",
          colorName: "Emerald",
          r: 0,
          g: 148,
          b: 115
        },
        {
          pantoneId: 1278,
          name: "17-5722 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bottle Green",
          r: 66,
          g: 125,
          b: 109
        },
        {
          pantoneId: 1279,
          name: "17-5734 TCX",
          majorColorName: "Blue-Green",
          colorName: "Viridis",
          r: 0,
          g: 132,
          b: 107
        },
        {
          pantoneId: 1280,
          name: "17-5735 TCX",
          majorColorName: "Blue-Green",
          colorName: "Parakeet",
          r: 0,
          g: 140,
          b: 105
        },
        {
          pantoneId: 1281,
          name: "17-5912 TCX",
          majorColorName: "Green",
          colorName: "Dark Ivy",
          r: 91,
          g: 119,
          b: 99
        },
        {
          pantoneId: 1282,
          name: "17-5923 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pine Green",
          r: 58,
          g: 121,
          b: 94
        },
        {
          pantoneId: 1283,
          name: "17-5936 TCX",
          majorColorName: "Blue-Green",
          colorName: "Simply Green",
          r: 0,
          g: 155,
          b: 117
        },
        {
          pantoneId: 1284,
          name: "17-5937 TCX",
          majorColorName: "Blue-Green",
          colorName: "Deep Mint",
          r: 0,
          g: 158,
          b: 109
        },
        {
          pantoneId: 1285,
          name: "17-6009 TCX",
          majorColorName: "Gray",
          colorName: "Laurel Wreath",
          r: 97,
          g: 111,
          b: 101
        },
        {
          pantoneId: 1286,
          name: "17-6030 TCX",
          majorColorName: "Blue-Green",
          colorName: "Jelly Bean",
          r: 0,
          g: 134,
          b: 88
        },
        {
          pantoneId: 1287,
          name: "17-6153 TCX",
          majorColorName: "Green",
          colorName: "Fern Green",
          r: 0,
          g: 140,
          b: 69
        },
        {
          pantoneId: 1288,
          name: "17-6206 TCX",
          majorColorName: "Gray",
          colorName: "Shadow",
          r: 136,
          g: 141,
          b: 130
        },
        {
          pantoneId: 1289,
          name: "17-6212 TCX",
          majorColorName: "Gray",
          colorName: "Sea Spray",
          r: 113,
          g: 126,
          b: 111
        },
        {
          pantoneId: 1290,
          name: "17-6219 TCX",
          majorColorName: "Green",
          colorName: "Deep Grass Green",
          r: 85,
          g: 131,
          b: 103
        },
        {
          pantoneId: 1291,
          name: "17-6229 TCX",
          majorColorName: "Green",
          colorName: "Medium Green",
          r: 60,
          g: 130,
          b: 78
        },
        {
          pantoneId: 1292,
          name: "17-6319 TCX",
          majorColorName: "Green",
          colorName: "Kashmir",
          r: 111,
          g: 141,
          b: 106
        },
        {
          pantoneId: 1293,
          name: "17-6323 TCX",
          majorColorName: "Green",
          colorName: "Hedge Green",
          r: 118,
          g: 138,
          b: 117
        },
        {
          pantoneId: 1294,
          name: "17-6333 TCX",
          majorColorName: "Green",
          colorName: "Mint Green",
          r: 72,
          g: 125,
          b: 73
        },
        {
          pantoneId: 1295,
          name: "18-0000 TCX",
          majorColorName: "Gray",
          colorName: "Smoked Pearl",
          r: 101,
          g: 100,
          b: 102
        },
        {
          pantoneId: 1296,
          name: "18-0108 TCX",
          majorColorName: "Green",
          colorName: "Dill",
          r: 100,
          g: 119,
          b: 85
        },
        {
          pantoneId: 1297,
          name: "18-0110 TCX",
          majorColorName: "Green",
          colorName: "English Ivy",
          r: 97,
          g: 132,
          b: 91
        },
        {
          pantoneId: 1298,
          name: "18-0117 TCX",
          majorColorName: "Green",
          colorName: "Vineyard Green",
          r: 95,
          g: 115,
          b: 85
        },
        {
          pantoneId: 1299,
          name: "18-0119 TCX",
          majorColorName: "Green",
          colorName: "Willow Bough",
          r: 89,
          g: 117,
          b: 77
        },
        {
          pantoneId: 1300,
          name: "18-0121 TCX",
          majorColorName: "Green",
          colorName: "Elm Green",
          r: 84,
          g: 112,
          b: 83
        },
        {
          pantoneId: 1301,
          name: "18-0125 TCX",
          majorColorName: "Green",
          colorName: "Artichoke Green",
          r: 75,
          g: 109,
          b: 65
        },
        {
          pantoneId: 1302,
          name: "18-0130 TCX",
          majorColorName: "Green",
          colorName: "Cactus",
          r: 83,
          g: 113,
          b: 61
        },
        {
          pantoneId: 1303,
          name: "18-0135 TCX",
          majorColorName: "Green",
          colorName: "Treetop",
          r: 71,
          g: 106,
          b: 48
        },
        {
          pantoneId: 1304,
          name: "18-0201 TCX",
          majorColorName: "Gray",
          colorName: "Castlerock",
          r: 95,
          g: 94,
          b: 98
        },
        {
          pantoneId: 1305,
          name: "18-0228 TCX",
          majorColorName: "Green",
          colorName: "Pesto",
          r: 89,
          g: 95,
          b: 52
        },
        {
          pantoneId: 1306,
          name: "18-0306 TCX",
          majorColorName: "Gray",
          colorName: "Gunmetal",
          r: 92,
          g: 93,
          b: 91
        },
        {
          pantoneId: 1307,
          name: "18-0312 TCX",
          majorColorName: "Yellow",
          colorName: "Deep Lichen Green",
          r: 110,
          g: 110,
          b: 92
        },
        {
          pantoneId: 1308,
          name: "18-0316 TCX",
          majorColorName: "Green",
          colorName: "Olivine",
          r: 102,
          g: 107,
          b: 84
        },
        {
          pantoneId: 1309,
          name: "18-0317 TCX",
          majorColorName: "Green",
          colorName: "Bronze Green",
          r: 82,
          g: 95,
          b: 72
        },
        {
          pantoneId: 1310,
          name: "18-0322 TCX",
          majorColorName: "Green",
          colorName: "Cypress",
          r: 84,
          g: 90,
          b: 62
        },
        {
          pantoneId: 1311,
          name: "18-0324 TCX",
          majorColorName: "Green",
          colorName: "Calliste Green",
          r: 117,
          g: 122,
          b: 78
        },
        {
          pantoneId: 1312,
          name: "18-0328 TCX",
          majorColorName: "Green",
          colorName: "Cedar Green",
          r: 94,
          g: 103,
          b: 55
        },
        {
          pantoneId: 1313,
          name: "18-0332 TCX",
          majorColorName: "Green",
          colorName: "Grasshopper",
          r: 119,
          g: 130,
          b: 74
        },
        {
          pantoneId: 1314,
          name: "18-0403 TCX",
          majorColorName: "Gray",
          colorName: "Dark Gull Gray",
          r: 98,
          g: 93,
          b: 93
        },
        {
          pantoneId: 1315,
          name: "18-0420 TCX",
          majorColorName: "Green",
          colorName: "Four Leaf Clover",
          r: 97,
          g: 102,
          b: 82
        },
        {
          pantoneId: 1316,
          name: "18-0422 TCX",
          majorColorName: "Green",
          colorName: "Loden Green",
          r: 110,
          g: 113,
          b: 83
        },
        {
          pantoneId: 1317,
          name: "18-0426 TCX",
          majorColorName: "Yellow",
          colorName: "Capulet Olive",
          r: 101,
          g: 99,
          b: 68
        },
        {
          pantoneId: 1318,
          name: "18-0430 TCX",
          majorColorName: "Yellow",
          colorName: "Avocado",
          r: 103,
          g: 98,
          b: 50
        },
        {
          pantoneId: 1319,
          name: "18-0435 TCX",
          majorColorName: "Green",
          colorName: "Calla Green",
          r: 106,
          g: 111,
          b: 52
        },
        {
          pantoneId: 1320,
          name: "18-0503 TCX",
          majorColorName: "Gray",
          colorName: "Gargoyle",
          r: 104,
          g: 103,
          b: 103
        },
        {
          pantoneId: 1321,
          name: "18-0510 TCX",
          majorColorName: "Gray",
          colorName: "Castor Gray",
          r: 100,
          g: 103,
          b: 98
        },
        {
          pantoneId: 1322,
          name: "18-0513 TCX",
          majorColorName: "Brown",
          colorName: "Bungee Cord",
          r: 105,
          g: 97,
          b: 86
        },
        {
          pantoneId: 1323,
          name: "18-0515 TCX",
          majorColorName: "Gray",
          colorName: "Dusty Olive",
          r: 100,
          g: 99,
          b: 86
        },
        {
          pantoneId: 1324,
          name: "18-0521 TCX",
          majorColorName: "Yellow",
          colorName: "Burnt Olive",
          r: 100,
          g: 96,
          b: 73
        },
        {
          pantoneId: 1325,
          name: "18-0525 TCX",
          majorColorName: "Yellow",
          colorName: "Iguana",
          r: 129,
          g: 132,
          b: 85
        },
        {
          pantoneId: 1326,
          name: "18-0527 TCX",
          majorColorName: "Yellow",
          colorName: "Olive Branch",
          r: 106,
          g: 106,
          b: 69
        },
        {
          pantoneId: 1327,
          name: "18-0538 TCX",
          majorColorName: "Yellow",
          colorName: "Woodbine",
          r: 123,
          g: 127,
          b: 50
        },
        {
          pantoneId: 1328,
          name: "18-0601 TCX",
          majorColorName: "Gray",
          colorName: "Charcoal Gray",
          r: 108,
          g: 104,
          b: 104
        },
        {
          pantoneId: 1329,
          name: "18-0615 TCX",
          majorColorName: "Brown",
          colorName: "Stone Gray",
          r: 104,
          g: 94,
          b: 79
        },
        {
          pantoneId: 1330,
          name: "18-0617 TCX",
          majorColorName: "Brown",
          colorName: "Covert Green",
          r: 128,
          g: 118,
          b: 95
        },
        {
          pantoneId: 1331,
          name: "18-0622 TCX",
          majorColorName: "Yellow",
          colorName: "Olive Drab",
          r: 117,
          g: 109,
          b: 71
        },
        {
          pantoneId: 1332,
          name: "18-0627 TCX",
          majorColorName: "Yellow",
          colorName: "Fir Green",
          r: 103,
          g: 89,
          b: 42
        },
        {
          pantoneId: 1333,
          name: "18-0629 TCX",
          majorColorName: "Brown",
          colorName: "Lizard",
          r: 113,
          g: 100,
          b: 62
        },
        {
          pantoneId: 1334,
          name: "18-0724 TCX",
          majorColorName: "Brown",
          colorName: "Gothic Olive",
          r: 124,
          g: 110,
          b: 79
        },
        {
          pantoneId: 1335,
          name: "18-0820 TCX",
          majorColorName: "Brown",
          colorName: "Capers",
          r: 105,
          g: 94,
          b: 75
        },
        {
          pantoneId: 1336,
          name: "18-0825 TCX",
          majorColorName: "Brown",
          colorName: "Nutria",
          r: 117,
          g: 102,
          b: 62
        },
        {
          pantoneId: 1337,
          name: "18-0830 TCX",
          majorColorName: "Brown",
          colorName: "Butternut",
          r: 122,
          g: 100,
          b: 63
        },
        {
          pantoneId: 1338,
          name: "18-0832 TCX",
          majorColorName: "Brown",
          colorName: "Plantation",
          r: 122,
          g: 99,
          b: 50
        },
        {
          pantoneId: 1339,
          name: "18-0835 TCX",
          majorColorName: "Brown",
          colorName: "Dried Tobacco",
          r: 153,
          g: 123,
          b: 56
        },
        {
          pantoneId: 1340,
          name: "18-0840 TCX",
          majorColorName: "Brown",
          colorName: "Tapenade",
          r: 128,
          g: 93,
          b: 36
        },
        {
          pantoneId: 1341,
          name: "18-0920 TCX",
          majorColorName: "Brown",
          colorName: "Kangaroo",
          r: 114,
          g: 94,
          b: 67
        },
        {
          pantoneId: 1342,
          name: "18-0928 TCX",
          majorColorName: "Brown",
          colorName: "Sepia",
          r: 107,
          g: 84,
          b: 62
        },
        {
          pantoneId: 1343,
          name: "18-0930 TCX",
          majorColorName: "Brown",
          colorName: "Coffee Liqueur",
          r: 106,
          g: 81,
          b: 59
        },
        {
          pantoneId: 1344,
          name: "18-0933 TCX",
          majorColorName: "Brown",
          colorName: "Rubber",
          r: 129,
          g: 91,
          b: 55
        },
        {
          pantoneId: 1345,
          name: "18-0935 TCX",
          majorColorName: "Brown",
          colorName: "Buckthorn Brown",
          r: 167,
          g: 111,
          b: 31
        },
        {
          pantoneId: 1346,
          name: "18-0937 TCX",
          majorColorName: "Brown",
          colorName: "Bronze Brown",
          r: 130,
          g: 94,
          b: 47
        },
        {
          pantoneId: 1347,
          name: "18-0939 TCX",
          majorColorName: "Brown",
          colorName: "Cumin",
          r: 146,
          g: 114,
          b: 64
        },
        {
          pantoneId: 1348,
          name: "18-0940 TCX",
          majorColorName: "Brown",
          colorName: "Golden Brown",
          r: 145,
          g: 103,
          b: 47
        },
        {
          pantoneId: 1349,
          name: "18-0950 TCX",
          majorColorName: "Brown",
          colorName: "Cathay Spice",
          r: 153,
          g: 100,
          b: 44
        },
        {
          pantoneId: 1350,
          name: "18-1015 TCX",
          majorColorName: "Brown",
          colorName: "Shitake",
          r: 115,
          g: 98,
          b: 83
        },
        {
          pantoneId: 1351,
          name: "18-1016 TCX",
          majorColorName: "Brown",
          colorName: "Cub",
          r: 110,
          g: 92,
          b: 75
        },
        {
          pantoneId: 1352,
          name: "18-1018 TCX",
          majorColorName: "Brown",
          colorName: "Otter",
          r: 127,
          g: 103,
          b: 79
        },
        {
          pantoneId: 1353,
          name: "18-1022 TCX",
          majorColorName: "Brown",
          colorName: "Ermine",
          r: 131,
          g: 107,
          b: 79
        },
        {
          pantoneId: 1354,
          name: "18-1027 TCX",
          majorColorName: "Brown",
          colorName: "Bison",
          r: 110,
          g: 79,
          b: 58
        },
        {
          pantoneId: 1355,
          name: "18-1030 TCX",
          majorColorName: "Brown",
          colorName: "Thrush",
          r: 147,
          g: 107,
          b: 79
        },
        {
          pantoneId: 1356,
          name: "18-1031 TCX",
          majorColorName: "Brown",
          colorName: "Toffee",
          r: 117,
          g: 81,
          b: 57
        },
        {
          pantoneId: 1357,
          name: "18-1033 TCX",
          majorColorName: "Brown",
          colorName: "Dachshund",
          r: 112,
          g: 79,
          b: 55
        },
        {
          pantoneId: 1358,
          name: "18-1048 TCX",
          majorColorName: "Brown",
          colorName: "Monk's Robe",
          r: 112,
          g: 72,
          b: 34
        },
        {
          pantoneId: 1359,
          name: "18-1110 TCX",
          majorColorName: "Brown",
          colorName: "Brindle",
          r: 130,
          g: 119,
          b: 107
        },
        {
          pantoneId: 1360,
          name: "18-1112 TCX",
          majorColorName: "Brown",
          colorName: "Walnut",
          r: 119,
          g: 106,
          b: 95
        },
        {
          pantoneId: 1361,
          name: "18-1124 TCX",
          majorColorName: "Brown",
          colorName: "Partridge",
          r: 114,
          g: 84,
          b: 64
        },
        {
          pantoneId: 1362,
          name: "18-1130 TCX",
          majorColorName: "Brown",
          colorName: "Aztec",
          r: 122,
          g: 87,
          b: 71
        },
        {
          pantoneId: 1363,
          name: "18-1137 TCX",
          majorColorName: "Brown",
          colorName: "Rawhide",
          r: 134,
          g: 94,
          b: 73
        },
        {
          pantoneId: 1364,
          name: "18-1140 TCX",
          majorColorName: "Brown",
          colorName: "Mocha Bisque",
          r: 140,
          g: 84,
          b: 58
        },
        {
          pantoneId: 1365,
          name: "18-1142 TCX",
          majorColorName: "Brown",
          colorName: "Leather Brown",
          r: 151,
          g: 87,
          b: 43
        },
        {
          pantoneId: 1366,
          name: "18-1154 TCX",
          majorColorName: "Brown",
          colorName: "Glazed Ginger",
          r: 145,
          g: 85,
          b: 43
        },
        {
          pantoneId: 1367,
          name: "18-1160 TCX",
          majorColorName: "Brown",
          colorName: "Sudan Brown",
          r: 172,
          g: 107,
          b: 41
        },
        {
          pantoneId: 1368,
          name: "18-1222 TCX",
          majorColorName: "Brown",
          colorName: "Cocoa Brown",
          r: 108,
          g: 80,
          b: 67
        },
        {
          pantoneId: 1369,
          name: "18-1229 TCX",
          majorColorName: "Brown",
          colorName: "Carob Brown",
          r: 133,
          g: 92,
          b: 76
        },
        {
          pantoneId: 1370,
          name: "18-1230 TCX",
          majorColorName: "Brown",
          colorName: "Coconut Shell",
          r: 135,
          g: 78,
          b: 60
        },
        {
          pantoneId: 1371,
          name: "18-1235 TCX",
          majorColorName: "Brown",
          colorName: "Russet",
          r: 143,
          g: 95,
          b: 80
        },
        {
          pantoneId: 1372,
          name: "18-1238 TCX",
          majorColorName: "Brown",
          colorName: "Rustic Brown",
          r: 133,
          g: 81,
          b: 65
        },
        {
          pantoneId: 1373,
          name: "18-1239 TCX",
          majorColorName: "Brown",
          colorName: "Sierra",
          r: 152,
          g: 92,
          b: 65
        },
        {
          pantoneId: 1374,
          name: "18-1242 TCX",
          majorColorName: "Brown",
          colorName: "Brown Patina",
          r: 131,
          g: 79,
          b: 61
        },
        {
          pantoneId: 1375,
          name: "18-1244 TCX",
          majorColorName: "Brown",
          colorName: "Ginger Bread",
          r: 140,
          g: 74,
          b: 47
        },
        {
          pantoneId: 1376,
          name: "18-1248 TCX",
          majorColorName: "Brown",
          colorName: "Rust",
          r: 181,
          g: 90,
          b: 48
        },
        {
          pantoneId: 1377,
          name: "18-1250 TCX",
          majorColorName: "Brown",
          colorName: "Bombay Brown",
          r: 159,
          g: 81,
          b: 48
        },
        {
          pantoneId: 1378,
          name: "18-1306 TCX",
          majorColorName: "Brown",
          colorName: "Iron",
          r: 115,
          g: 100,
          b: 96
        },
        {
          pantoneId: 1379,
          name: "18-1312 TCX",
          majorColorName: "Brown",
          colorName: "Deep Taupe",
          r: 123,
          g: 102,
          b: 96
        },
        {
          pantoneId: 1380,
          name: "18-1314 TCX",
          majorColorName: "Brown",
          colorName: "Acorn",
          r: 126,
          g: 94,
          b: 82
        },
        {
          pantoneId: 1381,
          name: "18-1320 TCX",
          majorColorName: "Brown",
          colorName: "Clove",
          r: 135,
          g: 97,
          b: 85
        },
        {
          pantoneId: 1382,
          name: "18-1321 TCX",
          majorColorName: "Brown",
          colorName: "Brownie",
          r: 143,
          g: 114,
          b: 101
        },
        {
          pantoneId: 1383,
          name: "18-1326 TCX",
          majorColorName: "Brown",
          colorName: "Nutmeg",
          r: 126,
          g: 92,
          b: 84
        },
        {
          pantoneId: 1384,
          name: "18-1336 TCX",
          majorColorName: "Brown",
          colorName: "Copper Brown",
          r: 154,
          g: 96,
          b: 81
        },
        {
          pantoneId: 1385,
          name: "18-1343 TCX",
          majorColorName: "Brown",
          colorName: "Auburn",
          r: 161,
          g: 88,
          b: 67
        },
        {
          pantoneId: 1386,
          name: "18-1346 TCX",
          majorColorName: "Pink",
          colorName: "Bruschetta",
          r: 167,
          g: 89,
          b: 73
        },
        {
          pantoneId: 1387,
          name: "18-1350 TCX",
          majorColorName: "Brown",
          colorName: "Burnt Brick",
          r: 161,
          g: 77,
          b: 58
        },
        {
          pantoneId: 1388,
          name: "18-1354 TCX",
          majorColorName: "Brown",
          colorName: "Burnt Ochre",
          r: 187,
          g: 79,
          b: 53
        },
        {
          pantoneId: 1389,
          name: "18-1404 TCX",
          majorColorName: "Pink",
          colorName: "Sparrow",
          r: 105,
          g: 89,
          b: 92
        },
        {
          pantoneId: 1390,
          name: "18-1405 TCX",
          majorColorName: "Pink",
          colorName: "Flint",
          r: 112,
          g: 88,
          b: 97
        },
        {
          pantoneId: 1391,
          name: "18-1409 TCX",
          majorColorName: "Pink",
          colorName: "Peppercorn",
          r: 108,
          g: 86,
          b: 86
        },
        {
          pantoneId: 1392,
          name: "18-1411 TCX",
          majorColorName: "Pink",
          colorName: "Plum Wine",
          r: 103,
          g: 69,
          b: 80
        },
        {
          pantoneId: 1393,
          name: "18-1415 TCX",
          majorColorName: "Pink",
          colorName: "Marron",
          r: 110,
          g: 76,
          b: 75
        },
        {
          pantoneId: 1394,
          name: "18-1418 TCX",
          majorColorName: "Pink",
          colorName: "Crushed Berry",
          r: 128,
          g: 79,
          b: 90
        },
        {
          pantoneId: 1395,
          name: "18-1420 TCX",
          majorColorName: "Pink",
          colorName: "Wild Ginger",
          r: 124,
          g: 76,
          b: 83
        },
        {
          pantoneId: 1396,
          name: "18-1421 TCX",
          majorColorName: "Brown",
          colorName: "Cognac",
          r: 139,
          g: 100,
          b: 90
        },
        {
          pantoneId: 1397,
          name: "18-1425 TCX",
          majorColorName: "Pink",
          colorName: "Mahogany",
          r: 130,
          g: 77,
          b: 70
        },
        {
          pantoneId: 1398,
          name: "18-1426 TCX",
          majorColorName: "Pink",
          colorName: "Apple Butter",
          r: 132,
          g: 75,
          b: 77
        },
        {
          pantoneId: 1399,
          name: "18-1433 TCX",
          majorColorName: "Pink",
          colorName: "Chutney",
          r: 152,
          g: 89,
          b: 75
        },
        {
          pantoneId: 1400,
          name: "18-1434 TCX",
          majorColorName: "Pink",
          colorName: "Etruscan Red",
          r: 162,
          g: 87,
          b: 75
        },
        {
          pantoneId: 1401,
          name: "18-1435 TCX",
          majorColorName: "Pink",
          colorName: "Withered Rose",
          r: 162,
          g: 102,
          b: 102
        },
        {
          pantoneId: 1402,
          name: "18-1436 TCX",
          majorColorName: "Pink",
          colorName: "Light Mahogany",
          r: 173,
          g: 109,
          b: 104
        },
        {
          pantoneId: 1403,
          name: "18-1438 TCX",
          majorColorName: "Pink",
          colorName: "Marsala",
          r: 150,
          g: 79,
          b: 76
        },
        {
          pantoneId: 1404,
          name: "18-1441 TCX",
          majorColorName: "Brown",
          colorName: "Baked Clay",
          r: 156,
          g: 86,
          b: 66
        },
        {
          pantoneId: 1405,
          name: "18-1442 TCX",
          majorColorName: "Pink",
          colorName: "Red Ochre",
          r: 145,
          g: 56,
          b: 50
        },
        {
          pantoneId: 1406,
          name: "18-1443 TCX",
          majorColorName: "Pink",
          colorName: "Redwood",
          r: 166,
          g: 89,
          b: 76
        },
        {
          pantoneId: 1407,
          name: "18-1444 TCX",
          majorColorName: "Pink",
          colorName: "Tandoori Spice",
          r: 159,
          g: 68,
          b: 64
        },
        {
          pantoneId: 1408,
          name: "18-1445 TCX",
          majorColorName: "Red",
          colorName: "Spicy Orange",
          r: 215,
          g: 60,
          b: 38
        },
        {
          pantoneId: 1409,
          name: "18-1447 TCX",
          majorColorName: "Orange",
          colorName: "Orange Rust",
          r: 194,
          g: 90,
          b: 60
        },
        {
          pantoneId: 1410,
          name: "18-1448 TCX",
          majorColorName: "Pink",
          colorName: "Chili",
          r: 190,
          g: 81,
          b: 65
        },
        {
          pantoneId: 1411,
          name: "18-1449 TCX",
          majorColorName: "Red",
          colorName: "Ketchup",
          r: 154,
          g: 56,
          b: 45
        },
        {
          pantoneId: 1412,
          name: "18-1450 TCX",
          majorColorName: "Pink",
          colorName: "Mecca Orange",
          r: 189,
          g: 87,
          b: 69
        },
        {
          pantoneId: 1413,
          name: "18-1451 TCX",
          majorColorName: "Brown",
          colorName: "Autumn Glaze",
          r: 179,
          g: 87,
          b: 63
        },
        {
          pantoneId: 1414,
          name: "18-1454 TCX",
          majorColorName: "Red",
          colorName: "Red Clay",
          r: 194,
          g: 69,
          b: 45
        },
        {
          pantoneId: 1415,
          name: "18-1512 TCX",
          majorColorName: "Pink",
          colorName: "Rose Brown",
          r: 128,
          g: 86,
          b: 91
        },
        {
          pantoneId: 1416,
          name: "18-1531 TCX",
          majorColorName: "Pink",
          colorName: "Barn Red",
          r: 143,
          g: 66,
          b: 59
        },
        {
          pantoneId: 1417,
          name: "18-1535 TCX",
          majorColorName: "Pink",
          colorName: "Ginger Spice",
          r: 182,
          g: 93,
          b: 75
        },
        {
          pantoneId: 1418,
          name: "18-1536 TCX",
          majorColorName: "Pink",
          colorName: "Hot Sauce",
          r: 171,
          g: 79,
          b: 65
        },
        {
          pantoneId: 1419,
          name: "18-1537 TCX",
          majorColorName: "Brown",
          colorName: "Copper Coin",
          r: 186,
          g: 107,
          b: 87
        },
        {
          pantoneId: 1420,
          name: "18-1540 TCX",
          majorColorName: "Pink",
          colorName: "Cinnabar",
          r: 156,
          g: 69,
          b: 59
        },
        {
          pantoneId: 1421,
          name: "18-1547 TCX",
          majorColorName: "Pink",
          colorName: "Bossa Nova",
          r: 151,
          g: 58,
          b: 54
        },
        {
          pantoneId: 1422,
          name: "18-1550 TCX",
          majorColorName: "Red",
          colorName: "Aurora Red",
          r: 185,
          g: 58,
          b: 50
        },
        {
          pantoneId: 1423,
          name: "18-1555 TCX",
          majorColorName: "Red",
          colorName: "Molten Lava",
          r: 181,
          g: 51,
          b: 46
        },
        {
          pantoneId: 1424,
          name: "18-1561 TCX",
          majorColorName: "Red",
          colorName: "Orange.com",
          r: 218,
          g: 50,
          b: 28
        },
        {
          pantoneId: 1425,
          name: "18-1612 TCX",
          majorColorName: "Pink",
          colorName: "Rose Taupe",
          r: 128,
          g: 96,
          b: 98
        },
        {
          pantoneId: 1426,
          name: "18-1613 TCX",
          majorColorName: "Pink",
          colorName: "Renaissance Rose",
          r: 134,
          g: 85,
          b: 96
        },
        {
          pantoneId: 1427,
          name: "18-1614 TCX",
          majorColorName: "Pink",
          colorName: "Nocturne",
          r: 122,
          g: 75,
          b: 86
        },
        {
          pantoneId: 1428,
          name: "18-1616 TCX",
          majorColorName: "Pink",
          colorName: "Roan Rouge",
          r: 136,
          g: 81,
          b: 87
        },
        {
          pantoneId: 1429,
          name: "18-1619 TCX",
          majorColorName: "Pink",
          colorName: "Maroon",
          r: 131,
          g: 70,
          b: 85
        },
        {
          pantoneId: 1430,
          name: "18-1629 TCX",
          majorColorName: "Pink",
          colorName: "Faded Rose",
          r: 191,
          g: 100,
          b: 100
        },
        {
          pantoneId: 1431,
          name: "18-1630 TCX",
          majorColorName: "Pink",
          colorName: "Dusty Cedar",
          r: 173,
          g: 93,
          b: 93
        },
        {
          pantoneId: 1432,
          name: "18-1631 TCX",
          majorColorName: "Pink",
          colorName: "Earth Red",
          r: 149,
          g: 66,
          b: 78
        },
        {
          pantoneId: 1433,
          name: "18-1633 TCX",
          majorColorName: "Pink",
          colorName: "Garnet Rose",
          r: 172,
          g: 75,
          b: 85
        },
        {
          pantoneId: 1434,
          name: "18-1634 TCX",
          majorColorName: "Pink",
          colorName: "Baroque Rose",
          r: 179,
          g: 90,
          b: 102
        },
        {
          pantoneId: 1435,
          name: "18-1635 TCX",
          majorColorName: "Pink",
          colorName: "Slate Rose",
          r: 180,
          g: 88,
          b: 101
        },
        {
          pantoneId: 1436,
          name: "18-1643 TCX",
          majorColorName: "Pink",
          colorName: "Cardinal",
          r: 173,
          g: 62,
          b: 72
        },
        {
          pantoneId: 1437,
          name: "18-1648 TCX",
          majorColorName: "Pink",
          colorName: "Baked Apple",
          r: 179,
          g: 70,
          b: 70
        },
        {
          pantoneId: 1438,
          name: "18-1649 TCX",
          majorColorName: "Pink",
          colorName: "Deep Sea Coral",
          r: 217,
          g: 97,
          b: 91
        },
        {
          pantoneId: 1439,
          name: "18-1651 TCX",
          majorColorName: "Pink",
          colorName: "Cayenne",
          r: 224,
          g: 73,
          b: 81
        },
        {
          pantoneId: 1440,
          name: "18-1652 TCX",
          majorColorName: "Red",
          colorName: "Rococco Red",
          r: 187,
          g: 54,
          b: 63
        },
        {
          pantoneId: 1441,
          name: "18-1655 TCX",
          majorColorName: "Red",
          colorName: "Mars Red",
          r: 188,
          g: 39,
          b: 49
        },
        {
          pantoneId: 1442,
          name: "18-1658 TCX",
          majorColorName: "Red",
          colorName: "Pompeian Red",
          r: 164,
          g: 41,
          b: 46
        },
        {
          pantoneId: 1443,
          name: "18-1660 TCX",
          majorColorName: "Red",
          colorName: "Tomato",
          r: 206,
          g: 41,
          b: 57
        },
        {
          pantoneId: 1444,
          name: "18-1661 TCX",
          majorColorName: "Red",
          colorName: "Tomato Puree",
          r: 197,
          g: 51,
          b: 70
        },
        {
          pantoneId: 1445,
          name: "18-1662 TCX",
          majorColorName: "Red",
          colorName: "Flame Scarlet",
          r: 205,
          g: 33,
          b: 42
        },
        {
          pantoneId: 1446,
          name: "18-1663 TCX",
          majorColorName: "Pink",
          colorName: "Chinese Red",
          r: 190,
          g: 19,
          b: 45
        },
        {
          pantoneId: 1447,
          name: "18-1664 TCX",
          majorColorName: "Red",
          colorName: "Fiery Red",
          r: 208,
          g: 28,
          b: 31
        },
        {
          pantoneId: 1448,
          name: "18-1703 TCX",
          majorColorName: "Gray",
          colorName: "Shark",
          r: 109,
          g: 99,
          b: 107
        },
        {
          pantoneId: 1449,
          name: "18-1706 TCX",
          majorColorName: "Pink",
          colorName: "Black Plum",
          r: 108,
          g: 87,
          b: 101
        },
        {
          pantoneId: 1450,
          name: "18-1709 TCX",
          majorColorName: "Pink",
          colorName: "Tulipwood",
          r: 128,
          g: 84,
          b: 102
        },
        {
          pantoneId: 1451,
          name: "18-1710 TCX",
          majorColorName: "Pink",
          colorName: "Grape Nectar",
          r: 141,
          g: 92,
          b: 116
        },
        {
          pantoneId: 1452,
          name: "18-1716 TCX",
          majorColorName: "Pink",
          colorName: "Damson",
          r: 133,
          g: 76,
          b: 101
        },
        {
          pantoneId: 1453,
          name: "18-1718 TCX",
          majorColorName: "Pink",
          colorName: "Hawthorn Rose",
          r: 136,
          g: 76,
          b: 94
        },
        {
          pantoneId: 1454,
          name: "18-1720 TCX",
          majorColorName: "Pink",
          colorName: "Violet Quartz",
          r: 139,
          g: 73,
          b: 99
        },
        {
          pantoneId: 1455,
          name: "18-1725 TCX",
          majorColorName: "Pink",
          colorName: "Dry Rose",
          r: 140,
          g: 71,
          b: 89
        },
        {
          pantoneId: 1456,
          name: "18-1741 TCX",
          majorColorName: "Pink",
          colorName: "Raspberry Wine",
          r: 182,
          g: 55,
          b: 83
        },
        {
          pantoneId: 1457,
          name: "18-1754 TCX",
          majorColorName: "Pink",
          colorName: "Raspberry",
          r: 211,
          g: 46,
          b: 94
        },
        {
          pantoneId: 1458,
          name: "18-1755 TCX",
          majorColorName: "Pink",
          colorName: "Rouge Red",
          r: 226,
          g: 70,
          b: 102
        },
        {
          pantoneId: 1459,
          name: "18-1756 TCX",
          majorColorName: "Pink",
          colorName: "Teaberry",
          r: 220,
          g: 56,
          b: 85
        },
        {
          pantoneId: 1460,
          name: "18-1760 TCX",
          majorColorName: "Pink",
          colorName: "Barberry",
          r: 191,
          g: 25,
          b: 69
        },
        {
          pantoneId: 1461,
          name: "18-1761 TCX",
          majorColorName: "Pink",
          colorName: "Ski Patrol",
          r: 187,
          g: 18,
          b: 55
        },
        {
          pantoneId: 1462,
          name: "18-1762 TCX",
          majorColorName: "Red",
          colorName: "Hibiscus",
          r: 221,
          g: 56,
          b: 72
        },
        {
          pantoneId: 1463,
          name: "18-1763 TCX",
          majorColorName: "Red",
          colorName: "High Risk Red",
          r: 199,
          g: 31,
          b: 45
        },
        {
          pantoneId: 1464,
          name: "18-1764 TCX",
          majorColorName: "Pink",
          colorName: "Lollipop",
          r: 204,
          g: 28,
          b: 59
        },
        {
          pantoneId: 1465,
          name: "18-1807 TCX",
          majorColorName: "Pink",
          colorName: "Twilight Mauve",
          r: 139,
          g: 111,
          b: 112
        },
        {
          pantoneId: 1466,
          name: "18-1852 TCX",
          majorColorName: "Pink",
          colorName: "Rose Red",
          r: 201,
          g: 35,
          b: 81
        },
        {
          pantoneId: 1467,
          name: "18-1856 TCX",
          majorColorName: "Pink",
          colorName: "Virtual Pink",
          r: 198,
          g: 23,
          b: 78
        },
        {
          pantoneId: 1468,
          name: "18-1945 TCX",
          majorColorName: "Pink",
          colorName: "Bright Rose",
          r: 197,
          g: 25,
          b: 89
        },
        {
          pantoneId: 1469,
          name: "18-2027 TCX",
          majorColorName: "Pink",
          colorName: "Beaujolais",
          r: 128,
          g: 48,
          b: 76
        },
        {
          pantoneId: 1470,
          name: "18-2043 TCX",
          majorColorName: "Pink",
          colorName: "Raspberry Sorbet",
          r: 210,
          g: 56,
          b: 108
        },
        {
          pantoneId: 1471,
          name: "18-2109 TCX",
          majorColorName: "Pink",
          colorName: "Grape Shake",
          r: 136,
          g: 105,
          b: 113
        },
        {
          pantoneId: 1472,
          name: "18-2120 TCX",
          majorColorName: "Pink",
          colorName: "Honeysuckle",
          r: 217,
          g: 79,
          b: 112
        },
        {
          pantoneId: 1473,
          name: "18-2133 TCX",
          majorColorName: "Pink",
          colorName: "Pink Flambe",
          r: 211,
          g: 80,
          b: 122
        },
        {
          pantoneId: 1474,
          name: "18-2143 TCX",
          majorColorName: "Pink",
          colorName: "Beetroot Purple",
          r: 207,
          g: 45,
          b: 113
        },
        {
          pantoneId: 1475,
          name: "18-2320 TCX",
          majorColorName: "Pink",
          colorName: "Clover",
          r: 138,
          g: 51,
          b: 113
        },
        {
          pantoneId: 1476,
          name: "18-2326 TCX",
          majorColorName: "Pink",
          colorName: "Cactus Flower",
          r: 168,
          g: 62,
          b: 108
        },
        {
          pantoneId: 1477,
          name: "18-2328 TCX",
          majorColorName: "Pink",
          colorName: "Fuchsia Red",
          r: 171,
          g: 52,
          b: 117
        },
        {
          pantoneId: 1478,
          name: "18-2333 TCX",
          majorColorName: "Pink",
          colorName: "Raspberry Rose",
          r: 204,
          g: 67,
          b: 133
        },
        {
          pantoneId: 1479,
          name: "18-2336 TCX",
          majorColorName: "Pink",
          colorName: "Very Berry",
          r: 183,
          g: 50,
          b: 117
        },
        {
          pantoneId: 1480,
          name: "18-2436 TCX",
          majorColorName: "Pink",
          colorName: "Fuchsia Purple",
          r: 211,
          g: 52,
          b: 121
        },
        {
          pantoneId: 1481,
          name: "18-2525 TCX",
          majorColorName: "Pink",
          colorName: "Magenta Haze",
          r: 157,
          g: 68,
          b: 110
        },
        {
          pantoneId: 1482,
          name: "18-2527 TCX",
          majorColorName: "Pink",
          colorName: "Baton Rouge",
          r: 151,
          g: 60,
          b: 108
        },
        {
          pantoneId: 1483,
          name: "18-2929 TCX",
          majorColorName: "Pink",
          colorName: "Purple Wine",
          r: 140,
          g: 53,
          b: 115
        },
        {
          pantoneId: 1484,
          name: "18-3011 TCX",
          majorColorName: "Pink",
          colorName: "Argyle Purple",
          r: 137,
          g: 92,
          b: 121
        },
        {
          pantoneId: 1485,
          name: "18-3012 TCX",
          majorColorName: "Pink",
          colorName: "Purple Gumdrop",
          r: 122,
          g: 89,
          b: 111
        },
        {
          pantoneId: 1486,
          name: "18-3013 TCX",
          majorColorName: "Pink",
          colorName: "Berry Conserve",
          r: 118,
          g: 82,
          b: 105
        },
        {
          pantoneId: 1487,
          name: "18-3015 TCX",
          majorColorName: "Pink",
          colorName: "Amethyst",
          r: 134,
          g: 77,
          b: 117
        },
        {
          pantoneId: 1488,
          name: "18-3022 TCX",
          majorColorName: "Pink",
          colorName: "Deep Orchid",
          r: 144,
          g: 63,
          b: 117
        },
        {
          pantoneId: 1489,
          name: "18-3025 TCX",
          majorColorName: "Pink",
          colorName: "Striking Purple",
          r: 148,
          g: 78,
          b: 135
        },
        {
          pantoneId: 1490,
          name: "18-3027 TCX",
          majorColorName: "Pink",
          colorName: "Purple Orchid",
          r: 173,
          g: 77,
          b: 140
        },
        {
          pantoneId: 1491,
          name: "18-3211 TCX",
          majorColorName: "Pink",
          colorName: "Grapeade",
          r: 133,
          g: 103,
          b: 123
        },
        {
          pantoneId: 1492,
          name: "18-3218 TCX",
          majorColorName: "Light-Purple",
          colorName: "Concord Grape",
          r: 124,
          g: 83,
          b: 121
        },
        {
          pantoneId: 1493,
          name: "18-3220 TCX",
          majorColorName: "Pink",
          colorName: "Very Grape",
          r: 146,
          g: 114,
          b: 136
        },
        {
          pantoneId: 1494,
          name: "18-3224 TCX",
          majorColorName: "Pink",
          colorName: "Radiant Orchid",
          r: 173,
          g: 94,
          b: 153
        },
        {
          pantoneId: 1495,
          name: "18-3230 TCX",
          majorColorName: "Pink",
          colorName: "Meadow Mauve",
          r: 169,
          g: 86,
          b: 140
        },
        {
          pantoneId: 1496,
          name: "18-3324 TCX",
          majorColorName: "Purple",
          colorName: "Dahlia",
          r: 132,
          g: 62,
          b: 131
        },
        {
          pantoneId: 1497,
          name: "18-3331 TCX",
          majorColorName: "Purple",
          colorName: "Hyacinth Violet",
          r: 141,
          g: 70,
          b: 135
        },
        {
          pantoneId: 1498,
          name: "18-3339 TCX",
          majorColorName: "Pink",
          colorName: "Vivid Viola",
          r: 153,
          g: 60,
          b: 124
        },
        {
          pantoneId: 1499,
          name: "18-3410 TCX",
          majorColorName: "Light-Purple",
          colorName: "Vintage Violet",
          r: 99,
          g: 79,
          b: 98
        },
        {
          pantoneId: 1500,
          name: "18-3415 TCX",
          majorColorName: "Light-Purple",
          colorName: "Grape Jam",
          r: 114,
          g: 86,
          b: 113
        },
        {
          pantoneId: 1501,
          name: "18-3418 TCX",
          majorColorName: "Light-Purple",
          colorName: "Chinese Violet",
          r: 131,
          g: 94,
          b: 129
        },
        {
          pantoneId: 1502,
          name: "18-3513 TCX",
          majorColorName: "Light-Purple",
          colorName: "Grape Compote",
          r: 107,
          g: 88,
          b: 118
        },
        {
          pantoneId: 1503,
          name: "18-3518 TCX",
          majorColorName: "Light-Purple",
          colorName: "Patrician Purple",
          r: 108,
          g: 78,
          b: 121
        },
        {
          pantoneId: 1504,
          name: "18-3520 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Heart",
          r: 116,
          g: 85,
          b: 135
        },
        {
          pantoneId: 1505,
          name: "18-3522 TCX",
          majorColorName: "Light-Purple",
          colorName: "Crushed Grape",
          r: 122,
          g: 84,
          b: 127
        },
        {
          pantoneId: 1506,
          name: "18-3531 TCX",
          majorColorName: "Light-Purple",
          colorName: "Royal Lilac",
          r: 119,
          g: 77,
          b: 142
        },
        {
          pantoneId: 1507,
          name: "18-3533 TCX",
          majorColorName: "Light-Purple",
          colorName: "Dewberry",
          r: 139,
          g: 88,
          b: 151
        },
        {
          pantoneId: 1508,
          name: "18-3615 TCX",
          majorColorName: "Light-Purple",
          colorName: "Imperial Palace",
          r: 96,
          g: 78,
          b: 122
        },
        {
          pantoneId: 1509,
          name: "18-3633 TCX",
          majorColorName: "Light-Purple",
          colorName: "Deep Lavender",
          r: 119,
          g: 84,
          b: 150
        },
        {
          pantoneId: 1510,
          name: "18-3710 TCX",
          majorColorName: "Gray",
          colorName: "Gray Ridge",
          r: 132,
          g: 121,
          b: 134
        },
        {
          pantoneId: 1511,
          name: "18-3712 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Sage",
          r: 117,
          g: 105,
          b: 126
        },
        {
          pantoneId: 1512,
          name: "18-3714 TCX",
          majorColorName: "Light-Purple",
          colorName: "Mulled Grape",
          r: 103,
          g: 90,
          b: 116
        },
        {
          pantoneId: 1513,
          name: "18-3715 TCX",
          majorColorName: "Light-Purple",
          colorName: "Montana Grape",
          r: 108,
          g: 89,
          b: 113
        },
        {
          pantoneId: 1514,
          name: "18-3718 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Haze",
          r: 128,
          g: 115,
          b: 150
        },
        {
          pantoneId: 1515,
          name: "18-3737 TCX",
          majorColorName: "Light-Purple",
          colorName: "Passion Flower",
          r: 109,
          g: 86,
          b: 152
        },
        {
          pantoneId: 1516,
          name: "18-3812 TCX",
          majorColorName: "Light-Purple",
          colorName: "Cadet",
          r: 106,
          g: 99,
          b: 120
        },
        {
          pantoneId: 1517,
          name: "18-3817 TCX",
          majorColorName: "Blue",
          colorName: "Heron",
          r: 98,
          g: 97,
          b: 126
        },
        {
          pantoneId: 1518,
          name: "18-3820 TCX",
          majorColorName: "Blue",
          colorName: "Twilight Purple",
          r: 102,
          g: 100,
          b: 139
        },
        {
          pantoneId: 1519,
          name: "18-3828 TCX",
          majorColorName: "Blue",
          colorName: "Corsican Blue",
          r: 100,
          g: 96,
          b: 147
        },
        {
          pantoneId: 1520,
          name: "18-3833 TCX",
          majorColorName: "Blue",
          colorName: "Dusted Peri",
          r: 105,
          g: 107,
          b: 160
        },
        {
          pantoneId: 1521,
          name: "18-3834 TCX",
          majorColorName: "Blue",
          colorName: "Veronica",
          r: 109,
          g: 102,
          b: 149
        },
        {
          pantoneId: 1522,
          name: "18-3838 TCX",
          majorColorName: "Light-Purple",
          colorName: "Ultra Violet",
          r: 95,
          g: 75,
          b: 139
        },
        {
          pantoneId: 1523,
          name: "18-3840 TCX",
          majorColorName: "Blue",
          colorName: "Purple Opulence",
          r: 96,
          g: 86,
          b: 154
        },
        {
          pantoneId: 1524,
          name: "18-3905 TCX",
          majorColorName: "Gray",
          colorName: "Excalibur",
          r: 103,
          g: 97,
          b: 104
        },
        {
          pantoneId: 1525,
          name: "18-3910 TCX",
          majorColorName: "Blue",
          colorName: "Folkstone Gray",
          r: 98,
          g: 104,
          b: 121
        },
        {
          pantoneId: 1526,
          name: "18-3916 TCX",
          majorColorName: "Blue",
          colorName: "Flint Stone",
          r: 103,
          g: 114,
          b: 131
        },
        {
          pantoneId: 1527,
          name: "18-3918 TCX",
          majorColorName: "Blue",
          colorName: "China Blue",
          r: 84,
          g: 100,
          b: 119
        },
        {
          pantoneId: 1528,
          name: "18-3920 TCX",
          majorColorName: "Blue",
          colorName: "Coastal Fjord",
          r: 80,
          g: 93,
          b: 126
        },
        {
          pantoneId: 1529,
          name: "18-3921 TCX",
          majorColorName: "Blue",
          colorName: "Bijou Blue",
          r: 78,
          g: 94,
          b: 127
        },
        {
          pantoneId: 1530,
          name: "18-3922 TCX",
          majorColorName: "Blue",
          colorName: "Coronet Blue",
          r: 89,
          g: 114,
          b: 142
        },
        {
          pantoneId: 1531,
          name: "18-3927 TCX",
          majorColorName: "Blue",
          colorName: "Velvet Morning",
          r: 96,
          g: 104,
          b: 141
        },
        {
          pantoneId: 1532,
          name: "18-3928 TCX",
          majorColorName: "Blue",
          colorName: "Dutch Blue",
          r: 74,
          g: 99,
          b: 141
        },
        {
          pantoneId: 1533,
          name: "18-3930 TCX",
          majorColorName: "Blue",
          colorName: "Bleached Denim",
          r: 100,
          g: 111,
          b: 155
        },
        {
          pantoneId: 1534,
          name: "18-3932 TCX",
          majorColorName: "Blue",
          colorName: "Marlin",
          r: 81,
          g: 91,
          b: 135
        },
        {
          pantoneId: 1535,
          name: "18-3935 TCX",
          majorColorName: "Blue",
          colorName: "Wedgewood",
          r: 100,
          g: 121,
          b: 179
        },
        {
          pantoneId: 1536,
          name: "18-3937 TCX",
          majorColorName: "Blue",
          colorName: "Blue Yonder",
          r: 90,
          g: 119,
          b: 168
        },
        {
          pantoneId: 1537,
          name: "18-3943 TCX",
          majorColorName: "Blue",
          colorName: "Blue Iris",
          r: 90,
          g: 91,
          b: 159
        },
        {
          pantoneId: 1538,
          name: "18-3944 TCX",
          majorColorName: "Blue",
          colorName: "Violet Storm",
          r: 92,
          g: 97,
          b: 157
        },
        {
          pantoneId: 1539,
          name: "18-3945 TCX",
          majorColorName: "Blue",
          colorName: "Amparo Blue",
          r: 73,
          g: 96,
          b: 168
        },
        {
          pantoneId: 1540,
          name: "18-3946 TCX",
          majorColorName: "Blue",
          colorName: "Baja Blue",
          r: 95,
          g: 109,
          b: 176
        },
        {
          pantoneId: 1541,
          name: "18-3949 TCX",
          majorColorName: "Blue",
          colorName: "Dazzling Blue",
          r: 56,
          g: 80,
          b: 160
        },
        {
          pantoneId: 1542,
          name: "18-3963 TCX",
          majorColorName: "Blue",
          colorName: "Spectrum Blue",
          r: 61,
          g: 60,
          b: 124
        },
        {
          pantoneId: 1543,
          name: "18-4005 TCX",
          majorColorName: "Gray",
          colorName: "Steel Gray",
          r: 114,
          g: 111,
          b: 112
        },
        {
          pantoneId: 1544,
          name: "18-4011 TCX",
          majorColorName: "Blue",
          colorName: "Goblin Blue",
          r: 95,
          g: 114,
          b: 120
        },
        {
          pantoneId: 1545,
          name: "18-4018 TCX",
          majorColorName: "Blue",
          colorName: "Real Teal",
          r: 64,
          g: 93,
          b: 115
        },
        {
          pantoneId: 1546,
          name: "18-4020 TCX",
          majorColorName: "Blue",
          colorName: "Captain's Blue",
          r: 85,
          g: 112,
          b: 136
        },
        {
          pantoneId: 1547,
          name: "18-4023 TCX",
          majorColorName: "Blue",
          colorName: "Blue Ashes",
          r: 59,
          g: 95,
          b: 120
        },
        {
          pantoneId: 1548,
          name: "18-4025 TCX",
          majorColorName: "Blue",
          colorName: "Copen Blue",
          r: 81,
          g: 107,
          b: 132
        },
        {
          pantoneId: 1549,
          name: "18-4026 TCX",
          majorColorName: "Blue",
          colorName: "Stellar",
          r: 70,
          g: 100,
          b: 126
        },
        {
          pantoneId: 1550,
          name: "18-4027 TCX",
          majorColorName: "Blue",
          colorName: "Moonlight Blue",
          r: 80,
          g: 104,
          b: 134
        },
        {
          pantoneId: 1551,
          name: "18-4029 TCX",
          majorColorName: "Blue",
          colorName: "Federal Blue",
          r: 67,
          g: 98,
          b: 139
        },
        {
          pantoneId: 1552,
          name: "18-4032 TCX",
          majorColorName: "Blue",
          colorName: "Deep Water",
          r: 38,
          g: 102,
          b: 145
        },
        {
          pantoneId: 1553,
          name: "18-4036 TCX",
          majorColorName: "Blue",
          colorName: "Parisian Blue",
          r: 79,
          g: 124,
          b: 164
        },
        {
          pantoneId: 1554,
          name: "18-4039 TCX",
          majorColorName: "Blue",
          colorName: "Regatta",
          r: 72,
          g: 122,
          b: 183
        },
        {
          pantoneId: 1555,
          name: "18-4041 TCX",
          majorColorName: "Blue",
          colorName: "Star Sapphire",
          r: 56,
          g: 97,
          b: 146
        },
        {
          pantoneId: 1556,
          name: "18-4043 TCX",
          majorColorName: "Blue",
          colorName: "Palace Blue",
          r: 52,
          g: 108,
          b: 176
        },
        {
          pantoneId: 1557,
          name: "18-4045 TCX",
          majorColorName: "Blue",
          colorName: "Daphne",
          r: 15,
          g: 95,
          b: 154
        },
        {
          pantoneId: 1558,
          name: "18-4051 TCX",
          majorColorName: "Blue",
          colorName: "Strong Blue",
          r: 31,
          g: 93,
          b: 160
        },
        {
          pantoneId: 1559,
          name: "18-4105 TCX",
          majorColorName: "Gray",
          colorName: "Moon Mist",
          r: 128,
          g: 129,
          b: 125
        },
        {
          pantoneId: 1560,
          name: "18-4140 TCX",
          majorColorName: "Blue",
          colorName: "French Blue",
          r: 0,
          g: 114,
          b: 181
        },
        {
          pantoneId: 1561,
          name: "18-4141 TCX",
          majorColorName: "Blue",
          colorName: "Campanula",
          r: 50,
          g: 114,
          b: 175
        },
        {
          pantoneId: 1562,
          name: "18-4148 TCX",
          majorColorName: "Blue",
          colorName: "Victoria Blue",
          r: 8,
          g: 88,
          b: 157
        },
        {
          pantoneId: 1563,
          name: "18-4215 TCX",
          majorColorName: "Blue",
          colorName: "Blue Mirage",
          r: 92,
          g: 109,
          b: 124
        },
        {
          pantoneId: 1564,
          name: "18-4217 TCX",
          majorColorName: "Blue",
          colorName: "Bluestone",
          r: 87,
          g: 114,
          b: 132
        },
        {
          pantoneId: 1565,
          name: "18-4220 TCX",
          majorColorName: "Blue",
          colorName: "Provincial Blue",
          r: 92,
          g: 121,
          b: 142
        },
        {
          pantoneId: 1566,
          name: "18-4222 TCX",
          majorColorName: "Blue",
          colorName: "Bluesteel",
          r: 53,
          g: 99,
          b: 124
        },
        {
          pantoneId: 1567,
          name: "18-4225 TCX",
          majorColorName: "Blue",
          colorName: "Saxony Blue",
          r: 31,
          g: 102,
          b: 128
        },
        {
          pantoneId: 1568,
          name: "18-4231 TCX",
          majorColorName: "Blue",
          colorName: "Blue Sapphire",
          r: 9,
          g: 87,
          b: 123
        },
        {
          pantoneId: 1569,
          name: "18-4232 TCX",
          majorColorName: "Blue",
          colorName: "Faience",
          r: 42,
          g: 106,
          b: 139
        },
        {
          pantoneId: 1570,
          name: "18-4244 TCX",
          majorColorName: "Blue",
          colorName: "Directoire Blue",
          r: 0,
          g: 97,
          b: 163
        },
        {
          pantoneId: 1571,
          name: "18-4247 TCX",
          majorColorName: "Blue",
          colorName: "Brilliant Blue",
          r: 0,
          g: 117,
          b: 179
        },
        {
          pantoneId: 1572,
          name: "18-4252 TCX",
          majorColorName: "Blue",
          colorName: "Blue Aster",
          r: 0,
          g: 119,
          b: 179
        },
        {
          pantoneId: 1573,
          name: "18-4320 TCX",
          majorColorName: "Blue",
          colorName: "Aegean Blue",
          r: 78,
          g: 110,
          b: 129
        },
        {
          pantoneId: 1574,
          name: "18-4330 TCX",
          majorColorName: "Blue",
          colorName: "Swedish Blue",
          r: 0,
          g: 126,
          b: 177
        },
        {
          pantoneId: 1575,
          name: "18-4334 TCX",
          majorColorName: "Blue",
          colorName: "Mediterranian Blue",
          r: 20,
          g: 120,
          b: 167
        },
        {
          pantoneId: 1576,
          name: "18-4417 TCX",
          majorColorName: "Blue",
          colorName: "Tapestry",
          r: 67,
          g: 101,
          b: 115
        },
        {
          pantoneId: 1577,
          name: "18-4432 TCX",
          majorColorName: "Blue",
          colorName: "Turkish Tile",
          r: 0,
          g: 105,
          b: 139
        },
        {
          pantoneId: 1578,
          name: "18-4440 TCX",
          majorColorName: "Blue",
          colorName: "Cloisonne",
          r: 0,
          g: 117,
          b: 175
        },
        {
          pantoneId: 1579,
          name: "18-4510 TCX",
          majorColorName: "Blue",
          colorName: "Trooper",
          r: 105,
          g: 122,
          b: 126
        },
        {
          pantoneId: 1580,
          name: "18-4522 TCX",
          majorColorName: "Blue",
          colorName: "Colonial Blue",
          r: 45,
          g: 100,
          b: 113
        },
        {
          pantoneId: 1581,
          name: "18-4525 TCX",
          majorColorName: "Blue",
          colorName: "Caribbean Sea",
          r: 0,
          g: 129,
          b: 157
        },
        {
          pantoneId: 1582,
          name: "18-4528 TCX",
          majorColorName: "Blue",
          colorName: "Mosaic Blue",
          r: 0,
          g: 117,
          b: 143
        },
        {
          pantoneId: 1583,
          name: "18-4530 TCX",
          majorColorName: "Blue",
          colorName: "Celestial",
          r: 0,
          g: 99,
          b: 128
        },
        {
          pantoneId: 1584,
          name: "18-4535 TCX",
          majorColorName: "Blue",
          colorName: "Blue Jewel",
          r: 0,
          g: 123,
          b: 170
        },
        {
          pantoneId: 1585,
          name: "18-4537 TCX",
          majorColorName: "Blue",
          colorName: "Methyl Blue",
          r: 0,
          g: 116,
          b: 168
        },
        {
          pantoneId: 1586,
          name: "18-4612 TCX",
          majorColorName: "Blue",
          colorName: "North Atlantic",
          r: 83,
          g: 109,
          b: 112
        },
        {
          pantoneId: 1587,
          name: "18-4711 TCX",
          majorColorName: "Blue",
          colorName: "Stormy Sea",
          r: 110,
          g: 128,
          b: 130
        },
        {
          pantoneId: 1588,
          name: "18-4718 TCX",
          majorColorName: "Blue",
          colorName: "Hydro",
          r: 66,
          g: 105,
          b: 114
        },
        {
          pantoneId: 1589,
          name: "18-4726 TCX",
          majorColorName: "Blue",
          colorName: "Biscay Bay",
          r: 9,
          g: 121,
          b: 136
        },
        {
          pantoneId: 1590,
          name: "18-4728 TCX",
          majorColorName: "Blue",
          colorName: "Harbor Blue",
          r: 0,
          g: 101,
          b: 110
        },
        {
          pantoneId: 1591,
          name: "18-4733 TCX",
          majorColorName: "Blue",
          colorName: "Enamel Blue",
          r: 0,
          g: 122,
          b: 142
        },
        {
          pantoneId: 1592,
          name: "18-4735 TCX",
          majorColorName: "Blue",
          colorName: "Tile Blue",
          r: 0,
          g: 132,
          b: 145
        },
        {
          pantoneId: 1593,
          name: "18-4834 TCX",
          majorColorName: "Blue",
          colorName: "Deep Lake",
          r: 0,
          g: 101,
          b: 107
        },
        {
          pantoneId: 1594,
          name: "18-4930 TCX",
          majorColorName: "Blue-Green",
          colorName: "Tropical Green",
          r: 0,
          g: 135,
          b: 134
        },
        {
          pantoneId: 1595,
          name: "18-4936 TCX",
          majorColorName: "Blue",
          colorName: "Fanfare",
          r: 0,
          g: 109,
          b: 112
        },
        {
          pantoneId: 1596,
          name: "18-5020 TCX",
          majorColorName: "Blue-Green",
          colorName: "Parasailing",
          r: 0,
          g: 115,
          b: 108
        },
        {
          pantoneId: 1597,
          name: "18-5105 TCX",
          majorColorName: "Gray",
          colorName: "Sedona Sage",
          r: 104,
          g: 109,
          b: 108
        },
        {
          pantoneId: 1598,
          name: "18-5112 TCX",
          majorColorName: "Blue-green",
          colorName: "Sea Pine",
          r: 76,
          g: 105,
          b: 105
        },
        {
          pantoneId: 1599,
          name: "18-5115 TCX",
          majorColorName: "Blue-Green",
          colorName: "North Sea",
          r: 49,
          g: 108,
          b: 107
        },
        {
          pantoneId: 1600,
          name: "18-5121 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bayou",
          r: 32,
          g: 112,
          b: 111
        },
        {
          pantoneId: 1601,
          name: "18-5128 TCX",
          majorColorName: "Blue-Green",
          colorName: "Blue Grass",
          r: 0,
          g: 124,
          b: 122
        },
        {
          pantoneId: 1602,
          name: "18-5203 TCX",
          majorColorName: "Gray",
          colorName: "Pewter",
          r: 102,
          g: 101,
          b: 100
        },
        {
          pantoneId: 1603,
          name: "18-5308 TCX",
          majorColorName: "Blue-Green",
          colorName: "Blue Spruce",
          r: 72,
          g: 107,
          b: 103
        },
        {
          pantoneId: 1604,
          name: "18-5315 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bayberry",
          r: 37,
          g: 89,
          b: 88
        },
        {
          pantoneId: 1605,
          name: "18-5322 TCX",
          majorColorName: "Blue-Green",
          colorName: "Alpine Green",
          r: 0,
          g: 95,
          b: 86
        },
        {
          pantoneId: 1606,
          name: "18-5338 TCX",
          majorColorName: "Blue-Green",
          colorName: "Ultramarine Green",
          r: 0,
          g: 107,
          b: 84
        },
        {
          pantoneId: 1607,
          name: "18-5410 TCX",
          majorColorName: "Blue-Green",
          colorName: "Silver Pine",
          r: 78,
          g: 104,
          b: 102
        },
        {
          pantoneId: 1608,
          name: "18-5418 TCX",
          majorColorName: "Blue-Green",
          colorName: "Antique Green",
          r: 41,
          g: 103,
          b: 92
        },
        {
          pantoneId: 1609,
          name: "18-5424 TCX",
          majorColorName: "Blue-Green",
          colorName: "Cadmium Green",
          r: 0,
          g: 103,
          b: 91
        },
        {
          pantoneId: 1610,
          name: "18-5606 TCX",
          majorColorName: "Gray",
          colorName: "Balsam Green",
          r: 87,
          g: 102,
          b: 100
        },
        {
          pantoneId: 1611,
          name: "18-5610 TCX",
          majorColorName: "Blue",
          colorName: "Brittany Blue",
          r: 76,
          g: 126,
          b: 134
        },
        {
          pantoneId: 1612,
          name: "18-5611 TCX",
          majorColorName: "Blue-Green",
          colorName: "Dark Forest",
          r: 85,
          g: 105,
          b: 98
        },
        {
          pantoneId: 1613,
          name: "18-5612 TCX",
          majorColorName: "Blue-Green",
          colorName: "Sagebrush Green",
          r: 86,
          g: 117,
          b: 114
        },
        {
          pantoneId: 1614,
          name: "18-5616 TCX",
          majorColorName: "Blue-Green",
          colorName: "Posy Green",
          r: 50,
          g: 91,
          b: 81
        },
        {
          pantoneId: 1615,
          name: "18-5618 TCX",
          majorColorName: "Blue-Green",
          colorName: "Deep Jungle",
          r: 54,
          g: 113,
          b: 111
        },
        {
          pantoneId: 1616,
          name: "18-5619 TCX",
          majorColorName: "Blue-Green",
          colorName: "Tidepool",
          r: 10,
          g: 111,
          b: 105
        },
        {
          pantoneId: 1617,
          name: "18-5620 TCX",
          majorColorName: "Blue-Green",
          colorName: "Ivy",
          r: 34,
          g: 108,
          b: 99
        },
        {
          pantoneId: 1618,
          name: "18-5621 TCX",
          majorColorName: "Blue-Green",
          colorName: "Fir",
          r: 58,
          g: 114,
          b: 95
        },
        {
          pantoneId: 1619,
          name: "18-5622 TCX",
          majorColorName: "Blue-Green",
          colorName: "Frosty Spruce",
          r: 87,
          g: 130,
          b: 112
        },
        {
          pantoneId: 1620,
          name: "18-5624 TCX",
          majorColorName: "Blue-Green",
          colorName: "Shady Glade",
          r: 0,
          g: 110,
          b: 91
        },
        {
          pantoneId: 1621,
          name: "18-5633 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bosphorus",
          r: 0,
          g: 117,
          b: 88
        },
        {
          pantoneId: 1622,
          name: "18-5642 TCX",
          majorColorName: "Blue-Green",
          colorName: "Golf Green",
          r: 0,
          g: 135,
          b: 99
        },
        {
          pantoneId: 1623,
          name: "18-5718 TCX",
          majorColorName: "Blue-Green",
          colorName: "Smoke Pine",
          r: 62,
          g: 98,
          b: 87
        },
        {
          pantoneId: 1624,
          name: "18-5725 TCX",
          majorColorName: "Blue-Green",
          colorName: "Galapagos Green",
          r: 41,
          g: 104,
          b: 95
        },
        {
          pantoneId: 1625,
          name: "18-5841 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pepper Green",
          r: 0,
          g: 125,
          b: 96
        },
        {
          pantoneId: 1626,
          name: "18-5913 TCX",
          majorColorName: "Blue-Green",
          colorName: "Garden Topiary",
          r: 62,
          g: 82,
          b: 75
        },
        {
          pantoneId: 1627,
          name: "18-6011 TCX",
          majorColorName: "Green",
          colorName: "Duck Green",
          r: 83,
          g: 102,
          b: 92
        },
        {
          pantoneId: 1628,
          name: "18-6018 TCX",
          majorColorName: "Blue-Green",
          colorName: "Foliage Green",
          r: 62,
          g: 111,
          b: 88
        },
        {
          pantoneId: 1629,
          name: "18-6022 TCX",
          majorColorName: "Blue-Green",
          colorName: "Leprechaun",
          r: 55,
          g: 134,
          b: 97
        },
        {
          pantoneId: 1630,
          name: "18-6024 TCX",
          majorColorName: "Green",
          colorName: "Amazon",
          r: 31,
          g: 115,
          b: 73
        },
        {
          pantoneId: 1631,
          name: "18-6114 TCX",
          majorColorName: "Green",
          colorName: "Myrtle",
          r: 79,
          g: 107,
          b: 88
        },
        {
          pantoneId: 1632,
          name: "18-6216 TCX",
          majorColorName: "Green",
          colorName: "Comfrey",
          r: 91,
          g: 121,
          b: 97
        },
        {
          pantoneId: 1633,
          name: "18-6320 TCX",
          majorColorName: "Green",
          colorName: "Fairway",
          r: 71,
          g: 112,
          b: 80
        },
        {
          pantoneId: 1634,
          name: "18-6330 TCX",
          majorColorName: "Green",
          colorName: "Juniper",
          r: 61,
          g: 114,
          b: 69
        },
        {
          pantoneId: 1635,
          name: "19-0000 TCX",
          majorColorName: "Gray",
          colorName: "Raven",
          r: 65,
          g: 62,
          b: 61
        },
        {
          pantoneId: 1636,
          name: "19-0230 TCX",
          majorColorName: "Green",
          colorName: "Garden Green",
          r: 73,
          g: 94,
          b: 53
        },
        {
          pantoneId: 1637,
          name: "19-0303 TCX",
          majorColorName: "Gray",
          colorName: "Jet Black",
          r: 45,
          g: 44,
          b: 47
        },
        {
          pantoneId: 1638,
          name: "19-0309 TCX",
          majorColorName: "Gray",
          colorName: "Thyme",
          r: 80,
          g: 87,
          b: 76
        },
        {
          pantoneId: 1639,
          name: "19-0312 TCX",
          majorColorName: "Gray",
          colorName: "Beetle",
          r: 85,
          g: 88,
          b: 76
        },
        {
          pantoneId: 1640,
          name: "19-0315 TCX",
          majorColorName: "Green",
          colorName: "Black Forest",
          r: 65,
          g: 79,
          b: 60
        },
        {
          pantoneId: 1641,
          name: "19-0323 TCX",
          majorColorName: "Green",
          colorName: "Chive",
          r: 74,
          g: 83,
          b: 53
        },
        {
          pantoneId: 1642,
          name: "19-0405 TCX",
          majorColorName: "Gray",
          colorName: "Beluga",
          r: 74,
          g: 72,
          b: 67
        },
        {
          pantoneId: 1643,
          name: "19-0414 TCX",
          majorColorName: "Yellow",
          colorName: "Forest Night",
          r: 67,
          g: 66,
          b: 55
        },
        {
          pantoneId: 1644,
          name: "19-0415 TCX",
          majorColorName: "Green",
          colorName: "Duffel Bag",
          r: 57,
          g: 64,
          b: 52
        },
        {
          pantoneId: 1645,
          name: "19-0417 TCX",
          majorColorName: "Green",
          colorName: "Kombu Green",
          r: 58,
          g: 64,
          b: 50
        },
        {
          pantoneId: 1646,
          name: "19-0419 TCX",
          majorColorName: "Green",
          colorName: "Rifle Green",
          r: 65,
          g: 72,
          b: 50
        },
        {
          pantoneId: 1647,
          name: "19-0506 TCX",
          majorColorName: "Gray",
          colorName: "Black Ink",
          r: 68,
          g: 65,
          b: 60
        },
        {
          pantoneId: 1648,
          name: "19-0508 TCX",
          majorColorName: "Gray",
          colorName: "Peat",
          r: 59,
          g: 58,
          b: 54
        },
        {
          pantoneId: 1649,
          name: "19-0509 TCX",
          majorColorName: "Yellow",
          colorName: "Rosin",
          r: 54,
          g: 54,
          b: 45
        },
        {
          pantoneId: 1650,
          name: "19-0511 TCX",
          majorColorName: "Yellow",
          colorName: "Grape Leaf",
          r: 84,
          g: 81,
          b: 68
        },
        {
          pantoneId: 1651,
          name: "19-0512 TCX",
          majorColorName: "Yellow",
          colorName: "Ivy Green",
          r: 88,
          g: 84,
          b: 66
        },
        {
          pantoneId: 1652,
          name: "19-0515 TCX",
          majorColorName: "Yellow",
          colorName: "Olive Night",
          r: 83,
          g: 80,
          b: 64
        },
        {
          pantoneId: 1653,
          name: "19-0516 TCX",
          majorColorName: "Brown",
          colorName: "Dark Olive",
          r: 87,
          g: 77,
          b: 53
        },
        {
          pantoneId: 1654,
          name: "19-0608 TCX",
          majorColorName: "Brown",
          colorName: "Black Olive",
          r: 72,
          g: 65,
          b: 59
        },
        {
          pantoneId: 1655,
          name: "19-0614 TCX",
          majorColorName: "Brown",
          colorName: "Wren",
          r: 74,
          g: 65,
          b: 57
        },
        {
          pantoneId: 1656,
          name: "19-0617 TCX",
          majorColorName: "Brown",
          colorName: "Teak",
          r: 101,
          g: 83,
          b: 65
        },
        {
          pantoneId: 1657,
          name: "19-0618 TCX",
          majorColorName: "Brown",
          colorName: "Beech",
          r: 91,
          g: 79,
          b: 59
        },
        {
          pantoneId: 1658,
          name: "19-0622 TCX",
          majorColorName: "Brown",
          colorName: "Military Olive",
          r: 99,
          g: 86,
          b: 59
        },
        {
          pantoneId: 1659,
          name: "19-0712 TCX",
          majorColorName: "Brown",
          colorName: "Demitasse",
          r: 64,
          g: 52,
          b: 43
        },
        {
          pantoneId: 1660,
          name: "19-0809 TCX",
          majorColorName: "Brown",
          colorName: "Chocolate Chip",
          r: 104,
          g: 90,
          b: 78
        },
        {
          pantoneId: 1661,
          name: "19-0810 TCX",
          majorColorName: "Brown",
          colorName: "Major Brown",
          r: 91,
          g: 81,
          b: 73
        },
        {
          pantoneId: 1662,
          name: "19-0812 TCX",
          majorColorName: "Brown",
          colorName: "Turkish Coffee",
          r: 72,
          g: 63,
          b: 57
        },
        {
          pantoneId: 1663,
          name: "19-0814 TCX",
          majorColorName: "Brown",
          colorName: "Slate Black",
          r: 75,
          g: 61,
          b: 51
        },
        {
          pantoneId: 1664,
          name: "19-0815 TCX",
          majorColorName: "Brown",
          colorName: "Desert Palm",
          r: 90,
          g: 70,
          b: 50
        },
        {
          pantoneId: 1665,
          name: "19-0820 TCX",
          majorColorName: "Brown",
          colorName: "Canteen",
          r: 94,
          g: 83,
          b: 71
        },
        {
          pantoneId: 1666,
          name: "19-0822 TCX",
          majorColorName: "Brown",
          colorName: "Tarmac",
          r: 90,
          g: 83,
          b: 72
        },
        {
          pantoneId: 1667,
          name: "19-0912 TCX",
          majorColorName: "Brown",
          colorName: "Chocolate Brown",
          r: 78,
          g: 64,
          b: 59
        },
        {
          pantoneId: 1668,
          name: "19-0915 TCX",
          majorColorName: "Pink",
          colorName: "Coffee Bean",
          r: 64,
          g: 49,
          b: 47
        },
        {
          pantoneId: 1669,
          name: "19-1012 TCX",
          majorColorName: "Pink",
          colorName: "French Roast",
          r: 88,
          g: 66,
          b: 63
        },
        {
          pantoneId: 1670,
          name: "19-1015 TCX",
          majorColorName: "Brown",
          colorName: "Bracken",
          r: 79,
          g: 63,
          b: 59
        },
        {
          pantoneId: 1671,
          name: "19-1016 TCX",
          majorColorName: "Pink",
          colorName: "Java",
          r: 67,
          g: 51,
          b: 49
        },
        {
          pantoneId: 1672,
          name: "19-1020 TCX",
          majorColorName: "Brown",
          colorName: "Dark Earth",
          r: 92,
          g: 73,
          b: 57
        },
        {
          pantoneId: 1673,
          name: "19-1034 TCX",
          majorColorName: "Brown",
          colorName: "Breen",
          r: 121,
          g: 93,
          b: 52
        },
        {
          pantoneId: 1674,
          name: "19-1101 TCX",
          majorColorName: "Gray",
          colorName: "After Dark",
          r: 60,
          g: 53,
          b: 53
        },
        {
          pantoneId: 1675,
          name: "19-1102 TCX",
          majorColorName: "Gray",
          colorName: "Licorice",
          r: 58,
          g: 53,
          b: 54
        },
        {
          pantoneId: 1676,
          name: "19-1111 TCX",
          majorColorName: "Pink",
          colorName: "Black Coffee",
          r: 59,
          g: 48,
          b: 47
        },
        {
          pantoneId: 1677,
          name: "19-1116 TCX",
          majorColorName: "Brown",
          colorName: "Carafe",
          r: 93,
          g: 71,
          b: 58
        },
        {
          pantoneId: 1678,
          name: "19-1118 TCX",
          majorColorName: "Brown",
          colorName: "Chestnut",
          r: 88,
          g: 64,
          b: 57
        },
        {
          pantoneId: 1679,
          name: "19-1121 TCX",
          majorColorName: "Brown",
          colorName: "Pinecone",
          r: 97,
          g: 71,
          b: 59
        },
        {
          pantoneId: 1680,
          name: "19-1213 TCX",
          majorColorName: "Pink",
          colorName: "Shopping Bag",
          r: 90,
          g: 71,
          b: 67
        },
        {
          pantoneId: 1681,
          name: "19-1217 TCX",
          majorColorName: "Brown",
          colorName: "Mustang",
          r: 104,
          g: 75,
          b: 64
        },
        {
          pantoneId: 1682,
          name: "19-1218 TCX",
          majorColorName: "Brown",
          colorName: "Potting Soil",
          r: 84,
          g: 57,
          b: 45
        },
        {
          pantoneId: 1683,
          name: "19-1220 TCX",
          majorColorName: "Brown",
          colorName: "Cappuccino",
          r: 99,
          g: 63,
          b: 51
        },
        {
          pantoneId: 1684,
          name: "19-1228 TCX",
          majorColorName: "Brown",
          colorName: "Root Beer",
          r: 113,
          g: 74,
          b: 65
        },
        {
          pantoneId: 1685,
          name: "19-1230 TCX",
          majorColorName: "Brown",
          colorName: "Friar Brown",
          r: 110,
          g: 73,
          b: 58
        },
        {
          pantoneId: 1686,
          name: "19-1235 TCX",
          majorColorName: "Brown",
          colorName: "Brunette",
          r: 102,
          g: 66,
          b: 56
        },
        {
          pantoneId: 1687,
          name: "19-1241 TCX",
          majorColorName: "Brown",
          colorName: "Tortoise Shell",
          r: 117,
          g: 71,
          b: 52
        },
        {
          pantoneId: 1688,
          name: "19-1245 TCX",
          majorColorName: "Brown",
          colorName: "Arabian Spice",
          r: 136,
          g: 67,
          b: 50
        },
        {
          pantoneId: 1689,
          name: "19-1250 TCX",
          majorColorName: "Brown",
          colorName: "Picante",
          r: 141,
          g: 63,
          b: 45
        },
        {
          pantoneId: 1690,
          name: "19-1314 TCX",
          majorColorName: "Pink",
          colorName: "Seal Brown",
          r: 73,
          g: 59,
          b: 57
        },
        {
          pantoneId: 1691,
          name: "19-1317 TCX",
          majorColorName: "Pink",
          colorName: "Bitter Chocolate",
          r: 80,
          g: 49,
          b: 48
        },
        {
          pantoneId: 1692,
          name: "19-1320 TCX",
          majorColorName: "Pink",
          colorName: "Sable",
          r: 110,
          g: 64,
          b: 60
        },
        {
          pantoneId: 1693,
          name: "19-1321 TCX",
          majorColorName: "Pink",
          colorName: "Rum Raisin",
          r: 88,
          g: 52,
          b: 50
        },
        {
          pantoneId: 1694,
          name: "19-1322 TCX",
          majorColorName: "Pink",
          colorName: "Brown Stone",
          r: 89,
          g: 60,
          b: 57
        },
        {
          pantoneId: 1695,
          name: "19-1325 TCX",
          majorColorName: "Pink",
          colorName: "Hot Chocolate",
          r: 104,
          g: 59,
          b: 57
        },
        {
          pantoneId: 1696,
          name: "19-1327 TCX",
          majorColorName: "Pink",
          colorName: "Andorra",
          r: 96,
          g: 53,
          b: 53
        },
        {
          pantoneId: 1697,
          name: "19-1331 TCX",
          majorColorName: "Pink",
          colorName: "Madder Brown",
          r: 106,
          g: 51,
          b: 49
        },
        {
          pantoneId: 1698,
          name: "19-1333 TCX",
          majorColorName: "Brown",
          colorName: "Sequoia",
          r: 128,
          g: 72,
          b: 57
        },
        {
          pantoneId: 1699,
          name: "19-1334 TCX",
          majorColorName: "Pink",
          colorName: "Henna",
          r: 124,
          g: 66,
          b: 60
        },
        {
          pantoneId: 1700,
          name: "19-1338 TCX",
          majorColorName: "Pink",
          colorName: "Russet Brown",
          r: 116,
          g: 51,
          b: 50
        },
        {
          pantoneId: 1701,
          name: "19-1420 TCX",
          majorColorName: "Pink",
          colorName: "Deep Mahogany",
          r: 85,
          g: 59,
          b: 57
        },
        {
          pantoneId: 1702,
          name: "19-1430 TCX",
          majorColorName: "Brown",
          colorName: "Mink",
          r: 115,
          g: 75,
          b: 66
        },
        {
          pantoneId: 1703,
          name: "19-1431 TCX",
          majorColorName: "Pink",
          colorName: "Fudgesickle",
          r: 99,
          g: 64,
          b: 58
        },
        {
          pantoneId: 1704,
          name: "19-1436 TCX",
          majorColorName: "Pink",
          colorName: "Cinnamon",
          r: 107,
          g: 65,
          b: 57
        },
        {
          pantoneId: 1705,
          name: "19-1518 TCX",
          majorColorName: "Pink",
          colorName: "Puce",
          r: 80,
          g: 57,
          b: 56
        },
        {
          pantoneId: 1706,
          name: "19-1521 TCX",
          majorColorName: "Pink",
          colorName: "Red Mahogany",
          r: 96,
          g: 55,
          b: 61
        },
        {
          pantoneId: 1707,
          name: "19-1522 TCX",
          majorColorName: "Pink",
          colorName: "Zinfandel",
          r: 92,
          g: 41,
          b: 53
        },
        {
          pantoneId: 1708,
          name: "19-1524 TCX",
          majorColorName: "Pink",
          colorName: "Oxblood Red",
          r: 112,
          g: 57,
          b: 63
        },
        {
          pantoneId: 1709,
          name: "19-1525 TCX",
          majorColorName: "Pink",
          colorName: "Port",
          r: 102,
          g: 51,
          b: 54
        },
        {
          pantoneId: 1710,
          name: "19-1526 TCX",
          majorColorName: "Pink",
          colorName: "Chocolate Truffle",
          r: 97,
          g: 46,
          b: 53
        },
        {
          pantoneId: 1711,
          name: "19-1528 TCX",
          majorColorName: "Pink",
          colorName: "Windsor Wine",
          r: 88,
          g: 43,
          b: 54
        },
        {
          pantoneId: 1712,
          name: "19-1530 TCX",
          majorColorName: "Pink",
          colorName: "Burnt Russet",
          r: 126,
          g: 57,
          b: 64
        },
        {
          pantoneId: 1713,
          name: "19-1532 TCX",
          majorColorName: "Pink",
          colorName: "Rosewood",
          r: 129,
          g: 54,
          b: 57
        },
        {
          pantoneId: 1714,
          name: "19-1533 TCX",
          majorColorName: "Pink",
          colorName: "Cowhide",
          r: 136,
          g: 67,
          b: 68
        },
        {
          pantoneId: 1715,
          name: "19-1540 TCX",
          majorColorName: "Pink",
          colorName: "Burnt Henna",
          r: 126,
          g: 57,
          b: 47
        },
        {
          pantoneId: 1716,
          name: "19-1543 TCX",
          majorColorName: "Pink",
          colorName: "Brick Red",
          r: 140,
          g: 55,
          b: 62
        },
        {
          pantoneId: 1717,
          name: "19-1557 TCX",
          majorColorName: "Pink",
          colorName: "Chili Pepper",
          r: 155,
          g: 27,
          b: 48
        },
        {
          pantoneId: 1718,
          name: "19-1606 TCX",
          majorColorName: "Pink",
          colorName: "Raisin",
          r: 82,
          g: 65,
          b: 68
        },
        {
          pantoneId: 1719,
          name: "19-1608 TCX",
          majorColorName: "Pink",
          colorName: "Prune Purple",
          r: 92,
          g: 58,
          b: 77
        },
        {
          pantoneId: 1720,
          name: "19-1617 TCX",
          majorColorName: "Pink",
          colorName: "Burgundy",
          r: 100,
          g: 49,
          b: 62
        },
        {
          pantoneId: 1721,
          name: "19-1619 TCX",
          majorColorName: "Pink",
          colorName: "Fudge",
          r: 73,
          g: 51,
          b: 56
        },
        {
          pantoneId: 1722,
          name: "19-1620 TCX",
          majorColorName: "Pink",
          colorName: "Huckleberry",
          r: 91,
          g: 67,
          b: 73
        },
        {
          pantoneId: 1723,
          name: "19-1621 TCX",
          majorColorName: "Pink",
          colorName: "Catawba Grape",
          r: 93,
          g: 60,
          b: 67
        },
        {
          pantoneId: 1724,
          name: "19-1623 TCX",
          majorColorName: "Pink",
          colorName: "Vineyard Wine",
          r: 88,
          g: 54,
          b: 61
        },
        {
          pantoneId: 1725,
          name: "19-1624 TCX",
          majorColorName: "Pink",
          colorName: "Sassafras",
          r: 84,
          g: 53,
          b: 59
        },
        {
          pantoneId: 1726,
          name: "19-1625 TCX",
          majorColorName: "Pink",
          colorName: "Decadent Chocolate",
          r: 81,
          g: 50,
          b: 53
        },
        {
          pantoneId: 1727,
          name: "19-1627 TCX",
          majorColorName: "Pink",
          colorName: "Port Royale",
          r: 80,
          g: 43,
          b: 51
        },
        {
          pantoneId: 1728,
          name: "19-1629 TCX",
          majorColorName: "Pink",
          colorName: "Ruby Wine",
          r: 119,
          g: 51,
          b: 59
        },
        {
          pantoneId: 1729,
          name: "19-1650 TCX",
          majorColorName: "Pink",
          colorName: "Biking Red",
          r: 119,
          g: 33,
          b: 46
        },
        {
          pantoneId: 1730,
          name: "19-1655 TCX",
          majorColorName: "Pink",
          colorName: "Garnet",
          r: 149,
          g: 54,
          b: 64
        },
        {
          pantoneId: 1731,
          name: "19-1656 TCX",
          majorColorName: "Pink",
          colorName: "Rio Red",
          r: 138,
          g: 34,
          b: 50
        },
        {
          pantoneId: 1732,
          name: "19-1663 TCX",
          majorColorName: "Red",
          colorName: "Ribbon Red",
          r: 185,
          g: 38,
          b: 54
        },
        {
          pantoneId: 1733,
          name: "19-1664 TCX",
          majorColorName: "Pink",
          colorName: "True Red",
          r: 191,
          g: 25,
          b: 50
        },
        {
          pantoneId: 1734,
          name: "19-1716 TCX",
          majorColorName: "Pink",
          colorName: "Mauve Wine",
          r: 91,
          g: 54,
          b: 68
        },
        {
          pantoneId: 1735,
          name: "19-1718 TCX",
          majorColorName: "Pink",
          colorName: "Fig",
          r: 83,
          g: 45,
          b: 59
        },
        {
          pantoneId: 1736,
          name: "19-1725 TCX",
          majorColorName: "Pink",
          colorName: "Tawny Port",
          r: 92,
          g: 44,
          b: 53
        },
        {
          pantoneId: 1737,
          name: "19-1726 TCX",
          majorColorName: "Pink",
          colorName: "Cordovan",
          r: 112,
          g: 47,
          b: 59
        },
        {
          pantoneId: 1738,
          name: "19-1759 TCX",
          majorColorName: "Pink",
          colorName: "American Beauty",
          r: 167,
          g: 51,
          b: 64
        },
        {
          pantoneId: 1739,
          name: "19-1760 TCX",
          majorColorName: "Red",
          colorName: "Scarlet",
          r: 188,
          g: 43,
          b: 61
        },
        {
          pantoneId: 1740,
          name: "19-1761 TCX",
          majorColorName: "Pink",
          colorName: "Tango Red",
          r: 172,
          g: 14,
          b: 46
        },
        {
          pantoneId: 1741,
          name: "19-1762 TCX",
          majorColorName: "Pink",
          colorName: "Crimson",
          r: 174,
          g: 14,
          b: 54
        },
        {
          pantoneId: 1742,
          name: "19-1763 TCX",
          majorColorName: "Red",
          colorName: "Racing Red",
          r: 189,
          g: 22,
          b: 44
        },
        {
          pantoneId: 1743,
          name: "19-1764 TCX",
          majorColorName: "Pink",
          colorName: "Lipstick Red",
          r: 179,
          g: 26,
          b: 56
        },
        {
          pantoneId: 1744,
          name: "19-1840 TCX",
          majorColorName: "Pink",
          colorName: "Deep Claret",
          r: 151,
          g: 52,
          b: 67
        },
        {
          pantoneId: 1745,
          name: "19-1850 TCX",
          majorColorName: "Pink",
          colorName: "Red Bud",
          r: 150,
          g: 45,
          b: 73
        },
        {
          pantoneId: 1746,
          name: "19-1860 TCX",
          majorColorName: "Pink",
          colorName: "Persian Red",
          r: 162,
          g: 20,
          b: 65
        },
        {
          pantoneId: 1747,
          name: "19-1862 TCX",
          majorColorName: "Pink",
          colorName: "Jester Red",
          r: 158,
          g: 16,
          b: 48
        },
        {
          pantoneId: 1748,
          name: "19-1934 TCX",
          majorColorName: "Pink",
          colorName: "Tibetan Red",
          r: 120,
          g: 42,
          b: 57
        },
        {
          pantoneId: 1749,
          name: "19-1940 TCX",
          majorColorName: "Pink",
          colorName: "Rumba Red",
          r: 124,
          g: 36,
          b: 57
        },
        {
          pantoneId: 1750,
          name: "19-1955 TCX",
          majorColorName: "Pink",
          colorName: "Cerise",
          r: 164,
          g: 18,
          b: 71
        },
        {
          pantoneId: 1751,
          name: "19-2009 TCX",
          majorColorName: "Pink",
          colorName: "Hortensia",
          r: 85,
          g: 59,
          b: 80
        },
        {
          pantoneId: 1752,
          name: "19-2014 TCX",
          majorColorName: "Pink",
          colorName: "Prune",
          r: 96,
          g: 55,
          b: 73
        },
        {
          pantoneId: 1753,
          name: "19-2024 TCX",
          majorColorName: "Pink",
          colorName: "Rhododendron",
          r: 114,
          g: 43,
          b: 63
        },
        {
          pantoneId: 1754,
          name: "19-2025 TCX",
          majorColorName: "Pink",
          colorName: "Red Plum",
          r: 124,
          g: 41,
          b: 70
        },
        {
          pantoneId: 1755,
          name: "19-2030 TCX",
          majorColorName: "Pink",
          colorName: "Beet Red",
          r: 122,
          g: 31,
          b: 61
        },
        {
          pantoneId: 1756,
          name: "19-2033 TCX",
          majorColorName: "Pink",
          colorName: "Anemone",
          r: 132,
          g: 44,
          b: 72
        },
        {
          pantoneId: 1757,
          name: "19-2047 TCX",
          majorColorName: "Pink",
          colorName: "Sangria",
          r: 152,
          g: 37,
          b: 81
        },
        {
          pantoneId: 1758,
          name: "19-2118 TCX",
          majorColorName: "Pink",
          colorName: "Winetasting",
          r: 73,
          g: 42,
          b: 52
        },
        {
          pantoneId: 1759,
          name: "19-2311 TCX",
          majorColorName: "Pink",
          colorName: "Eggplant",
          r: 97,
          g: 63,
          b: 76
        },
        {
          pantoneId: 1760,
          name: "19-2312 TCX",
          majorColorName: "Pink",
          colorName: "Crushed Violets",
          r: 100,
          g: 58,
          b: 76
        },
        {
          pantoneId: 1761,
          name: "19-2315 TCX",
          majorColorName: "Pink",
          colorName: "Grape Wine",
          r: 90,
          g: 47,
          b: 67
        },
        {
          pantoneId: 1762,
          name: "19-2410 TCX",
          majorColorName: "Pink",
          colorName: "Amaranth",
          r: 111,
          g: 60,
          b: 86
        },
        {
          pantoneId: 1763,
          name: "19-2428 TCX",
          majorColorName: "Pink",
          colorName: "Magenta Purple",
          r: 107,
          g: 38,
          b: 75
        },
        {
          pantoneId: 1764,
          name: "19-2430 TCX",
          majorColorName: "Pink",
          colorName: "Purple Potion",
          r: 105,
          g: 39,
          b: 70
        },
        {
          pantoneId: 1765,
          name: "19-2431 TCX",
          majorColorName: "Pink",
          colorName: "Boysenberry",
          r: 133,
          g: 50,
          b: 92
        },
        {
          pantoneId: 1766,
          name: "19-2432 TCX",
          majorColorName: "Pink",
          colorName: "Raspberry Radiance",
          r: 128,
          g: 42,
          b: 80
        },
        {
          pantoneId: 1767,
          name: "19-2434 TCX",
          majorColorName: "Pink",
          colorName: "Festival Fuchsia",
          r: 158,
          g: 44,
          b: 106
        },
        {
          pantoneId: 1768,
          name: "19-2514 TCX",
          majorColorName: "Pink",
          colorName: "Italian Plum",
          r: 83,
          g: 49,
          b: 70
        },
        {
          pantoneId: 1769,
          name: "19-2520 TCX",
          majorColorName: "Pink",
          colorName: "Potent Purple",
          r: 70,
          g: 38,
          b: 57
        },
        {
          pantoneId: 1770,
          name: "19-2524 TCX",
          majorColorName: "Pink",
          colorName: "Dark Purple",
          r: 88,
          g: 33,
          b: 71
        },
        {
          pantoneId: 1771,
          name: "19-2630 TCX",
          majorColorName: "Pink",
          colorName: "Wild Aster",
          r: 146,
          g: 49,
          b: 111
        },
        {
          pantoneId: 1772,
          name: "19-2814 TCX",
          majorColorName: "Light-Purple",
          colorName: "Wineberry",
          r: 90,
          g: 57,
          b: 91
        },
        {
          pantoneId: 1773,
          name: "19-2816 TCX",
          majorColorName: "Pink",
          colorName: "Blackberry Wine",
          r: 77,
          g: 50,
          b: 70
        },
        {
          pantoneId: 1774,
          name: "19-2820 TCX",
          majorColorName: "Pink",
          colorName: "Phlox",
          r: 105,
          g: 45,
          b: 93
        },
        {
          pantoneId: 1775,
          name: "19-2924 TCX",
          majorColorName: "Pink",
          colorName: "Hollyhock",
          r: 130,
          g: 50,
          b: 112
        },
        {
          pantoneId: 1776,
          name: "19-3022 TCX",
          majorColorName: "Purple",
          colorName: "Gloxinia",
          r: 98,
          g: 46,
          b: 90
        },
        {
          pantoneId: 1777,
          name: "19-3138 TCX",
          majorColorName: "Purple",
          colorName: "Byzantium",
          r: 133,
          g: 59,
          b: 123
        },
        {
          pantoneId: 1778,
          name: "19-3215 TCX",
          majorColorName: "Light-Purple",
          colorName: "Indigo",
          r: 76,
          g: 57,
          b: 87
        },
        {
          pantoneId: 1779,
          name: "19-3217 TCX",
          majorColorName: "Light-Purple",
          colorName: "Shadow Purple",
          r: 78,
          g: 51,
          b: 78
        },
        {
          pantoneId: 1780,
          name: "19-3218 TCX",
          majorColorName: "Light-Purple",
          colorName: "Plum Purple",
          r: 81,
          g: 48,
          b: 78
        },
        {
          pantoneId: 1781,
          name: "19-3220 TCX",
          majorColorName: "Light-Purple",
          colorName: "Plum",
          r: 90,
          g: 49,
          b: 93
        },
        {
          pantoneId: 1782,
          name: "19-3223 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Passion",
          r: 104,
          g: 61,
          b: 98
        },
        {
          pantoneId: 1783,
          name: "19-3230 TCX",
          majorColorName: "Purple",
          colorName: "Grape Juice",
          r: 104,
          g: 41,
          b: 97
        },
        {
          pantoneId: 1784,
          name: "19-3316 TCX",
          majorColorName: "Pink",
          colorName: "Plum Perfect",
          r: 71,
          g: 52,
          b: 66
        },
        {
          pantoneId: 1785,
          name: "19-3323 TCX",
          majorColorName: "Light-Purple",
          colorName: "Deep Purple",
          r: 80,
          g: 49,
          b: 76
        },
        {
          pantoneId: 1786,
          name: "19-3325 TCX",
          majorColorName: "Pink",
          colorName: "Wood Violet",
          r: 117,
          g: 64,
          b: 106
        },
        {
          pantoneId: 1787,
          name: "19-3336 TCX",
          majorColorName: "Purple",
          colorName: "Sparkling Grape",
          r: 119,
          g: 51,
          b: 118
        },
        {
          pantoneId: 1788,
          name: "19-3424 TCX",
          majorColorName: "Light-Purple",
          colorName: "Sunset Purple",
          r: 111,
          g: 69,
          b: 110
        },
        {
          pantoneId: 1789,
          name: "19-3438 TCX",
          majorColorName: "Light-Purple",
          colorName: "Bright Violet",
          r: 120,
          g: 67,
          b: 132
        },
        {
          pantoneId: 1790,
          name: "19-3514 TCX",
          majorColorName: "Light-Purple",
          colorName: "Majesty",
          r: 89,
          g: 55,
          b: 97
        },
        {
          pantoneId: 1791,
          name: "19-3518 TCX",
          majorColorName: "Light-Purple",
          colorName: "Grape Royale",
          r: 79,
          g: 45,
          b: 84
        },
        {
          pantoneId: 1792,
          name: "19-3519 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Pennant",
          r: 67,
          g: 44,
          b: 71
        },
        {
          pantoneId: 1793,
          name: "19-3520 TCX",
          majorColorName: "Light-Purple",
          colorName: "Blackberry Cordial",
          r: 63,
          g: 42,
          b: 71
        },
        {
          pantoneId: 1794,
          name: "19-3526 TCX",
          majorColorName: "Light-Purple",
          colorName: "Meadow Violet",
          r: 118,
          g: 79,
          b: 130
        },
        {
          pantoneId: 1795,
          name: "19-3528 TCX",
          majorColorName: "Purple",
          colorName: "Imperial Purple",
          r: 84,
          g: 44,
          b: 93
        },
        {
          pantoneId: 1796,
          name: "19-3536 TCX",
          majorColorName: "Purple",
          colorName: "Amaranth Purple",
          r: 106,
          g: 57,
          b: 123
        },
        {
          pantoneId: 1797,
          name: "19-3540 TCX",
          majorColorName: "Purple",
          colorName: "Purple Magic",
          r: 102,
          g: 50,
          b: 113
        },
        {
          pantoneId: 1798,
          name: "19-3542 TCX",
          majorColorName: "Purple",
          colorName: "Pansy",
          r: 101,
          g: 61,
          b: 124
        },
        {
          pantoneId: 1799,
          name: "19-3617 TCX",
          majorColorName: "Light-Purple",
          colorName: "Mysterioso",
          r: 70,
          g: 57,
          b: 75
        },
        {
          pantoneId: 1800,
          name: "19-3619 TCX",
          majorColorName: "Light-Purple",
          colorName: "Sweet Grape",
          r: 75,
          g: 59,
          b: 79
        },
        {
          pantoneId: 1801,
          name: "19-3620 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Reign",
          r: 86,
          g: 69,
          b: 107
        },
        {
          pantoneId: 1802,
          name: "19-3622 TCX",
          majorColorName: "Light-Purple",
          colorName: "Loganberry",
          r: 90,
          g: 71,
          b: 105
        },
        {
          pantoneId: 1803,
          name: "19-3632 TCX",
          majorColorName: "Light-Purple",
          colorName: "Petunia",
          r: 79,
          g: 52,
          b: 102
        },
        {
          pantoneId: 1804,
          name: "19-3640 TCX",
          majorColorName: "Light-Purple",
          colorName: "Crown Jewel",
          r: 72,
          g: 45,
          b: 84
        },
        {
          pantoneId: 1805,
          name: "19-3642 TCX",
          majorColorName: "Purple",
          colorName: "Royal Purple",
          r: 96,
          g: 63,
          b: 131
        },
        {
          pantoneId: 1806,
          name: "19-3712 TCX",
          majorColorName: "Light-Purple",
          colorName: "Nightshade",
          r: 67,
          g: 55,
          b: 72
        },
        {
          pantoneId: 1807,
          name: "19-3714 TCX",
          majorColorName: "Light-Purple",
          colorName: "Navy Cosmos",
          r: 80,
          g: 59,
          b: 83
        },
        {
          pantoneId: 1808,
          name: "19-3716 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Plumeria",
          r: 71,
          g: 56,
          b: 84
        },
        {
          pantoneId: 1809,
          name: "19-3720 TCX",
          majorColorName: "Light-Purple",
          colorName: "Gothic Grape",
          r: 71,
          g: 57,
          b: 81
        },
        {
          pantoneId: 1810,
          name: "19-3722 TCX",
          majorColorName: "Light-Purple",
          colorName: "Mulberry Purple",
          r: 73,
          g: 60,
          b: 98
        },
        {
          pantoneId: 1811,
          name: "19-3725 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Velvet",
          r: 65,
          g: 53,
          b: 77
        },
        {
          pantoneId: 1812,
          name: "19-3728 TCX",
          majorColorName: "Light-Purple",
          colorName: "Grape",
          r: 67,
          g: 52,
          b: 85
        },
        {
          pantoneId: 1813,
          name: "19-3730 TCX",
          majorColorName: "Light-Purple",
          colorName: "Gentian Violet",
          r: 84,
          g: 66,
          b: 117
        },
        {
          pantoneId: 1814,
          name: "19-3731 TCX",
          majorColorName: "Purple",
          colorName: "Parachute Purple",
          r: 57,
          g: 40,
          b: 82
        },
        {
          pantoneId: 1815,
          name: "19-3737 TCX",
          majorColorName: "Purple",
          colorName: "Heliotrope",
          r: 79,
          g: 56,
          b: 114
        },
        {
          pantoneId: 1816,
          name: "19-3748 TCX",
          majorColorName: "Purple",
          colorName: "Prism Violet",
          r: 83,
          g: 61,
          b: 125
        },
        {
          pantoneId: 1817,
          name: "19-3803 TCX",
          majorColorName: "Gray",
          colorName: "Plum Kitten",
          r: 98,
          g: 91,
          b: 92
        },
        {
          pantoneId: 1818,
          name: "19-3810 TCX",
          majorColorName: "Blue",
          colorName: "Eclipse",
          r: 52,
          g: 49,
          b: 72
        },
        {
          pantoneId: 1819,
          name: "19-3830 TCX",
          majorColorName: "Blue",
          colorName: "Astral Aura",
          r: 54,
          g: 49,
          b: 81
        },
        {
          pantoneId: 1820,
          name: "19-3832 TCX",
          majorColorName: "Blue",
          colorName: "Navy Blue",
          r: 64,
          g: 63,
          b: 111
        },
        {
          pantoneId: 1821,
          name: "19-3839 TCX",
          majorColorName: "Blue",
          colorName: "Blue Ribbon",
          r: 58,
          g: 57,
          b: 95
        },
        {
          pantoneId: 1822,
          name: "19-3842 TCX",
          majorColorName: "Blue",
          colorName: "Deep Wisteria",
          r: 68,
          g: 63,
          b: 111
        },
        {
          pantoneId: 1823,
          name: "19-3847 TCX",
          majorColorName: "Blue",
          colorName: "Deep Blue",
          r: 68,
          g: 55,
          b: 125
        },
        {
          pantoneId: 1824,
          name: "19-3850 TCX",
          majorColorName: "Blue",
          colorName: "Liberty",
          r: 77,
          g: 68,
          b: 138
        },
        {
          pantoneId: 1825,
          name: "19-3864 TCX",
          majorColorName: "Blue",
          colorName: "Mazarine Blue",
          r: 39,
          g: 60,
          b: 118
        },
        {
          pantoneId: 1826,
          name: "19-3903 TCX",
          majorColorName: "Gray",
          colorName: "Shale",
          r: 74,
          g: 63,
          b: 65
        },
        {
          pantoneId: 1827,
          name: "19-3905 TCX",
          majorColorName: "Gray",
          colorName: "Rabbit",
          r: 95,
          g: 87,
          b: 92
        },
        {
          pantoneId: 1828,
          name: "19-3906 TCX",
          majorColorName: "Gray",
          colorName: "Dark Shadow",
          r: 74,
          g: 75,
          b: 77
        },
        {
          pantoneId: 1829,
          name: "19-3908 TCX",
          majorColorName: "Gray",
          colorName: "Nine Iron",
          r: 70,
          g: 67,
          b: 74
        },
        {
          pantoneId: 1830,
          name: "19-3915 TCX",
          majorColorName: "Blue",
          colorName: "Graystone",
          r: 77,
          g: 73,
          b: 91
        },
        {
          pantoneId: 1831,
          name: "19-3919 TCX",
          majorColorName: "Blue",
          colorName: "Nightshadow Blue",
          r: 78,
          g: 83,
          b: 104
        },
        {
          pantoneId: 1832,
          name: "19-3920 TCX",
          majorColorName: "Blue",
          colorName: "Peacoat",
          r: 43,
          g: 46,
          b: 67
        },
        {
          pantoneId: 1833,
          name: "19-3921 TCX",
          majorColorName: "Blue",
          colorName: "Black Iris",
          r: 43,
          g: 48,
          b: 66
        },
        {
          pantoneId: 1834,
          name: "19-3925 TCX",
          majorColorName: "Blue",
          colorName: "Patriot Blue",
          r: 54,
          g: 55,
          b: 86
        },
        {
          pantoneId: 1835,
          name: "19-3926 TCX",
          majorColorName: "Blue",
          colorName: "Crown Blue",
          r: 70,
          g: 75,
          b: 101
        },
        {
          pantoneId: 1836,
          name: "19-3928 TCX",
          majorColorName: "Blue",
          colorName: "Blue Indigo",
          r: 73,
          g: 81,
          b: 109
        },
        {
          pantoneId: 1837,
          name: "19-3933 TCX",
          majorColorName: "Blue",
          colorName: "Medieval Blue",
          r: 41,
          g: 48,
          b: 78
        },
        {
          pantoneId: 1838,
          name: "19-3935 TCX",
          majorColorName: "Blue",
          colorName: "Deep Cobalt",
          r: 64,
          g: 68,
          b: 102
        },
        {
          pantoneId: 1839,
          name: "19-3936 TCX",
          majorColorName: "Blue",
          colorName: "Skipper Blue",
          r: 72,
          g: 74,
          b: 114
        },
        {
          pantoneId: 1840,
          name: "19-3938 TCX",
          majorColorName: "Blue",
          colorName: "Twilight Blue",
          r: 49,
          g: 61,
          b: 100
        },
        {
          pantoneId: 1841,
          name: "19-3939 TCX",
          majorColorName: "Blue",
          colorName: "Blueprint",
          r: 45,
          g: 51,
          b: 89
        },
        {
          pantoneId: 1842,
          name: "19-3940 TCX",
          majorColorName: "Blue",
          colorName: "Blue Depths",
          r: 38,
          g: 48,
          b: 86
        },
        {
          pantoneId: 1843,
          name: "19-3947 TCX",
          majorColorName: "Blue",
          colorName: "Orient Blue",
          r: 71,
          g: 69,
          b: 122
        },
        {
          pantoneId: 1844,
          name: "19-3950 TCX",
          majorColorName: "Blue",
          colorName: "Deep Ultramarine",
          r: 56,
          g: 72,
          b: 131
        },
        {
          pantoneId: 1845,
          name: "19-3951 TCX",
          majorColorName: "Blue",
          colorName: "Clematis Blue",
          r: 54,
          g: 59,
          b: 124
        },
        {
          pantoneId: 1846,
          name: "19-3952 TCX",
          majorColorName: "Blue",
          colorName: "Surf the Web",
          r: 32,
          g: 60,
          b: 127
        },
        {
          pantoneId: 1847,
          name: "19-3955 TCX",
          majorColorName: "Blue",
          colorName: "Royal Blue",
          r: 61,
          g: 66,
          b: 139
        },
        {
          pantoneId: 1848,
          name: "19-4005 TCX",
          majorColorName: "Gray",
          colorName: "Stretch Limo",
          r: 43,
          g: 44,
          b: 48
        },
        {
          pantoneId: 1849,
          name: "19-4006 TCX",
          majorColorName: "Gray",
          colorName: "Caviar",
          r: 41,
          g: 42,
          b: 45
        },
        {
          pantoneId: 1850,
          name: "19-4007 TCX",
          majorColorName: "Gray",
          colorName: "Anthracite",
          r: 40,
          g: 40,
          b: 45
        },
        {
          pantoneId: 1851,
          name: "19-4010 TCX",
          majorColorName: "Blue",
          colorName: "Total Eclipse",
          r: 44,
          g: 49,
          b: 61
        },
        {
          pantoneId: 1852,
          name: "19-4013 TCX",
          majorColorName: "Gray",
          colorName: "Dark Navy",
          r: 46,
          g: 47,
          b: 54
        },
        {
          pantoneId: 1853,
          name: "19-4014 TCX",
          majorColorName: "Blue",
          colorName: "Ombre Blue",
          r: 67,
          g: 72,
          b: 84
        },
        {
          pantoneId: 1854,
          name: "19-4015 TCX",
          majorColorName: "Gray",
          colorName: "Blue Graphite",
          r: 50,
          g: 49,
          b: 55
        },
        {
          pantoneId: 1855,
          name: "19-4019 TCX",
          majorColorName: "Blue",
          colorName: "India Ink",
          r: 60,
          g: 63,
          b: 74
        },
        {
          pantoneId: 1856,
          name: "19-4023 TCX",
          majorColorName: "Blue",
          colorName: "Blue Nights",
          r: 54,
          g: 59,
          b: 72
        },
        {
          pantoneId: 1857,
          name: "19-4024 TCX",
          majorColorName: "Blue",
          colorName: "Dress Blues",
          r: 42,
          g: 50,
          b: 68
        },
        {
          pantoneId: 1858,
          name: "19-4025 TCX",
          majorColorName: "Blue",
          colorName: "Mood Indigo",
          r: 53,
          g: 58,
          b: 76
        },
        {
          pantoneId: 1859,
          name: "19-4026 TCX",
          majorColorName: "Blue",
          colorName: "Ensign Blue",
          r: 56,
          g: 76,
          b: 103
        },
        {
          pantoneId: 1860,
          name: "19-4027 TCX",
          majorColorName: "Blue",
          colorName: "Estate Blue",
          r: 35,
          g: 54,
          b: 88
        },
        {
          pantoneId: 1861,
          name: "19-4028 TCX",
          majorColorName: "Blue",
          colorName: "Insignia Blue",
          r: 47,
          g: 62,
          b: 85
        },
        {
          pantoneId: 1862,
          name: "19-4030 TCX",
          majorColorName: "Blue",
          colorName: "True Navy",
          r: 63,
          g: 82,
          b: 119
        },
        {
          pantoneId: 1863,
          name: "19-4035 TCX",
          majorColorName: "Blue",
          colorName: "Dark Blue",
          r: 48,
          g: 86,
          b: 121
        },
        {
          pantoneId: 1864,
          name: "19-4037 TCX",
          majorColorName: "Blue",
          colorName: "Bright Cobalt",
          r: 56,
          g: 93,
          b: 141
        },
        {
          pantoneId: 1865,
          name: "19-4039 TCX",
          majorColorName: "Blue",
          colorName: "Delft",
          r: 61,
          g: 94,
          b: 140
        },
        {
          pantoneId: 1866,
          name: "19-4044 TCX",
          majorColorName: "Blue",
          colorName: "Limoges",
          r: 36,
          g: 63,
          b: 108
        },
        {
          pantoneId: 1867,
          name: "19-4049 TCX",
          majorColorName: "Blue",
          colorName: "Snorkel Blue",
          r: 3,
          g: 79,
          b: 132
        },
        {
          pantoneId: 1868,
          name: "19-4050 TCX",
          majorColorName: "Blue",
          colorName: "Nautical Blue",
          r: 26,
          g: 80,
          b: 145
        },
        {
          pantoneId: 1869,
          name: "19-4052 TCX",
          majorColorName: "Blue",
          colorName: "Classic Blue",
          r: 15,
          g: 76,
          b: 129
        },
        {
          pantoneId: 1870,
          name: "19-4053 TCX",
          majorColorName: "Blue",
          colorName: "Turkish Sea",
          r: 25,
          g: 81,
          b: 144
        },
        {
          pantoneId: 1871,
          name: "19-4056 TCX",
          majorColorName: "Blue",
          colorName: "Blue Iolite",
          r: 26,
          g: 76,
          b: 139
        },
        {
          pantoneId: 1872,
          name: "19-4057 TCX",
          majorColorName: "Blue",
          colorName: "True Blue",
          r: 30,
          g: 68,
          b: 119
        },
        {
          pantoneId: 1873,
          name: "19-4104 TCX",
          majorColorName: "Gray",
          colorName: "Ebony",
          r: 65,
          g: 66,
          b: 74
        },
        {
          pantoneId: 1874,
          name: "19-4110 TCX",
          majorColorName: "Blue",
          colorName: "Midnight Navy",
          r: 52,
          g: 65,
          b: 78
        },
        {
          pantoneId: 1875,
          name: "19-4118 TCX",
          majorColorName: "Blue",
          colorName: "Dark Denim",
          r: 53,
          g: 70,
          b: 94
        },
        {
          pantoneId: 1876,
          name: "19-4125 TCX",
          majorColorName: "Blue",
          colorName: "Majolica Blue",
          r: 39,
          g: 67,
          b: 87
        },
        {
          pantoneId: 1877,
          name: "19-4127 TCX",
          majorColorName: "Blue",
          colorName: "Midnight",
          r: 50,
          g: 91,
          b: 116
        },
        {
          pantoneId: 1878,
          name: "19-4150 TCX",
          majorColorName: "Blue",
          colorName: "Princess Blue",
          r: 0,
          g: 83,
          b: 156
        },
        {
          pantoneId: 1879,
          name: "19-4151 TCX",
          majorColorName: "Blue",
          colorName: "Skydiver",
          r: 0,
          g: 88,
          b: 155
        },
        {
          pantoneId: 1880,
          name: "19-4203 TCX",
          majorColorName: "Gray",
          colorName: "Moonless Night",
          r: 47,
          g: 45,
          b: 48
        },
        {
          pantoneId: 1881,
          name: "19-4205 TCX",
          majorColorName: "Gray",
          colorName: "Phantom",
          r: 57,
          g: 55,
          b: 59
        },
        {
          pantoneId: 1882,
          name: "19-4220 TCX",
          majorColorName: "Blue",
          colorName: "Dark Slate",
          r: 70,
          g: 81,
          b: 90
        },
        {
          pantoneId: 1883,
          name: "19-4227 TCX",
          majorColorName: "Blue",
          colorName: "Indian Teal",
          r: 60,
          g: 88,
          b: 107
        },
        {
          pantoneId: 1884,
          name: "19-4229 TCX",
          majorColorName: "Blue",
          colorName: "Orion Blue",
          r: 62,
          g: 79,
          b: 92
        },
        {
          pantoneId: 1885,
          name: "19-4234 TCX",
          majorColorName: "Blue",
          colorName: "Ink Blue",
          r: 11,
          g: 83,
          b: 105
        },
        {
          pantoneId: 1886,
          name: "19-4241 TCX",
          majorColorName: "Blue",
          colorName: "Moroccan Blue",
          r: 15,
          g: 78,
          b: 103
        },
        {
          pantoneId: 1887,
          name: "19-4245 TCX",
          majorColorName: "Blue",
          colorName: "Imperial Blue",
          r: 0,
          g: 90,
          b: 146
        },
        {
          pantoneId: 1888,
          name: "19-4305 TCX",
          majorColorName: "Gray",
          colorName: "Pirate Black",
          r: 54,
          g: 56,
          b: 56
        },
        {
          pantoneId: 1889,
          name: "19-4316 TCX",
          majorColorName: "Blue",
          colorName: "Stargazer",
          r: 57,
          g: 80,
          b: 92
        },
        {
          pantoneId: 1890,
          name: "19-4318 TCX",
          majorColorName: "Blue",
          colorName: "Mallard Blue",
          r: 58,
          g: 92,
          b: 110
        },
        {
          pantoneId: 1891,
          name: "19-4324 TCX",
          majorColorName: "Blue",
          colorName: "Legion Blue",
          r: 31,
          g: 73,
          b: 91
        },
        {
          pantoneId: 1892,
          name: "19-4329 TCX",
          majorColorName: "Blue",
          colorName: "Corsair",
          r: 24,
          g: 87,
          b: 108
        },
        {
          pantoneId: 1893,
          name: "19-4340 TCX",
          majorColorName: "Blue",
          colorName: "Lyons Blue",
          r: 0,
          g: 88,
          b: 113
        },
        {
          pantoneId: 1894,
          name: "19-4342 TCX",
          majorColorName: "Blue",
          colorName: "Seaport",
          r: 0,
          g: 94,
          b: 125
        },
        {
          pantoneId: 1895,
          name: "19-4517 TCX",
          majorColorName: "Blue",
          colorName: "Mediterranea",
          r: 50,
          g: 87,
          b: 93
        },
        {
          pantoneId: 1896,
          name: "19-4524 TCX",
          majorColorName: "Blue",
          colorName: "Shaded Spruce",
          r: 0,
          g: 88,
          b: 94
        },
        {
          pantoneId: 1897,
          name: "19-4526 TCX",
          majorColorName: "Blue",
          colorName: "Blue Coral",
          r: 27,
          g: 83,
          b: 102
        },
        {
          pantoneId: 1898,
          name: "19-4535 TCX",
          majorColorName: "Blue",
          colorName: "Ocean Depths",
          r: 0,
          g: 97,
          b: 117
        },
        {
          pantoneId: 1899,
          name: "19-4726 TCX",
          majorColorName: "Blue",
          colorName: "Atlantic Deep",
          r: 39,
          g: 78,
          b: 85
        },
        {
          pantoneId: 1900,
          name: "19-4818 TCX",
          majorColorName: "Blue-Green",
          colorName: "Mallard Green",
          r: 64,
          g: 94,
          b: 92
        },
        {
          pantoneId: 1901,
          name: "19-4820 TCX",
          majorColorName: "Blue",
          colorName: "Balsam",
          r: 51,
          g: 86,
          b: 94
        },
        {
          pantoneId: 1902,
          name: "19-4826 TCX",
          majorColorName: "Blue",
          colorName: "Dragonfly",
          r: 42,
          g: 92,
          b: 106
        },
        {
          pantoneId: 1903,
          name: "19-4906 TCX",
          majorColorName: "Blue-Green",
          colorName: "Green Gables",
          r: 50,
          g: 66,
          b: 65
        },
        {
          pantoneId: 1904,
          name: "19-4914 TCX",
          majorColorName: "Blue",
          colorName: "Deep Teal",
          r: 24,
          g: 69,
          b: 75
        },
        {
          pantoneId: 1905,
          name: "19-4916 TCX",
          majorColorName: "Blue",
          colorName: "Pacific",
          r: 31,
          g: 89,
          b: 92
        },
        {
          pantoneId: 1906,
          name: "19-4922 TCX",
          majorColorName: "Blue-Green",
          colorName: "Teal Green",
          r: 0,
          g: 99,
          b: 97
        },
        {
          pantoneId: 1907,
          name: "19-5004 TCX",
          majorColorName: "Gray",
          colorName: "Urban Chic",
          r: 70,
          g: 78,
          b: 77
        },
        {
          pantoneId: 1908,
          name: "19-5212 TCX",
          majorColorName: "Blue-Green",
          colorName: "Darkest Spruce",
          r: 48,
          g: 61,
          b: 60
        },
        {
          pantoneId: 1909,
          name: "19-5217 TCX",
          majorColorName: "Blue-Green",
          colorName: "Storm",
          r: 3,
          g: 84,
          b: 83
        },
        {
          pantoneId: 1910,
          name: "19-5226 TCX",
          majorColorName: "Blue",
          colorName: "Everglade",
          r: 0,
          g: 91,
          b: 93
        },
        {
          pantoneId: 1911,
          name: "19-5320 TCX",
          majorColorName: "Blue",
          colorName: "Ponderosa Pine",
          r: 32,
          g: 59,
          b: 61
        },
        {
          pantoneId: 1912,
          name: "19-5408 TCX",
          majorColorName: "Blue-Green",
          colorName: "Bistro Green",
          r: 57,
          g: 85,
          b: 81
        },
        {
          pantoneId: 1913,
          name: "19-5411 TCX",
          majorColorName: "Blue-Green",
          colorName: "Trekking Green",
          r: 53,
          g: 80,
          b: 72
        },
        {
          pantoneId: 1914,
          name: "19-5413 TCX",
          majorColorName: "Blue-green",
          colorName: "Jasper",
          r: 51,
          g: 89,
          b: 89
        },
        {
          pantoneId: 1915,
          name: "19-5414 TCX",
          majorColorName: "Blue-Green",
          colorName: "June Bug",
          r: 38,
          g: 74,
          b: 72
        },
        {
          pantoneId: 1916,
          name: "19-5420 TCX",
          majorColorName: "Blue-Green",
          colorName: "Evergreen",
          r: 17,
          g: 87,
          b: 74
        },
        {
          pantoneId: 1917,
          name: "19-5511 TCX",
          majorColorName: "Blue-Green",
          colorName: "Hunter Green",
          r: 51,
          g: 87,
          b: 73
        },
        {
          pantoneId: 1918,
          name: "19-5513 TCX",
          majorColorName: "Green",
          colorName: "Dark Green",
          r: 49,
          g: 79,
          b: 64
        },
        {
          pantoneId: 1919,
          name: "19-5708 TCX",
          majorColorName: "Gray",
          colorName: "Jet Set",
          r: 38,
          g: 44,
          b: 42
        },
        {
          pantoneId: 1920,
          name: "19-5914 TCX",
          majorColorName: "Blue-Green",
          colorName: "Jungle Green",
          r: 60,
          g: 78,
          b: 71
        },
        {
          pantoneId: 1921,
          name: "19-5917 TCX",
          majorColorName: "Green",
          colorName: "Sycamore",
          r: 53,
          g: 70,
          b: 61
        },
        {
          pantoneId: 1922,
          name: "19-5920 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pineneedle",
          r: 51,
          g: 77,
          b: 65
        },
        {
          pantoneId: 1923,
          name: "19-6026 TCX",
          majorColorName: "Blue-Green",
          colorName: "Verdant Green",
          r: 18,
          g: 103,
          b: 74
        },
        {
          pantoneId: 1924,
          name: "19-6110 TCX",
          majorColorName: "Green",
          colorName: "Deep Forest",
          r: 55,
          g: 65,
          b: 58
        },
        {
          pantoneId: 1925,
          name: "19-6311 TCX",
          majorColorName: "Green",
          colorName: "Greener Pastures",
          r: 55,
          g: 80,
          b: 61
        },
        {
          pantoneId: 1926,
          name: "19-3911 TCX",
          majorColorName: "Gray",
          colorName: "Black Beauty",
          r: 38,
          g: 38,
          b: 42
        },
        {
          pantoneId: 1927,
          name: "19-4008 TCX",
          majorColorName: "Gray",
          colorName: "Meteorite",
          r: 43,
          g: 41,
          b: 41
        },
        {
          pantoneId: 1928,
          name: "19-4003 TCX",
          majorColorName: "Gray",
          colorName: "Black Onyx",
          r: 43,
          g: 39,
          b: 43
        },
        {
          pantoneId: 1929,
          name: "18-0523 TCX",
          majorColorName: "Yellow",
          colorName: "Winter Moss",
          r: 91,
          g: 90,
          b: 65
        },
        {
          pantoneId: 1930,
          name: "18-3950 TCX",
          majorColorName: "Gray",
          colorName: "Iris Bloom",
          r: 91,
          g: 96,
          b: 158
        },
        {
          pantoneId: 1931,
          name: "18-4214 TCX",
          majorColorName: "Blue",
          colorName: "Stormy Weather",
          r: 88,
          g: 100,
          b: 109
        },
        {
          pantoneId: 1932,
          name: "18-0107 TCX",
          majorColorName: "Green",
          colorName: "Kale",
          r: 90,
          g: 114,
          b: 71
        },
        {
          pantoneId: 1933,
          name: "17-4029 TCX",
          majorColorName: "Blue",
          colorName: "Quiet Harbor",
          r: 90,
          g: 120,
          b: 154
        },
        {
          pantoneId: 1934,
          name: "17-4032 TCX",
          majorColorName: "Blue",
          colorName: "Lichen Blue",
          r: 93,
          g: 137,
          b: 179
        },
        {
          pantoneId: 1935,
          name: "15-4714 TCX",
          majorColorName: "Blue",
          colorName: "Aquarelle",
          r: 97,
          g: 170,
          b: 177
        },
        {
          pantoneId: 1936,
          name: "15-4428 TCX",
          majorColorName: "Blue",
          colorName: "Crystal Seas",
          r: 93,
          g: 175,
          b: 206
        },
        {
          pantoneId: 1937,
          name: "19-1535 TCX",
          majorColorName: "Pink",
          colorName: "Syrah",
          r: 106,
          g: 40,
          b: 44
        },
        {
          pantoneId: 1938,
          name: "19-1930 TCX",
          majorColorName: "Pink",
          colorName: "Pomegranate",
          r: 108,
          g: 40,
          b: 49
        },
        {
          pantoneId: 1939,
          name: "19-1337 TCX",
          majorColorName: "Pink",
          colorName: "Fired Brick",
          r: 106,
          g: 46,
          b: 42
        },
        {
          pantoneId: 1940,
          name: "18-3340 TCX",
          majorColorName: "Purple",
          colorName: "Charisma",
          r: 99,
          g: 42,
          b: 96
        },
        {
          pantoneId: 1941,
          name: "19-1234 TCX",
          majorColorName: "Brown",
          colorName: "Rocky Road",
          r: 90,
          g: 62,
          b: 54
        },
        {
          pantoneId: 1942,
          name: "19-1214 TCX",
          majorColorName: "Pink",
          colorName: "Chocolate Lab",
          r: 92,
          g: 62,
          b: 53
        },
        {
          pantoneId: 1943,
          name: "18-3521 TCX",
          majorColorName: "Light-Purple",
          colorName: "Plum Jam",
          r: 98,
          g: 64,
          b: 118
        },
        {
          pantoneId: 1944,
          name: "19-1224 TCX",
          majorColorName: "Brown",
          colorName: "Fondue Fudge",
          r: 93,
          g: 66,
          b: 54
        },
        {
          pantoneId: 1945,
          name: "18-3635 TCX",
          majorColorName: "Light-Purple",
          colorName: "Picasso Lily",
          r: 99,
          g: 72,
          b: 120
        },
        {
          pantoneId: 1946,
          name: "18-3620 TCX",
          majorColorName: "Light-Purple",
          colorName: "Mystical",
          r: 95,
          g: 78,
          b: 114
        },
        {
          pantoneId: 1947,
          name: "19-0403 TCX",
          majorColorName: "Gray",
          colorName: "Sea Turtle",
          r: 94,
          g: 87,
          b: 73
        },
        {
          pantoneId: 1948,
          name: "18-5210 TCX",
          majorColorName: "Gray",
          colorName: "Eiffel Tower",
          r: 92,
          g: 86,
          b: 88
        },
        {
          pantoneId: 1949,
          name: "18-3907 TCX",
          majorColorName: "Gray",
          colorName: "Tornado",
          r: 94,
          g: 91,
          b: 96
        },
        {
          pantoneId: 1950,
          name: "18-3912 TCX",
          majorColorName: "Blue",
          colorName: "Grisaille",
          r: 88,
          g: 94,
          b: 111
        },
        {
          pantoneId: 1951,
          name: "18-0220 TCX",
          majorColorName: "Green",
          colorName: "Mayfly",
          r: 101,
          g: 102,
          b: 63
        },
        {
          pantoneId: 1952,
          name: "19-1435 TCX",
          majorColorName: "Brown",
          colorName: "Cherry Mahogany",
          r: 102,
          g: 53,
          b: 43
        },
        {
          pantoneId: 1953,
          name: "19-1531 TCX",
          majorColorName: "Pink",
          colorName: "Sun-Dried Tomato",
          r: 117,
          g: 35,
          b: 41
        },
        {
          pantoneId: 1954,
          name: "19-1534 TCX",
          majorColorName: "Pink",
          colorName: "Merlot",
          r: 114,
          g: 38,
          b: 44
        },
        {
          pantoneId: 1955,
          name: "19-1555 TCX",
          majorColorName: "Pink",
          colorName: "Red Dahlia",
          r: 125,
          g: 32,
          b: 39
        },
        {
          pantoneId: 1956,
          name: "19-1652 TCX",
          majorColorName: "Pink",
          colorName: "Rhubarb",
          r: 119,
          g: 32,
          b: 47
        },
        {
          pantoneId: 1957,
          name: "18-3540 TCX",
          majorColorName: "Light-Purple",
          colorName: "Purple Sapphire",
          r: 111,
          g: 70,
          b: 133
        },
        {
          pantoneId: 1958,
          name: "19-1233 TCX",
          majorColorName: "Brown",
          colorName: "Tiramisu",
          r: 99,
          g: 66,
          b: 53
        },
        {
          pantoneId: 1959,
          name: "18-1028 TCX",
          majorColorName: "Brown",
          colorName: "Emperador",
          r: 104,
          g: 72,
          b: 50
        },
        {
          pantoneId: 1960,
          name: "19-0916 TCX",
          majorColorName: "Brown",
          colorName: "Rain Drum",
          r: 95,
          g: 76,
          b: 64
        },
        {
          pantoneId: 1961,
          name: "19-0823 TCX",
          majorColorName: "Brown",
          colorName: "Crocodile",
          r: 93,
          g: 83,
          b: 72
        },
        {
          pantoneId: 1962,
          name: "19-0510 TCX",
          majorColorName: "Yellow",
          colorName: "Kalamata",
          r: 95,
          g: 91,
          b: 76
        },
        {
          pantoneId: 1963,
          name: "18-3908 TCX",
          majorColorName: "Gray",
          colorName: "Volcanic Glass",
          r: 97,
          g: 92,
          b: 96
        },
        {
          pantoneId: 1964,
          name: "18-5204 TCX",
          majorColorName: "Gray",
          colorName: "Granite Gray",
          r: 97,
          g: 94,
          b: 95
        },
        {
          pantoneId: 1965,
          name: "18-4006 TCX",
          majorColorName: "Gray",
          colorName: "Quiet Shade",
          r: 102,
          g: 103,
          b: 109
        },
        {
          pantoneId: 1966,
          name: "17-3940 TCX",
          majorColorName: "Gray",
          colorName: "Iolite",
          r: 112,
          g: 123,
          b: 180
        },
        {
          pantoneId: 1967,
          name: "14-4310 TCX",
          majorColorName: "Blue",
          colorName: "Blue Topaz",
          r: 120,
          g: 189,
          b: 212
        },
        {
          pantoneId: 1968,
          name: "13-4720 TCX",
          majorColorName: "White",
          colorName: "Tanager Turquoise",
          r: 145,
          g: 220,
          b: 232
        },
        {
          pantoneId: 1969,
          name: "14-4620 TCX",
          majorColorName: "Blue",
          colorName: "Island Paradise",
          r: 149,
          g: 222,
          b: 227
        },
        {
          pantoneId: 1970,
          name: "19-1429 TCX",
          majorColorName: "Pink",
          colorName: "Smoked Paprika",
          r: 110,
          g: 54,
          b: 44
        },
        {
          pantoneId: 1971,
          name: "18-1541 TCX",
          majorColorName: "Pink",
          colorName: "Brandy Brown",
          r: 115,
          g: 54,
          b: 42
        },
        {
          pantoneId: 1972,
          name: "19-3425 TCX",
          majorColorName: "Light-Purple",
          colorName: "Spiced Plum",
          r: 109,
          g: 71,
          b: 115
        },
        {
          pantoneId: 1973,
          name: "18-1506 TCX",
          majorColorName: "Pink",
          colorName: "Plum Truffle",
          r: 103,
          g: 86,
          b: 87
        },
        {
          pantoneId: 1974,
          name: "18-1708 TCX",
          majorColorName: "Gray",
          colorName: "Ephemera",
          r: 111,
          g: 89,
          b: 101
        },
        {
          pantoneId: 1975,
          name: "19-0808 TCX",
          majorColorName: "Brown",
          colorName: "Morel",
          r: 104,
          g: 92,
          b: 83
        },
        {
          pantoneId: 1976,
          name: "18-1705 TCX",
          majorColorName: "Gray",
          colorName: "Arctic Dusk",
          r: 115,
          g: 91,
          b: 106
        },
        {
          pantoneId: 1977,
          name: "18-1304 TCX",
          majorColorName: "Brown",
          colorName: "Falcon",
          r: 109,
          g: 98,
          b: 91
        },
        {
          pantoneId: 1978,
          name: "18-0625 TCX",
          majorColorName: "Yellow",
          colorName: "Martini Olive",
          r: 113,
          g: 106,
          b: 77
        },
        {
          pantoneId: 1979,
          name: "18-5806 TCX",
          majorColorName: "Blue-Green",
          colorName: "Agave Green",
          r: 107,
          g: 113,
          b: 105
        },
        {
          pantoneId: 1980,
          name: "18-5102 TCX",
          majorColorName: "Gray",
          colorName: "Brushed Nickel",
          r: 115,
          g: 112,
          b: 111
        },
        {
          pantoneId: 1981,
          name: "18-3933 TCX",
          majorColorName: "Blue",
          colorName: "Blue Granite",
          r: 113,
          g: 115,
          b: 136
        },
        {
          pantoneId: 1982,
          name: "17-0530 TCX",
          majorColorName: "Yellow",
          colorName: "Guacamole",
          r: 121,
          g: 123,
          b: 58
        },
        {
          pantoneId: 1983,
          name: "14-4320 TCX",
          majorColorName: "Blue",
          colorName: "Baltic Sea",
          r: 121,
          g: 181,
          b: 216
        },
        {
          pantoneId: 1984,
          name: "14-4710 TCX",
          majorColorName: "Blue",
          colorName: "Tibetan Stone",
          r: 130,
          g: 194,
          b: 199
        },
        {
          pantoneId: 1985,
          name: "14-4812 TCX",
          majorColorName: "Blue",
          colorName: "Aqua Splash",
          r: 133,
          g: 206,
          b: 209
        },
        {
          pantoneId: 1986,
          name: "13-4810 TCX",
          majorColorName: "White",
          colorName: "Limpet Shell",
          r: 152,
          g: 221,
          b: 222
        },
        {
          pantoneId: 1987,
          name: "18-1148 TCX",
          majorColorName: "Brown",
          colorName: "Caramel Cafe",
          r: 134,
          g: 76,
          b: 36
        },
        {
          pantoneId: 1988,
          name: "18-1325 TCX",
          majorColorName: "Brown",
          colorName: "Spiced Apple",
          r: 120,
          g: 57,
          b: 55
        },
        {
          pantoneId: 1989,
          name: "19-1536 TCX",
          majorColorName: "Pink",
          colorName: "Red Pear",
          r: 123,
          g: 53,
          b: 57
        },
        {
          pantoneId: 1990,
          name: "18-3014 TCX",
          majorColorName: "Pink",
          colorName: "Grape Kiss",
          r: 123,
          g: 67,
          b: 104
        },
        {
          pantoneId: 1991,
          name: "17-1708 TCX",
          majorColorName: "Pink",
          colorName: "Moonscape",
          r: 114,
          g: 95,
          b: 105
        },
        {
          pantoneId: 1992,
          name: "18-3634 TCX",
          majorColorName: "Light-Purple",
          colorName: "Chive Blossom",
          r: 125,
          g: 93,
          b: 153
        },
        {
          pantoneId: 1993,
          name: "17-1503 TCX",
          majorColorName: "Gray",
          colorName: "Storm Front",
          r: 120,
          g: 115,
          b: 118
        },
        {
          pantoneId: 1994,
          name: "18-4016 TCX",
          majorColorName: "Blue",
          colorName: "December Sky",
          r: 118,
          g: 114,
          b: 117
        },
        {
          pantoneId: 1995,
          name: "17-3911 TCX",
          majorColorName: "Gray",
          colorName: "Silver Filigree",
          r: 127,
          g: 124,
          b: 129
        },
        {
          pantoneId: 1996,
          name: "17-4016 TCX",
          majorColorName: "Blue",
          colorName: "Gray Flannel",
          r: 132,
          g: 129,
          b: 130
        },
        {
          pantoneId: 1997,
          name: "16-4030 TCX",
          majorColorName: "Blue",
          colorName: "Hydrangea",
          r: 132,
          g: 155,
          b: 204
        },
        {
          pantoneId: 1998,
          name: "15-3932 TCX",
          majorColorName: "Blue",
          colorName: "Bel Air Blue",
          r: 129,
          g: 154,
          b: 193
        },
        {
          pantoneId: 1999,
          name: "14-4615 TCX",
          majorColorName: "Blue",
          colorName: "Antigua Sand",
          r: 131,
          g: 194,
          b: 205
        },
        {
          pantoneId: 2e3,
          name: "14-4511 TCX",
          majorColorName: "Blue",
          colorName: "Gulf Stream",
          r: 136,
          g: 195,
          b: 208
        },
        {
          pantoneId: 2001,
          name: "19-1757 TCX",
          majorColorName: "Pink",
          colorName: "Barbados Cherry",
          r: 170,
          g: 10,
          b: 39
        },
        {
          pantoneId: 2002,
          name: "19-1758 TCX",
          majorColorName: "Pink",
          colorName: "Haute Red",
          r: 161,
          g: 23,
          b: 41
        },
        {
          pantoneId: 2003,
          name: "19-1863 TCX",
          majorColorName: "Pink",
          colorName: "Scooter",
          r: 148,
          g: 30,
          b: 50
        },
        {
          pantoneId: 2004,
          name: "18-3120 TCX",
          majorColorName: "Gray",
          colorName: "Willowherb",
          r: 142,
          g: 68,
          b: 131
        },
        {
          pantoneId: 2005,
          name: "18-1246 TCX",
          majorColorName: "Brown",
          colorName: "Umber",
          r: 148,
          g: 74,
          b: 31
        },
        {
          pantoneId: 2006,
          name: "17-1142 TCX",
          majorColorName: "Brown",
          colorName: "Argan Oil",
          r: 139,
          g: 89,
          b: 62
        },
        {
          pantoneId: 2007,
          name: "18-1017 TCX",
          majorColorName: "Brown",
          colorName: "Caribou",
          r: 129,
          g: 109,
          b: 94
        },
        {
          pantoneId: 2008,
          name: "18-1108 TCX",
          majorColorName: "Brown",
          colorName: "Fallen Rock",
          r: 128,
          g: 118,
          b: 105
        },
        {
          pantoneId: 2009,
          name: "18-1210 TCX",
          majorColorName: "Brown",
          colorName: "Driftwood",
          r: 132,
          g: 122,
          b: 117
        },
        {
          pantoneId: 2010,
          name: "17-3907 TCX",
          majorColorName: "Gray",
          colorName: "Quicksilver",
          r: 126,
          g: 125,
          b: 136
        },
        {
          pantoneId: 2011,
          name: "17-4014 TCX",
          majorColorName: "Blue",
          colorName: "Titanium",
          r: 128,
          g: 125,
          b: 127
        },
        {
          pantoneId: 2012,
          name: "17-3914 TCX",
          majorColorName: "Gray",
          colorName: "Sharkskin",
          r: 131,
          g: 132,
          b: 135
        },
        {
          pantoneId: 2013,
          name: "15-4307 TCX",
          majorColorName: "Gray",
          colorName: "Tradewinds",
          r: 127,
          g: 135,
          b: 147
        },
        {
          pantoneId: 2014,
          name: "17-3933 TCX",
          majorColorName: "Blue",
          colorName: "Silver Bullet",
          r: 129,
          g: 131,
          b: 154
        },
        {
          pantoneId: 2015,
          name: "17-3929 TCX",
          majorColorName: "Blue",
          colorName: "Pale Iris",
          r: 136,
          g: 149,
          b: 197
        },
        {
          pantoneId: 2016,
          name: "19-1559 TCX",
          majorColorName: "Pink",
          colorName: "Scarlet Sage",
          r: 157,
          g: 32,
          b: 47
        },
        {
          pantoneId: 2017,
          name: "18-1340 TCX",
          majorColorName: "Brown",
          colorName: "Potter's Clay",
          r: 158,
          g: 70,
          b: 36
        },
        {
          pantoneId: 2018,
          name: "18-1440 TCX",
          majorColorName: "Brown",
          colorName: "Chili Oil",
          r: 142,
          g: 60,
          b: 54
        },
        {
          pantoneId: 2019,
          name: "18-1163 TCX",
          majorColorName: "Brown",
          colorName: "Pumpkin Spice",
          r: 160,
          g: 92,
          b: 23
        },
        {
          pantoneId: 2020,
          name: "18-1345 TCX",
          majorColorName: "Brown",
          colorName: "Cinnamon Stick",
          r: 155,
          g: 71,
          b: 34
        },
        {
          pantoneId: 2021,
          name: "18-1155 TCX",
          majorColorName: "Brown",
          colorName: "Sugar Almond",
          r: 147,
          g: 85,
          b: 41
        },
        {
          pantoneId: 2022,
          name: "17-1052 TCX",
          majorColorName: "Brown",
          colorName: "Roasted Pecan",
          r: 147,
          g: 89,
          b: 43
        },
        {
          pantoneId: 2023,
          name: "18-1029 TCX",
          majorColorName: "Brown",
          colorName: "Toasted Coconut",
          r: 139,
          g: 106,
          b: 79
        },
        {
          pantoneId: 2024,
          name: "18-3628 TCX",
          majorColorName: "Light-Purple",
          colorName: "Bellflower",
          r: 148,
          g: 105,
          b: 162
        },
        {
          pantoneId: 2025,
          name: "17-1115 TCX",
          majorColorName: "Brown",
          colorName: "Petrified Oak",
          r: 141,
          g: 121,
          b: 96
        },
        {
          pantoneId: 2026,
          name: "17-1314 TCX",
          majorColorName: "Brown",
          colorName: "Sepia Tint",
          r: 137,
          g: 117,
          b: 96
        },
        {
          pantoneId: 2027,
          name: "17-3640 TCX",
          majorColorName: "Light-Purple",
          colorName: "Fairy Wren",
          r: 148,
          g: 121,
          b: 175
        },
        {
          pantoneId: 2028,
          name: "16-1347 TCX",
          majorColorName: "Orange",
          colorName: "Peach Caramel",
          r: 197,
          g: 115,
          b: 61
        },
        {
          pantoneId: 2029,
          name: "16-1348 TCX",
          majorColorName: "Orange",
          colorName: "Tomato Cream",
          r: 197,
          g: 118,
          b: 68
        },
        {
          pantoneId: 2030,
          name: "15-1430 TCX",
          majorColorName: "Orange",
          colorName: "Pastry Shell",
          r: 189,
          g: 140,
          b: 102
        },
        {
          pantoneId: 2031,
          name: "15-1425 TCX",
          majorColorName: "Pink",
          colorName: "Fenugreek",
          r: 192,
          g: 145,
          b: 108
        },
        {
          pantoneId: 2032,
          name: "16-0920 TCX",
          majorColorName: "Orange",
          colorName: "Curds & Whey",
          r: 188,
          g: 164,
          b: 131
        },
        {
          pantoneId: 2033,
          name: "15-1020 TCX",
          majorColorName: "Orange",
          colorName: "Ginger Root",
          r: 191,
          g: 165,
          b: 138
        },
        {
          pantoneId: 2034,
          name: "15-1304 TCX",
          majorColorName: "White",
          colorName: "Humus",
          r: 183,
          g: 167,
          b: 147
        },
        {
          pantoneId: 2035,
          name: "14-1208 TCX",
          majorColorName: "Orange",
          colorName: "Irish Cream",
          r: 192,
          g: 172,
          b: 146
        },
        {
          pantoneId: 2036,
          name: "13-4201 TCX",
          majorColorName: "White",
          colorName: "Oyster Mushroom",
          r: 195,
          g: 198,
          b: 200
        },
        {
          pantoneId: 2037,
          name: "13-4111 TCX",
          majorColorName: "White",
          colorName: "Plein Air",
          r: 191,
          g: 202,
          b: 214
        },
        {
          pantoneId: 2038,
          name: "17-1452 TCX",
          majorColorName: "Red",
          colorName: "Koi",
          r: 209,
          g: 88,
          b: 55
        },
        {
          pantoneId: 2039,
          name: "17-1349 TCX",
          majorColorName: "Brown",
          colorName: "Exuberance",
          r: 232,
          g: 104,
          b: 0
        },
        {
          pantoneId: 2040,
          name: "15-1051 TCX",
          majorColorName: "Orange",
          colorName: "Golden Orange",
          r: 215,
          g: 148,
          b: 45
        },
        {
          pantoneId: 2041,
          name: "15-0960 TCX",
          majorColorName: "Brown",
          colorName: "Mango Mojito",
          r: 214,
          g: 156,
          b: 47
        },
        {
          pantoneId: 2042,
          name: "14-0952 TCX",
          majorColorName: "Orange",
          colorName: "Spicy Mustard",
          r: 216,
          g: 174,
          b: 71
        },
        {
          pantoneId: 2043,
          name: "13-1105 TCX",
          majorColorName: "White",
          colorName: "Brown Rice",
          r: 199,
          g: 187,
          b: 164
        },
        {
          pantoneId: 2044,
          name: "13-4104 TCX",
          majorColorName: "White",
          colorName: "Antarctica",
          r: 198,
          g: 197,
          b: 198
        },
        {
          pantoneId: 2045,
          name: "17-1463 TCX",
          majorColorName: "Orange",
          colorName: "Tangerine Tango",
          r: 221,
          g: 65,
          b: 36
        },
        {
          pantoneId: 2046,
          name: "17-1461 TCX",
          majorColorName: "Orange",
          colorName: "Orangeade",
          r: 226,
          g: 85,
          b: 44
        },
        {
          pantoneId: 2047,
          name: "16-1164 TCX",
          majorColorName: "Brown",
          colorName: "Orange Pepper",
          r: 223,
          g: 117,
          b: 0
        },
        {
          pantoneId: 2048,
          name: "15-1429 TCX",
          majorColorName: "Pink",
          colorName: "Dusted Clay",
          r: 204,
          g: 115,
          b: 87
        },
        {
          pantoneId: 2049,
          name: "16-1345 TCX",
          majorColorName: "Orange",
          colorName: "Sun Baked",
          r: 210,
          g: 127,
          b: 99
        },
        {
          pantoneId: 2050,
          name: "15-1045 TCX",
          majorColorName: "Orange",
          colorName: "Autumn Blaze",
          r: 217,
          g: 146,
          b: 46
        },
        {
          pantoneId: 2051,
          name: "15-1125 TCX",
          majorColorName: "Brown",
          colorName: "Porcini",
          r: 204,
          g: 165,
          b: 128
        },
        {
          pantoneId: 2052,
          name: "14-1315 TCX",
          majorColorName: "Orange",
          colorName: "Hazelnut",
          r: 207,
          g: 176,
          b: 149
        },
        {
          pantoneId: 2053,
          name: "15-1218 TCX",
          majorColorName: "Brown",
          colorName: "Semolina",
          r: 206,
          g: 184,
          b: 153
        },
        {
          pantoneId: 2054,
          name: "14-1803 TCX",
          majorColorName: "Brown",
          colorName: "Sepia Rose",
          r: 212,
          g: 186,
          b: 182
        },
        {
          pantoneId: 2055,
          name: "13-0919 TCX",
          majorColorName: "Orange",
          colorName: "Soybean",
          r: 210,
          g: 194,
          b: 157
        },
        {
          pantoneId: 2056,
          name: "12-4301 TCX",
          majorColorName: "White",
          colorName: "Almond Milk",
          r: 214,
          g: 206,
          b: 190
        },
        {
          pantoneId: 2057,
          name: "13-0644 TCX",
          majorColorName: "Yellow",
          colorName: "Golden Kiwi",
          r: 243,
          g: 221,
          b: 62
        },
        {
          pantoneId: 2058,
          name: "13-0646 TCX",
          majorColorName: "Yellow",
          colorName: "Meadowlark",
          r: 234,
          g: 217,
          b: 78
        },
        {
          pantoneId: 2059,
          name: "16-1363 TCX",
          majorColorName: "Orange",
          colorName: "Puffin's Bill",
          r: 233,
          g: 92,
          b: 32
        },
        {
          pantoneId: 2060,
          name: "17-1360 TCX",
          majorColorName: "Brown",
          colorName: "Celosia Orange",
          r: 232,
          g: 112,
          b: 58
        },
        {
          pantoneId: 2061,
          name: "13-0946 TCX",
          majorColorName: "Orange",
          colorName: "Jurassic Gold",
          r: 231,
          g: 170,
          b: 86
        },
        {
          pantoneId: 2062,
          name: "13-1208 TCX",
          majorColorName: "Orange",
          colorName: "Peachy Keen",
          r: 226,
          g: 189,
          b: 179
        },
        {
          pantoneId: 2063,
          name: "13-1308 TCX",
          majorColorName: "Pink",
          colorName: "Brazilian Sand",
          r: 218,
          g: 202,
          b: 183
        },
        {
          pantoneId: 2064,
          name: "12-0110 TCX",
          majorColorName: "White",
          colorName: "Pistachio Shell",
          r: 215,
          g: 207,
          b: 187
        },
        {
          pantoneId: 2065,
          name: "13-4108 TCX",
          majorColorName: "White",
          colorName: "Nimbus Cloud",
          r: 213,
          g: 213,
          b: 216
        },
        {
          pantoneId: 2066,
          name: "12-0646 TCX",
          majorColorName: "Yellow",
          colorName: "Celandine",
          r: 235,
          g: 223,
          b: 103
        },
        {
          pantoneId: 2067,
          name: "11-0622 TCX",
          majorColorName: "Yellow",
          colorName: "Yellow Iris",
          r: 238,
          g: 231,
          b: 142
        },
        {
          pantoneId: 2068,
          name: "11-0623 TCX",
          majorColorName: "Yellow",
          colorName: "Yellow Pear",
          r: 236,
          g: 233,
          b: 155
        },
        {
          pantoneId: 2069,
          name: "11-4001 TCX",
          majorColorName: "White",
          colorName: "Brilliant White",
          r: 237,
          g: 241,
          b: 254
        },
        {
          pantoneId: 2070,
          name: "17-1361 TCX",
          majorColorName: "Brown",
          colorName: "Scarlet Ibis",
          r: 244,
          g: 85,
          b: 32
        },
        {
          pantoneId: 2071,
          name: "16-1358 TCX",
          majorColorName: "Orange",
          colorName: "Orange Tiger",
          r: 249,
          g: 103,
          b: 20
        },
        {
          pantoneId: 2072,
          name: "16-1453 TCX",
          majorColorName: "Orange",
          colorName: "Exotic Orange",
          r: 249,
          g: 101,
          b: 49
        },
        {
          pantoneId: 2073,
          name: "15-1335 TCX",
          majorColorName: "Orange",
          colorName: "Tangelo",
          r: 254,
          g: 126,
          b: 3
        },
        {
          pantoneId: 2074,
          name: "15-1151 TCX",
          majorColorName: "Orange",
          colorName: "Iceland Poppy",
          r: 244,
          g: 150,
          b: 58
        },
        {
          pantoneId: 2075,
          name: "15-1520 TCX",
          majorColorName: "Orange",
          colorName: "Blooming Dahlia",
          r: 235,
          g: 150,
          b: 135
        },
        {
          pantoneId: 2076,
          name: "13-0759 TCX",
          majorColorName: "Yellow",
          colorName: "Solar Power",
          r: 244,
          g: 191,
          b: 58
        },
        {
          pantoneId: 2077,
          name: "12-2901 TCX",
          majorColorName: "White",
          colorName: "Morganite",
          r: 223,
          g: 205,
          b: 198
        },
        {
          pantoneId: 2078,
          name: "12-0729 TCX",
          majorColorName: "Yellow",
          colorName: "Sundress",
          r: 235,
          g: 207,
          b: 137
        },
        {
          pantoneId: 2079,
          name: "12-0718 TCX",
          majorColorName: "Orange",
          colorName: "Pineapple Slice",
          r: 231,
          g: 211,
          b: 145
        },
        {
          pantoneId: 2080,
          name: "12-0709 TCX",
          majorColorName: "White",
          colorName: "Macadamia",
          r: 228,
          g: 207,
          b: 182
        },
        {
          pantoneId: 2081,
          name: "13-0756 TCX",
          majorColorName: "Yellow",
          colorName: "Lemon Zest",
          r: 249,
          g: 216,
          b: 87
        },
        {
          pantoneId: 2082,
          name: "12-0737 TCX",
          majorColorName: "Orange",
          colorName: "Goldfinch",
          r: 248,
          g: 220,
          b: 108
        },
        {
          pantoneId: 2083,
          name: "12-0742 TCX",
          majorColorName: "Yellow",
          colorName: "Lemon Verbena",
          r: 243,
          g: 231,
          b: 121
        },
        {
          pantoneId: 2084,
          name: "16-1460 TCX",
          majorColorName: "Orange",
          colorName: "Dragon Fire",
          r: 252,
          g: 100,
          b: 45
        },
        {
          pantoneId: 2085,
          name: "15-1262 TCX",
          majorColorName: "Orange",
          colorName: "Carrot Curl",
          r: 254,
          g: 140,
          b: 24
        },
        {
          pantoneId: 2086,
          name: "15-1264 TCX",
          majorColorName: "Orange",
          colorName: "Turmeric",
          r: 254,
          g: 132,
          b: 14
        },
        {
          pantoneId: 2087,
          name: "16-1545 TCX",
          majorColorName: "Pink",
          colorName: "Coral Quartz",
          r: 247,
          g: 116,
          b: 100
        },
        {
          pantoneId: 2088,
          name: "16-1548 TCX",
          majorColorName: "Pink",
          colorName: "Peach Echo",
          r: 247,
          g: 120,
          b: 107
        },
        {
          pantoneId: 2089,
          name: "15-1243 TCX",
          majorColorName: "Orange",
          colorName: "Papaya",
          r: 254,
          g: 161,
          b: 102
        },
        {
          pantoneId: 2090,
          name: "14-1052 TCX",
          majorColorName: "Orange",
          colorName: "Kumquat",
          r: 251,
          g: 170,
          b: 76
        },
        {
          pantoneId: 2091,
          name: "14-1241 TCX",
          majorColorName: "Orange",
          colorName: "Orange Chiffon",
          r: 249,
          g: 170,
          b: 125
        },
        {
          pantoneId: 2092,
          name: "13-1125 TCX",
          majorColorName: "White",
          colorName: "Peach Quartz",
          r: 245,
          g: 184,
          b: 149
        },
        {
          pantoneId: 2093,
          name: "13-2802 TCX",
          majorColorName: "White",
          colorName: "Fairy Tale",
          r: 242,
          g: 193,
          b: 209
        },
        {
          pantoneId: 2094,
          name: "14-0851 TCX",
          majorColorName: "Orange",
          colorName: "Samoan Sun",
          r: 251,
          g: 200,
          b: 95
        },
        {
          pantoneId: 2095,
          name: "12-0758 TCX",
          majorColorName: "Yellow",
          colorName: "Yarrow",
          r: 250,
          g: 206,
          b: 109
        },
        {
          pantoneId: 2096,
          name: "13-2808 TCX",
          majorColorName: "White",
          colorName: "Ballet Slipper",
          r: 235,
          g: 206,
          b: 213
        },
        {
          pantoneId: 2097,
          name: "13-0849 TCX",
          majorColorName: "Orange",
          colorName: "Habanero Gold",
          r: 254,
          g: 212,
          b: 80
        },
        {
          pantoneId: 2098,
          name: "13-0851 TCX",
          majorColorName: "Orange",
          colorName: "Minion Yellow",
          r: 254,
          g: 213,
          b: 93
        },
        {
          pantoneId: 2099,
          name: "13-2807 TCX",
          majorColorName: "White",
          colorName: "Ballerina",
          r: 242,
          g: 207,
          b: 220
        },
        {
          pantoneId: 2100,
          name: "11-4801 TCX",
          majorColorName: "White",
          colorName: "Tofu",
          r: 232,
          g: 227,
          b: 217
        },
        {
          pantoneId: 2101,
          name: "11-0619 TCX",
          majorColorName: "Yellow",
          colorName: "Flan",
          r: 246,
          g: 227,
          b: 180
        },
        {
          pantoneId: 2102,
          name: "12-0717 TCX",
          majorColorName: "Orange",
          colorName: "Anise Flower",
          r: 244,
          g: 227,
          b: 181
        },
        {
          pantoneId: 2103,
          name: "11-0605 TCX",
          majorColorName: "White",
          colorName: "Jet Stream",
          r: 237,
          g: 230,
          b: 222
        },
        {
          pantoneId: 2104,
          name: "11-1302 TCX",
          majorColorName: "White",
          colorName: "Sea Salt",
          r: 241,
          g: 230,
          b: 222
        },
        {
          pantoneId: 2105,
          name: "11-1001 TCX",
          majorColorName: "White",
          colorName: "White Alyssum",
          r: 239,
          g: 235,
          b: 231
        },
        {
          pantoneId: 2106,
          name: "11-0615 TCX",
          majorColorName: "Yellow",
          colorName: "Pear Sorbet",
          r: 243,
          g: 234,
          b: 195
        },
        {
          pantoneId: 2107,
          name: "11-0515 TCX",
          majorColorName: "Orange",
          colorName: "Lemon Icing",
          r: 246,
          g: 235,
          b: 200
        },
        {
          pantoneId: 2108,
          name: "11-0106 TCX",
          majorColorName: "White",
          colorName: "Sweet Corn",
          r: 240,
          g: 234,
          b: 214
        },
        {
          pantoneId: 2109,
          name: "11-4302 TCX",
          majorColorName: "White",
          colorName: "Cannoli Cream",
          r: 240,
          g: 239,
          b: 226
        },
        {
          pantoneId: 2110,
          name: "11-0607 TCX",
          majorColorName: "White",
          colorName: "Sugar Swizzle",
          r: 243,
          g: 238,
          b: 231
        },
        {
          pantoneId: 2111,
          name: "11-0608 TCX",
          majorColorName: "White",
          colorName: "Coconut Milk",
          r: 240,
          g: 237,
          b: 229
        },
        {
          pantoneId: 2112,
          name: "13-3207 TCX",
          majorColorName: "White",
          colorName: "Cherry Blossom",
          r: 247,
          g: 206,
          b: 224
        },
        {
          pantoneId: 2113,
          name: "13-1511 TCX",
          majorColorName: "Pink",
          colorName: "Pink Salt",
          r: 247,
          g: 205,
          b: 199
        },
        {
          pantoneId: 2114,
          name: "13-1520 TCX",
          majorColorName: "White",
          colorName: "Rose Quartz",
          r: 247,
          g: 202,
          b: 201
        },
        {
          pantoneId: 2115,
          name: "12-1110 TCX",
          majorColorName: "White",
          colorName: "Creme de Peche",
          r: 245,
          g: 214,
          b: 198
        },
        {
          pantoneId: 2116,
          name: "12-1813 TCX",
          majorColorName: "Orange",
          colorName: "Mary's Rose",
          r: 247,
          g: 209,
          b: 212
        },
        {
          pantoneId: 2117,
          name: "12-0711 TCX",
          majorColorName: "Orange",
          colorName: "Lemon Meringue",
          r: 246,
          g: 225,
          b: 153
        },
        {
          pantoneId: 2118,
          name: "11-0110 TCX",
          majorColorName: "White",
          colorName: "Buttercream",
          r: 239,
          g: 224,
          b: 205
        },
        {
          pantoneId: 2119,
          name: "12-2907 TCX",
          majorColorName: "White",
          colorName: "Rose Water",
          r: 248,
          g: 224,
          b: 231
        },
        {
          pantoneId: 2120,
          name: "19-3909 TCX",
          majorColorName: "Gray",
          colorName: "Black Bean",
          r: 46,
          g: 39,
          b: 42
        },
        {
          pantoneId: 2121,
          name: "19-3922 TCX",
          majorColorName: "Blue",
          colorName: "Sky Captain",
          r: 38,
          g: 41,
          b: 52
        },
        {
          pantoneId: 2122,
          name: "19-4004 TCX",
          majorColorName: "Gray",
          colorName: "Tap Shoe",
          r: 42,
          g: 43,
          b: 45
        },
        {
          pantoneId: 2123,
          name: "19-5350 TCX",
          majorColorName: "Blue",
          colorName: "Scarab",
          r: 35,
          g: 49,
          b: 45
        },
        {
          pantoneId: 2124,
          name: "19-4038 TCX",
          majorColorName: "Blue",
          colorName: "Gibraltar Sea",
          r: 18,
          g: 56,
          b: 80
        },
        {
          pantoneId: 2125,
          name: "19-4034 TCX",
          majorColorName: "Blue",
          colorName: "Sailor Blue",
          r: 14,
          g: 58,
          b: 83
        },
        {
          pantoneId: 2126,
          name: "19-4120 TCX",
          majorColorName: "Blue",
          colorName: "Blue Opal",
          r: 15,
          g: 59,
          b: 87
        },
        {
          pantoneId: 2127,
          name: "19-4045 TCX",
          majorColorName: "Blue",
          colorName: "Lapis Blue",
          r: 0,
          g: 75,
          b: 141
        },
        {
          pantoneId: 2128,
          name: "18-4048 TCX",
          majorColorName: "Blue",
          colorName: "Nebulas Blue",
          r: 45,
          g: 98,
          b: 163
        },
        {
          pantoneId: 2129,
          name: "19-4033 TCX",
          majorColorName: "Blue",
          colorName: "Poseidon",
          r: 18,
          g: 57,
          b: 85
        },
        {
          pantoneId: 2130,
          name: "18-4250 TCX",
          majorColorName: "Blue",
          colorName: "Indigo Bunting",
          r: 0,
          g: 108,
          b: 169
        },
        {
          pantoneId: 2131,
          name: "19-5220 TCX",
          majorColorName: "Blue",
          colorName: "Botanical Garden",
          r: 18,
          g: 64,
          b: 60
        },
        {
          pantoneId: 2132,
          name: "19-5232 TCX",
          majorColorName: "Blue-Green",
          colorName: "Rain Forest",
          r: 21,
          g: 70,
          b: 62
        },
        {
          pantoneId: 2133,
          name: "19-5406 TCX",
          majorColorName: "Blue-Green",
          colorName: "Pine Grove",
          r: 33,
          g: 54,
          b: 49
        },
        {
          pantoneId: 2134,
          name: "19-5230 TCX",
          majorColorName: "Blue-Green",
          colorName: "Forest Biome",
          r: 24,
          g: 74,
          b: 69
        },
        {
          pantoneId: 2135,
          name: "17-4245 TCX",
          majorColorName: "Blue",
          colorName: "Ibiza Blue",
          r: 0,
          g: 124,
          b: 183
        },
        {
          pantoneId: 2136,
          name: "19-5918 TCX",
          majorColorName: "Blue-Green",
          colorName: "Mountain View",
          r: 46,
          g: 61,
          b: 48
        },
        {
          pantoneId: 2137,
          name: "19-4540 TCX",
          majorColorName: "Blue",
          colorName: "Deep Lagoon",
          r: 0,
          g: 82,
          b: 101
        },
        {
          pantoneId: 2138,
          name: "18-4434 TCX",
          majorColorName: "Blue",
          colorName: "Mykonos Blue",
          r: 0,
          g: 87,
          b: 128
        },
        {
          pantoneId: 2139,
          name: "19-4048 TCX",
          majorColorName: "Blue",
          colorName: "Baleine Blue",
          r: 21,
          g: 81,
          b: 135
        },
        {
          pantoneId: 2140,
          name: "19-6050 TCX",
          majorColorName: "Blue-Green",
          colorName: "Eden",
          r: 38,
          g: 78,
          b: 54
        },
        {
          pantoneId: 2141,
          name: "18-5845 TCX",
          majorColorName: "Blue-Green",
          colorName: "Lush Meadow",
          r: 0,
          g: 110,
          b: 81
        },
        {
          pantoneId: 2142,
          name: "18-5025 TCX",
          majorColorName: "Blue-Green",
          colorName: "Quetzal Green",
          r: 0,
          g: 104,
          b: 101
        },
        {
          pantoneId: 2143,
          name: "19-4536 TCX",
          majorColorName: "Blue",
          colorName: "Crystal Teal",
          r: 0,
          g: 99,
          b: 124
        },
        {
          pantoneId: 2144,
          name: "18-6030 TCX",
          majorColorName: "Green",
          colorName: "Jolly Green",
          r: 0,
          g: 120,
          b: 68
        },
        {
          pantoneId: 2145,
          name: "18-4630 TCX",
          majorColorName: "Blue",
          colorName: "Tahitian Tide",
          r: 0,
          g: 107,
          b: 126
        },
        {
          pantoneId: 2146,
          name: "18-4538 TCX",
          majorColorName: "Blue",
          colorName: "Hawaiian Surf",
          r: 0,
          g: 120,
          b: 167
        },
        {
          pantoneId: 2147,
          name: "18-4430 TCX",
          majorColorName: "Blue",
          colorName: "Fjord Blue",
          r: 0,
          g: 114,
          b: 144
        },
        {
          pantoneId: 2148,
          name: "17-4530 TCX",
          majorColorName: "Blue",
          colorName: "Barrier Reef",
          r: 0,
          g: 132,
          b: 161
        },
        {
          pantoneId: 2149,
          name: "19-4011 TCX",
          majorColorName: "Blue",
          colorName: "Salute",
          r: 40,
          g: 43,
          b: 52
        },
        {
          pantoneId: 2150,
          name: "19-4020 TCX",
          majorColorName: "Blue",
          colorName: "Dark Sapphire",
          r: 38,
          g: 43,
          b: 55
        },
        {
          pantoneId: 2151,
          name: "19-3831 TCX",
          majorColorName: "Blue",
          colorName: "Maritime Blue",
          r: 39,
          g: 41,
          b: 61
        },
        {
          pantoneId: 2152,
          name: "19-3923 TCX",
          majorColorName: "Blue",
          colorName: "Navy Blazer",
          r: 40,
          g: 45,
          b: 60
        },
        {
          pantoneId: 2153,
          name: "19-4012 TCX",
          majorColorName: "Blue",
          colorName: "Carbon",
          r: 39,
          g: 47,
          b: 56
        },
        {
          pantoneId: 2154,
          name: "19-3953 TCX",
          majorColorName: "Blue",
          colorName: "Sodalite Blue",
          r: 37,
          g: 54,
          b: 104
        },
        {
          pantoneId: 2155,
          name: "19-4029 TCX",
          majorColorName: "Blue",
          colorName: "Navy Peony",
          r: 34,
          g: 58,
          b: 94
        },
        {
          pantoneId: 2156,
          name: "19-3964 TCX",
          majorColorName: "Gray",
          colorName: "Blue Quartz",
          r: 39,
          g: 67,
          b: 116
        },
        {
          pantoneId: 2157,
          name: "19-4326 TCX",
          majorColorName: "Blue",
          colorName: "Reflecting Pond",
          r: 32,
          g: 62,
          b: 74
        },
        {
          pantoneId: 2158,
          name: "19-5030 TCX",
          majorColorName: "Gray",
          colorName: "Sea Moss",
          r: 37,
          g: 68,
          b: 69
        },
        {
          pantoneId: 2159,
          name: "19-1018 TCX",
          majorColorName: "Pink",
          colorName: "Ganache",
          r: 52,
          g: 41,
          b: 42
        },
        {
          pantoneId: 2160,
          name: "19-3713 TCX",
          majorColorName: "Light-Purple",
          colorName: "Deep Well",
          r: 44,
          g: 42,
          b: 51
        },
        {
          pantoneId: 2161,
          name: "19-3924 TCX",
          majorColorName: "Blue",
          colorName: "Night Sky",
          r: 42,
          g: 42,
          b: 53
        },
        {
          pantoneId: 2162,
          name: "19-3815 TCX",
          majorColorName: "Blue",
          colorName: "Evening Blue",
          r: 42,
          g: 41,
          b: 62
        },
        {
          pantoneId: 2163,
          name: "19-4218 TCX",
          majorColorName: "Gray",
          colorName: "Vulcan",
          r: 45,
          g: 48,
          b: 54
        },
        {
          pantoneId: 2164,
          name: "19-4021 TCX",
          majorColorName: "Blue",
          colorName: "Blueberry",
          r: 44,
          g: 51,
          b: 62
        },
        {
          pantoneId: 2165,
          name: "19-4122 TCX",
          majorColorName: "Blue",
          colorName: "Moonlit Ocean",
          r: 41,
          g: 59,
          b: 77
        },
        {
          pantoneId: 2166,
          name: "19-4121 TCX",
          majorColorName: "Blue",
          colorName: "Blue Wing Teal",
          r: 44,
          g: 64,
          b: 83
        },
        {
          pantoneId: 2167,
          name: "19-4126 TCX",
          majorColorName: "Blue",
          colorName: "Deep Dive",
          r: 41,
          g: 73,
          b: 92
        },
        {
          pantoneId: 2168,
          name: "19-4055 TCX",
          majorColorName: "Blue",
          colorName: "Galaxy Blue",
          r: 42,
          g: 75,
          b: 124
        },
        {
          pantoneId: 2169,
          name: "18-4034 TCX",
          majorColorName: "Blue",
          colorName: "Vallarta Blue",
          r: 48,
          g: 101,
          b: 142
        },
        {
          pantoneId: 2170,
          name: "17-4429 TCX",
          majorColorName: "Blue",
          colorName: "Navagio Bay",
          r: 49,
          g: 131,
          b: 160
        },
        {
          pantoneId: 2171,
          name: "19-1103 TCX",
          majorColorName: "Gray",
          colorName: "Espresso",
          r: 54,
          g: 48,
          b: 49
        },
        {
          pantoneId: 2172,
          name: "19-1106 TCX",
          majorColorName: "Gray",
          colorName: "Mole'",
          r: 57,
          g: 45,
          b: 43
        },
        {
          pantoneId: 2173,
          name: "19-1109 TCX",
          majorColorName: "Gray",
          colorName: "Chocolate Torte",
          r: 56,
          g: 46,
          b: 45
        },
        {
          pantoneId: 2174,
          name: "19-1110 TCX",
          majorColorName: "Pink",
          colorName: "Chocolate Plum",
          r: 60,
          g: 45,
          b: 46
        },
        {
          pantoneId: 2175,
          name: "19-4009 TCX",
          majorColorName: "Gray",
          colorName: "Outer Space",
          r: 47,
          g: 52,
          b: 65
        },
        {
          pantoneId: 2176,
          name: "19-4022 TCX",
          majorColorName: "Blue",
          colorName: "Parisian Night",
          r: 50,
          g: 52,
          b: 65
        },
        {
          pantoneId: 2177,
          name: "19-4031 TCX",
          majorColorName: "Blue",
          colorName: "Sargasso Sea",
          r: 53,
          g: 67,
          b: 90
        },
        {
          pantoneId: 2178,
          name: "18-0330 TCX",
          majorColorName: "Green",
          colorName: "Twist of Lime",
          r: 78,
          g: 99,
          b: 44
        },
        {
          pantoneId: 2179,
          name: "19-3750 TCX",
          majorColorName: "Light-Purple",
          colorName: "Violet Indigo",
          r: 62,
          g: 40,
          b: 92
        },
        {
          pantoneId: 2180,
          name: "19-3628 TCX",
          majorColorName: "Light-Purple",
          colorName: "Acai",
          r: 70,
          g: 41,
          b: 90
        },
        {
          pantoneId: 2181,
          name: "19-3902 TCX",
          majorColorName: "Gray",
          colorName: "Obsidian",
          r: 58,
          g: 54,
          b: 59
        },
        {
          pantoneId: 2182,
          name: "19-3927 TCX",
          majorColorName: "Blue",
          colorName: "Graphite",
          r: 59,
          g: 59,
          b: 72
        },
        {
          pantoneId: 2183,
          name: "19-0840 TCX",
          majorColorName: "Brown",
          colorName: "Delicioso",
          r: 63,
          g: 53,
          b: 47
        },
        {
          pantoneId: 2184,
          name: "19-0413 TCX",
          majorColorName: "Yellow",
          colorName: "Deep Depths",
          r: 70,
          g: 72,
          b: 60
        },
        {
          pantoneId: 2185,
          name: "19-2620 TCX",
          majorColorName: "Pink",
          colorName: "Winter Bloom",
          r: 71,
          g: 36,
          b: 59
        },
        {
          pantoneId: 2186,
          name: "19-2420 TCX",
          majorColorName: "Pink",
          colorName: "Pickled Beet",
          r: 77,
          g: 35,
          b: 61
        },
        {
          pantoneId: 2187,
          name: "19-0201 TCX",
          majorColorName: "Green",
          colorName: "Asphalt",
          r: 67,
          g: 68,
          b: 71
        },
        {
          pantoneId: 2188,
          name: "19-3930 TCX",
          majorColorName: "Blue",
          colorName: "Odyssey Gray",
          r: 67,
          g: 68,
          b: 82
        },
        {
          pantoneId: 2189,
          name: "19-1419 TCX",
          majorColorName: "Brown",
          colorName: "Chicory Coffee",
          r: 74,
          g: 52,
          b: 46
        },
        {
          pantoneId: 2190,
          name: "19-0307 TCX",
          majorColorName: "Gray",
          colorName: "Climbing Ivy",
          r: 68,
          g: 73,
          b: 64
        },
        {
          pantoneId: 2191,
          name: "19-5621 TCX",
          majorColorName: "Gray",
          colorName: "Cilantro",
          r: 67,
          g: 84,
          b: 75
        },
        {
          pantoneId: 2192,
          name: "19-3638 TCX",
          majorColorName: "Light-Purple",
          colorName: "Tillandsia Purple",
          r: 86,
          g: 52,
          b: 116
        },
        {
          pantoneId: 2193,
          name: "19-0910 TCX",
          majorColorName: "Brown",
          colorName: "Mulch",
          r: 67,
          g: 57,
          b: 55
        },
        {
          pantoneId: 2194,
          name: "18-3839 TCX",
          majorColorName: "Blue",
          colorName: "Purple Corallites",
          r: 90,
          g: 78,
          b: 143
        },
        {
          pantoneId: 2195,
          name: "19-3907 TCX",
          majorColorName: "Gray",
          colorName: "Forged Iron",
          r: 72,
          g: 70,
          b: 74
        },
        {
          pantoneId: 2196,
          name: "19-3918 TCX",
          majorColorName: "Blue",
          colorName: "Periscope",
          r: 70,
          g: 68,
          b: 76
        },
        {
          pantoneId: 2197,
          name: "19-0203 TCX",
          majorColorName: "Green",
          colorName: "Gray Pinstripe",
          r: 73,
          g: 73,
          b: 77
        },
        {
          pantoneId: 2198,
          name: "19-3917 TCX",
          majorColorName: "Blue",
          colorName: "Blackened Pearl",
          r: 77,
          g: 75,
          b: 80
        },
        {
          pantoneId: 2199,
          name: "19-3929 TCX",
          majorColorName: "Blue",
          colorName: "Vintage Indigo",
          r: 74,
          g: 85,
          b: 107
        },
        {
          pantoneId: 2200,
          name: "18-4028 TCX",
          majorColorName: "Blue",
          colorName: "Bering Sea",
          r: 75,
          g: 91,
          b: 110
        },
        {
          pantoneId: 2201,
          name: "18-3917 TCX",
          majorColorName: "Blue",
          colorName: "Gray Blue",
          r: 77,
          g: 88,
          b: 122
        },
        {
          pantoneId: 2202,
          name: "18-3929 TCX",
          majorColorName: "Blue",
          colorName: "Blue Horizon",
          r: 78,
          g: 100,
          b: 130
        },
        {
          pantoneId: 2203,
          name: "17-4028 TCX",
          majorColorName: "Blue",
          colorName: "Riverside",
          r: 76,
          g: 106,
          b: 146
        },
        {
          pantoneId: 2204,
          name: "17-4033 TCX",
          majorColorName: "Blue",
          colorName: "Pacific Coast",
          r: 84,
          g: 128,
          b: 172
        },
        {
          pantoneId: 2205,
          name: "19-2429 TCX",
          majorColorName: "Pink",
          colorName: "Plum Caspia",
          r: 97,
          g: 34,
          b: 74
        },
        {
          pantoneId: 2206,
          name: "19-1724 TCX",
          majorColorName: "Pink",
          colorName: "Cabernet",
          r: 100,
          g: 36,
          b: 46
        },
        {
          pantoneId: 2207,
          name: "19-1432 TCX",
          majorColorName: "Brown",
          colorName: "Chocolate Fondant",
          r: 86,
          g: 53,
          b: 45
        },
        {
          pantoneId: 2208,
          name: "19-1215 TCX",
          majorColorName: "Pink",
          colorName: "Shaved Chocolate",
          r: 84,
          g: 59,
          b: 53
        },
        {
          pantoneId: 2209,
          name: "19-3901 TCX",
          majorColorName: "Gray",
          colorName: "Magnet",
          r: 77,
          g: 75,
          b: 79
        },
        {
          pantoneId: 2210,
          name: "16-4033 TCX",
          majorColorName: "Blue",
          colorName: "Granada Sky",
          r: 93,
          g: 129,
          b: 187
        },
        {
          pantoneId: 2211,
          name: "19-3900 TCX",
          majorColorName: "Gray",
          colorName: "Pavement",
          r: 82,
          g: 77,
          b: 80
        },
        {
          pantoneId: 2212,
          name: "19-3910 TCX",
          majorColorName: "Blue",
          colorName: "Iron Gate",
          r: 78,
          g: 80,
          b: 85
        },
        {
          pantoneId: 2213,
          name: "19-4215 TCX",
          majorColorName: "Gray",
          colorName: "Turbulence",
          r: 78,
          g: 84,
          b: 91
        },
        {
          pantoneId: 2214,
          name: "17-1311 TCX",
          majorColorName: "Brown",
          colorName: "Desert Taupe",
          r: 141,
          g: 126,
          b: 113
        },
        {
          pantoneId: 2215,
          name: "16-0543 TCX",
          majorColorName: "Yellow",
          colorName: "Golden Lime",
          r: 154,
          g: 151,
          b: 56
        },
        {
          pantoneId: 2216,
          name: "16-0545 TCX",
          majorColorName: "Yellow",
          colorName: "Split Pea",
          r: 156,
          g: 154,
          b: 64
        },
        {
          pantoneId: 2217,
          name: "16-3916 TCX",
          majorColorName: "White",
          colorName: "Sleet",
          r: 146,
          g: 148,
          b: 155
        },
        {
          pantoneId: 2218,
          name: "16-3921 TCX",
          majorColorName: "Blue",
          colorName: "Blue Heron",
          r: 150,
          g: 163,
          b: 199
        },
        {
          pantoneId: 2219,
          name: "15-3919 TCX",
          majorColorName: "White",
          colorName: "Serenity",
          r: 145,
          g: 168,
          b: 208
        },
        {
          pantoneId: 2220,
          name: "14-4122 TCX",
          majorColorName: "Blue",
          colorName: "Airy Blue",
          r: 146,
          g: 182,
          b: 213
        },
        {
          pantoneId: 2221,
          name: "14-4315 TCX",
          majorColorName: "Blue",
          colorName: "Sea Angel",
          r: 152,
          g: 191,
          b: 202
        },
        {
          pantoneId: 2222,
          name: "14-0340 TCX",
          majorColorName: "White",
          colorName: "Acid Lime",
          r: 186,
          g: 223,
          b: 48
        },
        {
          pantoneId: 2223,
          name: "18-1657 TCX",
          majorColorName: "Pink",
          colorName: "Salsa",
          r: 170,
          g: 24,
          b: 43
        },
        {
          pantoneId: 2224,
          name: "18-1659 TCX",
          majorColorName: "Pink",
          colorName: "Goji Berry",
          r: 185,
          g: 18,
          b: 40
        },
        {
          pantoneId: 2225,
          name: "18-1654 TCX",
          majorColorName: "Pink",
          colorName: "Lychee",
          r: 186,
          g: 11,
          b: 50
        },
        {
          pantoneId: 2226,
          name: "18-1759 TCX",
          majorColorName: "Pink",
          colorName: "Jalapeno Red",
          r: 178,
          g: 16,
          b: 60
        },
        {
          pantoneId: 2227,
          name: "19-1662 TCX",
          majorColorName: "Red",
          colorName: "Samba",
          r: 162,
          g: 36,
          b: 47
        },
        {
          pantoneId: 2228,
          name: "19-2039 TCX",
          majorColorName: "Pink",
          colorName: "Granita",
          r: 165,
          g: 35,
          b: 80
        },
        {
          pantoneId: 2229,
          name: "19-2041 TCX",
          majorColorName: "Pink",
          colorName: "Cherries Jubilee",
          r: 162,
          g: 36,
          b: 82
        },
        {
          pantoneId: 2230,
          name: "19-2045 TCX",
          majorColorName: "Pink",
          colorName: "Vivacious",
          r: 163,
          g: 40,
          b: 87
        },
        {
          pantoneId: 2231,
          name: "18-1355 TCX",
          majorColorName: "Brown",
          colorName: "Rooibos Tea",
          r: 162,
          g: 60,
          b: 38
        },
        {
          pantoneId: 2232,
          name: "18-1050 TCX",
          majorColorName: "Brown",
          colorName: "Honey Ginger",
          r: 168,
          g: 98,
          b: 23
        },
        {
          pantoneId: 2233,
          name: "17-1342 TCX",
          majorColorName: "Brown",
          colorName: "Autumnal",
          r: 161,
          g: 83,
          b: 37
        },
        {
          pantoneId: 2234,
          name: "18-3530 TCX",
          majorColorName: "Light-Purple",
          colorName: "Lavender Crystal",
          r: 147,
          g: 106,
          b: 152
        },
        {
          pantoneId: 2235,
          name: "17-1038 TCX",
          majorColorName: "Brown",
          colorName: "Tiger's Eye",
          r: 151,
          g: 124,
          b: 97
        },
        {
          pantoneId: 2236,
          name: "17-1316 TCX",
          majorColorName: "Brown",
          colorName: "Portabella",
          r: 147,
          g: 123,
          b: 106
        },
        {
          pantoneId: 2237,
          name: "17-1105 TCX",
          majorColorName: "Brown",
          colorName: "Roasted Cashew",
          r: 145,
          g: 133,
          b: 121
        },
        {
          pantoneId: 2238,
          name: "17-3520 TCX",
          majorColorName: "Gray",
          colorName: "Diffused Orchid",
          r: 152,
          g: 121,
          b: 162
        },
        {
          pantoneId: 2239,
          name: "17-3617 TCX",
          majorColorName: "Light-Purple",
          colorName: "English Lavender",
          r: 157,
          g: 123,
          b: 176
        },
        {
          pantoneId: 2240,
          name: "17-3735 TCX",
          majorColorName: "Light-Purple",
          colorName: "Sunlit Allium",
          r: 151,
          g: 135,
          b: 184
        },
        {
          pantoneId: 2241,
          name: "16-1109 TCX",
          majorColorName: "Brown",
          colorName: "Greige",
          r: 146,
          g: 132,
          b: 117
        },
        {
          pantoneId: 2242,
          name: "17-1108 TCX",
          majorColorName: "Brown",
          colorName: "Winter Twig",
          r: 148,
          g: 138,
          b: 122
        },
        {
          pantoneId: 2243,
          name: "16-1606 TCX",
          majorColorName: "Pink",
          colorName: "Purple Dove",
          r: 152,
          g: 135,
          b: 140
        },
        {
          pantoneId: 2244,
          name: "17-0630 TCX",
          majorColorName: "Yellow",
          colorName: "Tree House",
          r: 152,
          g: 140,
          b: 117
        },
        {
          pantoneId: 2245,
          name: "16-3800 TCX",
          majorColorName: "Gray",
          colorName: "Satellite",
          r: 151,
          g: 141,
          b: 137
        },
        {
          pantoneId: 2246,
          name: "16-4400 TCX",
          majorColorName: "Gray",
          colorName: "Mourning Dove",
          r: 148,
          g: 144,
          b: 139
        },
        {
          pantoneId: 2247,
          name: "16-5101 TCX",
          majorColorName: "White",
          colorName: "Wet Weather",
          r: 146,
          g: 144,
          b: 144
        },
        {
          pantoneId: 2248,
          name: "16-3915 TCX",
          majorColorName: "White",
          colorName: "Alloy",
          r: 152,
          g: 151,
          b: 154
        },
        {
          pantoneId: 2249,
          name: "16-3905 TCX",
          majorColorName: "White",
          colorName: "Lilac Gray",
          r: 152,
          g: 150,
          b: 164
        },
        {
          pantoneId: 2250,
          name: "15-3912 TCX",
          majorColorName: "White",
          colorName: "Aleutian",
          r: 154,
          g: 158,
          b: 179
        },
        {
          pantoneId: 2251,
          name: "14-3912 TCX",
          majorColorName: "White",
          colorName: "Zen Blue",
          r: 159,
          g: 169,
          b: 190
        },
        {
          pantoneId: 2252,
          name: "16-3922 TCX",
          majorColorName: "Blue",
          colorName: "Brunnera Blue",
          r: 155,
          g: 169,
          b: 202
        },
        {
          pantoneId: 2253,
          name: "15-4030 TCX",
          majorColorName: "White",
          colorName: "Chambray Blue",
          r: 158,
          g: 180,
          b: 211
        },
        {
          pantoneId: 2254,
          name: "13-0443 TCX",
          majorColorName: "Green",
          colorName: "Love Bird",
          r: 192,
          g: 219,
          b: 58
        },
        {
          pantoneId: 2255,
          name: "18-1653 TCX",
          majorColorName: "Pink",
          colorName: "Toreador",
          r: 182,
          g: 16,
          b: 50
        },
        {
          pantoneId: 2256,
          name: "18-1551 TCX",
          majorColorName: "Red",
          colorName: "Aura Orange",
          r: 180,
          g: 38,
          b: 42
        },
        {
          pantoneId: 2257,
          name: "18-1049 TCX",
          majorColorName: "Brown",
          colorName: "Thai Curry",
          r: 171,
          g: 104,
          b: 25
        },
        {
          pantoneId: 2258,
          name: "16-1438 TCX",
          majorColorName: "Pink",
          colorName: "Meerkat",
          r: 164,
          g: 111,
          b: 68
        },
        {
          pantoneId: 2259,
          name: "17-1609 TCX",
          majorColorName: "Pink",
          colorName: "Mesa Rose",
          r: 166,
          g: 110,
          b: 122
        },
        {
          pantoneId: 2260,
          name: "17-2411 TCX",
          majorColorName: "Pink",
          colorName: "Toadstool",
          r: 152,
          g: 128,
          b: 136
        },
        {
          pantoneId: 2261,
          name: "16-3817 TCX",
          majorColorName: "White",
          colorName: "Rhapsody",
          r: 159,
          g: 134,
          b: 170
        },
        {
          pantoneId: 2262,
          name: "16-3720 TCX",
          majorColorName: "Pink",
          colorName: "Sand Verbena",
          r: 159,
          g: 144,
          b: 193
        },
        {
          pantoneId: 2263,
          name: "17-0949 TCX",
          majorColorName: "Brown",
          colorName: "Chai Tea",
          r: 177,
          g: 131,
          b: 47
        },
        {
          pantoneId: 2264,
          name: "15-3716 TCX",
          majorColorName: "Blue",
          colorName: "Purple Rose",
          r: 176,
          g: 159,
          b: 202
        },
        {
          pantoneId: 2265,
          name: "15-3720 TCX",
          majorColorName: "Blue",
          colorName: "Lilac Breeze",
          r: 179,
          g: 160,
          b: 201
        },
        {
          pantoneId: 2266,
          name: "16-0205 TCX",
          majorColorName: "Gray",
          colorName: "Vintage Khaki",
          r: 154,
          g: 145,
          b: 134
        },
        {
          pantoneId: 2267,
          name: "16-4703 TCX",
          majorColorName: "Gray",
          colorName: "Ghost Gray",
          r: 156,
          g: 155,
          b: 152
        },
        {
          pantoneId: 2268,
          name: "16-3850 TCX",
          majorColorName: "Gray",
          colorName: "Silver Sconce",
          r: 161,
          g: 159,
          b: 165
        },
        {
          pantoneId: 2269,
          name: "16-0550 TCX",
          majorColorName: "Yellow",
          colorName: "Lentil Sprout",
          r: 171,
          g: 164,
          b: 77
        },
        {
          pantoneId: 2270,
          name: "15-4306 TCX",
          majorColorName: "Gray",
          colorName: "Belgian Block",
          r: 163,
          g: 169,
          b: 166
        },
        {
          pantoneId: 2271,
          name: "14-4311 TCX",
          majorColorName: "Blue",
          colorName: "Corydalis Blue",
          r: 169,
          g: 202,
          b: 218
        },
        {
          pantoneId: 2272,
          name: "14-4317 TCX",
          majorColorName: "Blue",
          colorName: "Cool Blue",
          r: 165,
          g: 197,
          b: 217
        },
        {
          pantoneId: 2273,
          name: "13-0651 TCX",
          majorColorName: "Yellow",
          colorName: "Evening Primrose",
          r: 204,
          g: 219,
          b: 30
        },
        {
          pantoneId: 2274,
          name: "13-5410 TCX",
          majorColorName: "Blue-Green",
          colorName: "Iced Aqua",
          r: 171,
          g: 211,
          b: 219
        },
        {
          pantoneId: 2275,
          name: "18-1950 TCX",
          majorColorName: "Pink",
          colorName: "Jazzy",
          r: 182,
          g: 28,
          b: 80
        },
        {
          pantoneId: 2276,
          name: "18-1549 TCX",
          majorColorName: "Pink",
          colorName: "Valiant Poppy",
          r: 188,
          g: 50,
          b: 44
        },
        {
          pantoneId: 2277,
          name: "18-1249 TCX",
          majorColorName: "Brown",
          colorName: "Hawaiian Sunset",
          r: 187,
          g: 92,
          b: 20
        },
        {
          pantoneId: 2278,
          name: "16-1449 TCX",
          majorColorName: "Orange",
          colorName: "Gold Flame",
          r: 180,
          g: 84,
          b: 34
        },
        {
          pantoneId: 2279,
          name: "17-3240 TCX",
          majorColorName: "Gray",
          colorName: "Bodacious",
          r: 183,
          g: 107,
          b: 163
        },
        {
          pantoneId: 2280,
          name: "15-1506 TCX",
          majorColorName: "Orange",
          colorName: "Etherea",
          r: 165,
          g: 149,
          b: 143
        },
        {
          pantoneId: 2281,
          name: "16-1104 TCX",
          majorColorName: "Brown",
          colorName: "Crockery",
          r: 164,
          g: 152,
          b: 135
        },
        {
          pantoneId: 2282,
          name: "16-1120 TCX",
          majorColorName: "Brown",
          colorName: "Starfish",
          r: 176,
          g: 154,
          b: 119
        },
        {
          pantoneId: 2283,
          name: "15-3800 TCX",
          majorColorName: "White",
          colorName: "Porpoise",
          r: 167,
          g: 161,
          b: 158
        },
        {
          pantoneId: 2284,
          name: "16-1103 TCX",
          majorColorName: "Brown",
          colorName: "Pure Cashmere",
          r: 173,
          g: 163,
          b: 150
        },
        {
          pantoneId: 2285,
          name: "14-3906 TCX",
          majorColorName: "White",
          colorName: "Raindrops",
          r: 177,
          g: 170,
          b: 179
        },
        {
          pantoneId: 2286,
          name: "15-3908 TCX",
          majorColorName: "White",
          colorName: "Icelandic Blue",
          r: 169,
          g: 173,
          b: 194
        },
        {
          pantoneId: 2287,
          name: "13-3920 TCX",
          majorColorName: "White",
          colorName: "Halogen Blue",
          r: 189,
          g: 198,
          b: 220
        },
        {
          pantoneId: 2288,
          name: "14-4202 TCX",
          majorColorName: "White",
          colorName: "Harbor Mist",
          r: 175,
          g: 177,
          b: 180
        },
        {
          pantoneId: 2289,
          name: "18-1951 TCX",
          majorColorName: "Pink",
          colorName: "Love Potion",
          r: 192,
          g: 19,
          b: 82
        },
        {
          pantoneId: 2290,
          name: "18-2045 TCX",
          majorColorName: "Pink",
          colorName: "Pink Peacock",
          r: 198,
          g: 33,
          b: 104
        },
        {
          pantoneId: 2291,
          name: "17-1449 TCX",
          majorColorName: "Pink",
          colorName: "Pureed Pumpkin",
          r: 195,
          g: 65,
          b: 33
        },
        {
          pantoneId: 2292,
          name: "17-1145 TCX",
          majorColorName: "Brown",
          colorName: "Autumn Maple",
          r: 196,
          g: 98,
          b: 21
        },
        {
          pantoneId: 2293,
          name: "17-1450 TCX",
          majorColorName: "Red",
          colorName: "Summer Fig",
          r: 190,
          g: 75,
          b: 59
        },
        {
          pantoneId: 2294,
          name: "17-1140 TCX",
          majorColorName: "Brown",
          colorName: "Marmalade",
          r: 193,
          g: 101,
          b: 18
        },
        {
          pantoneId: 2295,
          name: "17-1345 TCX",
          majorColorName: "Brown",
          colorName: "Spice Route",
          r: 185,
          g: 91,
          b: 63
        },
        {
          pantoneId: 2296,
          name: "16-1710 TCX",
          majorColorName: "Pink",
          colorName: "Foxglove",
          r: 185,
          g: 131,
          b: 145
        },
        {
          pantoneId: 2297,
          name: "15-1040 TCX",
          majorColorName: "Orange",
          colorName: "Iced Coffee",
          r: 177,
          g: 143,
          b: 106
        },
        {
          pantoneId: 2298,
          name: "15-1114 TCX",
          majorColorName: "Brown",
          colorName: "Travertine",
          r: 174,
          g: 153,
          b: 125
        },
        {
          pantoneId: 2299,
          name: "15-3520 TCX",
          majorColorName: "White",
          colorName: "Crocus Petal",
          r: 185,
          g: 155,
          b: 197
        },
        {
          pantoneId: 2300,
          name: "15-1307 TCX",
          majorColorName: "White",
          colorName: "White Pepper",
          r: 182,
          g: 168,
          b: 147
        },
        {
          pantoneId: 2301,
          name: "14-0116 TCX",
          majorColorName: "White",
          colorName: "Margarita",
          r: 181,
          g: 195,
          b: 142
        },
        {
          pantoneId: 2302,
          name: "14-4105 TCX",
          majorColorName: "White",
          colorName: "Micro Chip",
          r: 186,
          g: 188,
          b: 192
        },
        {
          pantoneId: 2303,
          name: "14-4107 TCX",
          majorColorName: "White",
          colorName: "Quiet Gray",
          r: 185,
          g: 186,
          b: 189
        },
        {
          pantoneId: 2304,
          name: "14-3949 TCX",
          majorColorName: "White",
          colorName: "Xenon Blue",
          r: 183,
          g: 192,
          b: 215
        },
        {
          pantoneId: 2305,
          name: "13-4200 TCX",
          majorColorName: "White",
          colorName: "Omphalodes",
          r: 181,
          g: 206,
          b: 223
        },
        {
          pantoneId: 2306,
          name: "17-2034 TCX",
          majorColorName: "Pink",
          colorName: "Pink Yarrow",
          r: 206,
          g: 49,
          b: 117
        },
        {
          pantoneId: 2307,
          name: "18-1564 TCX",
          majorColorName: "Red",
          colorName: "Poinciana",
          r: 202,
          g: 52,
          b: 34
        },
        {
          pantoneId: 2308,
          name: "18-2140 TCX",
          majorColorName: "Pink",
          colorName: "Cabaret",
          r: 203,
          g: 51,
          b: 115
        },
        {
          pantoneId: 2309,
          name: "17-1926 TCX",
          majorColorName: "Pink",
          colorName: "Fruit Dove",
          r: 206,
          g: 91,
          b: 120
        },
        {
          pantoneId: 2310,
          name: "16-1149 TCX",
          majorColorName: "Orange",
          colorName: "Desert Sun",
          r: 200,
          g: 118,
          b: 41
        }
      ]
    }
  }
};
function MB(a) {
  return ls({ tag: "svg", attr: { viewBox: "0 0 1024 1024" }, child: [{ tag: "path", attr: { d: "M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z" }, child: [] }, { tag: "path", attr: { d: "M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z" }, child: [] }] })(a);
}
const SB = (a, e, n, r) => (n | e << 8 | a << 16 | 1 << 24).toString(16).slice(1) + r;
function IB(a, e, n, r) {
  let o = (a + (r || "")).toString().includes("%");
  if (typeof a == "string" && !e) {
    const l = AB(a);
    if (!l)
      throw new TypeError("Invalid or unsupported color format.");
    o = !1, [a, e, n, r] = l;
  } else
    r !== void 0 && (r = Number.parseFloat(r));
  if (typeof a != "number" || typeof e != "number" || typeof n != "number" || a > 255 || e > 255 || n > 255)
    throw new TypeError("Expected three numbers below 256");
  if (typeof r == "number") {
    if (!o && r >= 0 && r <= 1)
      r = Math.round(255 * r);
    else if (o && r >= 0 && r <= 100)
      r = Math.round(255 * r / 100);
    else
      throw new TypeError(`Expected alpha value (${r}) as a fraction or percentage`);
    r = (r | 256).toString(16).slice(1);
  } else
    r = "";
  return SB(a, e, n, r);
}
const AB = (a) => {
  const e = a.replace(/rgba?\(([^)]+)\)/, "$1").split(/[,\s/]+/).filter(Boolean);
  if (e.length < 3)
    return;
  const n = (d, p) => (d = d.trim(), d.endsWith("%") ? Math.min(Number.parseFloat(d) * p / 100, p) : Math.min(Number.parseFloat(d), p)), r = n(e[0], 255), o = n(e[1], 255), l = n(e[2], 255);
  let h;
  return e.length === 4 && (h = n(e[3], 1)), [r, o, l, h];
};
var ro = {}, xp = {}, EB = typeof Dr == "object" && Dr && Dr.Object === Object && Dr, rI = EB, PB = rI, RB = typeof self == "object" && self && self.Object === Object && self, BB = PB || RB || Function("return this")(), fa = BB, OB = fa, LB = OB.Symbol, Cp = LB, hT = Cp, iI = Object.prototype, jB = iI.hasOwnProperty, DB = iI.toString, Bm = hT ? hT.toStringTag : void 0;
function FB(a) {
  var e = jB.call(a, Bm), n = a[Bm];
  try {
    a[Bm] = void 0;
    var r = !0;
  } catch {
  }
  var o = DB.call(a);
  return r && (e ? a[Bm] = n : delete a[Bm]), o;
}
var kB = FB, XB = Object.prototype, zB = XB.toString;
function UB(a) {
  return zB.call(a);
}
var GB = UB, uT = Cp, WB = kB, VB = GB, HB = "[object Null]", $B = "[object Undefined]", dT = uT ? uT.toStringTag : void 0;
function qB(a) {
  return a == null ? a === void 0 ? $B : HB : dT && dT in Object(a) ? WB(a) : VB(a);
}
var $c = qB, YB = Array.isArray, Xo = YB;
function KB(a) {
  return a != null && typeof a == "object";
}
var cs = KB, ZB = $c, JB = Xo, QB = cs, e9 = "[object String]";
function t9(a) {
  return typeof a == "string" || !JB(a) && QB(a) && ZB(a) == e9;
}
var n9 = t9;
function r9(a) {
  return function(e, n, r) {
    for (var o = -1, l = Object(e), h = r(e), d = h.length; d--; ) {
      var p = h[a ? d : ++o];
      if (n(l[p], p, l) === !1)
        break;
    }
    return e;
  };
}
var i9 = r9, o9 = i9, a9 = o9(), s9 = a9;
function l9(a, e) {
  for (var n = -1, r = Array(a); ++n < a; )
    r[n] = e(n);
  return r;
}
var c9 = l9, h9 = $c, u9 = cs, d9 = "[object Arguments]";
function m9(a) {
  return u9(a) && h9(a) == d9;
}
var p9 = m9, mT = p9, f9 = cs, oI = Object.prototype, g9 = oI.hasOwnProperty, b9 = oI.propertyIsEnumerable, v9 = mT(/* @__PURE__ */ function() {
  return arguments;
}()) ? mT : function(a) {
  return f9(a) && g9.call(a, "callee") && !b9.call(a, "callee");
}, aI = v9, Dg = { exports: {} };
function y9() {
  return !1;
}
var x9 = y9;
Dg.exports;
(function(a, e) {
  var n = fa, r = x9, o = e && !e.nodeType && e, l = o && !0 && a && !a.nodeType && a, h = l && l.exports === o, d = h ? n.Buffer : void 0, p = d ? d.isBuffer : void 0, g = p || r;
  a.exports = g;
})(Dg, Dg.exports);
var h2 = Dg.exports, C9 = 9007199254740991, _9 = /^(?:0|[1-9]\d*)$/;
function w9(a, e) {
  var n = typeof a;
  return e = e ?? C9, !!e && (n == "number" || n != "symbol" && _9.test(a)) && a > -1 && a % 1 == 0 && a < e;
}
var sI = w9, T9 = 9007199254740991;
function N9(a) {
  return typeof a == "number" && a > -1 && a % 1 == 0 && a <= T9;
}
var u2 = N9, M9 = $c, S9 = u2, I9 = cs, A9 = "[object Arguments]", E9 = "[object Array]", P9 = "[object Boolean]", R9 = "[object Date]", B9 = "[object Error]", O9 = "[object Function]", L9 = "[object Map]", j9 = "[object Number]", D9 = "[object Object]", F9 = "[object RegExp]", k9 = "[object Set]", X9 = "[object String]", z9 = "[object WeakMap]", U9 = "[object ArrayBuffer]", G9 = "[object DataView]", W9 = "[object Float32Array]", V9 = "[object Float64Array]", H9 = "[object Int8Array]", $9 = "[object Int16Array]", q9 = "[object Int32Array]", Y9 = "[object Uint8Array]", K9 = "[object Uint8ClampedArray]", Z9 = "[object Uint16Array]", J9 = "[object Uint32Array]", ir = {};
ir[W9] = ir[V9] = ir[H9] = ir[$9] = ir[q9] = ir[Y9] = ir[K9] = ir[Z9] = ir[J9] = !0;
ir[A9] = ir[E9] = ir[U9] = ir[P9] = ir[G9] = ir[R9] = ir[B9] = ir[O9] = ir[L9] = ir[j9] = ir[D9] = ir[F9] = ir[k9] = ir[X9] = ir[z9] = !1;
function Q9(a) {
  return I9(a) && S9(a.length) && !!ir[M9(a)];
}
var e7 = Q9;
function t7(a) {
  return function(e) {
    return a(e);
  };
}
var d2 = t7, Fg = { exports: {} };
Fg.exports;
(function(a, e) {
  var n = rI, r = e && !e.nodeType && e, o = r && !0 && a && !a.nodeType && a, l = o && o.exports === r, h = l && n.process, d = function() {
    try {
      var p = o && o.require && o.require("util").types;
      return p || h && h.binding && h.binding("util");
    } catch {
    }
  }();
  a.exports = d;
})(Fg, Fg.exports);
var m2 = Fg.exports, n7 = e7, r7 = d2, pT = m2, fT = pT && pT.isTypedArray, i7 = fT ? r7(fT) : n7, lI = i7, o7 = c9, a7 = aI, s7 = Xo, l7 = h2, c7 = sI, h7 = lI, u7 = Object.prototype, d7 = u7.hasOwnProperty;
function m7(a, e) {
  var n = s7(a), r = !n && a7(a), o = !n && !r && l7(a), l = !n && !r && !o && h7(a), h = n || r || o || l, d = h ? o7(a.length, String) : [], p = d.length;
  for (var g in a)
    (e || d7.call(a, g)) && !(h && // Safari 9 has enumerable `arguments.length` in strict mode.
    (g == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    o && (g == "offset" || g == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    l && (g == "buffer" || g == "byteLength" || g == "byteOffset") || // Skip index properties.
    c7(g, p))) && d.push(g);
  return d;
}
var cI = m7, p7 = Object.prototype;
function f7(a) {
  var e = a && a.constructor, n = typeof e == "function" && e.prototype || p7;
  return a === n;
}
var p2 = f7;
function g7(a, e) {
  return function(n) {
    return a(e(n));
  };
}
var hI = g7, b7 = hI, v7 = b7(Object.keys, Object), y7 = v7, x7 = p2, C7 = y7, _7 = Object.prototype, w7 = _7.hasOwnProperty;
function T7(a) {
  if (!x7(a))
    return C7(a);
  var e = [];
  for (var n in Object(a))
    w7.call(a, n) && n != "constructor" && e.push(n);
  return e;
}
var N7 = T7;
function M7(a) {
  var e = typeof a;
  return a != null && (e == "object" || e == "function");
}
var Hu = M7, S7 = $c, I7 = Hu, A7 = "[object AsyncFunction]", E7 = "[object Function]", P7 = "[object GeneratorFunction]", R7 = "[object Proxy]";
function B7(a) {
  if (!I7(a))
    return !1;
  var e = S7(a);
  return e == E7 || e == P7 || e == A7 || e == R7;
}
var uI = B7, O7 = uI, L7 = u2;
function j7(a) {
  return a != null && L7(a.length) && !O7(a);
}
var i0 = j7, D7 = cI, F7 = N7, k7 = i0;
function X7(a) {
  return k7(a) ? D7(a) : F7(a);
}
var _p = X7, z7 = s9, U7 = _p;
function G7(a, e) {
  return a && z7(a, e, U7);
}
var dI = G7;
function W7(a) {
  return a;
}
var mI = W7, V7 = mI;
function H7(a) {
  return typeof a == "function" ? a : V7;
}
var $7 = H7, q7 = dI, Y7 = $7;
function K7(a, e) {
  return a && q7(a, Y7(e));
}
var f2 = K7, Z7 = hI, J7 = Z7(Object.getPrototypeOf, Object), g2 = J7, Q7 = $c, eO = g2, tO = cs, nO = "[object Object]", rO = Function.prototype, iO = Object.prototype, pI = rO.toString, oO = iO.hasOwnProperty, aO = pI.call(Object);
function sO(a) {
  if (!tO(a) || Q7(a) != nO)
    return !1;
  var e = eO(a);
  if (e === null)
    return !0;
  var n = oO.call(e, "constructor") && e.constructor;
  return typeof n == "function" && n instanceof n && pI.call(n) == aO;
}
var lO = sO;
function cO(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length, o = Array(r); ++n < r; )
    o[n] = e(a[n], n, a);
  return o;
}
var fI = cO;
function hO() {
  this.__data__ = [], this.size = 0;
}
var uO = hO;
function dO(a, e) {
  return a === e || a !== a && e !== e;
}
var b2 = dO, mO = b2;
function pO(a, e) {
  for (var n = a.length; n--; )
    if (mO(a[n][0], e))
      return n;
  return -1;
}
var o0 = pO, fO = o0, gO = Array.prototype, bO = gO.splice;
function vO(a) {
  var e = this.__data__, n = fO(e, a);
  if (n < 0)
    return !1;
  var r = e.length - 1;
  return n == r ? e.pop() : bO.call(e, n, 1), --this.size, !0;
}
var yO = vO, xO = o0;
function CO(a) {
  var e = this.__data__, n = xO(e, a);
  return n < 0 ? void 0 : e[n][1];
}
var _O = CO, wO = o0;
function TO(a) {
  return wO(this.__data__, a) > -1;
}
var NO = TO, MO = o0;
function SO(a, e) {
  var n = this.__data__, r = MO(n, a);
  return r < 0 ? (++this.size, n.push([a, e])) : n[r][1] = e, this;
}
var IO = SO, AO = uO, EO = yO, PO = _O, RO = NO, BO = IO;
function $u(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.clear(); ++e < n; ) {
    var r = a[e];
    this.set(r[0], r[1]);
  }
}
$u.prototype.clear = AO;
$u.prototype.delete = EO;
$u.prototype.get = PO;
$u.prototype.has = RO;
$u.prototype.set = BO;
var a0 = $u, OO = a0;
function LO() {
  this.__data__ = new OO(), this.size = 0;
}
var jO = LO;
function DO(a) {
  var e = this.__data__, n = e.delete(a);
  return this.size = e.size, n;
}
var FO = DO;
function kO(a) {
  return this.__data__.get(a);
}
var XO = kO;
function zO(a) {
  return this.__data__.has(a);
}
var UO = zO, GO = fa, WO = GO["__core-js_shared__"], VO = WO, Bv = VO, gT = function() {
  var a = /[^.]+$/.exec(Bv && Bv.keys && Bv.keys.IE_PROTO || "");
  return a ? "Symbol(src)_1." + a : "";
}();
function HO(a) {
  return !!gT && gT in a;
}
var $O = HO, qO = Function.prototype, YO = qO.toString;
function KO(a) {
  if (a != null) {
    try {
      return YO.call(a);
    } catch {
    }
    try {
      return a + "";
    } catch {
    }
  }
  return "";
}
var gI = KO, ZO = uI, JO = $O, QO = Hu, eL = gI, tL = /[\\^$.*+?()[\]{}|]/g, nL = /^\[object .+?Constructor\]$/, rL = Function.prototype, iL = Object.prototype, oL = rL.toString, aL = iL.hasOwnProperty, sL = RegExp(
  "^" + oL.call(aL).replace(tL, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function lL(a) {
  if (!QO(a) || JO(a))
    return !1;
  var e = ZO(a) ? sL : nL;
  return e.test(eL(a));
}
var cL = lL;
function hL(a, e) {
  return a == null ? void 0 : a[e];
}
var uL = hL, dL = cL, mL = uL;
function pL(a, e) {
  var n = mL(a, e);
  return dL(n) ? n : void 0;
}
var qc = pL, fL = qc, gL = fa, bL = fL(gL, "Map"), v2 = bL, vL = qc, yL = vL(Object, "create"), s0 = yL, bT = s0;
function xL() {
  this.__data__ = bT ? bT(null) : {}, this.size = 0;
}
var CL = xL;
function _L(a) {
  var e = this.has(a) && delete this.__data__[a];
  return this.size -= e ? 1 : 0, e;
}
var wL = _L, TL = s0, NL = "__lodash_hash_undefined__", ML = Object.prototype, SL = ML.hasOwnProperty;
function IL(a) {
  var e = this.__data__;
  if (TL) {
    var n = e[a];
    return n === NL ? void 0 : n;
  }
  return SL.call(e, a) ? e[a] : void 0;
}
var AL = IL, EL = s0, PL = Object.prototype, RL = PL.hasOwnProperty;
function BL(a) {
  var e = this.__data__;
  return EL ? e[a] !== void 0 : RL.call(e, a);
}
var OL = BL, LL = s0, jL = "__lodash_hash_undefined__";
function DL(a, e) {
  var n = this.__data__;
  return this.size += this.has(a) ? 0 : 1, n[a] = LL && e === void 0 ? jL : e, this;
}
var FL = DL, kL = CL, XL = wL, zL = AL, UL = OL, GL = FL;
function qu(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.clear(); ++e < n; ) {
    var r = a[e];
    this.set(r[0], r[1]);
  }
}
qu.prototype.clear = kL;
qu.prototype.delete = XL;
qu.prototype.get = zL;
qu.prototype.has = UL;
qu.prototype.set = GL;
var WL = qu, vT = WL, VL = a0, HL = v2;
function $L() {
  this.size = 0, this.__data__ = {
    hash: new vT(),
    map: new (HL || VL)(),
    string: new vT()
  };
}
var qL = $L;
function YL(a) {
  var e = typeof a;
  return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? a !== "__proto__" : a === null;
}
var KL = YL, ZL = KL;
function JL(a, e) {
  var n = a.__data__;
  return ZL(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map;
}
var l0 = JL, QL = l0;
function ej(a) {
  var e = QL(this, a).delete(a);
  return this.size -= e ? 1 : 0, e;
}
var tj = ej, nj = l0;
function rj(a) {
  return nj(this, a).get(a);
}
var ij = rj, oj = l0;
function aj(a) {
  return oj(this, a).has(a);
}
var sj = aj, lj = l0;
function cj(a, e) {
  var n = lj(this, a), r = n.size;
  return n.set(a, e), this.size += n.size == r ? 0 : 1, this;
}
var hj = cj, uj = qL, dj = tj, mj = ij, pj = sj, fj = hj;
function Yu(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.clear(); ++e < n; ) {
    var r = a[e];
    this.set(r[0], r[1]);
  }
}
Yu.prototype.clear = uj;
Yu.prototype.delete = dj;
Yu.prototype.get = mj;
Yu.prototype.has = pj;
Yu.prototype.set = fj;
var y2 = Yu, gj = a0, bj = v2, vj = y2, yj = 200;
function xj(a, e) {
  var n = this.__data__;
  if (n instanceof gj) {
    var r = n.__data__;
    if (!bj || r.length < yj - 1)
      return r.push([a, e]), this.size = ++n.size, this;
    n = this.__data__ = new vj(r);
  }
  return n.set(a, e), this.size = n.size, this;
}
var Cj = xj, _j = a0, wj = jO, Tj = FO, Nj = XO, Mj = UO, Sj = Cj;
function Ku(a) {
  var e = this.__data__ = new _j(a);
  this.size = e.size;
}
Ku.prototype.clear = wj;
Ku.prototype.delete = Tj;
Ku.prototype.get = Nj;
Ku.prototype.has = Mj;
Ku.prototype.set = Sj;
var x2 = Ku, Ij = "__lodash_hash_undefined__";
function Aj(a) {
  return this.__data__.set(a, Ij), this;
}
var Ej = Aj;
function Pj(a) {
  return this.__data__.has(a);
}
var Rj = Pj, Bj = y2, Oj = Ej, Lj = Rj;
function kg(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.__data__ = new Bj(); ++e < n; )
    this.add(a[e]);
}
kg.prototype.add = kg.prototype.push = Oj;
kg.prototype.has = Lj;
var jj = kg;
function Dj(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length; ++n < r; )
    if (e(a[n], n, a))
      return !0;
  return !1;
}
var Fj = Dj;
function kj(a, e) {
  return a.has(e);
}
var Xj = kj, zj = jj, Uj = Fj, Gj = Xj, Wj = 1, Vj = 2;
function Hj(a, e, n, r, o, l) {
  var h = n & Wj, d = a.length, p = e.length;
  if (d != p && !(h && p > d))
    return !1;
  var g = l.get(a), v = l.get(e);
  if (g && v)
    return g == e && v == a;
  var y = -1, x = !0, w = n & Vj ? new zj() : void 0;
  for (l.set(a, e), l.set(e, a); ++y < d; ) {
    var T = a[y], M = e[y];
    if (r)
      var S = h ? r(M, T, y, e, a, l) : r(T, M, y, a, e, l);
    if (S !== void 0) {
      if (S)
        continue;
      x = !1;
      break;
    }
    if (w) {
      if (!Uj(e, function(L, F) {
        if (!Gj(w, F) && (T === L || o(T, L, n, r, l)))
          return w.push(F);
      })) {
        x = !1;
        break;
      }
    } else if (!(T === M || o(T, M, n, r, l))) {
      x = !1;
      break;
    }
  }
  return l.delete(a), l.delete(e), x;
}
var bI = Hj, $j = fa, qj = $j.Uint8Array, vI = qj;
function Yj(a) {
  var e = -1, n = Array(a.size);
  return a.forEach(function(r, o) {
    n[++e] = [o, r];
  }), n;
}
var Kj = Yj;
function Zj(a) {
  var e = -1, n = Array(a.size);
  return a.forEach(function(r) {
    n[++e] = r;
  }), n;
}
var Jj = Zj, yT = Cp, xT = vI, Qj = b2, eD = bI, tD = Kj, nD = Jj, rD = 1, iD = 2, oD = "[object Boolean]", aD = "[object Date]", sD = "[object Error]", lD = "[object Map]", cD = "[object Number]", hD = "[object RegExp]", uD = "[object Set]", dD = "[object String]", mD = "[object Symbol]", pD = "[object ArrayBuffer]", fD = "[object DataView]", CT = yT ? yT.prototype : void 0, Ov = CT ? CT.valueOf : void 0;
function gD(a, e, n, r, o, l, h) {
  switch (n) {
    case fD:
      if (a.byteLength != e.byteLength || a.byteOffset != e.byteOffset)
        return !1;
      a = a.buffer, e = e.buffer;
    case pD:
      return !(a.byteLength != e.byteLength || !l(new xT(a), new xT(e)));
    case oD:
    case aD:
    case cD:
      return Qj(+a, +e);
    case sD:
      return a.name == e.name && a.message == e.message;
    case hD:
    case dD:
      return a == e + "";
    case lD:
      var d = tD;
    case uD:
      var p = r & rD;
      if (d || (d = nD), a.size != e.size && !p)
        return !1;
      var g = h.get(a);
      if (g)
        return g == e;
      r |= iD, h.set(a, e);
      var v = eD(d(a), d(e), r, o, l, h);
      return h.delete(a), v;
    case mD:
      if (Ov)
        return Ov.call(a) == Ov.call(e);
  }
  return !1;
}
var bD = gD;
function vD(a, e) {
  for (var n = -1, r = e.length, o = a.length; ++n < r; )
    a[o + n] = e[n];
  return a;
}
var yI = vD, yD = yI, xD = Xo;
function CD(a, e, n) {
  var r = e(a);
  return xD(a) ? r : yD(r, n(a));
}
var xI = CD;
function _D(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length, o = 0, l = []; ++n < r; ) {
    var h = a[n];
    e(h, n, a) && (l[o++] = h);
  }
  return l;
}
var wD = _D;
function TD() {
  return [];
}
var CI = TD, ND = wD, MD = CI, SD = Object.prototype, ID = SD.propertyIsEnumerable, _T = Object.getOwnPropertySymbols, AD = _T ? function(a) {
  return a == null ? [] : (a = Object(a), ND(_T(a), function(e) {
    return ID.call(a, e);
  }));
} : MD, C2 = AD, ED = xI, PD = C2, RD = _p;
function BD(a) {
  return ED(a, RD, PD);
}
var _I = BD, wT = _I, OD = 1, LD = Object.prototype, jD = LD.hasOwnProperty;
function DD(a, e, n, r, o, l) {
  var h = n & OD, d = wT(a), p = d.length, g = wT(e), v = g.length;
  if (p != v && !h)
    return !1;
  for (var y = p; y--; ) {
    var x = d[y];
    if (!(h ? x in e : jD.call(e, x)))
      return !1;
  }
  var w = l.get(a), T = l.get(e);
  if (w && T)
    return w == e && T == a;
  var M = !0;
  l.set(a, e), l.set(e, a);
  for (var S = h; ++y < p; ) {
    x = d[y];
    var L = a[x], F = e[x];
    if (r)
      var G = h ? r(F, L, x, e, a, l) : r(L, F, x, a, e, l);
    if (!(G === void 0 ? L === F || o(L, F, n, r, l) : G)) {
      M = !1;
      break;
    }
    S || (S = x == "constructor");
  }
  if (M && !S) {
    var $ = a.constructor, K = e.constructor;
    $ != K && "constructor" in a && "constructor" in e && !(typeof $ == "function" && $ instanceof $ && typeof K == "function" && K instanceof K) && (M = !1);
  }
  return l.delete(a), l.delete(e), M;
}
var FD = DD, kD = qc, XD = fa, zD = kD(XD, "DataView"), UD = zD, GD = qc, WD = fa, VD = GD(WD, "Promise"), HD = VD, $D = qc, qD = fa, YD = $D(qD, "Set"), KD = YD, ZD = qc, JD = fa, QD = ZD(JD, "WeakMap"), eF = QD, Tx = UD, Nx = v2, Mx = HD, Sx = KD, Ix = eF, wI = $c, Zu = gI, TT = "[object Map]", tF = "[object Object]", NT = "[object Promise]", MT = "[object Set]", ST = "[object WeakMap]", IT = "[object DataView]", nF = Zu(Tx), rF = Zu(Nx), iF = Zu(Mx), oF = Zu(Sx), aF = Zu(Ix), Lc = wI;
(Tx && Lc(new Tx(new ArrayBuffer(1))) != IT || Nx && Lc(new Nx()) != TT || Mx && Lc(Mx.resolve()) != NT || Sx && Lc(new Sx()) != MT || Ix && Lc(new Ix()) != ST) && (Lc = function(a) {
  var e = wI(a), n = e == tF ? a.constructor : void 0, r = n ? Zu(n) : "";
  if (r)
    switch (r) {
      case nF:
        return IT;
      case rF:
        return TT;
      case iF:
        return NT;
      case oF:
        return MT;
      case aF:
        return ST;
    }
  return e;
});
var c0 = Lc, Lv = x2, sF = bI, lF = bD, cF = FD, AT = c0, ET = Xo, PT = h2, hF = lI, uF = 1, RT = "[object Arguments]", BT = "[object Array]", E1 = "[object Object]", dF = Object.prototype, OT = dF.hasOwnProperty;
function mF(a, e, n, r, o, l) {
  var h = ET(a), d = ET(e), p = h ? BT : AT(a), g = d ? BT : AT(e);
  p = p == RT ? E1 : p, g = g == RT ? E1 : g;
  var v = p == E1, y = g == E1, x = p == g;
  if (x && PT(a)) {
    if (!PT(e))
      return !1;
    h = !0, v = !1;
  }
  if (x && !v)
    return l || (l = new Lv()), h || hF(a) ? sF(a, e, n, r, o, l) : lF(a, e, p, n, r, o, l);
  if (!(n & uF)) {
    var w = v && OT.call(a, "__wrapped__"), T = y && OT.call(e, "__wrapped__");
    if (w || T) {
      var M = w ? a.value() : a, S = T ? e.value() : e;
      return l || (l = new Lv()), o(M, S, n, r, l);
    }
  }
  return x ? (l || (l = new Lv()), cF(a, e, n, r, o, l)) : !1;
}
var pF = mF, fF = pF, LT = cs;
function TI(a, e, n, r, o) {
  return a === e ? !0 : a == null || e == null || !LT(a) && !LT(e) ? a !== a && e !== e : fF(a, e, n, r, TI, o);
}
var NI = TI, gF = x2, bF = NI, vF = 1, yF = 2;
function xF(a, e, n, r) {
  var o = n.length, l = o, h = !r;
  if (a == null)
    return !l;
  for (a = Object(a); o--; ) {
    var d = n[o];
    if (h && d[2] ? d[1] !== a[d[0]] : !(d[0] in a))
      return !1;
  }
  for (; ++o < l; ) {
    d = n[o];
    var p = d[0], g = a[p], v = d[1];
    if (h && d[2]) {
      if (g === void 0 && !(p in a))
        return !1;
    } else {
      var y = new gF();
      if (r)
        var x = r(g, v, p, a, e, y);
      if (!(x === void 0 ? bF(v, g, vF | yF, r, y) : x))
        return !1;
    }
  }
  return !0;
}
var CF = xF, _F = Hu;
function wF(a) {
  return a === a && !_F(a);
}
var MI = wF, TF = MI, NF = _p;
function MF(a) {
  for (var e = NF(a), n = e.length; n--; ) {
    var r = e[n], o = a[r];
    e[n] = [r, o, TF(o)];
  }
  return e;
}
var SF = MF;
function IF(a, e) {
  return function(n) {
    return n == null ? !1 : n[a] === e && (e !== void 0 || a in Object(n));
  };
}
var SI = IF, AF = CF, EF = SF, PF = SI;
function RF(a) {
  var e = EF(a);
  return e.length == 1 && e[0][2] ? PF(e[0][0], e[0][1]) : function(n) {
    return n === a || AF(n, a, e);
  };
}
var BF = RF, OF = $c, LF = cs, jF = "[object Symbol]";
function DF(a) {
  return typeof a == "symbol" || LF(a) && OF(a) == jF;
}
var _2 = DF, FF = Xo, kF = _2, XF = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, zF = /^\w*$/;
function UF(a, e) {
  if (FF(a))
    return !1;
  var n = typeof a;
  return n == "number" || n == "symbol" || n == "boolean" || a == null || kF(a) ? !0 : zF.test(a) || !XF.test(a) || e != null && a in Object(e);
}
var w2 = UF, II = y2, GF = "Expected a function";
function T2(a, e) {
  if (typeof a != "function" || e != null && typeof e != "function")
    throw new TypeError(GF);
  var n = function() {
    var r = arguments, o = e ? e.apply(this, r) : r[0], l = n.cache;
    if (l.has(o))
      return l.get(o);
    var h = a.apply(this, r);
    return n.cache = l.set(o, h) || l, h;
  };
  return n.cache = new (T2.Cache || II)(), n;
}
T2.Cache = II;
var WF = T2, VF = WF, HF = 500;
function $F(a) {
  var e = VF(a, function(r) {
    return n.size === HF && n.clear(), r;
  }), n = e.cache;
  return e;
}
var qF = $F, YF = qF, KF = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, ZF = /\\(\\)?/g, JF = YF(function(a) {
  var e = [];
  return a.charCodeAt(0) === 46 && e.push(""), a.replace(KF, function(n, r, o, l) {
    e.push(o ? l.replace(ZF, "$1") : r || n);
  }), e;
}), QF = JF, jT = Cp, ek = fI, tk = Xo, nk = _2, rk = 1 / 0, DT = jT ? jT.prototype : void 0, FT = DT ? DT.toString : void 0;
function AI(a) {
  if (typeof a == "string")
    return a;
  if (tk(a))
    return ek(a, AI) + "";
  if (nk(a))
    return FT ? FT.call(a) : "";
  var e = a + "";
  return e == "0" && 1 / a == -rk ? "-0" : e;
}
var ik = AI, ok = ik;
function ak(a) {
  return a == null ? "" : ok(a);
}
var sk = ak, lk = Xo, ck = w2, hk = QF, uk = sk;
function dk(a, e) {
  return lk(a) ? a : ck(a, e) ? [a] : hk(uk(a));
}
var EI = dk, mk = _2, pk = 1 / 0;
function fk(a) {
  if (typeof a == "string" || mk(a))
    return a;
  var e = a + "";
  return e == "0" && 1 / a == -pk ? "-0" : e;
}
var h0 = fk, gk = EI, bk = h0;
function vk(a, e) {
  e = gk(e, a);
  for (var n = 0, r = e.length; a != null && n < r; )
    a = a[bk(e[n++])];
  return n && n == r ? a : void 0;
}
var PI = vk, yk = PI;
function xk(a, e, n) {
  var r = a == null ? void 0 : yk(a, e);
  return r === void 0 ? n : r;
}
var Ck = xk;
function _k(a, e) {
  return a != null && e in Object(a);
}
var wk = _k, Tk = EI, Nk = aI, Mk = Xo, Sk = sI, Ik = u2, Ak = h0;
function Ek(a, e, n) {
  e = Tk(e, a);
  for (var r = -1, o = e.length, l = !1; ++r < o; ) {
    var h = Ak(e[r]);
    if (!(l = a != null && n(a, h)))
      break;
    a = a[h];
  }
  return l || ++r != o ? l : (o = a == null ? 0 : a.length, !!o && Ik(o) && Sk(h, o) && (Mk(a) || Nk(a)));
}
var Pk = Ek, Rk = wk, Bk = Pk;
function Ok(a, e) {
  return a != null && Bk(a, e, Rk);
}
var Lk = Ok, jk = NI, Dk = Ck, Fk = Lk, kk = w2, Xk = MI, zk = SI, Uk = h0, Gk = 1, Wk = 2;
function Vk(a, e) {
  return kk(a) && Xk(e) ? zk(Uk(a), e) : function(n) {
    var r = Dk(n, a);
    return r === void 0 && r === e ? Fk(n, a) : jk(e, r, Gk | Wk);
  };
}
var Hk = Vk;
function $k(a) {
  return function(e) {
    return e == null ? void 0 : e[a];
  };
}
var qk = $k, Yk = PI;
function Kk(a) {
  return function(e) {
    return Yk(e, a);
  };
}
var Zk = Kk, Jk = qk, Qk = Zk, eX = w2, tX = h0;
function nX(a) {
  return eX(a) ? Jk(tX(a)) : Qk(a);
}
var rX = nX, iX = BF, oX = Hk, aX = mI, sX = Xo, lX = rX;
function cX(a) {
  return typeof a == "function" ? a : a == null ? aX : typeof a == "object" ? sX(a) ? oX(a[0], a[1]) : iX(a) : lX(a);
}
var hX = cX, uX = i0;
function dX(a, e) {
  return function(n, r) {
    if (n == null)
      return n;
    if (!uX(n))
      return a(n, r);
    for (var o = n.length, l = e ? o : -1, h = Object(n); (e ? l-- : ++l < o) && r(h[l], l, h) !== !1; )
      ;
    return n;
  };
}
var mX = dX, pX = dI, fX = mX, gX = fX(pX), bX = gX, vX = bX, yX = i0;
function xX(a, e) {
  var n = -1, r = yX(a) ? Array(a.length) : [];
  return vX(a, function(o, l, h) {
    r[++n] = e(o, l, h);
  }), r;
}
var CX = xX, _X = fI, wX = hX, TX = CX, NX = Xo;
function MX(a, e) {
  var n = NX(a) ? _X : TX;
  return n(a, wX(e));
}
var SX = MX;
Object.defineProperty(xp, "__esModule", {
  value: !0
});
xp.flattenNames = void 0;
var IX = n9, AX = u0(IX), EX = f2, PX = u0(EX), RX = lO, BX = u0(RX), OX = SX, LX = u0(OX);
function u0(a) {
  return a && a.__esModule ? a : { default: a };
}
var jX = xp.flattenNames = function a() {
  var e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], n = [];
  return (0, LX.default)(e, function(r) {
    Array.isArray(r) ? a(r).map(function(o) {
      return n.push(o);
    }) : (0, BX.default)(r) ? (0, PX.default)(r, function(o, l) {
      o === !0 && n.push(l), n.push(l + "-" + o);
    }) : (0, AX.default)(r) && n.push(r);
  }), n;
};
xp.default = jX;
var wp = {};
function DX(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length; ++n < r && e(a[n], n, a) !== !1; )
    ;
  return a;
}
var FX = DX, kX = qc, XX = function() {
  try {
    var a = kX(Object, "defineProperty");
    return a({}, "", {}), a;
  } catch {
  }
}(), zX = XX, kT = zX;
function UX(a, e, n) {
  e == "__proto__" && kT ? kT(a, e, {
    configurable: !0,
    enumerable: !0,
    value: n,
    writable: !0
  }) : a[e] = n;
}
var RI = UX, GX = RI, WX = b2, VX = Object.prototype, HX = VX.hasOwnProperty;
function $X(a, e, n) {
  var r = a[e];
  (!(HX.call(a, e) && WX(r, n)) || n === void 0 && !(e in a)) && GX(a, e, n);
}
var BI = $X, qX = BI, YX = RI;
function KX(a, e, n, r) {
  var o = !n;
  n || (n = {});
  for (var l = -1, h = e.length; ++l < h; ) {
    var d = e[l], p = r ? r(n[d], a[d], d, n, a) : void 0;
    p === void 0 && (p = a[d]), o ? YX(n, d, p) : qX(n, d, p);
  }
  return n;
}
var d0 = KX, ZX = d0, JX = _p;
function QX(a, e) {
  return a && ZX(e, JX(e), a);
}
var ez = QX;
function tz(a) {
  var e = [];
  if (a != null)
    for (var n in Object(a))
      e.push(n);
  return e;
}
var nz = tz, rz = Hu, iz = p2, oz = nz, az = Object.prototype, sz = az.hasOwnProperty;
function lz(a) {
  if (!rz(a))
    return oz(a);
  var e = iz(a), n = [];
  for (var r in a)
    r == "constructor" && (e || !sz.call(a, r)) || n.push(r);
  return n;
}
var cz = lz, hz = cI, uz = cz, dz = i0;
function mz(a) {
  return dz(a) ? hz(a, !0) : uz(a);
}
var N2 = mz, pz = d0, fz = N2;
function gz(a, e) {
  return a && pz(e, fz(e), a);
}
var bz = gz, Xg = { exports: {} };
Xg.exports;
(function(a, e) {
  var n = fa, r = e && !e.nodeType && e, o = r && !0 && a && !a.nodeType && a, l = o && o.exports === r, h = l ? n.Buffer : void 0, d = h ? h.allocUnsafe : void 0;
  function p(g, v) {
    if (v)
      return g.slice();
    var y = g.length, x = d ? d(y) : new g.constructor(y);
    return g.copy(x), x;
  }
  a.exports = p;
})(Xg, Xg.exports);
var vz = Xg.exports;
function yz(a, e) {
  var n = -1, r = a.length;
  for (e || (e = Array(r)); ++n < r; )
    e[n] = a[n];
  return e;
}
var xz = yz, Cz = d0, _z = C2;
function wz(a, e) {
  return Cz(a, _z(a), e);
}
var Tz = wz, Nz = yI, Mz = g2, Sz = C2, Iz = CI, Az = Object.getOwnPropertySymbols, Ez = Az ? function(a) {
  for (var e = []; a; )
    Nz(e, Sz(a)), a = Mz(a);
  return e;
} : Iz, OI = Ez, Pz = d0, Rz = OI;
function Bz(a, e) {
  return Pz(a, Rz(a), e);
}
var Oz = Bz, Lz = xI, jz = OI, Dz = N2;
function Fz(a) {
  return Lz(a, Dz, jz);
}
var kz = Fz, Xz = Object.prototype, zz = Xz.hasOwnProperty;
function Uz(a) {
  var e = a.length, n = new a.constructor(e);
  return e && typeof a[0] == "string" && zz.call(a, "index") && (n.index = a.index, n.input = a.input), n;
}
var Gz = Uz, XT = vI;
function Wz(a) {
  var e = new a.constructor(a.byteLength);
  return new XT(e).set(new XT(a)), e;
}
var M2 = Wz, Vz = M2;
function Hz(a, e) {
  var n = e ? Vz(a.buffer) : a.buffer;
  return new a.constructor(n, a.byteOffset, a.byteLength);
}
var $z = Hz, qz = /\w*$/;
function Yz(a) {
  var e = new a.constructor(a.source, qz.exec(a));
  return e.lastIndex = a.lastIndex, e;
}
var Kz = Yz, zT = Cp, UT = zT ? zT.prototype : void 0, GT = UT ? UT.valueOf : void 0;
function Zz(a) {
  return GT ? Object(GT.call(a)) : {};
}
var Jz = Zz, Qz = M2;
function eU(a, e) {
  var n = e ? Qz(a.buffer) : a.buffer;
  return new a.constructor(n, a.byteOffset, a.length);
}
var tU = eU, nU = M2, rU = $z, iU = Kz, oU = Jz, aU = tU, sU = "[object Boolean]", lU = "[object Date]", cU = "[object Map]", hU = "[object Number]", uU = "[object RegExp]", dU = "[object Set]", mU = "[object String]", pU = "[object Symbol]", fU = "[object ArrayBuffer]", gU = "[object DataView]", bU = "[object Float32Array]", vU = "[object Float64Array]", yU = "[object Int8Array]", xU = "[object Int16Array]", CU = "[object Int32Array]", _U = "[object Uint8Array]", wU = "[object Uint8ClampedArray]", TU = "[object Uint16Array]", NU = "[object Uint32Array]";
function MU(a, e, n) {
  var r = a.constructor;
  switch (e) {
    case fU:
      return nU(a);
    case sU:
    case lU:
      return new r(+a);
    case gU:
      return rU(a, n);
    case bU:
    case vU:
    case yU:
    case xU:
    case CU:
    case _U:
    case wU:
    case TU:
    case NU:
      return aU(a, n);
    case cU:
      return new r();
    case hU:
    case mU:
      return new r(a);
    case uU:
      return iU(a);
    case dU:
      return new r();
    case pU:
      return oU(a);
  }
}
var SU = MU, IU = Hu, WT = Object.create, AU = /* @__PURE__ */ function() {
  function a() {
  }
  return function(e) {
    if (!IU(e))
      return {};
    if (WT)
      return WT(e);
    a.prototype = e;
    var n = new a();
    return a.prototype = void 0, n;
  };
}(), EU = AU, PU = EU, RU = g2, BU = p2;
function OU(a) {
  return typeof a.constructor == "function" && !BU(a) ? PU(RU(a)) : {};
}
var LU = OU, jU = c0, DU = cs, FU = "[object Map]";
function kU(a) {
  return DU(a) && jU(a) == FU;
}
var XU = kU, zU = XU, UU = d2, VT = m2, HT = VT && VT.isMap, GU = HT ? UU(HT) : zU, WU = GU, VU = c0, HU = cs, $U = "[object Set]";
function qU(a) {
  return HU(a) && VU(a) == $U;
}
var YU = qU, KU = YU, ZU = d2, $T = m2, qT = $T && $T.isSet, JU = qT ? ZU(qT) : KU, QU = JU, eG = x2, tG = FX, nG = BI, rG = ez, iG = bz, oG = vz, aG = xz, sG = Tz, lG = Oz, cG = _I, hG = kz, uG = c0, dG = Gz, mG = SU, pG = LU, fG = Xo, gG = h2, bG = WU, vG = Hu, yG = QU, xG = _p, CG = N2, _G = 1, wG = 2, TG = 4, LI = "[object Arguments]", NG = "[object Array]", MG = "[object Boolean]", SG = "[object Date]", IG = "[object Error]", jI = "[object Function]", AG = "[object GeneratorFunction]", EG = "[object Map]", PG = "[object Number]", DI = "[object Object]", RG = "[object RegExp]", BG = "[object Set]", OG = "[object String]", LG = "[object Symbol]", jG = "[object WeakMap]", DG = "[object ArrayBuffer]", FG = "[object DataView]", kG = "[object Float32Array]", XG = "[object Float64Array]", zG = "[object Int8Array]", UG = "[object Int16Array]", GG = "[object Int32Array]", WG = "[object Uint8Array]", VG = "[object Uint8ClampedArray]", HG = "[object Uint16Array]", $G = "[object Uint32Array]", er = {};
er[LI] = er[NG] = er[DG] = er[FG] = er[MG] = er[SG] = er[kG] = er[XG] = er[zG] = er[UG] = er[GG] = er[EG] = er[PG] = er[DI] = er[RG] = er[BG] = er[OG] = er[LG] = er[WG] = er[VG] = er[HG] = er[$G] = !0;
er[IG] = er[jI] = er[jG] = !1;
function Eg(a, e, n, r, o, l) {
  var h, d = e & _G, p = e & wG, g = e & TG;
  if (n && (h = o ? n(a, r, o, l) : n(a)), h !== void 0)
    return h;
  if (!vG(a))
    return a;
  var v = fG(a);
  if (v) {
    if (h = dG(a), !d)
      return aG(a, h);
  } else {
    var y = uG(a), x = y == jI || y == AG;
    if (gG(a))
      return oG(a, d);
    if (y == DI || y == LI || x && !o) {
      if (h = p || x ? {} : pG(a), !d)
        return p ? lG(a, iG(h, a)) : sG(a, rG(h, a));
    } else {
      if (!er[y])
        return o ? a : {};
      h = mG(a, y, d);
    }
  }
  l || (l = new eG());
  var w = l.get(a);
  if (w)
    return w;
  l.set(a, h), yG(a) ? a.forEach(function(S) {
    h.add(Eg(S, e, n, S, a, l));
  }) : bG(a) && a.forEach(function(S, L) {
    h.set(L, Eg(S, e, n, L, a, l));
  });
  var T = g ? p ? hG : cG : p ? CG : xG, M = v ? void 0 : T(a);
  return tG(M || a, function(S, L) {
    M && (L = S, S = a[L]), nG(h, L, Eg(S, e, n, L, a, l));
  }), h;
}
var qG = Eg, YG = qG, KG = 1, ZG = 4;
function JG(a) {
  return YG(a, KG | ZG);
}
var QG = JG;
Object.defineProperty(wp, "__esModule", {
  value: !0
});
wp.mergeClasses = void 0;
var eW = f2, tW = FI(eW), nW = QG, rW = FI(nW), iW = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
};
function FI(a) {
  return a && a.__esModule ? a : { default: a };
}
var oW = wp.mergeClasses = function(e) {
  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], r = e.default && (0, rW.default)(e.default) || {};
  return n.map(function(o) {
    var l = e[o];
    return l && (0, tW.default)(l, function(h, d) {
      r[d] || (r[d] = {}), r[d] = iW({}, r[d], l[d]);
    }), o;
  }), r;
};
wp.default = oW;
var Tp = {};
Object.defineProperty(Tp, "__esModule", {
  value: !0
});
Tp.autoprefix = void 0;
var aW = f2, YT = lW(aW), sW = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
};
function lW(a) {
  return a && a.__esModule ? a : { default: a };
}
var cW = {
  borderRadius: function(e) {
    return {
      msBorderRadius: e,
      MozBorderRadius: e,
      OBorderRadius: e,
      WebkitBorderRadius: e,
      borderRadius: e
    };
  },
  boxShadow: function(e) {
    return {
      msBoxShadow: e,
      MozBoxShadow: e,
      OBoxShadow: e,
      WebkitBoxShadow: e,
      boxShadow: e
    };
  },
  userSelect: function(e) {
    return {
      WebkitTouchCallout: e,
      KhtmlUserSelect: e,
      MozUserSelect: e,
      msUserSelect: e,
      WebkitUserSelect: e,
      userSelect: e
    };
  },
  flex: function(e) {
    return {
      WebkitBoxFlex: e,
      MozBoxFlex: e,
      WebkitFlex: e,
      msFlex: e,
      flex: e
    };
  },
  flexBasis: function(e) {
    return {
      WebkitFlexBasis: e,
      flexBasis: e
    };
  },
  justifyContent: function(e) {
    return {
      WebkitJustifyContent: e,
      justifyContent: e
    };
  },
  transition: function(e) {
    return {
      msTransition: e,
      MozTransition: e,
      OTransition: e,
      WebkitTransition: e,
      transition: e
    };
  },
  transform: function(e) {
    return {
      msTransform: e,
      MozTransform: e,
      OTransform: e,
      WebkitTransform: e,
      transform: e
    };
  },
  absolute: function(e) {
    var n = e && e.split(" ");
    return {
      position: "absolute",
      top: n && n[0],
      right: n && n[1],
      bottom: n && n[2],
      left: n && n[3]
    };
  },
  extend: function(e, n) {
    var r = n[e];
    return r || {
      extend: e
    };
  }
}, hW = Tp.autoprefix = function(e) {
  var n = {};
  return (0, YT.default)(e, function(r, o) {
    var l = {};
    (0, YT.default)(r, function(h, d) {
      var p = cW[d];
      p ? l = sW({}, l, p(h)) : l[d] = h;
    }), n[o] = l;
  }), n;
};
Tp.default = hW;
var Np = {};
Object.defineProperty(Np, "__esModule", {
  value: !0
});
Np.hover = void 0;
var uW = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, dW = zu(), jv = mW(dW);
function mW(a) {
  return a && a.__esModule ? a : { default: a };
}
function pW(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function KT(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function fW(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var gW = Np.hover = function(e) {
  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "span";
  return function(r) {
    fW(o, r);
    function o() {
      var l, h, d, p;
      pW(this, o);
      for (var g = arguments.length, v = Array(g), y = 0; y < g; y++)
        v[y] = arguments[y];
      return p = (h = (d = KT(this, (l = o.__proto__ || Object.getPrototypeOf(o)).call.apply(l, [this].concat(v))), d), d.state = { hover: !1 }, d.handleMouseOver = function() {
        return d.setState({ hover: !0 });
      }, d.handleMouseOut = function() {
        return d.setState({ hover: !1 });
      }, d.render = function() {
        return jv.default.createElement(
          n,
          { onMouseOver: d.handleMouseOver, onMouseOut: d.handleMouseOut },
          jv.default.createElement(e, uW({}, d.props, d.state))
        );
      }, h), KT(d, p);
    }
    return o;
  }(jv.default.Component);
};
Np.default = gW;
var Mp = {};
Object.defineProperty(Mp, "__esModule", {
  value: !0
});
Mp.active = void 0;
var bW = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, vW = zu(), Dv = yW(vW);
function yW(a) {
  return a && a.__esModule ? a : { default: a };
}
function xW(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function ZT(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function CW(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var _W = Mp.active = function(e) {
  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "span";
  return function(r) {
    CW(o, r);
    function o() {
      var l, h, d, p;
      xW(this, o);
      for (var g = arguments.length, v = Array(g), y = 0; y < g; y++)
        v[y] = arguments[y];
      return p = (h = (d = ZT(this, (l = o.__proto__ || Object.getPrototypeOf(o)).call.apply(l, [this].concat(v))), d), d.state = { active: !1 }, d.handleMouseDown = function() {
        return d.setState({ active: !0 });
      }, d.handleMouseUp = function() {
        return d.setState({ active: !1 });
      }, d.render = function() {
        return Dv.default.createElement(
          n,
          { onMouseDown: d.handleMouseDown, onMouseUp: d.handleMouseUp },
          Dv.default.createElement(e, bW({}, d.props, d.state))
        );
      }, h), ZT(d, p);
    }
    return o;
  }(Dv.default.Component);
};
Mp.default = _W;
var S2 = {};
Object.defineProperty(S2, "__esModule", {
  value: !0
});
var wW = function(e, n) {
  var r = {}, o = function(h) {
    var d = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0;
    r[h] = d;
  };
  return e === 0 && o("first-child"), e === n - 1 && o("last-child"), (e === 0 || e % 2 === 0) && o("even"), Math.abs(e % 2) === 1 && o("odd"), o("nth-child", e), r;
};
S2.default = wW;
Object.defineProperty(ro, "__esModule", {
  value: !0
});
ro.ReactCSS = ro.loop = ro.handleActive = I2 = ro.handleHover = ro.hover = void 0;
var TW = xp, NW = Ju(TW), MW = wp, SW = Ju(MW), IW = Tp, AW = Ju(IW), EW = Np, kI = Ju(EW), PW = Mp, RW = Ju(PW), BW = S2, OW = Ju(BW);
function Ju(a) {
  return a && a.__esModule ? a : { default: a };
}
ro.hover = kI.default;
var I2 = ro.handleHover = kI.default;
ro.handleActive = RW.default;
ro.loop = OW.default;
var LW = ro.ReactCSS = function(e) {
  for (var n = arguments.length, r = Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)
    r[o - 1] = arguments[o];
  var l = (0, NW.default)(r), h = (0, SW.default)(e, l);
  return (0, AW.default)(h);
}, Qt = ro.default = LW, jW = function(e, n, r, o, l) {
  var h = l.clientWidth, d = l.clientHeight, p = typeof e.pageX == "number" ? e.pageX : e.touches[0].pageX, g = typeof e.pageY == "number" ? e.pageY : e.touches[0].pageY, v = p - (l.getBoundingClientRect().left + window.pageXOffset), y = g - (l.getBoundingClientRect().top + window.pageYOffset);
  if (r === "vertical") {
    var x = void 0;
    if (y < 0 ? x = 0 : y > d ? x = 1 : x = Math.round(y * 100 / d) / 100, n.a !== x)
      return {
        h: n.h,
        s: n.s,
        l: n.l,
        a: x,
        source: "rgb"
      };
  } else {
    var w = void 0;
    if (v < 0 ? w = 0 : v > h ? w = 1 : w = Math.round(v * 100 / h) / 100, o !== w)
      return {
        h: n.h,
        s: n.s,
        l: n.l,
        a: w,
        source: "rgb"
      };
  }
  return null;
}, Fv = {}, DW = function(e, n, r, o) {
  if (typeof document > "u" && !o)
    return null;
  var l = o ? new o() : document.createElement("canvas");
  l.width = r * 2, l.height = r * 2;
  var h = l.getContext("2d");
  return h ? (h.fillStyle = e, h.fillRect(0, 0, l.width, l.height), h.fillStyle = n, h.fillRect(0, 0, r, r), h.translate(r, r), h.fillRect(0, 0, r, r), l.toDataURL()) : null;
}, FW = function(e, n, r, o) {
  var l = e + "-" + n + "-" + r + (o ? "-server" : "");
  if (Fv[l])
    return Fv[l];
  var h = DW(e, n, r, o);
  return Fv[l] = h, h;
}, JT = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, Qu = function(e) {
  var n = e.white, r = e.grey, o = e.size, l = e.renderers, h = e.borderRadius, d = e.boxShadow, p = e.children, g = Qt({
    default: {
      grid: {
        borderRadius: h,
        boxShadow: d,
        absolute: "0px 0px 0px 0px",
        background: "url(" + FW(n, r, o, l.canvas) + ") center left"
      }
    }
  });
  return Ke.isValidElement(p) ? re.cloneElement(p, JT({}, p.props, { style: JT({}, p.props.style, g.grid) })) : re.createElement("div", { style: g.grid });
};
Qu.defaultProps = {
  size: 8,
  white: "transparent",
  grey: "rgba(0,0,0,.08)",
  renderers: {}
};
var kW = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, XW = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function zW(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function QT(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function UW(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var A2 = function(a) {
  UW(e, a);
  function e() {
    var n, r, o, l;
    zW(this, e);
    for (var h = arguments.length, d = Array(h), p = 0; p < h; p++)
      d[p] = arguments[p];
    return l = (r = (o = QT(this, (n = e.__proto__ || Object.getPrototypeOf(e)).call.apply(n, [this].concat(d))), o), o.handleChange = function(g) {
      var v = jW(g, o.props.hsl, o.props.direction, o.props.a, o.container);
      v && typeof o.props.onChange == "function" && o.props.onChange(v, g);
    }, o.handleMouseDown = function(g) {
      o.handleChange(g), window.addEventListener("mousemove", o.handleChange), window.addEventListener("mouseup", o.handleMouseUp);
    }, o.handleMouseUp = function() {
      o.unbindEventListeners();
    }, o.unbindEventListeners = function() {
      window.removeEventListener("mousemove", o.handleChange), window.removeEventListener("mouseup", o.handleMouseUp);
    }, r), QT(o, l);
  }
  return XW(e, [{
    key: "componentWillUnmount",
    value: function() {
      this.unbindEventListeners();
    }
  }, {
    key: "render",
    value: function() {
      var r = this, o = this.props.rgb, l = Qt({
        default: {
          alpha: {
            absolute: "0px 0px 0px 0px",
            borderRadius: this.props.radius
          },
          checkboard: {
            absolute: "0px 0px 0px 0px",
            overflow: "hidden",
            borderRadius: this.props.radius
          },
          gradient: {
            absolute: "0px 0px 0px 0px",
            background: "linear-gradient(to right, rgba(" + o.r + "," + o.g + "," + o.b + `, 0) 0%,
           rgba(` + o.r + "," + o.g + "," + o.b + ", 1) 100%)",
            boxShadow: this.props.shadow,
            borderRadius: this.props.radius
          },
          container: {
            position: "relative",
            height: "100%",
            margin: "0 3px"
          },
          pointer: {
            position: "absolute",
            left: o.a * 100 + "%"
          },
          slider: {
            width: "4px",
            borderRadius: "1px",
            height: "8px",
            boxShadow: "0 0 2px rgba(0, 0, 0, .6)",
            background: "#fff",
            marginTop: "1px",
            transform: "translateX(-2px)"
          }
        },
        vertical: {
          gradient: {
            background: "linear-gradient(to bottom, rgba(" + o.r + "," + o.g + "," + o.b + `, 0) 0%,
           rgba(` + o.r + "," + o.g + "," + o.b + ", 1) 100%)"
          },
          pointer: {
            left: 0,
            top: o.a * 100 + "%"
          }
        },
        overwrite: kW({}, this.props.style)
      }, {
        vertical: this.props.direction === "vertical",
        overwrite: !0
      });
      return re.createElement(
        "div",
        { style: l.alpha },
        re.createElement(
          "div",
          { style: l.checkboard },
          re.createElement(Qu, { renderers: this.props.renderers })
        ),
        re.createElement("div", { style: l.gradient }),
        re.createElement(
          "div",
          {
            style: l.container,
            ref: function(d) {
              return r.container = d;
            },
            onMouseDown: this.handleMouseDown,
            onTouchMove: this.handleChange,
            onTouchStart: this.handleChange
          },
          re.createElement(
            "div",
            { style: l.pointer },
            this.props.pointer ? re.createElement(this.props.pointer, this.props) : re.createElement("div", { style: l.slider })
          )
        )
      );
    }
  }]), e;
}(Ke.PureComponent || Ke.Component), GW = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function WW(a, e, n) {
  return e in a ? Object.defineProperty(a, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : a[e] = n, a;
}
function VW(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function HW(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function $W(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var qW = 1, XI = 38, YW = 40, KW = [XI, YW], ZW = function(e) {
  return KW.indexOf(e) > -1;
}, JW = function(e) {
  return Number(String(e).replace(/%/g, ""));
}, QW = 1, Sn = function(a) {
  $W(e, a);
  function e(n) {
    VW(this, e);
    var r = HW(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
    return r.handleBlur = function() {
      r.state.blurValue && r.setState({ value: r.state.blurValue, blurValue: null });
    }, r.handleChange = function(o) {
      r.setUpdatedValue(o.target.value, o);
    }, r.handleKeyDown = function(o) {
      var l = JW(o.target.value);
      if (!isNaN(l) && ZW(o.keyCode)) {
        var h = r.getArrowOffset(), d = o.keyCode === XI ? l + h : l - h;
        r.setUpdatedValue(d, o);
      }
    }, r.handleDrag = function(o) {
      if (r.props.dragLabel) {
        var l = Math.round(r.props.value + o.movementX);
        l >= 0 && l <= r.props.dragMax && r.props.onChange && r.props.onChange(r.getValueObjectWithLabel(l), o);
      }
    }, r.handleMouseDown = function(o) {
      r.props.dragLabel && (o.preventDefault(), r.handleDrag(o), window.addEventListener("mousemove", r.handleDrag), window.addEventListener("mouseup", r.handleMouseUp));
    }, r.handleMouseUp = function() {
      r.unbindEventListeners();
    }, r.unbindEventListeners = function() {
      window.removeEventListener("mousemove", r.handleDrag), window.removeEventListener("mouseup", r.handleMouseUp);
    }, r.state = {
      value: String(n.value).toUpperCase(),
      blurValue: String(n.value).toUpperCase()
    }, r.inputId = "rc-editable-input-" + QW++, r;
  }
  return GW(e, [{
    key: "componentDidUpdate",
    value: function(r, o) {
      this.props.value !== this.state.value && (r.value !== this.props.value || o.value !== this.state.value) && (this.input === document.activeElement ? this.setState({ blurValue: String(this.props.value).toUpperCase() }) : this.setState({ value: String(this.props.value).toUpperCase(), blurValue: !this.state.blurValue && String(this.props.value).toUpperCase() }));
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.unbindEventListeners();
    }
  }, {
    key: "getValueObjectWithLabel",
    value: function(r) {
      return WW({}, this.props.label, r);
    }
  }, {
    key: "getArrowOffset",
    value: function() {
      return this.props.arrowOffset || qW;
    }
  }, {
    key: "setUpdatedValue",
    value: function(r, o) {
      var l = this.props.label ? this.getValueObjectWithLabel(r) : r;
      this.props.onChange && this.props.onChange(l, o), this.setState({ value: r });
    }
  }, {
    key: "render",
    value: function() {
      var r = this, o = Qt({
        default: {
          wrap: {
            position: "relative"
          }
        },
        "user-override": {
          wrap: this.props.style && this.props.style.wrap ? this.props.style.wrap : {},
          input: this.props.style && this.props.style.input ? this.props.style.input : {},
          label: this.props.style && this.props.style.label ? this.props.style.label : {}
        },
        "dragLabel-true": {
          label: {
            cursor: "ew-resize"
          }
        }
      }, {
        "user-override": !0
      }, this.props);
      return re.createElement(
        "div",
        { style: o.wrap },
        re.createElement("input", {
          id: this.inputId,
          style: o.input,
          ref: function(h) {
            return r.input = h;
          },
          value: this.state.value,
          onKeyDown: this.handleKeyDown,
          onChange: this.handleChange,
          onBlur: this.handleBlur,
          placeholder: this.props.placeholder,
          spellCheck: "false"
        }),
        this.props.label && !this.props.hideLabel ? re.createElement(
          "label",
          {
            htmlFor: this.inputId,
            style: o.label,
            onMouseDown: this.handleMouseDown
          },
          this.props.label
        ) : null
      );
    }
  }]), e;
}(Ke.PureComponent || Ke.Component), eV = function(e, n, r, o) {
  var l = o.clientWidth, h = o.clientHeight, d = typeof e.pageX == "number" ? e.pageX : e.touches[0].pageX, p = typeof e.pageY == "number" ? e.pageY : e.touches[0].pageY, g = d - (o.getBoundingClientRect().left + window.pageXOffset), v = p - (o.getBoundingClientRect().top + window.pageYOffset);
  if (n === "vertical") {
    var y = void 0;
    if (v < 0)
      y = 359;
    else if (v > h)
      y = 0;
    else {
      var x = -(v * 100 / h) + 100;
      y = 360 * x / 100;
    }
    if (r.h !== y)
      return {
        h: y,
        s: r.s,
        l: r.l,
        a: r.a,
        source: "hsl"
      };
  } else {
    var w = void 0;
    if (g < 0)
      w = 0;
    else if (g > l)
      w = 359;
    else {
      var T = g * 100 / l;
      w = 360 * T / 100;
    }
    if (r.h !== w)
      return {
        h: w,
        s: r.s,
        l: r.l,
        a: r.a,
        source: "hsl"
      };
  }
  return null;
}, tV = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function nV(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function eN(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function rV(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var ed = function(a) {
  rV(e, a);
  function e() {
    var n, r, o, l;
    nV(this, e);
    for (var h = arguments.length, d = Array(h), p = 0; p < h; p++)
      d[p] = arguments[p];
    return l = (r = (o = eN(this, (n = e.__proto__ || Object.getPrototypeOf(e)).call.apply(n, [this].concat(d))), o), o.handleChange = function(g) {
      var v = eV(g, o.props.direction, o.props.hsl, o.container);
      v && typeof o.props.onChange == "function" && o.props.onChange(v, g);
    }, o.handleMouseDown = function(g) {
      o.handleChange(g), window.addEventListener("mousemove", o.handleChange), window.addEventListener("mouseup", o.handleMouseUp);
    }, o.handleMouseUp = function() {
      o.unbindEventListeners();
    }, r), eN(o, l);
  }
  return tV(e, [{
    key: "componentWillUnmount",
    value: function() {
      this.unbindEventListeners();
    }
  }, {
    key: "unbindEventListeners",
    value: function() {
      window.removeEventListener("mousemove", this.handleChange), window.removeEventListener("mouseup", this.handleMouseUp);
    }
  }, {
    key: "render",
    value: function() {
      var r = this, o = this.props.direction, l = o === void 0 ? "horizontal" : o, h = Qt({
        default: {
          hue: {
            absolute: "0px 0px 0px 0px",
            borderRadius: this.props.radius,
            boxShadow: this.props.shadow
          },
          container: {
            padding: "0 2px",
            position: "relative",
            height: "100%",
            borderRadius: this.props.radius
          },
          pointer: {
            position: "absolute",
            left: this.props.hsl.h * 100 / 360 + "%"
          },
          slider: {
            marginTop: "1px",
            width: "4px",
            borderRadius: "1px",
            height: "8px",
            boxShadow: "0 0 2px rgba(0, 0, 0, .6)",
            background: "#fff",
            transform: "translateX(-2px)"
          }
        },
        vertical: {
          pointer: {
            left: "0px",
            top: -(this.props.hsl.h * 100 / 360) + 100 + "%"
          }
        }
      }, { vertical: l === "vertical" });
      return re.createElement(
        "div",
        { style: h.hue },
        re.createElement(
          "div",
          {
            className: "hue-" + l,
            style: h.container,
            ref: function(p) {
              return r.container = p;
            },
            onMouseDown: this.handleMouseDown,
            onTouchMove: this.handleChange,
            onTouchStart: this.handleChange
          },
          re.createElement(
            "style",
            null,
            `
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `
          ),
          re.createElement(
            "div",
            { style: h.pointer },
            this.props.pointer ? re.createElement(this.props.pointer, this.props) : re.createElement("div", { style: h.slider })
          )
        )
      );
    }
  }]), e;
}(Ke.PureComponent || Ke.Component), Ax = { exports: {} }, P1 = { exports: {} }, Gn = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var tN;
function iV() {
  if (tN)
    return Gn;
  tN = 1;
  var a = typeof Symbol == "function" && Symbol.for, e = a ? Symbol.for("react.element") : 60103, n = a ? Symbol.for("react.portal") : 60106, r = a ? Symbol.for("react.fragment") : 60107, o = a ? Symbol.for("react.strict_mode") : 60108, l = a ? Symbol.for("react.profiler") : 60114, h = a ? Symbol.for("react.provider") : 60109, d = a ? Symbol.for("react.context") : 60110, p = a ? Symbol.for("react.async_mode") : 60111, g = a ? Symbol.for("react.concurrent_mode") : 60111, v = a ? Symbol.for("react.forward_ref") : 60112, y = a ? Symbol.for("react.suspense") : 60113, x = a ? Symbol.for("react.suspense_list") : 60120, w = a ? Symbol.for("react.memo") : 60115, T = a ? Symbol.for("react.lazy") : 60116, M = a ? Symbol.for("react.block") : 60121, S = a ? Symbol.for("react.fundamental") : 60117, L = a ? Symbol.for("react.responder") : 60118, F = a ? Symbol.for("react.scope") : 60119;
  function G(K) {
    if (typeof K == "object" && K !== null) {
      var q = K.$$typeof;
      switch (q) {
        case e:
          switch (K = K.type, K) {
            case p:
            case g:
            case r:
            case l:
            case o:
            case y:
              return K;
            default:
              switch (K = K && K.$$typeof, K) {
                case d:
                case v:
                case T:
                case w:
                case h:
                  return K;
                default:
                  return q;
              }
          }
        case n:
          return q;
      }
    }
  }
  function $(K) {
    return G(K) === g;
  }
  return Gn.AsyncMode = p, Gn.ConcurrentMode = g, Gn.ContextConsumer = d, Gn.ContextProvider = h, Gn.Element = e, Gn.ForwardRef = v, Gn.Fragment = r, Gn.Lazy = T, Gn.Memo = w, Gn.Portal = n, Gn.Profiler = l, Gn.StrictMode = o, Gn.Suspense = y, Gn.isAsyncMode = function(K) {
    return $(K) || G(K) === p;
  }, Gn.isConcurrentMode = $, Gn.isContextConsumer = function(K) {
    return G(K) === d;
  }, Gn.isContextProvider = function(K) {
    return G(K) === h;
  }, Gn.isElement = function(K) {
    return typeof K == "object" && K !== null && K.$$typeof === e;
  }, Gn.isForwardRef = function(K) {
    return G(K) === v;
  }, Gn.isFragment = function(K) {
    return G(K) === r;
  }, Gn.isLazy = function(K) {
    return G(K) === T;
  }, Gn.isMemo = function(K) {
    return G(K) === w;
  }, Gn.isPortal = function(K) {
    return G(K) === n;
  }, Gn.isProfiler = function(K) {
    return G(K) === l;
  }, Gn.isStrictMode = function(K) {
    return G(K) === o;
  }, Gn.isSuspense = function(K) {
    return G(K) === y;
  }, Gn.isValidElementType = function(K) {
    return typeof K == "string" || typeof K == "function" || K === r || K === g || K === l || K === o || K === y || K === x || typeof K == "object" && K !== null && (K.$$typeof === T || K.$$typeof === w || K.$$typeof === h || K.$$typeof === d || K.$$typeof === v || K.$$typeof === S || K.$$typeof === L || K.$$typeof === F || K.$$typeof === M);
  }, Gn.typeOf = G, Gn;
}
var Wn = {};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var nN;
function oV() {
  return nN || (nN = 1, process.env.NODE_ENV !== "production" && function() {
    var a = typeof Symbol == "function" && Symbol.for, e = a ? Symbol.for("react.element") : 60103, n = a ? Symbol.for("react.portal") : 60106, r = a ? Symbol.for("react.fragment") : 60107, o = a ? Symbol.for("react.strict_mode") : 60108, l = a ? Symbol.for("react.profiler") : 60114, h = a ? Symbol.for("react.provider") : 60109, d = a ? Symbol.for("react.context") : 60110, p = a ? Symbol.for("react.async_mode") : 60111, g = a ? Symbol.for("react.concurrent_mode") : 60111, v = a ? Symbol.for("react.forward_ref") : 60112, y = a ? Symbol.for("react.suspense") : 60113, x = a ? Symbol.for("react.suspense_list") : 60120, w = a ? Symbol.for("react.memo") : 60115, T = a ? Symbol.for("react.lazy") : 60116, M = a ? Symbol.for("react.block") : 60121, S = a ? Symbol.for("react.fundamental") : 60117, L = a ? Symbol.for("react.responder") : 60118, F = a ? Symbol.for("react.scope") : 60119;
    function G(at) {
      return typeof at == "string" || typeof at == "function" || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
      at === r || at === g || at === l || at === o || at === y || at === x || typeof at == "object" && at !== null && (at.$$typeof === T || at.$$typeof === w || at.$$typeof === h || at.$$typeof === d || at.$$typeof === v || at.$$typeof === S || at.$$typeof === L || at.$$typeof === F || at.$$typeof === M);
    }
    function $(at) {
      if (typeof at == "object" && at !== null) {
        var sr = at.$$typeof;
        switch (sr) {
          case e:
            var _r = at.type;
            switch (_r) {
              case p:
              case g:
              case r:
              case l:
              case o:
              case y:
                return _r;
              default:
                var Er = _r && _r.$$typeof;
                switch (Er) {
                  case d:
                  case v:
                  case T:
                  case w:
                  case h:
                    return Er;
                  default:
                    return sr;
                }
            }
          case n:
            return sr;
        }
      }
    }
    var K = p, q = g, he = d, ae = h, ve = e, ne = v, se = r, oe = T, J = w, pe = n, be = l, fe = o, de = y, Fe = !1;
    function Be(at) {
      return Fe || (Fe = !0, console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")), _e(at) || $(at) === p;
    }
    function _e(at) {
      return $(at) === g;
    }
    function Xe(at) {
      return $(at) === d;
    }
    function De(at) {
      return $(at) === h;
    }
    function ft(at) {
      return typeof at == "object" && at !== null && at.$$typeof === e;
    }
    function gt(at) {
      return $(at) === v;
    }
    function Lt(at) {
      return $(at) === r;
    }
    function Nt(at) {
      return $(at) === T;
    }
    function Mt(at) {
      return $(at) === w;
    }
    function qt(at) {
      return $(at) === n;
    }
    function Xt(at) {
      return $(at) === l;
    }
    function Gt(at) {
      return $(at) === o;
    }
    function Pn(at) {
      return $(at) === y;
    }
    Wn.AsyncMode = K, Wn.ConcurrentMode = q, Wn.ContextConsumer = he, Wn.ContextProvider = ae, Wn.Element = ve, Wn.ForwardRef = ne, Wn.Fragment = se, Wn.Lazy = oe, Wn.Memo = J, Wn.Portal = pe, Wn.Profiler = be, Wn.StrictMode = fe, Wn.Suspense = de, Wn.isAsyncMode = Be, Wn.isConcurrentMode = _e, Wn.isContextConsumer = Xe, Wn.isContextProvider = De, Wn.isElement = ft, Wn.isForwardRef = gt, Wn.isFragment = Lt, Wn.isLazy = Nt, Wn.isMemo = Mt, Wn.isPortal = qt, Wn.isProfiler = Xt, Wn.isStrictMode = Gt, Wn.isSuspense = Pn, Wn.isValidElementType = G, Wn.typeOf = $;
  }()), Wn;
}
var rN;
function zI() {
  return rN || (rN = 1, process.env.NODE_ENV === "production" ? P1.exports = iV() : P1.exports = oV()), P1.exports;
}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var kv, iN;
function aV() {
  if (iN)
    return kv;
  iN = 1;
  var a = Object.getOwnPropertySymbols, e = Object.prototype.hasOwnProperty, n = Object.prototype.propertyIsEnumerable;
  function r(l) {
    if (l == null)
      throw new TypeError("Object.assign cannot be called with null or undefined");
    return Object(l);
  }
  function o() {
    try {
      if (!Object.assign)
        return !1;
      var l = new String("abc");
      if (l[5] = "de", Object.getOwnPropertyNames(l)[0] === "5")
        return !1;
      for (var h = {}, d = 0; d < 10; d++)
        h["_" + String.fromCharCode(d)] = d;
      var p = Object.getOwnPropertyNames(h).map(function(v) {
        return h[v];
      });
      if (p.join("") !== "0123456789")
        return !1;
      var g = {};
      return "abcdefghijklmnopqrst".split("").forEach(function(v) {
        g[v] = v;
      }), Object.keys(Object.assign({}, g)).join("") === "abcdefghijklmnopqrst";
    } catch {
      return !1;
    }
  }
  return kv = o() ? Object.assign : function(l, h) {
    for (var d, p = r(l), g, v = 1; v < arguments.length; v++) {
      d = Object(arguments[v]);
      for (var y in d)
        e.call(d, y) && (p[y] = d[y]);
      if (a) {
        g = a(d);
        for (var x = 0; x < g.length; x++)
          n.call(d, g[x]) && (p[g[x]] = d[g[x]]);
      }
    }
    return p;
  }, kv;
}
var Xv, oN;
function E2() {
  if (oN)
    return Xv;
  oN = 1;
  var a = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  return Xv = a, Xv;
}
var zv, aN;
function UI() {
  return aN || (aN = 1, zv = Function.call.bind(Object.prototype.hasOwnProperty)), zv;
}
var Uv, sN;
function sV() {
  if (sN)
    return Uv;
  sN = 1;
  var a = function() {
  };
  if (process.env.NODE_ENV !== "production") {
    var e = E2(), n = {}, r = UI();
    a = function(l) {
      var h = "Warning: " + l;
      typeof console < "u" && console.error(h);
      try {
        throw new Error(h);
      } catch {
      }
    };
  }
  function o(l, h, d, p, g) {
    if (process.env.NODE_ENV !== "production") {
      for (var v in l)
        if (r(l, v)) {
          var y;
          try {
            if (typeof l[v] != "function") {
              var x = Error(
                (p || "React class") + ": " + d + " type `" + v + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof l[v] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
              );
              throw x.name = "Invariant Violation", x;
            }
            y = l[v](h, v, p, d, null, e);
          } catch (T) {
            y = T;
          }
          if (y && !(y instanceof Error) && a(
            (p || "React class") + ": type specification of " + d + " `" + v + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof y + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
          ), y instanceof Error && !(y.message in n)) {
            n[y.message] = !0;
            var w = g ? g() : "";
            a(
              "Failed " + d + " type: " + y.message + (w ?? "")
            );
          }
        }
    }
  }
  return o.resetWarningCache = function() {
    process.env.NODE_ENV !== "production" && (n = {});
  }, Uv = o, Uv;
}
var Gv, lN;
function lV() {
  if (lN)
    return Gv;
  lN = 1;
  var a = zI(), e = aV(), n = E2(), r = UI(), o = sV(), l = function() {
  };
  process.env.NODE_ENV !== "production" && (l = function(d) {
    var p = "Warning: " + d;
    typeof console < "u" && console.error(p);
    try {
      throw new Error(p);
    } catch {
    }
  });
  function h() {
    return null;
  }
  return Gv = function(d, p) {
    var g = typeof Symbol == "function" && Symbol.iterator, v = "@@iterator";
    function y(_e) {
      var Xe = _e && (g && _e[g] || _e[v]);
      if (typeof Xe == "function")
        return Xe;
    }
    var x = "<<anonymous>>", w = {
      array: L("array"),
      bigint: L("bigint"),
      bool: L("boolean"),
      func: L("function"),
      number: L("number"),
      object: L("object"),
      string: L("string"),
      symbol: L("symbol"),
      any: F(),
      arrayOf: G,
      element: $(),
      elementType: K(),
      instanceOf: q,
      node: ne(),
      objectOf: ae,
      oneOf: he,
      oneOfType: ve,
      shape: oe,
      exact: J
    };
    function T(_e, Xe) {
      return _e === Xe ? _e !== 0 || 1 / _e === 1 / Xe : _e !== _e && Xe !== Xe;
    }
    function M(_e, Xe) {
      this.message = _e, this.data = Xe && typeof Xe == "object" ? Xe : {}, this.stack = "";
    }
    M.prototype = Error.prototype;
    function S(_e) {
      if (process.env.NODE_ENV !== "production")
        var Xe = {}, De = 0;
      function ft(Lt, Nt, Mt, qt, Xt, Gt, Pn) {
        if (qt = qt || x, Gt = Gt || Mt, Pn !== n) {
          if (p) {
            var at = new Error(
              "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
            );
            throw at.name = "Invariant Violation", at;
          } else if (process.env.NODE_ENV !== "production" && typeof console < "u") {
            var sr = qt + ":" + Mt;
            !Xe[sr] && // Avoid spamming the console because they are often not actionable except for lib authors
            De < 3 && (l(
              "You are manually calling a React.PropTypes validation function for the `" + Gt + "` prop on `" + qt + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
            ), Xe[sr] = !0, De++);
          }
        }
        return Nt[Mt] == null ? Lt ? Nt[Mt] === null ? new M("The " + Xt + " `" + Gt + "` is marked as required " + ("in `" + qt + "`, but its value is `null`.")) : new M("The " + Xt + " `" + Gt + "` is marked as required in " + ("`" + qt + "`, but its value is `undefined`.")) : null : _e(Nt, Mt, qt, Xt, Gt);
      }
      var gt = ft.bind(null, !1);
      return gt.isRequired = ft.bind(null, !0), gt;
    }
    function L(_e) {
      function Xe(De, ft, gt, Lt, Nt, Mt) {
        var qt = De[ft], Xt = fe(qt);
        if (Xt !== _e) {
          var Gt = de(qt);
          return new M(
            "Invalid " + Lt + " `" + Nt + "` of type " + ("`" + Gt + "` supplied to `" + gt + "`, expected ") + ("`" + _e + "`."),
            { expectedType: _e }
          );
        }
        return null;
      }
      return S(Xe);
    }
    function F() {
      return S(h);
    }
    function G(_e) {
      function Xe(De, ft, gt, Lt, Nt) {
        if (typeof _e != "function")
          return new M("Property `" + Nt + "` of component `" + gt + "` has invalid PropType notation inside arrayOf.");
        var Mt = De[ft];
        if (!Array.isArray(Mt)) {
          var qt = fe(Mt);
          return new M("Invalid " + Lt + " `" + Nt + "` of type " + ("`" + qt + "` supplied to `" + gt + "`, expected an array."));
        }
        for (var Xt = 0; Xt < Mt.length; Xt++) {
          var Gt = _e(Mt, Xt, gt, Lt, Nt + "[" + Xt + "]", n);
          if (Gt instanceof Error)
            return Gt;
        }
        return null;
      }
      return S(Xe);
    }
    function $() {
      function _e(Xe, De, ft, gt, Lt) {
        var Nt = Xe[De];
        if (!d(Nt)) {
          var Mt = fe(Nt);
          return new M("Invalid " + gt + " `" + Lt + "` of type " + ("`" + Mt + "` supplied to `" + ft + "`, expected a single ReactElement."));
        }
        return null;
      }
      return S(_e);
    }
    function K() {
      function _e(Xe, De, ft, gt, Lt) {
        var Nt = Xe[De];
        if (!a.isValidElementType(Nt)) {
          var Mt = fe(Nt);
          return new M("Invalid " + gt + " `" + Lt + "` of type " + ("`" + Mt + "` supplied to `" + ft + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return S(_e);
    }
    function q(_e) {
      function Xe(De, ft, gt, Lt, Nt) {
        if (!(De[ft] instanceof _e)) {
          var Mt = _e.name || x, qt = Be(De[ft]);
          return new M("Invalid " + Lt + " `" + Nt + "` of type " + ("`" + qt + "` supplied to `" + gt + "`, expected ") + ("instance of `" + Mt + "`."));
        }
        return null;
      }
      return S(Xe);
    }
    function he(_e) {
      if (!Array.isArray(_e))
        return process.env.NODE_ENV !== "production" && (arguments.length > 1 ? l(
          "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
        ) : l("Invalid argument supplied to oneOf, expected an array.")), h;
      function Xe(De, ft, gt, Lt, Nt) {
        for (var Mt = De[ft], qt = 0; qt < _e.length; qt++)
          if (T(Mt, _e[qt]))
            return null;
        var Xt = JSON.stringify(_e, function(Pn, at) {
          var sr = de(at);
          return sr === "symbol" ? String(at) : at;
        });
        return new M("Invalid " + Lt + " `" + Nt + "` of value `" + String(Mt) + "` " + ("supplied to `" + gt + "`, expected one of " + Xt + "."));
      }
      return S(Xe);
    }
    function ae(_e) {
      function Xe(De, ft, gt, Lt, Nt) {
        if (typeof _e != "function")
          return new M("Property `" + Nt + "` of component `" + gt + "` has invalid PropType notation inside objectOf.");
        var Mt = De[ft], qt = fe(Mt);
        if (qt !== "object")
          return new M("Invalid " + Lt + " `" + Nt + "` of type " + ("`" + qt + "` supplied to `" + gt + "`, expected an object."));
        for (var Xt in Mt)
          if (r(Mt, Xt)) {
            var Gt = _e(Mt, Xt, gt, Lt, Nt + "." + Xt, n);
            if (Gt instanceof Error)
              return Gt;
          }
        return null;
      }
      return S(Xe);
    }
    function ve(_e) {
      if (!Array.isArray(_e))
        return process.env.NODE_ENV !== "production" && l("Invalid argument supplied to oneOfType, expected an instance of array."), h;
      for (var Xe = 0; Xe < _e.length; Xe++) {
        var De = _e[Xe];
        if (typeof De != "function")
          return l(
            "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + Fe(De) + " at index " + Xe + "."
          ), h;
      }
      function ft(gt, Lt, Nt, Mt, qt) {
        for (var Xt = [], Gt = 0; Gt < _e.length; Gt++) {
          var Pn = _e[Gt], at = Pn(gt, Lt, Nt, Mt, qt, n);
          if (at == null)
            return null;
          at.data && r(at.data, "expectedType") && Xt.push(at.data.expectedType);
        }
        var sr = Xt.length > 0 ? ", expected one of type [" + Xt.join(", ") + "]" : "";
        return new M("Invalid " + Mt + " `" + qt + "` supplied to " + ("`" + Nt + "`" + sr + "."));
      }
      return S(ft);
    }
    function ne() {
      function _e(Xe, De, ft, gt, Lt) {
        return pe(Xe[De]) ? null : new M("Invalid " + gt + " `" + Lt + "` supplied to " + ("`" + ft + "`, expected a ReactNode."));
      }
      return S(_e);
    }
    function se(_e, Xe, De, ft, gt) {
      return new M(
        (_e || "React class") + ": " + Xe + " type `" + De + "." + ft + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + gt + "`."
      );
    }
    function oe(_e) {
      function Xe(De, ft, gt, Lt, Nt) {
        var Mt = De[ft], qt = fe(Mt);
        if (qt !== "object")
          return new M("Invalid " + Lt + " `" + Nt + "` of type `" + qt + "` " + ("supplied to `" + gt + "`, expected `object`."));
        for (var Xt in _e) {
          var Gt = _e[Xt];
          if (typeof Gt != "function")
            return se(gt, Lt, Nt, Xt, de(Gt));
          var Pn = Gt(Mt, Xt, gt, Lt, Nt + "." + Xt, n);
          if (Pn)
            return Pn;
        }
        return null;
      }
      return S(Xe);
    }
    function J(_e) {
      function Xe(De, ft, gt, Lt, Nt) {
        var Mt = De[ft], qt = fe(Mt);
        if (qt !== "object")
          return new M("Invalid " + Lt + " `" + Nt + "` of type `" + qt + "` " + ("supplied to `" + gt + "`, expected `object`."));
        var Xt = e({}, De[ft], _e);
        for (var Gt in Xt) {
          var Pn = _e[Gt];
          if (r(_e, Gt) && typeof Pn != "function")
            return se(gt, Lt, Nt, Gt, de(Pn));
          if (!Pn)
            return new M(
              "Invalid " + Lt + " `" + Nt + "` key `" + Gt + "` supplied to `" + gt + "`.\nBad object: " + JSON.stringify(De[ft], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(_e), null, "  ")
            );
          var at = Pn(Mt, Gt, gt, Lt, Nt + "." + Gt, n);
          if (at)
            return at;
        }
        return null;
      }
      return S(Xe);
    }
    function pe(_e) {
      switch (typeof _e) {
        case "number":
        case "string":
        case "undefined":
          return !0;
        case "boolean":
          return !_e;
        case "object":
          if (Array.isArray(_e))
            return _e.every(pe);
          if (_e === null || d(_e))
            return !0;
          var Xe = y(_e);
          if (Xe) {
            var De = Xe.call(_e), ft;
            if (Xe !== _e.entries) {
              for (; !(ft = De.next()).done; )
                if (!pe(ft.value))
                  return !1;
            } else
              for (; !(ft = De.next()).done; ) {
                var gt = ft.value;
                if (gt && !pe(gt[1]))
                  return !1;
              }
          } else
            return !1;
          return !0;
        default:
          return !1;
      }
    }
    function be(_e, Xe) {
      return _e === "symbol" ? !0 : Xe ? Xe["@@toStringTag"] === "Symbol" || typeof Symbol == "function" && Xe instanceof Symbol : !1;
    }
    function fe(_e) {
      var Xe = typeof _e;
      return Array.isArray(_e) ? "array" : _e instanceof RegExp ? "object" : be(Xe, _e) ? "symbol" : Xe;
    }
    function de(_e) {
      if (typeof _e > "u" || _e === null)
        return "" + _e;
      var Xe = fe(_e);
      if (Xe === "object") {
        if (_e instanceof Date)
          return "date";
        if (_e instanceof RegExp)
          return "regexp";
      }
      return Xe;
    }
    function Fe(_e) {
      var Xe = de(_e);
      switch (Xe) {
        case "array":
        case "object":
          return "an " + Xe;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + Xe;
        default:
          return Xe;
      }
    }
    function Be(_e) {
      return !_e.constructor || !_e.constructor.name ? x : _e.constructor.name;
    }
    return w.checkPropTypes = o, w.resetWarningCache = o.resetWarningCache, w.PropTypes = w, w;
  }, Gv;
}
var Wv, cN;
function cV() {
  if (cN)
    return Wv;
  cN = 1;
  var a = E2();
  function e() {
  }
  function n() {
  }
  return n.resetWarningCache = e, Wv = function() {
    function r(h, d, p, g, v, y) {
      if (y !== a) {
        var x = new Error(
          "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
        );
        throw x.name = "Invariant Violation", x;
      }
    }
    r.isRequired = r;
    function o() {
      return r;
    }
    var l = {
      array: r,
      bigint: r,
      bool: r,
      func: r,
      number: r,
      object: r,
      string: r,
      symbol: r,
      any: r,
      arrayOf: o,
      element: r,
      elementType: r,
      instanceOf: o,
      node: r,
      objectOf: o,
      oneOf: o,
      oneOfType: o,
      shape: o,
      exact: o,
      checkPropTypes: n,
      resetWarningCache: e
    };
    return l.PropTypes = l, l;
  }, Wv;
}
if (process.env.NODE_ENV !== "production") {
  var hV = zI(), uV = !0;
  Ax.exports = lV()(hV.isElement, uV);
} else
  Ax.exports = cV()();
var dV = Ax.exports;
const mt = /* @__PURE__ */ Uu(dV);
function mV() {
  this.__data__ = [], this.size = 0;
}
function Sp(a, e) {
  return a === e || a !== a && e !== e;
}
function m0(a, e) {
  for (var n = a.length; n--; )
    if (Sp(a[n][0], e))
      return n;
  return -1;
}
var pV = Array.prototype, fV = pV.splice;
function gV(a) {
  var e = this.__data__, n = m0(e, a);
  if (n < 0)
    return !1;
  var r = e.length - 1;
  return n == r ? e.pop() : fV.call(e, n, 1), --this.size, !0;
}
function bV(a) {
  var e = this.__data__, n = m0(e, a);
  return n < 0 ? void 0 : e[n][1];
}
function vV(a) {
  return m0(this.__data__, a) > -1;
}
function yV(a, e) {
  var n = this.__data__, r = m0(n, a);
  return r < 0 ? (++this.size, n.push([a, e])) : n[r][1] = e, this;
}
function hs(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.clear(); ++e < n; ) {
    var r = a[e];
    this.set(r[0], r[1]);
  }
}
hs.prototype.clear = mV;
hs.prototype.delete = gV;
hs.prototype.get = bV;
hs.prototype.has = vV;
hs.prototype.set = yV;
function xV() {
  this.__data__ = new hs(), this.size = 0;
}
function CV(a) {
  var e = this.__data__, n = e.delete(a);
  return this.size = e.size, n;
}
function _V(a) {
  return this.__data__.get(a);
}
function wV(a) {
  return this.__data__.has(a);
}
var GI = typeof global == "object" && global && global.Object === Object && global, TV = typeof self == "object" && self && self.Object === Object && self, zo = GI || TV || Function("return this")(), gl = zo.Symbol, WI = Object.prototype, NV = WI.hasOwnProperty, MV = WI.toString, Om = gl ? gl.toStringTag : void 0;
function SV(a) {
  var e = NV.call(a, Om), n = a[Om];
  try {
    a[Om] = void 0;
    var r = !0;
  } catch {
  }
  var o = MV.call(a);
  return r && (e ? a[Om] = n : delete a[Om]), o;
}
var IV = Object.prototype, AV = IV.toString;
function EV(a) {
  return AV.call(a);
}
var PV = "[object Null]", RV = "[object Undefined]", hN = gl ? gl.toStringTag : void 0;
function Yc(a) {
  return a == null ? a === void 0 ? RV : PV : hN && hN in Object(a) ? SV(a) : EV(a);
}
function so(a) {
  var e = typeof a;
  return a != null && (e == "object" || e == "function");
}
var BV = "[object AsyncFunction]", OV = "[object Function]", LV = "[object GeneratorFunction]", jV = "[object Proxy]";
function P2(a) {
  if (!so(a))
    return !1;
  var e = Yc(a);
  return e == OV || e == LV || e == BV || e == jV;
}
var Vv = zo["__core-js_shared__"], uN = function() {
  var a = /[^.]+$/.exec(Vv && Vv.keys && Vv.keys.IE_PROTO || "");
  return a ? "Symbol(src)_1." + a : "";
}();
function DV(a) {
  return !!uN && uN in a;
}
var FV = Function.prototype, kV = FV.toString;
function Kc(a) {
  if (a != null) {
    try {
      return kV.call(a);
    } catch {
    }
    try {
      return a + "";
    } catch {
    }
  }
  return "";
}
var XV = /[\\^$.*+?()[\]{}|]/g, zV = /^\[object .+?Constructor\]$/, UV = Function.prototype, GV = Object.prototype, WV = UV.toString, VV = GV.hasOwnProperty, HV = RegExp(
  "^" + WV.call(VV).replace(XV, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
function $V(a) {
  if (!so(a) || DV(a))
    return !1;
  var e = P2(a) ? HV : zV;
  return e.test(Kc(a));
}
function qV(a, e) {
  return a == null ? void 0 : a[e];
}
function Zc(a, e) {
  var n = qV(a, e);
  return $V(n) ? n : void 0;
}
var hp = Zc(zo, "Map"), up = Zc(Object, "create");
function YV() {
  this.__data__ = up ? up(null) : {}, this.size = 0;
}
function KV(a) {
  var e = this.has(a) && delete this.__data__[a];
  return this.size -= e ? 1 : 0, e;
}
var ZV = "__lodash_hash_undefined__", JV = Object.prototype, QV = JV.hasOwnProperty;
function eH(a) {
  var e = this.__data__;
  if (up) {
    var n = e[a];
    return n === ZV ? void 0 : n;
  }
  return QV.call(e, a) ? e[a] : void 0;
}
var tH = Object.prototype, nH = tH.hasOwnProperty;
function rH(a) {
  var e = this.__data__;
  return up ? e[a] !== void 0 : nH.call(e, a);
}
var iH = "__lodash_hash_undefined__";
function oH(a, e) {
  var n = this.__data__;
  return this.size += this.has(a) ? 0 : 1, n[a] = up && e === void 0 ? iH : e, this;
}
function Wc(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.clear(); ++e < n; ) {
    var r = a[e];
    this.set(r[0], r[1]);
  }
}
Wc.prototype.clear = YV;
Wc.prototype.delete = KV;
Wc.prototype.get = eH;
Wc.prototype.has = rH;
Wc.prototype.set = oH;
function aH() {
  this.size = 0, this.__data__ = {
    hash: new Wc(),
    map: new (hp || hs)(),
    string: new Wc()
  };
}
function sH(a) {
  var e = typeof a;
  return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? a !== "__proto__" : a === null;
}
function p0(a, e) {
  var n = a.__data__;
  return sH(e) ? n[typeof e == "string" ? "string" : "hash"] : n.map;
}
function lH(a) {
  var e = p0(this, a).delete(a);
  return this.size -= e ? 1 : 0, e;
}
function cH(a) {
  return p0(this, a).get(a);
}
function hH(a) {
  return p0(this, a).has(a);
}
function uH(a, e) {
  var n = p0(this, a), r = n.size;
  return n.set(a, e), this.size += n.size == r ? 0 : 1, this;
}
function us(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.clear(); ++e < n; ) {
    var r = a[e];
    this.set(r[0], r[1]);
  }
}
us.prototype.clear = aH;
us.prototype.delete = lH;
us.prototype.get = cH;
us.prototype.has = hH;
us.prototype.set = uH;
var dH = 200;
function mH(a, e) {
  var n = this.__data__;
  if (n instanceof hs) {
    var r = n.__data__;
    if (!hp || r.length < dH - 1)
      return r.push([a, e]), this.size = ++n.size, this;
    n = this.__data__ = new us(r);
  }
  return n.set(a, e), this.size = n.size, this;
}
function pa(a) {
  var e = this.__data__ = new hs(a);
  this.size = e.size;
}
pa.prototype.clear = xV;
pa.prototype.delete = CV;
pa.prototype.get = _V;
pa.prototype.has = wV;
pa.prototype.set = mH;
var zg = function() {
  try {
    var a = Zc(Object, "defineProperty");
    return a({}, "", {}), a;
  } catch {
  }
}();
function R2(a, e, n) {
  e == "__proto__" && zg ? zg(a, e, {
    configurable: !0,
    enumerable: !0,
    value: n,
    writable: !0
  }) : a[e] = n;
}
function Ex(a, e, n) {
  (n !== void 0 && !Sp(a[e], n) || n === void 0 && !(e in a)) && R2(a, e, n);
}
function pH(a) {
  return function(e, n, r) {
    for (var o = -1, l = Object(e), h = r(e), d = h.length; d--; ) {
      var p = h[++o];
      if (n(l[p], p, l) === !1)
        break;
    }
    return e;
  };
}
var VI = pH(), HI = typeof exports == "object" && exports && !exports.nodeType && exports, dN = HI && typeof module == "object" && module && !module.nodeType && module, fH = dN && dN.exports === HI, mN = fH ? zo.Buffer : void 0;
mN && mN.allocUnsafe;
function gH(a, e) {
  return a.slice();
}
var Ug = zo.Uint8Array;
function bH(a) {
  var e = new a.constructor(a.byteLength);
  return new Ug(e).set(new Ug(a)), e;
}
function vH(a, e) {
  var n = bH(a.buffer);
  return new a.constructor(n, a.byteOffset, a.length);
}
function yH(a, e) {
  var n = -1, r = a.length;
  for (e || (e = Array(r)); ++n < r; )
    e[n] = a[n];
  return e;
}
var pN = Object.create, xH = /* @__PURE__ */ function() {
  function a() {
  }
  return function(e) {
    if (!so(e))
      return {};
    if (pN)
      return pN(e);
    a.prototype = e;
    var n = new a();
    return a.prototype = void 0, n;
  };
}();
function $I(a, e) {
  return function(n) {
    return a(e(n));
  };
}
var qI = $I(Object.getPrototypeOf, Object), CH = Object.prototype;
function B2(a) {
  var e = a && a.constructor, n = typeof e == "function" && e.prototype || CH;
  return a === n;
}
function _H(a) {
  return typeof a.constructor == "function" && !B2(a) ? xH(qI(a)) : {};
}
function bl(a) {
  return a != null && typeof a == "object";
}
var wH = "[object Arguments]";
function fN(a) {
  return bl(a) && Yc(a) == wH;
}
var YI = Object.prototype, TH = YI.hasOwnProperty, NH = YI.propertyIsEnumerable, Gg = fN(/* @__PURE__ */ function() {
  return arguments;
}()) ? fN : function(a) {
  return bl(a) && TH.call(a, "callee") && !NH.call(a, "callee");
}, Gi = Array.isArray, MH = 9007199254740991;
function O2(a) {
  return typeof a == "number" && a > -1 && a % 1 == 0 && a <= MH;
}
function td(a) {
  return a != null && O2(a.length) && !P2(a);
}
function SH(a) {
  return bl(a) && td(a);
}
function IH() {
  return !1;
}
var KI = typeof exports == "object" && exports && !exports.nodeType && exports, gN = KI && typeof module == "object" && module && !module.nodeType && module, AH = gN && gN.exports === KI, bN = AH ? zo.Buffer : void 0, EH = bN ? bN.isBuffer : void 0, Wg = EH || IH, PH = "[object Object]", RH = Function.prototype, BH = Object.prototype, ZI = RH.toString, OH = BH.hasOwnProperty, LH = ZI.call(Object);
function jH(a) {
  if (!bl(a) || Yc(a) != PH)
    return !1;
  var e = qI(a);
  if (e === null)
    return !0;
  var n = OH.call(e, "constructor") && e.constructor;
  return typeof n == "function" && n instanceof n && ZI.call(n) == LH;
}
var DH = "[object Arguments]", FH = "[object Array]", kH = "[object Boolean]", XH = "[object Date]", zH = "[object Error]", UH = "[object Function]", GH = "[object Map]", WH = "[object Number]", VH = "[object Object]", HH = "[object RegExp]", $H = "[object Set]", qH = "[object String]", YH = "[object WeakMap]", KH = "[object ArrayBuffer]", ZH = "[object DataView]", JH = "[object Float32Array]", QH = "[object Float64Array]", e$ = "[object Int8Array]", t$ = "[object Int16Array]", n$ = "[object Int32Array]", r$ = "[object Uint8Array]", i$ = "[object Uint8ClampedArray]", o$ = "[object Uint16Array]", a$ = "[object Uint32Array]", or = {};
or[JH] = or[QH] = or[e$] = or[t$] = or[n$] = or[r$] = or[i$] = or[o$] = or[a$] = !0;
or[DH] = or[FH] = or[KH] = or[kH] = or[ZH] = or[XH] = or[zH] = or[UH] = or[GH] = or[WH] = or[VH] = or[HH] = or[$H] = or[qH] = or[YH] = !1;
function s$(a) {
  return bl(a) && O2(a.length) && !!or[Yc(a)];
}
function l$(a) {
  return function(e) {
    return a(e);
  };
}
var JI = typeof exports == "object" && exports && !exports.nodeType && exports, ap = JI && typeof module == "object" && module && !module.nodeType && module, c$ = ap && ap.exports === JI, Hv = c$ && GI.process, vN = function() {
  try {
    var a = ap && ap.require && ap.require("util").types;
    return a || Hv && Hv.binding && Hv.binding("util");
  } catch {
  }
}(), yN = vN && vN.isTypedArray, L2 = yN ? l$(yN) : s$;
function Px(a, e) {
  if (!(e === "constructor" && typeof a[e] == "function") && e != "__proto__")
    return a[e];
}
var h$ = Object.prototype, u$ = h$.hasOwnProperty;
function d$(a, e, n) {
  var r = a[e];
  (!(u$.call(a, e) && Sp(r, n)) || n === void 0 && !(e in a)) && R2(a, e, n);
}
function m$(a, e, n, r) {
  var o = !n;
  n || (n = {});
  for (var l = -1, h = e.length; ++l < h; ) {
    var d = e[l], p = void 0;
    p === void 0 && (p = a[d]), o ? R2(n, d, p) : d$(n, d, p);
  }
  return n;
}
function p$(a, e) {
  for (var n = -1, r = Array(a); ++n < a; )
    r[n] = e(n);
  return r;
}
var f$ = 9007199254740991, g$ = /^(?:0|[1-9]\d*)$/;
function j2(a, e) {
  var n = typeof a;
  return e = e ?? f$, !!e && (n == "number" || n != "symbol" && g$.test(a)) && a > -1 && a % 1 == 0 && a < e;
}
var b$ = Object.prototype, v$ = b$.hasOwnProperty;
function QI(a, e) {
  var n = Gi(a), r = !n && Gg(a), o = !n && !r && Wg(a), l = !n && !r && !o && L2(a), h = n || r || o || l, d = h ? p$(a.length, String) : [], p = d.length;
  for (var g in a)
    (e || v$.call(a, g)) && !(h && // Safari 9 has enumerable `arguments.length` in strict mode.
    (g == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    o && (g == "offset" || g == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    l && (g == "buffer" || g == "byteLength" || g == "byteOffset") || // Skip index properties.
    j2(g, p))) && d.push(g);
  return d;
}
function y$(a) {
  var e = [];
  if (a != null)
    for (var n in Object(a))
      e.push(n);
  return e;
}
var x$ = Object.prototype, C$ = x$.hasOwnProperty;
function _$(a) {
  if (!so(a))
    return y$(a);
  var e = B2(a), n = [];
  for (var r in a)
    r == "constructor" && (e || !C$.call(a, r)) || n.push(r);
  return n;
}
function eA(a) {
  return td(a) ? QI(a, !0) : _$(a);
}
function w$(a) {
  return m$(a, eA(a));
}
function T$(a, e, n, r, o, l, h) {
  var d = Px(a, n), p = Px(e, n), g = h.get(p);
  if (g) {
    Ex(a, n, g);
    return;
  }
  var v = l ? l(d, p, n + "", a, e, h) : void 0, y = v === void 0;
  if (y) {
    var x = Gi(p), w = !x && Wg(p), T = !x && !w && L2(p);
    v = p, x || w || T ? Gi(d) ? v = d : SH(d) ? v = yH(d) : w ? (y = !1, v = gH(p)) : T ? (y = !1, v = vH(p)) : v = [] : jH(p) || Gg(p) ? (v = d, Gg(d) ? v = w$(d) : (!so(d) || P2(d)) && (v = _H(p))) : y = !1;
  }
  y && (h.set(p, v), o(v, p, r, l, h), h.delete(p)), Ex(a, n, v);
}
function tA(a, e, n, r, o) {
  a !== e && VI(e, function(l, h) {
    if (o || (o = new pa()), so(l))
      T$(a, e, h, n, tA, r, o);
    else {
      var d = r ? r(Px(a, h), l, h + "", a, e, o) : void 0;
      d === void 0 && (d = l), Ex(a, h, d);
    }
  }, eA);
}
function f0(a) {
  return a;
}
function N$(a, e, n) {
  switch (n.length) {
    case 0:
      return a.call(e);
    case 1:
      return a.call(e, n[0]);
    case 2:
      return a.call(e, n[0], n[1]);
    case 3:
      return a.call(e, n[0], n[1], n[2]);
  }
  return a.apply(e, n);
}
var xN = Math.max;
function M$(a, e, n) {
  return e = xN(e === void 0 ? a.length - 1 : e, 0), function() {
    for (var r = arguments, o = -1, l = xN(r.length - e, 0), h = Array(l); ++o < l; )
      h[o] = r[e + o];
    o = -1;
    for (var d = Array(e + 1); ++o < e; )
      d[o] = r[o];
    return d[e] = n(h), N$(a, this, d);
  };
}
function S$(a) {
  return function() {
    return a;
  };
}
var I$ = zg ? function(a, e) {
  return zg(a, "toString", {
    configurable: !0,
    enumerable: !1,
    value: S$(e),
    writable: !0
  });
} : f0, A$ = 800, E$ = 16, P$ = Date.now;
function R$(a) {
  var e = 0, n = 0;
  return function() {
    var r = P$(), o = E$ - (r - n);
    if (n = r, o > 0) {
      if (++e >= A$)
        return arguments[0];
    } else
      e = 0;
    return a.apply(void 0, arguments);
  };
}
var B$ = R$(I$);
function O$(a, e) {
  return B$(M$(a, e, f0), a + "");
}
function L$(a, e, n) {
  if (!so(n))
    return !1;
  var r = typeof e;
  return (r == "number" ? td(n) && j2(e, n.length) : r == "string" && e in n) ? Sp(n[e], a) : !1;
}
function j$(a) {
  return O$(function(e, n) {
    var r = -1, o = n.length, l = o > 1 ? n[o - 1] : void 0, h = o > 2 ? n[2] : void 0;
    for (l = a.length > 3 && typeof l == "function" ? (o--, l) : void 0, h && L$(n[0], n[1], h) && (l = o < 3 ? void 0 : l, o = 1), e = Object(e); ++r < o; ) {
      var d = n[r];
      d && a(e, d, r, l);
    }
    return e;
  });
}
var Si = j$(function(a, e, n) {
  tA(a, e, n);
}), Ip = function(e) {
  var n = e.zDepth, r = e.radius, o = e.background, l = e.children, h = e.styles, d = h === void 0 ? {} : h, p = Qt(Si({
    default: {
      wrap: {
        position: "relative",
        display: "inline-block"
      },
      content: {
        position: "relative"
      },
      bg: {
        absolute: "0px 0px 0px 0px",
        boxShadow: "0 " + n + "px " + n * 4 + "px rgba(0,0,0,.24)",
        borderRadius: r,
        background: o
      }
    },
    "zDepth-0": {
      bg: {
        boxShadow: "none"
      }
    },
    "zDepth-1": {
      bg: {
        boxShadow: "0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"
      }
    },
    "zDepth-2": {
      bg: {
        boxShadow: "0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"
      }
    },
    "zDepth-3": {
      bg: {
        boxShadow: "0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"
      }
    },
    "zDepth-4": {
      bg: {
        boxShadow: "0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"
      }
    },
    "zDepth-5": {
      bg: {
        boxShadow: "0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"
      }
    },
    square: {
      bg: {
        borderRadius: "0"
      }
    },
    circle: {
      bg: {
        borderRadius: "50%"
      }
    }
  }, d), { "zDepth-1": n === 1 });
  return re.createElement(
    "div",
    { style: p.wrap },
    re.createElement("div", { style: p.bg }),
    re.createElement(
      "div",
      { style: p.content },
      l
    )
  );
};
Ip.propTypes = {
  background: mt.string,
  zDepth: mt.oneOf([0, 1, 2, 3, 4, 5]),
  radius: mt.number,
  styles: mt.object
};
Ip.defaultProps = {
  background: "#fff",
  zDepth: 1,
  radius: 2,
  styles: {}
};
var $v = function() {
  return zo.Date.now();
}, D$ = /\s/;
function F$(a) {
  for (var e = a.length; e-- && D$.test(a.charAt(e)); )
    ;
  return e;
}
var k$ = /^\s+/;
function X$(a) {
  return a && a.slice(0, F$(a) + 1).replace(k$, "");
}
var z$ = "[object Symbol]";
function g0(a) {
  return typeof a == "symbol" || bl(a) && Yc(a) == z$;
}
var CN = NaN, U$ = /^[-+]0x[0-9a-f]+$/i, G$ = /^0b[01]+$/i, W$ = /^0o[0-7]+$/i, V$ = parseInt;
function _N(a) {
  if (typeof a == "number")
    return a;
  if (g0(a))
    return CN;
  if (so(a)) {
    var e = typeof a.valueOf == "function" ? a.valueOf() : a;
    a = so(e) ? e + "" : e;
  }
  if (typeof a != "string")
    return a === 0 ? a : +a;
  a = X$(a);
  var n = G$.test(a);
  return n || W$.test(a) ? V$(a.slice(2), n ? 2 : 8) : U$.test(a) ? CN : +a;
}
var H$ = "Expected a function", $$ = Math.max, q$ = Math.min;
function nA(a, e, n) {
  var r, o, l, h, d, p, g = 0, v = !1, y = !1, x = !0;
  if (typeof a != "function")
    throw new TypeError(H$);
  e = _N(e) || 0, so(n) && (v = !!n.leading, y = "maxWait" in n, l = y ? $$(_N(n.maxWait) || 0, e) : l, x = "trailing" in n ? !!n.trailing : x);
  function w(q) {
    var he = r, ae = o;
    return r = o = void 0, g = q, h = a.apply(ae, he), h;
  }
  function T(q) {
    return g = q, d = setTimeout(L, e), v ? w(q) : h;
  }
  function M(q) {
    var he = q - p, ae = q - g, ve = e - he;
    return y ? q$(ve, l - ae) : ve;
  }
  function S(q) {
    var he = q - p, ae = q - g;
    return p === void 0 || he >= e || he < 0 || y && ae >= l;
  }
  function L() {
    var q = $v();
    if (S(q))
      return F(q);
    d = setTimeout(L, M(q));
  }
  function F(q) {
    return d = void 0, x && r ? w(q) : (r = o = void 0, h);
  }
  function G() {
    d !== void 0 && clearTimeout(d), g = 0, r = p = o = d = void 0;
  }
  function $() {
    return d === void 0 ? h : F($v());
  }
  function K() {
    var q = $v(), he = S(q);
    if (r = arguments, o = this, p = q, he) {
      if (d === void 0)
        return T(p);
      if (y)
        return clearTimeout(d), d = setTimeout(L, e), w(p);
    }
    return d === void 0 && (d = setTimeout(L, e)), h;
  }
  return K.cancel = G, K.flush = $, K;
}
var Y$ = "Expected a function";
function K$(a, e, n) {
  var r = !0, o = !0;
  if (typeof a != "function")
    throw new TypeError(Y$);
  return so(n) && (r = "leading" in n ? !!n.leading : r, o = "trailing" in n ? !!n.trailing : o), nA(a, e, {
    leading: r,
    maxWait: e,
    trailing: o
  });
}
var Z$ = function(e, n, r) {
  var o = r.getBoundingClientRect(), l = o.width, h = o.height, d = typeof e.pageX == "number" ? e.pageX : e.touches[0].pageX, p = typeof e.pageY == "number" ? e.pageY : e.touches[0].pageY, g = d - (r.getBoundingClientRect().left + window.pageXOffset), v = p - (r.getBoundingClientRect().top + window.pageYOffset);
  g < 0 ? g = 0 : g > l && (g = l), v < 0 ? v = 0 : v > h && (v = h);
  var y = g / l, x = 1 - v / h;
  return {
    h: n.h,
    s: y,
    v: x,
    a: n.a,
    source: "hsv"
  };
}, J$ = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function Q$(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function eq(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function tq(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var b0 = function(a) {
  tq(e, a);
  function e(n) {
    Q$(this, e);
    var r = eq(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this, n));
    return r.handleChange = function(o) {
      typeof r.props.onChange == "function" && r.throttle(r.props.onChange, Z$(o, r.props.hsl, r.container), o);
    }, r.handleMouseDown = function(o) {
      r.handleChange(o);
      var l = r.getContainerRenderWindow();
      l.addEventListener("mousemove", r.handleChange), l.addEventListener("mouseup", r.handleMouseUp);
    }, r.handleMouseUp = function() {
      r.unbindEventListeners();
    }, r.throttle = K$(function(o, l, h) {
      o(l, h);
    }, 50), r;
  }
  return J$(e, [{
    key: "componentWillUnmount",
    value: function() {
      this.throttle.cancel(), this.unbindEventListeners();
    }
  }, {
    key: "getContainerRenderWindow",
    value: function() {
      for (var r = this.container, o = window; !o.document.contains(r) && o.parent !== o; )
        o = o.parent;
      return o;
    }
  }, {
    key: "unbindEventListeners",
    value: function() {
      var r = this.getContainerRenderWindow();
      r.removeEventListener("mousemove", this.handleChange), r.removeEventListener("mouseup", this.handleMouseUp);
    }
  }, {
    key: "render",
    value: function() {
      var r = this, o = this.props.style || {}, l = o.color, h = o.white, d = o.black, p = o.pointer, g = o.circle, v = Qt({
        default: {
          color: {
            absolute: "0px 0px 0px 0px",
            background: "hsl(" + this.props.hsl.h + ",100%, 50%)",
            borderRadius: this.props.radius
          },
          white: {
            absolute: "0px 0px 0px 0px",
            borderRadius: this.props.radius
          },
          black: {
            absolute: "0px 0px 0px 0px",
            boxShadow: this.props.shadow,
            borderRadius: this.props.radius
          },
          pointer: {
            position: "absolute",
            top: -(this.props.hsv.v * 100) + 100 + "%",
            left: this.props.hsv.s * 100 + "%",
            cursor: "default"
          },
          circle: {
            width: "4px",
            height: "4px",
            boxShadow: `0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,
            borderRadius: "50%",
            cursor: "hand",
            transform: "translate(-2px, -2px)"
          }
        },
        custom: {
          color: l,
          white: h,
          black: d,
          pointer: p,
          circle: g
        }
      }, { custom: !!this.props.style });
      return re.createElement(
        "div",
        {
          style: v.color,
          ref: function(x) {
            return r.container = x;
          },
          onMouseDown: this.handleMouseDown,
          onTouchMove: this.handleChange,
          onTouchStart: this.handleChange
        },
        re.createElement(
          "style",
          null,
          `
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `
        ),
        re.createElement(
          "div",
          { style: v.white, className: "saturation-white" },
          re.createElement("div", { style: v.black, className: "saturation-black" }),
          re.createElement(
            "div",
            { style: v.pointer },
            this.props.pointer ? re.createElement(this.props.pointer, this.props) : re.createElement("div", { style: v.circle })
          )
        )
      );
    }
  }]), e;
}(Ke.PureComponent || Ke.Component);
function nq(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length; ++n < r && e(a[n], n, a) !== !1; )
    ;
  return a;
}
var rq = $I(Object.keys, Object), iq = Object.prototype, oq = iq.hasOwnProperty;
function aq(a) {
  if (!B2(a))
    return rq(a);
  var e = [];
  for (var n in Object(a))
    oq.call(a, n) && n != "constructor" && e.push(n);
  return e;
}
function D2(a) {
  return td(a) ? QI(a) : aq(a);
}
function sq(a, e) {
  return a && VI(a, e, D2);
}
function lq(a, e) {
  return function(n, r) {
    if (n == null)
      return n;
    if (!td(n))
      return a(n, r);
    for (var o = n.length, l = -1, h = Object(n); ++l < o && r(h[l], l, h) !== !1; )
      ;
    return n;
  };
}
var rA = lq(sq);
function cq(a) {
  return typeof a == "function" ? a : f0;
}
function hq(a, e) {
  var n = Gi(a) ? nq : rA;
  return n(a, cq(e));
}
function Vg(a) {
  "@babel/helpers - typeof";
  return Vg = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e) {
    return typeof e;
  } : function(e) {
    return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
  }, Vg(a);
}
var uq = /^\s+/, dq = /\s+$/;
function Dt(a, e) {
  if (a = a || "", e = e || {}, a instanceof Dt)
    return a;
  if (!(this instanceof Dt))
    return new Dt(a, e);
  var n = mq(a);
  this._originalInput = a, this._r = n.r, this._g = n.g, this._b = n.b, this._a = n.a, this._roundA = Math.round(100 * this._a) / 100, this._format = e.format || n.format, this._gradientType = e.gradientType, this._r < 1 && (this._r = Math.round(this._r)), this._g < 1 && (this._g = Math.round(this._g)), this._b < 1 && (this._b = Math.round(this._b)), this._ok = n.ok;
}
Dt.prototype = {
  isDark: function() {
    return this.getBrightness() < 128;
  },
  isLight: function() {
    return !this.isDark();
  },
  isValid: function() {
    return this._ok;
  },
  getOriginalInput: function() {
    return this._originalInput;
  },
  getFormat: function() {
    return this._format;
  },
  getAlpha: function() {
    return this._a;
  },
  getBrightness: function() {
    var e = this.toRgb();
    return (e.r * 299 + e.g * 587 + e.b * 114) / 1e3;
  },
  getLuminance: function() {
    var e = this.toRgb(), n, r, o, l, h, d;
    return n = e.r / 255, r = e.g / 255, o = e.b / 255, n <= 0.03928 ? l = n / 12.92 : l = Math.pow((n + 0.055) / 1.055, 2.4), r <= 0.03928 ? h = r / 12.92 : h = Math.pow((r + 0.055) / 1.055, 2.4), o <= 0.03928 ? d = o / 12.92 : d = Math.pow((o + 0.055) / 1.055, 2.4), 0.2126 * l + 0.7152 * h + 0.0722 * d;
  },
  setAlpha: function(e) {
    return this._a = iA(e), this._roundA = Math.round(100 * this._a) / 100, this;
  },
  toHsv: function() {
    var e = TN(this._r, this._g, this._b);
    return {
      h: e.h * 360,
      s: e.s,
      v: e.v,
      a: this._a
    };
  },
  toHsvString: function() {
    var e = TN(this._r, this._g, this._b), n = Math.round(e.h * 360), r = Math.round(e.s * 100), o = Math.round(e.v * 100);
    return this._a == 1 ? "hsv(" + n + ", " + r + "%, " + o + "%)" : "hsva(" + n + ", " + r + "%, " + o + "%, " + this._roundA + ")";
  },
  toHsl: function() {
    var e = wN(this._r, this._g, this._b);
    return {
      h: e.h * 360,
      s: e.s,
      l: e.l,
      a: this._a
    };
  },
  toHslString: function() {
    var e = wN(this._r, this._g, this._b), n = Math.round(e.h * 360), r = Math.round(e.s * 100), o = Math.round(e.l * 100);
    return this._a == 1 ? "hsl(" + n + ", " + r + "%, " + o + "%)" : "hsla(" + n + ", " + r + "%, " + o + "%, " + this._roundA + ")";
  },
  toHex: function(e) {
    return NN(this._r, this._g, this._b, e);
  },
  toHexString: function(e) {
    return "#" + this.toHex(e);
  },
  toHex8: function(e) {
    return bq(this._r, this._g, this._b, this._a, e);
  },
  toHex8String: function(e) {
    return "#" + this.toHex8(e);
  },
  toRgb: function() {
    return {
      r: Math.round(this._r),
      g: Math.round(this._g),
      b: Math.round(this._b),
      a: this._a
    };
  },
  toRgbString: function() {
    return this._a == 1 ? "rgb(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ")" : "rgba(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ", " + this._roundA + ")";
  },
  toPercentageRgb: function() {
    return {
      r: Math.round(hr(this._r, 255) * 100) + "%",
      g: Math.round(hr(this._g, 255) * 100) + "%",
      b: Math.round(hr(this._b, 255) * 100) + "%",
      a: this._a
    };
  },
  toPercentageRgbString: function() {
    return this._a == 1 ? "rgb(" + Math.round(hr(this._r, 255) * 100) + "%, " + Math.round(hr(this._g, 255) * 100) + "%, " + Math.round(hr(this._b, 255) * 100) + "%)" : "rgba(" + Math.round(hr(this._r, 255) * 100) + "%, " + Math.round(hr(this._g, 255) * 100) + "%, " + Math.round(hr(this._b, 255) * 100) + "%, " + this._roundA + ")";
  },
  toName: function() {
    return this._a === 0 ? "transparent" : this._a < 1 ? !1 : Aq[NN(this._r, this._g, this._b, !0)] || !1;
  },
  toFilter: function(e) {
    var n = "#" + MN(this._r, this._g, this._b, this._a), r = n, o = this._gradientType ? "GradientType = 1, " : "";
    if (e) {
      var l = Dt(e);
      r = "#" + MN(l._r, l._g, l._b, l._a);
    }
    return "progid:DXImageTransform.Microsoft.gradient(" + o + "startColorstr=" + n + ",endColorstr=" + r + ")";
  },
  toString: function(e) {
    var n = !!e;
    e = e || this._format;
    var r = !1, o = this._a < 1 && this._a >= 0, l = !n && o && (e === "hex" || e === "hex6" || e === "hex3" || e === "hex4" || e === "hex8" || e === "name");
    return l ? e === "name" && this._a === 0 ? this.toName() : this.toRgbString() : (e === "rgb" && (r = this.toRgbString()), e === "prgb" && (r = this.toPercentageRgbString()), (e === "hex" || e === "hex6") && (r = this.toHexString()), e === "hex3" && (r = this.toHexString(!0)), e === "hex4" && (r = this.toHex8String(!0)), e === "hex8" && (r = this.toHex8String()), e === "name" && (r = this.toName()), e === "hsl" && (r = this.toHslString()), e === "hsv" && (r = this.toHsvString()), r || this.toHexString());
  },
  clone: function() {
    return Dt(this.toString());
  },
  _applyModification: function(e, n) {
    var r = e.apply(null, [this].concat([].slice.call(n)));
    return this._r = r._r, this._g = r._g, this._b = r._b, this.setAlpha(r._a), this;
  },
  lighten: function() {
    return this._applyModification(Cq, arguments);
  },
  brighten: function() {
    return this._applyModification(_q, arguments);
  },
  darken: function() {
    return this._applyModification(wq, arguments);
  },
  desaturate: function() {
    return this._applyModification(vq, arguments);
  },
  saturate: function() {
    return this._applyModification(yq, arguments);
  },
  greyscale: function() {
    return this._applyModification(xq, arguments);
  },
  spin: function() {
    return this._applyModification(Tq, arguments);
  },
  _applyCombination: function(e, n) {
    return e.apply(null, [this].concat([].slice.call(n)));
  },
  analogous: function() {
    return this._applyCombination(Sq, arguments);
  },
  complement: function() {
    return this._applyCombination(Nq, arguments);
  },
  monochromatic: function() {
    return this._applyCombination(Iq, arguments);
  },
  splitcomplement: function() {
    return this._applyCombination(Mq, arguments);
  },
  // Disabled until https://github.com/bgrins/TinyColor/issues/254
  // polyad: function (number) {
  //   return this._applyCombination(polyad, [number]);
  // },
  triad: function() {
    return this._applyCombination(SN, [3]);
  },
  tetrad: function() {
    return this._applyCombination(SN, [4]);
  }
};
Dt.fromRatio = function(a, e) {
  if (Vg(a) == "object") {
    var n = {};
    for (var r in a)
      a.hasOwnProperty(r) && (r === "a" ? n[r] = a[r] : n[r] = tp(a[r]));
    a = n;
  }
  return Dt(a, e);
};
function mq(a) {
  var e = {
    r: 0,
    g: 0,
    b: 0
  }, n = 1, r = null, o = null, l = null, h = !1, d = !1;
  return typeof a == "string" && (a = Bq(a)), Vg(a) == "object" && (Ya(a.r) && Ya(a.g) && Ya(a.b) ? (e = pq(a.r, a.g, a.b), h = !0, d = String(a.r).substr(-1) === "%" ? "prgb" : "rgb") : Ya(a.h) && Ya(a.s) && Ya(a.v) ? (r = tp(a.s), o = tp(a.v), e = gq(a.h, r, o), h = !0, d = "hsv") : Ya(a.h) && Ya(a.s) && Ya(a.l) && (r = tp(a.s), l = tp(a.l), e = fq(a.h, r, l), h = !0, d = "hsl"), a.hasOwnProperty("a") && (n = a.a)), n = iA(n), {
    ok: h,
    format: a.format || d,
    r: Math.min(255, Math.max(e.r, 0)),
    g: Math.min(255, Math.max(e.g, 0)),
    b: Math.min(255, Math.max(e.b, 0)),
    a: n
  };
}
function pq(a, e, n) {
  return {
    r: hr(a, 255) * 255,
    g: hr(e, 255) * 255,
    b: hr(n, 255) * 255
  };
}
function wN(a, e, n) {
  a = hr(a, 255), e = hr(e, 255), n = hr(n, 255);
  var r = Math.max(a, e, n), o = Math.min(a, e, n), l, h, d = (r + o) / 2;
  if (r == o)
    l = h = 0;
  else {
    var p = r - o;
    switch (h = d > 0.5 ? p / (2 - r - o) : p / (r + o), r) {
      case a:
        l = (e - n) / p + (e < n ? 6 : 0);
        break;
      case e:
        l = (n - a) / p + 2;
        break;
      case n:
        l = (a - e) / p + 4;
        break;
    }
    l /= 6;
  }
  return {
    h: l,
    s: h,
    l: d
  };
}
function fq(a, e, n) {
  var r, o, l;
  a = hr(a, 360), e = hr(e, 100), n = hr(n, 100);
  function h(g, v, y) {
    return y < 0 && (y += 1), y > 1 && (y -= 1), y < 1 / 6 ? g + (v - g) * 6 * y : y < 1 / 2 ? v : y < 2 / 3 ? g + (v - g) * (2 / 3 - y) * 6 : g;
  }
  if (e === 0)
    r = o = l = n;
  else {
    var d = n < 0.5 ? n * (1 + e) : n + e - n * e, p = 2 * n - d;
    r = h(p, d, a + 1 / 3), o = h(p, d, a), l = h(p, d, a - 1 / 3);
  }
  return {
    r: r * 255,
    g: o * 255,
    b: l * 255
  };
}
function TN(a, e, n) {
  a = hr(a, 255), e = hr(e, 255), n = hr(n, 255);
  var r = Math.max(a, e, n), o = Math.min(a, e, n), l, h, d = r, p = r - o;
  if (h = r === 0 ? 0 : p / r, r == o)
    l = 0;
  else {
    switch (r) {
      case a:
        l = (e - n) / p + (e < n ? 6 : 0);
        break;
      case e:
        l = (n - a) / p + 2;
        break;
      case n:
        l = (a - e) / p + 4;
        break;
    }
    l /= 6;
  }
  return {
    h: l,
    s: h,
    v: d
  };
}
function gq(a, e, n) {
  a = hr(a, 360) * 6, e = hr(e, 100), n = hr(n, 100);
  var r = Math.floor(a), o = a - r, l = n * (1 - e), h = n * (1 - o * e), d = n * (1 - (1 - o) * e), p = r % 6, g = [n, h, l, l, d, n][p], v = [d, n, n, h, l, l][p], y = [l, l, d, n, n, h][p];
  return {
    r: g * 255,
    g: v * 255,
    b: y * 255
  };
}
function NN(a, e, n, r) {
  var o = [Do(Math.round(a).toString(16)), Do(Math.round(e).toString(16)), Do(Math.round(n).toString(16))];
  return r && o[0].charAt(0) == o[0].charAt(1) && o[1].charAt(0) == o[1].charAt(1) && o[2].charAt(0) == o[2].charAt(1) ? o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) : o.join("");
}
function bq(a, e, n, r, o) {
  var l = [Do(Math.round(a).toString(16)), Do(Math.round(e).toString(16)), Do(Math.round(n).toString(16)), Do(oA(r))];
  return o && l[0].charAt(0) == l[0].charAt(1) && l[1].charAt(0) == l[1].charAt(1) && l[2].charAt(0) == l[2].charAt(1) && l[3].charAt(0) == l[3].charAt(1) ? l[0].charAt(0) + l[1].charAt(0) + l[2].charAt(0) + l[3].charAt(0) : l.join("");
}
function MN(a, e, n, r) {
  var o = [Do(oA(r)), Do(Math.round(a).toString(16)), Do(Math.round(e).toString(16)), Do(Math.round(n).toString(16))];
  return o.join("");
}
Dt.equals = function(a, e) {
  return !a || !e ? !1 : Dt(a).toRgbString() == Dt(e).toRgbString();
};
Dt.random = function() {
  return Dt.fromRatio({
    r: Math.random(),
    g: Math.random(),
    b: Math.random()
  });
};
function vq(a, e) {
  e = e === 0 ? 0 : e || 10;
  var n = Dt(a).toHsl();
  return n.s -= e / 100, n.s = v0(n.s), Dt(n);
}
function yq(a, e) {
  e = e === 0 ? 0 : e || 10;
  var n = Dt(a).toHsl();
  return n.s += e / 100, n.s = v0(n.s), Dt(n);
}
function xq(a) {
  return Dt(a).desaturate(100);
}
function Cq(a, e) {
  e = e === 0 ? 0 : e || 10;
  var n = Dt(a).toHsl();
  return n.l += e / 100, n.l = v0(n.l), Dt(n);
}
function _q(a, e) {
  e = e === 0 ? 0 : e || 10;
  var n = Dt(a).toRgb();
  return n.r = Math.max(0, Math.min(255, n.r - Math.round(255 * -(e / 100)))), n.g = Math.max(0, Math.min(255, n.g - Math.round(255 * -(e / 100)))), n.b = Math.max(0, Math.min(255, n.b - Math.round(255 * -(e / 100)))), Dt(n);
}
function wq(a, e) {
  e = e === 0 ? 0 : e || 10;
  var n = Dt(a).toHsl();
  return n.l -= e / 100, n.l = v0(n.l), Dt(n);
}
function Tq(a, e) {
  var n = Dt(a).toHsl(), r = (n.h + e) % 360;
  return n.h = r < 0 ? 360 + r : r, Dt(n);
}
function Nq(a) {
  var e = Dt(a).toHsl();
  return e.h = (e.h + 180) % 360, Dt(e);
}
function SN(a, e) {
  if (isNaN(e) || e <= 0)
    throw new Error("Argument to polyad must be a positive number");
  for (var n = Dt(a).toHsl(), r = [Dt(a)], o = 360 / e, l = 1; l < e; l++)
    r.push(Dt({
      h: (n.h + l * o) % 360,
      s: n.s,
      l: n.l
    }));
  return r;
}
function Mq(a) {
  var e = Dt(a).toHsl(), n = e.h;
  return [Dt(a), Dt({
    h: (n + 72) % 360,
    s: e.s,
    l: e.l
  }), Dt({
    h: (n + 216) % 360,
    s: e.s,
    l: e.l
  })];
}
function Sq(a, e, n) {
  e = e || 6, n = n || 30;
  var r = Dt(a).toHsl(), o = 360 / n, l = [Dt(a)];
  for (r.h = (r.h - (o * e >> 1) + 720) % 360; --e; )
    r.h = (r.h + o) % 360, l.push(Dt(r));
  return l;
}
function Iq(a, e) {
  e = e || 6;
  for (var n = Dt(a).toHsv(), r = n.h, o = n.s, l = n.v, h = [], d = 1 / e; e--; )
    h.push(Dt({
      h: r,
      s: o,
      v: l
    })), l = (l + d) % 1;
  return h;
}
Dt.mix = function(a, e, n) {
  n = n === 0 ? 0 : n || 50;
  var r = Dt(a).toRgb(), o = Dt(e).toRgb(), l = n / 100, h = {
    r: (o.r - r.r) * l + r.r,
    g: (o.g - r.g) * l + r.g,
    b: (o.b - r.b) * l + r.b,
    a: (o.a - r.a) * l + r.a
  };
  return Dt(h);
};
Dt.readability = function(a, e) {
  var n = Dt(a), r = Dt(e);
  return (Math.max(n.getLuminance(), r.getLuminance()) + 0.05) / (Math.min(n.getLuminance(), r.getLuminance()) + 0.05);
};
Dt.isReadable = function(a, e, n) {
  var r = Dt.readability(a, e), o, l;
  switch (l = !1, o = Oq(n), o.level + o.size) {
    case "AAsmall":
    case "AAAlarge":
      l = r >= 4.5;
      break;
    case "AAlarge":
      l = r >= 3;
      break;
    case "AAAsmall":
      l = r >= 7;
      break;
  }
  return l;
};
Dt.mostReadable = function(a, e, n) {
  var r = null, o = 0, l, h, d, p;
  n = n || {}, h = n.includeFallbackColors, d = n.level, p = n.size;
  for (var g = 0; g < e.length; g++)
    l = Dt.readability(a, e[g]), l > o && (o = l, r = Dt(e[g]));
  return Dt.isReadable(a, r, {
    level: d,
    size: p
  }) || !h ? r : (n.includeFallbackColors = !1, Dt.mostReadable(a, ["#fff", "#000"], n));
};
var Rx = Dt.names = {
  aliceblue: "f0f8ff",
  antiquewhite: "faebd7",
  aqua: "0ff",
  aquamarine: "7fffd4",
  azure: "f0ffff",
  beige: "f5f5dc",
  bisque: "ffe4c4",
  black: "000",
  blanchedalmond: "ffebcd",
  blue: "00f",
  blueviolet: "8a2be2",
  brown: "a52a2a",
  burlywood: "deb887",
  burntsienna: "ea7e5d",
  cadetblue: "5f9ea0",
  chartreuse: "7fff00",
  chocolate: "d2691e",
  coral: "ff7f50",
  cornflowerblue: "6495ed",
  cornsilk: "fff8dc",
  crimson: "dc143c",
  cyan: "0ff",
  darkblue: "00008b",
  darkcyan: "008b8b",
  darkgoldenrod: "b8860b",
  darkgray: "a9a9a9",
  darkgreen: "006400",
  darkgrey: "a9a9a9",
  darkkhaki: "bdb76b",
  darkmagenta: "8b008b",
  darkolivegreen: "556b2f",
  darkorange: "ff8c00",
  darkorchid: "9932cc",
  darkred: "8b0000",
  darksalmon: "e9967a",
  darkseagreen: "8fbc8f",
  darkslateblue: "483d8b",
  darkslategray: "2f4f4f",
  darkslategrey: "2f4f4f",
  darkturquoise: "00ced1",
  darkviolet: "9400d3",
  deeppink: "ff1493",
  deepskyblue: "00bfff",
  dimgray: "696969",
  dimgrey: "696969",
  dodgerblue: "1e90ff",
  firebrick: "b22222",
  floralwhite: "fffaf0",
  forestgreen: "228b22",
  fuchsia: "f0f",
  gainsboro: "dcdcdc",
  ghostwhite: "f8f8ff",
  gold: "ffd700",
  goldenrod: "daa520",
  gray: "808080",
  green: "008000",
  greenyellow: "adff2f",
  grey: "808080",
  honeydew: "f0fff0",
  hotpink: "ff69b4",
  indianred: "cd5c5c",
  indigo: "4b0082",
  ivory: "fffff0",
  khaki: "f0e68c",
  lavender: "e6e6fa",
  lavenderblush: "fff0f5",
  lawngreen: "7cfc00",
  lemonchiffon: "fffacd",
  lightblue: "add8e6",
  lightcoral: "f08080",
  lightcyan: "e0ffff",
  lightgoldenrodyellow: "fafad2",
  lightgray: "d3d3d3",
  lightgreen: "90ee90",
  lightgrey: "d3d3d3",
  lightpink: "ffb6c1",
  lightsalmon: "ffa07a",
  lightseagreen: "20b2aa",
  lightskyblue: "87cefa",
  lightslategray: "789",
  lightslategrey: "789",
  lightsteelblue: "b0c4de",
  lightyellow: "ffffe0",
  lime: "0f0",
  limegreen: "32cd32",
  linen: "faf0e6",
  magenta: "f0f",
  maroon: "800000",
  mediumaquamarine: "66cdaa",
  mediumblue: "0000cd",
  mediumorchid: "ba55d3",
  mediumpurple: "9370db",
  mediumseagreen: "3cb371",
  mediumslateblue: "7b68ee",
  mediumspringgreen: "00fa9a",
  mediumturquoise: "48d1cc",
  mediumvioletred: "c71585",
  midnightblue: "191970",
  mintcream: "f5fffa",
  mistyrose: "ffe4e1",
  moccasin: "ffe4b5",
  navajowhite: "ffdead",
  navy: "000080",
  oldlace: "fdf5e6",
  olive: "808000",
  olivedrab: "6b8e23",
  orange: "ffa500",
  orangered: "ff4500",
  orchid: "da70d6",
  palegoldenrod: "eee8aa",
  palegreen: "98fb98",
  paleturquoise: "afeeee",
  palevioletred: "db7093",
  papayawhip: "ffefd5",
  peachpuff: "ffdab9",
  peru: "cd853f",
  pink: "ffc0cb",
  plum: "dda0dd",
  powderblue: "b0e0e6",
  purple: "800080",
  rebeccapurple: "663399",
  red: "f00",
  rosybrown: "bc8f8f",
  royalblue: "4169e1",
  saddlebrown: "8b4513",
  salmon: "fa8072",
  sandybrown: "f4a460",
  seagreen: "2e8b57",
  seashell: "fff5ee",
  sienna: "a0522d",
  silver: "c0c0c0",
  skyblue: "87ceeb",
  slateblue: "6a5acd",
  slategray: "708090",
  slategrey: "708090",
  snow: "fffafa",
  springgreen: "00ff7f",
  steelblue: "4682b4",
  tan: "d2b48c",
  teal: "008080",
  thistle: "d8bfd8",
  tomato: "ff6347",
  turquoise: "40e0d0",
  violet: "ee82ee",
  wheat: "f5deb3",
  white: "fff",
  whitesmoke: "f5f5f5",
  yellow: "ff0",
  yellowgreen: "9acd32"
}, Aq = Dt.hexNames = Eq(Rx);
function Eq(a) {
  var e = {};
  for (var n in a)
    a.hasOwnProperty(n) && (e[a[n]] = n);
  return e;
}
function iA(a) {
  return a = parseFloat(a), (isNaN(a) || a < 0 || a > 1) && (a = 1), a;
}
function hr(a, e) {
  Pq(a) && (a = "100%");
  var n = Rq(a);
  return a = Math.min(e, Math.max(0, parseFloat(a))), n && (a = parseInt(a * e, 10) / 100), Math.abs(a - e) < 1e-6 ? 1 : a % e / parseFloat(e);
}
function v0(a) {
  return Math.min(1, Math.max(0, a));
}
function Xi(a) {
  return parseInt(a, 16);
}
function Pq(a) {
  return typeof a == "string" && a.indexOf(".") != -1 && parseFloat(a) === 1;
}
function Rq(a) {
  return typeof a == "string" && a.indexOf("%") != -1;
}
function Do(a) {
  return a.length == 1 ? "0" + a : "" + a;
}
function tp(a) {
  return a <= 1 && (a = a * 100 + "%"), a;
}
function oA(a) {
  return Math.round(parseFloat(a) * 255).toString(16);
}
function IN(a) {
  return Xi(a) / 255;
}
var Oo = function() {
  var a = "[-\\+]?\\d+%?", e = "[-\\+]?\\d*\\.\\d+%?", n = "(?:" + e + ")|(?:" + a + ")", r = "[\\s|\\(]+(" + n + ")[,|\\s]+(" + n + ")[,|\\s]+(" + n + ")\\s*\\)?", o = "[\\s|\\(]+(" + n + ")[,|\\s]+(" + n + ")[,|\\s]+(" + n + ")[,|\\s]+(" + n + ")\\s*\\)?";
  return {
    CSS_UNIT: new RegExp(n),
    rgb: new RegExp("rgb" + r),
    rgba: new RegExp("rgba" + o),
    hsl: new RegExp("hsl" + r),
    hsla: new RegExp("hsla" + o),
    hsv: new RegExp("hsv" + r),
    hsva: new RegExp("hsva" + o),
    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
  };
}();
function Ya(a) {
  return !!Oo.CSS_UNIT.exec(a);
}
function Bq(a) {
  a = a.replace(uq, "").replace(dq, "").toLowerCase();
  var e = !1;
  if (Rx[a])
    a = Rx[a], e = !0;
  else if (a == "transparent")
    return {
      r: 0,
      g: 0,
      b: 0,
      a: 0,
      format: "name"
    };
  var n;
  return (n = Oo.rgb.exec(a)) ? {
    r: n[1],
    g: n[2],
    b: n[3]
  } : (n = Oo.rgba.exec(a)) ? {
    r: n[1],
    g: n[2],
    b: n[3],
    a: n[4]
  } : (n = Oo.hsl.exec(a)) ? {
    h: n[1],
    s: n[2],
    l: n[3]
  } : (n = Oo.hsla.exec(a)) ? {
    h: n[1],
    s: n[2],
    l: n[3],
    a: n[4]
  } : (n = Oo.hsv.exec(a)) ? {
    h: n[1],
    s: n[2],
    v: n[3]
  } : (n = Oo.hsva.exec(a)) ? {
    h: n[1],
    s: n[2],
    v: n[3],
    a: n[4]
  } : (n = Oo.hex8.exec(a)) ? {
    r: Xi(n[1]),
    g: Xi(n[2]),
    b: Xi(n[3]),
    a: IN(n[4]),
    format: e ? "name" : "hex8"
  } : (n = Oo.hex6.exec(a)) ? {
    r: Xi(n[1]),
    g: Xi(n[2]),
    b: Xi(n[3]),
    format: e ? "name" : "hex"
  } : (n = Oo.hex4.exec(a)) ? {
    r: Xi(n[1] + "" + n[1]),
    g: Xi(n[2] + "" + n[2]),
    b: Xi(n[3] + "" + n[3]),
    a: IN(n[4] + "" + n[4]),
    format: e ? "name" : "hex8"
  } : (n = Oo.hex3.exec(a)) ? {
    r: Xi(n[1] + "" + n[1]),
    g: Xi(n[2] + "" + n[2]),
    b: Xi(n[3] + "" + n[3]),
    format: e ? "name" : "hex"
  } : !1;
}
function Oq(a) {
  var e, n;
  return a = a || {
    level: "AA",
    size: "small"
  }, e = (a.level || "AA").toUpperCase(), n = (a.size || "small").toLowerCase(), e !== "AA" && e !== "AAA" && (e = "AA"), n !== "small" && n !== "large" && (n = "small"), {
    level: e,
    size: n
  };
}
var AN = function(e) {
  var n = ["r", "g", "b", "a", "h", "s", "l", "v"], r = 0, o = 0;
  return hq(n, function(l) {
    if (e[l] && (r += 1, isNaN(e[l]) || (o += 1), l === "s" || l === "l")) {
      var h = /^\d+%$/;
      h.test(e[l]) && (o += 1);
    }
  }), r === o ? e : !1;
}, np = function(e, n) {
  var r = e.hex ? Dt(e.hex) : Dt(e), o = r.toHsl(), l = r.toHsv(), h = r.toRgb(), d = r.toHex();
  o.s === 0 && (o.h = n || 0, l.h = n || 0);
  var p = d === "000000" && h.a === 0;
  return {
    hsl: o,
    hex: p ? "transparent" : "#" + d,
    rgb: h,
    hsv: l,
    oldHue: e.h || n || o.h,
    source: e.source
  };
}, yl = function(e) {
  if (e === "transparent")
    return !0;
  var n = String(e).charAt(0) === "#" ? 1 : 0;
  return e.length !== 4 + n && e.length < 7 + n && Dt(e).isValid();
}, F2 = function(e) {
  if (!e)
    return "#fff";
  var n = np(e);
  if (n.hex === "transparent")
    return "rgba(0,0,0,0.4)";
  var r = (n.rgb.r * 299 + n.rgb.g * 587 + n.rgb.b * 114) / 1e3;
  return r >= 128 ? "#000" : "#fff";
}, qv = function(e, n) {
  var r = e.replace("°", "");
  return Dt(n + " (" + r + ")")._ok;
}, Lm = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, Lq = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function jq(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function Dq(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function Fq(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var Ii = function(e) {
  var n = function(r) {
    Fq(o, r);
    function o(l) {
      jq(this, o);
      var h = Dq(this, (o.__proto__ || Object.getPrototypeOf(o)).call(this));
      return h.handleChange = function(d, p) {
        var g = AN(d);
        if (g) {
          var v = np(d, d.h || h.state.oldHue);
          h.setState(v), h.props.onChangeComplete && h.debounce(h.props.onChangeComplete, v, p), h.props.onChange && h.props.onChange(v, p);
        }
      }, h.handleSwatchHover = function(d, p) {
        var g = AN(d);
        if (g) {
          var v = np(d, d.h || h.state.oldHue);
          h.props.onSwatchHover && h.props.onSwatchHover(v, p);
        }
      }, h.state = Lm({}, np(l.color, 0)), h.debounce = nA(function(d, p, g) {
        d(p, g);
      }, 100), h;
    }
    return Lq(o, [{
      key: "render",
      value: function() {
        var h = {};
        return this.props.onSwatchHover && (h.onSwatchHover = this.handleSwatchHover), re.createElement(e, Lm({}, this.props, this.state, {
          onChange: this.handleChange
        }, h));
      }
    }], [{
      key: "getDerivedStateFromProps",
      value: function(h, d) {
        return Lm({}, np(h.color, d.oldHue));
      }
    }]), o;
  }(Ke.PureComponent || Ke.Component);
  return n.propTypes = Lm({}, e.propTypes), n.defaultProps = Lm({}, e.defaultProps, {
    color: {
      h: 250,
      s: 0.5,
      l: 0.2,
      a: 1
    }
  }), n;
}, kq = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, Xq = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function zq(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function EN(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function Uq(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var Gq = function(e) {
  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "span";
  return function(r) {
    Uq(o, r);
    function o() {
      var l, h, d, p;
      zq(this, o);
      for (var g = arguments.length, v = Array(g), y = 0; y < g; y++)
        v[y] = arguments[y];
      return p = (h = (d = EN(this, (l = o.__proto__ || Object.getPrototypeOf(o)).call.apply(l, [this].concat(v))), d), d.state = { focus: !1 }, d.handleFocus = function() {
        return d.setState({ focus: !0 });
      }, d.handleBlur = function() {
        return d.setState({ focus: !1 });
      }, h), EN(d, p);
    }
    return Xq(o, [{
      key: "render",
      value: function() {
        return re.createElement(
          n,
          { onFocus: this.handleFocus, onBlur: this.handleBlur },
          re.createElement(e, kq({}, this.props, this.state))
        );
      }
    }]), o;
  }(re.Component);
}, PN = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, Wq = 13, Vq = function(e) {
  var n = e.color, r = e.style, o = e.onClick, l = o === void 0 ? function() {
  } : o, h = e.onHover, d = e.title, p = d === void 0 ? n : d, g = e.children, v = e.focus, y = e.focusStyle, x = y === void 0 ? {} : y, w = n === "transparent", T = Qt({
    default: {
      swatch: PN({
        background: n,
        height: "100%",
        width: "100%",
        cursor: "pointer",
        position: "relative",
        outline: "none"
      }, r, v ? x : {})
    }
  }), M = function($) {
    return l(n, $);
  }, S = function($) {
    return $.keyCode === Wq && l(n, $);
  }, L = function($) {
    return h(n, $);
  }, F = {};
  return h && (F.onMouseOver = L), re.createElement(
    "div",
    PN({
      style: T.swatch,
      onClick: M,
      title: p,
      tabIndex: 0,
      onKeyDown: S
    }, F),
    g,
    w && re.createElement(Qu, {
      borderRadius: T.swatch.borderRadius,
      boxShadow: "inset 0 0 0 1px rgba(0,0,0,0.1)"
    })
  );
};
const Jc = Gq(Vq);
var Hq = function(e) {
  var n = e.direction, r = Qt({
    default: {
      picker: {
        width: "18px",
        height: "18px",
        borderRadius: "50%",
        transform: "translate(-9px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    },
    vertical: {
      picker: {
        transform: "translate(-3px, -9px)"
      }
    }
  }, { vertical: n === "vertical" });
  return re.createElement("div", { style: r.picker });
}, $q = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, aA = function(e) {
  var n = e.rgb, r = e.hsl, o = e.width, l = e.height, h = e.onChange, d = e.direction, p = e.style, g = e.renderers, v = e.pointer, y = e.className, x = y === void 0 ? "" : y, w = Qt({
    default: {
      picker: {
        position: "relative",
        width: o,
        height: l
      },
      alpha: {
        radius: "2px",
        style: p
      }
    }
  });
  return re.createElement(
    "div",
    { style: w.picker, className: "alpha-picker " + x },
    re.createElement(A2, $q({}, w.alpha, {
      rgb: n,
      hsl: r,
      pointer: v,
      renderers: g,
      onChange: h,
      direction: d
    }))
  );
};
aA.defaultProps = {
  width: "316px",
  height: "16px",
  direction: "horizontal",
  pointer: Hq
};
Ii(aA);
function sA(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length, o = Array(r); ++n < r; )
    o[n] = e(a[n], n, a);
  return o;
}
var qq = "__lodash_hash_undefined__";
function Yq(a) {
  return this.__data__.set(a, qq), this;
}
function Kq(a) {
  return this.__data__.has(a);
}
function Hg(a) {
  var e = -1, n = a == null ? 0 : a.length;
  for (this.__data__ = new us(); ++e < n; )
    this.add(a[e]);
}
Hg.prototype.add = Hg.prototype.push = Yq;
Hg.prototype.has = Kq;
function Zq(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length; ++n < r; )
    if (e(a[n], n, a))
      return !0;
  return !1;
}
function Jq(a, e) {
  return a.has(e);
}
var Qq = 1, eY = 2;
function lA(a, e, n, r, o, l) {
  var h = n & Qq, d = a.length, p = e.length;
  if (d != p && !(h && p > d))
    return !1;
  var g = l.get(a), v = l.get(e);
  if (g && v)
    return g == e && v == a;
  var y = -1, x = !0, w = n & eY ? new Hg() : void 0;
  for (l.set(a, e), l.set(e, a); ++y < d; ) {
    var T = a[y], M = e[y];
    if (r)
      var S = h ? r(M, T, y, e, a, l) : r(T, M, y, a, e, l);
    if (S !== void 0) {
      if (S)
        continue;
      x = !1;
      break;
    }
    if (w) {
      if (!Zq(e, function(L, F) {
        if (!Jq(w, F) && (T === L || o(T, L, n, r, l)))
          return w.push(F);
      })) {
        x = !1;
        break;
      }
    } else if (!(T === M || o(T, M, n, r, l))) {
      x = !1;
      break;
    }
  }
  return l.delete(a), l.delete(e), x;
}
function tY(a) {
  var e = -1, n = Array(a.size);
  return a.forEach(function(r, o) {
    n[++e] = [o, r];
  }), n;
}
function nY(a) {
  var e = -1, n = Array(a.size);
  return a.forEach(function(r) {
    n[++e] = r;
  }), n;
}
var rY = 1, iY = 2, oY = "[object Boolean]", aY = "[object Date]", sY = "[object Error]", lY = "[object Map]", cY = "[object Number]", hY = "[object RegExp]", uY = "[object Set]", dY = "[object String]", mY = "[object Symbol]", pY = "[object ArrayBuffer]", fY = "[object DataView]", RN = gl ? gl.prototype : void 0, Yv = RN ? RN.valueOf : void 0;
function gY(a, e, n, r, o, l, h) {
  switch (n) {
    case fY:
      if (a.byteLength != e.byteLength || a.byteOffset != e.byteOffset)
        return !1;
      a = a.buffer, e = e.buffer;
    case pY:
      return !(a.byteLength != e.byteLength || !l(new Ug(a), new Ug(e)));
    case oY:
    case aY:
    case cY:
      return Sp(+a, +e);
    case sY:
      return a.name == e.name && a.message == e.message;
    case hY:
    case dY:
      return a == e + "";
    case lY:
      var d = tY;
    case uY:
      var p = r & rY;
      if (d || (d = nY), a.size != e.size && !p)
        return !1;
      var g = h.get(a);
      if (g)
        return g == e;
      r |= iY, h.set(a, e);
      var v = lA(d(a), d(e), r, o, l, h);
      return h.delete(a), v;
    case mY:
      if (Yv)
        return Yv.call(a) == Yv.call(e);
  }
  return !1;
}
function bY(a, e) {
  for (var n = -1, r = e.length, o = a.length; ++n < r; )
    a[o + n] = e[n];
  return a;
}
function vY(a, e, n) {
  var r = e(a);
  return Gi(a) ? r : bY(r, n(a));
}
function yY(a, e) {
  for (var n = -1, r = a == null ? 0 : a.length, o = 0, l = []; ++n < r; ) {
    var h = a[n];
    e(h, n, a) && (l[o++] = h);
  }
  return l;
}
function xY() {
  return [];
}
var CY = Object.prototype, _Y = CY.propertyIsEnumerable, BN = Object.getOwnPropertySymbols, wY = BN ? function(a) {
  return a == null ? [] : (a = Object(a), yY(BN(a), function(e) {
    return _Y.call(a, e);
  }));
} : xY;
function ON(a) {
  return vY(a, D2, wY);
}
var TY = 1, NY = Object.prototype, MY = NY.hasOwnProperty;
function SY(a, e, n, r, o, l) {
  var h = n & TY, d = ON(a), p = d.length, g = ON(e), v = g.length;
  if (p != v && !h)
    return !1;
  for (var y = p; y--; ) {
    var x = d[y];
    if (!(h ? x in e : MY.call(e, x)))
      return !1;
  }
  var w = l.get(a), T = l.get(e);
  if (w && T)
    return w == e && T == a;
  var M = !0;
  l.set(a, e), l.set(e, a);
  for (var S = h; ++y < p; ) {
    x = d[y];
    var L = a[x], F = e[x];
    if (r)
      var G = h ? r(F, L, x, e, a, l) : r(L, F, x, a, e, l);
    if (!(G === void 0 ? L === F || o(L, F, n, r, l) : G)) {
      M = !1;
      break;
    }
    S || (S = x == "constructor");
  }
  if (M && !S) {
    var $ = a.constructor, K = e.constructor;
    $ != K && "constructor" in a && "constructor" in e && !(typeof $ == "function" && $ instanceof $ && typeof K == "function" && K instanceof K) && (M = !1);
  }
  return l.delete(a), l.delete(e), M;
}
var Bx = Zc(zo, "DataView"), Ox = Zc(zo, "Promise"), Lx = Zc(zo, "Set"), jx = Zc(zo, "WeakMap"), LN = "[object Map]", IY = "[object Object]", jN = "[object Promise]", DN = "[object Set]", FN = "[object WeakMap]", kN = "[object DataView]", AY = Kc(Bx), EY = Kc(hp), PY = Kc(Ox), RY = Kc(Lx), BY = Kc(jx), dl = Yc;
(Bx && dl(new Bx(new ArrayBuffer(1))) != kN || hp && dl(new hp()) != LN || Ox && dl(Ox.resolve()) != jN || Lx && dl(new Lx()) != DN || jx && dl(new jx()) != FN) && (dl = function(a) {
  var e = Yc(a), n = e == IY ? a.constructor : void 0, r = n ? Kc(n) : "";
  if (r)
    switch (r) {
      case AY:
        return kN;
      case EY:
        return LN;
      case PY:
        return jN;
      case RY:
        return DN;
      case BY:
        return FN;
    }
  return e;
});
var OY = 1, XN = "[object Arguments]", zN = "[object Array]", R1 = "[object Object]", LY = Object.prototype, UN = LY.hasOwnProperty;
function jY(a, e, n, r, o, l) {
  var h = Gi(a), d = Gi(e), p = h ? zN : dl(a), g = d ? zN : dl(e);
  p = p == XN ? R1 : p, g = g == XN ? R1 : g;
  var v = p == R1, y = g == R1, x = p == g;
  if (x && Wg(a)) {
    if (!Wg(e))
      return !1;
    h = !0, v = !1;
  }
  if (x && !v)
    return l || (l = new pa()), h || L2(a) ? lA(a, e, n, r, o, l) : gY(a, e, p, n, r, o, l);
  if (!(n & OY)) {
    var w = v && UN.call(a, "__wrapped__"), T = y && UN.call(e, "__wrapped__");
    if (w || T) {
      var M = w ? a.value() : a, S = T ? e.value() : e;
      return l || (l = new pa()), o(M, S, n, r, l);
    }
  }
  return x ? (l || (l = new pa()), SY(a, e, n, r, o, l)) : !1;
}
function k2(a, e, n, r, o) {
  return a === e ? !0 : a == null || e == null || !bl(a) && !bl(e) ? a !== a && e !== e : jY(a, e, n, r, k2, o);
}
var DY = 1, FY = 2;
function kY(a, e, n, r) {
  var o = n.length, l = o;
  if (a == null)
    return !l;
  for (a = Object(a); o--; ) {
    var h = n[o];
    if (h[2] ? h[1] !== a[h[0]] : !(h[0] in a))
      return !1;
  }
  for (; ++o < l; ) {
    h = n[o];
    var d = h[0], p = a[d], g = h[1];
    if (h[2]) {
      if (p === void 0 && !(d in a))
        return !1;
    } else {
      var v = new pa(), y;
      if (!(y === void 0 ? k2(g, p, DY | FY, r, v) : y))
        return !1;
    }
  }
  return !0;
}
function cA(a) {
  return a === a && !so(a);
}
function XY(a) {
  for (var e = D2(a), n = e.length; n--; ) {
    var r = e[n], o = a[r];
    e[n] = [r, o, cA(o)];
  }
  return e;
}
function hA(a, e) {
  return function(n) {
    return n == null ? !1 : n[a] === e && (e !== void 0 || a in Object(n));
  };
}
function zY(a) {
  var e = XY(a);
  return e.length == 1 && e[0][2] ? hA(e[0][0], e[0][1]) : function(n) {
    return n === a || kY(n, a, e);
  };
}
var UY = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, GY = /^\w*$/;
function X2(a, e) {
  if (Gi(a))
    return !1;
  var n = typeof a;
  return n == "number" || n == "symbol" || n == "boolean" || a == null || g0(a) ? !0 : GY.test(a) || !UY.test(a) || e != null && a in Object(e);
}
var WY = "Expected a function";
function z2(a, e) {
  if (typeof a != "function" || e != null && typeof e != "function")
    throw new TypeError(WY);
  var n = function() {
    var r = arguments, o = e ? e.apply(this, r) : r[0], l = n.cache;
    if (l.has(o))
      return l.get(o);
    var h = a.apply(this, r);
    return n.cache = l.set(o, h) || l, h;
  };
  return n.cache = new (z2.Cache || us)(), n;
}
z2.Cache = us;
var VY = 500;
function HY(a) {
  var e = z2(a, function(r) {
    return n.size === VY && n.clear(), r;
  }), n = e.cache;
  return e;
}
var $Y = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, qY = /\\(\\)?/g, YY = HY(function(a) {
  var e = [];
  return a.charCodeAt(0) === 46 && e.push(""), a.replace($Y, function(n, r, o, l) {
    e.push(o ? l.replace(qY, "$1") : r || n);
  }), e;
}), KY = 1 / 0, GN = gl ? gl.prototype : void 0, WN = GN ? GN.toString : void 0;
function uA(a) {
  if (typeof a == "string")
    return a;
  if (Gi(a))
    return sA(a, uA) + "";
  if (g0(a))
    return WN ? WN.call(a) : "";
  var e = a + "";
  return e == "0" && 1 / a == -KY ? "-0" : e;
}
function ZY(a) {
  return a == null ? "" : uA(a);
}
function dA(a, e) {
  return Gi(a) ? a : X2(a, e) ? [a] : YY(ZY(a));
}
var JY = 1 / 0;
function y0(a) {
  if (typeof a == "string" || g0(a))
    return a;
  var e = a + "";
  return e == "0" && 1 / a == -JY ? "-0" : e;
}
function mA(a, e) {
  e = dA(e, a);
  for (var n = 0, r = e.length; a != null && n < r; )
    a = a[y0(e[n++])];
  return n && n == r ? a : void 0;
}
function QY(a, e, n) {
  var r = a == null ? void 0 : mA(a, e);
  return r === void 0 ? n : r;
}
function eK(a, e) {
  return a != null && e in Object(a);
}
function tK(a, e, n) {
  e = dA(e, a);
  for (var r = -1, o = e.length, l = !1; ++r < o; ) {
    var h = y0(e[r]);
    if (!(l = a != null && n(a, h)))
      break;
    a = a[h];
  }
  return l || ++r != o ? l : (o = a == null ? 0 : a.length, !!o && O2(o) && j2(h, o) && (Gi(a) || Gg(a)));
}
function nK(a, e) {
  return a != null && tK(a, e, eK);
}
var rK = 1, iK = 2;
function oK(a, e) {
  return X2(a) && cA(e) ? hA(y0(a), e) : function(n) {
    var r = QY(n, a);
    return r === void 0 && r === e ? nK(n, a) : k2(e, r, rK | iK);
  };
}
function aK(a) {
  return function(e) {
    return e == null ? void 0 : e[a];
  };
}
function sK(a) {
  return function(e) {
    return mA(e, a);
  };
}
function lK(a) {
  return X2(a) ? aK(y0(a)) : sK(a);
}
function cK(a) {
  return typeof a == "function" ? a : a == null ? f0 : typeof a == "object" ? Gi(a) ? oK(a[0], a[1]) : zY(a) : lK(a);
}
function hK(a, e) {
  var n = -1, r = td(a) ? Array(a.length) : [];
  return rA(a, function(o, l, h) {
    r[++n] = e(o, l, h);
  }), r;
}
function Qc(a, e) {
  var n = Gi(a) ? sA : hK;
  return n(a, cK(e));
}
var uK = function(e) {
  var n = e.colors, r = e.onClick, o = e.onSwatchHover, l = Qt({
    default: {
      swatches: {
        marginRight: "-10px"
      },
      swatch: {
        width: "22px",
        height: "22px",
        float: "left",
        marginRight: "10px",
        marginBottom: "10px",
        borderRadius: "4px"
      },
      clear: {
        clear: "both"
      }
    }
  });
  return re.createElement(
    "div",
    { style: l.swatches },
    Qc(n, function(h) {
      return re.createElement(Jc, {
        key: h,
        color: h,
        style: l.swatch,
        onClick: r,
        onHover: o,
        focusStyle: {
          boxShadow: "0 0 4px " + h
        }
      });
    }),
    re.createElement("div", { style: l.clear })
  );
}, U2 = function(e) {
  var n = e.onChange, r = e.onSwatchHover, o = e.hex, l = e.colors, h = e.width, d = e.triangle, p = e.styles, g = p === void 0 ? {} : p, v = e.className, y = v === void 0 ? "" : v, x = o === "transparent", w = function(S, L) {
    yl(S) && n({
      hex: S,
      source: "hex"
    }, L);
  }, T = Qt(Si({
    default: {
      card: {
        width: h,
        background: "#fff",
        boxShadow: "0 1px rgba(0,0,0,.1)",
        borderRadius: "6px",
        position: "relative"
      },
      head: {
        height: "110px",
        background: o,
        borderRadius: "6px 6px 0 0",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        position: "relative"
      },
      body: {
        padding: "10px"
      },
      label: {
        fontSize: "18px",
        color: F2(o),
        position: "relative"
      },
      triangle: {
        width: "0px",
        height: "0px",
        borderStyle: "solid",
        borderWidth: "0 10px 10px 10px",
        borderColor: "transparent transparent " + o + " transparent",
        position: "absolute",
        top: "-10px",
        left: "50%",
        marginLeft: "-10px"
      },
      input: {
        width: "100%",
        fontSize: "12px",
        color: "#666",
        border: "0px",
        outline: "none",
        height: "22px",
        boxShadow: "inset 0 0 0 1px #ddd",
        borderRadius: "4px",
        padding: "0 7px",
        boxSizing: "border-box"
      }
    },
    "hide-triangle": {
      triangle: {
        display: "none"
      }
    }
  }, g), { "hide-triangle": d === "hide" });
  return re.createElement(
    "div",
    { style: T.card, className: "block-picker " + y },
    re.createElement("div", { style: T.triangle }),
    re.createElement(
      "div",
      { style: T.head },
      x && re.createElement(Qu, { borderRadius: "6px 6px 0 0" }),
      re.createElement(
        "div",
        { style: T.label },
        o
      )
    ),
    re.createElement(
      "div",
      { style: T.body },
      re.createElement(uK, { colors: l, onClick: w, onSwatchHover: r }),
      re.createElement(Sn, {
        style: { input: T.input },
        value: o,
        onChange: w
      })
    )
  );
};
U2.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  colors: mt.arrayOf(mt.string),
  triangle: mt.oneOf(["top", "hide"]),
  styles: mt.object
};
U2.defaultProps = {
  width: 170,
  colors: ["#D9E3F0", "#F47373", "#697689", "#37D67A", "#2CCCE4", "#555555", "#dce775", "#ff8a65", "#ba68c8"],
  triangle: "top",
  styles: {}
};
Ii(U2);
var pu = { 50: "#ffebee", 100: "#ffcdd2", 200: "#ef9a9a", 300: "#e57373", 400: "#ef5350", 500: "#f44336", 600: "#e53935", 700: "#d32f2f", 800: "#c62828", 900: "#b71c1c", a100: "#ff8a80", a200: "#ff5252", a400: "#ff1744", a700: "#d50000" }, fu = { 50: "#fce4ec", 100: "#f8bbd0", 200: "#f48fb1", 300: "#f06292", 400: "#ec407a", 500: "#e91e63", 600: "#d81b60", 700: "#c2185b", 800: "#ad1457", 900: "#880e4f", a100: "#ff80ab", a200: "#ff4081", a400: "#f50057", a700: "#c51162" }, gu = { 50: "#f3e5f5", 100: "#e1bee7", 200: "#ce93d8", 300: "#ba68c8", 400: "#ab47bc", 500: "#9c27b0", 600: "#8e24aa", 700: "#7b1fa2", 800: "#6a1b9a", 900: "#4a148c", a100: "#ea80fc", a200: "#e040fb", a400: "#d500f9", a700: "#aa00ff" }, bu = { 50: "#ede7f6", 100: "#d1c4e9", 200: "#b39ddb", 300: "#9575cd", 400: "#7e57c2", 500: "#673ab7", 600: "#5e35b1", 700: "#512da8", 800: "#4527a0", 900: "#311b92", a100: "#b388ff", a200: "#7c4dff", a400: "#651fff", a700: "#6200ea" }, vu = { 50: "#e8eaf6", 100: "#c5cae9", 200: "#9fa8da", 300: "#7986cb", 400: "#5c6bc0", 500: "#3f51b5", 600: "#3949ab", 700: "#303f9f", 800: "#283593", 900: "#1a237e", a100: "#8c9eff", a200: "#536dfe", a400: "#3d5afe", a700: "#304ffe" }, yu = { 50: "#e3f2fd", 100: "#bbdefb", 200: "#90caf9", 300: "#64b5f6", 400: "#42a5f5", 500: "#2196f3", 600: "#1e88e5", 700: "#1976d2", 800: "#1565c0", 900: "#0d47a1", a100: "#82b1ff", a200: "#448aff", a400: "#2979ff", a700: "#2962ff" }, xu = { 50: "#e1f5fe", 100: "#b3e5fc", 200: "#81d4fa", 300: "#4fc3f7", 400: "#29b6f6", 500: "#03a9f4", 600: "#039be5", 700: "#0288d1", 800: "#0277bd", 900: "#01579b", a100: "#80d8ff", a200: "#40c4ff", a400: "#00b0ff", a700: "#0091ea" }, Cu = { 50: "#e0f7fa", 100: "#b2ebf2", 200: "#80deea", 300: "#4dd0e1", 400: "#26c6da", 500: "#00bcd4", 600: "#00acc1", 700: "#0097a7", 800: "#00838f", 900: "#006064", a100: "#84ffff", a200: "#18ffff", a400: "#00e5ff", a700: "#00b8d4" }, _u = { 50: "#e0f2f1", 100: "#b2dfdb", 200: "#80cbc4", 300: "#4db6ac", 400: "#26a69a", 500: "#009688", 600: "#00897b", 700: "#00796b", 800: "#00695c", 900: "#004d40", a100: "#a7ffeb", a200: "#64ffda", a400: "#1de9b6", a700: "#00bfa5" }, rp = { 50: "#e8f5e9", 100: "#c8e6c9", 200: "#a5d6a7", 300: "#81c784", 400: "#66bb6a", 500: "#4caf50", 600: "#43a047", 700: "#388e3c", 800: "#2e7d32", 900: "#1b5e20", a100: "#b9f6ca", a200: "#69f0ae", a400: "#00e676", a700: "#00c853" }, wu = { 50: "#f1f8e9", 100: "#dcedc8", 200: "#c5e1a5", 300: "#aed581", 400: "#9ccc65", 500: "#8bc34a", 600: "#7cb342", 700: "#689f38", 800: "#558b2f", 900: "#33691e", a100: "#ccff90", a200: "#b2ff59", a400: "#76ff03", a700: "#64dd17" }, Tu = { 50: "#f9fbe7", 100: "#f0f4c3", 200: "#e6ee9c", 300: "#dce775", 400: "#d4e157", 500: "#cddc39", 600: "#c0ca33", 700: "#afb42b", 800: "#9e9d24", 900: "#827717", a100: "#f4ff81", a200: "#eeff41", a400: "#c6ff00", a700: "#aeea00" }, Nu = { 50: "#fffde7", 100: "#fff9c4", 200: "#fff59d", 300: "#fff176", 400: "#ffee58", 500: "#ffeb3b", 600: "#fdd835", 700: "#fbc02d", 800: "#f9a825", 900: "#f57f17", a100: "#ffff8d", a200: "#ffff00", a400: "#ffea00", a700: "#ffd600" }, Mu = { 50: "#fff8e1", 100: "#ffecb3", 200: "#ffe082", 300: "#ffd54f", 400: "#ffca28", 500: "#ffc107", 600: "#ffb300", 700: "#ffa000", 800: "#ff8f00", 900: "#ff6f00", a100: "#ffe57f", a200: "#ffd740", a400: "#ffc400", a700: "#ffab00" }, Su = { 50: "#fff3e0", 100: "#ffe0b2", 200: "#ffcc80", 300: "#ffb74d", 400: "#ffa726", 500: "#ff9800", 600: "#fb8c00", 700: "#f57c00", 800: "#ef6c00", 900: "#e65100", a100: "#ffd180", a200: "#ffab40", a400: "#ff9100", a700: "#ff6d00" }, Iu = { 50: "#fbe9e7", 100: "#ffccbc", 200: "#ffab91", 300: "#ff8a65", 400: "#ff7043", 500: "#ff5722", 600: "#f4511e", 700: "#e64a19", 800: "#d84315", 900: "#bf360c", a100: "#ff9e80", a200: "#ff6e40", a400: "#ff3d00", a700: "#dd2c00" }, Au = { 50: "#efebe9", 100: "#d7ccc8", 200: "#bcaaa4", 300: "#a1887f", 400: "#8d6e63", 500: "#795548", 600: "#6d4c41", 700: "#5d4037", 800: "#4e342e", 900: "#3e2723" }, Eu = { 50: "#eceff1", 100: "#cfd8dc", 200: "#b0bec5", 300: "#90a4ae", 400: "#78909c", 500: "#607d8b", 600: "#546e7a", 700: "#455a64", 800: "#37474f", 900: "#263238" }, pA = function(e) {
  var n = e.color, r = e.onClick, o = e.onSwatchHover, l = e.hover, h = e.active, d = e.circleSize, p = e.circleSpacing, g = Qt({
    default: {
      swatch: {
        width: d,
        height: d,
        marginRight: p,
        marginBottom: p,
        transform: "scale(1)",
        transition: "100ms transform ease"
      },
      Swatch: {
        borderRadius: "50%",
        background: "transparent",
        boxShadow: "inset 0 0 0 " + (d / 2 + 1) + "px " + n,
        transition: "100ms box-shadow ease"
      }
    },
    hover: {
      swatch: {
        transform: "scale(1.2)"
      }
    },
    active: {
      Swatch: {
        boxShadow: "inset 0 0 0 3px " + n
      }
    }
  }, { hover: l, active: h });
  return re.createElement(
    "div",
    { style: g.swatch },
    re.createElement(Jc, {
      style: g.Swatch,
      color: n,
      onClick: r,
      onHover: o,
      focusStyle: { boxShadow: g.Swatch.boxShadow + ", 0 0 5px " + n }
    })
  );
};
pA.defaultProps = {
  circleSize: 28,
  circleSpacing: 14
};
const dK = I2(pA);
var G2 = function(e) {
  var n = e.width, r = e.onChange, o = e.onSwatchHover, l = e.colors, h = e.hex, d = e.circleSize, p = e.styles, g = p === void 0 ? {} : p, v = e.circleSpacing, y = e.className, x = y === void 0 ? "" : y, w = Qt(Si({
    default: {
      card: {
        width: n,
        display: "flex",
        flexWrap: "wrap",
        marginRight: -v,
        marginBottom: -v
      }
    }
  }, g)), T = function(S, L) {
    return r({ hex: S, source: "hex" }, L);
  };
  return re.createElement(
    "div",
    { style: w.card, className: "circle-picker " + x },
    Qc(l, function(M) {
      return re.createElement(dK, {
        key: M,
        color: M,
        onClick: T,
        onSwatchHover: o,
        active: h === M.toLowerCase(),
        circleSize: d,
        circleSpacing: v
      });
    })
  );
};
G2.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  circleSize: mt.number,
  circleSpacing: mt.number,
  styles: mt.object
};
G2.defaultProps = {
  width: 252,
  circleSize: 28,
  circleSpacing: 14,
  colors: [pu[500], fu[500], gu[500], bu[500], vu[500], yu[500], xu[500], Cu[500], _u[500], rp[500], wu[500], Tu[500], Nu[500], Mu[500], Su[500], Iu[500], Au[500], Eu[500]],
  styles: {}
};
Ii(G2);
function VN(a) {
  return a === void 0;
}
var fA = {};
Object.defineProperty(fA, "__esModule", {
  value: !0
});
var HN = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, mK = zu(), $N = pK(mK);
function pK(a) {
  return a && a.__esModule ? a : { default: a };
}
function fK(a, e) {
  var n = {};
  for (var r in a)
    e.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(a, r) && (n[r] = a[r]);
  return n;
}
var B1 = 24, gK = fA.default = function(a) {
  var e = a.fill, n = e === void 0 ? "currentColor" : e, r = a.width, o = r === void 0 ? B1 : r, l = a.height, h = l === void 0 ? B1 : l, d = a.style, p = d === void 0 ? {} : d, g = fK(a, ["fill", "width", "height", "style"]);
  return $N.default.createElement(
    "svg",
    HN({
      viewBox: "0 0 " + B1 + " " + B1,
      style: HN({ fill: n, width: o, height: h }, p)
    }, g),
    $N.default.createElement("path", { d: "M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z" })
  );
}, bK = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function vK(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function yK(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function xK(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var gA = function(a) {
  xK(e, a);
  function e(n) {
    vK(this, e);
    var r = yK(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
    return r.toggleViews = function() {
      r.state.view === "hex" ? r.setState({ view: "rgb" }) : r.state.view === "rgb" ? r.setState({ view: "hsl" }) : r.state.view === "hsl" && (r.props.hsl.a === 1 ? r.setState({ view: "hex" }) : r.setState({ view: "rgb" }));
    }, r.handleChange = function(o, l) {
      o.hex ? yl(o.hex) && r.props.onChange({
        hex: o.hex,
        source: "hex"
      }, l) : o.r || o.g || o.b ? r.props.onChange({
        r: o.r || r.props.rgb.r,
        g: o.g || r.props.rgb.g,
        b: o.b || r.props.rgb.b,
        source: "rgb"
      }, l) : o.a ? (o.a < 0 ? o.a = 0 : o.a > 1 && (o.a = 1), r.props.onChange({
        h: r.props.hsl.h,
        s: r.props.hsl.s,
        l: r.props.hsl.l,
        a: Math.round(o.a * 100) / 100,
        source: "rgb"
      }, l)) : (o.h || o.s || o.l) && (typeof o.s == "string" && o.s.includes("%") && (o.s = o.s.replace("%", "")), typeof o.l == "string" && o.l.includes("%") && (o.l = o.l.replace("%", "")), o.s == 1 ? o.s = 0.01 : o.l == 1 && (o.l = 0.01), r.props.onChange({
        h: o.h || r.props.hsl.h,
        s: Number(VN(o.s) ? r.props.hsl.s : o.s),
        l: Number(VN(o.l) ? r.props.hsl.l : o.l),
        source: "hsl"
      }, l));
    }, r.showHighlight = function(o) {
      o.currentTarget.style.background = "#eee";
    }, r.hideHighlight = function(o) {
      o.currentTarget.style.background = "transparent";
    }, n.hsl.a !== 1 && n.view === "hex" ? r.state = {
      view: "rgb"
    } : r.state = {
      view: n.view
    }, r;
  }
  return bK(e, [{
    key: "render",
    value: function() {
      var r = this, o = Qt({
        default: {
          wrap: {
            paddingTop: "16px",
            display: "flex"
          },
          fields: {
            flex: "1",
            display: "flex",
            marginLeft: "-6px"
          },
          field: {
            paddingLeft: "6px",
            width: "100%"
          },
          alpha: {
            paddingLeft: "6px",
            width: "100%"
          },
          toggle: {
            width: "32px",
            textAlign: "right",
            position: "relative"
          },
          icon: {
            marginRight: "-4px",
            marginTop: "12px",
            cursor: "pointer",
            position: "relative"
          },
          iconHighlight: {
            position: "absolute",
            width: "24px",
            height: "28px",
            background: "#eee",
            borderRadius: "4px",
            top: "10px",
            left: "12px",
            display: "none"
          },
          input: {
            fontSize: "11px",
            color: "#333",
            width: "100%",
            borderRadius: "2px",
            border: "none",
            boxShadow: "inset 0 0 0 1px #dadada",
            height: "21px",
            textAlign: "center"
          },
          label: {
            textTransform: "uppercase",
            fontSize: "11px",
            lineHeight: "11px",
            color: "#969696",
            textAlign: "center",
            display: "block",
            marginTop: "12px"
          },
          svg: {
            fill: "#333",
            width: "24px",
            height: "24px",
            border: "1px transparent solid",
            borderRadius: "5px"
          }
        },
        disableAlpha: {
          alpha: {
            display: "none"
          }
        }
      }, this.props, this.state), l = void 0;
      return this.state.view === "hex" ? l = re.createElement(
        "div",
        { style: o.fields, className: "flexbox-fix" },
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "hex",
            value: this.props.hex,
            onChange: this.handleChange
          })
        )
      ) : this.state.view === "rgb" ? l = re.createElement(
        "div",
        { style: o.fields, className: "flexbox-fix" },
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "r",
            value: this.props.rgb.r,
            onChange: this.handleChange
          })
        ),
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "g",
            value: this.props.rgb.g,
            onChange: this.handleChange
          })
        ),
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "b",
            value: this.props.rgb.b,
            onChange: this.handleChange
          })
        ),
        re.createElement(
          "div",
          { style: o.alpha },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "a",
            value: this.props.rgb.a,
            arrowOffset: 0.01,
            onChange: this.handleChange
          })
        )
      ) : this.state.view === "hsl" && (l = re.createElement(
        "div",
        { style: o.fields, className: "flexbox-fix" },
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "h",
            value: Math.round(this.props.hsl.h),
            onChange: this.handleChange
          })
        ),
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "s",
            value: Math.round(this.props.hsl.s * 100) + "%",
            onChange: this.handleChange
          })
        ),
        re.createElement(
          "div",
          { style: o.field },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "l",
            value: Math.round(this.props.hsl.l * 100) + "%",
            onChange: this.handleChange
          })
        ),
        re.createElement(
          "div",
          { style: o.alpha },
          re.createElement(Sn, {
            style: { input: o.input, label: o.label },
            label: "a",
            value: this.props.hsl.a,
            arrowOffset: 0.01,
            onChange: this.handleChange
          })
        )
      )), re.createElement(
        "div",
        { style: o.wrap, className: "flexbox-fix" },
        l,
        re.createElement(
          "div",
          { style: o.toggle },
          re.createElement(
            "div",
            { style: o.icon, onClick: this.toggleViews, ref: function(d) {
              return r.icon = d;
            } },
            re.createElement(gK, {
              style: o.svg,
              onMouseOver: this.showHighlight,
              onMouseEnter: this.showHighlight,
              onMouseOut: this.hideHighlight
            })
          )
        )
      );
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function(r, o) {
      return r.hsl.a !== 1 && o.view === "hex" ? { view: "rgb" } : null;
    }
  }]), e;
}(re.Component);
gA.defaultProps = {
  view: "hex"
};
var qN = function() {
  var e = Qt({
    default: {
      picker: {
        width: "12px",
        height: "12px",
        borderRadius: "6px",
        transform: "translate(-6px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    }
  });
  return re.createElement("div", { style: e.picker });
}, CK = function() {
  var e = Qt({
    default: {
      picker: {
        width: "12px",
        height: "12px",
        borderRadius: "6px",
        boxShadow: "inset 0 0 0 1px #fff",
        transform: "translate(-6px, -6px)"
      }
    }
  });
  return re.createElement("div", { style: e.picker });
}, W2 = function(e) {
  var n = e.width, r = e.onChange, o = e.disableAlpha, l = e.rgb, h = e.hsl, d = e.hsv, p = e.hex, g = e.renderers, v = e.styles, y = v === void 0 ? {} : v, x = e.className, w = x === void 0 ? "" : x, T = e.defaultView, M = Qt(Si({
    default: {
      picker: {
        width: n,
        background: "#fff",
        borderRadius: "2px",
        boxShadow: "0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",
        boxSizing: "initial",
        fontFamily: "Menlo"
      },
      saturation: {
        width: "100%",
        paddingBottom: "55%",
        position: "relative",
        borderRadius: "2px 2px 0 0",
        overflow: "hidden"
      },
      Saturation: {
        radius: "2px 2px 0 0"
      },
      body: {
        padding: "16px 16px 12px"
      },
      controls: {
        display: "flex"
      },
      color: {
        width: "32px"
      },
      swatch: {
        marginTop: "6px",
        width: "16px",
        height: "16px",
        borderRadius: "8px",
        position: "relative",
        overflow: "hidden"
      },
      active: {
        absolute: "0px 0px 0px 0px",
        borderRadius: "8px",
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.1)",
        background: "rgba(" + l.r + ", " + l.g + ", " + l.b + ", " + l.a + ")",
        zIndex: "2"
      },
      toggles: {
        flex: "1"
      },
      hue: {
        height: "10px",
        position: "relative",
        marginBottom: "8px"
      },
      Hue: {
        radius: "2px"
      },
      alpha: {
        height: "10px",
        position: "relative"
      },
      Alpha: {
        radius: "2px"
      }
    },
    disableAlpha: {
      color: {
        width: "22px"
      },
      alpha: {
        display: "none"
      },
      hue: {
        marginBottom: "0px"
      },
      swatch: {
        width: "10px",
        height: "10px",
        marginTop: "0px"
      }
    }
  }, y), { disableAlpha: o });
  return re.createElement(
    "div",
    { style: M.picker, className: "chrome-picker " + w },
    re.createElement(
      "div",
      { style: M.saturation },
      re.createElement(b0, {
        style: M.Saturation,
        hsl: h,
        hsv: d,
        pointer: CK,
        onChange: r
      })
    ),
    re.createElement(
      "div",
      { style: M.body },
      re.createElement(
        "div",
        { style: M.controls, className: "flexbox-fix" },
        re.createElement(
          "div",
          { style: M.color },
          re.createElement(
            "div",
            { style: M.swatch },
            re.createElement("div", { style: M.active }),
            re.createElement(Qu, { renderers: g })
          )
        ),
        re.createElement(
          "div",
          { style: M.toggles },
          re.createElement(
            "div",
            { style: M.hue },
            re.createElement(ed, {
              style: M.Hue,
              hsl: h,
              pointer: qN,
              onChange: r
            })
          ),
          re.createElement(
            "div",
            { style: M.alpha },
            re.createElement(A2, {
              style: M.Alpha,
              rgb: l,
              hsl: h,
              pointer: qN,
              renderers: g,
              onChange: r
            })
          )
        )
      ),
      re.createElement(gA, {
        rgb: l,
        hsl: h,
        hex: p,
        view: T,
        onChange: r,
        disableAlpha: o
      })
    )
  );
};
W2.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  disableAlpha: mt.bool,
  styles: mt.object,
  defaultView: mt.oneOf(["hex", "rgb", "hsl"])
};
W2.defaultProps = {
  width: 225,
  disableAlpha: !1,
  styles: {}
};
Ii(W2);
var _K = function(e) {
  var n = e.color, r = e.onClick, o = r === void 0 ? function() {
  } : r, l = e.onSwatchHover, h = e.active, d = Qt({
    default: {
      color: {
        background: n,
        width: "15px",
        height: "15px",
        float: "left",
        marginRight: "5px",
        marginBottom: "5px",
        position: "relative",
        cursor: "pointer"
      },
      dot: {
        absolute: "5px 5px 5px 5px",
        background: F2(n),
        borderRadius: "50%",
        opacity: "0"
      }
    },
    active: {
      dot: {
        opacity: "1"
      }
    },
    "color-#FFFFFF": {
      color: {
        boxShadow: "inset 0 0 0 1px #ddd"
      },
      dot: {
        background: "#000"
      }
    },
    transparent: {
      dot: {
        background: "#000"
      }
    }
  }, { active: h, "color-#FFFFFF": n === "#FFFFFF", transparent: n === "transparent" });
  return re.createElement(
    Jc,
    {
      style: d.color,
      color: n,
      onClick: o,
      onHover: l,
      focusStyle: { boxShadow: "0 0 4px " + n }
    },
    re.createElement("div", { style: d.dot })
  );
}, wK = function(e) {
  var n = e.hex, r = e.rgb, o = e.onChange, l = Qt({
    default: {
      fields: {
        display: "flex",
        paddingBottom: "6px",
        paddingRight: "5px",
        position: "relative"
      },
      active: {
        position: "absolute",
        top: "6px",
        left: "5px",
        height: "9px",
        width: "9px",
        background: n
      },
      HEXwrap: {
        flex: "6",
        position: "relative"
      },
      HEXinput: {
        width: "80%",
        padding: "0px",
        paddingLeft: "20%",
        border: "none",
        outline: "none",
        background: "none",
        fontSize: "12px",
        color: "#333",
        height: "16px"
      },
      HEXlabel: {
        display: "none"
      },
      RGBwrap: {
        flex: "3",
        position: "relative"
      },
      RGBinput: {
        width: "70%",
        padding: "0px",
        paddingLeft: "30%",
        border: "none",
        outline: "none",
        background: "none",
        fontSize: "12px",
        color: "#333",
        height: "16px"
      },
      RGBlabel: {
        position: "absolute",
        top: "3px",
        left: "0px",
        lineHeight: "16px",
        textTransform: "uppercase",
        fontSize: "12px",
        color: "#999"
      }
    }
  }), h = function(p, g) {
    p.r || p.g || p.b ? o({
      r: p.r || r.r,
      g: p.g || r.g,
      b: p.b || r.b,
      source: "rgb"
    }, g) : o({
      hex: p.hex,
      source: "hex"
    }, g);
  };
  return re.createElement(
    "div",
    { style: l.fields, className: "flexbox-fix" },
    re.createElement("div", { style: l.active }),
    re.createElement(Sn, {
      style: { wrap: l.HEXwrap, input: l.HEXinput, label: l.HEXlabel },
      label: "hex",
      value: n,
      onChange: h
    }),
    re.createElement(Sn, {
      style: { wrap: l.RGBwrap, input: l.RGBinput, label: l.RGBlabel },
      label: "r",
      value: r.r,
      onChange: h
    }),
    re.createElement(Sn, {
      style: { wrap: l.RGBwrap, input: l.RGBinput, label: l.RGBlabel },
      label: "g",
      value: r.g,
      onChange: h
    }),
    re.createElement(Sn, {
      style: { wrap: l.RGBwrap, input: l.RGBinput, label: l.RGBlabel },
      label: "b",
      value: r.b,
      onChange: h
    })
  );
}, V2 = function(e) {
  var n = e.onChange, r = e.onSwatchHover, o = e.colors, l = e.hex, h = e.rgb, d = e.styles, p = d === void 0 ? {} : d, g = e.className, v = g === void 0 ? "" : g, y = Qt(Si({
    default: {
      Compact: {
        background: "#f6f6f6",
        radius: "4px"
      },
      compact: {
        paddingTop: "5px",
        paddingLeft: "5px",
        boxSizing: "initial",
        width: "240px"
      },
      clear: {
        clear: "both"
      }
    }
  }, p)), x = function(T, M) {
    T.hex ? yl(T.hex) && n({
      hex: T.hex,
      source: "hex"
    }, M) : n(T, M);
  };
  return re.createElement(
    Ip,
    { style: y.Compact, styles: p },
    re.createElement(
      "div",
      { style: y.compact, className: "compact-picker " + v },
      re.createElement(
        "div",
        null,
        Qc(o, function(w) {
          return re.createElement(_K, {
            key: w,
            color: w,
            active: w.toLowerCase() === l,
            onClick: x,
            onSwatchHover: r
          });
        }),
        re.createElement("div", { style: y.clear })
      ),
      re.createElement(wK, { hex: l, rgb: h, onChange: x })
    )
  );
};
V2.propTypes = {
  colors: mt.arrayOf(mt.string),
  styles: mt.object
};
V2.defaultProps = {
  colors: ["#4D4D4D", "#999999", "#FFFFFF", "#F44E3B", "#FE9200", "#FCDC00", "#DBDF00", "#A4DD00", "#68CCCA", "#73D8FF", "#AEA1FF", "#FDA1FF", "#333333", "#808080", "#cccccc", "#D33115", "#E27300", "#FCC400", "#B0BC00", "#68BC00", "#16A5A5", "#009CE0", "#7B64FF", "#FA28FF", "#000000", "#666666", "#B3B3B3", "#9F0500", "#C45100", "#FB9E00", "#808900", "#194D33", "#0C797D", "#0062B1", "#653294", "#AB149E"],
  styles: {}
};
Ii(V2);
var TK = function(e) {
  var n = e.hover, r = e.color, o = e.onClick, l = e.onSwatchHover, h = {
    position: "relative",
    zIndex: "2",
    outline: "2px solid #fff",
    boxShadow: "0 0 5px 2px rgba(0,0,0,0.25)"
  }, d = Qt({
    default: {
      swatch: {
        width: "25px",
        height: "25px",
        fontSize: "0"
      }
    },
    hover: {
      swatch: h
    }
  }, { hover: n });
  return re.createElement(
    "div",
    { style: d.swatch },
    re.createElement(Jc, {
      color: r,
      onClick: o,
      onHover: l,
      focusStyle: h
    })
  );
};
const NK = I2(TK);
var H2 = function(e) {
  var n = e.width, r = e.colors, o = e.onChange, l = e.onSwatchHover, h = e.triangle, d = e.styles, p = d === void 0 ? {} : d, g = e.className, v = g === void 0 ? "" : g, y = Qt(Si({
    default: {
      card: {
        width: n,
        background: "#fff",
        border: "1px solid rgba(0,0,0,0.2)",
        boxShadow: "0 3px 12px rgba(0,0,0,0.15)",
        borderRadius: "4px",
        position: "relative",
        padding: "5px",
        display: "flex",
        flexWrap: "wrap"
      },
      triangle: {
        position: "absolute",
        border: "7px solid transparent",
        borderBottomColor: "#fff"
      },
      triangleShadow: {
        position: "absolute",
        border: "8px solid transparent",
        borderBottomColor: "rgba(0,0,0,0.15)"
      }
    },
    "hide-triangle": {
      triangle: {
        display: "none"
      },
      triangleShadow: {
        display: "none"
      }
    },
    "top-left-triangle": {
      triangle: {
        top: "-14px",
        left: "10px"
      },
      triangleShadow: {
        top: "-16px",
        left: "9px"
      }
    },
    "top-right-triangle": {
      triangle: {
        top: "-14px",
        right: "10px"
      },
      triangleShadow: {
        top: "-16px",
        right: "9px"
      }
    },
    "bottom-left-triangle": {
      triangle: {
        top: "35px",
        left: "10px",
        transform: "rotate(180deg)"
      },
      triangleShadow: {
        top: "37px",
        left: "9px",
        transform: "rotate(180deg)"
      }
    },
    "bottom-right-triangle": {
      triangle: {
        top: "35px",
        right: "10px",
        transform: "rotate(180deg)"
      },
      triangleShadow: {
        top: "37px",
        right: "9px",
        transform: "rotate(180deg)"
      }
    }
  }, p), {
    "hide-triangle": h === "hide",
    "top-left-triangle": h === "top-left",
    "top-right-triangle": h === "top-right",
    "bottom-left-triangle": h === "bottom-left",
    "bottom-right-triangle": h === "bottom-right"
  }), x = function(T, M) {
    return o({ hex: T, source: "hex" }, M);
  };
  return re.createElement(
    "div",
    { style: y.card, className: "github-picker " + v },
    re.createElement("div", { style: y.triangleShadow }),
    re.createElement("div", { style: y.triangle }),
    Qc(r, function(w) {
      return re.createElement(NK, {
        color: w,
        key: w,
        onClick: x,
        onSwatchHover: l
      });
    })
  );
};
H2.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  colors: mt.arrayOf(mt.string),
  triangle: mt.oneOf(["hide", "top-left", "top-right", "bottom-left", "bottom-right"]),
  styles: mt.object
};
H2.defaultProps = {
  width: 200,
  colors: ["#B80000", "#DB3E00", "#FCCB00", "#008B02", "#006B76", "#1273DE", "#004DCF", "#5300EB", "#EB9694", "#FAD0C3", "#FEF3BD", "#C1E1C5", "#BEDADC", "#C4DEF6", "#BED3F3", "#D4C4FB"],
  triangle: "top-left",
  styles: {}
};
Ii(H2);
var MK = function(e) {
  var n = e.direction, r = Qt({
    default: {
      picker: {
        width: "18px",
        height: "18px",
        borderRadius: "50%",
        transform: "translate(-9px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    },
    vertical: {
      picker: {
        transform: "translate(-3px, -9px)"
      }
    }
  }, { vertical: n === "vertical" });
  return re.createElement("div", { style: r.picker });
}, SK = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, $2 = function(e) {
  var n = e.width, r = e.height, o = e.onChange, l = e.hsl, h = e.direction, d = e.pointer, p = e.styles, g = p === void 0 ? {} : p, v = e.className, y = v === void 0 ? "" : v, x = Qt(Si({
    default: {
      picker: {
        position: "relative",
        width: n,
        height: r
      },
      hue: {
        radius: "2px"
      }
    }
  }, g)), w = function(M) {
    return o({ a: 1, h: M.h, l: 0.5, s: 1 });
  };
  return re.createElement(
    "div",
    { style: x.picker, className: "hue-picker " + y },
    re.createElement(ed, SK({}, x.hue, {
      hsl: l,
      pointer: d,
      onChange: w,
      direction: h
    }))
  );
};
$2.propTypes = {
  styles: mt.object
};
$2.defaultProps = {
  width: "316px",
  height: "16px",
  direction: "horizontal",
  pointer: MK,
  styles: {}
};
Ii($2);
var IK = function(e) {
  var n = e.onChange, r = e.hex, o = e.rgb, l = e.styles, h = l === void 0 ? {} : l, d = e.className, p = d === void 0 ? "" : d, g = Qt(Si({
    default: {
      material: {
        width: "98px",
        height: "98px",
        padding: "16px",
        fontFamily: "Roboto"
      },
      HEXwrap: {
        position: "relative"
      },
      HEXinput: {
        width: "100%",
        marginTop: "12px",
        fontSize: "15px",
        color: "#333",
        padding: "0px",
        border: "0px",
        borderBottom: "2px solid " + r,
        outline: "none",
        height: "30px"
      },
      HEXlabel: {
        position: "absolute",
        top: "0px",
        left: "0px",
        fontSize: "11px",
        color: "#999999",
        textTransform: "capitalize"
      },
      Hex: {
        style: {}
      },
      RGBwrap: {
        position: "relative"
      },
      RGBinput: {
        width: "100%",
        marginTop: "12px",
        fontSize: "15px",
        color: "#333",
        padding: "0px",
        border: "0px",
        borderBottom: "1px solid #eee",
        outline: "none",
        height: "30px"
      },
      RGBlabel: {
        position: "absolute",
        top: "0px",
        left: "0px",
        fontSize: "11px",
        color: "#999999",
        textTransform: "capitalize"
      },
      split: {
        display: "flex",
        marginRight: "-10px",
        paddingTop: "11px"
      },
      third: {
        flex: "1",
        paddingRight: "10px"
      }
    }
  }, h)), v = function(x, w) {
    x.hex ? yl(x.hex) && n({
      hex: x.hex,
      source: "hex"
    }, w) : (x.r || x.g || x.b) && n({
      r: x.r || o.r,
      g: x.g || o.g,
      b: x.b || o.b,
      source: "rgb"
    }, w);
  };
  return re.createElement(
    Ip,
    { styles: h },
    re.createElement(
      "div",
      { style: g.material, className: "material-picker " + p },
      re.createElement(Sn, {
        style: { wrap: g.HEXwrap, input: g.HEXinput, label: g.HEXlabel },
        label: "hex",
        value: r,
        onChange: v
      }),
      re.createElement(
        "div",
        { style: g.split, className: "flexbox-fix" },
        re.createElement(
          "div",
          { style: g.third },
          re.createElement(Sn, {
            style: { wrap: g.RGBwrap, input: g.RGBinput, label: g.RGBlabel },
            label: "r",
            value: o.r,
            onChange: v
          })
        ),
        re.createElement(
          "div",
          { style: g.third },
          re.createElement(Sn, {
            style: { wrap: g.RGBwrap, input: g.RGBinput, label: g.RGBlabel },
            label: "g",
            value: o.g,
            onChange: v
          })
        ),
        re.createElement(
          "div",
          { style: g.third },
          re.createElement(Sn, {
            style: { wrap: g.RGBwrap, input: g.RGBinput, label: g.RGBlabel },
            label: "b",
            value: o.b,
            onChange: v
          })
        )
      )
    )
  );
};
Ii(IK);
var AK = function(e) {
  var n = e.onChange, r = e.rgb, o = e.hsv, l = e.hex, h = Qt({
    default: {
      fields: {
        paddingTop: "5px",
        paddingBottom: "9px",
        width: "80px",
        position: "relative"
      },
      divider: {
        height: "5px"
      },
      RGBwrap: {
        position: "relative"
      },
      RGBinput: {
        marginLeft: "40%",
        width: "40%",
        height: "18px",
        border: "1px solid #888888",
        boxShadow: "inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",
        marginBottom: "5px",
        fontSize: "13px",
        paddingLeft: "3px",
        marginRight: "10px"
      },
      RGBlabel: {
        left: "0px",
        top: "0px",
        width: "34px",
        textTransform: "uppercase",
        fontSize: "13px",
        height: "18px",
        lineHeight: "22px",
        position: "absolute"
      },
      HEXwrap: {
        position: "relative"
      },
      HEXinput: {
        marginLeft: "20%",
        width: "80%",
        height: "18px",
        border: "1px solid #888888",
        boxShadow: "inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",
        marginBottom: "6px",
        fontSize: "13px",
        paddingLeft: "3px"
      },
      HEXlabel: {
        position: "absolute",
        top: "0px",
        left: "0px",
        width: "14px",
        textTransform: "uppercase",
        fontSize: "13px",
        height: "18px",
        lineHeight: "22px"
      },
      fieldSymbols: {
        position: "absolute",
        top: "5px",
        right: "-7px",
        fontSize: "13px"
      },
      symbol: {
        height: "20px",
        lineHeight: "22px",
        paddingBottom: "7px"
      }
    }
  }), d = function(g, v) {
    g["#"] ? yl(g["#"]) && n({
      hex: g["#"],
      source: "hex"
    }, v) : g.r || g.g || g.b ? n({
      r: g.r || r.r,
      g: g.g || r.g,
      b: g.b || r.b,
      source: "rgb"
    }, v) : (g.h || g.s || g.v) && n({
      h: g.h || o.h,
      s: g.s || o.s,
      v: g.v || o.v,
      source: "hsv"
    }, v);
  };
  return re.createElement(
    "div",
    { style: h.fields },
    re.createElement(Sn, {
      style: { wrap: h.RGBwrap, input: h.RGBinput, label: h.RGBlabel },
      label: "h",
      value: Math.round(o.h),
      onChange: d
    }),
    re.createElement(Sn, {
      style: { wrap: h.RGBwrap, input: h.RGBinput, label: h.RGBlabel },
      label: "s",
      value: Math.round(o.s * 100),
      onChange: d
    }),
    re.createElement(Sn, {
      style: { wrap: h.RGBwrap, input: h.RGBinput, label: h.RGBlabel },
      label: "v",
      value: Math.round(o.v * 100),
      onChange: d
    }),
    re.createElement("div", { style: h.divider }),
    re.createElement(Sn, {
      style: { wrap: h.RGBwrap, input: h.RGBinput, label: h.RGBlabel },
      label: "r",
      value: r.r,
      onChange: d
    }),
    re.createElement(Sn, {
      style: { wrap: h.RGBwrap, input: h.RGBinput, label: h.RGBlabel },
      label: "g",
      value: r.g,
      onChange: d
    }),
    re.createElement(Sn, {
      style: { wrap: h.RGBwrap, input: h.RGBinput, label: h.RGBlabel },
      label: "b",
      value: r.b,
      onChange: d
    }),
    re.createElement("div", { style: h.divider }),
    re.createElement(Sn, {
      style: { wrap: h.HEXwrap, input: h.HEXinput, label: h.HEXlabel },
      label: "#",
      value: l.replace("#", ""),
      onChange: d
    }),
    re.createElement(
      "div",
      { style: h.fieldSymbols },
      re.createElement(
        "div",
        { style: h.symbol },
        "°"
      ),
      re.createElement(
        "div",
        { style: h.symbol },
        "%"
      ),
      re.createElement(
        "div",
        { style: h.symbol },
        "%"
      )
    )
  );
}, EK = function(e) {
  var n = e.hsl, r = Qt({
    default: {
      picker: {
        width: "12px",
        height: "12px",
        borderRadius: "6px",
        boxShadow: "inset 0 0 0 1px #fff",
        transform: "translate(-6px, -6px)"
      }
    },
    "black-outline": {
      picker: {
        boxShadow: "inset 0 0 0 1px #000"
      }
    }
  }, { "black-outline": n.l > 0.5 });
  return re.createElement("div", { style: r.picker });
}, PK = function() {
  var e = Qt({
    default: {
      triangle: {
        width: 0,
        height: 0,
        borderStyle: "solid",
        borderWidth: "4px 0 4px 6px",
        borderColor: "transparent transparent transparent #fff",
        position: "absolute",
        top: "1px",
        left: "1px"
      },
      triangleBorder: {
        width: 0,
        height: 0,
        borderStyle: "solid",
        borderWidth: "5px 0 5px 8px",
        borderColor: "transparent transparent transparent #555"
      },
      left: {
        Extend: "triangleBorder",
        transform: "translate(-13px, -4px)"
      },
      leftInside: {
        Extend: "triangle",
        transform: "translate(-8px, -5px)"
      },
      right: {
        Extend: "triangleBorder",
        transform: "translate(20px, -14px) rotate(180deg)"
      },
      rightInside: {
        Extend: "triangle",
        transform: "translate(-8px, -5px)"
      }
    }
  });
  return re.createElement(
    "div",
    { style: e.pointer },
    re.createElement(
      "div",
      { style: e.left },
      re.createElement("div", { style: e.leftInside })
    ),
    re.createElement(
      "div",
      { style: e.right },
      re.createElement("div", { style: e.rightInside })
    )
  );
}, YN = function(e) {
  var n = e.onClick, r = e.label, o = e.children, l = e.active, h = Qt({
    default: {
      button: {
        backgroundImage: "linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",
        border: "1px solid #878787",
        borderRadius: "2px",
        height: "20px",
        boxShadow: "0 1px 0 0 #EAEAEA",
        fontSize: "14px",
        color: "#000",
        lineHeight: "20px",
        textAlign: "center",
        marginBottom: "10px",
        cursor: "pointer"
      }
    },
    active: {
      button: {
        boxShadow: "0 0 0 1px #878787"
      }
    }
  }, { active: l });
  return re.createElement(
    "div",
    { style: h.button, onClick: n },
    r || o
  );
}, RK = function(e) {
  var n = e.rgb, r = e.currentColor, o = Qt({
    default: {
      swatches: {
        border: "1px solid #B3B3B3",
        borderBottom: "1px solid #F0F0F0",
        marginBottom: "2px",
        marginTop: "1px"
      },
      new: {
        height: "34px",
        background: "rgb(" + n.r + "," + n.g + ", " + n.b + ")",
        boxShadow: "inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"
      },
      current: {
        height: "34px",
        background: r,
        boxShadow: "inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"
      },
      label: {
        fontSize: "14px",
        color: "#000",
        textAlign: "center"
      }
    }
  });
  return re.createElement(
    "div",
    null,
    re.createElement(
      "div",
      { style: o.label },
      "new"
    ),
    re.createElement(
      "div",
      { style: o.swatches },
      re.createElement("div", { style: o.new }),
      re.createElement("div", { style: o.current })
    ),
    re.createElement(
      "div",
      { style: o.label },
      "current"
    )
  );
}, BK = /* @__PURE__ */ function() {
  function a(e, n) {
    for (var r = 0; r < n.length; r++) {
      var o = n[r];
      o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);
    }
  }
  return function(e, n, r) {
    return n && a(e.prototype, n), r && a(e, r), e;
  };
}();
function OK(a, e) {
  if (!(a instanceof e))
    throw new TypeError("Cannot call a class as a function");
}
function LK(a, e) {
  if (!a)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e && (typeof e == "object" || typeof e == "function") ? e : a;
}
function jK(a, e) {
  if (typeof e != "function" && e !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
  a.prototype = Object.create(e && e.prototype, { constructor: { value: a, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(a, e) : a.__proto__ = e);
}
var q2 = function(a) {
  jK(e, a);
  function e(n) {
    OK(this, e);
    var r = LK(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
    return r.state = {
      currentColor: n.hex
    }, r;
  }
  return BK(e, [{
    key: "render",
    value: function() {
      var r = this.props, o = r.styles, l = o === void 0 ? {} : o, h = r.className, d = h === void 0 ? "" : h, p = Qt(Si({
        default: {
          picker: {
            background: "#DCDCDC",
            borderRadius: "4px",
            boxShadow: "0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",
            boxSizing: "initial",
            width: "513px"
          },
          head: {
            backgroundImage: "linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",
            borderBottom: "1px solid #B1B1B1",
            boxShadow: "inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",
            height: "23px",
            lineHeight: "24px",
            borderRadius: "4px 4px 0 0",
            fontSize: "13px",
            color: "#4D4D4D",
            textAlign: "center"
          },
          body: {
            padding: "15px 15px 0",
            display: "flex"
          },
          saturation: {
            width: "256px",
            height: "256px",
            position: "relative",
            border: "2px solid #B3B3B3",
            borderBottom: "2px solid #F0F0F0",
            overflow: "hidden"
          },
          hue: {
            position: "relative",
            height: "256px",
            width: "19px",
            marginLeft: "10px",
            border: "2px solid #B3B3B3",
            borderBottom: "2px solid #F0F0F0"
          },
          controls: {
            width: "180px",
            marginLeft: "10px"
          },
          top: {
            display: "flex"
          },
          previews: {
            width: "60px"
          },
          actions: {
            flex: "1",
            marginLeft: "20px"
          }
        }
      }, l));
      return re.createElement(
        "div",
        { style: p.picker, className: "photoshop-picker " + d },
        re.createElement(
          "div",
          { style: p.head },
          this.props.header
        ),
        re.createElement(
          "div",
          { style: p.body, className: "flexbox-fix" },
          re.createElement(
            "div",
            { style: p.saturation },
            re.createElement(b0, {
              hsl: this.props.hsl,
              hsv: this.props.hsv,
              pointer: EK,
              onChange: this.props.onChange
            })
          ),
          re.createElement(
            "div",
            { style: p.hue },
            re.createElement(ed, {
              direction: "vertical",
              hsl: this.props.hsl,
              pointer: PK,
              onChange: this.props.onChange
            })
          ),
          re.createElement(
            "div",
            { style: p.controls },
            re.createElement(
              "div",
              { style: p.top, className: "flexbox-fix" },
              re.createElement(
                "div",
                { style: p.previews },
                re.createElement(RK, {
                  rgb: this.props.rgb,
                  currentColor: this.state.currentColor
                })
              ),
              re.createElement(
                "div",
                { style: p.actions },
                re.createElement(YN, { label: "OK", onClick: this.props.onAccept, active: !0 }),
                re.createElement(YN, { label: "Cancel", onClick: this.props.onCancel }),
                re.createElement(AK, {
                  onChange: this.props.onChange,
                  rgb: this.props.rgb,
                  hsv: this.props.hsv,
                  hex: this.props.hex
                })
              )
            )
          )
        )
      );
    }
  }]), e;
}(re.Component);
q2.propTypes = {
  header: mt.string,
  styles: mt.object
};
q2.defaultProps = {
  header: "Color Picker",
  styles: {}
};
Ii(q2);
var DK = function(e) {
  var n = e.onChange, r = e.rgb, o = e.hsl, l = e.hex, h = e.disableAlpha, d = Qt({
    default: {
      fields: {
        display: "flex",
        paddingTop: "4px"
      },
      single: {
        flex: "1",
        paddingLeft: "6px"
      },
      alpha: {
        flex: "1",
        paddingLeft: "6px"
      },
      double: {
        flex: "2"
      },
      input: {
        width: "80%",
        padding: "4px 10% 3px",
        border: "none",
        boxShadow: "inset 0 0 0 1px #ccc",
        fontSize: "11px"
      },
      label: {
        display: "block",
        textAlign: "center",
        fontSize: "11px",
        color: "#222",
        paddingTop: "3px",
        paddingBottom: "4px",
        textTransform: "capitalize"
      }
    },
    disableAlpha: {
      alpha: {
        display: "none"
      }
    }
  }, { disableAlpha: h }), p = function(v, y) {
    v.hex ? yl(v.hex) && n({
      hex: v.hex,
      source: "hex"
    }, y) : v.r || v.g || v.b ? n({
      r: v.r || r.r,
      g: v.g || r.g,
      b: v.b || r.b,
      a: r.a,
      source: "rgb"
    }, y) : v.a && (v.a < 0 ? v.a = 0 : v.a > 100 && (v.a = 100), v.a /= 100, n({
      h: o.h,
      s: o.s,
      l: o.l,
      a: v.a,
      source: "rgb"
    }, y));
  };
  return re.createElement(
    "div",
    { style: d.fields, className: "flexbox-fix" },
    re.createElement(
      "div",
      { style: d.double },
      re.createElement(Sn, {
        style: { input: d.input, label: d.label },
        label: "hex",
        value: l.replace("#", ""),
        onChange: p
      })
    ),
    re.createElement(
      "div",
      { style: d.single },
      re.createElement(Sn, {
        style: { input: d.input, label: d.label },
        label: "r",
        value: r.r,
        onChange: p,
        dragLabel: "true",
        dragMax: "255"
      })
    ),
    re.createElement(
      "div",
      { style: d.single },
      re.createElement(Sn, {
        style: { input: d.input, label: d.label },
        label: "g",
        value: r.g,
        onChange: p,
        dragLabel: "true",
        dragMax: "255"
      })
    ),
    re.createElement(
      "div",
      { style: d.single },
      re.createElement(Sn, {
        style: { input: d.input, label: d.label },
        label: "b",
        value: r.b,
        onChange: p,
        dragLabel: "true",
        dragMax: "255"
      })
    ),
    re.createElement(
      "div",
      { style: d.alpha },
      re.createElement(Sn, {
        style: { input: d.input, label: d.label },
        label: "a",
        value: Math.round(r.a * 100),
        onChange: p,
        dragLabel: "true",
        dragMax: "100"
      })
    )
  );
}, FK = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, bA = function(e) {
  var n = e.colors, r = e.onClick, o = r === void 0 ? function() {
  } : r, l = e.onSwatchHover, h = Qt({
    default: {
      colors: {
        margin: "0 -10px",
        padding: "10px 0 0 10px",
        borderTop: "1px solid #eee",
        display: "flex",
        flexWrap: "wrap",
        position: "relative"
      },
      swatchWrap: {
        width: "16px",
        height: "16px",
        margin: "0 10px 10px 0"
      },
      swatch: {
        borderRadius: "3px",
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15)"
      }
    },
    "no-presets": {
      colors: {
        display: "none"
      }
    }
  }, {
    "no-presets": !n || !n.length
  }), d = function(g, v) {
    o({
      hex: g,
      source: "hex"
    }, v);
  };
  return re.createElement(
    "div",
    { style: h.colors, className: "flexbox-fix" },
    n.map(function(p) {
      var g = typeof p == "string" ? { color: p } : p, v = "" + g.color + (g.title || "");
      return re.createElement(
        "div",
        { key: v, style: h.swatchWrap },
        re.createElement(Jc, FK({}, g, {
          style: h.swatch,
          onClick: d,
          onHover: l,
          focusStyle: {
            boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px " + g.color
          }
        }))
      );
    })
  );
};
bA.propTypes = {
  colors: mt.arrayOf(mt.oneOfType([mt.string, mt.shape({
    color: mt.string,
    title: mt.string
  })])).isRequired
};
var kK = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, Y2 = function(e) {
  var n = e.width, r = e.rgb, o = e.hex, l = e.hsv, h = e.hsl, d = e.onChange, p = e.onSwatchHover, g = e.disableAlpha, v = e.presetColors, y = e.renderers, x = e.styles, w = x === void 0 ? {} : x, T = e.className, M = T === void 0 ? "" : T, S = Qt(Si({
    default: kK({
      picker: {
        width: n,
        padding: "10px 10px 0",
        boxSizing: "initial",
        background: "#fff",
        borderRadius: "4px",
        boxShadow: "0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"
      },
      saturation: {
        width: "100%",
        paddingBottom: "75%",
        position: "relative",
        overflow: "hidden"
      },
      Saturation: {
        radius: "3px",
        shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      },
      controls: {
        display: "flex"
      },
      sliders: {
        padding: "4px 0",
        flex: "1"
      },
      color: {
        width: "24px",
        height: "24px",
        position: "relative",
        marginTop: "4px",
        marginLeft: "4px",
        borderRadius: "3px"
      },
      activeColor: {
        absolute: "0px 0px 0px 0px",
        borderRadius: "2px",
        background: "rgba(" + r.r + "," + r.g + "," + r.b + "," + r.a + ")",
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      },
      hue: {
        position: "relative",
        height: "10px",
        overflow: "hidden"
      },
      Hue: {
        radius: "2px",
        shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      },
      alpha: {
        position: "relative",
        height: "10px",
        marginTop: "4px",
        overflow: "hidden"
      },
      Alpha: {
        radius: "2px",
        shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      }
    }, w),
    disableAlpha: {
      color: {
        height: "10px"
      },
      hue: {
        height: "10px"
      },
      alpha: {
        display: "none"
      }
    }
  }, w), { disableAlpha: g });
  return re.createElement(
    "div",
    { style: S.picker, className: "sketch-picker " + M },
    re.createElement(
      "div",
      { style: S.saturation },
      re.createElement(b0, {
        style: S.Saturation,
        hsl: h,
        hsv: l,
        onChange: d
      })
    ),
    re.createElement(
      "div",
      { style: S.controls, className: "flexbox-fix" },
      re.createElement(
        "div",
        { style: S.sliders },
        re.createElement(
          "div",
          { style: S.hue },
          re.createElement(ed, {
            style: S.Hue,
            hsl: h,
            onChange: d
          })
        ),
        re.createElement(
          "div",
          { style: S.alpha },
          re.createElement(A2, {
            style: S.Alpha,
            rgb: r,
            hsl: h,
            renderers: y,
            onChange: d
          })
        )
      ),
      re.createElement(
        "div",
        { style: S.color },
        re.createElement(Qu, null),
        re.createElement("div", { style: S.activeColor })
      )
    ),
    re.createElement(DK, {
      rgb: r,
      hsl: h,
      hex: o,
      onChange: d,
      disableAlpha: g
    }),
    re.createElement(bA, {
      colors: v,
      onClick: d,
      onSwatchHover: p
    })
  );
};
Y2.propTypes = {
  disableAlpha: mt.bool,
  width: mt.oneOfType([mt.string, mt.number]),
  styles: mt.object
};
Y2.defaultProps = {
  disableAlpha: !1,
  width: 200,
  styles: {},
  presetColors: ["#D0021B", "#F5A623", "#F8E71C", "#8B572A", "#7ED321", "#417505", "#BD10E0", "#9013FE", "#4A90E2", "#50E3C2", "#B8E986", "#000000", "#4A4A4A", "#9B9B9B", "#FFFFFF"]
};
const XK = Ii(Y2);
var jm = function(e) {
  var n = e.hsl, r = e.offset, o = e.onClick, l = o === void 0 ? function() {
  } : o, h = e.active, d = e.first, p = e.last, g = Qt({
    default: {
      swatch: {
        height: "12px",
        background: "hsl(" + n.h + ", 50%, " + r * 100 + "%)",
        cursor: "pointer"
      }
    },
    first: {
      swatch: {
        borderRadius: "2px 0 0 2px"
      }
    },
    last: {
      swatch: {
        borderRadius: "0 2px 2px 0"
      }
    },
    active: {
      swatch: {
        transform: "scaleY(1.8)",
        borderRadius: "3.6px/2px"
      }
    }
  }, { active: h, first: d, last: p }), v = function(x) {
    return l({
      h: n.h,
      s: 0.5,
      l: r,
      source: "hsl"
    }, x);
  };
  return re.createElement("div", { style: g.swatch, onClick: v });
}, zK = function(e) {
  var n = e.onClick, r = e.hsl, o = Qt({
    default: {
      swatches: {
        marginTop: "20px"
      },
      swatch: {
        boxSizing: "border-box",
        width: "20%",
        paddingRight: "1px",
        float: "left"
      },
      clear: {
        clear: "both"
      }
    }
  }), l = 0.1;
  return re.createElement(
    "div",
    { style: o.swatches },
    re.createElement(
      "div",
      { style: o.swatch },
      re.createElement(jm, {
        hsl: r,
        offset: ".80",
        active: Math.abs(r.l - 0.8) < l && Math.abs(r.s - 0.5) < l,
        onClick: n,
        first: !0
      })
    ),
    re.createElement(
      "div",
      { style: o.swatch },
      re.createElement(jm, {
        hsl: r,
        offset: ".65",
        active: Math.abs(r.l - 0.65) < l && Math.abs(r.s - 0.5) < l,
        onClick: n
      })
    ),
    re.createElement(
      "div",
      { style: o.swatch },
      re.createElement(jm, {
        hsl: r,
        offset: ".50",
        active: Math.abs(r.l - 0.5) < l && Math.abs(r.s - 0.5) < l,
        onClick: n
      })
    ),
    re.createElement(
      "div",
      { style: o.swatch },
      re.createElement(jm, {
        hsl: r,
        offset: ".35",
        active: Math.abs(r.l - 0.35) < l && Math.abs(r.s - 0.5) < l,
        onClick: n
      })
    ),
    re.createElement(
      "div",
      { style: o.swatch },
      re.createElement(jm, {
        hsl: r,
        offset: ".20",
        active: Math.abs(r.l - 0.2) < l && Math.abs(r.s - 0.5) < l,
        onClick: n,
        last: !0
      })
    ),
    re.createElement("div", { style: o.clear })
  );
}, UK = function() {
  var e = Qt({
    default: {
      picker: {
        width: "14px",
        height: "14px",
        borderRadius: "6px",
        transform: "translate(-7px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    }
  });
  return re.createElement("div", { style: e.picker });
}, K2 = function(e) {
  var n = e.hsl, r = e.onChange, o = e.pointer, l = e.styles, h = l === void 0 ? {} : l, d = e.className, p = d === void 0 ? "" : d, g = Qt(Si({
    default: {
      hue: {
        height: "12px",
        position: "relative"
      },
      Hue: {
        radius: "2px"
      }
    }
  }, h));
  return re.createElement(
    "div",
    { style: g.wrap || {}, className: "slider-picker " + p },
    re.createElement(
      "div",
      { style: g.hue },
      re.createElement(ed, {
        style: g.Hue,
        hsl: n,
        pointer: o,
        onChange: r
      })
    ),
    re.createElement(
      "div",
      { style: g.swatches },
      re.createElement(zK, { hsl: n, onClick: r })
    )
  );
};
K2.propTypes = {
  styles: mt.object
};
K2.defaultProps = {
  pointer: UK,
  styles: {}
};
Ii(K2);
var vA = {};
Object.defineProperty(vA, "__esModule", {
  value: !0
});
var KN = Object.assign || function(a) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e];
    for (var r in n)
      Object.prototype.hasOwnProperty.call(n, r) && (a[r] = n[r]);
  }
  return a;
}, GK = zu(), ZN = WK(GK);
function WK(a) {
  return a && a.__esModule ? a : { default: a };
}
function VK(a, e) {
  var n = {};
  for (var r in a)
    e.indexOf(r) >= 0 || Object.prototype.hasOwnProperty.call(a, r) && (n[r] = a[r]);
  return n;
}
var O1 = 24, HK = vA.default = function(a) {
  var e = a.fill, n = e === void 0 ? "currentColor" : e, r = a.width, o = r === void 0 ? O1 : r, l = a.height, h = l === void 0 ? O1 : l, d = a.style, p = d === void 0 ? {} : d, g = VK(a, ["fill", "width", "height", "style"]);
  return ZN.default.createElement(
    "svg",
    KN({
      viewBox: "0 0 " + O1 + " " + O1,
      style: KN({ fill: n, width: o, height: h }, p)
    }, g),
    ZN.default.createElement("path", { d: "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" })
  );
}, $K = function(e) {
  var n = e.color, r = e.onClick, o = r === void 0 ? function() {
  } : r, l = e.onSwatchHover, h = e.first, d = e.last, p = e.active, g = Qt({
    default: {
      color: {
        width: "40px",
        height: "24px",
        cursor: "pointer",
        background: n,
        marginBottom: "1px"
      },
      check: {
        color: F2(n),
        marginLeft: "8px",
        display: "none"
      }
    },
    first: {
      color: {
        overflow: "hidden",
        borderRadius: "2px 2px 0 0"
      }
    },
    last: {
      color: {
        overflow: "hidden",
        borderRadius: "0 0 2px 2px"
      }
    },
    active: {
      check: {
        display: "block"
      }
    },
    "color-#FFFFFF": {
      color: {
        boxShadow: "inset 0 0 0 1px #ddd"
      },
      check: {
        color: "#333"
      }
    },
    transparent: {
      check: {
        color: "#333"
      }
    }
  }, {
    first: h,
    last: d,
    active: p,
    "color-#FFFFFF": n === "#FFFFFF",
    transparent: n === "transparent"
  });
  return re.createElement(
    Jc,
    {
      color: n,
      style: g.color,
      onClick: o,
      onHover: l,
      focusStyle: { boxShadow: "0 0 4px " + n }
    },
    re.createElement(
      "div",
      { style: g.check },
      re.createElement(HK, null)
    )
  );
}, qK = function(e) {
  var n = e.onClick, r = e.onSwatchHover, o = e.group, l = e.active, h = Qt({
    default: {
      group: {
        paddingBottom: "10px",
        width: "40px",
        float: "left",
        marginRight: "10px"
      }
    }
  });
  return re.createElement(
    "div",
    { style: h.group },
    Qc(o, function(d, p) {
      return re.createElement($K, {
        key: d,
        color: d,
        active: d.toLowerCase() === l,
        first: p === 0,
        last: p === o.length - 1,
        onClick: n,
        onSwatchHover: r
      });
    })
  );
}, Z2 = function(e) {
  var n = e.width, r = e.height, o = e.onChange, l = e.onSwatchHover, h = e.colors, d = e.hex, p = e.styles, g = p === void 0 ? {} : p, v = e.className, y = v === void 0 ? "" : v, x = Qt(Si({
    default: {
      picker: {
        width: n,
        height: r
      },
      overflow: {
        height: r,
        overflowY: "scroll"
      },
      body: {
        padding: "16px 0 6px 16px"
      },
      clear: {
        clear: "both"
      }
    }
  }, g)), w = function(M, S) {
    return o({ hex: M, source: "hex" }, S);
  };
  return re.createElement(
    "div",
    { style: x.picker, className: "swatches-picker " + y },
    re.createElement(
      Ip,
      null,
      re.createElement(
        "div",
        { style: x.overflow },
        re.createElement(
          "div",
          { style: x.body },
          Qc(h, function(T) {
            return re.createElement(qK, {
              key: T.toString(),
              group: T,
              active: d,
              onClick: w,
              onSwatchHover: l
            });
          }),
          re.createElement("div", { style: x.clear })
        )
      )
    )
  );
};
Z2.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  height: mt.oneOfType([mt.string, mt.number]),
  colors: mt.arrayOf(mt.arrayOf(mt.string)),
  styles: mt.object
  /* eslint-disable max-len */
};
Z2.defaultProps = {
  width: 320,
  height: 240,
  colors: [[pu[900], pu[700], pu[500], pu[300], pu[100]], [fu[900], fu[700], fu[500], fu[300], fu[100]], [gu[900], gu[700], gu[500], gu[300], gu[100]], [bu[900], bu[700], bu[500], bu[300], bu[100]], [vu[900], vu[700], vu[500], vu[300], vu[100]], [yu[900], yu[700], yu[500], yu[300], yu[100]], [xu[900], xu[700], xu[500], xu[300], xu[100]], [Cu[900], Cu[700], Cu[500], Cu[300], Cu[100]], [_u[900], _u[700], _u[500], _u[300], _u[100]], ["#194D33", rp[700], rp[500], rp[300], rp[100]], [wu[900], wu[700], wu[500], wu[300], wu[100]], [Tu[900], Tu[700], Tu[500], Tu[300], Tu[100]], [Nu[900], Nu[700], Nu[500], Nu[300], Nu[100]], [Mu[900], Mu[700], Mu[500], Mu[300], Mu[100]], [Su[900], Su[700], Su[500], Su[300], Su[100]], [Iu[900], Iu[700], Iu[500], Iu[300], Iu[100]], [Au[900], Au[700], Au[500], Au[300], Au[100]], [Eu[900], Eu[700], Eu[500], Eu[300], Eu[100]], ["#000000", "#525252", "#969696", "#D9D9D9", "#FFFFFF"]],
  styles: {}
};
Ii(Z2);
var J2 = function(e) {
  var n = e.onChange, r = e.onSwatchHover, o = e.hex, l = e.colors, h = e.width, d = e.triangle, p = e.styles, g = p === void 0 ? {} : p, v = e.className, y = v === void 0 ? "" : v, x = Qt(Si({
    default: {
      card: {
        width: h,
        background: "#fff",
        border: "0 solid rgba(0,0,0,0.25)",
        boxShadow: "0 1px 4px rgba(0,0,0,0.25)",
        borderRadius: "4px",
        position: "relative"
      },
      body: {
        padding: "15px 9px 9px 15px"
      },
      label: {
        fontSize: "18px",
        color: "#fff"
      },
      triangle: {
        width: "0px",
        height: "0px",
        borderStyle: "solid",
        borderWidth: "0 9px 10px 9px",
        borderColor: "transparent transparent #fff transparent",
        position: "absolute"
      },
      triangleShadow: {
        width: "0px",
        height: "0px",
        borderStyle: "solid",
        borderWidth: "0 9px 10px 9px",
        borderColor: "transparent transparent rgba(0,0,0,.1) transparent",
        position: "absolute"
      },
      hash: {
        background: "#F0F0F0",
        height: "30px",
        width: "30px",
        borderRadius: "4px 0 0 4px",
        float: "left",
        color: "#98A1A4",
        display: "flex",
        alignItems: "center",
        justifyContent: "center"
      },
      input: {
        width: "100px",
        fontSize: "14px",
        color: "#666",
        border: "0px",
        outline: "none",
        height: "28px",
        boxShadow: "inset 0 0 0 1px #F0F0F0",
        boxSizing: "content-box",
        borderRadius: "0 4px 4px 0",
        float: "left",
        paddingLeft: "8px"
      },
      swatch: {
        width: "30px",
        height: "30px",
        float: "left",
        borderRadius: "4px",
        margin: "0 6px 6px 0"
      },
      clear: {
        clear: "both"
      }
    },
    "hide-triangle": {
      triangle: {
        display: "none"
      },
      triangleShadow: {
        display: "none"
      }
    },
    "top-left-triangle": {
      triangle: {
        top: "-10px",
        left: "12px"
      },
      triangleShadow: {
        top: "-11px",
        left: "12px"
      }
    },
    "top-right-triangle": {
      triangle: {
        top: "-10px",
        right: "12px"
      },
      triangleShadow: {
        top: "-11px",
        right: "12px"
      }
    }
  }, g), {
    "hide-triangle": d === "hide",
    "top-left-triangle": d === "top-left",
    "top-right-triangle": d === "top-right"
  }), w = function(M, S) {
    yl(M) && n({
      hex: M,
      source: "hex"
    }, S);
  };
  return re.createElement(
    "div",
    { style: x.card, className: "twitter-picker " + y },
    re.createElement("div", { style: x.triangleShadow }),
    re.createElement("div", { style: x.triangle }),
    re.createElement(
      "div",
      { style: x.body },
      Qc(l, function(T, M) {
        return re.createElement(Jc, {
          key: M,
          color: T,
          hex: T,
          style: x.swatch,
          onClick: w,
          onHover: r,
          focusStyle: {
            boxShadow: "0 0 4px " + T
          }
        });
      }),
      re.createElement(
        "div",
        { style: x.hash },
        "#"
      ),
      re.createElement(Sn, {
        label: null,
        style: { input: x.input },
        value: o.replace("#", ""),
        onChange: w
      }),
      re.createElement("div", { style: x.clear })
    )
  );
};
J2.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  triangle: mt.oneOf(["hide", "top-left", "top-right"]),
  colors: mt.arrayOf(mt.string),
  styles: mt.object
};
J2.defaultProps = {
  width: 276,
  colors: ["#FF6900", "#FCB900", "#7BDCB5", "#00D084", "#8ED1FC", "#0693E3", "#ABB8C3", "#EB144C", "#F78DA7", "#9900EF"],
  triangle: "top-left",
  styles: {}
};
Ii(J2);
var Q2 = function(e) {
  var n = Qt({
    default: {
      picker: {
        width: "20px",
        height: "20px",
        borderRadius: "22px",
        border: "2px #fff solid",
        transform: "translate(-12px, -13px)",
        background: "hsl(" + Math.round(e.hsl.h) + ", " + Math.round(e.hsl.s * 100) + "%, " + Math.round(e.hsl.l * 100) + "%)"
      }
    }
  });
  return re.createElement("div", { style: n.picker });
};
Q2.propTypes = {
  hsl: mt.shape({
    h: mt.number,
    s: mt.number,
    l: mt.number,
    a: mt.number
  })
};
Q2.defaultProps = {
  hsl: { a: 1, h: 249.94, l: 0.2, s: 0.5 }
};
var eC = function(e) {
  var n = Qt({
    default: {
      picker: {
        width: "20px",
        height: "20px",
        borderRadius: "22px",
        transform: "translate(-10px, -7px)",
        background: "hsl(" + Math.round(e.hsl.h) + ", 100%, 50%)",
        border: "2px white solid"
      }
    }
  });
  return re.createElement("div", { style: n.picker });
};
eC.propTypes = {
  hsl: mt.shape({
    h: mt.number,
    s: mt.number,
    l: mt.number,
    a: mt.number
  })
};
eC.defaultProps = {
  hsl: { a: 1, h: 249.94, l: 0.2, s: 0.5 }
};
var YK = function(e) {
  var n = e.onChange, r = e.rgb, o = e.hsl, l = e.hex, h = e.hsv, d = function(w, T) {
    if (w.hex)
      yl(w.hex) && n({
        hex: w.hex,
        source: "hex"
      }, T);
    else if (w.rgb) {
      var M = w.rgb.split(",");
      qv(w.rgb, "rgb") && n({
        r: M[0],
        g: M[1],
        b: M[2],
        a: 1,
        source: "rgb"
      }, T);
    } else if (w.hsv) {
      var S = w.hsv.split(",");
      qv(w.hsv, "hsv") && (S[2] = S[2].replace("%", ""), S[1] = S[1].replace("%", ""), S[0] = S[0].replace("°", ""), S[1] == 1 ? S[1] = 0.01 : S[2] == 1 && (S[2] = 0.01), n({
        h: Number(S[0]),
        s: Number(S[1]),
        v: Number(S[2]),
        source: "hsv"
      }, T));
    } else if (w.hsl) {
      var L = w.hsl.split(",");
      qv(w.hsl, "hsl") && (L[2] = L[2].replace("%", ""), L[1] = L[1].replace("%", ""), L[0] = L[0].replace("°", ""), y[1] == 1 ? y[1] = 0.01 : y[2] == 1 && (y[2] = 0.01), n({
        h: Number(L[0]),
        s: Number(L[1]),
        v: Number(L[2]),
        source: "hsl"
      }, T));
    }
  }, p = Qt({
    default: {
      wrap: {
        display: "flex",
        height: "100px",
        marginTop: "4px"
      },
      fields: {
        width: "100%"
      },
      column: {
        paddingTop: "10px",
        display: "flex",
        justifyContent: "space-between"
      },
      double: {
        padding: "0px 4.4px",
        boxSizing: "border-box"
      },
      input: {
        width: "100%",
        height: "38px",
        boxSizing: "border-box",
        padding: "4px 10% 3px",
        textAlign: "center",
        border: "1px solid #dadce0",
        fontSize: "11px",
        textTransform: "lowercase",
        borderRadius: "5px",
        outline: "none",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      input2: {
        height: "38px",
        width: "100%",
        border: "1px solid #dadce0",
        boxSizing: "border-box",
        fontSize: "11px",
        textTransform: "lowercase",
        borderRadius: "5px",
        outline: "none",
        paddingLeft: "10px",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      label: {
        textAlign: "center",
        fontSize: "12px",
        background: "#fff",
        position: "absolute",
        textTransform: "uppercase",
        color: "#3c4043",
        width: "35px",
        top: "-6px",
        left: "0",
        right: "0",
        marginLeft: "auto",
        marginRight: "auto",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      label2: {
        left: "10px",
        textAlign: "center",
        fontSize: "12px",
        background: "#fff",
        position: "absolute",
        textTransform: "uppercase",
        color: "#3c4043",
        width: "32px",
        top: "-6px",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      single: {
        flexGrow: "1",
        margin: "0px 4.4px"
      }
    }
  }), g = r.r + ", " + r.g + ", " + r.b, v = Math.round(o.h) + "°, " + Math.round(o.s * 100) + "%, " + Math.round(o.l * 100) + "%", y = Math.round(h.h) + "°, " + Math.round(h.s * 100) + "%, " + Math.round(h.v * 100) + "%";
  return re.createElement(
    "div",
    { style: p.wrap, className: "flexbox-fix" },
    re.createElement(
      "div",
      { style: p.fields },
      re.createElement(
        "div",
        { style: p.double },
        re.createElement(Sn, {
          style: { input: p.input, label: p.label },
          label: "hex",
          value: l,
          onChange: d
        })
      ),
      re.createElement(
        "div",
        { style: p.column },
        re.createElement(
          "div",
          { style: p.single },
          re.createElement(Sn, {
            style: { input: p.input2, label: p.label2 },
            label: "rgb",
            value: g,
            onChange: d
          })
        ),
        re.createElement(
          "div",
          { style: p.single },
          re.createElement(Sn, {
            style: { input: p.input2, label: p.label2 },
            label: "hsv",
            value: y,
            onChange: d
          })
        ),
        re.createElement(
          "div",
          { style: p.single },
          re.createElement(Sn, {
            style: { input: p.input2, label: p.label2 },
            label: "hsl",
            value: v,
            onChange: d
          })
        )
      )
    )
  );
}, tC = function(e) {
  var n = e.width, r = e.onChange, o = e.rgb, l = e.hsl, h = e.hsv, d = e.hex, p = e.header, g = e.styles, v = g === void 0 ? {} : g, y = e.className, x = y === void 0 ? "" : y, w = Qt(Si({
    default: {
      picker: {
        width: n,
        background: "#fff",
        border: "1px solid #dfe1e5",
        boxSizing: "initial",
        display: "flex",
        flexWrap: "wrap",
        borderRadius: "8px 8px 0px 0px"
      },
      head: {
        height: "57px",
        width: "100%",
        paddingTop: "16px",
        paddingBottom: "16px",
        paddingLeft: "16px",
        fontSize: "20px",
        boxSizing: "border-box",
        fontFamily: "Roboto-Regular,HelveticaNeue,Arial,sans-serif"
      },
      saturation: {
        width: "70%",
        padding: "0px",
        position: "relative",
        overflow: "hidden"
      },
      swatch: {
        width: "30%",
        height: "228px",
        padding: "0px",
        background: "rgba(" + o.r + ", " + o.g + ", " + o.b + ", 1)",
        position: "relative",
        overflow: "hidden"
      },
      body: {
        margin: "auto",
        width: "95%"
      },
      controls: {
        display: "flex",
        boxSizing: "border-box",
        height: "52px",
        paddingTop: "22px"
      },
      color: {
        width: "32px"
      },
      hue: {
        height: "8px",
        position: "relative",
        margin: "0px 16px 0px 16px",
        width: "100%"
      },
      Hue: {
        radius: "2px"
      }
    }
  }, v));
  return re.createElement(
    "div",
    { style: w.picker, className: "google-picker " + x },
    re.createElement(
      "div",
      { style: w.head },
      p
    ),
    re.createElement("div", { style: w.swatch }),
    re.createElement(
      "div",
      { style: w.saturation },
      re.createElement(b0, {
        hsl: l,
        hsv: h,
        pointer: Q2,
        onChange: r
      })
    ),
    re.createElement(
      "div",
      { style: w.body },
      re.createElement(
        "div",
        { style: w.controls, className: "flexbox-fix" },
        re.createElement(
          "div",
          { style: w.hue },
          re.createElement(ed, {
            style: w.Hue,
            hsl: l,
            radius: "4px",
            pointer: eC,
            onChange: r
          })
        )
      ),
      re.createElement(YK, {
        rgb: o,
        hsl: l,
        hex: d,
        hsv: h,
        onChange: r
      })
    )
  );
};
tC.propTypes = {
  width: mt.oneOfType([mt.string, mt.number]),
  styles: mt.object,
  header: mt.string
};
tC.defaultProps = {
  width: 652,
  styles: {},
  header: "Color picker"
};
Ii(tC);
const KK = Ke.memo(({ color: a, setState: e }) => {
  const n = Ke.useRef(null);
  return Ke.useEffect(() => {
  }, []), /* @__PURE__ */ Oe.jsx("div", { ref: n, className: "ColorPicker", children: /* @__PURE__ */ Oe.jsx(
    XK,
    {
      color: a,
      onChangeComplete: (r) => {
        e((o) => ({ ...o, color: r.hex }));
      }
    }
  ) });
}), ZK = Ke.memo(({ color: a, index: e }) => {
  var v;
  const [n, r] = Ke.useContext(li), o = (v = n[Ht.GUI_Color]) == null ? void 0 : v.data, [l, h] = Ke.useState({ enabled: !1, color: a.defaultValue }), d = a.defaultValue, [p] = oo("enterPantone", "Enter a Pantone#");
  Ke.useEffect(() => {
    if (o) {
      const y = [...o];
      y[e] = { ...y[e], value: l.color }, r({ type: Ht.GUI_Color, state: { data: y } });
    }
  }, [l]), Ke.useEffect(() => {
    h((y) => ({ ...y, color: d }));
  }, [d]);
  const g = (y) => {
    h((x) => ({ ...x, color: y.target.value }));
  };
  return /* @__PURE__ */ Oe.jsxs("div", { className: "flex w-full flex-row items-center justify-between", children: [
    /* @__PURE__ */ Oe.jsxs("div", { className: "flex flex-row", children: [
      /* @__PURE__ */ Oe.jsxs("div", { className: "relative flex h-[22px] w-[22px] flex-row", children: [
        /* @__PURE__ */ Oe.jsx(
          si,
          {
            className: "h-full w-full",
            onClick: () => h((y) => ({ ...y, enabled: !y.enabled })),
            children: /* @__PURE__ */ Oe.jsx(
              "div",
              {
                className: "relative h-full w-full rounded border border-grey-700",
                style: { backgroundColor: l.color }
              }
            )
          }
        ),
        l.enabled && /* @__PURE__ */ Oe.jsxs("div", { className: "absolute top-full z-10 h-full w-full", children: [
          /* @__PURE__ */ Oe.jsx(
            "div",
            {
              className: "fixed left-0 top-0 h-full w-full bg-transparent",
              onClick: () => h((y) => ({ ...y, enabled: !1 }))
            }
          ),
          /* @__PURE__ */ Oe.jsx("div", { className: "h-full w-full", children: /* @__PURE__ */ Oe.jsx(KK, { color: l.color, setState: h }) })
        ] })
      ] }),
      /* @__PURE__ */ Oe.jsx("span", { className: "ml-3 flex min-w-12 items-center text-sm text-grey-250", children: l.color })
    ] }),
    /* @__PURE__ */ Oe.jsx("div", { className: "flex h-11 w-40 items-center rounded border border-grey-700 px-4", children: /* @__PURE__ */ Oe.jsxs(
      "select",
      {
        className: "w-full flex-grow overflow-hidden bg-transparent text-sm text-grey-400 outline-none placeholder:overflow-visible placeholder:text-grey-400",
        defaultValue: "",
        onChange: g,
        children: [
          /* @__PURE__ */ Oe.jsx("option", { value: "", disabled: !0, children: p }),
          NB.result.code.pantoneList.map((y, x) => /* @__PURE__ */ Oe.jsx(
            "option",
            {
              value: `#${IB(y.r, y.g, y.b)}`,
              children: `${y.colorName}(${y.name})`
            },
            `pantone-${x}`
          ))
        ]
      }
    ) })
  ] });
}), JK = Ke.memo(() => {
  const [a, e] = Ke.useContext(li), n = a[Ht.GUI_Color], r = a[Ht.DiffuseColor] || T8.defaultValue, [o] = oo("colorEditor", "Color editor"), [l] = oo("removeColor", "Remove Color"), [h] = oo("addColor", "Add Color");
  return /* @__PURE__ */ Oe.jsxs(Oe.Fragment, { children: [
    /* @__PURE__ */ Oe.jsx("h5", { className: "mb-2 text-base font-bold text-white", children: o }),
    /* @__PURE__ */ Oe.jsxs("div", { className: "flex w-full flex-col space-y-3", children: [
      n && n.data.map((d, p) => /* @__PURE__ */ Oe.jsx(ZK, { color: d, index: p }, `panel-${p}`)),
      /* @__PURE__ */ Oe.jsxs("div", { className: "flex w-full flex-row", children: [
        /* @__PURE__ */ Oe.jsx(
          si,
          {
            disabled: n ? n.data.length <= 1 : !1,
            className: "text-body1 min-w-21 flex h-10 items-center justify-center gap-x-1 whitespace-nowrap rounded border-none bg-transparent px-4 font-normal text-grey-300 hover:text-primary-500 disabled:text-grey-700",
            onClick: () => {
              if (n) {
                if (n.data.length <= 1)
                  return;
                const d = [...n.data].slice(0, -1);
                e({ type: Ht.GUI_Color, state: { data: d } });
              }
            },
            children: l
          }
        ),
        /* @__PURE__ */ Oe.jsxs(
          si,
          {
            className: "text-body1 min-w-21 flex h-10 items-center justify-center gap-x-1 whitespace-nowrap rounded border border-grey-700 bg-transparent px-3 font-normal text-primary-400 hover:border-grey-600 hover:text-primary-500 disabled:text-grey-600",
            onClick: () => {
              if (n) {
                const d = [...n.data];
                d.push({ defaultValue: r, value: r }), e({ type: Ht.GUI_Color, state: { data: d } });
              }
            },
            children: [
              /* @__PURE__ */ Oe.jsx(MB, {}),
              h
            ]
          }
        )
      ] })
    ] })
  ] });
}), QK = Ke.memo(({ data: a }) => {
  const [e, n] = Ke.useContext(li), r = e[Ht.GUI_Panorama], [o] = oo(a.toggle.name, a.toggle.name), l = (h) => {
    r && n({
      type: Ht.GUI_Panorama,
      state: { ...r, toggle: { ...r.toggle, visible: h.target.checked } }
    });
  };
  return /* @__PURE__ */ Oe.jsxs("label", { className: "inline-flex cursor-pointer items-center", children: [
    /* @__PURE__ */ Oe.jsx(
      "input",
      {
        type: "checkbox",
        value: "",
        className: "peer sr-only",
        defaultChecked: r == null ? void 0 : r.toggle.visible,
        onChange: l
      }
    ),
    /* @__PURE__ */ Oe.jsx("div", { className: "peer relative h-6 w-11 rounded-full bg-grey-200 after:absolute after:start-[2px] after:top-0.5 after:h-5 after:w-5 after:rounded-full after:border after:border-grey-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary-400 peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full dark:border-grey-600 dark:bg-grey-700" }),
    /* @__PURE__ */ Oe.jsx("span", { className: "ms-3 text-sm font-medium text-white dark:text-white", children: o })
  ] });
}), eZ = Ke.memo(({ data: a }) => {
  const [, e] = Ke.useContext(li), [n] = oo(a.name, a.name), r = (o) => {
    e({ type: Ht.GUI_Panorama, state: { index: Number(o.target.value) } });
  };
  return /* @__PURE__ */ Oe.jsxs("div", { className: "w-full", children: [
    /* @__PURE__ */ Oe.jsx("h5", { className: "mb-2 text-base font-bold text-white", children: n }),
    /* @__PURE__ */ Oe.jsx("div", { className: "my-4 flex h-11 w-full items-center rounded border border-grey-700 px-4", children: /* @__PURE__ */ Oe.jsx(
      "select",
      {
        className: "w-full flex-grow overflow-hidden bg-transparent text-sm text-grey-400 outline-none placeholder:overflow-visible placeholder:text-grey-400",
        defaultValue: a.index,
        onChange: r,
        children: a.data.map((o, l) => /* @__PURE__ */ Oe.jsx("option", { value: l, children: o.name }, o.name + l))
      }
    ) }),
    /* @__PURE__ */ Oe.jsx("div", { className: "w-full", children: /* @__PURE__ */ Oe.jsx(QK, { data: a }) })
  ] });
});
var nC = {}, x0 = {}, Dm = function(a) {
  return a && a.Math === Math && a;
}, lo = (
  // eslint-disable-next-line es/no-global-this -- safe
  Dm(typeof globalThis == "object" && globalThis) || Dm(typeof window == "object" && window) || // eslint-disable-next-line no-restricted-globals -- safe
  Dm(typeof self == "object" && self) || Dm(typeof Dr == "object" && Dr) || Dm(typeof Dr == "object" && Dr) || // eslint-disable-next-line no-new-func -- fallback
  /* @__PURE__ */ function() {
    return this;
  }() || Function("return this")()
), tZ = {
  CSSRuleList: 0,
  CSSStyleDeclaration: 0,
  CSSValueList: 0,
  ClientRectList: 0,
  DOMRectList: 0,
  DOMStringList: 0,
  DOMTokenList: 1,
  DataTransferItemList: 0,
  FileList: 0,
  HTMLAllCollection: 0,
  HTMLCollection: 0,
  HTMLFormElement: 0,
  HTMLSelectElement: 0,
  MediaList: 0,
  MimeTypeArray: 0,
  NamedNodeMap: 0,
  NodeList: 1,
  PaintRequestList: 0,
  Plugin: 0,
  PluginArray: 0,
  SVGLengthList: 0,
  SVGNumberList: 0,
  SVGPathSegList: 0,
  SVGPointList: 0,
  SVGStringList: 0,
  SVGTransformList: 0,
  SourceBufferList: 0,
  StyleSheetList: 0,
  TextTrackCueList: 0,
  TextTrackList: 0,
  TouchList: 0
}, Kv = typeof document == "object" && document.all, Ai = typeof Kv > "u" && Kv !== void 0 ? function(a) {
  return typeof a == "function" || a === Kv;
} : function(a) {
  return typeof a == "function";
}, nZ = Ai, xl = function(a) {
  return typeof a == "object" ? a !== null : nZ(a);
}, rZ = lo, JN = xl, Dx = rZ.document, iZ = JN(Dx) && JN(Dx.createElement), rC = function(a) {
  return iZ ? Dx.createElement(a) : {};
}, oZ = rC, Zv = oZ("span").classList, QN = Zv && Zv.constructor && Zv.constructor.prototype, aZ = QN === Object.prototype ? void 0 : QN, Uo = function(a) {
  try {
    return !!a();
  } catch {
    return !0;
  }
}, sZ = Uo, yA = !sZ(function() {
  var a = (function() {
  }).bind();
  return typeof a != "function" || a.hasOwnProperty("prototype");
}), xA = yA, CA = Function.prototype, Fx = CA.call, lZ = xA && CA.bind.bind(Fx, Fx), co = xA ? lZ : function(a) {
  return function() {
    return Fx.apply(a, arguments);
  };
}, _A = co, cZ = _A({}.toString), hZ = _A("".slice), wA = function(a) {
  return hZ(cZ(a), 8, -1);
}, uZ = co, dZ = Uo, mZ = wA, Jv = Object, pZ = uZ("".split), fZ = dZ(function() {
  return !Jv("z").propertyIsEnumerable(0);
}) ? function(a) {
  return mZ(a) === "String" ? pZ(a, "") : Jv(a);
} : Jv, TA = function(a) {
  return a == null;
}, gZ = TA, bZ = TypeError, C0 = function(a) {
  if (gZ(a))
    throw new bZ("Can't call method on " + a);
  return a;
}, vZ = fZ, yZ = C0, Ap = function(a) {
  return vZ(yZ(a));
}, NA = { exports: {} }, eM = lo, xZ = Object.defineProperty, iC = function(a, e) {
  try {
    xZ(eM, a, { value: e, configurable: !0, writable: !0 });
  } catch {
    eM[a] = e;
  }
  return e;
}, CZ = lo, _Z = iC, tM = "__core-js_shared__", nM = NA.exports = CZ[tM] || _Z(tM, {});
(nM.versions || (nM.versions = [])).push({
  version: "3.37.1",
  mode: "global",
  copyright: "© 2014-2024 Denis Pushkarev (zloirock.ru)",
  license: "https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",
  source: "https://github.com/zloirock/core-js"
});
var oC = NA.exports, rM = oC, MA = function(a, e) {
  return rM[a] || (rM[a] = e || {});
}, wZ = C0, TZ = Object, SA = function(a) {
  return TZ(wZ(a));
}, NZ = co, MZ = SA, SZ = NZ({}.hasOwnProperty), ds = Object.hasOwn || function(e, n) {
  return SZ(MZ(e), n);
}, IZ = co, AZ = 0, EZ = Math.random(), PZ = IZ(1 .toString), IA = function(a) {
  return "Symbol(" + (a === void 0 ? "" : a) + ")_" + PZ(++AZ + EZ, 36);
}, RZ = typeof navigator < "u" && String(navigator.userAgent) || "", AA = lo, Qv = RZ, iM = AA.process, oM = AA.Deno, aM = iM && iM.versions || oM && oM.version, sM = aM && aM.v8, Lo, $g;
sM && (Lo = sM.split("."), $g = Lo[0] > 0 && Lo[0] < 4 ? 1 : +(Lo[0] + Lo[1]));
!$g && Qv && (Lo = Qv.match(/Edge\/(\d+)/), (!Lo || Lo[1] >= 74) && (Lo = Qv.match(/Chrome\/(\d+)/), Lo && ($g = +Lo[1])));
var BZ = $g, lM = BZ, OZ = Uo, LZ = lo, jZ = LZ.String, EA = !!Object.getOwnPropertySymbols && !OZ(function() {
  var a = Symbol("symbol detection");
  return !jZ(a) || !(Object(a) instanceof Symbol) || // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances
  !Symbol.sham && lM && lM < 41;
}), DZ = EA, PA = DZ && !Symbol.sham && typeof Symbol.iterator == "symbol", FZ = lo, kZ = MA, cM = ds, XZ = IA, zZ = EA, UZ = PA, Pu = FZ.Symbol, ey = kZ("wks"), GZ = UZ ? Pu.for || Pu : Pu && Pu.withoutSetter || XZ, Cl = function(a) {
  return cM(ey, a) || (ey[a] = zZ && cM(Pu, a) ? Pu[a] : GZ("Symbol." + a)), ey[a];
}, WZ = xl, VZ = String, HZ = TypeError, _0 = function(a) {
  if (WZ(a))
    return a;
  throw new HZ(VZ(a) + " is not an object");
}, RA = {}, $Z = Uo, ms = !$Z(function() {
  return Object.defineProperty({}, 1, { get: function() {
    return 7;
  } })[1] !== 7;
}), qZ = ms, YZ = Uo, BA = qZ && YZ(function() {
  return Object.defineProperty(function() {
  }, "prototype", {
    value: 42,
    writable: !1
  }).prototype !== 42;
}), _l = {}, KZ = ms, ZZ = Uo, JZ = rC, OA = !KZ && !ZZ(function() {
  return Object.defineProperty(JZ("div"), "a", {
    get: function() {
      return 7;
    }
  }).a !== 7;
}), QZ = yA, L1 = Function.prototype.call, w0 = QZ ? L1.bind(L1) : function() {
  return L1.apply(L1, arguments);
}, ty = lo, eJ = Ai, tJ = function(a) {
  return eJ(a) ? a : void 0;
}, aC = function(a, e) {
  return arguments.length < 2 ? tJ(ty[a]) : ty[a] && ty[a][e];
}, nJ = co, rJ = nJ({}.isPrototypeOf), iJ = aC, oJ = Ai, aJ = rJ, sJ = PA, lJ = Object, LA = sJ ? function(a) {
  return typeof a == "symbol";
} : function(a) {
  var e = iJ("Symbol");
  return oJ(e) && aJ(e.prototype, lJ(a));
}, cJ = String, hJ = function(a) {
  try {
    return cJ(a);
  } catch {
    return "Object";
  }
}, uJ = Ai, dJ = hJ, mJ = TypeError, jA = function(a) {
  if (uJ(a))
    return a;
  throw new mJ(dJ(a) + " is not a function");
}, pJ = jA, fJ = TA, gJ = function(a, e) {
  var n = a[e];
  return fJ(n) ? void 0 : pJ(n);
}, ny = w0, ry = Ai, iy = xl, bJ = TypeError, vJ = function(a, e) {
  var n, r;
  if (e === "string" && ry(n = a.toString) && !iy(r = ny(n, a)) || ry(n = a.valueOf) && !iy(r = ny(n, a)) || e !== "string" && ry(n = a.toString) && !iy(r = ny(n, a)))
    return r;
  throw new bJ("Can't convert object to primitive value");
}, yJ = w0, hM = xl, uM = LA, xJ = gJ, CJ = vJ, _J = Cl, wJ = TypeError, TJ = _J("toPrimitive"), NJ = function(a, e) {
  if (!hM(a) || uM(a))
    return a;
  var n = xJ(a, TJ), r;
  if (n) {
    if (e === void 0 && (e = "default"), r = yJ(n, a, e), !hM(r) || uM(r))
      return r;
    throw new wJ("Can't convert object to primitive value");
  }
  return e === void 0 && (e = "number"), CJ(a, e);
}, MJ = NJ, SJ = LA, DA = function(a) {
  var e = MJ(a, "string");
  return SJ(e) ? e : e + "";
}, IJ = ms, AJ = OA, EJ = BA, j1 = _0, dM = DA, PJ = TypeError, oy = Object.defineProperty, RJ = Object.getOwnPropertyDescriptor, ay = "enumerable", sy = "configurable", ly = "writable";
_l.f = IJ ? EJ ? function(e, n, r) {
  if (j1(e), n = dM(n), j1(r), typeof e == "function" && n === "prototype" && "value" in r && ly in r && !r[ly]) {
    var o = RJ(e, n);
    o && o[ly] && (e[n] = r.value, r = {
      configurable: sy in r ? r[sy] : o[sy],
      enumerable: ay in r ? r[ay] : o[ay],
      writable: !1
    });
  }
  return oy(e, n, r);
} : oy : function(e, n, r) {
  if (j1(e), n = dM(n), j1(r), AJ)
    try {
      return oy(e, n, r);
    } catch {
    }
  if ("get" in r || "set" in r)
    throw new PJ("Accessors not supported");
  return "value" in r && (e[n] = r.value), e;
};
var BJ = Math.ceil, OJ = Math.floor, LJ = Math.trunc || function(e) {
  var n = +e;
  return (n > 0 ? OJ : BJ)(n);
}, jJ = LJ, FA = function(a) {
  var e = +a;
  return e !== e || e === 0 ? 0 : jJ(e);
}, DJ = FA, FJ = Math.max, kJ = Math.min, XJ = function(a, e) {
  var n = DJ(a);
  return n < 0 ? FJ(n + e, 0) : kJ(n, e);
}, zJ = FA, UJ = Math.min, GJ = function(a) {
  var e = zJ(a);
  return e > 0 ? UJ(e, 9007199254740991) : 0;
}, WJ = GJ, VJ = function(a) {
  return WJ(a.length);
}, HJ = Ap, $J = XJ, qJ = VJ, mM = function(a) {
  return function(e, n, r) {
    var o = HJ(e), l = qJ(o);
    if (l === 0)
      return !a && -1;
    var h = $J(r, l), d;
    if (a && n !== n) {
      for (; l > h; )
        if (d = o[h++], d !== d)
          return !0;
    } else
      for (; l > h; h++)
        if ((a || h in o) && o[h] === n)
          return a || h || 0;
    return !a && -1;
  };
}, YJ = {
  // `Array.prototype.includes` method
  // https://tc39.es/ecma262/#sec-array.prototype.includes
  includes: mM(!0),
  // `Array.prototype.indexOf` method
  // https://tc39.es/ecma262/#sec-array.prototype.indexof
  indexOf: mM(!1)
}, sC = {}, KJ = co, cy = ds, ZJ = Ap, JJ = YJ.indexOf, QJ = sC, pM = KJ([].push), kA = function(a, e) {
  var n = ZJ(a), r = 0, o = [], l;
  for (l in n)
    !cy(QJ, l) && cy(n, l) && pM(o, l);
  for (; e.length > r; )
    cy(n, l = e[r++]) && (~JJ(o, l) || pM(o, l));
  return o;
}, lC = [
  "constructor",
  "hasOwnProperty",
  "isPrototypeOf",
  "propertyIsEnumerable",
  "toLocaleString",
  "toString",
  "valueOf"
], eQ = kA, tQ = lC, nQ = Object.keys || function(e) {
  return eQ(e, tQ);
}, rQ = ms, iQ = BA, oQ = _l, aQ = _0, sQ = Ap, lQ = nQ;
RA.f = rQ && !iQ ? Object.defineProperties : function(e, n) {
  aQ(e);
  for (var r = sQ(n), o = lQ(n), l = o.length, h = 0, d; l > h; )
    oQ.f(e, d = o[h++], r[d]);
  return e;
};
var cQ = aC, hQ = cQ("document", "documentElement"), uQ = MA, dQ = IA, fM = uQ("keys"), cC = function(a) {
  return fM[a] || (fM[a] = dQ(a));
}, mQ = _0, pQ = RA, gM = lC, fQ = sC, gQ = hQ, bQ = rC, vQ = cC, bM = ">", vM = "<", kx = "prototype", Xx = "script", XA = vQ("IE_PROTO"), hy = function() {
}, zA = function(a) {
  return vM + Xx + bM + a + vM + "/" + Xx + bM;
}, yM = function(a) {
  a.write(zA("")), a.close();
  var e = a.parentWindow.Object;
  return a = null, e;
}, yQ = function() {
  var a = bQ("iframe"), e = "java" + Xx + ":", n;
  return a.style.display = "none", gQ.appendChild(a), a.src = String(e), n = a.contentWindow.document, n.open(), n.write(zA("document.F=Object")), n.close(), n.F;
}, D1, Pg = function() {
  try {
    D1 = new ActiveXObject("htmlfile");
  } catch {
  }
  Pg = typeof document < "u" ? document.domain && D1 ? yM(D1) : yQ() : yM(D1);
  for (var a = gM.length; a--; )
    delete Pg[kx][gM[a]];
  return Pg();
};
fQ[XA] = !0;
var UA = Object.create || function(e, n) {
  var r;
  return e !== null ? (hy[kx] = mQ(e), r = new hy(), hy[kx] = null, r[XA] = e) : r = Pg(), n === void 0 ? r : pQ.f(r, n);
}, xQ = Cl, CQ = UA, _Q = _l.f, zx = xQ("unscopables"), Ux = Array.prototype;
Ux[zx] === void 0 && _Q(Ux, zx, {
  configurable: !0,
  value: CQ(null)
});
var wQ = function(a) {
  Ux[zx][a] = !0;
}, hC = {}, TQ = lo, NQ = Ai, xM = TQ.WeakMap, MQ = NQ(xM) && /native code/.test(String(xM)), uC = function(a, e) {
  return {
    enumerable: !(a & 1),
    configurable: !(a & 2),
    writable: !(a & 4),
    value: e
  };
}, SQ = ms, IQ = _l, AQ = uC, T0 = SQ ? function(a, e, n) {
  return IQ.f(a, e, AQ(1, n));
} : function(a, e, n) {
  return a[e] = n, a;
}, EQ = MQ, GA = lo, PQ = xl, RQ = T0, uy = ds, dy = oC, BQ = cC, OQ = sC, CM = "Object already initialized", Gx = GA.TypeError, LQ = GA.WeakMap, qg, dp, Yg, jQ = function(a) {
  return Yg(a) ? dp(a) : qg(a, {});
}, DQ = function(a) {
  return function(e) {
    var n;
    if (!PQ(e) || (n = dp(e)).type !== a)
      throw new Gx("Incompatible receiver, " + a + " required");
    return n;
  };
};
if (EQ || dy.state) {
  var aa = dy.state || (dy.state = new LQ());
  aa.get = aa.get, aa.has = aa.has, aa.set = aa.set, qg = function(a, e) {
    if (aa.has(a))
      throw new Gx(CM);
    return e.facade = a, aa.set(a, e), e;
  }, dp = function(a) {
    return aa.get(a) || {};
  }, Yg = function(a) {
    return aa.has(a);
  };
} else {
  var qh = BQ("state");
  OQ[qh] = !0, qg = function(a, e) {
    if (uy(a, qh))
      throw new Gx(CM);
    return e.facade = a, RQ(a, qh, e), e;
  }, dp = function(a) {
    return uy(a, qh) ? a[qh] : {};
  }, Yg = function(a) {
    return uy(a, qh);
  };
}
var WA = {
  set: qg,
  get: dp,
  has: Yg,
  enforce: jQ,
  getterFor: DQ
}, dC = {}, VA = {}, HA = {}.propertyIsEnumerable, $A = Object.getOwnPropertyDescriptor, FQ = $A && !HA.call({ 1: 2 }, 1);
VA.f = FQ ? function(e) {
  var n = $A(this, e);
  return !!n && n.enumerable;
} : HA;
var kQ = ms, XQ = w0, zQ = VA, UQ = uC, GQ = Ap, WQ = DA, VQ = ds, HQ = OA, _M = Object.getOwnPropertyDescriptor;
dC.f = kQ ? _M : function(e, n) {
  if (e = GQ(e), n = WQ(n), HQ)
    try {
      return _M(e, n);
    } catch {
    }
  if (VQ(e, n))
    return UQ(!XQ(zQ.f, e, n), e[n]);
};
var qA = { exports: {} }, Wx = ms, $Q = ds, YA = Function.prototype, qQ = Wx && Object.getOwnPropertyDescriptor, mC = $Q(YA, "name"), YQ = mC && (function() {
}).name === "something", KQ = mC && (!Wx || Wx && qQ(YA, "name").configurable), KA = {
  EXISTS: mC,
  PROPER: YQ,
  CONFIGURABLE: KQ
}, ZQ = co, JQ = Ai, Vx = oC, QQ = ZQ(Function.toString);
JQ(Vx.inspectSource) || (Vx.inspectSource = function(a) {
  return QQ(a);
});
var eee = Vx.inspectSource, pC = co, tee = Uo, nee = Ai, F1 = ds, Hx = ms, ree = KA.CONFIGURABLE, iee = eee, ZA = WA, oee = ZA.enforce, aee = ZA.get, wM = String, Rg = Object.defineProperty, see = pC("".slice), lee = pC("".replace), cee = pC([].join), hee = Hx && !tee(function() {
  return Rg(function() {
  }, "length", { value: 8 }).length !== 8;
}), uee = String(String).split("String"), dee = qA.exports = function(a, e, n) {
  see(wM(e), 0, 7) === "Symbol(" && (e = "[" + lee(wM(e), /^Symbol\(([^)]*)\).*$/, "$1") + "]"), n && n.getter && (e = "get " + e), n && n.setter && (e = "set " + e), (!F1(a, "name") || ree && a.name !== e) && (Hx ? Rg(a, "name", { value: e, configurable: !0 }) : a.name = e), hee && n && F1(n, "arity") && a.length !== n.arity && Rg(a, "length", { value: n.arity });
  try {
    n && F1(n, "constructor") && n.constructor ? Hx && Rg(a, "prototype", { writable: !1 }) : a.prototype && (a.prototype = void 0);
  } catch {
  }
  var r = oee(a);
  return F1(r, "source") || (r.source = cee(uee, typeof e == "string" ? e : "")), a;
};
Function.prototype.toString = dee(function() {
  return nee(this) && aee(this).source || iee(this);
}, "toString");
var mee = qA.exports, pee = Ai, fee = _l, gee = mee, bee = iC, fC = function(a, e, n, r) {
  r || (r = {});
  var o = r.enumerable, l = r.name !== void 0 ? r.name : e;
  if (pee(n) && gee(n, l, r), r.global)
    o ? a[e] = n : bee(e, n);
  else {
    try {
      r.unsafe ? a[e] && (o = !0) : delete a[e];
    } catch {
    }
    o ? a[e] = n : fee.f(a, e, {
      value: n,
      enumerable: !1,
      configurable: !r.nonConfigurable,
      writable: !r.nonWritable
    });
  }
  return a;
}, JA = {}, vee = kA, yee = lC, xee = yee.concat("length", "prototype");
JA.f = Object.getOwnPropertyNames || function(e) {
  return vee(e, xee);
};
var QA = {};
QA.f = Object.getOwnPropertySymbols;
var Cee = aC, _ee = co, wee = JA, Tee = QA, Nee = _0, Mee = _ee([].concat), See = Cee("Reflect", "ownKeys") || function(e) {
  var n = wee.f(Nee(e)), r = Tee.f;
  return r ? Mee(n, r(e)) : n;
}, TM = ds, Iee = See, Aee = dC, Eee = _l, Pee = function(a, e, n) {
  for (var r = Iee(e), o = Eee.f, l = Aee.f, h = 0; h < r.length; h++) {
    var d = r[h];
    !TM(a, d) && !(n && TM(n, d)) && o(a, d, l(e, d));
  }
}, Ree = Uo, Bee = Ai, Oee = /#|\.prototype\./, Ep = function(a, e) {
  var n = jee[Lee(a)];
  return n === Fee ? !0 : n === Dee ? !1 : Bee(e) ? Ree(e) : !!e;
}, Lee = Ep.normalize = function(a) {
  return String(a).replace(Oee, ".").toLowerCase();
}, jee = Ep.data = {}, Dee = Ep.NATIVE = "N", Fee = Ep.POLYFILL = "P", kee = Ep, k1 = lo, Xee = dC.f, zee = T0, Uee = fC, Gee = iC, Wee = Pee, Vee = kee, eE = function(a, e) {
  var n = a.target, r = a.global, o = a.stat, l, h, d, p, g, v;
  if (r ? h = k1 : o ? h = k1[n] || Gee(n, {}) : h = k1[n] && k1[n].prototype, h)
    for (d in e) {
      if (g = e[d], a.dontCallGetSet ? (v = Xee(h, d), p = v && v.value) : p = h[d], l = Vee(r ? d : n + (o ? "." : "#") + d, a.forced), !l && p !== void 0) {
        if (typeof g == typeof p)
          continue;
        Wee(g, p);
      }
      (a.sham || p && p.sham) && zee(g, "sham", !0), Uee(h, d, g, a);
    }
}, Hee = Uo, $ee = !Hee(function() {
  function a() {
  }
  return a.prototype.constructor = null, Object.getPrototypeOf(new a()) !== a.prototype;
}), qee = ds, Yee = Ai, Kee = SA, Zee = cC, Jee = $ee, NM = Zee("IE_PROTO"), $x = Object, Qee = $x.prototype, tE = Jee ? $x.getPrototypeOf : function(a) {
  var e = Kee(a);
  if (qee(e, NM))
    return e[NM];
  var n = e.constructor;
  return Yee(n) && e instanceof n ? n.prototype : e instanceof $x ? Qee : null;
}, ete = Uo, tte = Ai, nte = xl, MM = tE, rte = fC, ite = Cl, qx = ite("iterator"), nE = !1, Vc, my, py;
[].keys && (py = [].keys(), "next" in py ? (my = MM(MM(py)), my !== Object.prototype && (Vc = my)) : nE = !0);
var ote = !nte(Vc) || ete(function() {
  var a = {};
  return Vc[qx].call(a) !== a;
});
ote && (Vc = {});
tte(Vc[qx]) || rte(Vc, qx, function() {
  return this;
});
var rE = {
  IteratorPrototype: Vc,
  BUGGY_SAFARI_ITERATORS: nE
}, ate = _l.f, ste = ds, lte = Cl, SM = lte("toStringTag"), gC = function(a, e, n) {
  a && !n && (a = a.prototype), a && !ste(a, SM) && ate(a, SM, { configurable: !0, value: e });
}, cte = rE.IteratorPrototype, hte = UA, ute = uC, dte = gC, mte = hC, pte = function() {
  return this;
}, fte = function(a, e, n, r) {
  var o = e + " Iterator";
  return a.prototype = hte(cte, { next: ute(+!r, n) }), dte(a, o, !1), mte[o] = pte, a;
}, gte = co, bte = jA, vte = function(a, e, n) {
  try {
    return gte(bte(Object.getOwnPropertyDescriptor(a, e)[n]));
  } catch {
  }
}, yte = xl, xte = function(a) {
  return yte(a) || a === null;
}, Cte = xte, _te = String, wte = TypeError, Tte = function(a) {
  if (Cte(a))
    return a;
  throw new wte("Can't set " + _te(a) + " as a prototype");
}, Nte = vte, Mte = xl, Ste = C0, Ite = Tte, Ate = Object.setPrototypeOf || ("__proto__" in {} ? function() {
  var a = !1, e = {}, n;
  try {
    n = Nte(Object.prototype, "__proto__", "set"), n(e, []), a = e instanceof Array;
  } catch {
  }
  return function(o, l) {
    return Ste(o), Ite(l), Mte(o) && (a ? n(o, l) : o.__proto__ = l), o;
  };
}() : void 0), Ete = eE, Pte = w0, iE = KA, Rte = Ai, Bte = fte, IM = tE, AM = Ate, Ote = gC, Lte = T0, fy = fC, jte = Cl, Dte = hC, oE = rE, Fte = iE.PROPER, kte = iE.CONFIGURABLE, EM = oE.IteratorPrototype, X1 = oE.BUGGY_SAFARI_ITERATORS, Fm = jte("iterator"), PM = "keys", km = "values", RM = "entries", Xte = function() {
  return this;
}, zte = function(a, e, n, r, o, l, h) {
  Bte(n, e, r);
  var d = function(L) {
    if (L === o && x)
      return x;
    if (!X1 && L && L in v)
      return v[L];
    switch (L) {
      case PM:
        return function() {
          return new n(this, L);
        };
      case km:
        return function() {
          return new n(this, L);
        };
      case RM:
        return function() {
          return new n(this, L);
        };
    }
    return function() {
      return new n(this);
    };
  }, p = e + " Iterator", g = !1, v = a.prototype, y = v[Fm] || v["@@iterator"] || o && v[o], x = !X1 && y || d(o), w = e === "Array" && v.entries || y, T, M, S;
  if (w && (T = IM(w.call(new a())), T !== Object.prototype && T.next && (IM(T) !== EM && (AM ? AM(T, EM) : Rte(T[Fm]) || fy(T, Fm, Xte)), Ote(T, p, !0))), Fte && o === km && y && y.name !== km && (kte ? Lte(v, "name", km) : (g = !0, x = function() {
    return Pte(y, this);
  })), o)
    if (M = {
      values: d(km),
      keys: l ? x : d(PM),
      entries: d(RM)
    }, h)
      for (S in M)
        (X1 || g || !(S in v)) && fy(v, S, M[S]);
    else
      Ete({ target: e, proto: !0, forced: X1 || g }, M);
  return v[Fm] !== x && fy(v, Fm, x, { name: o }), Dte[e] = x, M;
}, Ute = function(a, e) {
  return { value: a, done: e };
}, Gte = Ap, bC = wQ, BM = hC, aE = WA, Wte = _l.f, Vte = zte, z1 = Ute, Hte = ms, sE = "Array Iterator", $te = aE.set, qte = aE.getterFor(sE), Yte = Vte(Array, "Array", function(a, e) {
  $te(this, {
    type: sE,
    target: Gte(a),
    // target
    index: 0,
    // next index
    kind: e
    // kind
  });
}, function() {
  var a = qte(this), e = a.target, n = a.index++;
  if (!e || n >= e.length)
    return a.target = void 0, z1(void 0, !0);
  switch (a.kind) {
    case "keys":
      return z1(n, !1);
    case "values":
      return z1(e[n], !1);
  }
  return z1([n, e[n]], !1);
}, "values"), OM = BM.Arguments = BM.Array;
bC("keys");
bC("values");
bC("entries");
if (Hte && OM.name !== "values")
  try {
    Wte(OM, "name", { value: "values" });
  } catch {
  }
var LM = lo, lE = tZ, Kte = aZ, ip = Yte, jM = T0, Zte = gC, Jte = Cl, gy = Jte("iterator"), by = ip.values, cE = function(a, e) {
  if (a) {
    if (a[gy] !== by)
      try {
        jM(a, gy, by);
      } catch {
        a[gy] = by;
      }
    if (Zte(a, e, !0), lE[e]) {
      for (var n in ip)
        if (a[n] !== ip[n])
          try {
            jM(a, n, ip[n]);
          } catch {
            a[n] = ip[n];
          }
    }
  }
};
for (var vy in lE)
  cE(LM[vy] && LM[vy].prototype, vy);
cE(Kte, "DOMTokenList");
var Qte = Cl, ene = Qte("toStringTag"), hE = {};
hE[ene] = "z";
var tne = String(hE) === "[object z]", nne = tne, rne = Ai, Bg = wA, ine = Cl, one = ine("toStringTag"), ane = Object, sne = Bg(/* @__PURE__ */ function() {
  return arguments;
}()) === "Arguments", lne = function(a, e) {
  try {
    return a[e];
  } catch {
  }
}, cne = nne ? Bg : function(a) {
  var e, n, r;
  return a === void 0 ? "Undefined" : a === null ? "Null" : typeof (n = lne(e = ane(a), one)) == "string" ? n : sne ? Bg(e) : (r = Bg(e)) === "Object" && rne(e.callee) ? "Arguments" : r;
}, hne = cne, une = String, uE = function(a) {
  if (hne(a) === "Symbol")
    throw new TypeError("Cannot convert a Symbol value to a string");
  return une(a);
}, dE = `	
\v\f\r                　\u2028\u2029\uFEFF`, dne = co, mne = C0, pne = uE, Yx = dE, DM = dne("".replace), fne = RegExp("^[" + Yx + "]+"), gne = RegExp("(^|[^" + Yx + "])[" + Yx + "]+$"), yy = function(a) {
  return function(e) {
    var n = pne(mne(e));
    return a & 1 && (n = DM(n, fne, "")), a & 2 && (n = DM(n, gne, "$1")), n;
  };
}, bne = {
  // `String.prototype.{ trimLeft, trimStart }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimstart
  start: yy(1),
  // `String.prototype.{ trimRight, trimEnd }` methods
  // https://tc39.es/ecma262/#sec-string.prototype.trimend
  end: yy(2),
  // `String.prototype.trim` method
  // https://tc39.es/ecma262/#sec-string.prototype.trim
  trim: yy(3)
}, mE = lo, vne = Uo, yne = co, xne = uE, Cne = bne.trim, _ne = dE, wne = yne("".charAt), Kg = mE.parseFloat, FM = mE.Symbol, kM = FM && FM.iterator, Tne = 1 / Kg(_ne + "-0") !== -1 / 0 || kM && !vne(function() {
  Kg(Object(kM));
}), Nne = Tne ? function(e) {
  var n = Cne(xne(e)), r = Kg(n);
  return r === 0 && wne(n, 0) === "-" ? -0 : r;
} : Kg, Mne = eE, XM = Nne;
Mne({ global: !0, forced: parseFloat !== XM }, {
  parseFloat: XM
});
function pE(a) {
  var e, n, r = "";
  if (typeof a == "string" || typeof a == "number")
    r += a;
  else if (typeof a == "object")
    if (Array.isArray(a))
      for (e = 0; e < a.length; e++)
        a[e] && (n = pE(a[e])) && (r && (r += " "), r += n);
    else
      for (e in a)
        a[e] && (r && (r += " "), r += e);
  return r;
}
function zM() {
  for (var a, e, n = 0, r = ""; n < arguments.length; )
    (a = arguments[n++]) && (e = pE(a)) && (r && (r += " "), r += e);
  return r;
}
const Sne = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  clsx: zM,
  default: zM
}, Symbol.toStringTag, { value: "Module" })), Ine = /* @__PURE__ */ Gu(Sne);
Object.defineProperty(x0, "__esModule", {
  value: !0
});
x0.default = void 0;
var Di = Pne(zu()), Ane = Ene(Ine);
function Ene(a) {
  return a && a.__esModule ? a : { default: a };
}
function fE(a) {
  if (typeof WeakMap != "function")
    return null;
  var e = /* @__PURE__ */ new WeakMap(), n = /* @__PURE__ */ new WeakMap();
  return (fE = function(o) {
    return o ? n : e;
  })(a);
}
function Pne(a, e) {
  if (a && a.__esModule)
    return a;
  if (a === null || typeof a != "object" && typeof a != "function")
    return { default: a };
  var n = fE(e);
  if (n && n.has(a))
    return n.get(a);
  var r = {}, o = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var l in a)
    if (l !== "default" && Object.prototype.hasOwnProperty.call(a, l)) {
      var h = o ? Object.getOwnPropertyDescriptor(a, l) : null;
      h && (h.get || h.set) ? Object.defineProperty(r, l, h) : r[l] = a[l];
    }
  return r.default = a, n && n.set(a, r), r;
}
const UM = Math.abs, xy = parseFloat, Xm = "min", U1 = "max", Cy = "any", GM = "vertical", WM = "tabindex", VM = "data-lower", HM = "data-upper", G1 = "data-active", $M = "data-vertical", W1 = "data-disabled";
class Rne extends Di.PureComponent {
  constructor() {
    super(), this.element = /* @__PURE__ */ (0, Di.createRef)(), this.input = [/* @__PURE__ */ (0, Di.createRef)(), /* @__PURE__ */ (0, Di.createRef)()], this.thumb = [/* @__PURE__ */ (0, Di.createRef)(), /* @__PURE__ */ (0, Di.createRef)()], this.range = /* @__PURE__ */ (0, Di.createRef)(), this.options = {}, this.firstCall = !0, this.isControlled = !1, this.externalInput = !1, this.isComponentMounted = !1, this.lastValueProp = [];
  }
  componentDidMount() {
    this.isComponentMounted || (this.value = this.setMinMaxProps(), this.index = this.setMinMaxProps(0, 1), this.thumbWidth = this.setMinMaxProps(), this.thumbHeight = this.setMinMaxProps(), this.rangeLimits = this.setMinMaxProps(), this.sliderValue = this.setMinMaxProps(), this.maxRangeWidth = 0, this.rangeWidth = 0, this.isDragging = !1, this.thumbDrag = !1, this.startPos = 0, this.reset(), this.addNodeEventListener(this.element.current, "pointerdown", (e) => {
      this.elementFocused(e);
    }), this.thumb.forEach((e, n) => {
      this.addNodeEventListener(e.current, "pointerdown", (r) => {
        this.initiateThumbDrag(r, n, e.current);
      }), this.addNodeEventListener(e.current, "keydown", (r) => {
        r.which >= 37 && r.which <= 40 && (r.preventDefault(), this.stepValue(n, r.which));
      });
    }), this.addNodeEventListener(this.range.current, "pointerdown", (e) => {
      this.initiateRangeDrag(e);
    }), this.pointerMoveEvent = (e) => {
      this.drag(e);
    }, this.pointerUpEvent = () => {
      this.isDragging && (this.removeNodeAttribute(this.thumb[0].current, G1), this.removeNodeAttribute(this.thumb[1].current, G1), this.removeNodeAttribute(this.range.current, G1), this.isDragging = !1, this.thumbDrag ? this.options.onThumbDragEnd && this.options.onThumbDragEnd() : this.options.onRangeDragEnd && this.options.onRangeDragEnd());
    }, this.resizeEvent = () => {
      this.syncThumbDimensions(), this.updateThumbs(), this.updateRange();
    }, this.addNodeEventListener(document, "pointermove", this.pointerMoveEvent), this.addNodeEventListener(document, "pointerup", this.pointerUpEvent), this.addNodeEventListener(window, "resize", this.resizeEvent), this.isComponentMounted = !0);
  }
  componentDidUpdate() {
    this.reset();
  }
  componentWillUnmount() {
    this.removeNodeEventListener(document, "pointermove", this.pointerMoveEvent), this.removeNodeEventListener(document, "pointerup", this.pointerUpEvent), this.removeNodeEventListener(window, "resize", this.resizeEvent), this.isComponentMounted = !1;
  }
  reset() {
    this.isControlled = !!this.props.value, this.isControlled && ((this.firstCall || this.props.value !== this.lastValueProp) && (this.firstCall = !1, this.externalInput = !0), this.lastValueProp = this.props.value), this.maxRangeWidth = this.options.max - this.options.min, this.updateOrientation(), this.setValue("", !0, !1), this.updateRangeLimits(), this.updateDisabledState(), this.updateThumbsDisabledState(), this.updateTabIndexes();
  }
  isNumber(e) {
    return !isNaN(e) && +e + "" == e + "";
  }
  setMinMaxProps() {
    let e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
    return {
      min: e,
      max: n
    };
  }
  iterateMinMaxProps(e) {
    [Xm, U1].forEach(e);
  }
  getSetProps(e, n, r) {
    if (e)
      return n;
    r();
  }
  setNodeAttribute(e, n) {
    let r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : "";
    e.setAttribute(n, r);
  }
  removeNodeAttribute(e, n) {
    e.removeAttribute(n);
  }
  addNodeEventListener(e, n, r) {
    let o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0;
    e.addEventListener(n, r, o ? {
      passive: !1,
      capture: !0
    } : {});
  }
  removeNodeEventListener(e, n, r) {
    let o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0;
    e.removeEventListener(n, r, o ? {
      passive: !1,
      capture: !0
    } : {});
  }
  fallbackToDefault(e, n) {
    this.options[e] = this.props[e] ? this.props[e] : n;
  }
  ifVerticalElse(e, n) {
    return this.options.orientation === GM ? e : n;
  }
  currentIndex(e) {
    return e === 1 ? this.index.max : this.index.min;
  }
  // Set min and max values to 1 (arbitrarily) if any of the min or max values are "invalid"
  // Setting both values 1 will disable the slider
  // Called when,
  // -> the element is initially set
  // -> min or max properties are modified
  safeMinMaxValues() {
    let e = !1;
    (!this.isNumber(this.options.min) || !this.isNumber(this.options.max)) && (e = !0), this.options.min = e ? 1 : +this.options.min, this.options.max = e ? 1 : +this.options.max;
  }
  // Reframe the thumbsDisabled value if "invalid"
  // Called when,
  // -> the element is initially set
  // -> thumbsDisabled property is modified
  safeThumbsDisabledValues() {
    this.options.thumbsDisabled instanceof Array ? (this.options.thumbsDisabled.length === 1 && this.options.thumbsDisabled.push(!1), this.options.thumbsDisabled.length !== 1 && this.options.thumbsDisabled.length !== 2 && (this.options.thumbsDisabled = [!1, !1])) : this.options.thumbsDisabled = [this.options.thumbsDisabled, this.options.thumbsDisabled], this.options.thumbsDisabled[0] = !!this.options.thumbsDisabled[0], this.options.thumbsDisabled[1] = !!this.options.thumbsDisabled[1];
  }
  // Called when,
  // -> the element is initially set
  // -> min, max, step or value properties are modified
  // -> thumbs are dragged
  // -> element is clicked upon
  // -> an arrow key is pressed
  setValue(e) {
    let n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !0;
    const o = this.setMinMaxProps(this.input[0].current.value, this.input[1].current.value);
    e = e || o, this.input[this.index.min].current.value = e.min, this.input[this.index.max].current.value = this.thumbDrag || n ? e.max : e.min + this.rangeWidth, this.syncValues(), this.value.min > this.value.max && (this.index.min = +!this.index.min, this.index.max = +!this.index.max, this.removeNodeAttribute(this.thumb[this.index.min].current, HM), this.removeNodeAttribute(this.thumb[this.index.max].current, VM), this.setNodeAttribute(this.thumb[this.index.min].current, VM), this.setNodeAttribute(this.thumb[this.index.max].current, HM), this.thumbDrag && (this.thumbDrag = this.thumbDrag === Xm ? U1 : Xm), this.syncValues()), this.sliderValue = n ? this.value : e;
    let l = !1;
    (o.min !== this.input[0].current.value || n) && (l = !0), (o.max !== this.input[1].current.value || n) && (l = !0), l && (r && this.options.onInput && this.options.onInput([this.value.min, this.value.max]), (!this.isControlled || this.externalInput) && (this.externalInput = !1, this.syncThumbDimensions(), this.updateThumbs(), this.updateRange(), this.updateAriaValueAttributes()));
  }
  // Sync var value with the input elements
  syncValues() {
    this.iterateMinMaxProps((e) => {
      this.value[e] = +this.input[this.index[e]].current.value;
    });
  }
  // Called when,
  // -> setValue is called and a value is set
  // -> window is resized
  updateThumbs() {
    this.iterateMinMaxProps((e) => {
      this.thumb[this.index[e]].current.style[this.ifVerticalElse("top", "left")] = "calc(".concat((this.value[e] - this.options.min) / this.maxRangeWidth * 100, "% + ").concat((0.5 - (this.value[e] - this.options.min) / this.maxRangeWidth) * this.ifVerticalElse(this.thumbHeight, this.thumbWidth)[e], "px)");
    });
  }
  // Called when,
  // -> setValue is called and a value is set
  // -> window is resized
  updateRange() {
    const e = this.element.current.getBoundingClientRect(), n = (0.5 - (this.value.min - this.options.min) / this.maxRangeWidth) * this.ifVerticalElse(this.thumbHeight, this.thumbWidth).min / this.ifVerticalElse(e.bottom - e.top, e.right - e.left), r = (0.5 - (this.value.max - this.options.min) / this.maxRangeWidth) * this.ifVerticalElse(this.thumbHeight, this.thumbWidth).max / this.ifVerticalElse(e.bottom - e.top, e.right - e.left);
    this.range.current.style[this.ifVerticalElse("top", "left")] = "".concat(((this.value.min - this.options.min) / this.maxRangeWidth + n) * 100, "%"), this.range.current.style[this.ifVerticalElse("height", "width")] = "".concat(((this.value.max - this.options.min) / this.maxRangeWidth - (this.value.min - this.options.min) / this.maxRangeWidth - n + r) * 100, "%");
  }
  updateRangeLimits() {
    this.iterateMinMaxProps((e, n) => {
      this.rangeLimits[e] = this.options.thumbsDisabled[n] ? this.value[e] : this.options[e];
    });
  }
  // Called when,
  // -> thumbs are initially set
  // -> thumbs are disabled / enabled
  updateTabIndexes() {
    this.iterateMinMaxProps((e, n) => {
      !this.options.disabled && !this.options.thumbsDisabled[n] ? this.setNodeAttribute(this.thumb[this.currentIndex(n)].current, WM, 0) : this.removeNodeAttribute(this.thumb[this.currentIndex(n)].current, WM);
    });
  }
  // Called when,
  // -> setValue is called and a value is set
  updateAriaValueAttributes() {
    this.iterateMinMaxProps((e) => {
      this.setNodeAttribute(this.thumb[this.index[e]].current, "aria-valuemin", this.options.min), this.setNodeAttribute(this.thumb[this.index[e]].current, "aria-valuemax", this.options.max), this.setNodeAttribute(this.thumb[this.index[e]].current, "aria-valuenow", this.value[e]), this.setNodeAttribute(this.thumb[this.index[e]].current, "aria-valuetext", this.value[e]);
    });
  }
  // Called when,
  // -> disabled property is modified
  updateDisabledState() {
    this.options.disabled ? this.setNodeAttribute(this.element.current, W1) : this.removeNodeAttribute(this.element.current, W1);
  }
  // Called when,
  // -> thumbsDisabled property is modified
  updateThumbsDisabledState() {
    this.options.thumbsDisabled.forEach((e, n) => {
      const r = this.currentIndex(n);
      e ? (this.setNodeAttribute(this.thumb[r].current, W1), this.setNodeAttribute(this.thumb[r].current, "aria-disabled", !0)) : (this.removeNodeAttribute(this.thumb[r].current, W1), this.setNodeAttribute(this.thumb[r].current, "aria-disabled", !1));
    });
  }
  // Called when,
  // -> min or max values are modified
  updateLimits(e) {
    let n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
    this.options[e] = n, this.safeMinMaxValues(), this.iterateMinMaxProps((r) => {
      this.input[0].current[r] = this.options[r], this.input[1].current[r] = this.options[r];
    }), this.maxRangeWidth = this.options.max - this.options.min, this.setValue("", !0), this.updateRangeLimits();
  }
  // Called when,
  // -> the element is initially set
  // -> orientation property is modified
  updateOrientation() {
    this.options.orientation === GM ? this.setNodeAttribute(this.element.current, $M) : this.removeNodeAttribute(this.element.current, $M), this.range.current.style[this.ifVerticalElse("left", "top")] = "", this.range.current.style[this.ifVerticalElse("width", "height")] = "", this.thumb[0].current.style[this.ifVerticalElse("left", "top")] = "", this.thumb[1].current.style[this.ifVerticalElse("left", "top")] = "";
  }
  // thumb width & height values are to be synced with the CSS values for correct calculation of
  // thumb position and range width & position
  // Called when,
  // -> setValue is called and a value is set (called before updateThumbs() and updateRange())
  // -> thumb / range drag is initiated
  // -> window is resized
  syncThumbDimensions() {
    this.iterateMinMaxProps((e) => {
      this.thumbWidth[e] = xy(window.getComputedStyle(this.thumb[this.index[e]].current).width), this.thumbHeight[e] = xy(window.getComputedStyle(this.thumb[this.index[e]].current).height);
    });
  }
  // thumb position calculation depending upon the pointer position
  currentPosition(e, n) {
    const r = this.element.current.getBoundingClientRect(), o = n.getBoundingClientRect(), l = (this.ifVerticalElse(o.top - r.top, o.left - r.left) + (e["client".concat(this.ifVerticalElse("Y", "X"))] - n.getBoundingClientRect()[this.ifVerticalElse("top", "left")]) - (this.thumbDrag ? (0.5 - (this.value[this.thumbDrag] - this.options.min) / this.maxRangeWidth) * this.ifVerticalElse(this.thumbHeight, this.thumbWidth)[this.thumbDrag] : 0)) / this.ifVerticalElse(r.bottom - r.top, r.right - r.left) * this.maxRangeWidth + this.options.min;
    return l < this.options.min ? this.options.min : l > this.options.max ? this.options.max : l;
  }
  doesntHaveClassName(e, n) {
    return !e.target.classList.contains(n);
  }
  elementFocused(e) {
    let n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0, r = !1;
    if (!this.options.disabled && (this.doesntHaveClassName(e, "range-slider__thumb") && this.doesntHaveClassName(e, "range-slider__range") || this.options.rangeSlideDisabled && this.doesntHaveClassName(e, "range-slider__thumb")) && (r = !0), r && this.options.thumbsDisabled[0] && this.options.thumbsDisabled[1] && (r = !1), r) {
      const o = this.currentPosition(e, this.range.current), l = UM(this.value.min - o), h = UM(this.value.max - o);
      if (this.options.thumbsDisabled[0])
        o >= this.value.min && (this.setValue(this.setMinMaxProps(this.value.min, o), !0, !n), this.initiateThumbDrag(e, this.index.max, this.thumb[this.index.max].current, !n));
      else if (this.options.thumbsDisabled[1])
        o <= this.value.max && (this.setValue(this.setMinMaxProps(o, this.value.max), !0, !n), this.initiateThumbDrag(e, this.index.min, this.thumb[this.index.min].current, !n));
      else {
        let d = this.index.max;
        l === h ? this.setValue(this.setMinMaxProps(this.value.min, o), !0, !n) : (this.setValue(this.setMinMaxProps(l < h ? o : this.value.min, h < l ? o : this.value.max), !0, !n), d = l < h ? this.index.min : this.index.max), this.initiateThumbDrag(e, d, this.thumb[d].current, !n);
      }
      n && this.elementFocused(e, !1);
    }
  }
  initiateDrag(e, n) {
    this.syncThumbDimensions(), this.setNodeAttribute(n, G1), this.startPos = this.currentPosition(e, n), this.isDragging = !0;
  }
  initiateThumbDrag(e, n, r) {
    let o = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !0;
    !this.options.disabled && !this.options.thumbsDisabled[this.currentIndex(n)] && (this.initiateDrag(e, r), this.thumbDrag = this.index.min === n ? Xm : U1, o && this.options.onThumbDragStart && this.options.onThumbDragStart());
  }
  initiateRangeDrag(e) {
    !this.options.disabled && !this.options.rangeSlideDisabled && (this.initiateDrag(e, this.range.current), this.rangeWidth = this.value.max - this.value.min, this.thumbDrag = !1, this.options.onRangeDragStart && this.options.onRangeDragStart());
  }
  drag(e) {
    if (this.isDragging) {
      const n = this.currentPosition(e, this.range.current), r = n - this.startPos;
      let o = this.value.min, l = this.value.max;
      const h = this.thumbDrag ? this.rangeLimits.min : this.options.min, d = this.thumbDrag ? this.rangeLimits.max : this.options.max;
      (!this.thumbDrag || this.thumbDrag === Xm) && (o = this.thumbDrag ? n : this.sliderValue.min + r), (!this.thumbDrag || this.thumbDrag === U1) && (l = this.thumbDrag ? n : this.sliderValue.max + r), o >= h && o <= d && l >= h && l <= d ? (this.setValue({
        min: o,
        max: l
      }), this.startPos = n) : (o > d && this.thumbDrag && (this.setValue(this.setMinMaxProps(d, d)), this.startPos = n), l < h && this.thumbDrag && (this.setValue(this.setMinMaxProps(h, h)), this.startPos = n), o < h && (this.thumbDrag ? this.setValue(this.setMinMaxProps(h, this.value.max)) : this.setValue(this.setMinMaxProps(h, this.value.max - this.value.min + h)), this.startPos = n), l > d && (this.thumbDrag ? this.setValue(this.setMinMaxProps(this.value.min, d)) : this.setValue(this.setMinMaxProps(this.value.min - this.value.max + d, d)), this.startPos = n)), this.thumbDrag || this.updateRangeLimits();
    }
  }
  actualStepValue() {
    const e = xy(this.input[0].current.step);
    return this.input[0].current.step === Cy ? Cy : e === 0 || isNaN(e) ? 1 : e;
  }
  // Step value (up or down) using arrow keys
  stepValue(e, n) {
    const r = (n === 37 || n === 40 ? -1 : 1) * this.ifVerticalElse(-1, 1);
    if (!this.options.disabled && !this.options.thumbsDisabled[this.currentIndex(e)]) {
      let o = this.actualStepValue();
      o = o === Cy ? 1 : o;
      let l = this.value.min + o * (this.index.min === e ? r : 0), h = this.value.max + o * (this.index.max === e ? r : 0);
      l > this.rangeLimits.max && (l = this.rangeLimits.max), h < this.rangeLimits.min && (h = this.rangeLimits.min), this.setValue({
        min: l,
        max: h
      }, !0);
    }
  }
  render() {
    return this.fallbackToDefault("rangeSlideDisabled", !1), this.fallbackToDefault("thumbsDisabled", [!1, !1]), this.fallbackToDefault("orientation", "horizontal"), this.fallbackToDefault("defaultValue", [25, 75]), this.fallbackToDefault("disabled", !1), this.fallbackToDefault("onThumbDragStart", !1), this.fallbackToDefault("onRangeDragStart", !1), this.fallbackToDefault("onThumbDragEnd", !1), this.fallbackToDefault("onRangeDragEnd", !1), this.fallbackToDefault("onInput", !1), this.fallbackToDefault("step", 1), this.fallbackToDefault("min", 0), this.fallbackToDefault("max", 100), this.props.value && this.fallbackToDefault("value", [25, 75]), this.safeMinMaxValues(), this.safeThumbsDisabledValues(), /* @__PURE__ */ Di.default.createElement("div", {
      "data-testid": "element",
      id: this.props.id,
      ref: this.element,
      className: (0, Ane.default)("range-slider", this.props.className)
    }, /* @__PURE__ */ Di.default.createElement("input", {
      ref: this.input[0],
      type: "range",
      min: this.options.min,
      max: this.options.max,
      step: this.options.step,
      value: this.props.value ? this.options.value[0] : this.isComponentMounted ? this.value.min : this.options.defaultValue[0],
      onChange: () => {
      },
      disabled: !0
    }), /* @__PURE__ */ Di.default.createElement("input", {
      ref: this.input[1],
      type: "range",
      min: this.options.min,
      max: this.options.max,
      step: this.options.step,
      value: this.props.value ? this.options.value[1] : this.isComponentMounted ? this.value.max : this.options.defaultValue[1],
      onChange: () => {
      },
      disabled: !0
    }), /* @__PURE__ */ Di.default.createElement("div", {
      ref: this.thumb[0],
      role: "slider",
      className: "range-slider__thumb",
      "data-lower": !0
    }), /* @__PURE__ */ Di.default.createElement("div", {
      ref: this.thumb[1],
      role: "slider",
      className: "range-slider__thumb",
      "data-upper": !0
    }), /* @__PURE__ */ Di.default.createElement("div", {
      ref: this.range,
      className: "range-slider__range"
    }));
  }
}
var Bne = Rne;
x0.default = Bne;
Object.defineProperty(nC, "__esModule", {
  value: !0
});
var gE = nC.default = void 0, One = Lne(x0);
function Lne(a) {
  return a && a.__esModule ? a : { default: a };
}
var jne = One.default;
gE = nC.default = jne;
function Dne(a, e, n) {
  var r = this, o = Ke.useRef(null), l = Ke.useRef(0), h = Ke.useRef(null), d = Ke.useRef([]), p = Ke.useRef(), g = Ke.useRef(), v = Ke.useRef(a), y = Ke.useRef(!0);
  v.current = a;
  var x = typeof window < "u", w = !e && e !== 0 && x;
  if (typeof a != "function")
    throw new TypeError("Expected a function");
  e = +e || 0;
  var T = !!(n = n || {}).leading, M = !("trailing" in n) || !!n.trailing, S = "maxWait" in n, L = "debounceOnServer" in n && !!n.debounceOnServer, F = S ? Math.max(+n.maxWait || 0, e) : null;
  Ke.useEffect(function() {
    return y.current = !0, function() {
      y.current = !1;
    };
  }, []);
  var G = Ke.useMemo(function() {
    var $ = function(ne) {
      var se = d.current, oe = p.current;
      return d.current = p.current = null, l.current = ne, g.current = v.current.apply(oe, se);
    }, K = function(ne, se) {
      w && cancelAnimationFrame(h.current), h.current = w ? requestAnimationFrame(ne) : setTimeout(ne, se);
    }, q = function(ne) {
      if (!y.current)
        return !1;
      var se = ne - o.current;
      return !o.current || se >= e || se < 0 || S && ne - l.current >= F;
    }, he = function(ne) {
      return h.current = null, M && d.current ? $(ne) : (d.current = p.current = null, g.current);
    }, ae = function ne() {
      var se = Date.now();
      if (q(se))
        return he(se);
      if (y.current) {
        var oe = e - (se - o.current), J = S ? Math.min(oe, F - (se - l.current)) : oe;
        K(ne, J);
      }
    }, ve = function() {
      if (x || L) {
        var ne = Date.now(), se = q(ne);
        if (d.current = [].slice.call(arguments), p.current = r, o.current = ne, se) {
          if (!h.current && y.current)
            return l.current = o.current, K(ae, e), T ? $(o.current) : g.current;
          if (S)
            return K(ae, e), $(o.current);
        }
        return h.current || K(ae, e), g.current;
      }
    };
    return ve.cancel = function() {
      h.current && (w ? cancelAnimationFrame(h.current) : clearTimeout(h.current)), l.current = 0, d.current = o.current = p.current = h.current = null;
    }, ve.isPending = function() {
      return !!h.current;
    }, ve.flush = function() {
      return h.current ? he(Date.now()) : g.current;
    }, ve;
  }, [T, S, e, F, M, w, x, L]);
  return G;
}
function Fne(a, e) {
  return a === e;
}
function kne(a, e) {
  return e;
}
function Xne(a, e, n) {
  var r = Fne, o = Ke.useReducer(kne, a), l = o[0], h = o[1], d = Dne(Ke.useCallback(function(g) {
    return h(g);
  }, [h]), e, n), p = Ke.useRef(a);
  return r(p.current, a) || (d(a), p.current = a), [l, d];
}
const zne = Ke.memo(() => /* @__PURE__ */ Oe.jsx("div", { className: "flex h-5 items-center rounded-xl bg-grey-700 px-2 text-xs text-grey-100 hover:bg-primary-700 hover:text-primary-300 disabled:bg-grey-700 disabled:text-grey-900", children: "Reset" })), Une = Ke.memo(({ data: a }) => {
  var M;
  const [e, n] = Ke.useContext(li), r = (M = e[Ht.GUI_Slider]) == null ? void 0 : M.data, o = Ke.useRef(null), { name: l, defaultValue: h, min: d, max: p } = a, [g] = oo(l, l), [v, y] = Ke.useState(h / (p - d)), [x] = Xne(v, 300), w = ([, S]) => {
    y(S);
  }, T = (S) => {
    const L = Number(S.target.value) / (p - d);
    y(L);
  };
  return Ke.useEffect(() => {
    o.current && (o.current.value = String((d + p * v).toFixed(2)));
  }, [v]), Ke.useEffect(() => {
    if (r) {
      const S = [...r].map((L) => (L.name === l && (L.value = x), L));
      n({ type: Ht.GUI_Slider, state: { data: S } });
    }
  }, [x]), /* @__PURE__ */ Oe.jsxs("div", { className: "flex w-full flex-col space-y-0 text-sm font-bold text-white", children: [
    /* @__PURE__ */ Oe.jsxs("div", { className: "flex w-full items-center space-x-2", children: [
      /* @__PURE__ */ Oe.jsx("span", { children: g }),
      /* @__PURE__ */ Oe.jsx(
        si,
        {
          disabled: h / (p - d) === v,
          onClick: () => {
            y(h / (p - d));
          },
          children: /* @__PURE__ */ Oe.jsx(zne, {})
        }
      )
    ] }),
    /* @__PURE__ */ Oe.jsxs("div", { className: "flex w-full items-center space-x-4", children: [
      /* @__PURE__ */ Oe.jsx("div", { className: "flex-1", children: /* @__PURE__ */ Oe.jsx(
        gE,
        {
          value: [0, v],
          onInput: w,
          min: 0,
          max: 1,
          step: 0.01,
          className: "single-thumb",
          defaultValue: [0, h / (p - d)],
          thumbsDisabled: [!0, !1],
          rangeSlideDisabled: !0
        }
      ) }),
      /* @__PURE__ */ Oe.jsx("div", { className: "flex h-9 w-20 items-center gap-x-1 rounded border border-grey-700 bg-grey-900 px-2", children: /* @__PURE__ */ Oe.jsx(
        "input",
        {
          ref: o,
          type: "number",
          defaultValue: h,
          className: "h-full w-full flex-grow bg-transparent text-grey-250 outline-none placeholder:text-grey-400",
          max: p,
          min: d,
          step: p / 100,
          onChange: T
        }
      ) })
    ] })
  ] });
}), Gne = Ke.memo(({ data: a }) => {
  const [, e] = Ke.useContext(li), [n] = oo(a.name, a.name), r = (o) => {
    e({ type: Ht.GUI_temperature, state: { index: parseInt(o.target.value) } });
  };
  return /* @__PURE__ */ Oe.jsxs("div", { className: "w-full", children: [
    /* @__PURE__ */ Oe.jsx("h5", { className: "mb-2 text-base font-bold text-white", children: n }),
    /* @__PURE__ */ Oe.jsx("div", { className: "my-4 flex h-11 w-full items-center rounded border border-grey-700 px-4", children: /* @__PURE__ */ Oe.jsx(
      "select",
      {
        className: "w-full flex-grow overflow-hidden bg-transparent text-sm text-grey-400 outline-none placeholder:overflow-visible placeholder:text-grey-400",
        defaultValue: a.index,
        onChange: r,
        children: a.data.map((o, l) => /* @__PURE__ */ Oe.jsx("option", { value: l, children: o.name }, o.name + l))
      }
    ) })
  ] });
}), V1 = {
  Slider: Une,
  Color: JK,
  Panorama: eZ,
  Temperature: Gne
}, Wne = Ke.memo(({ title: a }) => {
  const [e, n] = Ke.useContext(Vu), { drawer: r } = e;
  return /* @__PURE__ */ Oe.jsx("div", { className: "absolute -right-0 -top-10 flex h-10 w-72 items-center justify-center rounded border-y border-l border-r border-grey-800 bg-grey-900 md:-right-5 md:-top-0 md:h-[108px] md:w-8 md:rounded-r-[20px] md:border-y-0 md:border-l-0", children: /* @__PURE__ */ Oe.jsxs(
    si,
    {
      className: "flex h-full w-full items-center justify-between px-5 text-white hover:text-primary-400 md:w-8 md:p-0",
      onClick: () => n((o) => ({
        ...o,
        drawer: o.drawer === zc.Open ? zc.Close : zc.Open
      })),
      children: [
        /* @__PURE__ */ Oe.jsx("span", { className: "block md:hidden", children: a }),
        /* @__PURE__ */ Oe.jsx(
          YS,
          {
            className: ma(
              "hidden h-6 w-6 font-bold md:block",
              r ? "rotate-180" : "rotate-0"
            )
          }
        ),
        /* @__PURE__ */ Oe.jsx(
          O8,
          {
            className: ma(
              "block h-6 w-6 font-bold md:hidden",
              r ? "rotate-0" : "rotate-180"
            )
          }
        )
      ]
    }
  ) });
}), Vne = Ke.memo(({ children: a }) => {
  const [e] = Ke.useContext(Vu), { drawer: n } = e, [r] = oo("3dViewerEditor", "3D viewer editor");
  return /* @__PURE__ */ Oe.jsxs(
    "div",
    {
      className: ma(
        "pointer-events-none relative top-12 z-10 h-full w-[310px] md:top-0 [&>*]:pointer-events-auto",
        n === zc.Open ? "md:left-0 md:w-[340px]" : "md:-left-[0px] md:w-6"
      ),
      children: [
        /* @__PURE__ */ Oe.jsx(
          "div",
          {
            className: ma(
              "pointer-events-none absolute left-0 top-0 h-full w-full border-r border-grey-800 bg-grey-900 md:block",
              n === zc.Open ? "" : "hidden"
            )
          }
        ),
        /* @__PURE__ */ Oe.jsx(Wne, { title: r }),
        /* @__PURE__ */ Oe.jsxs(
          "div",
          {
            className: ma(
              "no-scrollbar relative h-[calc(100%-48px)] w-full overflow-y-scroll py-6 pl-3 pr-6 md:h-full md:pl-10",
              n === zc.Open ? "" : "hidden"
            ),
            children: [
              /* @__PURE__ */ Oe.jsx("h1", { className: "my-1 hidden text-base font-black text-white md:block", children: r }),
              /* @__PURE__ */ Oe.jsx("div", { className: "flex flex-col space-y-3 py-2", children: a })
            ]
          }
        )
      ]
    }
  );
}), H1 = () => /* @__PURE__ */ Oe.jsx("div", { className: "w-full py-6", children: /* @__PURE__ */ Oe.jsx("hr", { className: "w-full border-grey-600" }) }), Hne = Ke.memo(({ children: a }) => {
  const [e] = Ke.useContext(li), [n] = Ke.useContext(Vu), r = e[Ht.GUI_Slider], o = e[Ht.GUI_Panorama], l = e[Ht.GUI_temperature];
  return /* @__PURE__ */ Oe.jsxs("div", { className: "h-full w-full flex-row md:flex", children: [
    /* @__PURE__ */ Oe.jsxs(Vne, { children: [
      r && r.data.map((h) => /* @__PURE__ */ Oe.jsx(V1.Slider, { data: h }, h.name)),
      /* @__PURE__ */ Oe.jsx(H1, {}),
      /* @__PURE__ */ Oe.jsx(V1.Color, {}),
      /* @__PURE__ */ Oe.jsx(H1, {}),
      o && /* @__PURE__ */ Oe.jsx(V1.Panorama, { data: o }),
      /* @__PURE__ */ Oe.jsx(H1, {}),
      l && /* @__PURE__ */ Oe.jsx(V1.Temperature, { data: l }),
      /* @__PURE__ */ Oe.jsx(H1, {}),
      /* @__PURE__ */ Oe.jsx("div", { className: "flex w-full justify-center", children: /* @__PURE__ */ Oe.jsx(
        si,
        {
          onClick: () => {
            var d;
            const h = (d = n.domElement) == null ? void 0 : d.toDataURL("image/png", 1);
            if (h) {
              const p = document.createElement("a");
              p.download = "frontier-3d-viewer.png", p.href = h, p.setAttribute("target", "_blank"), p.click();
            }
          },
          children: /* @__PURE__ */ Oe.jsx(si.Screenshot, {})
        }
      ) })
    ] }),
    /* @__PURE__ */ Oe.jsx("div", { className: "absolute top-0 h-full w-full overflow-hidden md:relative md:flex-1", children: a })
  ] });
});
var bE = {}, vC = {}, N0 = {};
Object.defineProperty(N0, "__esModule", { value: !0 });
N0.Status = void 0;
var qM;
(function(a) {
  a[a.unload = 0] = "unload", a[a.loading = 1] = "loading", a[a.loaded = 2] = "loaded";
})(qM || (N0.Status = qM = {}));
var Zg = Dr && Dr.__assign || function() {
  return Zg = Object.assign || function(a) {
    for (var e, n = 1, r = arguments.length; n < r; n++) {
      e = arguments[n];
      for (var o in e)
        Object.prototype.hasOwnProperty.call(e, o) && (a[o] = e[o]);
    }
    return a;
  }, Zg.apply(this, arguments);
}, $ne = Dr && Dr.__spreadArray || function(a, e, n) {
  if (n || arguments.length === 2)
    for (var r = 0, o = e.length, l; r < o; r++)
      (l || !(r in e)) && (l || (l = Array.prototype.slice.call(e, 0, r)), l[r] = e[r]);
  return a.concat(l || Array.prototype.slice.call(e));
};
Object.defineProperty(vC, "__esModule", { value: !0 });
var $1 = N0, YM = {
  hideBeforeLoaded: !0,
  onUpdate: function(a) {
  }
}, qne = (
  /** @class */
  function() {
    function a() {
      this.index = 0, this.result = [];
    }
    return a.prototype.load = function(e, n) {
      var r = this;
      if (n === void 0 && (n = YM), !e)
        return new Promise(function(y) {
          y({ total: 0, loaded: 0 });
        });
      var o = Zg(Zg({}, YM), n), l = o.onUpdate, h = o.hideBeforeLoaded, d = this.getStyle(e, "display") === "flex" ? "flex" : "block";
      h && (e.style.display = "none");
      var p = Array.from(e.querySelectorAll("*")), g = $ne([e], p, !0);
      g.forEach(function(y, x) {
        var w = y.tagName, T = y.getAttribute("src"), M = r.getStyle(y, "background-image").replace(/url\((['"])?(.*?)\1\)/gi, "$2"), S = r.getStyle(y, "-webkit-mask-image").replace(/url\((['"])?(.*?)\1\)/gi, "$2"), L = $1.Status.unload;
        return w === "IMG" && T ? (r.result.push({ url: T, index: x, status: L }), !0) : w === "DIV" && M !== "none" ? (M.includes("gradient") || r.result.push({ url: M, index: x, status: L }), !0) : (w === "DIV" && S !== "none" && r.result.push({ url: S, index: x, status: L }), !1);
      });
      var v = function(y) {
        var x = y.resolve, w = x === void 0 ? function(K) {
          return console.log(K);
        } : x, T = y.reject, M = T === void 0 ? function(K) {
          return console.log(K);
        } : T;
        if (r.result.length === 0) {
          h && (e.style.display = d), w({ total: 0, loaded: 0 });
          return;
        }
        var S = r.result[r.index], L = r.result.length, F = S.url, G = S.index;
        S.status = $1.Status.loading;
        var $ = new Image();
        $.onload = function() {
          S.status = $1.Status.loaded;
          var K = r.result.filter(function(q) {
            return q.status === $1.Status.loaded;
          }).length;
          L === K ? (h && (e.style.display = d), requestAnimationFrame(function() {
            return w({ url: F, total: L, loaded: K, index: G });
          })) : (l({ url: F, total: L, loaded: K, index: G }), r.index++, v({ resolve: w, reject: M }));
        }, $.src = F;
      };
      return new Promise(function(y, x) {
        v({ resolve: y, reject: x });
      });
    }, a.prototype.getStyle = function(e, n) {
      var r, o = e.ownerDocument.defaultView;
      return o && o.getComputedStyle ? (n = n.replace(/([A-Z])/g, "-$1").toLowerCase(), o.getComputedStyle(e, null).getPropertyValue(n)) : e.currentStyle ? (n = n.replace(/\-(\w)/g, function(l, h) {
        return h.toUpperCase();
      }), r = e.currentStyle[n], r) : "";
    }, a;
  }()
);
vC.default = qne;
var Jg = Dr && Dr.__assign || function() {
  return Jg = Object.assign || function(a) {
    for (var e, n = 1, r = arguments.length; n < r; n++) {
      e = arguments[n];
      for (var o in e)
        Object.prototype.hasOwnProperty.call(e, o) && (a[o] = e[o]);
    }
    return a;
  }, Jg.apply(this, arguments);
}, Yne = Dr && Dr.__importDefault || function(a) {
  return a && a.__esModule ? a : { default: a };
};
Object.defineProperty(bE, "__esModule", { value: !0 });
var Kne = Yne(vC), q1 = zu(), Zne = function(a) {
  var e = a.children, n = a.hideBeforeLoaded, r = n === void 0 ? !0 : n, o = a.onStep, l = o === void 0 ? function() {
  } : o, h = a.onload, d = h === void 0 ? function() {
  } : h, p = (0, q1.useRef)();
  return (0, q1.useEffect)(function() {
    p.current && new Kne.default().load(p.current, {
      hideBeforeLoaded: r,
      onUpdate: function(g) {
        return l == null ? void 0 : l(g);
      }
    }).then(function(g) {
      d == null || d(g);
    });
  }, []), q1.Children.map(e, function(g) {
    return (0, q1.cloneElement)(g, Jg(Jg({}, g.props), { ref: p }));
  });
}, vE = bE.default = Zne;
const Jne = Ke.memo(() => {
  const [a, e] = Ke.useContext(li), n = a[Ht.UserProps] || null, { texture: r } = n || { texture: { base: "" } }, o = a[Ht.ImagePicker] || "base", l = Ke.useMemo(() => {
    if (n) {
      const h = {
        base: r.base
      };
      return r.dispImgUrl && (h.dispImgUrl = r.dispImgUrl), r.roughImgUrl && (h.roughImgUrl = r.roughImgUrl), r.normalImgUrl && (h.normalImgUrl = r.normalImgUrl), r.alpha && (h.alpha = r.alpha), r.bump && (h.bump = r.bump), o !== "bumpScale" && o !== "mapScale" && o !== "defaultMapScale" && o !== "dpi" && o !== "color" && o !== "normalScale" ? h[o] : "";
    }
    return "";
  }, [n, o]);
  return Ke.useEffect(() => {
    e({ type: Ht.LoadingProcess, state: { enabled: !0 } });
  }, [l]), /* @__PURE__ */ Oe.jsxs("div", { className: "relative flex h-full w-full items-center justify-center", children: [
    /* @__PURE__ */ Oe.jsx("div", { className: "absolute left-0 top-0 h-full w-full bg-grey-800 opacity-50" }),
    /* @__PURE__ */ Oe.jsx(
      vE,
      {
        onload: () => e({ type: Ht.LoadingProcess, state: { enabled: !1 } }),
        children: /* @__PURE__ */ Oe.jsx(
          "img",
          {
            src: l,
            alt: "2d Material",
            className: "relative max-h-[75%] max-w-[75%] select-none",
            draggable: !1
          }
        )
      },
      l
    )
  ] });
});
var yE = { exports: {} };
(function(a) {
  (function() {
    function e(ne) {
      if (ne = ne || {}, this.method = ne.method || 2, this.colors = ne.colors || 256, this.initColors = ne.initColors || 4096, this.initDist = ne.initDist || 0.01, this.distIncr = ne.distIncr || 5e-3, this.hueGroups = ne.hueGroups || 10, this.satGroups = ne.satGroups || 10, this.lumGroups = ne.lumGroups || 10, this.minHueCols = ne.minHueCols || 0, this.hueStats = this.minHueCols ? new n(this.hueGroups, this.minHueCols) : null, this.boxSize = ne.boxSize || [64, 64], this.boxPxls = ne.boxPxls || 2, this.palLocked = !1, this.dithKern = ne.dithKern || null, this.dithSerp = ne.dithSerp || !1, this.dithDelta = ne.dithDelta || 0, this.histogram = {}, this.idxrgb = ne.palette ? ne.palette.slice(0) : [], this.idxi32 = [], this.i32idx = {}, this.i32rgb = {}, this.useCache = ne.useCache !== !1, this.cacheFreq = ne.cacheFreq || 10, this.reIndex = ne.reIndex || this.idxrgb.length == 0, this.colorDist = ne.colorDist == "manhattan" ? w : y, this.idxrgb.length > 0) {
        var se = this;
        this.idxrgb.forEach(function(oe, J) {
          var pe = (-16777216 | // alpha
          oe[2] << 16 | // blue
          oe[1] << 8 | // green
          oe[0]) >>> 0;
          se.idxi32[J] = pe, se.i32idx[pe] = J, se.i32rgb[pe] = oe;
        });
      }
    }
    e.prototype.sample = function(se, oe) {
      if (this.palLocked)
        throw "Cannot sample additional images, palette already assembled.";
      var J = q(se, oe);
      switch (this.method) {
        case 1:
          this.colorStats1D(J.buf32);
          break;
        case 2:
          this.colorStats2D(J.buf32, J.width);
          break;
      }
    }, e.prototype.reduce = function(se, oe, J, pe) {
      if (this.palLocked || this.buildPal(), J = J || this.dithKern, pe = typeof pe < "u" ? pe : this.dithSerp, oe = oe || 1, J)
        var be = this.dither(se, J, pe);
      else
        for (var fe = q(se), de = fe.buf32, Fe = de.length, be = new Uint32Array(Fe), Be = 0; Be < Fe; Be++) {
          var _e = de[Be];
          be[Be] = this.nearestColor(_e);
        }
      if (oe == 1)
        return new Uint8Array(be.buffer);
      if (oe == 2) {
        for (var Xe = [], Fe = be.length, Be = 0; Be < Fe; Be++) {
          var _e = be[Be];
          Xe[Be] = this.i32idx[_e];
        }
        return Xe;
      }
    }, e.prototype.dither = function(ne, se, oe) {
      var J = {
        FloydSteinberg: [
          [0.4375, 1, 0],
          [0.1875, -1, 1],
          [0.3125, 0, 1],
          [0.0625, 1, 1]
        ],
        FalseFloydSteinberg: [
          [0.375, 1, 0],
          [0.375, 0, 1],
          [0.25, 1, 1]
        ],
        Stucki: [
          [0.19047619047619047, 1, 0],
          [0.09523809523809523, 2, 0],
          [0.047619047619047616, -2, 1],
          [0.09523809523809523, -1, 1],
          [0.19047619047619047, 0, 1],
          [0.09523809523809523, 1, 1],
          [0.047619047619047616, 2, 1],
          [0.023809523809523808, -2, 2],
          [0.047619047619047616, -1, 2],
          [0.09523809523809523, 0, 2],
          [0.047619047619047616, 1, 2],
          [0.023809523809523808, 2, 2]
        ],
        Atkinson: [
          [0.125, 1, 0],
          [0.125, 2, 0],
          [0.125, -1, 1],
          [0.125, 0, 1],
          [0.125, 1, 1],
          [0.125, 0, 2]
        ],
        Jarvis: [
          // Jarvis, Judice, and Ninke / JJN?
          [0.14583333333333334, 1, 0],
          [0.10416666666666667, 2, 0],
          [0.0625, -2, 1],
          [0.10416666666666667, -1, 1],
          [0.14583333333333334, 0, 1],
          [0.10416666666666667, 1, 1],
          [0.0625, 2, 1],
          [0.020833333333333332, -2, 2],
          [0.0625, -1, 2],
          [0.10416666666666667, 0, 2],
          [0.0625, 1, 2],
          [0.020833333333333332, 2, 2]
        ],
        Burkes: [
          [0.25, 1, 0],
          [0.125, 2, 0],
          [0.0625, -2, 1],
          [0.125, -1, 1],
          [0.25, 0, 1],
          [0.125, 1, 1],
          [0.0625, 2, 1]
        ],
        Sierra: [
          [0.15625, 1, 0],
          [0.09375, 2, 0],
          [0.0625, -2, 1],
          [0.125, -1, 1],
          [0.15625, 0, 1],
          [0.125, 1, 1],
          [0.0625, 2, 1],
          [0.0625, -1, 2],
          [0.09375, 0, 2],
          [0.0625, 1, 2]
        ],
        TwoSierra: [
          [0.25, 1, 0],
          [0.1875, 2, 0],
          [0.0625, -2, 1],
          [0.125, -1, 1],
          [0.1875, 0, 1],
          [0.125, 1, 1],
          [0.0625, 2, 1]
        ],
        SierraLite: [
          [0.5, 1, 0],
          [0.25, -1, 1],
          [0.25, 0, 1]
        ]
      };
      if (!se || !J[se])
        throw "Unknown dithering kernel: " + se;
      var pe = J[se], be = q(ne), fe = be.buf32, de = be.width, Fe = be.height;
      fe.length;
      for (var Be = oe ? -1 : 1, _e = 0; _e < Fe; _e++) {
        oe && (Be = Be * -1);
        for (var Xe = _e * de, De = Be == 1 ? 0 : de - 1, ft = Be == 1 ? de : 0; De !== ft; De += Be) {
          var gt = Xe + De, Lt = fe[gt], Nt = Lt & 255, Mt = (Lt & 65280) >> 8, qt = (Lt & 16711680) >> 16, Xt = this.nearestColor(Lt), Gt = Xt & 255, Pn = (Xt & 65280) >> 8, at = (Xt & 16711680) >> 16;
          if (fe[gt] = 255 << 24 | // alpha
          at << 16 | // blue
          Pn << 8 | // green
          Gt, this.dithDelta) {
            var sr = this.colorDist([Nt, Mt, qt], [Gt, Pn, at]);
            if (sr < this.dithDelta)
              continue;
          }
          for (var _r = Nt - Gt, Er = Mt - Pn, th = qt - at, Wo = Be == 1 ? 0 : pe.length - 1, vs = Be == 1 ? pe.length : 0; Wo !== vs; Wo += Be) {
            var ys = pe[Wo][1] * Be, xa = pe[Wo][2], Il = xa * de;
            if (ys + De >= 0 && ys + De < de && xa + _e >= 0 && xa + _e < Fe) {
              var Ca = pe[Wo][0], uo = gt + (Il + ys), Al = fe[uo] & 255, _a = (fe[uo] & 65280) >> 8, xi = (fe[uo] & 16711680) >> 16, Ei = Math.max(0, Math.min(255, Al + _r * Ca)), Vo = Math.max(0, Math.min(255, _a + Er * Ca)), Ho = Math.max(0, Math.min(255, xi + th * Ca));
              fe[uo] = 255 << 24 | // alpha
              Ho << 16 | // blue
              Vo << 8 | // green
              Ei;
            }
          }
        }
      }
      return fe;
    }, e.prototype.buildPal = function(se) {
      if (!(this.palLocked || this.idxrgb.length > 0 && this.idxrgb.length <= this.colors)) {
        var oe = this.histogram, J = ve(oe);
        if (J.length == 0)
          throw "Nothing has been sampled, palette cannot be built.";
        switch (this.method) {
          case 1:
            for (var pe = this.initColors, be = J[pe - 1], fe = oe[be], Be = J.slice(0, pe), de = pe, Fe = J.length; de < Fe && oe[J[de]] == fe; )
              Be.push(J[de++]);
            this.hueStats && this.hueStats.inject(Be);
            break;
          case 2:
            var Be = J;
            break;
        }
        Be = Be.map(function(_e) {
          return +_e;
        }), this.reducePal(Be), !se && this.reIndex && this.sortPal(), this.useCache && this.cacheHistogram(Be), this.palLocked = !0;
      }
    }, e.prototype.palette = function(se, oe) {
      return this.buildPal(oe), se ? this.idxrgb : new Uint8Array(new Uint32Array(this.idxi32).buffer);
    }, e.prototype.prunePal = function(se) {
      for (var oe, J = 0; J < this.idxrgb.length; J++)
        se[J] || (oe = this.idxi32[J], this.idxrgb[J] = null, this.idxi32[J] = null, delete this.i32idx[oe]);
      if (this.reIndex) {
        for (var pe = [], be = [], fe = {}, J = 0, de = 0; J < this.idxrgb.length; J++)
          this.idxrgb[J] && (oe = this.idxi32[J], pe[de] = this.idxrgb[J], fe[oe] = de, be[de] = oe, de++);
        this.idxrgb = pe, this.idxi32 = be, this.i32idx = fe;
      }
    }, e.prototype.reducePal = function(se) {
      if (this.idxrgb.length > this.colors) {
        for (var oe = se.length, J = {}, pe = 0, be, fe = !1, de = 0; de < oe; de++)
          pe == this.colors && !fe && (this.prunePal(J), fe = !0), be = this.nearestIndex(se[de]), pe < this.colors && !J[be] && (J[be] = !0, pe++);
        fe || (this.prunePal(J), fe = !0);
      } else {
        var Fe = se.map(function(Xt) {
          return [
            Xt & 255,
            (Xt & 65280) >> 8,
            (Xt & 16711680) >> 16
          ];
        }), oe = Fe.length, Be = oe, _e = this.initDist;
        if (Be > this.colors) {
          for (; Be > this.colors; ) {
            for (var Xe = [], de = 0; de < oe; de++) {
              var De = Fe[de];
              if (se[de], !!De)
                for (var ft = de + 1; ft < oe; ft++) {
                  var gt = Fe[ft], Lt = se[ft];
                  if (gt) {
                    var Nt = this.colorDist(De, gt);
                    Nt < _e && (Xe.push([ft, gt, Lt, Nt]), delete Fe[ft], Be--);
                  }
                }
            }
            _e += Be > this.colors * 3 ? this.initDist : this.distIncr;
          }
          if (Be < this.colors) {
            G.call(Xe, function(Xt, Gt) {
              return Gt[3] - Xt[3];
            });
            for (var Mt = 0; Be < this.colors; )
              Fe[Xe[Mt][0]] = Xe[Mt][1], Be++, Mt++;
          }
        }
        for (var oe = Fe.length, de = 0; de < oe; de++)
          Fe[de] && (this.idxrgb.push(Fe[de]), this.idxi32.push(se[de]), this.i32idx[se[de]] = this.idxi32.length - 1, this.i32rgb[se[de]] = Fe[de]);
      }
    }, e.prototype.colorStats1D = function(se) {
      for (var oe = this.histogram, J, pe = se.length, be = 0; be < pe; be++)
        J = se[be], (J & 4278190080) >> 24 && (this.hueStats && this.hueStats.check(J), J in oe ? oe[J]++ : oe[J] = 1);
    }, e.prototype.colorStats2D = function(se, oe) {
      var J = this.boxSize[0], pe = this.boxSize[1], be = J * pe, fe = he(oe, se.length / oe, J, pe), de = this.histogram, Fe = this;
      fe.forEach(function(Be) {
        var _e = Math.max(Math.round(Be.w * Be.h / be) * Fe.boxPxls, 2), Xe = {}, De;
        ae(Be, oe, function(ft) {
          De = se[ft], (De & 4278190080) >> 24 && (Fe.hueStats && Fe.hueStats.check(De), De in de ? de[De]++ : De in Xe ? ++Xe[De] >= _e && (de[De] = Xe[De]) : Xe[De] = 1);
        });
      }), this.hueStats && this.hueStats.inject(de);
    }, e.prototype.sortPal = function() {
      var se = this;
      this.idxi32.sort(function(oe, J) {
        var pe = se.i32idx[oe], be = se.i32idx[J], fe = se.idxrgb[pe], de = se.idxrgb[be], Fe = T(fe[0], fe[1], fe[2]), Be = T(de[0], de[1], de[2]), _e = fe[0] == fe[1] && fe[1] == fe[2] ? -1 : M(Fe.h, se.hueGroups), Xe = de[0] == de[1] && de[1] == de[2] ? -1 : M(Be.h, se.hueGroups), De = Xe - _e;
        if (De)
          return -De;
        var ft = +Be.l.toFixed(2) - +Fe.l.toFixed(2);
        if (ft)
          return -ft;
        var gt = +Be.s.toFixed(2) - +Fe.s.toFixed(2);
        if (gt)
          return -gt;
      }), this.idxi32.forEach(function(oe, J) {
        se.idxrgb[J] = se.i32rgb[oe], se.i32idx[oe] = J;
      });
    }, e.prototype.nearestColor = function(se) {
      var oe = this.nearestIndex(se);
      return oe === null ? 0 : this.idxi32[oe];
    }, e.prototype.nearestIndex = function(se) {
      if (!((se & 4278190080) >> 24))
        return null;
      if (this.useCache && "" + se in this.i32idx)
        return this.i32idx[se];
      for (var oe = 1e3, J, pe = [
        se & 255,
        (se & 65280) >> 8,
        (se & 16711680) >> 16
      ], be = this.idxrgb.length, fe = 0; fe < be; fe++)
        if (this.idxrgb[fe]) {
          var de = this.colorDist(pe, this.idxrgb[fe]);
          de < oe && (oe = de, J = fe);
        }
      return J;
    }, e.prototype.cacheHistogram = function(se) {
      for (var oe = 0, J = se[oe]; oe < se.length && this.histogram[J] >= this.cacheFreq; J = se[oe++])
        this.i32idx[J] = this.nearestIndex(J);
    };
    function n(ne, se) {
      this.numGroups = ne, this.minCols = se, this.stats = {};
      for (var oe = -1; oe < ne; oe++)
        this.stats[oe] = { num: 0, cols: [] };
      this.groupsFull = 0;
    }
    n.prototype.check = function(se) {
      this.groupsFull == this.numGroups + 1 && (this.check = function() {
      });
      var oe = se & 255, J = (se & 65280) >> 8, pe = (se & 16711680) >> 16, be = oe == J && J == pe ? -1 : M(T(oe, J, pe).h, this.numGroups), fe = this.stats[be], de = this.minCols;
      fe.num++, !(fe.num > de) && (fe.num == de && this.groupsFull++, fe.num <= de && this.stats[be].cols.push(se));
    }, n.prototype.inject = function(se) {
      for (var oe = -1; oe < this.numGroups; oe++)
        if (this.stats[oe].num <= this.minCols)
          switch (F(se)) {
            case "Array":
              this.stats[oe].cols.forEach(function(J) {
                se.indexOf(J) == -1 && se.push(J);
              });
              break;
            case "Object":
              this.stats[oe].cols.forEach(function(J) {
                se[J] ? se[J]++ : se[J] = 1;
              });
              break;
          }
    };
    var r = 0.2126, o = 0.7152, l = 0.0722;
    function h(ne, se, oe) {
      return Math.sqrt(
        r * ne * ne + o * se * se + l * oe * oe
      );
    }
    var d = 255, p = 255, g = 255, v = Math.sqrt(r * d * d + o * p * p + l * g * g);
    function y(ne, se) {
      var oe = se[0] - ne[0], J = se[1] - ne[1], pe = se[2] - ne[2];
      return Math.sqrt(r * oe * oe + o * J * J + l * pe * pe) / v;
    }
    var x = r * d + o * p + l * g;
    function w(ne, se) {
      var oe = Math.abs(se[0] - ne[0]), J = Math.abs(se[1] - ne[1]), pe = Math.abs(se[2] - ne[2]);
      return (r * oe + o * J + l * pe) / x;
    }
    function T(ne, se, oe) {
      var J, pe, be, fe, de, Fe;
      if (ne /= 255, se /= 255, oe /= 255, J = Math.max(ne, se, oe), pe = Math.min(ne, se, oe), de = (J + pe) / 2, J == pe)
        be = fe = 0;
      else {
        switch (Fe = J - pe, fe = de > 0.5 ? Fe / (2 - J - pe) : Fe / (J + pe), J) {
          case ne:
            be = (se - oe) / Fe + (se < oe ? 6 : 0);
            break;
          case se:
            be = (oe - ne) / Fe + 2;
            break;
          case oe:
            be = (ne - se) / Fe + 4;
            break;
        }
        be /= 6;
      }
      return {
        h: be,
        s: fe,
        l: h(ne, se, oe)
      };
    }
    function M(ne, se) {
      var oe = 1 / se, J = oe / 2;
      if (ne >= 1 - J || ne <= J)
        return 0;
      for (var pe = 1; pe < se; pe++) {
        var be = pe * oe;
        if (ne >= be - J && ne <= be + J)
          return pe;
      }
    }
    function S(ne) {
      return ne;
    }
    function L(ne) {
      return ne;
    }
    function F(ne) {
      return Object.prototype.toString.call(ne).slice(8, -1);
    }
    var G = K() ? Array.prototype.sort : $;
    function $(ne) {
      var se = F(this[0]);
      if (se == "Number" || se == "String") {
        for (var oe = {}, J = this.length, pe, be = 0; be < J; be++)
          pe = this[be], !(oe[pe] || oe[pe] === 0) && (oe[pe] = be);
        return this.sort(function(fe, de) {
          return ne(fe, de) || oe[fe] - oe[de];
        });
      } else {
        var oe = this.map(function(de) {
          return de;
        });
        return this.sort(function(de, Fe) {
          return ne(de, Fe) || oe.indexOf(de) - oe.indexOf(Fe);
        });
      }
    }
    function K() {
      var ne = "abcdefghijklmnopqrstuvwxyz";
      return ne.split("").sort(function(se, oe) {
        return ~~(ne.indexOf(oe) / 2.3) - ~~(ne.indexOf(se) / 2.3);
      }).join("") == "xyzvwtursopqmnklhijfgdeabc";
    }
    function q(ne, se) {
      var oe, J, pe, be, fe, de;
      switch (F(ne)) {
        case "HTMLImageElement":
          oe = document.createElement("canvas"), oe.width = ne.naturalWidth, oe.height = ne.naturalHeight, J = oe.getContext("2d"), J.drawImage(ne, 0, 0);
        case "Canvas":
        case "HTMLCanvasElement":
          oe = oe || ne, J = J || oe.getContext("2d");
        case "CanvasRenderingContext2D":
          J = J || ne, oe = oe || J.canvas, pe = J.getImageData(0, 0, oe.width, oe.height);
        case "ImageData":
          pe = pe || ne, se = pe.width, F(pe.data) == "CanvasPixelArray" ? be = new Uint8Array(pe.data) : be = pe.data;
        case "Array":
        case "CanvasPixelArray":
          be = be || new Uint8Array(ne);
        case "Uint8Array":
        case "Uint8ClampedArray":
          be = be || ne, fe = new Uint32Array(be.buffer);
        case "Uint32Array":
          fe = fe || ne, be = be || new Uint8Array(fe.buffer), se = se || fe.length, de = fe.length / se;
      }
      return {
        can: oe,
        ctx: J,
        imgd: pe,
        buf8: be,
        buf32: fe,
        width: se,
        height: de
      };
    }
    function he(ne, se, oe, J) {
      for (var pe = ne % oe, be = se % J, fe = ne - pe, de = se - be, Fe = [], Be = 0; Be < se; Be += J)
        for (var _e = 0; _e < ne; _e += oe)
          Fe.push({ x: _e, y: Be, w: _e == fe ? pe : oe, h: Be == de ? be : J });
      return Fe;
    }
    function ae(ne, se, oe) {
      var J = ne, pe = J.y * se + J.x, be = (J.y + J.h - 1) * se + (J.x + J.w - 1), fe = 0, de = se - J.w + 1, Fe = pe;
      do
        oe.call(this, Fe), Fe += ++fe % J.w == 0 ? de : 1;
      while (Fe <= be);
    }
    function ve(ne, se) {
      var oe = [];
      for (var J in ne)
        oe.push(J);
      return G.call(oe, function(pe, be) {
        return ne[be] - ne[pe];
      });
    }
    this.RgbQuant = e, a.exports && (a.exports = e);
  }).call(Dr);
})(yE);
var Qne = yE.exports;
const ere = /* @__PURE__ */ Uu(Qne);
var xE = { exports: {} };
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
(function(a, e) {
  (function(n, r) {
    a.exports = r();
  })(Dr, function() {
    for (var n = function(B, D, W) {
      return D === void 0 && (D = 0), W === void 0 && (W = 1), B < D ? D : B > W ? W : B;
    }, r = n, o = function(B) {
      B._clipped = !1, B._unclipped = B.slice(0);
      for (var D = 0; D <= 3; D++)
        D < 3 ? ((B[D] < 0 || B[D] > 255) && (B._clipped = !0), B[D] = r(B[D], 0, 255)) : D === 3 && (B[D] = r(B[D], 0, 1));
      return B;
    }, l = {}, h = 0, d = ["Boolean", "Number", "String", "Function", "Array", "Date", "RegExp", "Undefined", "Null"]; h < d.length; h += 1) {
      var p = d[h];
      l["[object " + p + "]"] = p.toLowerCase();
    }
    var g = function(B) {
      return l[Object.prototype.toString.call(B)] || "object";
    }, v = g, y = function(B, D) {
      return D === void 0 && (D = null), B.length >= 3 ? Array.prototype.slice.call(B) : v(B[0]) == "object" && D ? D.split("").filter(function(W) {
        return B[0][W] !== void 0;
      }).map(function(W) {
        return B[0][W];
      }) : B[0];
    }, x = g, w = function(B) {
      if (B.length < 2)
        return null;
      var D = B.length - 1;
      return x(B[D]) == "string" ? B[D].toLowerCase() : null;
    }, T = Math.PI, M = {
      clip_rgb: o,
      limit: n,
      type: g,
      unpack: y,
      last: w,
      PI: T,
      TWOPI: T * 2,
      PITHIRD: T / 3,
      DEG2RAD: T / 180,
      RAD2DEG: 180 / T
    }, S = {
      format: {},
      autodetect: []
    }, L = M.last, F = M.clip_rgb, G = M.type, $ = S, K = function() {
      for (var D = [], W = arguments.length; W--; )
        D[W] = arguments[W];
      var te = this;
      if (G(D[0]) === "object" && D[0].constructor && D[0].constructor === this.constructor)
        return D[0];
      var ge = L(D), xe = !1;
      if (!ge) {
        xe = !0, $.sorted || ($.autodetect = $.autodetect.sort(function(Je, yt) {
          return yt.p - Je.p;
        }), $.sorted = !0);
        for (var ue = 0, Ne = $.autodetect; ue < Ne.length; ue += 1) {
          var Ie = Ne[ue];
          if (ge = Ie.test.apply(Ie, D), ge)
            break;
        }
      }
      if ($.format[ge]) {
        var Ue = $.format[ge].apply(null, xe ? D : D.slice(0, -1));
        te._rgb = F(Ue);
      } else
        throw new Error("unknown format: " + D);
      te._rgb.length === 3 && te._rgb.push(1);
    };
    K.prototype.toString = function() {
      return G(this.hex) == "function" ? this.hex() : "[" + this._rgb.join(",") + "]";
    };
    var q = K, he = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(he.Color, [null].concat(B)))();
    };
    he.Color = q, he.version = "2.4.2";
    var ae = he, ve = M.unpack, ne = Math.max, se = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = ve(B, "rgb"), te = W[0], ge = W[1], xe = W[2];
      te = te / 255, ge = ge / 255, xe = xe / 255;
      var ue = 1 - ne(te, ne(ge, xe)), Ne = ue < 1 ? 1 / (1 - ue) : 0, Ie = (1 - te - ue) * Ne, Ue = (1 - ge - ue) * Ne, Je = (1 - xe - ue) * Ne;
      return [Ie, Ue, Je, ue];
    }, oe = se, J = M.unpack, pe = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = J(B, "cmyk");
      var W = B[0], te = B[1], ge = B[2], xe = B[3], ue = B.length > 4 ? B[4] : 1;
      return xe === 1 ? [0, 0, 0, ue] : [
        W >= 1 ? 0 : 255 * (1 - W) * (1 - xe),
        // r
        te >= 1 ? 0 : 255 * (1 - te) * (1 - xe),
        // g
        ge >= 1 ? 0 : 255 * (1 - ge) * (1 - xe),
        // b
        ue
      ];
    }, be = pe, fe = ae, de = q, Fe = S, Be = M.unpack, _e = M.type, Xe = oe;
    de.prototype.cmyk = function() {
      return Xe(this._rgb);
    }, fe.cmyk = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(de, [null].concat(B, ["cmyk"])))();
    }, Fe.format.cmyk = be, Fe.autodetect.push({
      p: 2,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = Be(B, "cmyk"), _e(B) === "array" && B.length === 4)
          return "cmyk";
      }
    });
    var De = M.unpack, ft = M.last, gt = function(B) {
      return Math.round(B * 100) / 100;
    }, Lt = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = De(B, "hsla"), te = ft(B) || "lsa";
      return W[0] = gt(W[0] || 0), W[1] = gt(W[1] * 100) + "%", W[2] = gt(W[2] * 100) + "%", te === "hsla" || W.length > 3 && W[3] < 1 ? (W[3] = W.length > 3 ? W[3] : 1, te = "hsla") : W.length = 3, te + "(" + W.join(",") + ")";
    }, Nt = Lt, Mt = M.unpack, qt = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = Mt(B, "rgba");
      var W = B[0], te = B[1], ge = B[2];
      W /= 255, te /= 255, ge /= 255;
      var xe = Math.min(W, te, ge), ue = Math.max(W, te, ge), Ne = (ue + xe) / 2, Ie, Ue;
      return ue === xe ? (Ie = 0, Ue = Number.NaN) : Ie = Ne < 0.5 ? (ue - xe) / (ue + xe) : (ue - xe) / (2 - ue - xe), W == ue ? Ue = (te - ge) / (ue - xe) : te == ue ? Ue = 2 + (ge - W) / (ue - xe) : ge == ue && (Ue = 4 + (W - te) / (ue - xe)), Ue *= 60, Ue < 0 && (Ue += 360), B.length > 3 && B[3] !== void 0 ? [Ue, Ie, Ne, B[3]] : [Ue, Ie, Ne];
    }, Xt = qt, Gt = M.unpack, Pn = M.last, at = Nt, sr = Xt, _r = Math.round, Er = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = Gt(B, "rgba"), te = Pn(B) || "rgb";
      return te.substr(0, 3) == "hsl" ? at(sr(W), te) : (W[0] = _r(W[0]), W[1] = _r(W[1]), W[2] = _r(W[2]), (te === "rgba" || W.length > 3 && W[3] < 1) && (W[3] = W.length > 3 ? W[3] : 1, te = "rgba"), te + "(" + W.slice(0, te === "rgb" ? 3 : 4).join(",") + ")");
    }, th = Er, Wo = M.unpack, vs = Math.round, ys = function() {
      for (var B, D = [], W = arguments.length; W--; )
        D[W] = arguments[W];
      D = Wo(D, "hsl");
      var te = D[0], ge = D[1], xe = D[2], ue, Ne, Ie;
      if (ge === 0)
        ue = Ne = Ie = xe * 255;
      else {
        var Ue = [0, 0, 0], Je = [0, 0, 0], yt = xe < 0.5 ? xe * (1 + ge) : xe + ge - xe * ge, nt = 2 * xe - yt, It = te / 360;
        Ue[0] = It + 1 / 3, Ue[1] = It, Ue[2] = It - 1 / 3;
        for (var St = 0; St < 3; St++)
          Ue[St] < 0 && (Ue[St] += 1), Ue[St] > 1 && (Ue[St] -= 1), 6 * Ue[St] < 1 ? Je[St] = nt + (yt - nt) * 6 * Ue[St] : 2 * Ue[St] < 1 ? Je[St] = yt : 3 * Ue[St] < 2 ? Je[St] = nt + (yt - nt) * (2 / 3 - Ue[St]) * 6 : Je[St] = nt;
        B = [vs(Je[0] * 255), vs(Je[1] * 255), vs(Je[2] * 255)], ue = B[0], Ne = B[1], Ie = B[2];
      }
      return D.length > 3 ? [ue, Ne, Ie, D[3]] : [ue, Ne, Ie, 1];
    }, xa = ys, Il = xa, Ca = S, uo = /^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/, Al = /^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/, _a = /^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/, xi = /^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/, Ei = /^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/, Vo = /^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/, Ho = Math.round, wa = function(B) {
      B = B.toLowerCase().trim();
      var D;
      if (Ca.format.named)
        try {
          return Ca.format.named(B);
        } catch {
        }
      if (D = B.match(uo)) {
        for (var W = D.slice(1, 4), te = 0; te < 3; te++)
          W[te] = +W[te];
        return W[3] = 1, W;
      }
      if (D = B.match(Al)) {
        for (var ge = D.slice(1, 5), xe = 0; xe < 4; xe++)
          ge[xe] = +ge[xe];
        return ge;
      }
      if (D = B.match(_a)) {
        for (var ue = D.slice(1, 4), Ne = 0; Ne < 3; Ne++)
          ue[Ne] = Ho(ue[Ne] * 2.55);
        return ue[3] = 1, ue;
      }
      if (D = B.match(xi)) {
        for (var Ie = D.slice(1, 5), Ue = 0; Ue < 3; Ue++)
          Ie[Ue] = Ho(Ie[Ue] * 2.55);
        return Ie[3] = +Ie[3], Ie;
      }
      if (D = B.match(Ei)) {
        var Je = D.slice(1, 4);
        Je[1] *= 0.01, Je[2] *= 0.01;
        var yt = Il(Je);
        return yt[3] = 1, yt;
      }
      if (D = B.match(Vo)) {
        var nt = D.slice(1, 4);
        nt[1] *= 0.01, nt[2] *= 0.01;
        var It = Il(nt);
        return It[3] = +D[4], It;
      }
    };
    wa.test = function(B) {
      return uo.test(B) || Al.test(B) || _a.test(B) || xi.test(B) || Ei.test(B) || Vo.test(B);
    };
    var El = wa, Ci = ae, xs = q, yr = S, od = M.type, j0 = th, Ta = El;
    xs.prototype.css = function(B) {
      return j0(this._rgb, B);
    }, Ci.css = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(xs, [null].concat(B, ["css"])))();
    }, yr.format.css = Ta, yr.autodetect.push({
      p: 5,
      test: function(B) {
        for (var D = [], W = arguments.length - 1; W-- > 0; )
          D[W] = arguments[W + 1];
        if (!D.length && od(B) === "string" && Ta.test(B))
          return "css";
      }
    });
    var Op = q, pr = ae, Pl = S, D0 = M.unpack;
    Pl.format.gl = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = D0(B, "rgba");
      return W[0] *= 255, W[1] *= 255, W[2] *= 255, W;
    }, pr.gl = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(Op, [null].concat(B, ["gl"])))();
    }, Op.prototype.gl = function() {
      var B = this._rgb;
      return [B[0] / 255, B[1] / 255, B[2] / 255, B[3]];
    };
    var Vi = M.unpack, F0 = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = Vi(B, "rgb"), te = W[0], ge = W[1], xe = W[2], ue = Math.min(te, ge, xe), Ne = Math.max(te, ge, xe), Ie = Ne - ue, Ue = Ie * 100 / 255, Je = ue / (255 - Ie) * 100, yt;
      return Ie === 0 ? yt = Number.NaN : (te === Ne && (yt = (ge - xe) / Ie), ge === Ne && (yt = 2 + (xe - te) / Ie), xe === Ne && (yt = 4 + (te - ge) / Ie), yt *= 60, yt < 0 && (yt += 360)), [yt, Ue, Je];
    }, mo = F0, Lp = M.unpack, jp = Math.floor, ad = function() {
      for (var B, D, W, te, ge, xe, ue = [], Ne = arguments.length; Ne--; )
        ue[Ne] = arguments[Ne];
      ue = Lp(ue, "hcg");
      var Ie = ue[0], Ue = ue[1], Je = ue[2], yt, nt, It;
      Je = Je * 255;
      var St = Ue * 255;
      if (Ue === 0)
        yt = nt = It = Je;
      else {
        Ie === 360 && (Ie = 0), Ie > 360 && (Ie -= 360), Ie < 0 && (Ie += 360), Ie /= 60;
        var an = jp(Ie), fn = Ie - an, _n = Je * (1 - Ue), Rn = _n + St * (1 - fn), Rr = _n + St * fn, Mr = _n + St;
        switch (an) {
          case 0:
            B = [Mr, Rr, _n], yt = B[0], nt = B[1], It = B[2];
            break;
          case 1:
            D = [Rn, Mr, _n], yt = D[0], nt = D[1], It = D[2];
            break;
          case 2:
            W = [_n, Mr, Rr], yt = W[0], nt = W[1], It = W[2];
            break;
          case 3:
            te = [_n, Rn, Mr], yt = te[0], nt = te[1], It = te[2];
            break;
          case 4:
            ge = [Rr, _n, Mr], yt = ge[0], nt = ge[1], It = ge[2];
            break;
          case 5:
            xe = [Mr, _n, Rn], yt = xe[0], nt = xe[1], It = xe[2];
            break;
        }
      }
      return [yt, nt, It, ue.length > 3 ? ue[3] : 1];
    }, sd = ad, Na = M.unpack, _i = M.type, Rl = ae, nh = q, rh = S, Cs = mo;
    nh.prototype.hcg = function() {
      return Cs(this._rgb);
    }, Rl.hcg = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(nh, [null].concat(B, ["hcg"])))();
    }, rh.format.hcg = sd, rh.autodetect.push({
      p: 1,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = Na(B, "hcg"), _i(B) === "array" && B.length === 3)
          return "hcg";
      }
    });
    var Dp = M.unpack, Fp = M.last, Bl = Math.round, ci = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = Dp(B, "rgba"), te = W[0], ge = W[1], xe = W[2], ue = W[3], Ne = Fp(B) || "auto";
      ue === void 0 && (ue = 1), Ne === "auto" && (Ne = ue < 1 ? "rgba" : "rgb"), te = Bl(te), ge = Bl(ge), xe = Bl(xe);
      var Ie = te << 16 | ge << 8 | xe, Ue = "000000" + Ie.toString(16);
      Ue = Ue.substr(Ue.length - 6);
      var Je = "0" + Bl(ue * 255).toString(16);
      switch (Je = Je.substr(Je.length - 2), Ne.toLowerCase()) {
        case "rgba":
          return "#" + Ue + Je;
        case "argb":
          return "#" + Je + Ue;
        default:
          return "#" + Ue;
      }
    }, ld = ci, kp = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/, Ma = /^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/, _s = function(B) {
      if (B.match(kp)) {
        (B.length === 4 || B.length === 7) && (B = B.substr(1)), B.length === 3 && (B = B.split(""), B = B[0] + B[0] + B[1] + B[1] + B[2] + B[2]);
        var D = parseInt(B, 16), W = D >> 16, te = D >> 8 & 255, ge = D & 255;
        return [W, te, ge, 1];
      }
      if (B.match(Ma)) {
        (B.length === 5 || B.length === 9) && (B = B.substr(1)), B.length === 4 && (B = B.split(""), B = B[0] + B[0] + B[1] + B[1] + B[2] + B[2] + B[3] + B[3]);
        var xe = parseInt(B, 16), ue = xe >> 24 & 255, Ne = xe >> 16 & 255, Ie = xe >> 8 & 255, Ue = Math.round((xe & 255) / 255 * 100) / 100;
        return [ue, Ne, Ie, Ue];
      }
      throw new Error("unknown hex color: " + B);
    }, ih = _s, cd = ae, hd = q, ud = M.type, oh = S, ah = ld;
    hd.prototype.hex = function(B) {
      return ah(this._rgb, B);
    }, cd.hex = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(hd, [null].concat(B, ["hex"])))();
    }, oh.format.hex = ih, oh.autodetect.push({
      p: 4,
      test: function(B) {
        for (var D = [], W = arguments.length - 1; W-- > 0; )
          D[W] = arguments[W + 1];
        if (!D.length && ud(B) === "string" && [3, 4, 5, 6, 7, 8, 9].indexOf(B.length) >= 0)
          return "hex";
      }
    });
    var sh = M.unpack, Ol = M.TWOPI, lh = Math.min, dd = Math.sqrt, md = Math.acos, pd = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = sh(B, "rgb"), te = W[0], ge = W[1], xe = W[2];
      te /= 255, ge /= 255, xe /= 255;
      var ue, Ne = lh(te, ge, xe), Ie = (te + ge + xe) / 3, Ue = Ie > 0 ? 1 - Ne / Ie : 0;
      return Ue === 0 ? ue = NaN : (ue = (te - ge + (te - xe)) / 2, ue /= dd((te - ge) * (te - ge) + (te - xe) * (ge - xe)), ue = md(ue), xe > ge && (ue = Ol - ue), ue /= Ol), [ue * 360, Ue, Ie];
    }, fd = pd, gd = M.unpack, Ll = M.limit, $o = M.TWOPI, jl = M.PITHIRD, qo = Math.cos, bd = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = gd(B, "hsi");
      var W = B[0], te = B[1], ge = B[2], xe, ue, Ne;
      return isNaN(W) && (W = 0), isNaN(te) && (te = 0), W > 360 && (W -= 360), W < 0 && (W += 360), W /= 360, W < 1 / 3 ? (Ne = (1 - te) / 3, xe = (1 + te * qo($o * W) / qo(jl - $o * W)) / 3, ue = 1 - (Ne + xe)) : W < 2 / 3 ? (W -= 1 / 3, xe = (1 - te) / 3, ue = (1 + te * qo($o * W) / qo(jl - $o * W)) / 3, Ne = 1 - (xe + ue)) : (W -= 2 / 3, ue = (1 - te) / 3, Ne = (1 + te * qo($o * W) / qo(jl - $o * W)) / 3, xe = 1 - (ue + Ne)), xe = Ll(ge * xe * 3), ue = Ll(ge * ue * 3), Ne = Ll(ge * Ne * 3), [xe * 255, ue * 255, Ne * 255, B.length > 3 ? B[3] : 1];
    }, vd = bd, yd = M.unpack, xd = M.type, Cd = ae, ch = q, hh = S, _d = fd;
    ch.prototype.hsi = function() {
      return _d(this._rgb);
    }, Cd.hsi = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(ch, [null].concat(B, ["hsi"])))();
    }, hh.format.hsi = vd, hh.autodetect.push({
      p: 2,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = yd(B, "hsi"), xd(B) === "array" && B.length === 3)
          return "hsi";
      }
    });
    var wd = M.unpack, Td = M.type, Nd = ae, uh = q, Dl = S, Md = Xt;
    uh.prototype.hsl = function() {
      return Md(this._rgb);
    }, Nd.hsl = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(uh, [null].concat(B, ["hsl"])))();
    }, Dl.format.hsl = xa, Dl.autodetect.push({
      p: 2,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = wd(B, "hsl"), Td(B) === "array" && B.length === 3)
          return "hsl";
      }
    });
    var Sd = M.unpack, Xp = Math.min, Id = Math.max, Ad = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = Sd(B, "rgb");
      var W = B[0], te = B[1], ge = B[2], xe = Xp(W, te, ge), ue = Id(W, te, ge), Ne = ue - xe, Ie, Ue, Je;
      return Je = ue / 255, ue === 0 ? (Ie = Number.NaN, Ue = 0) : (Ue = Ne / ue, W === ue && (Ie = (te - ge) / Ne), te === ue && (Ie = 2 + (ge - W) / Ne), ge === ue && (Ie = 4 + (W - te) / Ne), Ie *= 60, Ie < 0 && (Ie += 360)), [Ie, Ue, Je];
    }, Ed = Ad, zp = M.unpack, Up = Math.floor, Gp = function() {
      for (var B, D, W, te, ge, xe, ue = [], Ne = arguments.length; Ne--; )
        ue[Ne] = arguments[Ne];
      ue = zp(ue, "hsv");
      var Ie = ue[0], Ue = ue[1], Je = ue[2], yt, nt, It;
      if (Je *= 255, Ue === 0)
        yt = nt = It = Je;
      else {
        Ie === 360 && (Ie = 0), Ie > 360 && (Ie -= 360), Ie < 0 && (Ie += 360), Ie /= 60;
        var St = Up(Ie), an = Ie - St, fn = Je * (1 - Ue), _n = Je * (1 - Ue * an), Rn = Je * (1 - Ue * (1 - an));
        switch (St) {
          case 0:
            B = [Je, Rn, fn], yt = B[0], nt = B[1], It = B[2];
            break;
          case 1:
            D = [_n, Je, fn], yt = D[0], nt = D[1], It = D[2];
            break;
          case 2:
            W = [fn, Je, Rn], yt = W[0], nt = W[1], It = W[2];
            break;
          case 3:
            te = [fn, _n, Je], yt = te[0], nt = te[1], It = te[2];
            break;
          case 4:
            ge = [Rn, fn, Je], yt = ge[0], nt = ge[1], It = ge[2];
            break;
          case 5:
            xe = [Je, fn, _n], yt = xe[0], nt = xe[1], It = xe[2];
            break;
        }
      }
      return [yt, nt, It, ue.length > 3 ? ue[3] : 1];
    }, Fl = Gp, kl = M.unpack, dh = M.type, Sa = ae, Yo = q, ws = S, mh = Ed;
    Yo.prototype.hsv = function() {
      return mh(this._rgb);
    }, Sa.hsv = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(Yo, [null].concat(B, ["hsv"])))();
    }, ws.format.hsv = Fl, ws.autodetect.push({
      p: 2,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = kl(B, "hsv"), dh(B) === "array" && B.length === 3)
          return "hsv";
      }
    });
    var Ts = {
      // Corresponds roughly to RGB brighter/darker
      Kn: 18,
      // D65 standard referent
      Xn: 0.95047,
      Yn: 1,
      Zn: 1.08883,
      t0: 0.137931034,
      // 4 / 29
      t1: 0.206896552,
      // 6 / 29
      t2: 0.12841855,
      // 3 * t1 * t1
      t3: 8856452e-9
      // t1 * t1 * t1
    }, Ns = Ts, k0 = M.unpack, Wp = Math.pow, Vp = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = k0(B, "rgb"), te = W[0], ge = W[1], xe = W[2], ue = Hp(te, ge, xe), Ne = ue[0], Ie = ue[1], Ue = ue[2], Je = 116 * Ie - 16;
      return [Je < 0 ? 0 : Je, 500 * (Ne - Ie), 200 * (Ie - Ue)];
    }, ph = function(B) {
      return (B /= 255) <= 0.04045 ? B / 12.92 : Wp((B + 0.055) / 1.055, 2.4);
    }, Hi = function(B) {
      return B > Ns.t3 ? Wp(B, 1 / 3) : B / Ns.t2 + Ns.t0;
    }, Hp = function(B, D, W) {
      B = ph(B), D = ph(D), W = ph(W);
      var te = Hi((0.4124564 * B + 0.3575761 * D + 0.1804375 * W) / Ns.Xn), ge = Hi((0.2126729 * B + 0.7151522 * D + 0.072175 * W) / Ns.Yn), xe = Hi((0.0193339 * B + 0.119192 * D + 0.9503041 * W) / Ns.Zn);
      return [te, ge, xe];
    }, $i = Vp, Pr = Ts, po = M.unpack, fh = Math.pow, Xl = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = po(B, "lab");
      var W = B[0], te = B[1], ge = B[2], xe, ue, Ne, Ie, Ue, Je;
      return ue = (W + 16) / 116, xe = isNaN(te) ? ue : ue + te / 500, Ne = isNaN(ge) ? ue : ue - ge / 200, ue = Pr.Yn * zn(ue), xe = Pr.Xn * zn(xe), Ne = Pr.Zn * zn(Ne), Ie = Ia(3.2404542 * xe - 1.5371385 * ue - 0.4985314 * Ne), Ue = Ia(-0.969266 * xe + 1.8760108 * ue + 0.041556 * Ne), Je = Ia(0.0556434 * xe - 0.2040259 * ue + 1.0572252 * Ne), [Ie, Ue, Je, B.length > 3 ? B[3] : 1];
    }, Ia = function(B) {
      return 255 * (B <= 304e-5 ? 12.92 * B : 1.055 * fh(B, 1 / 2.4) - 0.055);
    }, zn = function(B) {
      return B > Pr.t1 ? B * B * B : Pr.t2 * (B - Pr.t0);
    }, Ms = Xl, zl = M.unpack, X0 = M.type, Aa = ae, $p = q, qp = S, z0 = $i;
    $p.prototype.lab = function() {
      return z0(this._rgb);
    }, Aa.lab = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply($p, [null].concat(B, ["lab"])))();
    }, qp.format.lab = Ms, qp.autodetect.push({
      p: 2,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = zl(B, "lab"), X0(B) === "array" && B.length === 3)
          return "lab";
      }
    });
    var U0 = M.unpack, G0 = M.RAD2DEG, W0 = Math.sqrt, V0 = Math.atan2, H0 = Math.round, $0 = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = U0(B, "lab"), te = W[0], ge = W[1], xe = W[2], ue = W0(ge * ge + xe * xe), Ne = (V0(xe, ge) * G0 + 360) % 360;
      return H0(ue * 1e4) === 0 && (Ne = Number.NaN), [te, ue, Ne];
    }, Yp = $0, q0 = M.unpack, Y0 = $i, K0 = Yp, Pd = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = q0(B, "rgb"), te = W[0], ge = W[1], xe = W[2], ue = Y0(te, ge, xe), Ne = ue[0], Ie = ue[1], Ue = ue[2];
      return K0(Ne, Ie, Ue);
    }, Kp = Pd, Zp = M.unpack, Jp = M.DEG2RAD, Rd = Math.sin, Qp = Math.cos, ef = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = Zp(B, "lch"), te = W[0], ge = W[1], xe = W[2];
      return isNaN(xe) && (xe = 0), xe = xe * Jp, [te, Qp(xe) * ge, Rd(xe) * ge];
    }, Bd = ef, tf = M.unpack, Ul = Bd, Z0 = Ms, J0 = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = tf(B, "lch");
      var W = B[0], te = B[1], ge = B[2], xe = Ul(W, te, ge), ue = xe[0], Ne = xe[1], Ie = xe[2], Ue = Z0(ue, Ne, Ie), Je = Ue[0], yt = Ue[1], nt = Ue[2];
      return [Je, yt, nt, B.length > 3 ? B[3] : 1];
    }, nf = J0, Q0 = M.unpack, eb = nf, tb = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = Q0(B, "hcl").reverse();
      return eb.apply(void 0, W);
    }, nb = tb, rb = M.unpack, ib = M.type, gh = ae, hi = q, Ea = S, qi = Kp;
    hi.prototype.lch = function() {
      return qi(this._rgb);
    }, hi.prototype.hcl = function() {
      return qi(this._rgb).reverse();
    }, gh.lch = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(hi, [null].concat(B, ["lch"])))();
    }, gh.hcl = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(hi, [null].concat(B, ["hcl"])))();
    }, Ea.format.lch = nf, Ea.format.hcl = nb, ["lch", "hcl"].forEach(function(B) {
      return Ea.autodetect.push({
        p: 2,
        test: function() {
          for (var D = [], W = arguments.length; W--; )
            D[W] = arguments[W];
          if (D = rb(D, B), ib(D) === "array" && D.length === 3)
            return B;
        }
      });
    });
    var Fr = {
      aliceblue: "#f0f8ff",
      antiquewhite: "#faebd7",
      aqua: "#00ffff",
      aquamarine: "#7fffd4",
      azure: "#f0ffff",
      beige: "#f5f5dc",
      bisque: "#ffe4c4",
      black: "#000000",
      blanchedalmond: "#ffebcd",
      blue: "#0000ff",
      blueviolet: "#8a2be2",
      brown: "#a52a2a",
      burlywood: "#deb887",
      cadetblue: "#5f9ea0",
      chartreuse: "#7fff00",
      chocolate: "#d2691e",
      coral: "#ff7f50",
      cornflower: "#6495ed",
      cornflowerblue: "#6495ed",
      cornsilk: "#fff8dc",
      crimson: "#dc143c",
      cyan: "#00ffff",
      darkblue: "#00008b",
      darkcyan: "#008b8b",
      darkgoldenrod: "#b8860b",
      darkgray: "#a9a9a9",
      darkgreen: "#006400",
      darkgrey: "#a9a9a9",
      darkkhaki: "#bdb76b",
      darkmagenta: "#8b008b",
      darkolivegreen: "#556b2f",
      darkorange: "#ff8c00",
      darkorchid: "#9932cc",
      darkred: "#8b0000",
      darksalmon: "#e9967a",
      darkseagreen: "#8fbc8f",
      darkslateblue: "#483d8b",
      darkslategray: "#2f4f4f",
      darkslategrey: "#2f4f4f",
      darkturquoise: "#00ced1",
      darkviolet: "#9400d3",
      deeppink: "#ff1493",
      deepskyblue: "#00bfff",
      dimgray: "#696969",
      dimgrey: "#696969",
      dodgerblue: "#1e90ff",
      firebrick: "#b22222",
      floralwhite: "#fffaf0",
      forestgreen: "#228b22",
      fuchsia: "#ff00ff",
      gainsboro: "#dcdcdc",
      ghostwhite: "#f8f8ff",
      gold: "#ffd700",
      goldenrod: "#daa520",
      gray: "#808080",
      green: "#008000",
      greenyellow: "#adff2f",
      grey: "#808080",
      honeydew: "#f0fff0",
      hotpink: "#ff69b4",
      indianred: "#cd5c5c",
      indigo: "#4b0082",
      ivory: "#fffff0",
      khaki: "#f0e68c",
      laserlemon: "#ffff54",
      lavender: "#e6e6fa",
      lavenderblush: "#fff0f5",
      lawngreen: "#7cfc00",
      lemonchiffon: "#fffacd",
      lightblue: "#add8e6",
      lightcoral: "#f08080",
      lightcyan: "#e0ffff",
      lightgoldenrod: "#fafad2",
      lightgoldenrodyellow: "#fafad2",
      lightgray: "#d3d3d3",
      lightgreen: "#90ee90",
      lightgrey: "#d3d3d3",
      lightpink: "#ffb6c1",
      lightsalmon: "#ffa07a",
      lightseagreen: "#20b2aa",
      lightskyblue: "#87cefa",
      lightslategray: "#778899",
      lightslategrey: "#778899",
      lightsteelblue: "#b0c4de",
      lightyellow: "#ffffe0",
      lime: "#00ff00",
      limegreen: "#32cd32",
      linen: "#faf0e6",
      magenta: "#ff00ff",
      maroon: "#800000",
      maroon2: "#7f0000",
      maroon3: "#b03060",
      mediumaquamarine: "#66cdaa",
      mediumblue: "#0000cd",
      mediumorchid: "#ba55d3",
      mediumpurple: "#9370db",
      mediumseagreen: "#3cb371",
      mediumslateblue: "#7b68ee",
      mediumspringgreen: "#00fa9a",
      mediumturquoise: "#48d1cc",
      mediumvioletred: "#c71585",
      midnightblue: "#191970",
      mintcream: "#f5fffa",
      mistyrose: "#ffe4e1",
      moccasin: "#ffe4b5",
      navajowhite: "#ffdead",
      navy: "#000080",
      oldlace: "#fdf5e6",
      olive: "#808000",
      olivedrab: "#6b8e23",
      orange: "#ffa500",
      orangered: "#ff4500",
      orchid: "#da70d6",
      palegoldenrod: "#eee8aa",
      palegreen: "#98fb98",
      paleturquoise: "#afeeee",
      palevioletred: "#db7093",
      papayawhip: "#ffefd5",
      peachpuff: "#ffdab9",
      peru: "#cd853f",
      pink: "#ffc0cb",
      plum: "#dda0dd",
      powderblue: "#b0e0e6",
      purple: "#800080",
      purple2: "#7f007f",
      purple3: "#a020f0",
      rebeccapurple: "#663399",
      red: "#ff0000",
      rosybrown: "#bc8f8f",
      royalblue: "#4169e1",
      saddlebrown: "#8b4513",
      salmon: "#fa8072",
      sandybrown: "#f4a460",
      seagreen: "#2e8b57",
      seashell: "#fff5ee",
      sienna: "#a0522d",
      silver: "#c0c0c0",
      skyblue: "#87ceeb",
      slateblue: "#6a5acd",
      slategray: "#708090",
      slategrey: "#708090",
      snow: "#fffafa",
      springgreen: "#00ff7f",
      steelblue: "#4682b4",
      tan: "#d2b48c",
      teal: "#008080",
      thistle: "#d8bfd8",
      tomato: "#ff6347",
      turquoise: "#40e0d0",
      violet: "#ee82ee",
      wheat: "#f5deb3",
      white: "#ffffff",
      whitesmoke: "#f5f5f5",
      yellow: "#ffff00",
      yellowgreen: "#9acd32"
    }, Od = Fr, Pa = q, Ra = S, ui = M.type, Yn = Od, Ld = ih, ob = ld;
    Pa.prototype.name = function() {
      for (var B = ob(this._rgb, "rgb"), D = 0, W = Object.keys(Yn); D < W.length; D += 1) {
        var te = W[D];
        if (Yn[te] === B)
          return te.toLowerCase();
      }
      return B;
    }, Ra.format.named = function(B) {
      if (B = B.toLowerCase(), Yn[B])
        return Ld(Yn[B]);
      throw new Error("unknown color name: " + B);
    }, Ra.autodetect.push({
      p: 5,
      test: function(B) {
        for (var D = [], W = arguments.length - 1; W-- > 0; )
          D[W] = arguments[W + 1];
        if (!D.length && ui(B) === "string" && Yn[B.toLowerCase()])
          return "named";
      }
    });
    var ab = M.unpack, Gl = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = ab(B, "rgb"), te = W[0], ge = W[1], xe = W[2];
      return (te << 16) + (ge << 8) + xe;
    }, sb = Gl, lb = M.type, cb = function(B) {
      if (lb(B) == "number" && B >= 0 && B <= 16777215) {
        var D = B >> 16, W = B >> 8 & 255, te = B & 255;
        return [D, W, te, 1];
      }
      throw new Error("unknown num color: " + B);
    }, hb = cb, ub = ae, rf = q, of = S, db = M.type, mb = sb;
    rf.prototype.num = function() {
      return mb(this._rgb);
    }, ub.num = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(rf, [null].concat(B, ["num"])))();
    }, of.format.num = hb, of.autodetect.push({
      p: 5,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B.length === 1 && db(B[0]) === "number" && B[0] >= 0 && B[0] <= 16777215)
          return "num";
      }
    });
    var pb = ae, jd = q, af = S, sf = M.unpack, lf = M.type, kr = Math.round;
    jd.prototype.rgb = function(B) {
      return B === void 0 && (B = !0), B === !1 ? this._rgb.slice(0, 3) : this._rgb.slice(0, 3).map(kr);
    }, jd.prototype.rgba = function(B) {
      return B === void 0 && (B = !0), this._rgb.slice(0, 4).map(function(D, W) {
        return W < 3 ? B === !1 ? D : kr(D) : D;
      });
    }, pb.rgb = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(jd, [null].concat(B, ["rgb"])))();
    }, af.format.rgb = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = sf(B, "rgba");
      return W[3] === void 0 && (W[3] = 1), W;
    }, af.autodetect.push({
      p: 3,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = sf(B, "rgba"), lf(B) === "array" && (B.length === 3 || B.length === 4 && lf(B[3]) == "number" && B[3] >= 0 && B[3] <= 1))
          return "rgb";
      }
    });
    var Jt = Math.log, fb = function(B) {
      var D = B / 100, W, te, ge;
      return D < 66 ? (W = 255, te = D < 6 ? 0 : -155.25485562709179 - 0.44596950469579133 * (te = D - 2) + 104.49216199393888 * Jt(te), ge = D < 20 ? 0 : -254.76935184120902 + 0.8274096064007395 * (ge = D - 10) + 115.67994401066147 * Jt(ge)) : (W = 351.97690566805693 + 0.114206453784165 * (W = D - 55) - 40.25366309332127 * Jt(W), te = 325.4494125711974 + 0.07943456536662342 * (te = D - 50) - 28.0852963507957 * Jt(te), ge = 255), [W, te, ge, 1];
    }, $e = fb, en = $e, Dd = M.unpack, cf = Math.round, gb = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      for (var W = Dd(B, "rgb"), te = W[0], ge = W[2], xe = 1e3, ue = 4e4, Ne = 0.4, Ie; ue - xe > Ne; ) {
        Ie = (ue + xe) * 0.5;
        var Ue = en(Ie);
        Ue[2] / Ue[0] >= ge / te ? ue = Ie : xe = Ie;
      }
      return cf(Ie);
    }, Ss = gb, Ba = ae, Wl = q, bh = S, hf = Ss;
    Wl.prototype.temp = Wl.prototype.kelvin = Wl.prototype.temperature = function() {
      return hf(this._rgb);
    }, Ba.temp = Ba.kelvin = Ba.temperature = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(Wl, [null].concat(B, ["temp"])))();
    }, bh.format.temp = bh.format.kelvin = bh.format.temperature = $e;
    var uf = M.unpack, vh = Math.cbrt, yh = Math.pow, bb = Math.sign, Fn = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = uf(B, "rgb"), te = W[0], ge = W[1], xe = W[2], ue = [Vl(te / 255), Vl(ge / 255), Vl(xe / 255)], Ne = ue[0], Ie = ue[1], Ue = ue[2], Je = vh(0.4122214708 * Ne + 0.5363325363 * Ie + 0.0514459929 * Ue), yt = vh(0.2119034982 * Ne + 0.6806995451 * Ie + 0.1073969566 * Ue), nt = vh(0.0883024619 * Ne + 0.2817188376 * Ie + 0.6299787005 * Ue);
      return [
        0.2104542553 * Je + 0.793617785 * yt - 0.0040720468 * nt,
        1.9779984951 * Je - 2.428592205 * yt + 0.4505937099 * nt,
        0.0259040371 * Je + 0.7827717662 * yt - 0.808675766 * nt
      ];
    }, Oa = Fn;
    function Vl(B) {
      var D = Math.abs(B);
      return D < 0.04045 ? B / 12.92 : (bb(B) || 1) * yh((D + 0.055) / 1.055, 2.4);
    }
    var Is = M.unpack, Hl = Math.pow, vb = Math.sign, La = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = Is(B, "lab");
      var W = B[0], te = B[1], ge = B[2], xe = Hl(W + 0.3963377774 * te + 0.2158037573 * ge, 3), ue = Hl(W - 0.1055613458 * te - 0.0638541728 * ge, 3), Ne = Hl(W - 0.0894841775 * te - 1.291485548 * ge, 3);
      return [
        255 * Fd(4.0767416621 * xe - 3.3077115913 * ue + 0.2309699292 * Ne),
        255 * Fd(-1.2684380046 * xe + 2.6097574011 * ue - 0.3413193965 * Ne),
        255 * Fd(-0.0041960863 * xe - 0.7034186147 * ue + 1.707614701 * Ne),
        B.length > 3 ? B[3] : 1
      ];
    }, xh = La;
    function Fd(B) {
      var D = Math.abs(B);
      return D > 31308e-7 ? (vb(B) || 1) * (1.055 * Hl(D, 1 / 2.4) - 0.055) : B * 12.92;
    }
    var lr = M.unpack, kn = M.type, df = ae, wi = q, $l = S, yb = Oa;
    wi.prototype.oklab = function() {
      return yb(this._rgb);
    }, df.oklab = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(wi, [null].concat(B, ["oklab"])))();
    }, $l.format.oklab = xh, $l.autodetect.push({
      p: 3,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = lr(B, "oklab"), kn(B) === "array" && B.length === 3)
          return "oklab";
      }
    });
    var kd = M.unpack, xb = Oa, Kr = Yp, ie = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      var W = kd(B, "rgb"), te = W[0], ge = W[1], xe = W[2], ue = xb(te, ge, xe), Ne = ue[0], Ie = ue[1], Ue = ue[2];
      return Kr(Ne, Ie, Ue);
    }, Xd = ie, mf = M.unpack, Hr = Bd, fo = xh, Pi = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      B = mf(B, "lch");
      var W = B[0], te = B[1], ge = B[2], xe = Hr(W, te, ge), ue = xe[0], Ne = xe[1], Ie = xe[2], Ue = fo(ue, Ne, Ie), Je = Ue[0], yt = Ue[1], nt = Ue[2];
      return [Je, yt, nt, B.length > 3 ? B[3] : 1];
    }, Ch = Pi, As = M.unpack, Es = M.type, Ps = ae, go = q, bo = S, ja = Xd;
    go.prototype.oklch = function() {
      return ja(this._rgb);
    }, Ps.oklch = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      return new (Function.prototype.bind.apply(go, [null].concat(B, ["oklch"])))();
    }, bo.format.oklch = Ch, bo.autodetect.push({
      p: 3,
      test: function() {
        for (var B = [], D = arguments.length; D--; )
          B[D] = arguments[D];
        if (B = As(B, "oklch"), Es(B) === "array" && B.length === 3)
          return "oklch";
      }
    });
    var Rs = q, _h = M.type;
    Rs.prototype.alpha = function(B, D) {
      return D === void 0 && (D = !1), B !== void 0 && _h(B) === "number" ? D ? (this._rgb[3] = B, this) : new Rs([this._rgb[0], this._rgb[1], this._rgb[2], B], "rgb") : this._rgb[3];
    };
    var wh = q;
    wh.prototype.clipped = function() {
      return this._rgb._clipped || !1;
    };
    var di = q, zd = Ts;
    di.prototype.darken = function(B) {
      B === void 0 && (B = 1);
      var D = this, W = D.lab();
      return W[0] -= zd.Kn * B, new di(W, "lab").alpha(D.alpha(), !0);
    }, di.prototype.brighten = function(B) {
      return B === void 0 && (B = 1), this.darken(-B);
    }, di.prototype.darker = di.prototype.darken, di.prototype.brighter = di.prototype.brighten;
    var Cb = q;
    Cb.prototype.get = function(B) {
      var D = B.split("."), W = D[0], te = D[1], ge = this[W]();
      if (te) {
        var xe = W.indexOf(te) - (W.substr(0, 2) === "ok" ? 2 : 0);
        if (xe > -1)
          return ge[xe];
        throw new Error("unknown channel " + te + " in mode " + W);
      } else
        return ge;
    };
    var Yi = q, Ud = M.type, Xr = Math.pow, vo = 1e-7, Gd = 20;
    Yi.prototype.luminance = function(B) {
      if (B !== void 0 && Ud(B) === "number") {
        if (B === 0)
          return new Yi([0, 0, 0, this._rgb[3]], "rgb");
        if (B === 1)
          return new Yi([255, 255, 255, this._rgb[3]], "rgb");
        var D = this.luminance(), W = "rgb", te = Gd, ge = function(ue, Ne) {
          var Ie = ue.interpolate(Ne, 0.5, W), Ue = Ie.luminance();
          return Math.abs(B - Ue) < vo || !te-- ? Ie : Ue > B ? ge(ue, Ie) : ge(Ie, Ne);
        }, xe = (D > B ? ge(new Yi([0, 0, 0]), this) : ge(this, new Yi([255, 255, 255]))).rgb();
        return new Yi(xe.concat([this._rgb[3]]));
      }
      return Th.apply(void 0, this._rgb.slice(0, 3));
    };
    var Th = function(B, D, W) {
      return B = Ki(B), D = Ki(D), W = Ki(W), 0.2126 * B + 0.7152 * D + 0.0722 * W;
    }, Ki = function(B) {
      return B /= 255, B <= 0.03928 ? B / 12.92 : Xr((B + 0.055) / 1.055, 2.4);
    }, $r = {}, ql = q, Nh = M.type, yo = $r, Wt = function(B, D, W) {
      W === void 0 && (W = 0.5);
      for (var te = [], ge = arguments.length - 3; ge-- > 0; )
        te[ge] = arguments[ge + 3];
      var xe = te[0] || "lrgb";
      if (!yo[xe] && !te.length && (xe = Object.keys(yo)[0]), !yo[xe])
        throw new Error("interpolation mode " + xe + " is not defined");
      return Nh(B) !== "object" && (B = new ql(B)), Nh(D) !== "object" && (D = new ql(D)), yo[xe](B, D, W).alpha(B.alpha() + W * (D.alpha() - B.alpha()));
    }, Da = q, Ri = Wt;
    Da.prototype.mix = Da.prototype.interpolate = function(B, D) {
      D === void 0 && (D = 0.5);
      for (var W = [], te = arguments.length - 2; te-- > 0; )
        W[te] = arguments[te + 2];
      return Ri.apply(void 0, [this, B, D].concat(W));
    };
    var pf = q;
    pf.prototype.premultiply = function(B) {
      B === void 0 && (B = !1);
      var D = this._rgb, W = D[3];
      return B ? (this._rgb = [D[0] * W, D[1] * W, D[2] * W, W], this) : new pf([D[0] * W, D[1] * W, D[2] * W, W], "rgb");
    };
    var Wd = q, Ko = Ts;
    Wd.prototype.saturate = function(B) {
      B === void 0 && (B = 1);
      var D = this, W = D.lch();
      return W[1] += Ko.Kn * B, W[1] < 0 && (W[1] = 0), new Wd(W, "lch").alpha(D.alpha(), !0);
    }, Wd.prototype.desaturate = function(B) {
      return B === void 0 && (B = 1), this.saturate(-B);
    };
    var Yl = q, Zr = M.type;
    Yl.prototype.set = function(B, D, W) {
      W === void 0 && (W = !1);
      var te = B.split("."), ge = te[0], xe = te[1], ue = this[ge]();
      if (xe) {
        var Ne = ge.indexOf(xe) - (ge.substr(0, 2) === "ok" ? 2 : 0);
        if (Ne > -1) {
          if (Zr(D) == "string")
            switch (D.charAt(0)) {
              case "+":
                ue[Ne] += +D;
                break;
              case "-":
                ue[Ne] += +D;
                break;
              case "*":
                ue[Ne] *= +D.substr(1);
                break;
              case "/":
                ue[Ne] /= +D.substr(1);
                break;
              default:
                ue[Ne] = +D;
            }
          else if (Zr(D) === "number")
            ue[Ne] = D;
          else
            throw new Error("unsupported value for Color.set");
          var Ie = new Yl(ue, ge);
          return W ? (this._rgb = Ie._rgb, this) : Ie;
        }
        throw new Error("unknown channel " + xe + " in mode " + ge);
      } else
        return ue;
    };
    var ff = q, gf = function(B, D, W) {
      var te = B._rgb, ge = D._rgb;
      return new ff(
        te[0] + W * (ge[0] - te[0]),
        te[1] + W * (ge[1] - te[1]),
        te[2] + W * (ge[2] - te[2]),
        "rgb"
      );
    };
    $r.rgb = gf;
    var mi = q, Bs = Math.sqrt, Os = Math.pow, bf = function(B, D, W) {
      var te = B._rgb, ge = te[0], xe = te[1], ue = te[2], Ne = D._rgb, Ie = Ne[0], Ue = Ne[1], Je = Ne[2];
      return new mi(
        Bs(Os(ge, 2) * (1 - W) + Os(Ie, 2) * W),
        Bs(Os(xe, 2) * (1 - W) + Os(Ue, 2) * W),
        Bs(Os(ue, 2) * (1 - W) + Os(Je, 2) * W),
        "rgb"
      );
    };
    $r.lrgb = bf;
    var Ls = q, xo = function(B, D, W) {
      var te = B.lab(), ge = D.lab();
      return new Ls(
        te[0] + W * (ge[0] - te[0]),
        te[1] + W * (ge[1] - te[1]),
        te[2] + W * (ge[2] - te[2]),
        "lab"
      );
    };
    $r.lab = xo;
    var Kl = q, Zi = function(B, D, W, te) {
      var ge, xe, ue, Ne;
      te === "hsl" ? (ue = B.hsl(), Ne = D.hsl()) : te === "hsv" ? (ue = B.hsv(), Ne = D.hsv()) : te === "hcg" ? (ue = B.hcg(), Ne = D.hcg()) : te === "hsi" ? (ue = B.hsi(), Ne = D.hsi()) : te === "lch" || te === "hcl" ? (te = "hcl", ue = B.hcl(), Ne = D.hcl()) : te === "oklch" && (ue = B.oklch().reverse(), Ne = D.oklch().reverse());
      var Ie, Ue, Je, yt, nt, It;
      (te.substr(0, 1) === "h" || te === "oklch") && (ge = ue, Ie = ge[0], Je = ge[1], nt = ge[2], xe = Ne, Ue = xe[0], yt = xe[1], It = xe[2]);
      var St, an, fn, _n;
      return !isNaN(Ie) && !isNaN(Ue) ? (Ue > Ie && Ue - Ie > 180 ? _n = Ue - (Ie + 360) : Ue < Ie && Ie - Ue > 180 ? _n = Ue + 360 - Ie : _n = Ue - Ie, an = Ie + W * _n) : isNaN(Ie) ? isNaN(Ue) ? an = Number.NaN : (an = Ue, (nt == 1 || nt == 0) && te != "hsv" && (St = yt)) : (an = Ie, (It == 1 || It == 0) && te != "hsv" && (St = Je)), St === void 0 && (St = Je + W * (yt - Je)), fn = nt + W * (It - nt), te === "oklch" ? new Kl([fn, St, an], te) : new Kl([an, St, fn], te);
    }, _b = Zi, vf = function(B, D, W) {
      return _b(B, D, W, "lch");
    };
    $r.lch = vf, $r.hcl = vf;
    var yf = q, xf = function(B, D, W) {
      var te = B.num(), ge = D.num();
      return new yf(te + W * (ge - te), "num");
    };
    $r.num = xf;
    var Cf = Zi, _f = function(B, D, W) {
      return Cf(B, D, W, "hcg");
    };
    $r.hcg = _f;
    var wb = Zi, js = function(B, D, W) {
      return wb(B, D, W, "hsi");
    };
    $r.hsi = js;
    var Vd = Zi, An = function(B, D, W) {
      return Vd(B, D, W, "hsl");
    };
    $r.hsl = An;
    var Bi = Zi, Co = function(B, D, W) {
      return Bi(B, D, W, "hsv");
    };
    $r.hsv = Co;
    var Hd = q, _o = function(B, D, W) {
      var te = B.oklab(), ge = D.oklab();
      return new Hd(
        te[0] + W * (ge[0] - te[0]),
        te[1] + W * (ge[1] - te[1]),
        te[2] + W * (ge[2] - te[2]),
        "oklab"
      );
    };
    $r.oklab = _o;
    var Ds = Zi, Fs = function(B, D, W) {
      return Ds(B, D, W, "oklch");
    };
    $r.oklch = Fs;
    var Mh = q, $d = M.clip_rgb, Zl = Math.pow, Jl = Math.sqrt, qr = Math.PI, qd = Math.cos, wo = Math.sin, Sh = Math.atan2, Yd = function(B, D, W) {
      D === void 0 && (D = "lrgb"), W === void 0 && (W = null);
      var te = B.length;
      W || (W = Array.from(new Array(te)).map(function() {
        return 1;
      }));
      var ge = te / W.reduce(function(an, fn) {
        return an + fn;
      });
      if (W.forEach(function(an, fn) {
        W[fn] *= ge;
      }), B = B.map(function(an) {
        return new Mh(an);
      }), D === "lrgb")
        return Tt(B, W);
      for (var xe = B.shift(), ue = xe.get(D), Ne = [], Ie = 0, Ue = 0, Je = 0; Je < ue.length; Je++)
        if (ue[Je] = (ue[Je] || 0) * W[0], Ne.push(isNaN(ue[Je]) ? 0 : W[0]), D.charAt(Je) === "h" && !isNaN(ue[Je])) {
          var yt = ue[Je] / 180 * qr;
          Ie += qd(yt) * W[0], Ue += wo(yt) * W[0];
        }
      var nt = xe.alpha() * W[0];
      B.forEach(function(an, fn) {
        var _n = an.get(D);
        nt += an.alpha() * W[fn + 1];
        for (var Rn = 0; Rn < ue.length; Rn++)
          if (!isNaN(_n[Rn]))
            if (Ne[Rn] += W[fn + 1], D.charAt(Rn) === "h") {
              var Rr = _n[Rn] / 180 * qr;
              Ie += qd(Rr) * W[fn + 1], Ue += wo(Rr) * W[fn + 1];
            } else
              ue[Rn] += _n[Rn] * W[fn + 1];
      });
      for (var It = 0; It < ue.length; It++)
        if (D.charAt(It) === "h") {
          for (var St = Sh(Ue / Ne[It], Ie / Ne[It]) / qr * 180; St < 0; )
            St += 360;
          for (; St >= 360; )
            St -= 360;
          ue[It] = St;
        } else
          ue[It] = ue[It] / Ne[It];
      return nt /= te, new Mh(ue, D).alpha(nt > 0.99999 ? 1 : nt, !0);
    }, Tt = function(B, D) {
      for (var W = B.length, te = [0, 0, 0, 0], ge = 0; ge < B.length; ge++) {
        var xe = B[ge], ue = D[ge] / W, Ne = xe._rgb;
        te[0] += Zl(Ne[0], 2) * ue, te[1] += Zl(Ne[1], 2) * ue, te[2] += Zl(Ne[2], 2) * ue, te[3] += Ne[3] * ue;
      }
      return te[0] = Jl(te[0]), te[1] = Jl(te[1]), te[2] = Jl(te[2]), te[3] > 0.9999999 && (te[3] = 1), new Mh($d(te));
    }, Kn = ae, ks = M.type, zr = Math.pow, Ji = function(B) {
      var D = "rgb", W = Kn("#ccc"), te = 0, ge = [0, 1], xe = [], ue = [0, 0], Ne = !1, Ie = [], Ue = !1, Je = 0, yt = 1, nt = !1, It = {}, St = !0, an = 1, fn = function(rt) {
        if (rt = rt || ["#fff", "#000"], rt && ks(rt) === "string" && Kn.brewer && Kn.brewer[rt.toLowerCase()] && (rt = Kn.brewer[rt.toLowerCase()]), ks(rt) === "array") {
          rt.length === 1 && (rt = [rt[0], rt[0]]), rt = rt.slice(0);
          for (var Vt = 0; Vt < rt.length; Vt++)
            rt[Vt] = Kn(rt[Vt]);
          xe.length = 0;
          for (var un = 0; un < rt.length; un++)
            xe.push(un / (rt.length - 1));
        }
        return Qr(), Ie = rt;
      }, _n = function(rt) {
        if (Ne != null) {
          for (var Vt = Ne.length - 1, un = 0; un < Vt && rt >= Ne[un]; )
            un++;
          return un - 1;
        }
        return 0;
      }, Rn = function(rt) {
        return rt;
      }, Rr = function(rt) {
        return rt;
      }, Mr = function(rt, Vt) {
        var un, sn;
        if (Vt == null && (Vt = !1), isNaN(rt) || rt === null)
          return W;
        if (Vt)
          sn = rt;
        else if (Ne && Ne.length > 2) {
          var Br = _n(rt);
          sn = Br / (Ne.length - 2);
        } else
          yt !== Je ? sn = (rt - Je) / (yt - Je) : sn = 1;
        sn = Rr(sn), Vt || (sn = Rn(sn)), an !== 1 && (sn = zr(sn, an)), sn = ue[0] + sn * (1 - ue[0] - ue[1]), sn = Math.min(1, Math.max(0, sn));
        var Zn = Math.floor(sn * 1e4);
        if (St && It[Zn])
          un = It[Zn];
        else {
          if (ks(Ie) === "array")
            for (var wn = 0; wn < xe.length; wn++) {
              var On = xe[wn];
              if (sn <= On) {
                un = Ie[wn];
                break;
              }
              if (sn >= On && wn === xe.length - 1) {
                un = Ie[wn];
                break;
              }
              if (sn > On && sn < xe[wn + 1]) {
                sn = (sn - On) / (xe[wn + 1] - On), un = Kn.interpolate(Ie[wn], Ie[wn + 1], sn, D);
                break;
              }
            }
          else
            ks(Ie) === "function" && (un = Ie(sn));
          St && (It[Zn] = un);
        }
        return un;
      }, Qr = function() {
        return It = {};
      };
      fn(B);
      var yn = function(rt) {
        var Vt = Kn(Mr(rt));
        return Ue && Vt[Ue] ? Vt[Ue]() : Vt;
      };
      return yn.classes = function(rt) {
        if (rt != null) {
          if (ks(rt) === "array")
            Ne = rt, ge = [rt[0], rt[rt.length - 1]];
          else {
            var Vt = Kn.analyze(ge);
            rt === 0 ? Ne = [Vt.min, Vt.max] : Ne = Kn.limits(Vt, "e", rt);
          }
          return yn;
        }
        return Ne;
      }, yn.domain = function(rt) {
        if (!arguments.length)
          return ge;
        Je = rt[0], yt = rt[rt.length - 1], xe = [];
        var Vt = Ie.length;
        if (rt.length === Vt && Je !== yt)
          for (var un = 0, sn = Array.from(rt); un < sn.length; un += 1) {
            var Br = sn[un];
            xe.push((Br - Je) / (yt - Je));
          }
        else {
          for (var Zn = 0; Zn < Vt; Zn++)
            xe.push(Zn / (Vt - 1));
          if (rt.length > 2) {
            var wn = rt.map(function(Ln, Xn) {
              return Xn / (rt.length - 1);
            }), On = rt.map(function(Ln) {
              return (Ln - Je) / (yt - Je);
            });
            On.every(function(Ln, Xn) {
              return wn[Xn] === Ln;
            }) || (Rr = function(Ln) {
              if (Ln <= 0 || Ln >= 1)
                return Ln;
              for (var Xn = 0; Ln >= On[Xn + 1]; )
                Xn++;
              var Li = (Ln - On[Xn]) / (On[Xn + 1] - On[Xn]), ta = wn[Xn] + Li * (wn[Xn + 1] - wn[Xn]);
              return ta;
            });
          }
        }
        return ge = [Je, yt], yn;
      }, yn.mode = function(rt) {
        return arguments.length ? (D = rt, Qr(), yn) : D;
      }, yn.range = function(rt, Vt) {
        return fn(rt), yn;
      }, yn.out = function(rt) {
        return Ue = rt, yn;
      }, yn.spread = function(rt) {
        return arguments.length ? (te = rt, yn) : te;
      }, yn.correctLightness = function(rt) {
        return rt == null && (rt = !0), nt = rt, Qr(), nt ? Rn = function(Vt) {
          for (var un = Mr(0, !0).lab()[0], sn = Mr(1, !0).lab()[0], Br = un > sn, Zn = Mr(Vt, !0).lab()[0], wn = un + (sn - un) * Vt, On = Zn - wn, Ln = 0, Xn = 1, Li = 20; Math.abs(On) > 0.01 && Li-- > 0; )
            (function() {
              return Br && (On *= -1), On < 0 ? (Ln = Vt, Vt += (Xn - Vt) * 0.5) : (Xn = Vt, Vt += (Ln - Vt) * 0.5), Zn = Mr(Vt, !0).lab()[0], On = Zn - wn;
            })();
          return Vt;
        } : Rn = function(Vt) {
          return Vt;
        }, yn;
      }, yn.padding = function(rt) {
        return rt != null ? (ks(rt) === "number" && (rt = [rt, rt]), ue = rt, yn) : ue;
      }, yn.colors = function(rt, Vt) {
        arguments.length < 2 && (Vt = "hex");
        var un = [];
        if (arguments.length === 0)
          un = Ie.slice(0);
        else if (rt === 1)
          un = [yn(0.5)];
        else if (rt > 1) {
          var sn = ge[0], Br = ge[1] - sn;
          un = To(0, rt).map(function(Xn) {
            return yn(sn + Xn / (rt - 1) * Br);
          });
        } else {
          B = [];
          var Zn = [];
          if (Ne && Ne.length > 2)
            for (var wn = 1, On = Ne.length, Ln = 1 <= On; Ln ? wn < On : wn > On; Ln ? wn++ : wn--)
              Zn.push((Ne[wn - 1] + Ne[wn]) * 0.5);
          else
            Zn = ge;
          un = Zn.map(function(Xn) {
            return yn(Xn);
          });
        }
        return Kn[Vt] && (un = un.map(function(Xn) {
          return Xn[Vt]();
        })), un;
      }, yn.cache = function(rt) {
        return rt != null ? (St = rt, yn) : St;
      }, yn.gamma = function(rt) {
        return rt != null ? (an = rt, yn) : an;
      }, yn.nodata = function(rt) {
        return rt != null ? (W = Kn(rt), yn) : W;
      }, yn;
    };
    function To(B, D, W) {
      for (var te = [], ge = B < D, xe = D, ue = B; ge ? ue < xe : ue > xe; ge ? ue++ : ue--)
        te.push(ue);
      return te;
    }
    var Ql = q, Jr = Ji, ec = function(B) {
      for (var D = [1, 1], W = 1; W < B; W++) {
        for (var te = [1], ge = 1; ge <= D.length; ge++)
          te[ge] = (D[ge] || 0) + D[ge - 1];
        D = te;
      }
      return D;
    }, Tb = function(B) {
      var D, W, te, ge, xe, ue, Ne;
      if (B = B.map(function(nt) {
        return new Ql(nt);
      }), B.length === 2)
        D = B.map(function(nt) {
          return nt.lab();
        }), xe = D[0], ue = D[1], ge = function(nt) {
          var It = [0, 1, 2].map(function(St) {
            return xe[St] + nt * (ue[St] - xe[St]);
          });
          return new Ql(It, "lab");
        };
      else if (B.length === 3)
        W = B.map(function(nt) {
          return nt.lab();
        }), xe = W[0], ue = W[1], Ne = W[2], ge = function(nt) {
          var It = [0, 1, 2].map(function(St) {
            return (1 - nt) * (1 - nt) * xe[St] + 2 * (1 - nt) * nt * ue[St] + nt * nt * Ne[St];
          });
          return new Ql(It, "lab");
        };
      else if (B.length === 4) {
        var Ie;
        te = B.map(function(nt) {
          return nt.lab();
        }), xe = te[0], ue = te[1], Ne = te[2], Ie = te[3], ge = function(nt) {
          var It = [0, 1, 2].map(function(St) {
            return (1 - nt) * (1 - nt) * (1 - nt) * xe[St] + 3 * (1 - nt) * (1 - nt) * nt * ue[St] + 3 * (1 - nt) * nt * nt * Ne[St] + nt * nt * nt * Ie[St];
          });
          return new Ql(It, "lab");
        };
      } else if (B.length >= 5) {
        var Ue, Je, yt;
        Ue = B.map(function(nt) {
          return nt.lab();
        }), yt = B.length - 1, Je = ec(yt), ge = function(nt) {
          var It = 1 - nt, St = [0, 1, 2].map(function(an) {
            return Ue.reduce(function(fn, _n, Rn) {
              return fn + Je[Rn] * Math.pow(It, yt - Rn) * Math.pow(nt, Rn) * _n[an];
            }, 0);
          });
          return new Ql(St, "lab");
        };
      } else
        throw new RangeError("No point in running bezier with only one color.");
      return ge;
    }, fr = function(B) {
      var D = Tb(B);
      return D.scale = function() {
        return Jr(D);
      }, D;
    }, Xs = ae, on = function(B, D, W) {
      if (!on[W])
        throw new Error("unknown blend mode " + W);
      return on[W](B, D);
    }, Zo = function(B) {
      return function(D, W) {
        var te = Xs(W).rgb(), ge = Xs(D).rgb();
        return Xs.rgb(B(te, ge));
      };
    }, Jo = function(B) {
      return function(D, W) {
        var te = [];
        return te[0] = B(D[0], W[0]), te[1] = B(D[1], W[1]), te[2] = B(D[2], W[2]), te;
      };
    }, Nb = function(B) {
      return B;
    }, Mb = function(B, D) {
      return B * D / 255;
    }, Kd = function(B, D) {
      return B > D ? D : B;
    }, Sb = function(B, D) {
      return B > D ? B : D;
    }, Zd = function(B, D) {
      return 255 * (1 - (1 - B / 255) * (1 - D / 255));
    }, Ib = function(B, D) {
      return D < 128 ? 2 * B * D / 255 : 255 * (1 - 2 * (1 - B / 255) * (1 - D / 255));
    }, Rt = function(B, D) {
      return 255 * (1 - (1 - D / 255) / (B / 255));
    }, Ab = function(B, D) {
      return B === 255 ? 255 : (B = 255 * (D / 255) / (1 - B / 255), B > 255 ? 255 : B);
    };
    on.normal = Zo(Jo(Nb)), on.multiply = Zo(Jo(Mb)), on.screen = Zo(Jo(Zd)), on.overlay = Zo(Jo(Ib)), on.darken = Zo(Jo(Kd)), on.lighten = Zo(Jo(Sb)), on.dodge = Zo(Jo(Ab)), on.burn = Zo(Jo(Rt));
    for (var Ti = on, tc = M.type, zs = M.clip_rgb, pi = M.TWOPI, nc = Math.pow, wr = Math.sin, tn = Math.cos, Jd = ae, Fa = function(B, D, W, te, ge) {
      B === void 0 && (B = 300), D === void 0 && (D = -1.5), W === void 0 && (W = 1), te === void 0 && (te = 1), ge === void 0 && (ge = [0, 1]);
      var xe = 0, ue;
      tc(ge) === "array" ? ue = ge[1] - ge[0] : (ue = 0, ge = [ge, ge]);
      var Ne = function(Ie) {
        var Ue = pi * ((B + 120) / 360 + D * Ie), Je = nc(ge[0] + ue * Ie, te), yt = xe !== 0 ? W[0] + Ie * xe : W, nt = yt * Je * (1 - Je) / 2, It = tn(Ue), St = wr(Ue), an = Je + nt * (-0.14861 * It + 1.78277 * St), fn = Je + nt * (-0.29227 * It - 0.90649 * St), _n = Je + nt * (1.97294 * It);
        return Jd(zs([an * 255, fn * 255, _n * 255, 1]));
      };
      return Ne.start = function(Ie) {
        return Ie == null ? B : (B = Ie, Ne);
      }, Ne.rotations = function(Ie) {
        return Ie == null ? D : (D = Ie, Ne);
      }, Ne.gamma = function(Ie) {
        return Ie == null ? te : (te = Ie, Ne);
      }, Ne.hue = function(Ie) {
        return Ie == null ? W : (W = Ie, tc(W) === "array" ? (xe = W[1] - W[0], xe === 0 && (W = W[1])) : xe = 0, Ne);
      }, Ne.lightness = function(Ie) {
        return Ie == null ? ge : (tc(Ie) === "array" ? (ge = Ie, ue = Ie[1] - Ie[0]) : (ge = [Ie, Ie], ue = 0), Ne);
      }, Ne.scale = function() {
        return Jd.scale(Ne);
      }, Ne.hue(W), Ne;
    }, Ih = q, wf = "0123456789abcdef", Us = Math.floor, Gs = Math.random, Ws = function() {
      for (var B = "#", D = 0; D < 6; D++)
        B += wf.charAt(Us(Gs() * 16));
      return new Ih(B, "hex");
    }, rc = g, ic = Math.log, Ah = Math.pow, Eh = Math.floor, Ph = Math.abs, Qd = function(B, D) {
      D === void 0 && (D = null);
      var W = {
        min: Number.MAX_VALUE,
        max: Number.MAX_VALUE * -1,
        sum: 0,
        values: [],
        count: 0
      };
      return rc(B) === "object" && (B = Object.values(B)), B.forEach(function(te) {
        D && rc(te) === "object" && (te = te[D]), te != null && !isNaN(te) && (W.values.push(te), W.sum += te, te < W.min && (W.min = te), te > W.max && (W.max = te), W.count += 1);
      }), W.domain = [W.min, W.max], W.limits = function(te, ge) {
        return em(W, te, ge);
      }, W;
    }, em = function(B, D, W) {
      D === void 0 && (D = "equal"), W === void 0 && (W = 7), rc(B) == "array" && (B = Qd(B));
      var te = B.min, ge = B.max, xe = B.values.sort(function(im, om) {
        return im - om;
      });
      if (W === 1)
        return [te, ge];
      var ue = [];
      if (D.substr(0, 1) === "c" && (ue.push(te), ue.push(ge)), D.substr(0, 1) === "e") {
        ue.push(te);
        for (var Ne = 1; Ne < W; Ne++)
          ue.push(te + Ne / W * (ge - te));
        ue.push(ge);
      } else if (D.substr(0, 1) === "l") {
        if (te <= 0)
          throw new Error("Logarithmic scales are only possible for values > 0");
        var Ie = Math.LOG10E * ic(te), Ue = Math.LOG10E * ic(ge);
        ue.push(te);
        for (var Je = 1; Je < W; Je++)
          ue.push(Ah(10, Ie + Je / W * (Ue - Ie)));
        ue.push(ge);
      } else if (D.substr(0, 1) === "q") {
        ue.push(te);
        for (var yt = 1; yt < W; yt++) {
          var nt = (xe.length - 1) * yt / W, It = Eh(nt);
          if (It === nt)
            ue.push(xe[It]);
          else {
            var St = nt - It;
            ue.push(xe[It] * (1 - St) + xe[It + 1] * St);
          }
        }
        ue.push(ge);
      } else if (D.substr(0, 1) === "k") {
        var an, fn = xe.length, _n = new Array(fn), Rn = new Array(W), Rr = !0, Mr = 0, Qr = null;
        Qr = [], Qr.push(te);
        for (var yn = 1; yn < W; yn++)
          Qr.push(te + yn / W * (ge - te));
        for (Qr.push(ge); Rr; ) {
          for (var rt = 0; rt < W; rt++)
            Rn[rt] = 0;
          for (var Vt = 0; Vt < fn; Vt++)
            for (var un = xe[Vt], sn = Number.MAX_VALUE, Br = void 0, Zn = 0; Zn < W; Zn++) {
              var wn = Ph(Qr[Zn] - un);
              wn < sn && (sn = wn, Br = Zn), Rn[Br]++, _n[Vt] = Br;
            }
          for (var On = new Array(W), Ln = 0; Ln < W; Ln++)
            On[Ln] = null;
          for (var Xn = 0; Xn < fn; Xn++)
            an = _n[Xn], On[an] === null ? On[an] = xe[Xn] : On[an] += xe[Xn];
          for (var Li = 0; Li < W; Li++)
            On[Li] *= 1 / Rn[Li];
          Rr = !1;
          for (var ta = 0; ta < W; ta++)
            if (On[ta] !== Qr[ta]) {
              Rr = !0;
              break;
            }
          Qr = On, Mr++, Mr > 200 && (Rr = !1);
        }
        for (var na = {}, $s = 0; $s < W; $s++)
          na[$s] = [];
        for (var qs = 0; qs < fn; qs++)
          an = _n[qs], na[an].push(xe[qs]);
        for (var Mo = [], Ua = 0; Ua < W; Ua++)
          Mo.push(na[Ua][0]), Mo.push(na[Ua][na[Ua].length - 1]);
        Mo = Mo.sort(function(im, om) {
          return im - om;
        }), ue.push(Mo[0]);
        for (var cc = 1; cc < Mo.length; cc += 2) {
          var Ga = Mo[cc];
          !isNaN(Ga) && ue.indexOf(Ga) === -1 && ue.push(Ga);
        }
      }
      return ue;
    }, tm = { analyze: Qd, limits: em }, oc = q, Rh = function(B, D) {
      B = new oc(B), D = new oc(D);
      var W = B.luminance(), te = D.luminance();
      return W > te ? (W + 0.05) / (te + 0.05) : (te + 0.05) / (W + 0.05);
    }, ur = q, No = Math.sqrt, tr = Math.pow, ka = Math.min, Vs = Math.max, Ur = Math.atan2, Tf = Math.abs, ac = Math.cos, nm = Math.sin, Eb = Math.exp, Nf = Math.PI, Oi = function(B, D, W, te, ge) {
      W === void 0 && (W = 1), te === void 0 && (te = 1), ge === void 0 && (ge = 1);
      var xe = function(Ga) {
        return 360 * Ga / (2 * Nf);
      }, ue = function(Ga) {
        return 2 * Nf * Ga / 360;
      };
      B = new ur(B), D = new ur(D);
      var Ne = Array.from(B.lab()), Ie = Ne[0], Ue = Ne[1], Je = Ne[2], yt = Array.from(D.lab()), nt = yt[0], It = yt[1], St = yt[2], an = (Ie + nt) / 2, fn = No(tr(Ue, 2) + tr(Je, 2)), _n = No(tr(It, 2) + tr(St, 2)), Rn = (fn + _n) / 2, Rr = 0.5 * (1 - No(tr(Rn, 7) / (tr(Rn, 7) + tr(25, 7)))), Mr = Ue * (1 + Rr), Qr = It * (1 + Rr), yn = No(tr(Mr, 2) + tr(Je, 2)), rt = No(tr(Qr, 2) + tr(St, 2)), Vt = (yn + rt) / 2, un = xe(Ur(Je, Mr)), sn = xe(Ur(St, Qr)), Br = un >= 0 ? un : un + 360, Zn = sn >= 0 ? sn : sn + 360, wn = Tf(Br - Zn) > 180 ? (Br + Zn + 360) / 2 : (Br + Zn) / 2, On = 1 - 0.17 * ac(ue(wn - 30)) + 0.24 * ac(ue(2 * wn)) + 0.32 * ac(ue(3 * wn + 6)) - 0.2 * ac(ue(4 * wn - 63)), Ln = Zn - Br;
      Ln = Tf(Ln) <= 180 ? Ln : Zn <= Br ? Ln + 360 : Ln - 360, Ln = 2 * No(yn * rt) * nm(ue(Ln) / 2);
      var Xn = nt - Ie, Li = rt - yn, ta = 1 + 0.015 * tr(an - 50, 2) / No(20 + tr(an - 50, 2)), na = 1 + 0.045 * Vt, $s = 1 + 0.015 * Vt * On, qs = 30 * Eb(-tr((wn - 275) / 25, 2)), Mo = 2 * No(tr(Vt, 7) / (tr(Vt, 7) + tr(25, 7))), Ua = -Mo * nm(2 * ue(qs)), cc = No(tr(Xn / (W * ta), 2) + tr(Li / (te * na), 2) + tr(Ln / (ge * $s), 2) + Ua * (Li / (te * na)) * (Ln / (ge * $s)));
      return Vs(0, ka(100, cc));
    }, sc = q, Qo = function(B, D, W) {
      W === void 0 && (W = "lab"), B = new sc(B), D = new sc(D);
      var te = B.get(W), ge = D.get(W), xe = 0;
      for (var ue in te) {
        var Ne = (te[ue] || 0) - (ge[ue] || 0);
        xe += Ne * Ne;
      }
      return Math.sqrt(xe);
    }, Mf = q, Sf = function() {
      for (var B = [], D = arguments.length; D--; )
        B[D] = arguments[D];
      try {
        return new (Function.prototype.bind.apply(Mf, [null].concat(B)))(), !0;
      } catch {
        return !1;
      }
    }, Tr = ae, Xa = Ji, Hs = {
      cool: function() {
        return Xa([Tr.hsl(180, 1, 0.9), Tr.hsl(250, 0.7, 0.4)]);
      },
      hot: function() {
        return Xa(["#000", "#f00", "#ff0", "#fff"]).mode("rgb");
      }
    }, lc = {
      // sequential
      OrRd: ["#fff7ec", "#fee8c8", "#fdd49e", "#fdbb84", "#fc8d59", "#ef6548", "#d7301f", "#b30000", "#7f0000"],
      PuBu: ["#fff7fb", "#ece7f2", "#d0d1e6", "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858"],
      BuPu: ["#f7fcfd", "#e0ecf4", "#bfd3e6", "#9ebcda", "#8c96c6", "#8c6bb1", "#88419d", "#810f7c", "#4d004b"],
      Oranges: ["#fff5eb", "#fee6ce", "#fdd0a2", "#fdae6b", "#fd8d3c", "#f16913", "#d94801", "#a63603", "#7f2704"],
      BuGn: ["#f7fcfd", "#e5f5f9", "#ccece6", "#99d8c9", "#66c2a4", "#41ae76", "#238b45", "#006d2c", "#00441b"],
      YlOrBr: ["#ffffe5", "#fff7bc", "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506"],
      YlGn: ["#ffffe5", "#f7fcb9", "#d9f0a3", "#addd8e", "#78c679", "#41ab5d", "#238443", "#006837", "#004529"],
      Reds: ["#fff5f0", "#fee0d2", "#fcbba1", "#fc9272", "#fb6a4a", "#ef3b2c", "#cb181d", "#a50f15", "#67000d"],
      RdPu: ["#fff7f3", "#fde0dd", "#fcc5c0", "#fa9fb5", "#f768a1", "#dd3497", "#ae017e", "#7a0177", "#49006a"],
      Greens: ["#f7fcf5", "#e5f5e0", "#c7e9c0", "#a1d99b", "#74c476", "#41ab5d", "#238b45", "#006d2c", "#00441b"],
      YlGnBu: ["#ffffd9", "#edf8b1", "#c7e9b4", "#7fcdbb", "#41b6c4", "#1d91c0", "#225ea8", "#253494", "#081d58"],
      Purples: ["#fcfbfd", "#efedf5", "#dadaeb", "#bcbddc", "#9e9ac8", "#807dba", "#6a51a3", "#54278f", "#3f007d"],
      GnBu: ["#f7fcf0", "#e0f3db", "#ccebc5", "#a8ddb5", "#7bccc4", "#4eb3d3", "#2b8cbe", "#0868ac", "#084081"],
      Greys: ["#ffffff", "#f0f0f0", "#d9d9d9", "#bdbdbd", "#969696", "#737373", "#525252", "#252525", "#000000"],
      YlOrRd: ["#ffffcc", "#ffeda0", "#fed976", "#feb24c", "#fd8d3c", "#fc4e2a", "#e31a1c", "#bd0026", "#800026"],
      PuRd: ["#f7f4f9", "#e7e1ef", "#d4b9da", "#c994c7", "#df65b0", "#e7298a", "#ce1256", "#980043", "#67001f"],
      Blues: ["#f7fbff", "#deebf7", "#c6dbef", "#9ecae1", "#6baed6", "#4292c6", "#2171b5", "#08519c", "#08306b"],
      PuBuGn: ["#fff7fb", "#ece2f0", "#d0d1e6", "#a6bddb", "#67a9cf", "#3690c0", "#02818a", "#016c59", "#014636"],
      Viridis: ["#440154", "#482777", "#3f4a8a", "#31678e", "#26838f", "#1f9d8a", "#6cce5a", "#b6de2b", "#fee825"],
      // diverging
      Spectral: ["#9e0142", "#d53e4f", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#e6f598", "#abdda4", "#66c2a5", "#3288bd", "#5e4fa2"],
      RdYlGn: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee08b", "#ffffbf", "#d9ef8b", "#a6d96a", "#66bd63", "#1a9850", "#006837"],
      RdBu: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#f7f7f7", "#d1e5f0", "#92c5de", "#4393c3", "#2166ac", "#053061"],
      PiYG: ["#8e0152", "#c51b7d", "#de77ae", "#f1b6da", "#fde0ef", "#f7f7f7", "#e6f5d0", "#b8e186", "#7fbc41", "#4d9221", "#276419"],
      PRGn: ["#40004b", "#762a83", "#9970ab", "#c2a5cf", "#e7d4e8", "#f7f7f7", "#d9f0d3", "#a6dba0", "#5aae61", "#1b7837", "#00441b"],
      RdYlBu: ["#a50026", "#d73027", "#f46d43", "#fdae61", "#fee090", "#ffffbf", "#e0f3f8", "#abd9e9", "#74add1", "#4575b4", "#313695"],
      BrBG: ["#543005", "#8c510a", "#bf812d", "#dfc27d", "#f6e8c3", "#f5f5f5", "#c7eae5", "#80cdc1", "#35978f", "#01665e", "#003c30"],
      RdGy: ["#67001f", "#b2182b", "#d6604d", "#f4a582", "#fddbc7", "#ffffff", "#e0e0e0", "#bababa", "#878787", "#4d4d4d", "#1a1a1a"],
      PuOr: ["#7f3b08", "#b35806", "#e08214", "#fdb863", "#fee0b6", "#f7f7f7", "#d8daeb", "#b2abd2", "#8073ac", "#542788", "#2d004b"],
      // qualitative
      Set2: ["#66c2a5", "#fc8d62", "#8da0cb", "#e78ac3", "#a6d854", "#ffd92f", "#e5c494", "#b3b3b3"],
      Accent: ["#7fc97f", "#beaed4", "#fdc086", "#ffff99", "#386cb0", "#f0027f", "#bf5b17", "#666666"],
      Set1: ["#e41a1c", "#377eb8", "#4daf4a", "#984ea3", "#ff7f00", "#ffff33", "#a65628", "#f781bf", "#999999"],
      Set3: ["#8dd3c7", "#ffffb3", "#bebada", "#fb8072", "#80b1d3", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd", "#ccebc5", "#ffed6f"],
      Dark2: ["#1b9e77", "#d95f02", "#7570b3", "#e7298a", "#66a61e", "#e6ab02", "#a6761d", "#666666"],
      Paired: ["#a6cee3", "#1f78b4", "#b2df8a", "#33a02c", "#fb9a99", "#e31a1c", "#fdbf6f", "#ff7f00", "#cab2d6", "#6a3d9a", "#ffff99", "#b15928"],
      Pastel2: ["#b3e2cd", "#fdcdac", "#cbd5e8", "#f4cae4", "#e6f5c9", "#fff2ae", "#f1e2cc", "#cccccc"],
      Pastel1: ["#fbb4ae", "#b3cde3", "#ccebc5", "#decbe4", "#fed9a6", "#ffffcc", "#e5d8bd", "#fddaec", "#f2f2f2"]
    }, za = 0, rm = Object.keys(lc); za < rm.length; za += 1) {
      var Bh = rm[za];
      lc[Bh.toLowerCase()] = lc[Bh];
    }
    var Pb = lc, Nr = ae;
    Nr.average = Yd, Nr.bezier = fr, Nr.blend = Ti, Nr.cubehelix = Fa, Nr.mix = Nr.interpolate = Wt, Nr.random = Ws, Nr.scale = Ji, Nr.analyze = tm.analyze, Nr.contrast = Rh, Nr.deltaE = Oi, Nr.distance = Qo, Nr.limits = tm.limits, Nr.valid = Sf, Nr.scales = Hs, Nr.colors = Od, Nr.brewer = Pb;
    var ea = Nr;
    return ea;
  });
})(xE);
var tre = xE.exports;
const mp = /* @__PURE__ */ Uu(tre), nre = (a, e) => {
  const r = e.getContext("2d");
  if (!r)
    return;
  const { width: o, height: l } = a, h = 1024 / o, d = Math.floor(h * l);
  e.width = 1024, e.height = d, r.drawImage(a, 0, 0, 1024, d);
  const p = new ere({ colors: 1, minHueCols: 256 });
  return p.sample(e), p.palette(!0).map((v) => mp(v).hex())[0];
}, rre = (a, e = !1) => new Promise((n, r) => {
  const o = new Image();
  o.onload = (l) => {
    const { width: h, height: d } = l.target, p = document.createElement("canvas"), g = p.getContext("2d", { willReadFrequently: !0 });
    if (!g) {
      r("Failed to get canvas context");
      return;
    }
    const v = e ? nre(o, p) : void 0, y = Math.pow(2, Math.floor(Math.log2(h)));
    p.width = y, p.height = y / h * d, g.drawImage(o, 0, 0, y, y / h * d);
    const x = p.toDataURL("image/png", 1);
    n({ currentURI: x, currentColor: v, width: h, height: d, downscaleWidth: y });
  }, o.onerror = () => r("Failed to load image"), o.setAttribute("crossOrigin", "anonymous"), o.src = a;
}), ire = (a) => new Promise((e) => {
  const n = new ResizeObserver((r) => {
    for (const o of r)
      o.contentRect.width > 0 && o.contentRect.height > 0 && (e(!0), n == null || n.unobserve(a));
  });
  n.observe(a);
});
var Yt = {}, CE = { exports: {} };
(function(a) {
  function e(n) {
    return n && n.__esModule ? n : {
      default: n
    };
  }
  a.exports = e, a.exports.__esModule = !0, a.exports.default = a.exports;
})(CE);
var Go = CE.exports, _E = { exports: {} };
(function(a) {
  function e(n) {
    "@babel/helpers - typeof";
    return a.exports = e = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(r) {
      return typeof r;
    } : function(r) {
      return r && typeof Symbol == "function" && r.constructor === Symbol && r !== Symbol.prototype ? "symbol" : typeof r;
    }, a.exports.__esModule = !0, a.exports.default = a.exports, e(n);
  }
  a.exports = e, a.exports.__esModule = !0, a.exports.default = a.exports;
})(_E);
var ho = _E.exports, _y = { exports: {} }, KM;
function wl() {
  return KM || (KM = 1, function(a) {
    function e(n, r) {
      if (!(n instanceof r))
        throw new TypeError("Cannot call a class as a function");
    }
    a.exports = e, a.exports.__esModule = !0, a.exports.default = a.exports;
  }(_y)), _y.exports;
}
var wy = { exports: {} }, Ty = { exports: {} }, Ny = { exports: {} }, ZM;
function ore() {
  return ZM || (ZM = 1, function(a) {
    var e = ho.default;
    function n(r, o) {
      if (e(r) != "object" || !r)
        return r;
      var l = r[Symbol.toPrimitive];
      if (l !== void 0) {
        var h = l.call(r, o || "default");
        if (e(h) != "object")
          return h;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (o === "string" ? String : Number)(r);
    }
    a.exports = n, a.exports.__esModule = !0, a.exports.default = a.exports;
  }(Ny)), Ny.exports;
}
var JM;
function wE() {
  return JM || (JM = 1, function(a) {
    var e = ho.default, n = ore();
    function r(o) {
      var l = n(o, "string");
      return e(l) == "symbol" ? l : l + "";
    }
    a.exports = r, a.exports.__esModule = !0, a.exports.default = a.exports;
  }(Ty)), Ty.exports;
}
var QM;
function Tl() {
  return QM || (QM = 1, function(a) {
    var e = wE();
    function n(o, l) {
      for (var h = 0; h < l.length; h++) {
        var d = l[h];
        d.enumerable = d.enumerable || !1, d.configurable = !0, "value" in d && (d.writable = !0), Object.defineProperty(o, e(d.key), d);
      }
    }
    function r(o, l, h) {
      return l && n(o.prototype, l), h && n(o, h), Object.defineProperty(o, "prototype", {
        writable: !1
      }), o;
    }
    a.exports = r, a.exports.__esModule = !0, a.exports.default = a.exports;
  }(wy)), wy.exports;
}
var My = { exports: {} }, e3;
function ga() {
  return e3 || (e3 = 1, function(a) {
    var e = wE();
    function n(r, o, l) {
      return (o = e(o)) in r ? Object.defineProperty(r, o, {
        value: l,
        enumerable: !0,
        configurable: !0,
        writable: !0
      }) : r[o] = l, r;
    }
    a.exports = n, a.exports.__esModule = !0, a.exports.default = a.exports;
  }(My)), My.exports;
}
var z = {};
/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
var t3;
function ps() {
  if (t3)
    return z;
  t3 = 1;
  const a = "164", e = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 }, n = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 }, r = 0, o = 1, l = 2, h = 3, d = 0, p = 1, g = 2, v = 3, y = 0, x = 1, w = 2, T = 0, M = 1, S = 2, L = 3, F = 4, G = 5, $ = 100, K = 101, q = 102, he = 103, ae = 104, ve = 200, ne = 201, se = 202, oe = 203, J = 204, pe = 205, be = 206, fe = 207, de = 208, Fe = 209, Be = 210, _e = 211, Xe = 212, De = 213, ft = 214, gt = 0, Lt = 1, Nt = 2, Mt = 3, qt = 4, Xt = 5, Gt = 6, Pn = 7, at = 0, sr = 1, _r = 2, Er = 0, th = 1, Wo = 2, vs = 3, ys = 4, xa = 5, Il = 6, Ca = 7, uo = "attached", Al = "detached", _a = 300, xi = 301, Ei = 302, Vo = 303, Ho = 304, wa = 306, El = 1e3, Ci = 1001, xs = 1002, yr = 1003, od = 1004, j0 = 1004, Ta = 1005, Op = 1005, pr = 1006, Pl = 1007, D0 = 1007, Vi = 1008, F0 = 1008, mo = 1009, Lp = 1010, jp = 1011, ad = 1012, sd = 1013, Na = 1014, _i = 1015, Rl = 1016, nh = 1017, rh = 1018, Cs = 1020, Dp = 35902, Fp = 1021, Bl = 1022, ci = 1023, ld = 1024, kp = 1025, Ma = 1026, _s = 1027, ih = 1028, cd = 1029, hd = 1030, ud = 1031, oh = 1033, ah = 33776, sh = 33777, Ol = 33778, lh = 33779, dd = 35840, md = 35841, pd = 35842, fd = 35843, gd = 36196, Ll = 37492, $o = 37496, jl = 37808, qo = 37809, bd = 37810, vd = 37811, yd = 37812, xd = 37813, Cd = 37814, ch = 37815, hh = 37816, _d = 37817, wd = 37818, Td = 37819, Nd = 37820, uh = 37821, Dl = 36492, Md = 36494, Sd = 36495, Xp = 36283, Id = 36284, Ad = 36285, Ed = 36286, zp = 2200, Up = 2201, Gp = 2202, Fl = 2300, kl = 2301, dh = 2302, Sa = 2400, Yo = 2401, ws = 2402, mh = 2500, Ts = 2501, Ns = 0, k0 = 1, Wp = 2, Vp = 3200, ph = 3201, Hi = 0, Hp = 1, $i = "", Pr = "srgb", po = "srgb-linear", fh = "display-p3", Xl = "display-p3-linear", Ia = "linear", zn = "srgb", Ms = "rec709", zl = "p3", X0 = 0, Aa = 7680, $p = 7681, qp = 7682, z0 = 7683, U0 = 34055, G0 = 34056, W0 = 5386, V0 = 512, H0 = 513, $0 = 514, Yp = 515, q0 = 516, Y0 = 517, K0 = 518, Pd = 519, Kp = 512, Zp = 513, Jp = 514, Rd = 515, Qp = 516, ef = 517, Bd = 518, tf = 519, Ul = 35044, Z0 = 35048, J0 = 35040, nf = 35045, Q0 = 35049, eb = 35041, tb = 35046, nb = 35050, rb = 35042, ib = "100", gh = "300 es", hi = 2e3, Ea = 2001;
  class qi {
    addEventListener(t, i) {
      this._listeners === void 0 && (this._listeners = {});
      const s = this._listeners;
      s[t] === void 0 && (s[t] = []), s[t].indexOf(i) === -1 && s[t].push(i);
    }
    hasEventListener(t, i) {
      if (this._listeners === void 0)
        return !1;
      const s = this._listeners;
      return s[t] !== void 0 && s[t].indexOf(i) !== -1;
    }
    removeEventListener(t, i) {
      if (this._listeners === void 0)
        return;
      const c = this._listeners[t];
      if (c !== void 0) {
        const u = c.indexOf(i);
        u !== -1 && c.splice(u, 1);
      }
    }
    dispatchEvent(t) {
      if (this._listeners === void 0)
        return;
      const s = this._listeners[t.type];
      if (s !== void 0) {
        t.target = this;
        const c = s.slice(0);
        for (let u = 0, f = c.length; u < f; u++)
          c[u].call(this, t);
        t.target = null;
      }
    }
  }
  const Fr = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "0a", "0b", "0c", "0d", "0e", "0f", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "1a", "1b", "1c", "1d", "1e", "1f", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "2a", "2b", "2c", "2d", "2e", "2f", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "3a", "3b", "3c", "3d", "3e", "3f", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "4a", "4b", "4c", "4d", "4e", "4f", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "5a", "5b", "5c", "5d", "5e", "5f", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "6a", "6b", "6c", "6d", "6e", "6f", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "7a", "7b", "7c", "7d", "7e", "7f", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "8a", "8b", "8c", "8d", "8e", "8f", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "9a", "9b", "9c", "9d", "9e", "9f", "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "a9", "aa", "ab", "ac", "ad", "ae", "af", "b0", "b1", "b2", "b3", "b4", "b5", "b6", "b7", "b8", "b9", "ba", "bb", "bc", "bd", "be", "bf", "c0", "c1", "c2", "c3", "c4", "c5", "c6", "c7", "c8", "c9", "ca", "cb", "cc", "cd", "ce", "cf", "d0", "d1", "d2", "d3", "d4", "d5", "d6", "d7", "d8", "d9", "da", "db", "dc", "dd", "de", "df", "e0", "e1", "e2", "e3", "e4", "e5", "e6", "e7", "e8", "e9", "ea", "eb", "ec", "ed", "ee", "ef", "f0", "f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8", "f9", "fa", "fb", "fc", "fd", "fe", "ff"];
  let Od = 1234567;
  const Pa = Math.PI / 180, Ra = 180 / Math.PI;
  function ui() {
    const m = Math.random() * 4294967295 | 0, t = Math.random() * 4294967295 | 0, i = Math.random() * 4294967295 | 0, s = Math.random() * 4294967295 | 0;
    return (Fr[m & 255] + Fr[m >> 8 & 255] + Fr[m >> 16 & 255] + Fr[m >> 24 & 255] + "-" + Fr[t & 255] + Fr[t >> 8 & 255] + "-" + Fr[t >> 16 & 15 | 64] + Fr[t >> 24 & 255] + "-" + Fr[i & 63 | 128] + Fr[i >> 8 & 255] + "-" + Fr[i >> 16 & 255] + Fr[i >> 24 & 255] + Fr[s & 255] + Fr[s >> 8 & 255] + Fr[s >> 16 & 255] + Fr[s >> 24 & 255]).toLowerCase();
  }
  function Yn(m, t, i) {
    return Math.max(t, Math.min(i, m));
  }
  function Ld(m, t) {
    return (m % t + t) % t;
  }
  function ob(m, t, i, s, c) {
    return s + (m - t) * (c - s) / (i - t);
  }
  function ab(m, t, i) {
    return m !== t ? (i - m) / (t - m) : 0;
  }
  function Gl(m, t, i) {
    return (1 - i) * m + i * t;
  }
  function sb(m, t, i, s) {
    return Gl(m, t, 1 - Math.exp(-i * s));
  }
  function lb(m, t = 1) {
    return t - Math.abs(Ld(m, t * 2) - t);
  }
  function cb(m, t, i) {
    return m <= t ? 0 : m >= i ? 1 : (m = (m - t) / (i - t), m * m * (3 - 2 * m));
  }
  function hb(m, t, i) {
    return m <= t ? 0 : m >= i ? 1 : (m = (m - t) / (i - t), m * m * m * (m * (m * 6 - 15) + 10));
  }
  function ub(m, t) {
    return m + Math.floor(Math.random() * (t - m + 1));
  }
  function rf(m, t) {
    return m + Math.random() * (t - m);
  }
  function of(m) {
    return m * (0.5 - Math.random());
  }
  function db(m) {
    m !== void 0 && (Od = m);
    let t = Od += 1831565813;
    return t = Math.imul(t ^ t >>> 15, t | 1), t ^= t + Math.imul(t ^ t >>> 7, t | 61), ((t ^ t >>> 14) >>> 0) / 4294967296;
  }
  function mb(m) {
    return m * Pa;
  }
  function pb(m) {
    return m * Ra;
  }
  function jd(m) {
    return (m & m - 1) === 0 && m !== 0;
  }
  function af(m) {
    return Math.pow(2, Math.ceil(Math.log(m) / Math.LN2));
  }
  function sf(m) {
    return Math.pow(2, Math.floor(Math.log(m) / Math.LN2));
  }
  function lf(m, t, i, s, c) {
    const u = Math.cos, f = Math.sin, b = u(i / 2), C = f(i / 2), _ = u((t + s) / 2), N = f((t + s) / 2), I = u((t - s) / 2), A = f((t - s) / 2), E = u((s - t) / 2), R = f((s - t) / 2);
    switch (c) {
      case "XYX":
        m.set(b * N, C * I, C * A, b * _);
        break;
      case "YZY":
        m.set(C * A, b * N, C * I, b * _);
        break;
      case "ZXZ":
        m.set(C * I, C * A, b * N, b * _);
        break;
      case "XZX":
        m.set(b * N, C * R, C * E, b * _);
        break;
      case "YXY":
        m.set(C * E, b * N, C * R, b * _);
        break;
      case "ZYZ":
        m.set(C * R, C * E, b * N, b * _);
        break;
      default:
        console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: " + c);
    }
  }
  function kr(m, t) {
    switch (t.constructor) {
      case Float32Array:
        return m;
      case Uint32Array:
        return m / 4294967295;
      case Uint16Array:
        return m / 65535;
      case Uint8Array:
        return m / 255;
      case Int32Array:
        return Math.max(m / 2147483647, -1);
      case Int16Array:
        return Math.max(m / 32767, -1);
      case Int8Array:
        return Math.max(m / 127, -1);
      default:
        throw new Error("Invalid component type.");
    }
  }
  function Jt(m, t) {
    switch (t.constructor) {
      case Float32Array:
        return m;
      case Uint32Array:
        return Math.round(m * 4294967295);
      case Uint16Array:
        return Math.round(m * 65535);
      case Uint8Array:
        return Math.round(m * 255);
      case Int32Array:
        return Math.round(m * 2147483647);
      case Int16Array:
        return Math.round(m * 32767);
      case Int8Array:
        return Math.round(m * 127);
      default:
        throw new Error("Invalid component type.");
    }
  }
  const fb = {
    DEG2RAD: Pa,
    RAD2DEG: Ra,
    generateUUID: ui,
    clamp: Yn,
    euclideanModulo: Ld,
    mapLinear: ob,
    inverseLerp: ab,
    lerp: Gl,
    damp: sb,
    pingpong: lb,
    smoothstep: cb,
    smootherstep: hb,
    randInt: ub,
    randFloat: rf,
    randFloatSpread: of,
    seededRandom: db,
    degToRad: mb,
    radToDeg: pb,
    isPowerOfTwo: jd,
    ceilPowerOfTwo: af,
    floorPowerOfTwo: sf,
    setQuaternionFromProperEuler: lf,
    normalize: Jt,
    denormalize: kr
  };
  class $e {
    constructor(t = 0, i = 0) {
      $e.prototype.isVector2 = !0, this.x = t, this.y = i;
    }
    get width() {
      return this.x;
    }
    set width(t) {
      this.x = t;
    }
    get height() {
      return this.y;
    }
    set height(t) {
      this.y = t;
    }
    set(t, i) {
      return this.x = t, this.y = i, this;
    }
    setScalar(t) {
      return this.x = t, this.y = t, this;
    }
    setX(t) {
      return this.x = t, this;
    }
    setY(t) {
      return this.y = t, this;
    }
    setComponent(t, i) {
      switch (t) {
        case 0:
          this.x = i;
          break;
        case 1:
          this.y = i;
          break;
        default:
          throw new Error("index is out of range: " + t);
      }
      return this;
    }
    getComponent(t) {
      switch (t) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        default:
          throw new Error("index is out of range: " + t);
      }
    }
    clone() {
      return new this.constructor(this.x, this.y);
    }
    copy(t) {
      return this.x = t.x, this.y = t.y, this;
    }
    add(t) {
      return this.x += t.x, this.y += t.y, this;
    }
    addScalar(t) {
      return this.x += t, this.y += t, this;
    }
    addVectors(t, i) {
      return this.x = t.x + i.x, this.y = t.y + i.y, this;
    }
    addScaledVector(t, i) {
      return this.x += t.x * i, this.y += t.y * i, this;
    }
    sub(t) {
      return this.x -= t.x, this.y -= t.y, this;
    }
    subScalar(t) {
      return this.x -= t, this.y -= t, this;
    }
    subVectors(t, i) {
      return this.x = t.x - i.x, this.y = t.y - i.y, this;
    }
    multiply(t) {
      return this.x *= t.x, this.y *= t.y, this;
    }
    multiplyScalar(t) {
      return this.x *= t, this.y *= t, this;
    }
    divide(t) {
      return this.x /= t.x, this.y /= t.y, this;
    }
    divideScalar(t) {
      return this.multiplyScalar(1 / t);
    }
    applyMatrix3(t) {
      const i = this.x, s = this.y, c = t.elements;
      return this.x = c[0] * i + c[3] * s + c[6], this.y = c[1] * i + c[4] * s + c[7], this;
    }
    min(t) {
      return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this;
    }
    max(t) {
      return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this;
    }
    clamp(t, i) {
      return this.x = Math.max(t.x, Math.min(i.x, this.x)), this.y = Math.max(t.y, Math.min(i.y, this.y)), this;
    }
    clampScalar(t, i) {
      return this.x = Math.max(t, Math.min(i, this.x)), this.y = Math.max(t, Math.min(i, this.y)), this;
    }
    clampLength(t, i) {
      const s = this.length();
      return this.divideScalar(s || 1).multiplyScalar(Math.max(t, Math.min(i, s)));
    }
    floor() {
      return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
    }
    ceil() {
      return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this;
    }
    round() {
      return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
    }
    roundToZero() {
      return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this;
    }
    negate() {
      return this.x = -this.x, this.y = -this.y, this;
    }
    dot(t) {
      return this.x * t.x + this.y * t.y;
    }
    cross(t) {
      return this.x * t.y - this.y * t.x;
    }
    lengthSq() {
      return this.x * this.x + this.y * this.y;
    }
    length() {
      return Math.sqrt(this.x * this.x + this.y * this.y);
    }
    manhattanLength() {
      return Math.abs(this.x) + Math.abs(this.y);
    }
    normalize() {
      return this.divideScalar(this.length() || 1);
    }
    angle() {
      return Math.atan2(-this.y, -this.x) + Math.PI;
    }
    angleTo(t) {
      const i = Math.sqrt(this.lengthSq() * t.lengthSq());
      if (i === 0)
        return Math.PI / 2;
      const s = this.dot(t) / i;
      return Math.acos(Yn(s, -1, 1));
    }
    distanceTo(t) {
      return Math.sqrt(this.distanceToSquared(t));
    }
    distanceToSquared(t) {
      const i = this.x - t.x, s = this.y - t.y;
      return i * i + s * s;
    }
    manhattanDistanceTo(t) {
      return Math.abs(this.x - t.x) + Math.abs(this.y - t.y);
    }
    setLength(t) {
      return this.normalize().multiplyScalar(t);
    }
    lerp(t, i) {
      return this.x += (t.x - this.x) * i, this.y += (t.y - this.y) * i, this;
    }
    lerpVectors(t, i, s) {
      return this.x = t.x + (i.x - t.x) * s, this.y = t.y + (i.y - t.y) * s, this;
    }
    equals(t) {
      return t.x === this.x && t.y === this.y;
    }
    fromArray(t, i = 0) {
      return this.x = t[i], this.y = t[i + 1], this;
    }
    toArray(t = [], i = 0) {
      return t[i] = this.x, t[i + 1] = this.y, t;
    }
    fromBufferAttribute(t, i) {
      return this.x = t.getX(i), this.y = t.getY(i), this;
    }
    rotateAround(t, i) {
      const s = Math.cos(i), c = Math.sin(i), u = this.x - t.x, f = this.y - t.y;
      return this.x = u * s - f * c + t.x, this.y = u * c + f * s + t.y, this;
    }
    random() {
      return this.x = Math.random(), this.y = Math.random(), this;
    }
    *[Symbol.iterator]() {
      yield this.x, yield this.y;
    }
  }
  class en {
    constructor(t, i, s, c, u, f, b, C, _) {
      en.prototype.isMatrix3 = !0, this.elements = [
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1
      ], t !== void 0 && this.set(t, i, s, c, u, f, b, C, _);
    }
    set(t, i, s, c, u, f, b, C, _) {
      const N = this.elements;
      return N[0] = t, N[1] = c, N[2] = b, N[3] = i, N[4] = u, N[5] = C, N[6] = s, N[7] = f, N[8] = _, this;
    }
    identity() {
      return this.set(
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1
      ), this;
    }
    copy(t) {
      const i = this.elements, s = t.elements;
      return i[0] = s[0], i[1] = s[1], i[2] = s[2], i[3] = s[3], i[4] = s[4], i[5] = s[5], i[6] = s[6], i[7] = s[7], i[8] = s[8], this;
    }
    extractBasis(t, i, s) {
      return t.setFromMatrix3Column(this, 0), i.setFromMatrix3Column(this, 1), s.setFromMatrix3Column(this, 2), this;
    }
    setFromMatrix4(t) {
      const i = t.elements;
      return this.set(
        i[0],
        i[4],
        i[8],
        i[1],
        i[5],
        i[9],
        i[2],
        i[6],
        i[10]
      ), this;
    }
    multiply(t) {
      return this.multiplyMatrices(this, t);
    }
    premultiply(t) {
      return this.multiplyMatrices(t, this);
    }
    multiplyMatrices(t, i) {
      const s = t.elements, c = i.elements, u = this.elements, f = s[0], b = s[3], C = s[6], _ = s[1], N = s[4], I = s[7], A = s[2], E = s[5], R = s[8], j = c[0], O = c[3], P = c[6], U = c[1], k = c[4], V = c[7], me = c[2], ee = c[5], le = c[8];
      return u[0] = f * j + b * U + C * me, u[3] = f * O + b * k + C * ee, u[6] = f * P + b * V + C * le, u[1] = _ * j + N * U + I * me, u[4] = _ * O + N * k + I * ee, u[7] = _ * P + N * V + I * le, u[2] = A * j + E * U + R * me, u[5] = A * O + E * k + R * ee, u[8] = A * P + E * V + R * le, this;
    }
    multiplyScalar(t) {
      const i = this.elements;
      return i[0] *= t, i[3] *= t, i[6] *= t, i[1] *= t, i[4] *= t, i[7] *= t, i[2] *= t, i[5] *= t, i[8] *= t, this;
    }
    determinant() {
      const t = this.elements, i = t[0], s = t[1], c = t[2], u = t[3], f = t[4], b = t[5], C = t[6], _ = t[7], N = t[8];
      return i * f * N - i * b * _ - s * u * N + s * b * C + c * u * _ - c * f * C;
    }
    invert() {
      const t = this.elements, i = t[0], s = t[1], c = t[2], u = t[3], f = t[4], b = t[5], C = t[6], _ = t[7], N = t[8], I = N * f - b * _, A = b * C - N * u, E = _ * u - f * C, R = i * I + s * A + c * E;
      if (R === 0)
        return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);
      const j = 1 / R;
      return t[0] = I * j, t[1] = (c * _ - N * s) * j, t[2] = (b * s - c * f) * j, t[3] = A * j, t[4] = (N * i - c * C) * j, t[5] = (c * u - b * i) * j, t[6] = E * j, t[7] = (s * C - _ * i) * j, t[8] = (f * i - s * u) * j, this;
    }
    transpose() {
      let t;
      const i = this.elements;
      return t = i[1], i[1] = i[3], i[3] = t, t = i[2], i[2] = i[6], i[6] = t, t = i[5], i[5] = i[7], i[7] = t, this;
    }
    getNormalMatrix(t) {
      return this.setFromMatrix4(t).invert().transpose();
    }
    transposeIntoArray(t) {
      const i = this.elements;
      return t[0] = i[0], t[1] = i[3], t[2] = i[6], t[3] = i[1], t[4] = i[4], t[5] = i[7], t[6] = i[2], t[7] = i[5], t[8] = i[8], this;
    }
    setUvTransform(t, i, s, c, u, f, b) {
      const C = Math.cos(u), _ = Math.sin(u);
      return this.set(
        s * C,
        s * _,
        -s * (C * f + _ * b) + f + t,
        -c * _,
        c * C,
        -c * (-_ * f + C * b) + b + i,
        0,
        0,
        1
      ), this;
    }
    //
    scale(t, i) {
      return this.premultiply(Dd.makeScale(t, i)), this;
    }
    rotate(t) {
      return this.premultiply(Dd.makeRotation(-t)), this;
    }
    translate(t, i) {
      return this.premultiply(Dd.makeTranslation(t, i)), this;
    }
    // for 2D Transforms
    makeTranslation(t, i) {
      return t.isVector2 ? this.set(
        1,
        0,
        t.x,
        0,
        1,
        t.y,
        0,
        0,
        1
      ) : this.set(
        1,
        0,
        t,
        0,
        1,
        i,
        0,
        0,
        1
      ), this;
    }
    makeRotation(t) {
      const i = Math.cos(t), s = Math.sin(t);
      return this.set(
        i,
        -s,
        0,
        s,
        i,
        0,
        0,
        0,
        1
      ), this;
    }
    makeScale(t, i) {
      return this.set(
        t,
        0,
        0,
        0,
        i,
        0,
        0,
        0,
        1
      ), this;
    }
    //
    equals(t) {
      const i = this.elements, s = t.elements;
      for (let c = 0; c < 9; c++)
        if (i[c] !== s[c])
          return !1;
      return !0;
    }
    fromArray(t, i = 0) {
      for (let s = 0; s < 9; s++)
        this.elements[s] = t[s + i];
      return this;
    }
    toArray(t = [], i = 0) {
      const s = this.elements;
      return t[i] = s[0], t[i + 1] = s[1], t[i + 2] = s[2], t[i + 3] = s[3], t[i + 4] = s[4], t[i + 5] = s[5], t[i + 6] = s[6], t[i + 7] = s[7], t[i + 8] = s[8], t;
    }
    clone() {
      return new this.constructor().fromArray(this.elements);
    }
  }
  const Dd = /* @__PURE__ */ new en();
  function cf(m) {
    for (let t = m.length - 1; t >= 0; --t)
      if (m[t] >= 65535)
        return !0;
    return !1;
  }
  const gb = {
    Int8Array,
    Uint8Array,
    Uint8ClampedArray,
    Int16Array,
    Uint16Array,
    Int32Array,
    Uint32Array,
    Float32Array,
    Float64Array
  };
  function Ss(m, t) {
    return new gb[m](t);
  }
  function Ba(m) {
    return document.createElementNS("http://www.w3.org/1999/xhtml", m);
  }
  function Wl() {
    const m = Ba("canvas");
    return m.style.display = "block", m;
  }
  const bh = {};
  function hf(m) {
    m in bh || (bh[m] = !0, console.warn(m));
  }
  const uf = /* @__PURE__ */ new en().set(
    0.8224621,
    0.177538,
    0,
    0.0331941,
    0.9668058,
    0,
    0.0170827,
    0.0723974,
    0.9105199
  ), vh = /* @__PURE__ */ new en().set(
    1.2249401,
    -0.2249404,
    0,
    -0.0420569,
    1.0420571,
    0,
    -0.0196376,
    -0.0786361,
    1.0982735
  ), yh = {
    [po]: {
      transfer: Ia,
      primaries: Ms,
      toReference: (m) => m,
      fromReference: (m) => m
    },
    [Pr]: {
      transfer: zn,
      primaries: Ms,
      toReference: (m) => m.convertSRGBToLinear(),
      fromReference: (m) => m.convertLinearToSRGB()
    },
    [Xl]: {
      transfer: Ia,
      primaries: zl,
      toReference: (m) => m.applyMatrix3(vh),
      fromReference: (m) => m.applyMatrix3(uf)
    },
    [fh]: {
      transfer: zn,
      primaries: zl,
      toReference: (m) => m.convertSRGBToLinear().applyMatrix3(vh),
      fromReference: (m) => m.applyMatrix3(uf).convertLinearToSRGB()
    }
  }, bb = /* @__PURE__ */ new Set([po, Xl]), Fn = {
    enabled: !0,
    _workingColorSpace: po,
    get workingColorSpace() {
      return this._workingColorSpace;
    },
    set workingColorSpace(m) {
      if (!bb.has(m))
        throw new Error(`Unsupported working color space, "${m}".`);
      this._workingColorSpace = m;
    },
    convert: function(m, t, i) {
      if (this.enabled === !1 || t === i || !t || !i)
        return m;
      const s = yh[t].toReference, c = yh[i].fromReference;
      return c(s(m));
    },
    fromWorkingColorSpace: function(m, t) {
      return this.convert(m, this._workingColorSpace, t);
    },
    toWorkingColorSpace: function(m, t) {
      return this.convert(m, t, this._workingColorSpace);
    },
    getPrimaries: function(m) {
      return yh[m].primaries;
    },
    getTransfer: function(m) {
      return m === $i ? Ia : yh[m].transfer;
    }
  };
  function Oa(m) {
    return m < 0.04045 ? m * 0.0773993808 : Math.pow(m * 0.9478672986 + 0.0521327014, 2.4);
  }
  function Vl(m) {
    return m < 31308e-7 ? m * 12.92 : 1.055 * Math.pow(m, 0.41666) - 0.055;
  }
  let Is;
  class Hl {
    static getDataURL(t) {
      if (/^data:/i.test(t.src) || typeof HTMLCanvasElement > "u")
        return t.src;
      let i;
      if (t instanceof HTMLCanvasElement)
        i = t;
      else {
        Is === void 0 && (Is = Ba("canvas")), Is.width = t.width, Is.height = t.height;
        const s = Is.getContext("2d");
        t instanceof ImageData ? s.putImageData(t, 0, 0) : s.drawImage(t, 0, 0, t.width, t.height), i = Is;
      }
      return i.width > 2048 || i.height > 2048 ? (console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons", t), i.toDataURL("image/jpeg", 0.6)) : i.toDataURL("image/png");
    }
    static sRGBToLinear(t) {
      if (typeof HTMLImageElement < "u" && t instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && t instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && t instanceof ImageBitmap) {
        const i = Ba("canvas");
        i.width = t.width, i.height = t.height;
        const s = i.getContext("2d");
        s.drawImage(t, 0, 0, t.width, t.height);
        const c = s.getImageData(0, 0, t.width, t.height), u = c.data;
        for (let f = 0; f < u.length; f++)
          u[f] = Oa(u[f] / 255) * 255;
        return s.putImageData(c, 0, 0), i;
      } else if (t.data) {
        const i = t.data.slice(0);
        for (let s = 0; s < i.length; s++)
          i instanceof Uint8Array || i instanceof Uint8ClampedArray ? i[s] = Math.floor(Oa(i[s] / 255) * 255) : i[s] = Oa(i[s]);
        return {
          data: i,
          width: t.width,
          height: t.height
        };
      } else
        return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."), t;
    }
  }
  let vb = 0;
  class La {
    constructor(t = null) {
      this.isSource = !0, Object.defineProperty(this, "id", { value: vb++ }), this.uuid = ui(), this.data = t, this.dataReady = !0, this.version = 0;
    }
    set needsUpdate(t) {
      t === !0 && this.version++;
    }
    toJSON(t) {
      const i = t === void 0 || typeof t == "string";
      if (!i && t.images[this.uuid] !== void 0)
        return t.images[this.uuid];
      const s = {
        uuid: this.uuid,
        url: ""
      }, c = this.data;
      if (c !== null) {
        let u;
        if (Array.isArray(c)) {
          u = [];
          for (let f = 0, b = c.length; f < b; f++)
            c[f].isDataTexture ? u.push(xh(c[f].image)) : u.push(xh(c[f]));
        } else
          u = xh(c);
        s.url = u;
      }
      return i || (t.images[this.uuid] = s), s;
    }
  }
  function xh(m) {
    return typeof HTMLImageElement < "u" && m instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && m instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && m instanceof ImageBitmap ? Hl.getDataURL(m) : m.data ? {
      data: Array.from(m.data),
      width: m.width,
      height: m.height,
      type: m.data.constructor.name
    } : (console.warn("THREE.Texture: Unable to serialize Texture."), {});
  }
  let Fd = 0;
  class lr extends qi {
    constructor(t = lr.DEFAULT_IMAGE, i = lr.DEFAULT_MAPPING, s = Ci, c = Ci, u = pr, f = Vi, b = ci, C = mo, _ = lr.DEFAULT_ANISOTROPY, N = $i) {
      super(), this.isTexture = !0, Object.defineProperty(this, "id", { value: Fd++ }), this.uuid = ui(), this.name = "", this.source = new La(t), this.mipmaps = [], this.mapping = i, this.channel = 0, this.wrapS = s, this.wrapT = c, this.magFilter = u, this.minFilter = f, this.anisotropy = _, this.format = b, this.internalFormat = null, this.type = C, this.offset = new $e(0, 0), this.repeat = new $e(1, 1), this.center = new $e(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new en(), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.colorSpace = N, this.userData = {}, this.version = 0, this.onUpdate = null, this.isRenderTargetTexture = !1, this.pmremVersion = 0;
    }
    get image() {
      return this.source.data;
    }
    set image(t = null) {
      this.source.data = t;
    }
    updateMatrix() {
      this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      return this.name = t.name, this.source = t.source, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.channel = t.channel, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.internalFormat = t.internalFormat, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.center.copy(t.center), this.rotation = t.rotation, this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrix.copy(t.matrix), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.colorSpace = t.colorSpace, this.userData = JSON.parse(JSON.stringify(t.userData)), this.needsUpdate = !0, this;
    }
    toJSON(t) {
      const i = t === void 0 || typeof t == "string";
      if (!i && t.textures[this.uuid] !== void 0)
        return t.textures[this.uuid];
      const s = {
        metadata: {
          version: 4.6,
          type: "Texture",
          generator: "Texture.toJSON"
        },
        uuid: this.uuid,
        name: this.name,
        image: this.source.toJSON(t).uuid,
        mapping: this.mapping,
        channel: this.channel,
        repeat: [this.repeat.x, this.repeat.y],
        offset: [this.offset.x, this.offset.y],
        center: [this.center.x, this.center.y],
        rotation: this.rotation,
        wrap: [this.wrapS, this.wrapT],
        format: this.format,
        internalFormat: this.internalFormat,
        type: this.type,
        colorSpace: this.colorSpace,
        minFilter: this.minFilter,
        magFilter: this.magFilter,
        anisotropy: this.anisotropy,
        flipY: this.flipY,
        generateMipmaps: this.generateMipmaps,
        premultiplyAlpha: this.premultiplyAlpha,
        unpackAlignment: this.unpackAlignment
      };
      return Object.keys(this.userData).length > 0 && (s.userData = this.userData), i || (t.textures[this.uuid] = s), s;
    }
    dispose() {
      this.dispatchEvent({ type: "dispose" });
    }
    transformUv(t) {
      if (this.mapping !== _a)
        return t;
      if (t.applyMatrix3(this.matrix), t.x < 0 || t.x > 1)
        switch (this.wrapS) {
          case El:
            t.x = t.x - Math.floor(t.x);
            break;
          case Ci:
            t.x = t.x < 0 ? 0 : 1;
            break;
          case xs:
            Math.abs(Math.floor(t.x) % 2) === 1 ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x);
            break;
        }
      if (t.y < 0 || t.y > 1)
        switch (this.wrapT) {
          case El:
            t.y = t.y - Math.floor(t.y);
            break;
          case Ci:
            t.y = t.y < 0 ? 0 : 1;
            break;
          case xs:
            Math.abs(Math.floor(t.y) % 2) === 1 ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y);
            break;
        }
      return this.flipY && (t.y = 1 - t.y), t;
    }
    set needsUpdate(t) {
      t === !0 && (this.version++, this.source.needsUpdate = !0);
    }
    set needsPMREMUpdate(t) {
      t === !0 && this.pmremVersion++;
    }
  }
  lr.DEFAULT_IMAGE = null, lr.DEFAULT_MAPPING = _a, lr.DEFAULT_ANISOTROPY = 1;
  class kn {
    constructor(t = 0, i = 0, s = 0, c = 1) {
      kn.prototype.isVector4 = !0, this.x = t, this.y = i, this.z = s, this.w = c;
    }
    get width() {
      return this.z;
    }
    set width(t) {
      this.z = t;
    }
    get height() {
      return this.w;
    }
    set height(t) {
      this.w = t;
    }
    set(t, i, s, c) {
      return this.x = t, this.y = i, this.z = s, this.w = c, this;
    }
    setScalar(t) {
      return this.x = t, this.y = t, this.z = t, this.w = t, this;
    }
    setX(t) {
      return this.x = t, this;
    }
    setY(t) {
      return this.y = t, this;
    }
    setZ(t) {
      return this.z = t, this;
    }
    setW(t) {
      return this.w = t, this;
    }
    setComponent(t, i) {
      switch (t) {
        case 0:
          this.x = i;
          break;
        case 1:
          this.y = i;
          break;
        case 2:
          this.z = i;
          break;
        case 3:
          this.w = i;
          break;
        default:
          throw new Error("index is out of range: " + t);
      }
      return this;
    }
    getComponent(t) {
      switch (t) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        case 2:
          return this.z;
        case 3:
          return this.w;
        default:
          throw new Error("index is out of range: " + t);
      }
    }
    clone() {
      return new this.constructor(this.x, this.y, this.z, this.w);
    }
    copy(t) {
      return this.x = t.x, this.y = t.y, this.z = t.z, this.w = t.w !== void 0 ? t.w : 1, this;
    }
    add(t) {
      return this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this;
    }
    addScalar(t) {
      return this.x += t, this.y += t, this.z += t, this.w += t, this;
    }
    addVectors(t, i) {
      return this.x = t.x + i.x, this.y = t.y + i.y, this.z = t.z + i.z, this.w = t.w + i.w, this;
    }
    addScaledVector(t, i) {
      return this.x += t.x * i, this.y += t.y * i, this.z += t.z * i, this.w += t.w * i, this;
    }
    sub(t) {
      return this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this;
    }
    subScalar(t) {
      return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this;
    }
    subVectors(t, i) {
      return this.x = t.x - i.x, this.y = t.y - i.y, this.z = t.z - i.z, this.w = t.w - i.w, this;
    }
    multiply(t) {
      return this.x *= t.x, this.y *= t.y, this.z *= t.z, this.w *= t.w, this;
    }
    multiplyScalar(t) {
      return this.x *= t, this.y *= t, this.z *= t, this.w *= t, this;
    }
    applyMatrix4(t) {
      const i = this.x, s = this.y, c = this.z, u = this.w, f = t.elements;
      return this.x = f[0] * i + f[4] * s + f[8] * c + f[12] * u, this.y = f[1] * i + f[5] * s + f[9] * c + f[13] * u, this.z = f[2] * i + f[6] * s + f[10] * c + f[14] * u, this.w = f[3] * i + f[7] * s + f[11] * c + f[15] * u, this;
    }
    divideScalar(t) {
      return this.multiplyScalar(1 / t);
    }
    setAxisAngleFromQuaternion(t) {
      this.w = 2 * Math.acos(t.w);
      const i = Math.sqrt(1 - t.w * t.w);
      return i < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / i, this.y = t.y / i, this.z = t.z / i), this;
    }
    setAxisAngleFromRotationMatrix(t) {
      let i, s, c, u;
      const C = t.elements, _ = C[0], N = C[4], I = C[8], A = C[1], E = C[5], R = C[9], j = C[2], O = C[6], P = C[10];
      if (Math.abs(N - A) < 0.01 && Math.abs(I - j) < 0.01 && Math.abs(R - O) < 0.01) {
        if (Math.abs(N + A) < 0.1 && Math.abs(I + j) < 0.1 && Math.abs(R + O) < 0.1 && Math.abs(_ + E + P - 3) < 0.1)
          return this.set(1, 0, 0, 0), this;
        i = Math.PI;
        const k = (_ + 1) / 2, V = (E + 1) / 2, me = (P + 1) / 2, ee = (N + A) / 4, le = (I + j) / 4, ye = (R + O) / 4;
        return k > V && k > me ? k < 0.01 ? (s = 0, c = 0.707106781, u = 0.707106781) : (s = Math.sqrt(k), c = ee / s, u = le / s) : V > me ? V < 0.01 ? (s = 0.707106781, c = 0, u = 0.707106781) : (c = Math.sqrt(V), s = ee / c, u = ye / c) : me < 0.01 ? (s = 0.707106781, c = 0.707106781, u = 0) : (u = Math.sqrt(me), s = le / u, c = ye / u), this.set(s, c, u, i), this;
      }
      let U = Math.sqrt((O - R) * (O - R) + (I - j) * (I - j) + (A - N) * (A - N));
      return Math.abs(U) < 1e-3 && (U = 1), this.x = (O - R) / U, this.y = (I - j) / U, this.z = (A - N) / U, this.w = Math.acos((_ + E + P - 1) / 2), this;
    }
    min(t) {
      return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this;
    }
    max(t) {
      return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this;
    }
    clamp(t, i) {
      return this.x = Math.max(t.x, Math.min(i.x, this.x)), this.y = Math.max(t.y, Math.min(i.y, this.y)), this.z = Math.max(t.z, Math.min(i.z, this.z)), this.w = Math.max(t.w, Math.min(i.w, this.w)), this;
    }
    clampScalar(t, i) {
      return this.x = Math.max(t, Math.min(i, this.x)), this.y = Math.max(t, Math.min(i, this.y)), this.z = Math.max(t, Math.min(i, this.z)), this.w = Math.max(t, Math.min(i, this.w)), this;
    }
    clampLength(t, i) {
      const s = this.length();
      return this.divideScalar(s || 1).multiplyScalar(Math.max(t, Math.min(i, s)));
    }
    floor() {
      return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this;
    }
    ceil() {
      return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this;
    }
    round() {
      return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this;
    }
    roundToZero() {
      return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this.z = Math.trunc(this.z), this.w = Math.trunc(this.w), this;
    }
    negate() {
      return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this;
    }
    dot(t) {
      return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w;
    }
    lengthSq() {
      return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
    }
    length() {
      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
    }
    manhattanLength() {
      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
    }
    normalize() {
      return this.divideScalar(this.length() || 1);
    }
    setLength(t) {
      return this.normalize().multiplyScalar(t);
    }
    lerp(t, i) {
      return this.x += (t.x - this.x) * i, this.y += (t.y - this.y) * i, this.z += (t.z - this.z) * i, this.w += (t.w - this.w) * i, this;
    }
    lerpVectors(t, i, s) {
      return this.x = t.x + (i.x - t.x) * s, this.y = t.y + (i.y - t.y) * s, this.z = t.z + (i.z - t.z) * s, this.w = t.w + (i.w - t.w) * s, this;
    }
    equals(t) {
      return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w;
    }
    fromArray(t, i = 0) {
      return this.x = t[i], this.y = t[i + 1], this.z = t[i + 2], this.w = t[i + 3], this;
    }
    toArray(t = [], i = 0) {
      return t[i] = this.x, t[i + 1] = this.y, t[i + 2] = this.z, t[i + 3] = this.w, t;
    }
    fromBufferAttribute(t, i) {
      return this.x = t.getX(i), this.y = t.getY(i), this.z = t.getZ(i), this.w = t.getW(i), this;
    }
    random() {
      return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this.w = Math.random(), this;
    }
    *[Symbol.iterator]() {
      yield this.x, yield this.y, yield this.z, yield this.w;
    }
  }
  class df extends qi {
    constructor(t = 1, i = 1, s = {}) {
      super(), this.isRenderTarget = !0, this.width = t, this.height = i, this.depth = 1, this.scissor = new kn(0, 0, t, i), this.scissorTest = !1, this.viewport = new kn(0, 0, t, i);
      const c = { width: t, height: i, depth: 1 };
      s = Object.assign({
        generateMipmaps: !1,
        internalFormat: null,
        minFilter: pr,
        depthBuffer: !0,
        stencilBuffer: !1,
        resolveDepthBuffer: !0,
        resolveStencilBuffer: !0,
        depthTexture: null,
        samples: 0,
        count: 1
      }, s);
      const u = new lr(c, s.mapping, s.wrapS, s.wrapT, s.magFilter, s.minFilter, s.format, s.type, s.anisotropy, s.colorSpace);
      u.flipY = !1, u.generateMipmaps = s.generateMipmaps, u.internalFormat = s.internalFormat, this.textures = [];
      const f = s.count;
      for (let b = 0; b < f; b++)
        this.textures[b] = u.clone(), this.textures[b].isRenderTargetTexture = !0;
      this.depthBuffer = s.depthBuffer, this.stencilBuffer = s.stencilBuffer, this.resolveDepthBuffer = s.resolveDepthBuffer, this.resolveStencilBuffer = s.resolveStencilBuffer, this.depthTexture = s.depthTexture, this.samples = s.samples;
    }
    get texture() {
      return this.textures[0];
    }
    set texture(t) {
      this.textures[0] = t;
    }
    setSize(t, i, s = 1) {
      if (this.width !== t || this.height !== i || this.depth !== s) {
        this.width = t, this.height = i, this.depth = s;
        for (let c = 0, u = this.textures.length; c < u; c++)
          this.textures[c].image.width = t, this.textures[c].image.height = i, this.textures[c].image.depth = s;
        this.dispose();
      }
      this.viewport.set(0, 0, t, i), this.scissor.set(0, 0, t, i);
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      this.width = t.width, this.height = t.height, this.depth = t.depth, this.scissor.copy(t.scissor), this.scissorTest = t.scissorTest, this.viewport.copy(t.viewport), this.textures.length = 0;
      for (let s = 0, c = t.textures.length; s < c; s++)
        this.textures[s] = t.textures[s].clone(), this.textures[s].isRenderTargetTexture = !0;
      const i = Object.assign({}, t.texture.image);
      return this.texture.source = new La(i), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this.resolveDepthBuffer = t.resolveDepthBuffer, this.resolveStencilBuffer = t.resolveStencilBuffer, t.depthTexture !== null && (this.depthTexture = t.depthTexture.clone()), this.samples = t.samples, this;
    }
    dispose() {
      this.dispatchEvent({ type: "dispose" });
    }
  }
  class wi extends df {
    constructor(t = 1, i = 1, s = {}) {
      super(t, i, s), this.isWebGLRenderTarget = !0;
    }
  }
  class $l extends lr {
    constructor(t = null, i = 1, s = 1, c = 1) {
      super(null), this.isDataArrayTexture = !0, this.image = { data: t, width: i, height: s, depth: c }, this.magFilter = yr, this.minFilter = yr, this.wrapR = Ci, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
    }
  }
  class yb extends wi {
    constructor(t = 1, i = 1, s = 1, c = {}) {
      super(t, i, c), this.isWebGLArrayRenderTarget = !0, this.depth = s, this.texture = new $l(null, t, i, s), this.texture.isRenderTargetTexture = !0;
    }
  }
  class kd extends lr {
    constructor(t = null, i = 1, s = 1, c = 1) {
      super(null), this.isData3DTexture = !0, this.image = { data: t, width: i, height: s, depth: c }, this.magFilter = yr, this.minFilter = yr, this.wrapR = Ci, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
    }
  }
  class xb extends wi {
    constructor(t = 1, i = 1, s = 1, c = {}) {
      super(t, i, c), this.isWebGL3DRenderTarget = !0, this.depth = s, this.texture = new kd(null, t, i, s), this.texture.isRenderTargetTexture = !0;
    }
  }
  class Kr {
    constructor(t = 0, i = 0, s = 0, c = 1) {
      this.isQuaternion = !0, this._x = t, this._y = i, this._z = s, this._w = c;
    }
    static slerpFlat(t, i, s, c, u, f, b) {
      let C = s[c + 0], _ = s[c + 1], N = s[c + 2], I = s[c + 3];
      const A = u[f + 0], E = u[f + 1], R = u[f + 2], j = u[f + 3];
      if (b === 0) {
        t[i + 0] = C, t[i + 1] = _, t[i + 2] = N, t[i + 3] = I;
        return;
      }
      if (b === 1) {
        t[i + 0] = A, t[i + 1] = E, t[i + 2] = R, t[i + 3] = j;
        return;
      }
      if (I !== j || C !== A || _ !== E || N !== R) {
        let O = 1 - b;
        const P = C * A + _ * E + N * R + I * j, U = P >= 0 ? 1 : -1, k = 1 - P * P;
        if (k > Number.EPSILON) {
          const me = Math.sqrt(k), ee = Math.atan2(me, P * U);
          O = Math.sin(O * ee) / me, b = Math.sin(b * ee) / me;
        }
        const V = b * U;
        if (C = C * O + A * V, _ = _ * O + E * V, N = N * O + R * V, I = I * O + j * V, O === 1 - b) {
          const me = 1 / Math.sqrt(C * C + _ * _ + N * N + I * I);
          C *= me, _ *= me, N *= me, I *= me;
        }
      }
      t[i] = C, t[i + 1] = _, t[i + 2] = N, t[i + 3] = I;
    }
    static multiplyQuaternionsFlat(t, i, s, c, u, f) {
      const b = s[c], C = s[c + 1], _ = s[c + 2], N = s[c + 3], I = u[f], A = u[f + 1], E = u[f + 2], R = u[f + 3];
      return t[i] = b * R + N * I + C * E - _ * A, t[i + 1] = C * R + N * A + _ * I - b * E, t[i + 2] = _ * R + N * E + b * A - C * I, t[i + 3] = N * R - b * I - C * A - _ * E, t;
    }
    get x() {
      return this._x;
    }
    set x(t) {
      this._x = t, this._onChangeCallback();
    }
    get y() {
      return this._y;
    }
    set y(t) {
      this._y = t, this._onChangeCallback();
    }
    get z() {
      return this._z;
    }
    set z(t) {
      this._z = t, this._onChangeCallback();
    }
    get w() {
      return this._w;
    }
    set w(t) {
      this._w = t, this._onChangeCallback();
    }
    set(t, i, s, c) {
      return this._x = t, this._y = i, this._z = s, this._w = c, this._onChangeCallback(), this;
    }
    clone() {
      return new this.constructor(this._x, this._y, this._z, this._w);
    }
    copy(t) {
      return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this._onChangeCallback(), this;
    }
    setFromEuler(t, i = !0) {
      const s = t._x, c = t._y, u = t._z, f = t._order, b = Math.cos, C = Math.sin, _ = b(s / 2), N = b(c / 2), I = b(u / 2), A = C(s / 2), E = C(c / 2), R = C(u / 2);
      switch (f) {
        case "XYZ":
          this._x = A * N * I + _ * E * R, this._y = _ * E * I - A * N * R, this._z = _ * N * R + A * E * I, this._w = _ * N * I - A * E * R;
          break;
        case "YXZ":
          this._x = A * N * I + _ * E * R, this._y = _ * E * I - A * N * R, this._z = _ * N * R - A * E * I, this._w = _ * N * I + A * E * R;
          break;
        case "ZXY":
          this._x = A * N * I - _ * E * R, this._y = _ * E * I + A * N * R, this._z = _ * N * R + A * E * I, this._w = _ * N * I - A * E * R;
          break;
        case "ZYX":
          this._x = A * N * I - _ * E * R, this._y = _ * E * I + A * N * R, this._z = _ * N * R - A * E * I, this._w = _ * N * I + A * E * R;
          break;
        case "YZX":
          this._x = A * N * I + _ * E * R, this._y = _ * E * I + A * N * R, this._z = _ * N * R - A * E * I, this._w = _ * N * I - A * E * R;
          break;
        case "XZY":
          this._x = A * N * I - _ * E * R, this._y = _ * E * I - A * N * R, this._z = _ * N * R + A * E * I, this._w = _ * N * I + A * E * R;
          break;
        default:
          console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: " + f);
      }
      return i === !0 && this._onChangeCallback(), this;
    }
    setFromAxisAngle(t, i) {
      const s = i / 2, c = Math.sin(s);
      return this._x = t.x * c, this._y = t.y * c, this._z = t.z * c, this._w = Math.cos(s), this._onChangeCallback(), this;
    }
    setFromRotationMatrix(t) {
      const i = t.elements, s = i[0], c = i[4], u = i[8], f = i[1], b = i[5], C = i[9], _ = i[2], N = i[6], I = i[10], A = s + b + I;
      if (A > 0) {
        const E = 0.5 / Math.sqrt(A + 1);
        this._w = 0.25 / E, this._x = (N - C) * E, this._y = (u - _) * E, this._z = (f - c) * E;
      } else if (s > b && s > I) {
        const E = 2 * Math.sqrt(1 + s - b - I);
        this._w = (N - C) / E, this._x = 0.25 * E, this._y = (c + f) / E, this._z = (u + _) / E;
      } else if (b > I) {
        const E = 2 * Math.sqrt(1 + b - s - I);
        this._w = (u - _) / E, this._x = (c + f) / E, this._y = 0.25 * E, this._z = (C + N) / E;
      } else {
        const E = 2 * Math.sqrt(1 + I - s - b);
        this._w = (f - c) / E, this._x = (u + _) / E, this._y = (C + N) / E, this._z = 0.25 * E;
      }
      return this._onChangeCallback(), this;
    }
    setFromUnitVectors(t, i) {
      let s = t.dot(i) + 1;
      return s < Number.EPSILON ? (s = 0, Math.abs(t.x) > Math.abs(t.z) ? (this._x = -t.y, this._y = t.x, this._z = 0, this._w = s) : (this._x = 0, this._y = -t.z, this._z = t.y, this._w = s)) : (this._x = t.y * i.z - t.z * i.y, this._y = t.z * i.x - t.x * i.z, this._z = t.x * i.y - t.y * i.x, this._w = s), this.normalize();
    }
    angleTo(t) {
      return 2 * Math.acos(Math.abs(Yn(this.dot(t), -1, 1)));
    }
    rotateTowards(t, i) {
      const s = this.angleTo(t);
      if (s === 0)
        return this;
      const c = Math.min(1, i / s);
      return this.slerp(t, c), this;
    }
    identity() {
      return this.set(0, 0, 0, 1);
    }
    invert() {
      return this.conjugate();
    }
    conjugate() {
      return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this;
    }
    dot(t) {
      return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w;
    }
    lengthSq() {
      return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;
    }
    length() {
      return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);
    }
    normalize() {
      let t = this.length();
      return t === 0 ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this._onChangeCallback(), this;
    }
    multiply(t) {
      return this.multiplyQuaternions(this, t);
    }
    premultiply(t) {
      return this.multiplyQuaternions(t, this);
    }
    multiplyQuaternions(t, i) {
      const s = t._x, c = t._y, u = t._z, f = t._w, b = i._x, C = i._y, _ = i._z, N = i._w;
      return this._x = s * N + f * b + c * _ - u * C, this._y = c * N + f * C + u * b - s * _, this._z = u * N + f * _ + s * C - c * b, this._w = f * N - s * b - c * C - u * _, this._onChangeCallback(), this;
    }
    slerp(t, i) {
      if (i === 0)
        return this;
      if (i === 1)
        return this.copy(t);
      const s = this._x, c = this._y, u = this._z, f = this._w;
      let b = f * t._w + s * t._x + c * t._y + u * t._z;
      if (b < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, b = -b) : this.copy(t), b >= 1)
        return this._w = f, this._x = s, this._y = c, this._z = u, this;
      const C = 1 - b * b;
      if (C <= Number.EPSILON) {
        const E = 1 - i;
        return this._w = E * f + i * this._w, this._x = E * s + i * this._x, this._y = E * c + i * this._y, this._z = E * u + i * this._z, this.normalize(), this;
      }
      const _ = Math.sqrt(C), N = Math.atan2(_, b), I = Math.sin((1 - i) * N) / _, A = Math.sin(i * N) / _;
      return this._w = f * I + this._w * A, this._x = s * I + this._x * A, this._y = c * I + this._y * A, this._z = u * I + this._z * A, this._onChangeCallback(), this;
    }
    slerpQuaternions(t, i, s) {
      return this.copy(t).slerp(i, s);
    }
    random() {
      const t = 2 * Math.PI * Math.random(), i = 2 * Math.PI * Math.random(), s = Math.random(), c = Math.sqrt(1 - s), u = Math.sqrt(s);
      return this.set(
        c * Math.sin(t),
        c * Math.cos(t),
        u * Math.sin(i),
        u * Math.cos(i)
      );
    }
    equals(t) {
      return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w;
    }
    fromArray(t, i = 0) {
      return this._x = t[i], this._y = t[i + 1], this._z = t[i + 2], this._w = t[i + 3], this._onChangeCallback(), this;
    }
    toArray(t = [], i = 0) {
      return t[i] = this._x, t[i + 1] = this._y, t[i + 2] = this._z, t[i + 3] = this._w, t;
    }
    fromBufferAttribute(t, i) {
      return this._x = t.getX(i), this._y = t.getY(i), this._z = t.getZ(i), this._w = t.getW(i), this._onChangeCallback(), this;
    }
    toJSON() {
      return this.toArray();
    }
    _onChange(t) {
      return this._onChangeCallback = t, this;
    }
    _onChangeCallback() {
    }
    *[Symbol.iterator]() {
      yield this._x, yield this._y, yield this._z, yield this._w;
    }
  }
  class ie {
    constructor(t = 0, i = 0, s = 0) {
      ie.prototype.isVector3 = !0, this.x = t, this.y = i, this.z = s;
    }
    set(t, i, s) {
      return s === void 0 && (s = this.z), this.x = t, this.y = i, this.z = s, this;
    }
    setScalar(t) {
      return this.x = t, this.y = t, this.z = t, this;
    }
    setX(t) {
      return this.x = t, this;
    }
    setY(t) {
      return this.y = t, this;
    }
    setZ(t) {
      return this.z = t, this;
    }
    setComponent(t, i) {
      switch (t) {
        case 0:
          this.x = i;
          break;
        case 1:
          this.y = i;
          break;
        case 2:
          this.z = i;
          break;
        default:
          throw new Error("index is out of range: " + t);
      }
      return this;
    }
    getComponent(t) {
      switch (t) {
        case 0:
          return this.x;
        case 1:
          return this.y;
        case 2:
          return this.z;
        default:
          throw new Error("index is out of range: " + t);
      }
    }
    clone() {
      return new this.constructor(this.x, this.y, this.z);
    }
    copy(t) {
      return this.x = t.x, this.y = t.y, this.z = t.z, this;
    }
    add(t) {
      return this.x += t.x, this.y += t.y, this.z += t.z, this;
    }
    addScalar(t) {
      return this.x += t, this.y += t, this.z += t, this;
    }
    addVectors(t, i) {
      return this.x = t.x + i.x, this.y = t.y + i.y, this.z = t.z + i.z, this;
    }
    addScaledVector(t, i) {
      return this.x += t.x * i, this.y += t.y * i, this.z += t.z * i, this;
    }
    sub(t) {
      return this.x -= t.x, this.y -= t.y, this.z -= t.z, this;
    }
    subScalar(t) {
      return this.x -= t, this.y -= t, this.z -= t, this;
    }
    subVectors(t, i) {
      return this.x = t.x - i.x, this.y = t.y - i.y, this.z = t.z - i.z, this;
    }
    multiply(t) {
      return this.x *= t.x, this.y *= t.y, this.z *= t.z, this;
    }
    multiplyScalar(t) {
      return this.x *= t, this.y *= t, this.z *= t, this;
    }
    multiplyVectors(t, i) {
      return this.x = t.x * i.x, this.y = t.y * i.y, this.z = t.z * i.z, this;
    }
    applyEuler(t) {
      return this.applyQuaternion(mf.setFromEuler(t));
    }
    applyAxisAngle(t, i) {
      return this.applyQuaternion(mf.setFromAxisAngle(t, i));
    }
    applyMatrix3(t) {
      const i = this.x, s = this.y, c = this.z, u = t.elements;
      return this.x = u[0] * i + u[3] * s + u[6] * c, this.y = u[1] * i + u[4] * s + u[7] * c, this.z = u[2] * i + u[5] * s + u[8] * c, this;
    }
    applyNormalMatrix(t) {
      return this.applyMatrix3(t).normalize();
    }
    applyMatrix4(t) {
      const i = this.x, s = this.y, c = this.z, u = t.elements, f = 1 / (u[3] * i + u[7] * s + u[11] * c + u[15]);
      return this.x = (u[0] * i + u[4] * s + u[8] * c + u[12]) * f, this.y = (u[1] * i + u[5] * s + u[9] * c + u[13]) * f, this.z = (u[2] * i + u[6] * s + u[10] * c + u[14]) * f, this;
    }
    applyQuaternion(t) {
      const i = this.x, s = this.y, c = this.z, u = t.x, f = t.y, b = t.z, C = t.w, _ = 2 * (f * c - b * s), N = 2 * (b * i - u * c), I = 2 * (u * s - f * i);
      return this.x = i + C * _ + f * I - b * N, this.y = s + C * N + b * _ - u * I, this.z = c + C * I + u * N - f * _, this;
    }
    project(t) {
      return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix);
    }
    unproject(t) {
      return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld);
    }
    transformDirection(t) {
      const i = this.x, s = this.y, c = this.z, u = t.elements;
      return this.x = u[0] * i + u[4] * s + u[8] * c, this.y = u[1] * i + u[5] * s + u[9] * c, this.z = u[2] * i + u[6] * s + u[10] * c, this.normalize();
    }
    divide(t) {
      return this.x /= t.x, this.y /= t.y, this.z /= t.z, this;
    }
    divideScalar(t) {
      return this.multiplyScalar(1 / t);
    }
    min(t) {
      return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this;
    }
    max(t) {
      return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this;
    }
    clamp(t, i) {
      return this.x = Math.max(t.x, Math.min(i.x, this.x)), this.y = Math.max(t.y, Math.min(i.y, this.y)), this.z = Math.max(t.z, Math.min(i.z, this.z)), this;
    }
    clampScalar(t, i) {
      return this.x = Math.max(t, Math.min(i, this.x)), this.y = Math.max(t, Math.min(i, this.y)), this.z = Math.max(t, Math.min(i, this.z)), this;
    }
    clampLength(t, i) {
      const s = this.length();
      return this.divideScalar(s || 1).multiplyScalar(Math.max(t, Math.min(i, s)));
    }
    floor() {
      return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this;
    }
    ceil() {
      return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this;
    }
    round() {
      return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this;
    }
    roundToZero() {
      return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this.z = Math.trunc(this.z), this;
    }
    negate() {
      return this.x = -this.x, this.y = -this.y, this.z = -this.z, this;
    }
    dot(t) {
      return this.x * t.x + this.y * t.y + this.z * t.z;
    }
    // TODO lengthSquared?
    lengthSq() {
      return this.x * this.x + this.y * this.y + this.z * this.z;
    }
    length() {
      return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
    }
    manhattanLength() {
      return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
    }
    normalize() {
      return this.divideScalar(this.length() || 1);
    }
    setLength(t) {
      return this.normalize().multiplyScalar(t);
    }
    lerp(t, i) {
      return this.x += (t.x - this.x) * i, this.y += (t.y - this.y) * i, this.z += (t.z - this.z) * i, this;
    }
    lerpVectors(t, i, s) {
      return this.x = t.x + (i.x - t.x) * s, this.y = t.y + (i.y - t.y) * s, this.z = t.z + (i.z - t.z) * s, this;
    }
    cross(t) {
      return this.crossVectors(this, t);
    }
    crossVectors(t, i) {
      const s = t.x, c = t.y, u = t.z, f = i.x, b = i.y, C = i.z;
      return this.x = c * C - u * b, this.y = u * f - s * C, this.z = s * b - c * f, this;
    }
    projectOnVector(t) {
      const i = t.lengthSq();
      if (i === 0)
        return this.set(0, 0, 0);
      const s = t.dot(this) / i;
      return this.copy(t).multiplyScalar(s);
    }
    projectOnPlane(t) {
      return Xd.copy(this).projectOnVector(t), this.sub(Xd);
    }
    reflect(t) {
      return this.sub(Xd.copy(t).multiplyScalar(2 * this.dot(t)));
    }
    angleTo(t) {
      const i = Math.sqrt(this.lengthSq() * t.lengthSq());
      if (i === 0)
        return Math.PI / 2;
      const s = this.dot(t) / i;
      return Math.acos(Yn(s, -1, 1));
    }
    distanceTo(t) {
      return Math.sqrt(this.distanceToSquared(t));
    }
    distanceToSquared(t) {
      const i = this.x - t.x, s = this.y - t.y, c = this.z - t.z;
      return i * i + s * s + c * c;
    }
    manhattanDistanceTo(t) {
      return Math.abs(this.x - t.x) + Math.abs(this.y - t.y) + Math.abs(this.z - t.z);
    }
    setFromSpherical(t) {
      return this.setFromSphericalCoords(t.radius, t.phi, t.theta);
    }
    setFromSphericalCoords(t, i, s) {
      const c = Math.sin(i) * t;
      return this.x = c * Math.sin(s), this.y = Math.cos(i) * t, this.z = c * Math.cos(s), this;
    }
    setFromCylindrical(t) {
      return this.setFromCylindricalCoords(t.radius, t.theta, t.y);
    }
    setFromCylindricalCoords(t, i, s) {
      return this.x = t * Math.sin(i), this.y = s, this.z = t * Math.cos(i), this;
    }
    setFromMatrixPosition(t) {
      const i = t.elements;
      return this.x = i[12], this.y = i[13], this.z = i[14], this;
    }
    setFromMatrixScale(t) {
      const i = this.setFromMatrixColumn(t, 0).length(), s = this.setFromMatrixColumn(t, 1).length(), c = this.setFromMatrixColumn(t, 2).length();
      return this.x = i, this.y = s, this.z = c, this;
    }
    setFromMatrixColumn(t, i) {
      return this.fromArray(t.elements, i * 4);
    }
    setFromMatrix3Column(t, i) {
      return this.fromArray(t.elements, i * 3);
    }
    setFromEuler(t) {
      return this.x = t._x, this.y = t._y, this.z = t._z, this;
    }
    setFromColor(t) {
      return this.x = t.r, this.y = t.g, this.z = t.b, this;
    }
    equals(t) {
      return t.x === this.x && t.y === this.y && t.z === this.z;
    }
    fromArray(t, i = 0) {
      return this.x = t[i], this.y = t[i + 1], this.z = t[i + 2], this;
    }
    toArray(t = [], i = 0) {
      return t[i] = this.x, t[i + 1] = this.y, t[i + 2] = this.z, t;
    }
    fromBufferAttribute(t, i) {
      return this.x = t.getX(i), this.y = t.getY(i), this.z = t.getZ(i), this;
    }
    random() {
      return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this;
    }
    randomDirection() {
      const t = Math.random() * Math.PI * 2, i = Math.random() * 2 - 1, s = Math.sqrt(1 - i * i);
      return this.x = s * Math.cos(t), this.y = i, this.z = s * Math.sin(t), this;
    }
    *[Symbol.iterator]() {
      yield this.x, yield this.y, yield this.z;
    }
  }
  const Xd = /* @__PURE__ */ new ie(), mf = /* @__PURE__ */ new Kr();
  class Hr {
    constructor(t = new ie(1 / 0, 1 / 0, 1 / 0), i = new ie(-1 / 0, -1 / 0, -1 / 0)) {
      this.isBox3 = !0, this.min = t, this.max = i;
    }
    set(t, i) {
      return this.min.copy(t), this.max.copy(i), this;
    }
    setFromArray(t) {
      this.makeEmpty();
      for (let i = 0, s = t.length; i < s; i += 3)
        this.expandByPoint(Pi.fromArray(t, i));
      return this;
    }
    setFromBufferAttribute(t) {
      this.makeEmpty();
      for (let i = 0, s = t.count; i < s; i++)
        this.expandByPoint(Pi.fromBufferAttribute(t, i));
      return this;
    }
    setFromPoints(t) {
      this.makeEmpty();
      for (let i = 0, s = t.length; i < s; i++)
        this.expandByPoint(t[i]);
      return this;
    }
    setFromCenterAndSize(t, i) {
      const s = Pi.copy(i).multiplyScalar(0.5);
      return this.min.copy(t).sub(s), this.max.copy(t).add(s), this;
    }
    setFromObject(t, i = !1) {
      return this.makeEmpty(), this.expandByObject(t, i);
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      return this.min.copy(t.min), this.max.copy(t.max), this;
    }
    makeEmpty() {
      return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this;
    }
    isEmpty() {
      return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;
    }
    getCenter(t) {
      return this.isEmpty() ? t.set(0, 0, 0) : t.addVectors(this.min, this.max).multiplyScalar(0.5);
    }
    getSize(t) {
      return this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min);
    }
    expandByPoint(t) {
      return this.min.min(t), this.max.max(t), this;
    }
    expandByVector(t) {
      return this.min.sub(t), this.max.add(t), this;
    }
    expandByScalar(t) {
      return this.min.addScalar(-t), this.max.addScalar(t), this;
    }
    expandByObject(t, i = !1) {
      t.updateWorldMatrix(!1, !1);
      const s = t.geometry;
      if (s !== void 0) {
        const u = s.getAttribute("position");
        if (i === !0 && u !== void 0 && t.isInstancedMesh !== !0)
          for (let f = 0, b = u.count; f < b; f++)
            t.isMesh === !0 ? t.getVertexPosition(f, Pi) : Pi.fromBufferAttribute(u, f), Pi.applyMatrix4(t.matrixWorld), this.expandByPoint(Pi);
        else
          t.boundingBox !== void 0 ? (t.boundingBox === null && t.computeBoundingBox(), Ch.copy(t.boundingBox)) : (s.boundingBox === null && s.computeBoundingBox(), Ch.copy(s.boundingBox)), Ch.applyMatrix4(t.matrixWorld), this.union(Ch);
      }
      const c = t.children;
      for (let u = 0, f = c.length; u < f; u++)
        this.expandByObject(c[u], i);
      return this;
    }
    containsPoint(t) {
      return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z);
    }
    containsBox(t) {
      return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z;
    }
    getParameter(t, i) {
      return i.set(
        (t.x - this.min.x) / (this.max.x - this.min.x),
        (t.y - this.min.y) / (this.max.y - this.min.y),
        (t.z - this.min.z) / (this.max.z - this.min.z)
      );
    }
    intersectsBox(t) {
      return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z);
    }
    intersectsSphere(t) {
      return this.clampPoint(t.center, Pi), Pi.distanceToSquared(t.center) <= t.radius * t.radius;
    }
    intersectsPlane(t) {
      let i, s;
      return t.normal.x > 0 ? (i = t.normal.x * this.min.x, s = t.normal.x * this.max.x) : (i = t.normal.x * this.max.x, s = t.normal.x * this.min.x), t.normal.y > 0 ? (i += t.normal.y * this.min.y, s += t.normal.y * this.max.y) : (i += t.normal.y * this.max.y, s += t.normal.y * this.min.y), t.normal.z > 0 ? (i += t.normal.z * this.min.z, s += t.normal.z * this.max.z) : (i += t.normal.z * this.max.z, s += t.normal.z * this.min.z), i <= -t.constant && s >= -t.constant;
    }
    intersectsTriangle(t) {
      if (this.isEmpty())
        return !1;
      this.getCenter(Rs), _h.subVectors(this.max, Rs), As.subVectors(t.a, Rs), Es.subVectors(t.b, Rs), Ps.subVectors(t.c, Rs), go.subVectors(Es, As), bo.subVectors(Ps, Es), ja.subVectors(As, Ps);
      let i = [
        0,
        -go.z,
        go.y,
        0,
        -bo.z,
        bo.y,
        0,
        -ja.z,
        ja.y,
        go.z,
        0,
        -go.x,
        bo.z,
        0,
        -bo.x,
        ja.z,
        0,
        -ja.x,
        -go.y,
        go.x,
        0,
        -bo.y,
        bo.x,
        0,
        -ja.y,
        ja.x,
        0
      ];
      return !zd(i, As, Es, Ps, _h) || (i = [1, 0, 0, 0, 1, 0, 0, 0, 1], !zd(i, As, Es, Ps, _h)) ? !1 : (wh.crossVectors(go, bo), i = [wh.x, wh.y, wh.z], zd(i, As, Es, Ps, _h));
    }
    clampPoint(t, i) {
      return i.copy(t).clamp(this.min, this.max);
    }
    distanceToPoint(t) {
      return this.clampPoint(t, Pi).distanceTo(t);
    }
    getBoundingSphere(t) {
      return this.isEmpty() ? t.makeEmpty() : (this.getCenter(t.center), t.radius = this.getSize(Pi).length() * 0.5), t;
    }
    intersect(t) {
      return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this;
    }
    union(t) {
      return this.min.min(t.min), this.max.max(t.max), this;
    }
    applyMatrix4(t) {
      return this.isEmpty() ? this : (fo[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(t), fo[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(t), fo[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(t), fo[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(t), fo[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(t), fo[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(t), fo[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(t), fo[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(t), this.setFromPoints(fo), this);
    }
    translate(t) {
      return this.min.add(t), this.max.add(t), this;
    }
    equals(t) {
      return t.min.equals(this.min) && t.max.equals(this.max);
    }
  }
  const fo = [
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie(),
    /* @__PURE__ */ new ie()
  ], Pi = /* @__PURE__ */ new ie(), Ch = /* @__PURE__ */ new Hr(), As = /* @__PURE__ */ new ie(), Es = /* @__PURE__ */ new ie(), Ps = /* @__PURE__ */ new ie(), go = /* @__PURE__ */ new ie(), bo = /* @__PURE__ */ new ie(), ja = /* @__PURE__ */ new ie(), Rs = /* @__PURE__ */ new ie(), _h = /* @__PURE__ */ new ie(), wh = /* @__PURE__ */ new ie(), di = /* @__PURE__ */ new ie();
  function zd(m, t, i, s, c) {
    for (let u = 0, f = m.length - 3; u <= f; u += 3) {
      di.fromArray(m, u);
      const b = c.x * Math.abs(di.x) + c.y * Math.abs(di.y) + c.z * Math.abs(di.z), C = t.dot(di), _ = i.dot(di), N = s.dot(di);
      if (Math.max(-Math.max(C, _, N), Math.min(C, _, N)) > b)
        return !1;
    }
    return !0;
  }
  const Cb = /* @__PURE__ */ new Hr(), Yi = /* @__PURE__ */ new ie(), Ud = /* @__PURE__ */ new ie();
  class Xr {
    constructor(t = new ie(), i = -1) {
      this.isSphere = !0, this.center = t, this.radius = i;
    }
    set(t, i) {
      return this.center.copy(t), this.radius = i, this;
    }
    setFromPoints(t, i) {
      const s = this.center;
      i !== void 0 ? s.copy(i) : Cb.setFromPoints(t).getCenter(s);
      let c = 0;
      for (let u = 0, f = t.length; u < f; u++)
        c = Math.max(c, s.distanceToSquared(t[u]));
      return this.radius = Math.sqrt(c), this;
    }
    copy(t) {
      return this.center.copy(t.center), this.radius = t.radius, this;
    }
    isEmpty() {
      return this.radius < 0;
    }
    makeEmpty() {
      return this.center.set(0, 0, 0), this.radius = -1, this;
    }
    containsPoint(t) {
      return t.distanceToSquared(this.center) <= this.radius * this.radius;
    }
    distanceToPoint(t) {
      return t.distanceTo(this.center) - this.radius;
    }
    intersectsSphere(t) {
      const i = this.radius + t.radius;
      return t.center.distanceToSquared(this.center) <= i * i;
    }
    intersectsBox(t) {
      return t.intersectsSphere(this);
    }
    intersectsPlane(t) {
      return Math.abs(t.distanceToPoint(this.center)) <= this.radius;
    }
    clampPoint(t, i) {
      const s = this.center.distanceToSquared(t);
      return i.copy(t), s > this.radius * this.radius && (i.sub(this.center).normalize(), i.multiplyScalar(this.radius).add(this.center)), i;
    }
    getBoundingBox(t) {
      return this.isEmpty() ? (t.makeEmpty(), t) : (t.set(this.center, this.center), t.expandByScalar(this.radius), t);
    }
    applyMatrix4(t) {
      return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this;
    }
    translate(t) {
      return this.center.add(t), this;
    }
    expandByPoint(t) {
      if (this.isEmpty())
        return this.center.copy(t), this.radius = 0, this;
      Yi.subVectors(t, this.center);
      const i = Yi.lengthSq();
      if (i > this.radius * this.radius) {
        const s = Math.sqrt(i), c = (s - this.radius) * 0.5;
        this.center.addScaledVector(Yi, c / s), this.radius += c;
      }
      return this;
    }
    union(t) {
      return t.isEmpty() ? this : this.isEmpty() ? (this.copy(t), this) : (this.center.equals(t.center) === !0 ? this.radius = Math.max(this.radius, t.radius) : (Ud.subVectors(t.center, this.center).setLength(t.radius), this.expandByPoint(Yi.copy(t.center).add(Ud)), this.expandByPoint(Yi.copy(t.center).sub(Ud))), this);
    }
    equals(t) {
      return t.center.equals(this.center) && t.radius === this.radius;
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  const vo = /* @__PURE__ */ new ie(), Gd = /* @__PURE__ */ new ie(), Th = /* @__PURE__ */ new ie(), Ki = /* @__PURE__ */ new ie(), $r = /* @__PURE__ */ new ie(), ql = /* @__PURE__ */ new ie(), Nh = /* @__PURE__ */ new ie();
  class yo {
    constructor(t = new ie(), i = new ie(0, 0, -1)) {
      this.origin = t, this.direction = i;
    }
    set(t, i) {
      return this.origin.copy(t), this.direction.copy(i), this;
    }
    copy(t) {
      return this.origin.copy(t.origin), this.direction.copy(t.direction), this;
    }
    at(t, i) {
      return i.copy(this.origin).addScaledVector(this.direction, t);
    }
    lookAt(t) {
      return this.direction.copy(t).sub(this.origin).normalize(), this;
    }
    recast(t) {
      return this.origin.copy(this.at(t, vo)), this;
    }
    closestPointToPoint(t, i) {
      i.subVectors(t, this.origin);
      const s = i.dot(this.direction);
      return s < 0 ? i.copy(this.origin) : i.copy(this.origin).addScaledVector(this.direction, s);
    }
    distanceToPoint(t) {
      return Math.sqrt(this.distanceSqToPoint(t));
    }
    distanceSqToPoint(t) {
      const i = vo.subVectors(t, this.origin).dot(this.direction);
      return i < 0 ? this.origin.distanceToSquared(t) : (vo.copy(this.origin).addScaledVector(this.direction, i), vo.distanceToSquared(t));
    }
    distanceSqToSegment(t, i, s, c) {
      Gd.copy(t).add(i).multiplyScalar(0.5), Th.copy(i).sub(t).normalize(), Ki.copy(this.origin).sub(Gd);
      const u = t.distanceTo(i) * 0.5, f = -this.direction.dot(Th), b = Ki.dot(this.direction), C = -Ki.dot(Th), _ = Ki.lengthSq(), N = Math.abs(1 - f * f);
      let I, A, E, R;
      if (N > 0)
        if (I = f * C - b, A = f * b - C, R = u * N, I >= 0)
          if (A >= -R)
            if (A <= R) {
              const j = 1 / N;
              I *= j, A *= j, E = I * (I + f * A + 2 * b) + A * (f * I + A + 2 * C) + _;
            } else
              A = u, I = Math.max(0, -(f * A + b)), E = -I * I + A * (A + 2 * C) + _;
          else
            A = -u, I = Math.max(0, -(f * A + b)), E = -I * I + A * (A + 2 * C) + _;
        else
          A <= -R ? (I = Math.max(0, -(-f * u + b)), A = I > 0 ? -u : Math.min(Math.max(-u, -C), u), E = -I * I + A * (A + 2 * C) + _) : A <= R ? (I = 0, A = Math.min(Math.max(-u, -C), u), E = A * (A + 2 * C) + _) : (I = Math.max(0, -(f * u + b)), A = I > 0 ? u : Math.min(Math.max(-u, -C), u), E = -I * I + A * (A + 2 * C) + _);
      else
        A = f > 0 ? -u : u, I = Math.max(0, -(f * A + b)), E = -I * I + A * (A + 2 * C) + _;
      return s && s.copy(this.origin).addScaledVector(this.direction, I), c && c.copy(Gd).addScaledVector(Th, A), E;
    }
    intersectSphere(t, i) {
      vo.subVectors(t.center, this.origin);
      const s = vo.dot(this.direction), c = vo.dot(vo) - s * s, u = t.radius * t.radius;
      if (c > u)
        return null;
      const f = Math.sqrt(u - c), b = s - f, C = s + f;
      return C < 0 ? null : b < 0 ? this.at(C, i) : this.at(b, i);
    }
    intersectsSphere(t) {
      return this.distanceSqToPoint(t.center) <= t.radius * t.radius;
    }
    distanceToPlane(t) {
      const i = t.normal.dot(this.direction);
      if (i === 0)
        return t.distanceToPoint(this.origin) === 0 ? 0 : null;
      const s = -(this.origin.dot(t.normal) + t.constant) / i;
      return s >= 0 ? s : null;
    }
    intersectPlane(t, i) {
      const s = this.distanceToPlane(t);
      return s === null ? null : this.at(s, i);
    }
    intersectsPlane(t) {
      const i = t.distanceToPoint(this.origin);
      return i === 0 || t.normal.dot(this.direction) * i < 0;
    }
    intersectBox(t, i) {
      let s, c, u, f, b, C;
      const _ = 1 / this.direction.x, N = 1 / this.direction.y, I = 1 / this.direction.z, A = this.origin;
      return _ >= 0 ? (s = (t.min.x - A.x) * _, c = (t.max.x - A.x) * _) : (s = (t.max.x - A.x) * _, c = (t.min.x - A.x) * _), N >= 0 ? (u = (t.min.y - A.y) * N, f = (t.max.y - A.y) * N) : (u = (t.max.y - A.y) * N, f = (t.min.y - A.y) * N), s > f || u > c || ((u > s || isNaN(s)) && (s = u), (f < c || isNaN(c)) && (c = f), I >= 0 ? (b = (t.min.z - A.z) * I, C = (t.max.z - A.z) * I) : (b = (t.max.z - A.z) * I, C = (t.min.z - A.z) * I), s > C || b > c) || ((b > s || s !== s) && (s = b), (C < c || c !== c) && (c = C), c < 0) ? null : this.at(s >= 0 ? s : c, i);
    }
    intersectsBox(t) {
      return this.intersectBox(t, vo) !== null;
    }
    intersectTriangle(t, i, s, c, u) {
      $r.subVectors(i, t), ql.subVectors(s, t), Nh.crossVectors($r, ql);
      let f = this.direction.dot(Nh), b;
      if (f > 0) {
        if (c)
          return null;
        b = 1;
      } else if (f < 0)
        b = -1, f = -f;
      else
        return null;
      Ki.subVectors(this.origin, t);
      const C = b * this.direction.dot(ql.crossVectors(Ki, ql));
      if (C < 0)
        return null;
      const _ = b * this.direction.dot($r.cross(Ki));
      if (_ < 0 || C + _ > f)
        return null;
      const N = -b * Ki.dot(Nh);
      return N < 0 ? null : this.at(N / f, u);
    }
    applyMatrix4(t) {
      return this.origin.applyMatrix4(t), this.direction.transformDirection(t), this;
    }
    equals(t) {
      return t.origin.equals(this.origin) && t.direction.equals(this.direction);
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  class Wt {
    constructor(t, i, s, c, u, f, b, C, _, N, I, A, E, R, j, O) {
      Wt.prototype.isMatrix4 = !0, this.elements = [
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ], t !== void 0 && this.set(t, i, s, c, u, f, b, C, _, N, I, A, E, R, j, O);
    }
    set(t, i, s, c, u, f, b, C, _, N, I, A, E, R, j, O) {
      const P = this.elements;
      return P[0] = t, P[4] = i, P[8] = s, P[12] = c, P[1] = u, P[5] = f, P[9] = b, P[13] = C, P[2] = _, P[6] = N, P[10] = I, P[14] = A, P[3] = E, P[7] = R, P[11] = j, P[15] = O, this;
    }
    identity() {
      return this.set(
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    clone() {
      return new Wt().fromArray(this.elements);
    }
    copy(t) {
      const i = this.elements, s = t.elements;
      return i[0] = s[0], i[1] = s[1], i[2] = s[2], i[3] = s[3], i[4] = s[4], i[5] = s[5], i[6] = s[6], i[7] = s[7], i[8] = s[8], i[9] = s[9], i[10] = s[10], i[11] = s[11], i[12] = s[12], i[13] = s[13], i[14] = s[14], i[15] = s[15], this;
    }
    copyPosition(t) {
      const i = this.elements, s = t.elements;
      return i[12] = s[12], i[13] = s[13], i[14] = s[14], this;
    }
    setFromMatrix3(t) {
      const i = t.elements;
      return this.set(
        i[0],
        i[3],
        i[6],
        0,
        i[1],
        i[4],
        i[7],
        0,
        i[2],
        i[5],
        i[8],
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    extractBasis(t, i, s) {
      return t.setFromMatrixColumn(this, 0), i.setFromMatrixColumn(this, 1), s.setFromMatrixColumn(this, 2), this;
    }
    makeBasis(t, i, s) {
      return this.set(
        t.x,
        i.x,
        s.x,
        0,
        t.y,
        i.y,
        s.y,
        0,
        t.z,
        i.z,
        s.z,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    extractRotation(t) {
      const i = this.elements, s = t.elements, c = 1 / Da.setFromMatrixColumn(t, 0).length(), u = 1 / Da.setFromMatrixColumn(t, 1).length(), f = 1 / Da.setFromMatrixColumn(t, 2).length();
      return i[0] = s[0] * c, i[1] = s[1] * c, i[2] = s[2] * c, i[3] = 0, i[4] = s[4] * u, i[5] = s[5] * u, i[6] = s[6] * u, i[7] = 0, i[8] = s[8] * f, i[9] = s[9] * f, i[10] = s[10] * f, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, this;
    }
    makeRotationFromEuler(t) {
      const i = this.elements, s = t.x, c = t.y, u = t.z, f = Math.cos(s), b = Math.sin(s), C = Math.cos(c), _ = Math.sin(c), N = Math.cos(u), I = Math.sin(u);
      if (t.order === "XYZ") {
        const A = f * N, E = f * I, R = b * N, j = b * I;
        i[0] = C * N, i[4] = -C * I, i[8] = _, i[1] = E + R * _, i[5] = A - j * _, i[9] = -b * C, i[2] = j - A * _, i[6] = R + E * _, i[10] = f * C;
      } else if (t.order === "YXZ") {
        const A = C * N, E = C * I, R = _ * N, j = _ * I;
        i[0] = A + j * b, i[4] = R * b - E, i[8] = f * _, i[1] = f * I, i[5] = f * N, i[9] = -b, i[2] = E * b - R, i[6] = j + A * b, i[10] = f * C;
      } else if (t.order === "ZXY") {
        const A = C * N, E = C * I, R = _ * N, j = _ * I;
        i[0] = A - j * b, i[4] = -f * I, i[8] = R + E * b, i[1] = E + R * b, i[5] = f * N, i[9] = j - A * b, i[2] = -f * _, i[6] = b, i[10] = f * C;
      } else if (t.order === "ZYX") {
        const A = f * N, E = f * I, R = b * N, j = b * I;
        i[0] = C * N, i[4] = R * _ - E, i[8] = A * _ + j, i[1] = C * I, i[5] = j * _ + A, i[9] = E * _ - R, i[2] = -_, i[6] = b * C, i[10] = f * C;
      } else if (t.order === "YZX") {
        const A = f * C, E = f * _, R = b * C, j = b * _;
        i[0] = C * N, i[4] = j - A * I, i[8] = R * I + E, i[1] = I, i[5] = f * N, i[9] = -b * N, i[2] = -_ * N, i[6] = E * I + R, i[10] = A - j * I;
      } else if (t.order === "XZY") {
        const A = f * C, E = f * _, R = b * C, j = b * _;
        i[0] = C * N, i[4] = -I, i[8] = _ * N, i[1] = A * I + j, i[5] = f * N, i[9] = E * I - R, i[2] = R * I - E, i[6] = b * N, i[10] = j * I + A;
      }
      return i[3] = 0, i[7] = 0, i[11] = 0, i[12] = 0, i[13] = 0, i[14] = 0, i[15] = 1, this;
    }
    makeRotationFromQuaternion(t) {
      return this.compose(pf, t, Wd);
    }
    lookAt(t, i, s) {
      const c = this.elements;
      return Zr.subVectors(t, i), Zr.lengthSq() === 0 && (Zr.z = 1), Zr.normalize(), Ko.crossVectors(s, Zr), Ko.lengthSq() === 0 && (Math.abs(s.z) === 1 ? Zr.x += 1e-4 : Zr.z += 1e-4, Zr.normalize(), Ko.crossVectors(s, Zr)), Ko.normalize(), Yl.crossVectors(Zr, Ko), c[0] = Ko.x, c[4] = Yl.x, c[8] = Zr.x, c[1] = Ko.y, c[5] = Yl.y, c[9] = Zr.y, c[2] = Ko.z, c[6] = Yl.z, c[10] = Zr.z, this;
    }
    multiply(t) {
      return this.multiplyMatrices(this, t);
    }
    premultiply(t) {
      return this.multiplyMatrices(t, this);
    }
    multiplyMatrices(t, i) {
      const s = t.elements, c = i.elements, u = this.elements, f = s[0], b = s[4], C = s[8], _ = s[12], N = s[1], I = s[5], A = s[9], E = s[13], R = s[2], j = s[6], O = s[10], P = s[14], U = s[3], k = s[7], V = s[11], me = s[15], ee = c[0], le = c[4], ye = c[8], Z = c[12], H = c[1], Te = c[5], ke = c[9], Ce = c[13], Le = c[2], Ve = c[6], Ze = c[10], vt = c[14], ze = c[3], lt = c[7], st = c[11], Bt = c[15];
      return u[0] = f * ee + b * H + C * Le + _ * ze, u[4] = f * le + b * Te + C * Ve + _ * lt, u[8] = f * ye + b * ke + C * Ze + _ * st, u[12] = f * Z + b * Ce + C * vt + _ * Bt, u[1] = N * ee + I * H + A * Le + E * ze, u[5] = N * le + I * Te + A * Ve + E * lt, u[9] = N * ye + I * ke + A * Ze + E * st, u[13] = N * Z + I * Ce + A * vt + E * Bt, u[2] = R * ee + j * H + O * Le + P * ze, u[6] = R * le + j * Te + O * Ve + P * lt, u[10] = R * ye + j * ke + O * Ze + P * st, u[14] = R * Z + j * Ce + O * vt + P * Bt, u[3] = U * ee + k * H + V * Le + me * ze, u[7] = U * le + k * Te + V * Ve + me * lt, u[11] = U * ye + k * ke + V * Ze + me * st, u[15] = U * Z + k * Ce + V * vt + me * Bt, this;
    }
    multiplyScalar(t) {
      const i = this.elements;
      return i[0] *= t, i[4] *= t, i[8] *= t, i[12] *= t, i[1] *= t, i[5] *= t, i[9] *= t, i[13] *= t, i[2] *= t, i[6] *= t, i[10] *= t, i[14] *= t, i[3] *= t, i[7] *= t, i[11] *= t, i[15] *= t, this;
    }
    determinant() {
      const t = this.elements, i = t[0], s = t[4], c = t[8], u = t[12], f = t[1], b = t[5], C = t[9], _ = t[13], N = t[2], I = t[6], A = t[10], E = t[14], R = t[3], j = t[7], O = t[11], P = t[15];
      return R * (+u * C * I - c * _ * I - u * b * A + s * _ * A + c * b * E - s * C * E) + j * (+i * C * E - i * _ * A + u * f * A - c * f * E + c * _ * N - u * C * N) + O * (+i * _ * I - i * b * E - u * f * I + s * f * E + u * b * N - s * _ * N) + P * (-c * b * N - i * C * I + i * b * A + c * f * I - s * f * A + s * C * N);
    }
    transpose() {
      const t = this.elements;
      let i;
      return i = t[1], t[1] = t[4], t[4] = i, i = t[2], t[2] = t[8], t[8] = i, i = t[6], t[6] = t[9], t[9] = i, i = t[3], t[3] = t[12], t[12] = i, i = t[7], t[7] = t[13], t[13] = i, i = t[11], t[11] = t[14], t[14] = i, this;
    }
    setPosition(t, i, s) {
      const c = this.elements;
      return t.isVector3 ? (c[12] = t.x, c[13] = t.y, c[14] = t.z) : (c[12] = t, c[13] = i, c[14] = s), this;
    }
    invert() {
      const t = this.elements, i = t[0], s = t[1], c = t[2], u = t[3], f = t[4], b = t[5], C = t[6], _ = t[7], N = t[8], I = t[9], A = t[10], E = t[11], R = t[12], j = t[13], O = t[14], P = t[15], U = I * O * _ - j * A * _ + j * C * E - b * O * E - I * C * P + b * A * P, k = R * A * _ - N * O * _ - R * C * E + f * O * E + N * C * P - f * A * P, V = N * j * _ - R * I * _ + R * b * E - f * j * E - N * b * P + f * I * P, me = R * I * C - N * j * C - R * b * A + f * j * A + N * b * O - f * I * O, ee = i * U + s * k + c * V + u * me;
      if (ee === 0)
        return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
      const le = 1 / ee;
      return t[0] = U * le, t[1] = (j * A * u - I * O * u - j * c * E + s * O * E + I * c * P - s * A * P) * le, t[2] = (b * O * u - j * C * u + j * c * _ - s * O * _ - b * c * P + s * C * P) * le, t[3] = (I * C * u - b * A * u - I * c * _ + s * A * _ + b * c * E - s * C * E) * le, t[4] = k * le, t[5] = (N * O * u - R * A * u + R * c * E - i * O * E - N * c * P + i * A * P) * le, t[6] = (R * C * u - f * O * u - R * c * _ + i * O * _ + f * c * P - i * C * P) * le, t[7] = (f * A * u - N * C * u + N * c * _ - i * A * _ - f * c * E + i * C * E) * le, t[8] = V * le, t[9] = (R * I * u - N * j * u - R * s * E + i * j * E + N * s * P - i * I * P) * le, t[10] = (f * j * u - R * b * u + R * s * _ - i * j * _ - f * s * P + i * b * P) * le, t[11] = (N * b * u - f * I * u - N * s * _ + i * I * _ + f * s * E - i * b * E) * le, t[12] = me * le, t[13] = (N * j * c - R * I * c + R * s * A - i * j * A - N * s * O + i * I * O) * le, t[14] = (R * b * c - f * j * c - R * s * C + i * j * C + f * s * O - i * b * O) * le, t[15] = (f * I * c - N * b * c + N * s * C - i * I * C - f * s * A + i * b * A) * le, this;
    }
    scale(t) {
      const i = this.elements, s = t.x, c = t.y, u = t.z;
      return i[0] *= s, i[4] *= c, i[8] *= u, i[1] *= s, i[5] *= c, i[9] *= u, i[2] *= s, i[6] *= c, i[10] *= u, i[3] *= s, i[7] *= c, i[11] *= u, this;
    }
    getMaxScaleOnAxis() {
      const t = this.elements, i = t[0] * t[0] + t[1] * t[1] + t[2] * t[2], s = t[4] * t[4] + t[5] * t[5] + t[6] * t[6], c = t[8] * t[8] + t[9] * t[9] + t[10] * t[10];
      return Math.sqrt(Math.max(i, s, c));
    }
    makeTranslation(t, i, s) {
      return t.isVector3 ? this.set(
        1,
        0,
        0,
        t.x,
        0,
        1,
        0,
        t.y,
        0,
        0,
        1,
        t.z,
        0,
        0,
        0,
        1
      ) : this.set(
        1,
        0,
        0,
        t,
        0,
        1,
        0,
        i,
        0,
        0,
        1,
        s,
        0,
        0,
        0,
        1
      ), this;
    }
    makeRotationX(t) {
      const i = Math.cos(t), s = Math.sin(t);
      return this.set(
        1,
        0,
        0,
        0,
        0,
        i,
        -s,
        0,
        0,
        s,
        i,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    makeRotationY(t) {
      const i = Math.cos(t), s = Math.sin(t);
      return this.set(
        i,
        0,
        s,
        0,
        0,
        1,
        0,
        0,
        -s,
        0,
        i,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    makeRotationZ(t) {
      const i = Math.cos(t), s = Math.sin(t);
      return this.set(
        i,
        -s,
        0,
        0,
        s,
        i,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    makeRotationAxis(t, i) {
      const s = Math.cos(i), c = Math.sin(i), u = 1 - s, f = t.x, b = t.y, C = t.z, _ = u * f, N = u * b;
      return this.set(
        _ * f + s,
        _ * b - c * C,
        _ * C + c * b,
        0,
        _ * b + c * C,
        N * b + s,
        N * C - c * f,
        0,
        _ * C - c * b,
        N * C + c * f,
        u * C * C + s,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    makeScale(t, i, s) {
      return this.set(
        t,
        0,
        0,
        0,
        0,
        i,
        0,
        0,
        0,
        0,
        s,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    makeShear(t, i, s, c, u, f) {
      return this.set(
        1,
        s,
        u,
        0,
        t,
        1,
        f,
        0,
        i,
        c,
        1,
        0,
        0,
        0,
        0,
        1
      ), this;
    }
    compose(t, i, s) {
      const c = this.elements, u = i._x, f = i._y, b = i._z, C = i._w, _ = u + u, N = f + f, I = b + b, A = u * _, E = u * N, R = u * I, j = f * N, O = f * I, P = b * I, U = C * _, k = C * N, V = C * I, me = s.x, ee = s.y, le = s.z;
      return c[0] = (1 - (j + P)) * me, c[1] = (E + V) * me, c[2] = (R - k) * me, c[3] = 0, c[4] = (E - V) * ee, c[5] = (1 - (A + P)) * ee, c[6] = (O + U) * ee, c[7] = 0, c[8] = (R + k) * le, c[9] = (O - U) * le, c[10] = (1 - (A + j)) * le, c[11] = 0, c[12] = t.x, c[13] = t.y, c[14] = t.z, c[15] = 1, this;
    }
    decompose(t, i, s) {
      const c = this.elements;
      let u = Da.set(c[0], c[1], c[2]).length();
      const f = Da.set(c[4], c[5], c[6]).length(), b = Da.set(c[8], c[9], c[10]).length();
      this.determinant() < 0 && (u = -u), t.x = c[12], t.y = c[13], t.z = c[14], Ri.copy(this);
      const _ = 1 / u, N = 1 / f, I = 1 / b;
      return Ri.elements[0] *= _, Ri.elements[1] *= _, Ri.elements[2] *= _, Ri.elements[4] *= N, Ri.elements[5] *= N, Ri.elements[6] *= N, Ri.elements[8] *= I, Ri.elements[9] *= I, Ri.elements[10] *= I, i.setFromRotationMatrix(Ri), s.x = u, s.y = f, s.z = b, this;
    }
    makePerspective(t, i, s, c, u, f, b = hi) {
      const C = this.elements, _ = 2 * u / (i - t), N = 2 * u / (s - c), I = (i + t) / (i - t), A = (s + c) / (s - c);
      let E, R;
      if (b === hi)
        E = -(f + u) / (f - u), R = -2 * f * u / (f - u);
      else if (b === Ea)
        E = -f / (f - u), R = -f * u / (f - u);
      else
        throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: " + b);
      return C[0] = _, C[4] = 0, C[8] = I, C[12] = 0, C[1] = 0, C[5] = N, C[9] = A, C[13] = 0, C[2] = 0, C[6] = 0, C[10] = E, C[14] = R, C[3] = 0, C[7] = 0, C[11] = -1, C[15] = 0, this;
    }
    makeOrthographic(t, i, s, c, u, f, b = hi) {
      const C = this.elements, _ = 1 / (i - t), N = 1 / (s - c), I = 1 / (f - u), A = (i + t) * _, E = (s + c) * N;
      let R, j;
      if (b === hi)
        R = (f + u) * I, j = -2 * I;
      else if (b === Ea)
        R = u * I, j = -1 * I;
      else
        throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: " + b);
      return C[0] = 2 * _, C[4] = 0, C[8] = 0, C[12] = -A, C[1] = 0, C[5] = 2 * N, C[9] = 0, C[13] = -E, C[2] = 0, C[6] = 0, C[10] = j, C[14] = -R, C[3] = 0, C[7] = 0, C[11] = 0, C[15] = 1, this;
    }
    equals(t) {
      const i = this.elements, s = t.elements;
      for (let c = 0; c < 16; c++)
        if (i[c] !== s[c])
          return !1;
      return !0;
    }
    fromArray(t, i = 0) {
      for (let s = 0; s < 16; s++)
        this.elements[s] = t[s + i];
      return this;
    }
    toArray(t = [], i = 0) {
      const s = this.elements;
      return t[i] = s[0], t[i + 1] = s[1], t[i + 2] = s[2], t[i + 3] = s[3], t[i + 4] = s[4], t[i + 5] = s[5], t[i + 6] = s[6], t[i + 7] = s[7], t[i + 8] = s[8], t[i + 9] = s[9], t[i + 10] = s[10], t[i + 11] = s[11], t[i + 12] = s[12], t[i + 13] = s[13], t[i + 14] = s[14], t[i + 15] = s[15], t;
    }
  }
  const Da = /* @__PURE__ */ new ie(), Ri = /* @__PURE__ */ new Wt(), pf = /* @__PURE__ */ new ie(0, 0, 0), Wd = /* @__PURE__ */ new ie(1, 1, 1), Ko = /* @__PURE__ */ new ie(), Yl = /* @__PURE__ */ new ie(), Zr = /* @__PURE__ */ new ie(), ff = /* @__PURE__ */ new Wt(), gf = /* @__PURE__ */ new Kr();
  class mi {
    constructor(t = 0, i = 0, s = 0, c = mi.DEFAULT_ORDER) {
      this.isEuler = !0, this._x = t, this._y = i, this._z = s, this._order = c;
    }
    get x() {
      return this._x;
    }
    set x(t) {
      this._x = t, this._onChangeCallback();
    }
    get y() {
      return this._y;
    }
    set y(t) {
      this._y = t, this._onChangeCallback();
    }
    get z() {
      return this._z;
    }
    set z(t) {
      this._z = t, this._onChangeCallback();
    }
    get order() {
      return this._order;
    }
    set order(t) {
      this._order = t, this._onChangeCallback();
    }
    set(t, i, s, c = this._order) {
      return this._x = t, this._y = i, this._z = s, this._order = c, this._onChangeCallback(), this;
    }
    clone() {
      return new this.constructor(this._x, this._y, this._z, this._order);
    }
    copy(t) {
      return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this._onChangeCallback(), this;
    }
    setFromRotationMatrix(t, i = this._order, s = !0) {
      const c = t.elements, u = c[0], f = c[4], b = c[8], C = c[1], _ = c[5], N = c[9], I = c[2], A = c[6], E = c[10];
      switch (i) {
        case "XYZ":
          this._y = Math.asin(Yn(b, -1, 1)), Math.abs(b) < 0.9999999 ? (this._x = Math.atan2(-N, E), this._z = Math.atan2(-f, u)) : (this._x = Math.atan2(A, _), this._z = 0);
          break;
        case "YXZ":
          this._x = Math.asin(-Yn(N, -1, 1)), Math.abs(N) < 0.9999999 ? (this._y = Math.atan2(b, E), this._z = Math.atan2(C, _)) : (this._y = Math.atan2(-I, u), this._z = 0);
          break;
        case "ZXY":
          this._x = Math.asin(Yn(A, -1, 1)), Math.abs(A) < 0.9999999 ? (this._y = Math.atan2(-I, E), this._z = Math.atan2(-f, _)) : (this._y = 0, this._z = Math.atan2(C, u));
          break;
        case "ZYX":
          this._y = Math.asin(-Yn(I, -1, 1)), Math.abs(I) < 0.9999999 ? (this._x = Math.atan2(A, E), this._z = Math.atan2(C, u)) : (this._x = 0, this._z = Math.atan2(-f, _));
          break;
        case "YZX":
          this._z = Math.asin(Yn(C, -1, 1)), Math.abs(C) < 0.9999999 ? (this._x = Math.atan2(-N, _), this._y = Math.atan2(-I, u)) : (this._x = 0, this._y = Math.atan2(b, E));
          break;
        case "XZY":
          this._z = Math.asin(-Yn(f, -1, 1)), Math.abs(f) < 0.9999999 ? (this._x = Math.atan2(A, _), this._y = Math.atan2(b, u)) : (this._x = Math.atan2(-N, E), this._y = 0);
          break;
        default:
          console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: " + i);
      }
      return this._order = i, s === !0 && this._onChangeCallback(), this;
    }
    setFromQuaternion(t, i, s) {
      return ff.makeRotationFromQuaternion(t), this.setFromRotationMatrix(ff, i, s);
    }
    setFromVector3(t, i = this._order) {
      return this.set(t.x, t.y, t.z, i);
    }
    reorder(t) {
      return gf.setFromEuler(this), this.setFromQuaternion(gf, t);
    }
    equals(t) {
      return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order;
    }
    fromArray(t) {
      return this._x = t[0], this._y = t[1], this._z = t[2], t[3] !== void 0 && (this._order = t[3]), this._onChangeCallback(), this;
    }
    toArray(t = [], i = 0) {
      return t[i] = this._x, t[i + 1] = this._y, t[i + 2] = this._z, t[i + 3] = this._order, t;
    }
    _onChange(t) {
      return this._onChangeCallback = t, this;
    }
    _onChangeCallback() {
    }
    *[Symbol.iterator]() {
      yield this._x, yield this._y, yield this._z, yield this._order;
    }
  }
  mi.DEFAULT_ORDER = "XYZ";
  class Bs {
    constructor() {
      this.mask = 1;
    }
    set(t) {
      this.mask = (1 << t | 0) >>> 0;
    }
    enable(t) {
      this.mask |= 1 << t | 0;
    }
    enableAll() {
      this.mask = -1;
    }
    toggle(t) {
      this.mask ^= 1 << t | 0;
    }
    disable(t) {
      this.mask &= ~(1 << t | 0);
    }
    disableAll() {
      this.mask = 0;
    }
    test(t) {
      return (this.mask & t.mask) !== 0;
    }
    isEnabled(t) {
      return (this.mask & (1 << t | 0)) !== 0;
    }
  }
  let Os = 0;
  const bf = /* @__PURE__ */ new ie(), Ls = /* @__PURE__ */ new Kr(), xo = /* @__PURE__ */ new Wt(), Kl = /* @__PURE__ */ new ie(), Zi = /* @__PURE__ */ new ie(), _b = /* @__PURE__ */ new ie(), vf = /* @__PURE__ */ new Kr(), yf = /* @__PURE__ */ new ie(1, 0, 0), xf = /* @__PURE__ */ new ie(0, 1, 0), Cf = /* @__PURE__ */ new ie(0, 0, 1), _f = { type: "added" }, wb = { type: "removed" }, js = { type: "childadded", child: null }, Vd = { type: "childremoved", child: null };
  class An extends qi {
    constructor() {
      super(), this.isObject3D = !0, Object.defineProperty(this, "id", { value: Os++ }), this.uuid = ui(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = An.DEFAULT_UP.clone();
      const t = new ie(), i = new mi(), s = new Kr(), c = new ie(1, 1, 1);
      function u() {
        s.setFromEuler(i, !1);
      }
      function f() {
        i.setFromQuaternion(s, void 0, !1);
      }
      i._onChange(u), s._onChange(f), Object.defineProperties(this, {
        position: {
          configurable: !0,
          enumerable: !0,
          value: t
        },
        rotation: {
          configurable: !0,
          enumerable: !0,
          value: i
        },
        quaternion: {
          configurable: !0,
          enumerable: !0,
          value: s
        },
        scale: {
          configurable: !0,
          enumerable: !0,
          value: c
        },
        modelViewMatrix: {
          value: new Wt()
        },
        normalMatrix: {
          value: new en()
        }
      }), this.matrix = new Wt(), this.matrixWorld = new Wt(), this.matrixAutoUpdate = An.DEFAULT_MATRIX_AUTO_UPDATE, this.matrixWorldAutoUpdate = An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE, this.matrixWorldNeedsUpdate = !1, this.layers = new Bs(), this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.animations = [], this.userData = {};
    }
    onBeforeShadow() {
    }
    onAfterShadow() {
    }
    onBeforeRender() {
    }
    onAfterRender() {
    }
    applyMatrix4(t) {
      this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(t), this.matrix.decompose(this.position, this.quaternion, this.scale);
    }
    applyQuaternion(t) {
      return this.quaternion.premultiply(t), this;
    }
    setRotationFromAxisAngle(t, i) {
      this.quaternion.setFromAxisAngle(t, i);
    }
    setRotationFromEuler(t) {
      this.quaternion.setFromEuler(t, !0);
    }
    setRotationFromMatrix(t) {
      this.quaternion.setFromRotationMatrix(t);
    }
    setRotationFromQuaternion(t) {
      this.quaternion.copy(t);
    }
    rotateOnAxis(t, i) {
      return Ls.setFromAxisAngle(t, i), this.quaternion.multiply(Ls), this;
    }
    rotateOnWorldAxis(t, i) {
      return Ls.setFromAxisAngle(t, i), this.quaternion.premultiply(Ls), this;
    }
    rotateX(t) {
      return this.rotateOnAxis(yf, t);
    }
    rotateY(t) {
      return this.rotateOnAxis(xf, t);
    }
    rotateZ(t) {
      return this.rotateOnAxis(Cf, t);
    }
    translateOnAxis(t, i) {
      return bf.copy(t).applyQuaternion(this.quaternion), this.position.add(bf.multiplyScalar(i)), this;
    }
    translateX(t) {
      return this.translateOnAxis(yf, t);
    }
    translateY(t) {
      return this.translateOnAxis(xf, t);
    }
    translateZ(t) {
      return this.translateOnAxis(Cf, t);
    }
    localToWorld(t) {
      return this.updateWorldMatrix(!0, !1), t.applyMatrix4(this.matrixWorld);
    }
    worldToLocal(t) {
      return this.updateWorldMatrix(!0, !1), t.applyMatrix4(xo.copy(this.matrixWorld).invert());
    }
    lookAt(t, i, s) {
      t.isVector3 ? Kl.copy(t) : Kl.set(t, i, s);
      const c = this.parent;
      this.updateWorldMatrix(!0, !1), Zi.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? xo.lookAt(Zi, Kl, this.up) : xo.lookAt(Kl, Zi, this.up), this.quaternion.setFromRotationMatrix(xo), c && (xo.extractRotation(c.matrixWorld), Ls.setFromRotationMatrix(xo), this.quaternion.premultiply(Ls.invert()));
    }
    add(t) {
      if (arguments.length > 1) {
        for (let i = 0; i < arguments.length; i++)
          this.add(arguments[i]);
        return this;
      }
      return t === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", t), this) : (t && t.isObject3D ? (t.removeFromParent(), t.parent = this, this.children.push(t), t.dispatchEvent(_f), js.child = t, this.dispatchEvent(js), js.child = null) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", t), this);
    }
    remove(t) {
      if (arguments.length > 1) {
        for (let s = 0; s < arguments.length; s++)
          this.remove(arguments[s]);
        return this;
      }
      const i = this.children.indexOf(t);
      return i !== -1 && (t.parent = null, this.children.splice(i, 1), t.dispatchEvent(wb), Vd.child = t, this.dispatchEvent(Vd), Vd.child = null), this;
    }
    removeFromParent() {
      const t = this.parent;
      return t !== null && t.remove(this), this;
    }
    clear() {
      return this.remove(...this.children);
    }
    attach(t) {
      return this.updateWorldMatrix(!0, !1), xo.copy(this.matrixWorld).invert(), t.parent !== null && (t.parent.updateWorldMatrix(!0, !1), xo.multiply(t.parent.matrixWorld)), t.applyMatrix4(xo), t.removeFromParent(), t.parent = this, this.children.push(t), t.updateWorldMatrix(!1, !0), t.dispatchEvent(_f), js.child = t, this.dispatchEvent(js), js.child = null, this;
    }
    getObjectById(t) {
      return this.getObjectByProperty("id", t);
    }
    getObjectByName(t) {
      return this.getObjectByProperty("name", t);
    }
    getObjectByProperty(t, i) {
      if (this[t] === i)
        return this;
      for (let s = 0, c = this.children.length; s < c; s++) {
        const f = this.children[s].getObjectByProperty(t, i);
        if (f !== void 0)
          return f;
      }
    }
    getObjectsByProperty(t, i, s = []) {
      this[t] === i && s.push(this);
      const c = this.children;
      for (let u = 0, f = c.length; u < f; u++)
        c[u].getObjectsByProperty(t, i, s);
      return s;
    }
    getWorldPosition(t) {
      return this.updateWorldMatrix(!0, !1), t.setFromMatrixPosition(this.matrixWorld);
    }
    getWorldQuaternion(t) {
      return this.updateWorldMatrix(!0, !1), this.matrixWorld.decompose(Zi, t, _b), t;
    }
    getWorldScale(t) {
      return this.updateWorldMatrix(!0, !1), this.matrixWorld.decompose(Zi, vf, t), t;
    }
    getWorldDirection(t) {
      this.updateWorldMatrix(!0, !1);
      const i = this.matrixWorld.elements;
      return t.set(i[8], i[9], i[10]).normalize();
    }
    raycast() {
    }
    traverse(t) {
      t(this);
      const i = this.children;
      for (let s = 0, c = i.length; s < c; s++)
        i[s].traverse(t);
    }
    traverseVisible(t) {
      if (this.visible === !1)
        return;
      t(this);
      const i = this.children;
      for (let s = 0, c = i.length; s < c; s++)
        i[s].traverseVisible(t);
    }
    traverseAncestors(t) {
      const i = this.parent;
      i !== null && (t(i), i.traverseAncestors(t));
    }
    updateMatrix() {
      this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0;
    }
    updateMatrixWorld(t) {
      this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || t) && (this.parent === null ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0);
      const i = this.children;
      for (let s = 0, c = i.length; s < c; s++) {
        const u = i[s];
        (u.matrixWorldAutoUpdate === !0 || t === !0) && u.updateMatrixWorld(t);
      }
    }
    updateWorldMatrix(t, i) {
      const s = this.parent;
      if (t === !0 && s !== null && s.matrixWorldAutoUpdate === !0 && s.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), this.parent === null ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), i === !0) {
        const c = this.children;
        for (let u = 0, f = c.length; u < f; u++) {
          const b = c[u];
          b.matrixWorldAutoUpdate === !0 && b.updateWorldMatrix(!1, !0);
        }
      }
    }
    toJSON(t) {
      const i = t === void 0 || typeof t == "string", s = {};
      i && (t = {
        geometries: {},
        materials: {},
        textures: {},
        images: {},
        shapes: {},
        skeletons: {},
        animations: {},
        nodes: {}
      }, s.metadata = {
        version: 4.6,
        type: "Object",
        generator: "Object3D.toJSON"
      });
      const c = {};
      c.uuid = this.uuid, c.type = this.type, this.name !== "" && (c.name = this.name), this.castShadow === !0 && (c.castShadow = !0), this.receiveShadow === !0 && (c.receiveShadow = !0), this.visible === !1 && (c.visible = !1), this.frustumCulled === !1 && (c.frustumCulled = !1), this.renderOrder !== 0 && (c.renderOrder = this.renderOrder), Object.keys(this.userData).length > 0 && (c.userData = this.userData), c.layers = this.layers.mask, c.matrix = this.matrix.toArray(), c.up = this.up.toArray(), this.matrixAutoUpdate === !1 && (c.matrixAutoUpdate = !1), this.isInstancedMesh && (c.type = "InstancedMesh", c.count = this.count, c.instanceMatrix = this.instanceMatrix.toJSON(), this.instanceColor !== null && (c.instanceColor = this.instanceColor.toJSON())), this.isBatchedMesh && (c.type = "BatchedMesh", c.perObjectFrustumCulled = this.perObjectFrustumCulled, c.sortObjects = this.sortObjects, c.drawRanges = this._drawRanges, c.reservedRanges = this._reservedRanges, c.visibility = this._visibility, c.active = this._active, c.bounds = this._bounds.map((b) => ({
        boxInitialized: b.boxInitialized,
        boxMin: b.box.min.toArray(),
        boxMax: b.box.max.toArray(),
        sphereInitialized: b.sphereInitialized,
        sphereRadius: b.sphere.radius,
        sphereCenter: b.sphere.center.toArray()
      })), c.maxGeometryCount = this._maxGeometryCount, c.maxVertexCount = this._maxVertexCount, c.maxIndexCount = this._maxIndexCount, c.geometryInitialized = this._geometryInitialized, c.geometryCount = this._geometryCount, c.matricesTexture = this._matricesTexture.toJSON(t), this.boundingSphere !== null && (c.boundingSphere = {
        center: c.boundingSphere.center.toArray(),
        radius: c.boundingSphere.radius
      }), this.boundingBox !== null && (c.boundingBox = {
        min: c.boundingBox.min.toArray(),
        max: c.boundingBox.max.toArray()
      }));
      function u(b, C) {
        return b[C.uuid] === void 0 && (b[C.uuid] = C.toJSON(t)), C.uuid;
      }
      if (this.isScene)
        this.background && (this.background.isColor ? c.background = this.background.toJSON() : this.background.isTexture && (c.background = this.background.toJSON(t).uuid)), this.environment && this.environment.isTexture && this.environment.isRenderTargetTexture !== !0 && (c.environment = this.environment.toJSON(t).uuid);
      else if (this.isMesh || this.isLine || this.isPoints) {
        c.geometry = u(t.geometries, this.geometry);
        const b = this.geometry.parameters;
        if (b !== void 0 && b.shapes !== void 0) {
          const C = b.shapes;
          if (Array.isArray(C))
            for (let _ = 0, N = C.length; _ < N; _++) {
              const I = C[_];
              u(t.shapes, I);
            }
          else
            u(t.shapes, C);
        }
      }
      if (this.isSkinnedMesh && (c.bindMode = this.bindMode, c.bindMatrix = this.bindMatrix.toArray(), this.skeleton !== void 0 && (u(t.skeletons, this.skeleton), c.skeleton = this.skeleton.uuid)), this.material !== void 0)
        if (Array.isArray(this.material)) {
          const b = [];
          for (let C = 0, _ = this.material.length; C < _; C++)
            b.push(u(t.materials, this.material[C]));
          c.material = b;
        } else
          c.material = u(t.materials, this.material);
      if (this.children.length > 0) {
        c.children = [];
        for (let b = 0; b < this.children.length; b++)
          c.children.push(this.children[b].toJSON(t).object);
      }
      if (this.animations.length > 0) {
        c.animations = [];
        for (let b = 0; b < this.animations.length; b++) {
          const C = this.animations[b];
          c.animations.push(u(t.animations, C));
        }
      }
      if (i) {
        const b = f(t.geometries), C = f(t.materials), _ = f(t.textures), N = f(t.images), I = f(t.shapes), A = f(t.skeletons), E = f(t.animations), R = f(t.nodes);
        b.length > 0 && (s.geometries = b), C.length > 0 && (s.materials = C), _.length > 0 && (s.textures = _), N.length > 0 && (s.images = N), I.length > 0 && (s.shapes = I), A.length > 0 && (s.skeletons = A), E.length > 0 && (s.animations = E), R.length > 0 && (s.nodes = R);
      }
      return s.object = c, s;
      function f(b) {
        const C = [];
        for (const _ in b) {
          const N = b[_];
          delete N.metadata, C.push(N);
        }
        return C;
      }
    }
    clone(t) {
      return new this.constructor().copy(this, t);
    }
    copy(t, i = !0) {
      if (this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.rotation.order = t.rotation.order, this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldAutoUpdate = t.matrixWorldAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.layers.mask = t.layers.mask, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.animations = t.animations.slice(), this.userData = JSON.parse(JSON.stringify(t.userData)), i === !0)
        for (let s = 0; s < t.children.length; s++) {
          const c = t.children[s];
          this.add(c.clone());
        }
      return this;
    }
  }
  An.DEFAULT_UP = /* @__PURE__ */ new ie(0, 1, 0), An.DEFAULT_MATRIX_AUTO_UPDATE = !0, An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = !0;
  const Bi = /* @__PURE__ */ new ie(), Co = /* @__PURE__ */ new ie(), Hd = /* @__PURE__ */ new ie(), _o = /* @__PURE__ */ new ie(), Ds = /* @__PURE__ */ new ie(), Fs = /* @__PURE__ */ new ie(), Mh = /* @__PURE__ */ new ie(), $d = /* @__PURE__ */ new ie(), Zl = /* @__PURE__ */ new ie(), Jl = /* @__PURE__ */ new ie();
  class qr {
    constructor(t = new ie(), i = new ie(), s = new ie()) {
      this.a = t, this.b = i, this.c = s;
    }
    static getNormal(t, i, s, c) {
      c.subVectors(s, i), Bi.subVectors(t, i), c.cross(Bi);
      const u = c.lengthSq();
      return u > 0 ? c.multiplyScalar(1 / Math.sqrt(u)) : c.set(0, 0, 0);
    }
    // static/instance method to calculate barycentric coordinates
    // based on: http://www.blackpawn.com/texts/pointinpoly/default.html
    static getBarycoord(t, i, s, c, u) {
      Bi.subVectors(c, i), Co.subVectors(s, i), Hd.subVectors(t, i);
      const f = Bi.dot(Bi), b = Bi.dot(Co), C = Bi.dot(Hd), _ = Co.dot(Co), N = Co.dot(Hd), I = f * _ - b * b;
      if (I === 0)
        return u.set(0, 0, 0), null;
      const A = 1 / I, E = (_ * C - b * N) * A, R = (f * N - b * C) * A;
      return u.set(1 - E - R, R, E);
    }
    static containsPoint(t, i, s, c) {
      return this.getBarycoord(t, i, s, c, _o) === null ? !1 : _o.x >= 0 && _o.y >= 0 && _o.x + _o.y <= 1;
    }
    static getInterpolation(t, i, s, c, u, f, b, C) {
      return this.getBarycoord(t, i, s, c, _o) === null ? (C.x = 0, C.y = 0, "z" in C && (C.z = 0), "w" in C && (C.w = 0), null) : (C.setScalar(0), C.addScaledVector(u, _o.x), C.addScaledVector(f, _o.y), C.addScaledVector(b, _o.z), C);
    }
    static isFrontFacing(t, i, s, c) {
      return Bi.subVectors(s, i), Co.subVectors(t, i), Bi.cross(Co).dot(c) < 0;
    }
    set(t, i, s) {
      return this.a.copy(t), this.b.copy(i), this.c.copy(s), this;
    }
    setFromPointsAndIndices(t, i, s, c) {
      return this.a.copy(t[i]), this.b.copy(t[s]), this.c.copy(t[c]), this;
    }
    setFromAttributeAndIndices(t, i, s, c) {
      return this.a.fromBufferAttribute(t, i), this.b.fromBufferAttribute(t, s), this.c.fromBufferAttribute(t, c), this;
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this;
    }
    getArea() {
      return Bi.subVectors(this.c, this.b), Co.subVectors(this.a, this.b), Bi.cross(Co).length() * 0.5;
    }
    getMidpoint(t) {
      return t.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);
    }
    getNormal(t) {
      return qr.getNormal(this.a, this.b, this.c, t);
    }
    getPlane(t) {
      return t.setFromCoplanarPoints(this.a, this.b, this.c);
    }
    getBarycoord(t, i) {
      return qr.getBarycoord(t, this.a, this.b, this.c, i);
    }
    getInterpolation(t, i, s, c, u) {
      return qr.getInterpolation(t, this.a, this.b, this.c, i, s, c, u);
    }
    containsPoint(t) {
      return qr.containsPoint(t, this.a, this.b, this.c);
    }
    isFrontFacing(t) {
      return qr.isFrontFacing(this.a, this.b, this.c, t);
    }
    intersectsBox(t) {
      return t.intersectsTriangle(this);
    }
    closestPointToPoint(t, i) {
      const s = this.a, c = this.b, u = this.c;
      let f, b;
      Ds.subVectors(c, s), Fs.subVectors(u, s), $d.subVectors(t, s);
      const C = Ds.dot($d), _ = Fs.dot($d);
      if (C <= 0 && _ <= 0)
        return i.copy(s);
      Zl.subVectors(t, c);
      const N = Ds.dot(Zl), I = Fs.dot(Zl);
      if (N >= 0 && I <= N)
        return i.copy(c);
      const A = C * I - N * _;
      if (A <= 0 && C >= 0 && N <= 0)
        return f = C / (C - N), i.copy(s).addScaledVector(Ds, f);
      Jl.subVectors(t, u);
      const E = Ds.dot(Jl), R = Fs.dot(Jl);
      if (R >= 0 && E <= R)
        return i.copy(u);
      const j = E * _ - C * R;
      if (j <= 0 && _ >= 0 && R <= 0)
        return b = _ / (_ - R), i.copy(s).addScaledVector(Fs, b);
      const O = N * R - E * I;
      if (O <= 0 && I - N >= 0 && E - R >= 0)
        return Mh.subVectors(u, c), b = (I - N) / (I - N + (E - R)), i.copy(c).addScaledVector(Mh, b);
      const P = 1 / (O + j + A);
      return f = j * P, b = A * P, i.copy(s).addScaledVector(Ds, f).addScaledVector(Fs, b);
    }
    equals(t) {
      return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c);
    }
  }
  const qd = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074
  }, wo = { h: 0, s: 0, l: 0 }, Sh = { h: 0, s: 0, l: 0 };
  function Yd(m, t, i) {
    return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? m + (t - m) * 6 * i : i < 1 / 2 ? t : i < 2 / 3 ? m + (t - m) * 6 * (2 / 3 - i) : m;
  }
  class Tt {
    constructor(t, i, s) {
      return this.isColor = !0, this.r = 1, this.g = 1, this.b = 1, this.set(t, i, s);
    }
    set(t, i, s) {
      if (i === void 0 && s === void 0) {
        const c = t;
        c && c.isColor ? this.copy(c) : typeof c == "number" ? this.setHex(c) : typeof c == "string" && this.setStyle(c);
      } else
        this.setRGB(t, i, s);
      return this;
    }
    setScalar(t) {
      return this.r = t, this.g = t, this.b = t, this;
    }
    setHex(t, i = Pr) {
      return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (t & 255) / 255, Fn.toWorkingColorSpace(this, i), this;
    }
    setRGB(t, i, s, c = Fn.workingColorSpace) {
      return this.r = t, this.g = i, this.b = s, Fn.toWorkingColorSpace(this, c), this;
    }
    setHSL(t, i, s, c = Fn.workingColorSpace) {
      if (t = Ld(t, 1), i = Yn(i, 0, 1), s = Yn(s, 0, 1), i === 0)
        this.r = this.g = this.b = s;
      else {
        const u = s <= 0.5 ? s * (1 + i) : s + i - s * i, f = 2 * s - u;
        this.r = Yd(f, u, t + 1 / 3), this.g = Yd(f, u, t), this.b = Yd(f, u, t - 1 / 3);
      }
      return Fn.toWorkingColorSpace(this, c), this;
    }
    setStyle(t, i = Pr) {
      function s(u) {
        u !== void 0 && parseFloat(u) < 1 && console.warn("THREE.Color: Alpha component of " + t + " will be ignored.");
      }
      let c;
      if (c = /^(\w+)\(([^\)]*)\)/.exec(t)) {
        let u;
        const f = c[1], b = c[2];
        switch (f) {
          case "rgb":
          case "rgba":
            if (u = /^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))
              return s(u[4]), this.setRGB(
                Math.min(255, parseInt(u[1], 10)) / 255,
                Math.min(255, parseInt(u[2], 10)) / 255,
                Math.min(255, parseInt(u[3], 10)) / 255,
                i
              );
            if (u = /^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))
              return s(u[4]), this.setRGB(
                Math.min(100, parseInt(u[1], 10)) / 100,
                Math.min(100, parseInt(u[2], 10)) / 100,
                Math.min(100, parseInt(u[3], 10)) / 100,
                i
              );
            break;
          case "hsl":
          case "hsla":
            if (u = /^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))
              return s(u[4]), this.setHSL(
                parseFloat(u[1]) / 360,
                parseFloat(u[2]) / 100,
                parseFloat(u[3]) / 100,
                i
              );
            break;
          default:
            console.warn("THREE.Color: Unknown color model " + t);
        }
      } else if (c = /^\#([A-Fa-f\d]+)$/.exec(t)) {
        const u = c[1], f = u.length;
        if (f === 3)
          return this.setRGB(
            parseInt(u.charAt(0), 16) / 15,
            parseInt(u.charAt(1), 16) / 15,
            parseInt(u.charAt(2), 16) / 15,
            i
          );
        if (f === 6)
          return this.setHex(parseInt(u, 16), i);
        console.warn("THREE.Color: Invalid hex color " + t);
      } else if (t && t.length > 0)
        return this.setColorName(t, i);
      return this;
    }
    setColorName(t, i = Pr) {
      const s = qd[t.toLowerCase()];
      return s !== void 0 ? this.setHex(s, i) : console.warn("THREE.Color: Unknown color " + t), this;
    }
    clone() {
      return new this.constructor(this.r, this.g, this.b);
    }
    copy(t) {
      return this.r = t.r, this.g = t.g, this.b = t.b, this;
    }
    copySRGBToLinear(t) {
      return this.r = Oa(t.r), this.g = Oa(t.g), this.b = Oa(t.b), this;
    }
    copyLinearToSRGB(t) {
      return this.r = Vl(t.r), this.g = Vl(t.g), this.b = Vl(t.b), this;
    }
    convertSRGBToLinear() {
      return this.copySRGBToLinear(this), this;
    }
    convertLinearToSRGB() {
      return this.copyLinearToSRGB(this), this;
    }
    getHex(t = Pr) {
      return Fn.fromWorkingColorSpace(Kn.copy(this), t), Math.round(Yn(Kn.r * 255, 0, 255)) * 65536 + Math.round(Yn(Kn.g * 255, 0, 255)) * 256 + Math.round(Yn(Kn.b * 255, 0, 255));
    }
    getHexString(t = Pr) {
      return ("000000" + this.getHex(t).toString(16)).slice(-6);
    }
    getHSL(t, i = Fn.workingColorSpace) {
      Fn.fromWorkingColorSpace(Kn.copy(this), i);
      const s = Kn.r, c = Kn.g, u = Kn.b, f = Math.max(s, c, u), b = Math.min(s, c, u);
      let C, _;
      const N = (b + f) / 2;
      if (b === f)
        C = 0, _ = 0;
      else {
        const I = f - b;
        switch (_ = N <= 0.5 ? I / (f + b) : I / (2 - f - b), f) {
          case s:
            C = (c - u) / I + (c < u ? 6 : 0);
            break;
          case c:
            C = (u - s) / I + 2;
            break;
          case u:
            C = (s - c) / I + 4;
            break;
        }
        C /= 6;
      }
      return t.h = C, t.s = _, t.l = N, t;
    }
    getRGB(t, i = Fn.workingColorSpace) {
      return Fn.fromWorkingColorSpace(Kn.copy(this), i), t.r = Kn.r, t.g = Kn.g, t.b = Kn.b, t;
    }
    getStyle(t = Pr) {
      Fn.fromWorkingColorSpace(Kn.copy(this), t);
      const i = Kn.r, s = Kn.g, c = Kn.b;
      return t !== Pr ? `color(${t} ${i.toFixed(3)} ${s.toFixed(3)} ${c.toFixed(3)})` : `rgb(${Math.round(i * 255)},${Math.round(s * 255)},${Math.round(c * 255)})`;
    }
    offsetHSL(t, i, s) {
      return this.getHSL(wo), this.setHSL(wo.h + t, wo.s + i, wo.l + s);
    }
    add(t) {
      return this.r += t.r, this.g += t.g, this.b += t.b, this;
    }
    addColors(t, i) {
      return this.r = t.r + i.r, this.g = t.g + i.g, this.b = t.b + i.b, this;
    }
    addScalar(t) {
      return this.r += t, this.g += t, this.b += t, this;
    }
    sub(t) {
      return this.r = Math.max(0, this.r - t.r), this.g = Math.max(0, this.g - t.g), this.b = Math.max(0, this.b - t.b), this;
    }
    multiply(t) {
      return this.r *= t.r, this.g *= t.g, this.b *= t.b, this;
    }
    multiplyScalar(t) {
      return this.r *= t, this.g *= t, this.b *= t, this;
    }
    lerp(t, i) {
      return this.r += (t.r - this.r) * i, this.g += (t.g - this.g) * i, this.b += (t.b - this.b) * i, this;
    }
    lerpColors(t, i, s) {
      return this.r = t.r + (i.r - t.r) * s, this.g = t.g + (i.g - t.g) * s, this.b = t.b + (i.b - t.b) * s, this;
    }
    lerpHSL(t, i) {
      this.getHSL(wo), t.getHSL(Sh);
      const s = Gl(wo.h, Sh.h, i), c = Gl(wo.s, Sh.s, i), u = Gl(wo.l, Sh.l, i);
      return this.setHSL(s, c, u), this;
    }
    setFromVector3(t) {
      return this.r = t.x, this.g = t.y, this.b = t.z, this;
    }
    applyMatrix3(t) {
      const i = this.r, s = this.g, c = this.b, u = t.elements;
      return this.r = u[0] * i + u[3] * s + u[6] * c, this.g = u[1] * i + u[4] * s + u[7] * c, this.b = u[2] * i + u[5] * s + u[8] * c, this;
    }
    equals(t) {
      return t.r === this.r && t.g === this.g && t.b === this.b;
    }
    fromArray(t, i = 0) {
      return this.r = t[i], this.g = t[i + 1], this.b = t[i + 2], this;
    }
    toArray(t = [], i = 0) {
      return t[i] = this.r, t[i + 1] = this.g, t[i + 2] = this.b, t;
    }
    fromBufferAttribute(t, i) {
      return this.r = t.getX(i), this.g = t.getY(i), this.b = t.getZ(i), this;
    }
    toJSON() {
      return this.getHex();
    }
    *[Symbol.iterator]() {
      yield this.r, yield this.g, yield this.b;
    }
  }
  const Kn = /* @__PURE__ */ new Tt();
  Tt.NAMES = qd;
  let ks = 0;
  class zr extends qi {
    constructor() {
      super(), this.isMaterial = !0, Object.defineProperty(this, "id", { value: ks++ }), this.uuid = ui(), this.name = "", this.type = "Material", this.blending = M, this.side = y, this.vertexColors = !1, this.opacity = 1, this.transparent = !1, this.alphaHash = !1, this.blendSrc = J, this.blendDst = pe, this.blendEquation = $, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.blendColor = new Tt(0, 0, 0), this.blendAlpha = 0, this.depthFunc = Mt, this.depthTest = !0, this.depthWrite = !0, this.stencilWriteMask = 255, this.stencilFunc = Pd, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = Aa, this.stencilZFail = Aa, this.stencilZPass = Aa, this.stencilWrite = !1, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaToCoverage = !1, this.premultipliedAlpha = !1, this.forceSinglePass = !1, this.visible = !0, this.toneMapped = !0, this.userData = {}, this.version = 0, this._alphaTest = 0;
    }
    get alphaTest() {
      return this._alphaTest;
    }
    set alphaTest(t) {
      this._alphaTest > 0 != t > 0 && this.version++, this._alphaTest = t;
    }
    onBuild() {
    }
    onBeforeRender() {
    }
    onBeforeCompile() {
    }
    customProgramCacheKey() {
      return this.onBeforeCompile.toString();
    }
    setValues(t) {
      if (t !== void 0)
        for (const i in t) {
          const s = t[i];
          if (s === void 0) {
            console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);
            continue;
          }
          const c = this[i];
          if (c === void 0) {
            console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);
            continue;
          }
          c && c.isColor ? c.set(s) : c && c.isVector3 && s && s.isVector3 ? c.copy(s) : this[i] = s;
        }
    }
    toJSON(t) {
      const i = t === void 0 || typeof t == "string";
      i && (t = {
        textures: {},
        images: {}
      });
      const s = {
        metadata: {
          version: 4.6,
          type: "Material",
          generator: "Material.toJSON"
        }
      };
      s.uuid = this.uuid, s.type = this.type, this.name !== "" && (s.name = this.name), this.color && this.color.isColor && (s.color = this.color.getHex()), this.roughness !== void 0 && (s.roughness = this.roughness), this.metalness !== void 0 && (s.metalness = this.metalness), this.sheen !== void 0 && (s.sheen = this.sheen), this.sheenColor && this.sheenColor.isColor && (s.sheenColor = this.sheenColor.getHex()), this.sheenRoughness !== void 0 && (s.sheenRoughness = this.sheenRoughness), this.emissive && this.emissive.isColor && (s.emissive = this.emissive.getHex()), this.emissiveIntensity !== void 0 && this.emissiveIntensity !== 1 && (s.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (s.specular = this.specular.getHex()), this.specularIntensity !== void 0 && (s.specularIntensity = this.specularIntensity), this.specularColor && this.specularColor.isColor && (s.specularColor = this.specularColor.getHex()), this.shininess !== void 0 && (s.shininess = this.shininess), this.clearcoat !== void 0 && (s.clearcoat = this.clearcoat), this.clearcoatRoughness !== void 0 && (s.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatMap && this.clearcoatMap.isTexture && (s.clearcoatMap = this.clearcoatMap.toJSON(t).uuid), this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture && (s.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(t).uuid), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (s.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(t).uuid, s.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), this.dispersion !== void 0 && (s.dispersion = this.dispersion), this.iridescence !== void 0 && (s.iridescence = this.iridescence), this.iridescenceIOR !== void 0 && (s.iridescenceIOR = this.iridescenceIOR), this.iridescenceThicknessRange !== void 0 && (s.iridescenceThicknessRange = this.iridescenceThicknessRange), this.iridescenceMap && this.iridescenceMap.isTexture && (s.iridescenceMap = this.iridescenceMap.toJSON(t).uuid), this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture && (s.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON(t).uuid), this.anisotropy !== void 0 && (s.anisotropy = this.anisotropy), this.anisotropyRotation !== void 0 && (s.anisotropyRotation = this.anisotropyRotation), this.anisotropyMap && this.anisotropyMap.isTexture && (s.anisotropyMap = this.anisotropyMap.toJSON(t).uuid), this.map && this.map.isTexture && (s.map = this.map.toJSON(t).uuid), this.matcap && this.matcap.isTexture && (s.matcap = this.matcap.toJSON(t).uuid), this.alphaMap && this.alphaMap.isTexture && (s.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap && this.lightMap.isTexture && (s.lightMap = this.lightMap.toJSON(t).uuid, s.lightMapIntensity = this.lightMapIntensity), this.aoMap && this.aoMap.isTexture && (s.aoMap = this.aoMap.toJSON(t).uuid, s.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (s.bumpMap = this.bumpMap.toJSON(t).uuid, s.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (s.normalMap = this.normalMap.toJSON(t).uuid, s.normalMapType = this.normalMapType, s.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (s.displacementMap = this.displacementMap.toJSON(t).uuid, s.displacementScale = this.displacementScale, s.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (s.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap && this.metalnessMap.isTexture && (s.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap && this.emissiveMap.isTexture && (s.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap && this.specularMap.isTexture && (s.specularMap = this.specularMap.toJSON(t).uuid), this.specularIntensityMap && this.specularIntensityMap.isTexture && (s.specularIntensityMap = this.specularIntensityMap.toJSON(t).uuid), this.specularColorMap && this.specularColorMap.isTexture && (s.specularColorMap = this.specularColorMap.toJSON(t).uuid), this.envMap && this.envMap.isTexture && (s.envMap = this.envMap.toJSON(t).uuid, this.combine !== void 0 && (s.combine = this.combine)), this.envMapRotation !== void 0 && (s.envMapRotation = this.envMapRotation.toArray()), this.envMapIntensity !== void 0 && (s.envMapIntensity = this.envMapIntensity), this.reflectivity !== void 0 && (s.reflectivity = this.reflectivity), this.refractionRatio !== void 0 && (s.refractionRatio = this.refractionRatio), this.gradientMap && this.gradientMap.isTexture && (s.gradientMap = this.gradientMap.toJSON(t).uuid), this.transmission !== void 0 && (s.transmission = this.transmission), this.transmissionMap && this.transmissionMap.isTexture && (s.transmissionMap = this.transmissionMap.toJSON(t).uuid), this.thickness !== void 0 && (s.thickness = this.thickness), this.thicknessMap && this.thicknessMap.isTexture && (s.thicknessMap = this.thicknessMap.toJSON(t).uuid), this.attenuationDistance !== void 0 && this.attenuationDistance !== 1 / 0 && (s.attenuationDistance = this.attenuationDistance), this.attenuationColor !== void 0 && (s.attenuationColor = this.attenuationColor.getHex()), this.size !== void 0 && (s.size = this.size), this.shadowSide !== null && (s.shadowSide = this.shadowSide), this.sizeAttenuation !== void 0 && (s.sizeAttenuation = this.sizeAttenuation), this.blending !== M && (s.blending = this.blending), this.side !== y && (s.side = this.side), this.vertexColors === !0 && (s.vertexColors = !0), this.opacity < 1 && (s.opacity = this.opacity), this.transparent === !0 && (s.transparent = !0), this.blendSrc !== J && (s.blendSrc = this.blendSrc), this.blendDst !== pe && (s.blendDst = this.blendDst), this.blendEquation !== $ && (s.blendEquation = this.blendEquation), this.blendSrcAlpha !== null && (s.blendSrcAlpha = this.blendSrcAlpha), this.blendDstAlpha !== null && (s.blendDstAlpha = this.blendDstAlpha), this.blendEquationAlpha !== null && (s.blendEquationAlpha = this.blendEquationAlpha), this.blendColor && this.blendColor.isColor && (s.blendColor = this.blendColor.getHex()), this.blendAlpha !== 0 && (s.blendAlpha = this.blendAlpha), this.depthFunc !== Mt && (s.depthFunc = this.depthFunc), this.depthTest === !1 && (s.depthTest = this.depthTest), this.depthWrite === !1 && (s.depthWrite = this.depthWrite), this.colorWrite === !1 && (s.colorWrite = this.colorWrite), this.stencilWriteMask !== 255 && (s.stencilWriteMask = this.stencilWriteMask), this.stencilFunc !== Pd && (s.stencilFunc = this.stencilFunc), this.stencilRef !== 0 && (s.stencilRef = this.stencilRef), this.stencilFuncMask !== 255 && (s.stencilFuncMask = this.stencilFuncMask), this.stencilFail !== Aa && (s.stencilFail = this.stencilFail), this.stencilZFail !== Aa && (s.stencilZFail = this.stencilZFail), this.stencilZPass !== Aa && (s.stencilZPass = this.stencilZPass), this.stencilWrite === !0 && (s.stencilWrite = this.stencilWrite), this.rotation !== void 0 && this.rotation !== 0 && (s.rotation = this.rotation), this.polygonOffset === !0 && (s.polygonOffset = !0), this.polygonOffsetFactor !== 0 && (s.polygonOffsetFactor = this.polygonOffsetFactor), this.polygonOffsetUnits !== 0 && (s.polygonOffsetUnits = this.polygonOffsetUnits), this.linewidth !== void 0 && this.linewidth !== 1 && (s.linewidth = this.linewidth), this.dashSize !== void 0 && (s.dashSize = this.dashSize), this.gapSize !== void 0 && (s.gapSize = this.gapSize), this.scale !== void 0 && (s.scale = this.scale), this.dithering === !0 && (s.dithering = !0), this.alphaTest > 0 && (s.alphaTest = this.alphaTest), this.alphaHash === !0 && (s.alphaHash = !0), this.alphaToCoverage === !0 && (s.alphaToCoverage = !0), this.premultipliedAlpha === !0 && (s.premultipliedAlpha = !0), this.forceSinglePass === !0 && (s.forceSinglePass = !0), this.wireframe === !0 && (s.wireframe = !0), this.wireframeLinewidth > 1 && (s.wireframeLinewidth = this.wireframeLinewidth), this.wireframeLinecap !== "round" && (s.wireframeLinecap = this.wireframeLinecap), this.wireframeLinejoin !== "round" && (s.wireframeLinejoin = this.wireframeLinejoin), this.flatShading === !0 && (s.flatShading = !0), this.visible === !1 && (s.visible = !1), this.toneMapped === !1 && (s.toneMapped = !1), this.fog === !1 && (s.fog = !1), Object.keys(this.userData).length > 0 && (s.userData = this.userData);
      function c(u) {
        const f = [];
        for (const b in u) {
          const C = u[b];
          delete C.metadata, f.push(C);
        }
        return f;
      }
      if (i) {
        const u = c(t.textures), f = c(t.images);
        u.length > 0 && (s.textures = u), f.length > 0 && (s.images = f);
      }
      return s;
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      this.name = t.name, this.blending = t.blending, this.side = t.side, this.vertexColors = t.vertexColors, this.opacity = t.opacity, this.transparent = t.transparent, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.blendColor.copy(t.blendColor), this.blendAlpha = t.blendAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.stencilWriteMask = t.stencilWriteMask, this.stencilFunc = t.stencilFunc, this.stencilRef = t.stencilRef, this.stencilFuncMask = t.stencilFuncMask, this.stencilFail = t.stencilFail, this.stencilZFail = t.stencilZFail, this.stencilZPass = t.stencilZPass, this.stencilWrite = t.stencilWrite;
      const i = t.clippingPlanes;
      let s = null;
      if (i !== null) {
        const c = i.length;
        s = new Array(c);
        for (let u = 0; u !== c; ++u)
          s[u] = i[u].clone();
      }
      return this.clippingPlanes = s, this.clipIntersection = t.clipIntersection, this.clipShadows = t.clipShadows, this.shadowSide = t.shadowSide, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.dithering = t.dithering, this.alphaTest = t.alphaTest, this.alphaHash = t.alphaHash, this.alphaToCoverage = t.alphaToCoverage, this.premultipliedAlpha = t.premultipliedAlpha, this.forceSinglePass = t.forceSinglePass, this.visible = t.visible, this.toneMapped = t.toneMapped, this.userData = JSON.parse(JSON.stringify(t.userData)), this;
    }
    dispose() {
      this.dispatchEvent({ type: "dispose" });
    }
    set needsUpdate(t) {
      t === !0 && this.version++;
    }
  }
  class Ji extends zr {
    constructor(t) {
      super(), this.isMeshBasicMaterial = !0, this.type = "MeshBasicMaterial", this.color = new Tt(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new mi(), this.combine = at, this.reflectivity = 1, this.refractionRatio = 0.98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapRotation.copy(t.envMapRotation), this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.fog = t.fog, this;
    }
  }
  const To = /* @__PURE__ */ Ql();
  function Ql() {
    const m = new ArrayBuffer(4), t = new Float32Array(m), i = new Uint32Array(m), s = new Uint32Array(512), c = new Uint32Array(512);
    for (let C = 0; C < 256; ++C) {
      const _ = C - 127;
      _ < -27 ? (s[C] = 0, s[C | 256] = 32768, c[C] = 24, c[C | 256] = 24) : _ < -14 ? (s[C] = 1024 >> -_ - 14, s[C | 256] = 1024 >> -_ - 14 | 32768, c[C] = -_ - 1, c[C | 256] = -_ - 1) : _ <= 15 ? (s[C] = _ + 15 << 10, s[C | 256] = _ + 15 << 10 | 32768, c[C] = 13, c[C | 256] = 13) : _ < 128 ? (s[C] = 31744, s[C | 256] = 64512, c[C] = 24, c[C | 256] = 24) : (s[C] = 31744, s[C | 256] = 64512, c[C] = 13, c[C | 256] = 13);
    }
    const u = new Uint32Array(2048), f = new Uint32Array(64), b = new Uint32Array(64);
    for (let C = 1; C < 1024; ++C) {
      let _ = C << 13, N = 0;
      for (; !(_ & 8388608); )
        _ <<= 1, N -= 8388608;
      _ &= -8388609, N += 947912704, u[C] = _ | N;
    }
    for (let C = 1024; C < 2048; ++C)
      u[C] = 939524096 + (C - 1024 << 13);
    for (let C = 1; C < 31; ++C)
      f[C] = C << 23;
    f[31] = 1199570944, f[32] = 2147483648;
    for (let C = 33; C < 63; ++C)
      f[C] = 2147483648 + (C - 32 << 23);
    f[63] = 3347054592;
    for (let C = 1; C < 64; ++C)
      C !== 32 && (b[C] = 1024);
    return {
      floatView: t,
      uint32View: i,
      baseTable: s,
      shiftTable: c,
      mantissaTable: u,
      exponentTable: f,
      offsetTable: b
    };
  }
  function Jr(m) {
    Math.abs(m) > 65504 && console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."), m = Yn(m, -65504, 65504), To.floatView[0] = m;
    const t = To.uint32View[0], i = t >> 23 & 511;
    return To.baseTable[i] + ((t & 8388607) >> To.shiftTable[i]);
  }
  function ec(m) {
    const t = m >> 10;
    return To.uint32View[0] = To.mantissaTable[To.offsetTable[t] + (m & 1023)] + To.exponentTable[t], To.floatView[0];
  }
  const Tb = {
    toHalfFloat: Jr,
    fromHalfFloat: ec
  }, fr = /* @__PURE__ */ new ie(), Xs = /* @__PURE__ */ new $e();
  class on {
    constructor(t, i, s = !1) {
      if (Array.isArray(t))
        throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
      this.isBufferAttribute = !0, this.name = "", this.array = t, this.itemSize = i, this.count = t !== void 0 ? t.length / i : 0, this.normalized = s, this.usage = Ul, this._updateRange = { offset: 0, count: -1 }, this.updateRanges = [], this.gpuType = _i, this.version = 0;
    }
    onUploadCallback() {
    }
    set needsUpdate(t) {
      t === !0 && this.version++;
    }
    get updateRange() {
      return hf("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."), this._updateRange;
    }
    setUsage(t) {
      return this.usage = t, this;
    }
    addUpdateRange(t, i) {
      this.updateRanges.push({ start: t, count: i });
    }
    clearUpdateRanges() {
      this.updateRanges.length = 0;
    }
    copy(t) {
      return this.name = t.name, this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.count = t.count, this.normalized = t.normalized, this.usage = t.usage, this.gpuType = t.gpuType, this;
    }
    copyAt(t, i, s) {
      t *= this.itemSize, s *= i.itemSize;
      for (let c = 0, u = this.itemSize; c < u; c++)
        this.array[t + c] = i.array[s + c];
      return this;
    }
    copyArray(t) {
      return this.array.set(t), this;
    }
    applyMatrix3(t) {
      if (this.itemSize === 2)
        for (let i = 0, s = this.count; i < s; i++)
          Xs.fromBufferAttribute(this, i), Xs.applyMatrix3(t), this.setXY(i, Xs.x, Xs.y);
      else if (this.itemSize === 3)
        for (let i = 0, s = this.count; i < s; i++)
          fr.fromBufferAttribute(this, i), fr.applyMatrix3(t), this.setXYZ(i, fr.x, fr.y, fr.z);
      return this;
    }
    applyMatrix4(t) {
      for (let i = 0, s = this.count; i < s; i++)
        fr.fromBufferAttribute(this, i), fr.applyMatrix4(t), this.setXYZ(i, fr.x, fr.y, fr.z);
      return this;
    }
    applyNormalMatrix(t) {
      for (let i = 0, s = this.count; i < s; i++)
        fr.fromBufferAttribute(this, i), fr.applyNormalMatrix(t), this.setXYZ(i, fr.x, fr.y, fr.z);
      return this;
    }
    transformDirection(t) {
      for (let i = 0, s = this.count; i < s; i++)
        fr.fromBufferAttribute(this, i), fr.transformDirection(t), this.setXYZ(i, fr.x, fr.y, fr.z);
      return this;
    }
    set(t, i = 0) {
      return this.array.set(t, i), this;
    }
    getComponent(t, i) {
      let s = this.array[t * this.itemSize + i];
      return this.normalized && (s = kr(s, this.array)), s;
    }
    setComponent(t, i, s) {
      return this.normalized && (s = Jt(s, this.array)), this.array[t * this.itemSize + i] = s, this;
    }
    getX(t) {
      let i = this.array[t * this.itemSize];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setX(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize] = i, this;
    }
    getY(t) {
      let i = this.array[t * this.itemSize + 1];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setY(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize + 1] = i, this;
    }
    getZ(t) {
      let i = this.array[t * this.itemSize + 2];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setZ(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize + 2] = i, this;
    }
    getW(t) {
      let i = this.array[t * this.itemSize + 3];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setW(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize + 3] = i, this;
    }
    setXY(t, i, s) {
      return t *= this.itemSize, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array)), this.array[t + 0] = i, this.array[t + 1] = s, this;
    }
    setXYZ(t, i, s, c) {
      return t *= this.itemSize, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array), c = Jt(c, this.array)), this.array[t + 0] = i, this.array[t + 1] = s, this.array[t + 2] = c, this;
    }
    setXYZW(t, i, s, c, u) {
      return t *= this.itemSize, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array), c = Jt(c, this.array), u = Jt(u, this.array)), this.array[t + 0] = i, this.array[t + 1] = s, this.array[t + 2] = c, this.array[t + 3] = u, this;
    }
    onUpload(t) {
      return this.onUploadCallback = t, this;
    }
    clone() {
      return new this.constructor(this.array, this.itemSize).copy(this);
    }
    toJSON() {
      const t = {
        itemSize: this.itemSize,
        type: this.array.constructor.name,
        array: Array.from(this.array),
        normalized: this.normalized
      };
      return this.name !== "" && (t.name = this.name), this.usage !== Ul && (t.usage = this.usage), t;
    }
  }
  class Zo extends on {
    constructor(t, i, s) {
      super(new Int8Array(t), i, s);
    }
  }
  class Jo extends on {
    constructor(t, i, s) {
      super(new Uint8Array(t), i, s);
    }
  }
  class Nb extends on {
    constructor(t, i, s) {
      super(new Uint8ClampedArray(t), i, s);
    }
  }
  class Mb extends on {
    constructor(t, i, s) {
      super(new Int16Array(t), i, s);
    }
  }
  class Kd extends on {
    constructor(t, i, s) {
      super(new Uint16Array(t), i, s);
    }
  }
  class Sb extends on {
    constructor(t, i, s) {
      super(new Int32Array(t), i, s);
    }
  }
  class Zd extends on {
    constructor(t, i, s) {
      super(new Uint32Array(t), i, s);
    }
  }
  class Ib extends on {
    constructor(t, i, s) {
      super(new Uint16Array(t), i, s), this.isFloat16BufferAttribute = !0;
    }
    getX(t) {
      let i = ec(this.array[t * this.itemSize]);
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setX(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize] = Jr(i), this;
    }
    getY(t) {
      let i = ec(this.array[t * this.itemSize + 1]);
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setY(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize + 1] = Jr(i), this;
    }
    getZ(t) {
      let i = ec(this.array[t * this.itemSize + 2]);
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setZ(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize + 2] = Jr(i), this;
    }
    getW(t) {
      let i = ec(this.array[t * this.itemSize + 3]);
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setW(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.array[t * this.itemSize + 3] = Jr(i), this;
    }
    setXY(t, i, s) {
      return t *= this.itemSize, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array)), this.array[t + 0] = Jr(i), this.array[t + 1] = Jr(s), this;
    }
    setXYZ(t, i, s, c) {
      return t *= this.itemSize, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array), c = Jt(c, this.array)), this.array[t + 0] = Jr(i), this.array[t + 1] = Jr(s), this.array[t + 2] = Jr(c), this;
    }
    setXYZW(t, i, s, c, u) {
      return t *= this.itemSize, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array), c = Jt(c, this.array), u = Jt(u, this.array)), this.array[t + 0] = Jr(i), this.array[t + 1] = Jr(s), this.array[t + 2] = Jr(c), this.array[t + 3] = Jr(u), this;
    }
  }
  class Rt extends on {
    constructor(t, i, s) {
      super(new Float32Array(t), i, s);
    }
  }
  let Ab = 0;
  const Ti = /* @__PURE__ */ new Wt(), tc = /* @__PURE__ */ new An(), zs = /* @__PURE__ */ new ie(), pi = /* @__PURE__ */ new Hr(), nc = /* @__PURE__ */ new Hr(), wr = /* @__PURE__ */ new ie();
  class tn extends qi {
    constructor() {
      super(), this.isBufferGeometry = !0, Object.defineProperty(this, "id", { value: Ab++ }), this.uuid = ui(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.morphTargetsRelative = !1, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = { start: 0, count: 1 / 0 }, this.userData = {};
    }
    getIndex() {
      return this.index;
    }
    setIndex(t) {
      return Array.isArray(t) ? this.index = new (cf(t) ? Zd : Kd)(t, 1) : this.index = t, this;
    }
    getAttribute(t) {
      return this.attributes[t];
    }
    setAttribute(t, i) {
      return this.attributes[t] = i, this;
    }
    deleteAttribute(t) {
      return delete this.attributes[t], this;
    }
    hasAttribute(t) {
      return this.attributes[t] !== void 0;
    }
    addGroup(t, i, s = 0) {
      this.groups.push({
        start: t,
        count: i,
        materialIndex: s
      });
    }
    clearGroups() {
      this.groups = [];
    }
    setDrawRange(t, i) {
      this.drawRange.start = t, this.drawRange.count = i;
    }
    applyMatrix4(t) {
      const i = this.attributes.position;
      i !== void 0 && (i.applyMatrix4(t), i.needsUpdate = !0);
      const s = this.attributes.normal;
      if (s !== void 0) {
        const u = new en().getNormalMatrix(t);
        s.applyNormalMatrix(u), s.needsUpdate = !0;
      }
      const c = this.attributes.tangent;
      return c !== void 0 && (c.transformDirection(t), c.needsUpdate = !0), this.boundingBox !== null && this.computeBoundingBox(), this.boundingSphere !== null && this.computeBoundingSphere(), this;
    }
    applyQuaternion(t) {
      return Ti.makeRotationFromQuaternion(t), this.applyMatrix4(Ti), this;
    }
    rotateX(t) {
      return Ti.makeRotationX(t), this.applyMatrix4(Ti), this;
    }
    rotateY(t) {
      return Ti.makeRotationY(t), this.applyMatrix4(Ti), this;
    }
    rotateZ(t) {
      return Ti.makeRotationZ(t), this.applyMatrix4(Ti), this;
    }
    translate(t, i, s) {
      return Ti.makeTranslation(t, i, s), this.applyMatrix4(Ti), this;
    }
    scale(t, i, s) {
      return Ti.makeScale(t, i, s), this.applyMatrix4(Ti), this;
    }
    lookAt(t) {
      return tc.lookAt(t), tc.updateMatrix(), this.applyMatrix4(tc.matrix), this;
    }
    center() {
      return this.computeBoundingBox(), this.boundingBox.getCenter(zs).negate(), this.translate(zs.x, zs.y, zs.z), this;
    }
    setFromPoints(t) {
      const i = [];
      for (let s = 0, c = t.length; s < c; s++) {
        const u = t[s];
        i.push(u.x, u.y, u.z || 0);
      }
      return this.setAttribute("position", new Rt(i, 3)), this;
    }
    computeBoundingBox() {
      this.boundingBox === null && (this.boundingBox = new Hr());
      const t = this.attributes.position, i = this.morphAttributes.position;
      if (t && t.isGLBufferAttribute) {
        console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.", this), this.boundingBox.set(
          new ie(-1 / 0, -1 / 0, -1 / 0),
          new ie(1 / 0, 1 / 0, 1 / 0)
        );
        return;
      }
      if (t !== void 0) {
        if (this.boundingBox.setFromBufferAttribute(t), i)
          for (let s = 0, c = i.length; s < c; s++) {
            const u = i[s];
            pi.setFromBufferAttribute(u), this.morphTargetsRelative ? (wr.addVectors(this.boundingBox.min, pi.min), this.boundingBox.expandByPoint(wr), wr.addVectors(this.boundingBox.max, pi.max), this.boundingBox.expandByPoint(wr)) : (this.boundingBox.expandByPoint(pi.min), this.boundingBox.expandByPoint(pi.max));
          }
      } else
        this.boundingBox.makeEmpty();
      (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this);
    }
    computeBoundingSphere() {
      this.boundingSphere === null && (this.boundingSphere = new Xr());
      const t = this.attributes.position, i = this.morphAttributes.position;
      if (t && t.isGLBufferAttribute) {
        console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.", this), this.boundingSphere.set(new ie(), 1 / 0);
        return;
      }
      if (t) {
        const s = this.boundingSphere.center;
        if (pi.setFromBufferAttribute(t), i)
          for (let u = 0, f = i.length; u < f; u++) {
            const b = i[u];
            nc.setFromBufferAttribute(b), this.morphTargetsRelative ? (wr.addVectors(pi.min, nc.min), pi.expandByPoint(wr), wr.addVectors(pi.max, nc.max), pi.expandByPoint(wr)) : (pi.expandByPoint(nc.min), pi.expandByPoint(nc.max));
          }
        pi.getCenter(s);
        let c = 0;
        for (let u = 0, f = t.count; u < f; u++)
          wr.fromBufferAttribute(t, u), c = Math.max(c, s.distanceToSquared(wr));
        if (i)
          for (let u = 0, f = i.length; u < f; u++) {
            const b = i[u], C = this.morphTargetsRelative;
            for (let _ = 0, N = b.count; _ < N; _++)
              wr.fromBufferAttribute(b, _), C && (zs.fromBufferAttribute(t, _), wr.add(zs)), c = Math.max(c, s.distanceToSquared(wr));
          }
        this.boundingSphere.radius = Math.sqrt(c), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this);
      }
    }
    computeTangents() {
      const t = this.index, i = this.attributes;
      if (t === null || i.position === void 0 || i.normal === void 0 || i.uv === void 0) {
        console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");
        return;
      }
      const s = i.position, c = i.normal, u = i.uv;
      this.hasAttribute("tangent") === !1 && this.setAttribute("tangent", new on(new Float32Array(4 * s.count), 4));
      const f = this.getAttribute("tangent"), b = [], C = [];
      for (let ye = 0; ye < s.count; ye++)
        b[ye] = new ie(), C[ye] = new ie();
      const _ = new ie(), N = new ie(), I = new ie(), A = new $e(), E = new $e(), R = new $e(), j = new ie(), O = new ie();
      function P(ye, Z, H) {
        _.fromBufferAttribute(s, ye), N.fromBufferAttribute(s, Z), I.fromBufferAttribute(s, H), A.fromBufferAttribute(u, ye), E.fromBufferAttribute(u, Z), R.fromBufferAttribute(u, H), N.sub(_), I.sub(_), E.sub(A), R.sub(A);
        const Te = 1 / (E.x * R.y - R.x * E.y);
        isFinite(Te) && (j.copy(N).multiplyScalar(R.y).addScaledVector(I, -E.y).multiplyScalar(Te), O.copy(I).multiplyScalar(E.x).addScaledVector(N, -R.x).multiplyScalar(Te), b[ye].add(j), b[Z].add(j), b[H].add(j), C[ye].add(O), C[Z].add(O), C[H].add(O));
      }
      let U = this.groups;
      U.length === 0 && (U = [{
        start: 0,
        count: t.count
      }]);
      for (let ye = 0, Z = U.length; ye < Z; ++ye) {
        const H = U[ye], Te = H.start, ke = H.count;
        for (let Ce = Te, Le = Te + ke; Ce < Le; Ce += 3)
          P(
            t.getX(Ce + 0),
            t.getX(Ce + 1),
            t.getX(Ce + 2)
          );
      }
      const k = new ie(), V = new ie(), me = new ie(), ee = new ie();
      function le(ye) {
        me.fromBufferAttribute(c, ye), ee.copy(me);
        const Z = b[ye];
        k.copy(Z), k.sub(me.multiplyScalar(me.dot(Z))).normalize(), V.crossVectors(ee, Z);
        const Te = V.dot(C[ye]) < 0 ? -1 : 1;
        f.setXYZW(ye, k.x, k.y, k.z, Te);
      }
      for (let ye = 0, Z = U.length; ye < Z; ++ye) {
        const H = U[ye], Te = H.start, ke = H.count;
        for (let Ce = Te, Le = Te + ke; Ce < Le; Ce += 3)
          le(t.getX(Ce + 0)), le(t.getX(Ce + 1)), le(t.getX(Ce + 2));
      }
    }
    computeVertexNormals() {
      const t = this.index, i = this.getAttribute("position");
      if (i !== void 0) {
        let s = this.getAttribute("normal");
        if (s === void 0)
          s = new on(new Float32Array(i.count * 3), 3), this.setAttribute("normal", s);
        else
          for (let A = 0, E = s.count; A < E; A++)
            s.setXYZ(A, 0, 0, 0);
        const c = new ie(), u = new ie(), f = new ie(), b = new ie(), C = new ie(), _ = new ie(), N = new ie(), I = new ie();
        if (t)
          for (let A = 0, E = t.count; A < E; A += 3) {
            const R = t.getX(A + 0), j = t.getX(A + 1), O = t.getX(A + 2);
            c.fromBufferAttribute(i, R), u.fromBufferAttribute(i, j), f.fromBufferAttribute(i, O), N.subVectors(f, u), I.subVectors(c, u), N.cross(I), b.fromBufferAttribute(s, R), C.fromBufferAttribute(s, j), _.fromBufferAttribute(s, O), b.add(N), C.add(N), _.add(N), s.setXYZ(R, b.x, b.y, b.z), s.setXYZ(j, C.x, C.y, C.z), s.setXYZ(O, _.x, _.y, _.z);
          }
        else
          for (let A = 0, E = i.count; A < E; A += 3)
            c.fromBufferAttribute(i, A + 0), u.fromBufferAttribute(i, A + 1), f.fromBufferAttribute(i, A + 2), N.subVectors(f, u), I.subVectors(c, u), N.cross(I), s.setXYZ(A + 0, N.x, N.y, N.z), s.setXYZ(A + 1, N.x, N.y, N.z), s.setXYZ(A + 2, N.x, N.y, N.z);
        this.normalizeNormals(), s.needsUpdate = !0;
      }
    }
    normalizeNormals() {
      const t = this.attributes.normal;
      for (let i = 0, s = t.count; i < s; i++)
        wr.fromBufferAttribute(t, i), wr.normalize(), t.setXYZ(i, wr.x, wr.y, wr.z);
    }
    toNonIndexed() {
      function t(b, C) {
        const _ = b.array, N = b.itemSize, I = b.normalized, A = new _.constructor(C.length * N);
        let E = 0, R = 0;
        for (let j = 0, O = C.length; j < O; j++) {
          b.isInterleavedBufferAttribute ? E = C[j] * b.data.stride + b.offset : E = C[j] * N;
          for (let P = 0; P < N; P++)
            A[R++] = _[E++];
        }
        return new on(A, N, I);
      }
      if (this.index === null)
        return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."), this;
      const i = new tn(), s = this.index.array, c = this.attributes;
      for (const b in c) {
        const C = c[b], _ = t(C, s);
        i.setAttribute(b, _);
      }
      const u = this.morphAttributes;
      for (const b in u) {
        const C = [], _ = u[b];
        for (let N = 0, I = _.length; N < I; N++) {
          const A = _[N], E = t(A, s);
          C.push(E);
        }
        i.morphAttributes[b] = C;
      }
      i.morphTargetsRelative = this.morphTargetsRelative;
      const f = this.groups;
      for (let b = 0, C = f.length; b < C; b++) {
        const _ = f[b];
        i.addGroup(_.start, _.count, _.materialIndex);
      }
      return i;
    }
    toJSON() {
      const t = {
        metadata: {
          version: 4.6,
          type: "BufferGeometry",
          generator: "BufferGeometry.toJSON"
        }
      };
      if (t.uuid = this.uuid, t.type = this.type, this.name !== "" && (t.name = this.name), Object.keys(this.userData).length > 0 && (t.userData = this.userData), this.parameters !== void 0) {
        const C = this.parameters;
        for (const _ in C)
          C[_] !== void 0 && (t[_] = C[_]);
        return t;
      }
      t.data = { attributes: {} };
      const i = this.index;
      i !== null && (t.data.index = {
        type: i.array.constructor.name,
        array: Array.prototype.slice.call(i.array)
      });
      const s = this.attributes;
      for (const C in s) {
        const _ = s[C];
        t.data.attributes[C] = _.toJSON(t.data);
      }
      const c = {};
      let u = !1;
      for (const C in this.morphAttributes) {
        const _ = this.morphAttributes[C], N = [];
        for (let I = 0, A = _.length; I < A; I++) {
          const E = _[I];
          N.push(E.toJSON(t.data));
        }
        N.length > 0 && (c[C] = N, u = !0);
      }
      u && (t.data.morphAttributes = c, t.data.morphTargetsRelative = this.morphTargetsRelative);
      const f = this.groups;
      f.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(f)));
      const b = this.boundingSphere;
      return b !== null && (t.data.boundingSphere = {
        center: b.center.toArray(),
        radius: b.radius
      }), t;
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null;
      const i = {};
      this.name = t.name;
      const s = t.index;
      s !== null && this.setIndex(s.clone(i));
      const c = t.attributes;
      for (const _ in c) {
        const N = c[_];
        this.setAttribute(_, N.clone(i));
      }
      const u = t.morphAttributes;
      for (const _ in u) {
        const N = [], I = u[_];
        for (let A = 0, E = I.length; A < E; A++)
          N.push(I[A].clone(i));
        this.morphAttributes[_] = N;
      }
      this.morphTargetsRelative = t.morphTargetsRelative;
      const f = t.groups;
      for (let _ = 0, N = f.length; _ < N; _++) {
        const I = f[_];
        this.addGroup(I.start, I.count, I.materialIndex);
      }
      const b = t.boundingBox;
      b !== null && (this.boundingBox = b.clone());
      const C = t.boundingSphere;
      return C !== null && (this.boundingSphere = C.clone()), this.drawRange.start = t.drawRange.start, this.drawRange.count = t.drawRange.count, this.userData = t.userData, this;
    }
    dispose() {
      this.dispatchEvent({ type: "dispose" });
    }
  }
  const Jd = /* @__PURE__ */ new Wt(), Fa = /* @__PURE__ */ new yo(), Ih = /* @__PURE__ */ new Xr(), wf = /* @__PURE__ */ new ie(), Us = /* @__PURE__ */ new ie(), Gs = /* @__PURE__ */ new ie(), Ws = /* @__PURE__ */ new ie(), rc = /* @__PURE__ */ new ie(), ic = /* @__PURE__ */ new ie(), Ah = /* @__PURE__ */ new $e(), Eh = /* @__PURE__ */ new $e(), Ph = /* @__PURE__ */ new $e(), Qd = /* @__PURE__ */ new ie(), em = /* @__PURE__ */ new ie(), tm = /* @__PURE__ */ new ie(), oc = /* @__PURE__ */ new ie(), Rh = /* @__PURE__ */ new ie();
  class ur extends An {
    constructor(t = new tn(), i = new Ji()) {
      super(), this.isMesh = !0, this.type = "Mesh", this.geometry = t, this.material = i, this.updateMorphTargets();
    }
    copy(t, i) {
      return super.copy(t, i), t.morphTargetInfluences !== void 0 && (this.morphTargetInfluences = t.morphTargetInfluences.slice()), t.morphTargetDictionary !== void 0 && (this.morphTargetDictionary = Object.assign({}, t.morphTargetDictionary)), this.material = Array.isArray(t.material) ? t.material.slice() : t.material, this.geometry = t.geometry, this;
    }
    updateMorphTargets() {
      const i = this.geometry.morphAttributes, s = Object.keys(i);
      if (s.length > 0) {
        const c = i[s[0]];
        if (c !== void 0) {
          this.morphTargetInfluences = [], this.morphTargetDictionary = {};
          for (let u = 0, f = c.length; u < f; u++) {
            const b = c[u].name || String(u);
            this.morphTargetInfluences.push(0), this.morphTargetDictionary[b] = u;
          }
        }
      }
    }
    getVertexPosition(t, i) {
      const s = this.geometry, c = s.attributes.position, u = s.morphAttributes.position, f = s.morphTargetsRelative;
      i.fromBufferAttribute(c, t);
      const b = this.morphTargetInfluences;
      if (u && b) {
        ic.set(0, 0, 0);
        for (let C = 0, _ = u.length; C < _; C++) {
          const N = b[C], I = u[C];
          N !== 0 && (rc.fromBufferAttribute(I, t), f ? ic.addScaledVector(rc, N) : ic.addScaledVector(rc.sub(i), N));
        }
        i.add(ic);
      }
      return i;
    }
    raycast(t, i) {
      const s = this.geometry, c = this.material, u = this.matrixWorld;
      c !== void 0 && (s.boundingSphere === null && s.computeBoundingSphere(), Ih.copy(s.boundingSphere), Ih.applyMatrix4(u), Fa.copy(t.ray).recast(t.near), !(Ih.containsPoint(Fa.origin) === !1 && (Fa.intersectSphere(Ih, wf) === null || Fa.origin.distanceToSquared(wf) > (t.far - t.near) ** 2)) && (Jd.copy(u).invert(), Fa.copy(t.ray).applyMatrix4(Jd), !(s.boundingBox !== null && Fa.intersectsBox(s.boundingBox) === !1) && this._computeIntersections(t, i, Fa)));
    }
    _computeIntersections(t, i, s) {
      let c;
      const u = this.geometry, f = this.material, b = u.index, C = u.attributes.position, _ = u.attributes.uv, N = u.attributes.uv1, I = u.attributes.normal, A = u.groups, E = u.drawRange;
      if (b !== null)
        if (Array.isArray(f))
          for (let R = 0, j = A.length; R < j; R++) {
            const O = A[R], P = f[O.materialIndex], U = Math.max(O.start, E.start), k = Math.min(b.count, Math.min(O.start + O.count, E.start + E.count));
            for (let V = U, me = k; V < me; V += 3) {
              const ee = b.getX(V), le = b.getX(V + 1), ye = b.getX(V + 2);
              c = tr(this, P, t, s, _, N, I, ee, le, ye), c && (c.faceIndex = Math.floor(V / 3), c.face.materialIndex = O.materialIndex, i.push(c));
            }
          }
        else {
          const R = Math.max(0, E.start), j = Math.min(b.count, E.start + E.count);
          for (let O = R, P = j; O < P; O += 3) {
            const U = b.getX(O), k = b.getX(O + 1), V = b.getX(O + 2);
            c = tr(this, f, t, s, _, N, I, U, k, V), c && (c.faceIndex = Math.floor(O / 3), i.push(c));
          }
        }
      else if (C !== void 0)
        if (Array.isArray(f))
          for (let R = 0, j = A.length; R < j; R++) {
            const O = A[R], P = f[O.materialIndex], U = Math.max(O.start, E.start), k = Math.min(C.count, Math.min(O.start + O.count, E.start + E.count));
            for (let V = U, me = k; V < me; V += 3) {
              const ee = V, le = V + 1, ye = V + 2;
              c = tr(this, P, t, s, _, N, I, ee, le, ye), c && (c.faceIndex = Math.floor(V / 3), c.face.materialIndex = O.materialIndex, i.push(c));
            }
          }
        else {
          const R = Math.max(0, E.start), j = Math.min(C.count, E.start + E.count);
          for (let O = R, P = j; O < P; O += 3) {
            const U = O, k = O + 1, V = O + 2;
            c = tr(this, f, t, s, _, N, I, U, k, V), c && (c.faceIndex = Math.floor(O / 3), i.push(c));
          }
        }
    }
  }
  function No(m, t, i, s, c, u, f, b) {
    let C;
    if (t.side === x ? C = s.intersectTriangle(f, u, c, !0, b) : C = s.intersectTriangle(c, u, f, t.side === y, b), C === null)
      return null;
    Rh.copy(b), Rh.applyMatrix4(m.matrixWorld);
    const _ = i.ray.origin.distanceTo(Rh);
    return _ < i.near || _ > i.far ? null : {
      distance: _,
      point: Rh.clone(),
      object: m
    };
  }
  function tr(m, t, i, s, c, u, f, b, C, _) {
    m.getVertexPosition(b, Us), m.getVertexPosition(C, Gs), m.getVertexPosition(_, Ws);
    const N = No(m, t, i, s, Us, Gs, Ws, oc);
    if (N) {
      c && (Ah.fromBufferAttribute(c, b), Eh.fromBufferAttribute(c, C), Ph.fromBufferAttribute(c, _), N.uv = qr.getInterpolation(oc, Us, Gs, Ws, Ah, Eh, Ph, new $e())), u && (Ah.fromBufferAttribute(u, b), Eh.fromBufferAttribute(u, C), Ph.fromBufferAttribute(u, _), N.uv1 = qr.getInterpolation(oc, Us, Gs, Ws, Ah, Eh, Ph, new $e())), f && (Qd.fromBufferAttribute(f, b), em.fromBufferAttribute(f, C), tm.fromBufferAttribute(f, _), N.normal = qr.getInterpolation(oc, Us, Gs, Ws, Qd, em, tm, new ie()), N.normal.dot(s.direction) > 0 && N.normal.multiplyScalar(-1));
      const I = {
        a: b,
        b: C,
        c: _,
        normal: new ie(),
        materialIndex: 0
      };
      qr.getNormal(Us, Gs, Ws, I.normal), N.face = I;
    }
    return N;
  }
  class ka extends tn {
    constructor(t = 1, i = 1, s = 1, c = 1, u = 1, f = 1) {
      super(), this.type = "BoxGeometry", this.parameters = {
        width: t,
        height: i,
        depth: s,
        widthSegments: c,
        heightSegments: u,
        depthSegments: f
      };
      const b = this;
      c = Math.floor(c), u = Math.floor(u), f = Math.floor(f);
      const C = [], _ = [], N = [], I = [];
      let A = 0, E = 0;
      R("z", "y", "x", -1, -1, s, i, t, f, u, 0), R("z", "y", "x", 1, -1, s, i, -t, f, u, 1), R("x", "z", "y", 1, 1, t, s, i, c, f, 2), R("x", "z", "y", 1, -1, t, s, -i, c, f, 3), R("x", "y", "z", 1, -1, t, i, s, c, u, 4), R("x", "y", "z", -1, -1, t, i, -s, c, u, 5), this.setIndex(C), this.setAttribute("position", new Rt(_, 3)), this.setAttribute("normal", new Rt(N, 3)), this.setAttribute("uv", new Rt(I, 2));
      function R(j, O, P, U, k, V, me, ee, le, ye, Z) {
        const H = V / le, Te = me / ye, ke = V / 2, Ce = me / 2, Le = ee / 2, Ve = le + 1, Ze = ye + 1;
        let vt = 0, ze = 0;
        const lt = new ie();
        for (let st = 0; st < Ze; st++) {
          const Bt = st * Te - Ce;
          for (let dn = 0; dn < Ve; dn++) {
            const Vn = dn * H - ke;
            lt[j] = Vn * U, lt[O] = Bt * k, lt[P] = Le, _.push(lt.x, lt.y, lt.z), lt[j] = 0, lt[O] = 0, lt[P] = ee > 0 ? 1 : -1, N.push(lt.x, lt.y, lt.z), I.push(dn / le), I.push(1 - st / ye), vt += 1;
          }
        }
        for (let st = 0; st < ye; st++)
          for (let Bt = 0; Bt < le; Bt++) {
            const dn = A + Bt + Ve * st, Vn = A + Bt + Ve * (st + 1), Ge = A + (Bt + 1) + Ve * (st + 1), ht = A + (Bt + 1) + Ve * st;
            C.push(dn, Vn, ht), C.push(Vn, Ge, ht), ze += 6;
          }
        b.addGroup(E, ze, Z), E += ze, A += vt;
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new ka(t.width, t.height, t.depth, t.widthSegments, t.heightSegments, t.depthSegments);
    }
  }
  function Vs(m) {
    const t = {};
    for (const i in m) {
      t[i] = {};
      for (const s in m[i]) {
        const c = m[i][s];
        c && (c.isColor || c.isMatrix3 || c.isMatrix4 || c.isVector2 || c.isVector3 || c.isVector4 || c.isTexture || c.isQuaternion) ? c.isRenderTargetTexture ? (console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."), t[i][s] = null) : t[i][s] = c.clone() : Array.isArray(c) ? t[i][s] = c.slice() : t[i][s] = c;
      }
    }
    return t;
  }
  function Ur(m) {
    const t = {};
    for (let i = 0; i < m.length; i++) {
      const s = Vs(m[i]);
      for (const c in s)
        t[c] = s[c];
    }
    return t;
  }
  function Tf(m) {
    const t = [];
    for (let i = 0; i < m.length; i++)
      t.push(m[i].clone());
    return t;
  }
  function ac(m) {
    const t = m.getRenderTarget();
    return t === null ? m.outputColorSpace : t.isXRRenderTarget === !0 ? t.texture.colorSpace : Fn.workingColorSpace;
  }
  const nm = { clone: Vs, merge: Ur };
  var Eb = `void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`, Nf = `void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;
  class Oi extends zr {
    constructor(t) {
      super(), this.isShaderMaterial = !0, this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.uniformsGroups = [], this.vertexShader = Eb, this.fragmentShader = Nf, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.forceSinglePass = !0, this.extensions = {
        clipCullDistance: !1,
        // set to use vertex shader clipping
        multiDraw: !1
        // set to use vertex shader multi_draw / enable gl_DrawID
      }, this.defaultAttributeValues = {
        color: [1, 1, 1],
        uv: [0, 0],
        uv1: [0, 0]
      }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, this.glslVersion = null, t !== void 0 && this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = Vs(t.uniforms), this.uniformsGroups = Tf(t.uniformsGroups), this.defines = Object.assign({}, t.defines), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.fog = t.fog, this.lights = t.lights, this.clipping = t.clipping, this.extensions = Object.assign({}, t.extensions), this.glslVersion = t.glslVersion, this;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      i.glslVersion = this.glslVersion, i.uniforms = {};
      for (const c in this.uniforms) {
        const f = this.uniforms[c].value;
        f && f.isTexture ? i.uniforms[c] = {
          type: "t",
          value: f.toJSON(t).uuid
        } : f && f.isColor ? i.uniforms[c] = {
          type: "c",
          value: f.getHex()
        } : f && f.isVector2 ? i.uniforms[c] = {
          type: "v2",
          value: f.toArray()
        } : f && f.isVector3 ? i.uniforms[c] = {
          type: "v3",
          value: f.toArray()
        } : f && f.isVector4 ? i.uniforms[c] = {
          type: "v4",
          value: f.toArray()
        } : f && f.isMatrix3 ? i.uniforms[c] = {
          type: "m3",
          value: f.toArray()
        } : f && f.isMatrix4 ? i.uniforms[c] = {
          type: "m4",
          value: f.toArray()
        } : i.uniforms[c] = {
          value: f
        };
      }
      Object.keys(this.defines).length > 0 && (i.defines = this.defines), i.vertexShader = this.vertexShader, i.fragmentShader = this.fragmentShader, i.lights = this.lights, i.clipping = this.clipping;
      const s = {};
      for (const c in this.extensions)
        this.extensions[c] === !0 && (s[c] = !0);
      return Object.keys(s).length > 0 && (i.extensions = s), i;
    }
  }
  class sc extends An {
    constructor() {
      super(), this.isCamera = !0, this.type = "Camera", this.matrixWorldInverse = new Wt(), this.projectionMatrix = new Wt(), this.projectionMatrixInverse = new Wt(), this.coordinateSystem = hi;
    }
    copy(t, i) {
      return super.copy(t, i), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this.projectionMatrixInverse.copy(t.projectionMatrixInverse), this.coordinateSystem = t.coordinateSystem, this;
    }
    getWorldDirection(t) {
      return super.getWorldDirection(t).negate();
    }
    updateMatrixWorld(t) {
      super.updateMatrixWorld(t), this.matrixWorldInverse.copy(this.matrixWorld).invert();
    }
    updateWorldMatrix(t, i) {
      super.updateWorldMatrix(t, i), this.matrixWorldInverse.copy(this.matrixWorld).invert();
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  const Qo = /* @__PURE__ */ new ie(), Mf = /* @__PURE__ */ new $e(), Sf = /* @__PURE__ */ new $e();
  class Tr extends sc {
    constructor(t = 50, i = 1, s = 0.1, c = 2e3) {
      super(), this.isPerspectiveCamera = !0, this.type = "PerspectiveCamera", this.fov = t, this.zoom = 1, this.near = s, this.far = c, this.focus = 10, this.aspect = i, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix();
    }
    copy(t, i) {
      return super.copy(t, i), this.fov = t.fov, this.zoom = t.zoom, this.near = t.near, this.far = t.far, this.focus = t.focus, this.aspect = t.aspect, this.view = t.view === null ? null : Object.assign({}, t.view), this.filmGauge = t.filmGauge, this.filmOffset = t.filmOffset, this;
    }
    /**
     * Sets the FOV by focal length in respect to the current .filmGauge.
     *
     * The default film gauge is 35, so that the focal length can be specified for
     * a 35mm (full frame) camera.
     *
     * Values for focal length and film gauge must have the same unit.
     */
    setFocalLength(t) {
      const i = 0.5 * this.getFilmHeight() / t;
      this.fov = Ra * 2 * Math.atan(i), this.updateProjectionMatrix();
    }
    /**
     * Calculates the focal length from the current .fov and .filmGauge.
     */
    getFocalLength() {
      const t = Math.tan(Pa * 0.5 * this.fov);
      return 0.5 * this.getFilmHeight() / t;
    }
    getEffectiveFOV() {
      return Ra * 2 * Math.atan(
        Math.tan(Pa * 0.5 * this.fov) / this.zoom
      );
    }
    getFilmWidth() {
      return this.filmGauge * Math.min(this.aspect, 1);
    }
    getFilmHeight() {
      return this.filmGauge / Math.max(this.aspect, 1);
    }
    /**
     * Computes the 2D bounds of the camera's viewable rectangle at a given distance along the viewing direction.
     * Sets minTarget and maxTarget to the coordinates of the lower-left and upper-right corners of the view rectangle.
     */
    getViewBounds(t, i, s) {
      Qo.set(-1, -1, 0.5).applyMatrix4(this.projectionMatrixInverse), i.set(Qo.x, Qo.y).multiplyScalar(-t / Qo.z), Qo.set(1, 1, 0.5).applyMatrix4(this.projectionMatrixInverse), s.set(Qo.x, Qo.y).multiplyScalar(-t / Qo.z);
    }
    /**
     * Computes the width and height of the camera's viewable rectangle at a given distance along the viewing direction.
     * Copies the result into the target Vector2, where x is width and y is height.
     */
    getViewSize(t, i) {
      return this.getViewBounds(t, Mf, Sf), i.subVectors(Sf, Mf);
    }
    /**
     * Sets an offset in a larger frustum. This is useful for multi-window or
     * multi-monitor/multi-machine setups.
     *
     * For example, if you have 3x2 monitors and each monitor is 1920x1080 and
     * the monitors are in grid like this
     *
     *   +---+---+---+
     *   | A | B | C |
     *   +---+---+---+
     *   | D | E | F |
     *   +---+---+---+
     *
     * then for each monitor you would call it like this
     *
     *   const w = 1920;
     *   const h = 1080;
     *   const fullWidth = w * 3;
     *   const fullHeight = h * 2;
     *
     *   --A--
     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
     *   --B--
     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
     *   --C--
     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
     *   --D--
     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
     *   --E--
     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
     *   --F--
     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
     *
     *   Note there is no reason monitors have to be the same size or in a grid.
     */
    setViewOffset(t, i, s, c, u, f) {
      this.aspect = t / i, this.view === null && (this.view = {
        enabled: !0,
        fullWidth: 1,
        fullHeight: 1,
        offsetX: 0,
        offsetY: 0,
        width: 1,
        height: 1
      }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = i, this.view.offsetX = s, this.view.offsetY = c, this.view.width = u, this.view.height = f, this.updateProjectionMatrix();
    }
    clearViewOffset() {
      this.view !== null && (this.view.enabled = !1), this.updateProjectionMatrix();
    }
    updateProjectionMatrix() {
      const t = this.near;
      let i = t * Math.tan(Pa * 0.5 * this.fov) / this.zoom, s = 2 * i, c = this.aspect * s, u = -0.5 * c;
      const f = this.view;
      if (this.view !== null && this.view.enabled) {
        const C = f.fullWidth, _ = f.fullHeight;
        u += f.offsetX * c / C, i -= f.offsetY * s / _, c *= f.width / C, s *= f.height / _;
      }
      const b = this.filmOffset;
      b !== 0 && (u += t * b / this.getFilmWidth()), this.projectionMatrix.makePerspective(u, u + c, i, i - s, t, this.far, this.coordinateSystem), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return i.object.fov = this.fov, i.object.zoom = this.zoom, i.object.near = this.near, i.object.far = this.far, i.object.focus = this.focus, i.object.aspect = this.aspect, this.view !== null && (i.object.view = Object.assign({}, this.view)), i.object.filmGauge = this.filmGauge, i.object.filmOffset = this.filmOffset, i;
    }
  }
  const Xa = -90, Hs = 1;
  class lc extends An {
    constructor(t, i, s) {
      super(), this.type = "CubeCamera", this.renderTarget = s, this.coordinateSystem = null, this.activeMipmapLevel = 0;
      const c = new Tr(Xa, Hs, t, i);
      c.layers = this.layers, this.add(c);
      const u = new Tr(Xa, Hs, t, i);
      u.layers = this.layers, this.add(u);
      const f = new Tr(Xa, Hs, t, i);
      f.layers = this.layers, this.add(f);
      const b = new Tr(Xa, Hs, t, i);
      b.layers = this.layers, this.add(b);
      const C = new Tr(Xa, Hs, t, i);
      C.layers = this.layers, this.add(C);
      const _ = new Tr(Xa, Hs, t, i);
      _.layers = this.layers, this.add(_);
    }
    updateCoordinateSystem() {
      const t = this.coordinateSystem, i = this.children.concat(), [s, c, u, f, b, C] = i;
      for (const _ of i)
        this.remove(_);
      if (t === hi)
        s.up.set(0, 1, 0), s.lookAt(1, 0, 0), c.up.set(0, 1, 0), c.lookAt(-1, 0, 0), u.up.set(0, 0, -1), u.lookAt(0, 1, 0), f.up.set(0, 0, 1), f.lookAt(0, -1, 0), b.up.set(0, 1, 0), b.lookAt(0, 0, 1), C.up.set(0, 1, 0), C.lookAt(0, 0, -1);
      else if (t === Ea)
        s.up.set(0, -1, 0), s.lookAt(-1, 0, 0), c.up.set(0, -1, 0), c.lookAt(1, 0, 0), u.up.set(0, 0, 1), u.lookAt(0, 1, 0), f.up.set(0, 0, -1), f.lookAt(0, -1, 0), b.up.set(0, -1, 0), b.lookAt(0, 0, 1), C.up.set(0, -1, 0), C.lookAt(0, 0, -1);
      else
        throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: " + t);
      for (const _ of i)
        this.add(_), _.updateMatrixWorld();
    }
    update(t, i) {
      this.parent === null && this.updateMatrixWorld();
      const { renderTarget: s, activeMipmapLevel: c } = this;
      this.coordinateSystem !== t.coordinateSystem && (this.coordinateSystem = t.coordinateSystem, this.updateCoordinateSystem());
      const [u, f, b, C, _, N] = this.children, I = t.getRenderTarget(), A = t.getActiveCubeFace(), E = t.getActiveMipmapLevel(), R = t.xr.enabled;
      t.xr.enabled = !1;
      const j = s.texture.generateMipmaps;
      s.texture.generateMipmaps = !1, t.setRenderTarget(s, 0, c), t.render(i, u), t.setRenderTarget(s, 1, c), t.render(i, f), t.setRenderTarget(s, 2, c), t.render(i, b), t.setRenderTarget(s, 3, c), t.render(i, C), t.setRenderTarget(s, 4, c), t.render(i, _), s.texture.generateMipmaps = j, t.setRenderTarget(s, 5, c), t.render(i, N), t.setRenderTarget(I, A, E), t.xr.enabled = R, s.texture.needsPMREMUpdate = !0;
    }
  }
  class za extends lr {
    constructor(t, i, s, c, u, f, b, C, _, N) {
      t = t !== void 0 ? t : [], i = i !== void 0 ? i : xi, super(t, i, s, c, u, f, b, C, _, N), this.isCubeTexture = !0, this.flipY = !1;
    }
    get images() {
      return this.image;
    }
    set images(t) {
      this.image = t;
    }
  }
  class rm extends wi {
    constructor(t = 1, i = {}) {
      super(t, t, i), this.isWebGLCubeRenderTarget = !0;
      const s = { width: t, height: t, depth: 1 }, c = [s, s, s, s, s, s];
      this.texture = new za(c, i.mapping, i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy, i.colorSpace), this.texture.isRenderTargetTexture = !0, this.texture.generateMipmaps = i.generateMipmaps !== void 0 ? i.generateMipmaps : !1, this.texture.minFilter = i.minFilter !== void 0 ? i.minFilter : pr;
    }
    fromEquirectangularTexture(t, i) {
      this.texture.type = i.type, this.texture.colorSpace = i.colorSpace, this.texture.generateMipmaps = i.generateMipmaps, this.texture.minFilter = i.minFilter, this.texture.magFilter = i.magFilter;
      const s = {
        uniforms: {
          tEquirect: { value: null }
        },
        vertexShader: (
          /* glsl */
          `

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`
        ),
        fragmentShader: (
          /* glsl */
          `

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`
        )
      }, c = new ka(5, 5, 5), u = new Oi({
        name: "CubemapFromEquirect",
        uniforms: Vs(s.uniforms),
        vertexShader: s.vertexShader,
        fragmentShader: s.fragmentShader,
        side: x,
        blending: T
      });
      u.uniforms.tEquirect.value = i;
      const f = new ur(c, u), b = i.minFilter;
      return i.minFilter === Vi && (i.minFilter = pr), new lc(1, 10, this).update(t, f), i.minFilter = b, f.geometry.dispose(), f.material.dispose(), this;
    }
    clear(t, i, s, c) {
      const u = t.getRenderTarget();
      for (let f = 0; f < 6; f++)
        t.setRenderTarget(this, f), t.clear(i, s, c);
      t.setRenderTarget(u);
    }
  }
  const Bh = /* @__PURE__ */ new ie(), Pb = /* @__PURE__ */ new ie(), Nr = /* @__PURE__ */ new en();
  class ea {
    constructor(t = new ie(1, 0, 0), i = 0) {
      this.isPlane = !0, this.normal = t, this.constant = i;
    }
    set(t, i) {
      return this.normal.copy(t), this.constant = i, this;
    }
    setComponents(t, i, s, c) {
      return this.normal.set(t, i, s), this.constant = c, this;
    }
    setFromNormalAndCoplanarPoint(t, i) {
      return this.normal.copy(t), this.constant = -i.dot(this.normal), this;
    }
    setFromCoplanarPoints(t, i, s) {
      const c = Bh.subVectors(s, i).cross(Pb.subVectors(t, i)).normalize();
      return this.setFromNormalAndCoplanarPoint(c, t), this;
    }
    copy(t) {
      return this.normal.copy(t.normal), this.constant = t.constant, this;
    }
    normalize() {
      const t = 1 / this.normal.length();
      return this.normal.multiplyScalar(t), this.constant *= t, this;
    }
    negate() {
      return this.constant *= -1, this.normal.negate(), this;
    }
    distanceToPoint(t) {
      return this.normal.dot(t) + this.constant;
    }
    distanceToSphere(t) {
      return this.distanceToPoint(t.center) - t.radius;
    }
    projectPoint(t, i) {
      return i.copy(t).addScaledVector(this.normal, -this.distanceToPoint(t));
    }
    intersectLine(t, i) {
      const s = t.delta(Bh), c = this.normal.dot(s);
      if (c === 0)
        return this.distanceToPoint(t.start) === 0 ? i.copy(t.start) : null;
      const u = -(t.start.dot(this.normal) + this.constant) / c;
      return u < 0 || u > 1 ? null : i.copy(t.start).addScaledVector(s, u);
    }
    intersectsLine(t) {
      const i = this.distanceToPoint(t.start), s = this.distanceToPoint(t.end);
      return i < 0 && s > 0 || s < 0 && i > 0;
    }
    intersectsBox(t) {
      return t.intersectsPlane(this);
    }
    intersectsSphere(t) {
      return t.intersectsPlane(this);
    }
    coplanarPoint(t) {
      return t.copy(this.normal).multiplyScalar(-this.constant);
    }
    applyMatrix4(t, i) {
      const s = i || Nr.getNormalMatrix(t), c = this.coplanarPoint(Bh).applyMatrix4(t), u = this.normal.applyMatrix3(s).normalize();
      return this.constant = -c.dot(u), this;
    }
    translate(t) {
      return this.constant -= t.dot(this.normal), this;
    }
    equals(t) {
      return t.normal.equals(this.normal) && t.constant === this.constant;
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  const B = /* @__PURE__ */ new Xr(), D = /* @__PURE__ */ new ie();
  class W {
    constructor(t = new ea(), i = new ea(), s = new ea(), c = new ea(), u = new ea(), f = new ea()) {
      this.planes = [t, i, s, c, u, f];
    }
    set(t, i, s, c, u, f) {
      const b = this.planes;
      return b[0].copy(t), b[1].copy(i), b[2].copy(s), b[3].copy(c), b[4].copy(u), b[5].copy(f), this;
    }
    copy(t) {
      const i = this.planes;
      for (let s = 0; s < 6; s++)
        i[s].copy(t.planes[s]);
      return this;
    }
    setFromProjectionMatrix(t, i = hi) {
      const s = this.planes, c = t.elements, u = c[0], f = c[1], b = c[2], C = c[3], _ = c[4], N = c[5], I = c[6], A = c[7], E = c[8], R = c[9], j = c[10], O = c[11], P = c[12], U = c[13], k = c[14], V = c[15];
      if (s[0].setComponents(C - u, A - _, O - E, V - P).normalize(), s[1].setComponents(C + u, A + _, O + E, V + P).normalize(), s[2].setComponents(C + f, A + N, O + R, V + U).normalize(), s[3].setComponents(C - f, A - N, O - R, V - U).normalize(), s[4].setComponents(C - b, A - I, O - j, V - k).normalize(), i === hi)
        s[5].setComponents(C + b, A + I, O + j, V + k).normalize();
      else if (i === Ea)
        s[5].setComponents(b, I, j, k).normalize();
      else
        throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: " + i);
      return this;
    }
    intersectsObject(t) {
      if (t.boundingSphere !== void 0)
        t.boundingSphere === null && t.computeBoundingSphere(), B.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);
      else {
        const i = t.geometry;
        i.boundingSphere === null && i.computeBoundingSphere(), B.copy(i.boundingSphere).applyMatrix4(t.matrixWorld);
      }
      return this.intersectsSphere(B);
    }
    intersectsSprite(t) {
      return B.center.set(0, 0, 0), B.radius = 0.7071067811865476, B.applyMatrix4(t.matrixWorld), this.intersectsSphere(B);
    }
    intersectsSphere(t) {
      const i = this.planes, s = t.center, c = -t.radius;
      for (let u = 0; u < 6; u++)
        if (i[u].distanceToPoint(s) < c)
          return !1;
      return !0;
    }
    intersectsBox(t) {
      const i = this.planes;
      for (let s = 0; s < 6; s++) {
        const c = i[s];
        if (D.x = c.normal.x > 0 ? t.max.x : t.min.x, D.y = c.normal.y > 0 ? t.max.y : t.min.y, D.z = c.normal.z > 0 ? t.max.z : t.min.z, c.distanceToPoint(D) < 0)
          return !1;
      }
      return !0;
    }
    containsPoint(t) {
      const i = this.planes;
      for (let s = 0; s < 6; s++)
        if (i[s].distanceToPoint(t) < 0)
          return !1;
      return !0;
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  function te() {
    let m = null, t = !1, i = null, s = null;
    function c(u, f) {
      i(u, f), s = m.requestAnimationFrame(c);
    }
    return {
      start: function() {
        t !== !0 && i !== null && (s = m.requestAnimationFrame(c), t = !0);
      },
      stop: function() {
        m.cancelAnimationFrame(s), t = !1;
      },
      setAnimationLoop: function(u) {
        i = u;
      },
      setContext: function(u) {
        m = u;
      }
    };
  }
  function ge(m) {
    const t = /* @__PURE__ */ new WeakMap();
    function i(b, C) {
      const _ = b.array, N = b.usage, I = _.byteLength, A = m.createBuffer();
      m.bindBuffer(C, A), m.bufferData(C, _, N), b.onUploadCallback();
      let E;
      if (_ instanceof Float32Array)
        E = m.FLOAT;
      else if (_ instanceof Uint16Array)
        b.isFloat16BufferAttribute ? E = m.HALF_FLOAT : E = m.UNSIGNED_SHORT;
      else if (_ instanceof Int16Array)
        E = m.SHORT;
      else if (_ instanceof Uint32Array)
        E = m.UNSIGNED_INT;
      else if (_ instanceof Int32Array)
        E = m.INT;
      else if (_ instanceof Int8Array)
        E = m.BYTE;
      else if (_ instanceof Uint8Array)
        E = m.UNSIGNED_BYTE;
      else if (_ instanceof Uint8ClampedArray)
        E = m.UNSIGNED_BYTE;
      else
        throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: " + _);
      return {
        buffer: A,
        type: E,
        bytesPerElement: _.BYTES_PER_ELEMENT,
        version: b.version,
        size: I
      };
    }
    function s(b, C, _) {
      const N = C.array, I = C._updateRange, A = C.updateRanges;
      if (m.bindBuffer(_, b), I.count === -1 && A.length === 0 && m.bufferSubData(_, 0, N), A.length !== 0) {
        for (let E = 0, R = A.length; E < R; E++) {
          const j = A[E];
          m.bufferSubData(
            _,
            j.start * N.BYTES_PER_ELEMENT,
            N,
            j.start,
            j.count
          );
        }
        C.clearUpdateRanges();
      }
      I.count !== -1 && (m.bufferSubData(
        _,
        I.offset * N.BYTES_PER_ELEMENT,
        N,
        I.offset,
        I.count
      ), I.count = -1), C.onUploadCallback();
    }
    function c(b) {
      return b.isInterleavedBufferAttribute && (b = b.data), t.get(b);
    }
    function u(b) {
      b.isInterleavedBufferAttribute && (b = b.data);
      const C = t.get(b);
      C && (m.deleteBuffer(C.buffer), t.delete(b));
    }
    function f(b, C) {
      if (b.isGLBufferAttribute) {
        const N = t.get(b);
        (!N || N.version < b.version) && t.set(b, {
          buffer: b.buffer,
          type: b.type,
          bytesPerElement: b.elementSize,
          version: b.version
        });
        return;
      }
      b.isInterleavedBufferAttribute && (b = b.data);
      const _ = t.get(b);
      if (_ === void 0)
        t.set(b, i(b, C));
      else if (_.version < b.version) {
        if (_.size !== b.array.byteLength)
          throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");
        s(_.buffer, b, C), _.version = b.version;
      }
    }
    return {
      get: c,
      remove: u,
      update: f
    };
  }
  class xe extends tn {
    constructor(t = 1, i = 1, s = 1, c = 1) {
      super(), this.type = "PlaneGeometry", this.parameters = {
        width: t,
        height: i,
        widthSegments: s,
        heightSegments: c
      };
      const u = t / 2, f = i / 2, b = Math.floor(s), C = Math.floor(c), _ = b + 1, N = C + 1, I = t / b, A = i / C, E = [], R = [], j = [], O = [];
      for (let P = 0; P < N; P++) {
        const U = P * A - f;
        for (let k = 0; k < _; k++) {
          const V = k * I - u;
          R.push(V, -U, 0), j.push(0, 0, 1), O.push(k / b), O.push(1 - P / C);
        }
      }
      for (let P = 0; P < C; P++)
        for (let U = 0; U < b; U++) {
          const k = U + _ * P, V = U + _ * (P + 1), me = U + 1 + _ * (P + 1), ee = U + 1 + _ * P;
          E.push(k, V, ee), E.push(V, me, ee);
        }
      this.setIndex(E), this.setAttribute("position", new Rt(R, 3)), this.setAttribute("normal", new Rt(j, 3)), this.setAttribute("uv", new Rt(O, 2));
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new xe(t.width, t.height, t.widthSegments, t.heightSegments);
    }
  }
  var ue = `#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`, Ne = `#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`, Ie = `#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`, Ue = `#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`, Je = `#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`, yt = `#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`, nt = `#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`, It = `#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`, St = `#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`, an = `#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`, fn = `vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`, _n = `vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`, Rn = `float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`, Rr = `#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`, Mr = `#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`, Qr = `#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`, yn = `#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`, rt = `#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`, Vt = `#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`, un = `#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`, sn = `#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`, Br = `#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`, Zn = `#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`, wn = `#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`, On = `#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`, Ln = `vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`, Xn = `#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`, Li = `#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`, ta = `#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`, na = `#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`, $s = "gl_FragColor = linearToOutputTexel( gl_FragColor );", qs = `
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`, Mo = `#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`, Ua = `#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`, cc = `#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`, Ga = `#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`, im = `#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`, om = `#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`, u5 = `#ifdef USE_FOG
	varying float vFogDepth;
#endif`, d5 = `#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`, m5 = `#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`, p5 = `#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`, f5 = `#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`, g5 = `LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`, b5 = `varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`, v5 = `uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`, y5 = `#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`, x5 = `ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`, C5 = `varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`, _5 = `BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`, w5 = `varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`, T5 = `PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`, N5 = `struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`, M5 = `
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`, S5 = `#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`, I5 = `#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`, A5 = `#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`, E5 = `#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`, P5 = `#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`, R5 = `#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`, B5 = `#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`, O5 = `#ifdef USE_MAP
	uniform sampler2D map;
#endif`, L5 = `#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`, j5 = `#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`, D5 = `float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`, F5 = `#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`, k5 = `#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`, X5 = `#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`, z5 = `#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`, U5 = `#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`, G5 = `#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`, W5 = `float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`, V5 = `#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`, H5 = `#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`, $5 = `#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`, q5 = `#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`, Y5 = `#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`, K5 = `#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`, Z5 = `#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`, J5 = `#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`, Q5 = `#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`, e4 = `#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`, t4 = `vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`, n4 = `#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`, r4 = `vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`, i4 = `#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`, o4 = `#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`, a4 = `float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`, s4 = `#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`, l4 = `#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`, c4 = `#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`, h4 = `#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`, u4 = `float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`, d4 = `#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`, m4 = `#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`, p4 = `#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`, f4 = `#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`, g4 = `float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`, b4 = `#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`, v4 = `#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`, y4 = `#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`, x4 = `#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`, C4 = `#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`, _4 = `#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`, w4 = `#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`, T4 = `#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`, N4 = `#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;
  const ln = {
    alphahash_fragment: ue,
    alphahash_pars_fragment: Ne,
    alphamap_fragment: Ie,
    alphamap_pars_fragment: Ue,
    alphatest_fragment: Je,
    alphatest_pars_fragment: yt,
    aomap_fragment: nt,
    aomap_pars_fragment: It,
    batching_pars_vertex: St,
    batching_vertex: an,
    begin_vertex: fn,
    beginnormal_vertex: _n,
    bsdfs: Rn,
    iridescence_fragment: Rr,
    bumpmap_pars_fragment: Mr,
    clipping_planes_fragment: Qr,
    clipping_planes_pars_fragment: yn,
    clipping_planes_pars_vertex: rt,
    clipping_planes_vertex: Vt,
    color_fragment: un,
    color_pars_fragment: sn,
    color_pars_vertex: Br,
    color_vertex: Zn,
    common: wn,
    cube_uv_reflection_fragment: On,
    defaultnormal_vertex: Ln,
    displacementmap_pars_vertex: Xn,
    displacementmap_vertex: Li,
    emissivemap_fragment: ta,
    emissivemap_pars_fragment: na,
    colorspace_fragment: $s,
    colorspace_pars_fragment: qs,
    envmap_fragment: Mo,
    envmap_common_pars_fragment: Ua,
    envmap_pars_fragment: cc,
    envmap_pars_vertex: Ga,
    envmap_physical_pars_fragment: y5,
    envmap_vertex: im,
    fog_vertex: om,
    fog_pars_vertex: u5,
    fog_fragment: d5,
    fog_pars_fragment: m5,
    gradientmap_pars_fragment: p5,
    lightmap_pars_fragment: f5,
    lights_lambert_fragment: g5,
    lights_lambert_pars_fragment: b5,
    lights_pars_begin: v5,
    lights_toon_fragment: x5,
    lights_toon_pars_fragment: C5,
    lights_phong_fragment: _5,
    lights_phong_pars_fragment: w5,
    lights_physical_fragment: T5,
    lights_physical_pars_fragment: N5,
    lights_fragment_begin: M5,
    lights_fragment_maps: S5,
    lights_fragment_end: I5,
    logdepthbuf_fragment: A5,
    logdepthbuf_pars_fragment: E5,
    logdepthbuf_pars_vertex: P5,
    logdepthbuf_vertex: R5,
    map_fragment: B5,
    map_pars_fragment: O5,
    map_particle_fragment: L5,
    map_particle_pars_fragment: j5,
    metalnessmap_fragment: D5,
    metalnessmap_pars_fragment: F5,
    morphinstance_vertex: k5,
    morphcolor_vertex: X5,
    morphnormal_vertex: z5,
    morphtarget_pars_vertex: U5,
    morphtarget_vertex: G5,
    normal_fragment_begin: W5,
    normal_fragment_maps: V5,
    normal_pars_fragment: H5,
    normal_pars_vertex: $5,
    normal_vertex: q5,
    normalmap_pars_fragment: Y5,
    clearcoat_normal_fragment_begin: K5,
    clearcoat_normal_fragment_maps: Z5,
    clearcoat_pars_fragment: J5,
    iridescence_pars_fragment: Q5,
    opaque_fragment: e4,
    packing: t4,
    premultiplied_alpha_fragment: n4,
    project_vertex: r4,
    dithering_fragment: i4,
    dithering_pars_fragment: o4,
    roughnessmap_fragment: a4,
    roughnessmap_pars_fragment: s4,
    shadowmap_pars_fragment: l4,
    shadowmap_pars_vertex: c4,
    shadowmap_vertex: h4,
    shadowmask_pars_fragment: u4,
    skinbase_vertex: d4,
    skinning_pars_vertex: m4,
    skinning_vertex: p4,
    skinnormal_vertex: f4,
    specularmap_fragment: g4,
    specularmap_pars_fragment: b4,
    tonemapping_fragment: v4,
    tonemapping_pars_fragment: y4,
    transmission_fragment: x4,
    transmission_pars_fragment: C4,
    uv_pars_fragment: _4,
    uv_pars_vertex: w4,
    uv_vertex: T4,
    worldpos_vertex: N4,
    background_vert: `varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,
    background_frag: `uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,
    backgroundCube_vert: `varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,
    backgroundCube_frag: `#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,
    cube_vert: `varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,
    cube_frag: `uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,
    depth_vert: `#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,
    depth_frag: `#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,
    distanceRGBA_vert: `#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,
    distanceRGBA_frag: `#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,
    equirect_vert: `varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,
    equirect_frag: `uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,
    linedashed_vert: `uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,
    linedashed_frag: `uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,
    meshbasic_vert: `#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,
    meshbasic_frag: `uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,
    meshlambert_vert: `#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,
    meshlambert_frag: `#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,
    meshmatcap_vert: `#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,
    meshmatcap_frag: `#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,
    meshnormal_vert: `#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,
    meshnormal_frag: `#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,
    meshphong_vert: `#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,
    meshphong_frag: `#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,
    meshphysical_vert: `#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,
    meshphysical_frag: `#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,
    meshtoon_vert: `#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,
    meshtoon_frag: `#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,
    points_vert: `uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,
    points_frag: `uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,
    shadow_vert: `#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,
    shadow_frag: `uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,
    sprite_vert: `uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,
    sprite_frag: `uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`
  }, bt = {
    common: {
      diffuse: { value: /* @__PURE__ */ new Tt(16777215) },
      opacity: { value: 1 },
      map: { value: null },
      mapTransform: { value: /* @__PURE__ */ new en() },
      alphaMap: { value: null },
      alphaMapTransform: { value: /* @__PURE__ */ new en() },
      alphaTest: { value: 0 }
    },
    specularmap: {
      specularMap: { value: null },
      specularMapTransform: { value: /* @__PURE__ */ new en() }
    },
    envmap: {
      envMap: { value: null },
      envMapRotation: { value: /* @__PURE__ */ new en() },
      flipEnvMap: { value: -1 },
      reflectivity: { value: 1 },
      // basic, lambert, phong
      ior: { value: 1.5 },
      // physical
      refractionRatio: { value: 0.98 }
      // basic, lambert, phong
    },
    aomap: {
      aoMap: { value: null },
      aoMapIntensity: { value: 1 },
      aoMapTransform: { value: /* @__PURE__ */ new en() }
    },
    lightmap: {
      lightMap: { value: null },
      lightMapIntensity: { value: 1 },
      lightMapTransform: { value: /* @__PURE__ */ new en() }
    },
    bumpmap: {
      bumpMap: { value: null },
      bumpMapTransform: { value: /* @__PURE__ */ new en() },
      bumpScale: { value: 1 }
    },
    normalmap: {
      normalMap: { value: null },
      normalMapTransform: { value: /* @__PURE__ */ new en() },
      normalScale: { value: /* @__PURE__ */ new $e(1, 1) }
    },
    displacementmap: {
      displacementMap: { value: null },
      displacementMapTransform: { value: /* @__PURE__ */ new en() },
      displacementScale: { value: 1 },
      displacementBias: { value: 0 }
    },
    emissivemap: {
      emissiveMap: { value: null },
      emissiveMapTransform: { value: /* @__PURE__ */ new en() }
    },
    metalnessmap: {
      metalnessMap: { value: null },
      metalnessMapTransform: { value: /* @__PURE__ */ new en() }
    },
    roughnessmap: {
      roughnessMap: { value: null },
      roughnessMapTransform: { value: /* @__PURE__ */ new en() }
    },
    gradientmap: {
      gradientMap: { value: null }
    },
    fog: {
      fogDensity: { value: 25e-5 },
      fogNear: { value: 1 },
      fogFar: { value: 2e3 },
      fogColor: { value: /* @__PURE__ */ new Tt(16777215) }
    },
    lights: {
      ambientLightColor: { value: [] },
      lightProbe: { value: [] },
      directionalLights: { value: [], properties: {
        direction: {},
        color: {}
      } },
      directionalLightShadows: { value: [], properties: {
        shadowBias: {},
        shadowNormalBias: {},
        shadowRadius: {},
        shadowMapSize: {}
      } },
      directionalShadowMap: { value: [] },
      directionalShadowMatrix: { value: [] },
      spotLights: { value: [], properties: {
        color: {},
        position: {},
        direction: {},
        distance: {},
        coneCos: {},
        penumbraCos: {},
        decay: {}
      } },
      spotLightShadows: { value: [], properties: {
        shadowBias: {},
        shadowNormalBias: {},
        shadowRadius: {},
        shadowMapSize: {}
      } },
      spotLightMap: { value: [] },
      spotShadowMap: { value: [] },
      spotLightMatrix: { value: [] },
      pointLights: { value: [], properties: {
        color: {},
        position: {},
        decay: {},
        distance: {}
      } },
      pointLightShadows: { value: [], properties: {
        shadowBias: {},
        shadowNormalBias: {},
        shadowRadius: {},
        shadowMapSize: {},
        shadowCameraNear: {},
        shadowCameraFar: {}
      } },
      pointShadowMap: { value: [] },
      pointShadowMatrix: { value: [] },
      hemisphereLights: { value: [], properties: {
        direction: {},
        skyColor: {},
        groundColor: {}
      } },
      // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src
      rectAreaLights: { value: [], properties: {
        color: {},
        position: {},
        width: {},
        height: {}
      } },
      ltc_1: { value: null },
      ltc_2: { value: null }
    },
    points: {
      diffuse: { value: /* @__PURE__ */ new Tt(16777215) },
      opacity: { value: 1 },
      size: { value: 1 },
      scale: { value: 1 },
      map: { value: null },
      alphaMap: { value: null },
      alphaMapTransform: { value: /* @__PURE__ */ new en() },
      alphaTest: { value: 0 },
      uvTransform: { value: /* @__PURE__ */ new en() }
    },
    sprite: {
      diffuse: { value: /* @__PURE__ */ new Tt(16777215) },
      opacity: { value: 1 },
      center: { value: /* @__PURE__ */ new $e(0.5, 0.5) },
      rotation: { value: 0 },
      map: { value: null },
      mapTransform: { value: /* @__PURE__ */ new en() },
      alphaMap: { value: null },
      alphaMapTransform: { value: /* @__PURE__ */ new en() },
      alphaTest: { value: 0 }
    }
  }, So = {
    basic: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.specularmap,
        bt.envmap,
        bt.aomap,
        bt.lightmap,
        bt.fog
      ]),
      vertexShader: ln.meshbasic_vert,
      fragmentShader: ln.meshbasic_frag
    },
    lambert: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.specularmap,
        bt.envmap,
        bt.aomap,
        bt.lightmap,
        bt.emissivemap,
        bt.bumpmap,
        bt.normalmap,
        bt.displacementmap,
        bt.fog,
        bt.lights,
        {
          emissive: { value: /* @__PURE__ */ new Tt(0) }
        }
      ]),
      vertexShader: ln.meshlambert_vert,
      fragmentShader: ln.meshlambert_frag
    },
    phong: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.specularmap,
        bt.envmap,
        bt.aomap,
        bt.lightmap,
        bt.emissivemap,
        bt.bumpmap,
        bt.normalmap,
        bt.displacementmap,
        bt.fog,
        bt.lights,
        {
          emissive: { value: /* @__PURE__ */ new Tt(0) },
          specular: { value: /* @__PURE__ */ new Tt(1118481) },
          shininess: { value: 30 }
        }
      ]),
      vertexShader: ln.meshphong_vert,
      fragmentShader: ln.meshphong_frag
    },
    standard: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.envmap,
        bt.aomap,
        bt.lightmap,
        bt.emissivemap,
        bt.bumpmap,
        bt.normalmap,
        bt.displacementmap,
        bt.roughnessmap,
        bt.metalnessmap,
        bt.fog,
        bt.lights,
        {
          emissive: { value: /* @__PURE__ */ new Tt(0) },
          roughness: { value: 1 },
          metalness: { value: 0 },
          envMapIntensity: { value: 1 }
        }
      ]),
      vertexShader: ln.meshphysical_vert,
      fragmentShader: ln.meshphysical_frag
    },
    toon: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.aomap,
        bt.lightmap,
        bt.emissivemap,
        bt.bumpmap,
        bt.normalmap,
        bt.displacementmap,
        bt.gradientmap,
        bt.fog,
        bt.lights,
        {
          emissive: { value: /* @__PURE__ */ new Tt(0) }
        }
      ]),
      vertexShader: ln.meshtoon_vert,
      fragmentShader: ln.meshtoon_frag
    },
    matcap: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.bumpmap,
        bt.normalmap,
        bt.displacementmap,
        bt.fog,
        {
          matcap: { value: null }
        }
      ]),
      vertexShader: ln.meshmatcap_vert,
      fragmentShader: ln.meshmatcap_frag
    },
    points: {
      uniforms: /* @__PURE__ */ Ur([
        bt.points,
        bt.fog
      ]),
      vertexShader: ln.points_vert,
      fragmentShader: ln.points_frag
    },
    dashed: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.fog,
        {
          scale: { value: 1 },
          dashSize: { value: 1 },
          totalSize: { value: 2 }
        }
      ]),
      vertexShader: ln.linedashed_vert,
      fragmentShader: ln.linedashed_frag
    },
    depth: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.displacementmap
      ]),
      vertexShader: ln.depth_vert,
      fragmentShader: ln.depth_frag
    },
    normal: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.bumpmap,
        bt.normalmap,
        bt.displacementmap,
        {
          opacity: { value: 1 }
        }
      ]),
      vertexShader: ln.meshnormal_vert,
      fragmentShader: ln.meshnormal_frag
    },
    sprite: {
      uniforms: /* @__PURE__ */ Ur([
        bt.sprite,
        bt.fog
      ]),
      vertexShader: ln.sprite_vert,
      fragmentShader: ln.sprite_frag
    },
    background: {
      uniforms: {
        uvTransform: { value: /* @__PURE__ */ new en() },
        t2D: { value: null },
        backgroundIntensity: { value: 1 }
      },
      vertexShader: ln.background_vert,
      fragmentShader: ln.background_frag
    },
    backgroundCube: {
      uniforms: {
        envMap: { value: null },
        flipEnvMap: { value: -1 },
        backgroundBlurriness: { value: 0 },
        backgroundIntensity: { value: 1 },
        backgroundRotation: { value: /* @__PURE__ */ new en() }
      },
      vertexShader: ln.backgroundCube_vert,
      fragmentShader: ln.backgroundCube_frag
    },
    cube: {
      uniforms: {
        tCube: { value: null },
        tFlip: { value: -1 },
        opacity: { value: 1 }
      },
      vertexShader: ln.cube_vert,
      fragmentShader: ln.cube_frag
    },
    equirect: {
      uniforms: {
        tEquirect: { value: null }
      },
      vertexShader: ln.equirect_vert,
      fragmentShader: ln.equirect_frag
    },
    distanceRGBA: {
      uniforms: /* @__PURE__ */ Ur([
        bt.common,
        bt.displacementmap,
        {
          referencePosition: { value: /* @__PURE__ */ new ie() },
          nearDistance: { value: 1 },
          farDistance: { value: 1e3 }
        }
      ]),
      vertexShader: ln.distanceRGBA_vert,
      fragmentShader: ln.distanceRGBA_frag
    },
    shadow: {
      uniforms: /* @__PURE__ */ Ur([
        bt.lights,
        bt.fog,
        {
          color: { value: /* @__PURE__ */ new Tt(0) },
          opacity: { value: 1 }
        }
      ]),
      vertexShader: ln.shadow_vert,
      fragmentShader: ln.shadow_frag
    }
  };
  So.physical = {
    uniforms: /* @__PURE__ */ Ur([
      So.standard.uniforms,
      {
        clearcoat: { value: 0 },
        clearcoatMap: { value: null },
        clearcoatMapTransform: { value: /* @__PURE__ */ new en() },
        clearcoatNormalMap: { value: null },
        clearcoatNormalMapTransform: { value: /* @__PURE__ */ new en() },
        clearcoatNormalScale: { value: /* @__PURE__ */ new $e(1, 1) },
        clearcoatRoughness: { value: 0 },
        clearcoatRoughnessMap: { value: null },
        clearcoatRoughnessMapTransform: { value: /* @__PURE__ */ new en() },
        dispersion: { value: 0 },
        iridescence: { value: 0 },
        iridescenceMap: { value: null },
        iridescenceMapTransform: { value: /* @__PURE__ */ new en() },
        iridescenceIOR: { value: 1.3 },
        iridescenceThicknessMinimum: { value: 100 },
        iridescenceThicknessMaximum: { value: 400 },
        iridescenceThicknessMap: { value: null },
        iridescenceThicknessMapTransform: { value: /* @__PURE__ */ new en() },
        sheen: { value: 0 },
        sheenColor: { value: /* @__PURE__ */ new Tt(0) },
        sheenColorMap: { value: null },
        sheenColorMapTransform: { value: /* @__PURE__ */ new en() },
        sheenRoughness: { value: 1 },
        sheenRoughnessMap: { value: null },
        sheenRoughnessMapTransform: { value: /* @__PURE__ */ new en() },
        transmission: { value: 0 },
        transmissionMap: { value: null },
        transmissionMapTransform: { value: /* @__PURE__ */ new en() },
        transmissionSamplerSize: { value: /* @__PURE__ */ new $e() },
        transmissionSamplerMap: { value: null },
        thickness: { value: 0 },
        thicknessMap: { value: null },
        thicknessMapTransform: { value: /* @__PURE__ */ new en() },
        attenuationDistance: { value: 0 },
        attenuationColor: { value: /* @__PURE__ */ new Tt(0) },
        specularColor: { value: /* @__PURE__ */ new Tt(1, 1, 1) },
        specularColorMap: { value: null },
        specularColorMapTransform: { value: /* @__PURE__ */ new en() },
        specularIntensity: { value: 1 },
        specularIntensityMap: { value: null },
        specularIntensityMapTransform: { value: /* @__PURE__ */ new en() },
        anisotropyVector: { value: /* @__PURE__ */ new $e() },
        anisotropyMap: { value: null },
        anisotropyMapTransform: { value: /* @__PURE__ */ new en() }
      }
    ]),
    vertexShader: ln.meshphysical_vert,
    fragmentShader: ln.meshphysical_frag
  };
  const If = { r: 0, b: 0, g: 0 }, hc = /* @__PURE__ */ new mi(), M4 = /* @__PURE__ */ new Wt();
  function S4(m, t, i, s, c, u, f) {
    const b = new Tt(0);
    let C = u === !0 ? 0 : 1, _, N, I = null, A = 0, E = null;
    function R(U) {
      let k = U.isScene === !0 ? U.background : null;
      return k && k.isTexture && (k = (U.backgroundBlurriness > 0 ? i : t).get(k)), k;
    }
    function j(U) {
      let k = !1;
      const V = R(U);
      V === null ? P(b, C) : V && V.isColor && (P(V, 1), k = !0);
      const me = m.xr.getEnvironmentBlendMode();
      me === "additive" ? s.buffers.color.setClear(0, 0, 0, 1, f) : me === "alpha-blend" && s.buffers.color.setClear(0, 0, 0, 0, f), (m.autoClear || k) && m.clear(m.autoClearColor, m.autoClearDepth, m.autoClearStencil);
    }
    function O(U, k) {
      const V = R(k);
      V && (V.isCubeTexture || V.mapping === wa) ? (N === void 0 && (N = new ur(
        new ka(1, 1, 1),
        new Oi({
          name: "BackgroundCubeMaterial",
          uniforms: Vs(So.backgroundCube.uniforms),
          vertexShader: So.backgroundCube.vertexShader,
          fragmentShader: So.backgroundCube.fragmentShader,
          side: x,
          depthTest: !1,
          depthWrite: !1,
          fog: !1
        })
      ), N.geometry.deleteAttribute("normal"), N.geometry.deleteAttribute("uv"), N.onBeforeRender = function(me, ee, le) {
        this.matrixWorld.copyPosition(le.matrixWorld);
      }, Object.defineProperty(N.material, "envMap", {
        get: function() {
          return this.uniforms.envMap.value;
        }
      }), c.update(N)), hc.copy(k.backgroundRotation), hc.x *= -1, hc.y *= -1, hc.z *= -1, V.isCubeTexture && V.isRenderTargetTexture === !1 && (hc.y *= -1, hc.z *= -1), N.material.uniforms.envMap.value = V, N.material.uniforms.flipEnvMap.value = V.isCubeTexture && V.isRenderTargetTexture === !1 ? -1 : 1, N.material.uniforms.backgroundBlurriness.value = k.backgroundBlurriness, N.material.uniforms.backgroundIntensity.value = k.backgroundIntensity, N.material.uniforms.backgroundRotation.value.setFromMatrix4(M4.makeRotationFromEuler(hc)), N.material.toneMapped = Fn.getTransfer(V.colorSpace) !== zn, (I !== V || A !== V.version || E !== m.toneMapping) && (N.material.needsUpdate = !0, I = V, A = V.version, E = m.toneMapping), N.layers.enableAll(), U.unshift(N, N.geometry, N.material, 0, 0, null)) : V && V.isTexture && (_ === void 0 && (_ = new ur(
        new xe(2, 2),
        new Oi({
          name: "BackgroundMaterial",
          uniforms: Vs(So.background.uniforms),
          vertexShader: So.background.vertexShader,
          fragmentShader: So.background.fragmentShader,
          side: y,
          depthTest: !1,
          depthWrite: !1,
          fog: !1
        })
      ), _.geometry.deleteAttribute("normal"), Object.defineProperty(_.material, "map", {
        get: function() {
          return this.uniforms.t2D.value;
        }
      }), c.update(_)), _.material.uniforms.t2D.value = V, _.material.uniforms.backgroundIntensity.value = k.backgroundIntensity, _.material.toneMapped = Fn.getTransfer(V.colorSpace) !== zn, V.matrixAutoUpdate === !0 && V.updateMatrix(), _.material.uniforms.uvTransform.value.copy(V.matrix), (I !== V || A !== V.version || E !== m.toneMapping) && (_.material.needsUpdate = !0, I = V, A = V.version, E = m.toneMapping), _.layers.enableAll(), U.unshift(_, _.geometry, _.material, 0, 0, null));
    }
    function P(U, k) {
      U.getRGB(If, ac(m)), s.buffers.color.setClear(If.r, If.g, If.b, k, f);
    }
    return {
      getClearColor: function() {
        return b;
      },
      setClearColor: function(U, k = 1) {
        b.set(U), C = k, P(b, C);
      },
      getClearAlpha: function() {
        return C;
      },
      setClearAlpha: function(U) {
        C = U, P(b, C);
      },
      render: j,
      addToRenderList: O
    };
  }
  function I4(m, t) {
    const i = m.getParameter(m.MAX_VERTEX_ATTRIBS), s = {}, c = A(null);
    let u = c, f = !1;
    function b(H, Te, ke, Ce, Le) {
      let Ve = !1;
      const Ze = I(Ce, ke, Te);
      u !== Ze && (u = Ze, _(u.object)), Ve = E(H, Ce, ke, Le), Ve && R(H, Ce, ke, Le), Le !== null && t.update(Le, m.ELEMENT_ARRAY_BUFFER), (Ve || f) && (f = !1, V(H, Te, ke, Ce), Le !== null && m.bindBuffer(m.ELEMENT_ARRAY_BUFFER, t.get(Le).buffer));
    }
    function C() {
      return m.createVertexArray();
    }
    function _(H) {
      return m.bindVertexArray(H);
    }
    function N(H) {
      return m.deleteVertexArray(H);
    }
    function I(H, Te, ke) {
      const Ce = ke.wireframe === !0;
      let Le = s[H.id];
      Le === void 0 && (Le = {}, s[H.id] = Le);
      let Ve = Le[Te.id];
      Ve === void 0 && (Ve = {}, Le[Te.id] = Ve);
      let Ze = Ve[Ce];
      return Ze === void 0 && (Ze = A(C()), Ve[Ce] = Ze), Ze;
    }
    function A(H) {
      const Te = [], ke = [], Ce = [];
      for (let Le = 0; Le < i; Le++)
        Te[Le] = 0, ke[Le] = 0, Ce[Le] = 0;
      return {
        // for backward compatibility on non-VAO support browser
        geometry: null,
        program: null,
        wireframe: !1,
        newAttributes: Te,
        enabledAttributes: ke,
        attributeDivisors: Ce,
        object: H,
        attributes: {},
        index: null
      };
    }
    function E(H, Te, ke, Ce) {
      const Le = u.attributes, Ve = Te.attributes;
      let Ze = 0;
      const vt = ke.getAttributes();
      for (const ze in vt)
        if (vt[ze].location >= 0) {
          const st = Le[ze];
          let Bt = Ve[ze];
          if (Bt === void 0 && (ze === "instanceMatrix" && H.instanceMatrix && (Bt = H.instanceMatrix), ze === "instanceColor" && H.instanceColor && (Bt = H.instanceColor)), st === void 0 || st.attribute !== Bt || Bt && st.data !== Bt.data)
            return !0;
          Ze++;
        }
      return u.attributesNum !== Ze || u.index !== Ce;
    }
    function R(H, Te, ke, Ce) {
      const Le = {}, Ve = Te.attributes;
      let Ze = 0;
      const vt = ke.getAttributes();
      for (const ze in vt)
        if (vt[ze].location >= 0) {
          let st = Ve[ze];
          st === void 0 && (ze === "instanceMatrix" && H.instanceMatrix && (st = H.instanceMatrix), ze === "instanceColor" && H.instanceColor && (st = H.instanceColor));
          const Bt = {};
          Bt.attribute = st, st && st.data && (Bt.data = st.data), Le[ze] = Bt, Ze++;
        }
      u.attributes = Le, u.attributesNum = Ze, u.index = Ce;
    }
    function j() {
      const H = u.newAttributes;
      for (let Te = 0, ke = H.length; Te < ke; Te++)
        H[Te] = 0;
    }
    function O(H) {
      P(H, 0);
    }
    function P(H, Te) {
      const ke = u.newAttributes, Ce = u.enabledAttributes, Le = u.attributeDivisors;
      ke[H] = 1, Ce[H] === 0 && (m.enableVertexAttribArray(H), Ce[H] = 1), Le[H] !== Te && (m.vertexAttribDivisor(H, Te), Le[H] = Te);
    }
    function U() {
      const H = u.newAttributes, Te = u.enabledAttributes;
      for (let ke = 0, Ce = Te.length; ke < Ce; ke++)
        Te[ke] !== H[ke] && (m.disableVertexAttribArray(ke), Te[ke] = 0);
    }
    function k(H, Te, ke, Ce, Le, Ve, Ze) {
      Ze === !0 ? m.vertexAttribIPointer(H, Te, ke, Le, Ve) : m.vertexAttribPointer(H, Te, ke, Ce, Le, Ve);
    }
    function V(H, Te, ke, Ce) {
      j();
      const Le = Ce.attributes, Ve = ke.getAttributes(), Ze = Te.defaultAttributeValues;
      for (const vt in Ve) {
        const ze = Ve[vt];
        if (ze.location >= 0) {
          let lt = Le[vt];
          if (lt === void 0 && (vt === "instanceMatrix" && H.instanceMatrix && (lt = H.instanceMatrix), vt === "instanceColor" && H.instanceColor && (lt = H.instanceColor)), lt !== void 0) {
            const st = lt.normalized, Bt = lt.itemSize, dn = t.get(lt);
            if (dn === void 0)
              continue;
            const Vn = dn.buffer, Ge = dn.type, ht = dn.bytesPerElement, jt = Ge === m.INT || Ge === m.UNSIGNED_INT || lt.gpuType === sd;
            if (lt.isInterleavedBufferAttribute) {
              const ut = lt.data, mn = ut.stride, xn = lt.offset;
              if (ut.isInstancedInterleavedBuffer) {
                for (let Se = 0; Se < ze.locationSize; Se++)
                  P(ze.location + Se, ut.meshPerAttribute);
                H.isInstancedMesh !== !0 && Ce._maxInstanceCount === void 0 && (Ce._maxInstanceCount = ut.meshPerAttribute * ut.count);
              } else
                for (let Se = 0; Se < ze.locationSize; Se++)
                  O(ze.location + Se);
              m.bindBuffer(m.ARRAY_BUFFER, Vn);
              for (let Se = 0; Se < ze.locationSize; Se++)
                k(
                  ze.location + Se,
                  Bt / ze.locationSize,
                  Ge,
                  st,
                  mn * ht,
                  (xn + Bt / ze.locationSize * Se) * ht,
                  jt
                );
            } else {
              if (lt.isInstancedBufferAttribute) {
                for (let ut = 0; ut < ze.locationSize; ut++)
                  P(ze.location + ut, lt.meshPerAttribute);
                H.isInstancedMesh !== !0 && Ce._maxInstanceCount === void 0 && (Ce._maxInstanceCount = lt.meshPerAttribute * lt.count);
              } else
                for (let ut = 0; ut < ze.locationSize; ut++)
                  O(ze.location + ut);
              m.bindBuffer(m.ARRAY_BUFFER, Vn);
              for (let ut = 0; ut < ze.locationSize; ut++)
                k(
                  ze.location + ut,
                  Bt / ze.locationSize,
                  Ge,
                  st,
                  Bt * ht,
                  Bt / ze.locationSize * ut * ht,
                  jt
                );
            }
          } else if (Ze !== void 0) {
            const st = Ze[vt];
            if (st !== void 0)
              switch (st.length) {
                case 2:
                  m.vertexAttrib2fv(ze.location, st);
                  break;
                case 3:
                  m.vertexAttrib3fv(ze.location, st);
                  break;
                case 4:
                  m.vertexAttrib4fv(ze.location, st);
                  break;
                default:
                  m.vertexAttrib1fv(ze.location, st);
              }
          }
        }
      }
      U();
    }
    function me() {
      ye();
      for (const H in s) {
        const Te = s[H];
        for (const ke in Te) {
          const Ce = Te[ke];
          for (const Le in Ce)
            N(Ce[Le].object), delete Ce[Le];
          delete Te[ke];
        }
        delete s[H];
      }
    }
    function ee(H) {
      if (s[H.id] === void 0)
        return;
      const Te = s[H.id];
      for (const ke in Te) {
        const Ce = Te[ke];
        for (const Le in Ce)
          N(Ce[Le].object), delete Ce[Le];
        delete Te[ke];
      }
      delete s[H.id];
    }
    function le(H) {
      for (const Te in s) {
        const ke = s[Te];
        if (ke[H.id] === void 0)
          continue;
        const Ce = ke[H.id];
        for (const Le in Ce)
          N(Ce[Le].object), delete Ce[Le];
        delete ke[H.id];
      }
    }
    function ye() {
      Z(), f = !0, u !== c && (u = c, _(u.object));
    }
    function Z() {
      c.geometry = null, c.program = null, c.wireframe = !1;
    }
    return {
      setup: b,
      reset: ye,
      resetDefaultState: Z,
      dispose: me,
      releaseStatesOfGeometry: ee,
      releaseStatesOfProgram: le,
      initAttributes: j,
      enableAttribute: O,
      disableUnusedAttributes: U
    };
  }
  function A4(m, t, i) {
    let s;
    function c(_) {
      s = _;
    }
    function u(_, N) {
      m.drawArrays(s, _, N), i.update(N, s, 1);
    }
    function f(_, N, I) {
      I !== 0 && (m.drawArraysInstanced(s, _, N, I), i.update(N, s, I));
    }
    function b(_, N, I) {
      if (I === 0)
        return;
      const A = t.get("WEBGL_multi_draw");
      if (A === null)
        for (let E = 0; E < I; E++)
          this.render(_[E], N[E]);
      else {
        A.multiDrawArraysWEBGL(s, _, 0, N, 0, I);
        let E = 0;
        for (let R = 0; R < I; R++)
          E += N[R];
        i.update(E, s, 1);
      }
    }
    function C(_, N, I, A) {
      if (I === 0)
        return;
      const E = t.get("WEBGL_multi_draw");
      if (E === null)
        for (let R = 0; R < _.length; R++)
          f(_[R], N[R], A[R]);
      else {
        E.multiDrawArraysInstancedWEBGL(s, _, 0, N, 0, A, 0, I);
        let R = 0;
        for (let j = 0; j < I; j++)
          R += N[j];
        for (let j = 0; j < A.length; j++)
          i.update(R, s, A[j]);
      }
    }
    this.setMode = c, this.render = u, this.renderInstances = f, this.renderMultiDraw = b, this.renderMultiDrawInstances = C;
  }
  function E4(m, t, i, s) {
    let c;
    function u() {
      if (c !== void 0)
        return c;
      if (t.has("EXT_texture_filter_anisotropic") === !0) {
        const ee = t.get("EXT_texture_filter_anisotropic");
        c = m.getParameter(ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
      } else
        c = 0;
      return c;
    }
    function f(ee) {
      return !(ee !== ci && s.convert(ee) !== m.getParameter(m.IMPLEMENTATION_COLOR_READ_FORMAT));
    }
    function b(ee) {
      const le = ee === Rl && (t.has("EXT_color_buffer_half_float") || t.has("EXT_color_buffer_float"));
      return !(ee !== mo && s.convert(ee) !== m.getParameter(m.IMPLEMENTATION_COLOR_READ_TYPE) && // Edge and Chrome Mac < 52 (#9513)
      ee !== _i && !le);
    }
    function C(ee) {
      if (ee === "highp") {
        if (m.getShaderPrecisionFormat(m.VERTEX_SHADER, m.HIGH_FLOAT).precision > 0 && m.getShaderPrecisionFormat(m.FRAGMENT_SHADER, m.HIGH_FLOAT).precision > 0)
          return "highp";
        ee = "mediump";
      }
      return ee === "mediump" && m.getShaderPrecisionFormat(m.VERTEX_SHADER, m.MEDIUM_FLOAT).precision > 0 && m.getShaderPrecisionFormat(m.FRAGMENT_SHADER, m.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp";
    }
    let _ = i.precision !== void 0 ? i.precision : "highp";
    const N = C(_);
    N !== _ && (console.warn("THREE.WebGLRenderer:", _, "not supported, using", N, "instead."), _ = N);
    const I = i.logarithmicDepthBuffer === !0, A = m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS), E = m.getParameter(m.MAX_VERTEX_TEXTURE_IMAGE_UNITS), R = m.getParameter(m.MAX_TEXTURE_SIZE), j = m.getParameter(m.MAX_CUBE_MAP_TEXTURE_SIZE), O = m.getParameter(m.MAX_VERTEX_ATTRIBS), P = m.getParameter(m.MAX_VERTEX_UNIFORM_VECTORS), U = m.getParameter(m.MAX_VARYING_VECTORS), k = m.getParameter(m.MAX_FRAGMENT_UNIFORM_VECTORS), V = E > 0, me = m.getParameter(m.MAX_SAMPLES);
    return {
      isWebGL2: !0,
      // keeping this for backwards compatibility
      getMaxAnisotropy: u,
      getMaxPrecision: C,
      textureFormatReadable: f,
      textureTypeReadable: b,
      precision: _,
      logarithmicDepthBuffer: I,
      maxTextures: A,
      maxVertexTextures: E,
      maxTextureSize: R,
      maxCubemapSize: j,
      maxAttributes: O,
      maxVertexUniforms: P,
      maxVaryings: U,
      maxFragmentUniforms: k,
      vertexTextures: V,
      maxSamples: me
    };
  }
  function P4(m) {
    const t = this;
    let i = null, s = 0, c = !1, u = !1;
    const f = new ea(), b = new en(), C = { value: null, needsUpdate: !1 };
    this.uniform = C, this.numPlanes = 0, this.numIntersection = 0, this.init = function(I, A) {
      const E = I.length !== 0 || A || // enable state of previous frame - the clipping code has to
      // run another frame in order to reset the state:
      s !== 0 || c;
      return c = A, s = I.length, E;
    }, this.beginShadows = function() {
      u = !0, N(null);
    }, this.endShadows = function() {
      u = !1;
    }, this.setGlobalState = function(I, A) {
      i = N(I, A, 0);
    }, this.setState = function(I, A, E) {
      const R = I.clippingPlanes, j = I.clipIntersection, O = I.clipShadows, P = m.get(I);
      if (!c || R === null || R.length === 0 || u && !O)
        u ? N(null) : _();
      else {
        const U = u ? 0 : s, k = U * 4;
        let V = P.clippingState || null;
        C.value = V, V = N(R, A, k, E);
        for (let me = 0; me !== k; ++me)
          V[me] = i[me];
        P.clippingState = V, this.numIntersection = j ? this.numPlanes : 0, this.numPlanes += U;
      }
    };
    function _() {
      C.value !== i && (C.value = i, C.needsUpdate = s > 0), t.numPlanes = s, t.numIntersection = 0;
    }
    function N(I, A, E, R) {
      const j = I !== null ? I.length : 0;
      let O = null;
      if (j !== 0) {
        if (O = C.value, R !== !0 || O === null) {
          const P = E + j * 4, U = A.matrixWorldInverse;
          b.getNormalMatrix(U), (O === null || O.length < P) && (O = new Float32Array(P));
          for (let k = 0, V = E; k !== j; ++k, V += 4)
            f.copy(I[k]).applyMatrix4(U, b), f.normal.toArray(O, V), O[V + 3] = f.constant;
        }
        C.value = O, C.needsUpdate = !0;
      }
      return t.numPlanes = j, t.numIntersection = 0, O;
    }
  }
  function R4(m) {
    let t = /* @__PURE__ */ new WeakMap();
    function i(f, b) {
      return b === Vo ? f.mapping = xi : b === Ho && (f.mapping = Ei), f;
    }
    function s(f) {
      if (f && f.isTexture) {
        const b = f.mapping;
        if (b === Vo || b === Ho)
          if (t.has(f)) {
            const C = t.get(f).texture;
            return i(C, f.mapping);
          } else {
            const C = f.image;
            if (C && C.height > 0) {
              const _ = new rm(C.height);
              return _.fromEquirectangularTexture(m, f), t.set(f, _), f.addEventListener("dispose", c), i(_.texture, f.mapping);
            } else
              return null;
          }
      }
      return f;
    }
    function c(f) {
      const b = f.target;
      b.removeEventListener("dispose", c);
      const C = t.get(b);
      C !== void 0 && (t.delete(b), C.dispose());
    }
    function u() {
      t = /* @__PURE__ */ new WeakMap();
    }
    return {
      get: s,
      dispose: u
    };
  }
  class Af extends sc {
    constructor(t = -1, i = 1, s = 1, c = -1, u = 0.1, f = 2e3) {
      super(), this.isOrthographicCamera = !0, this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = t, this.right = i, this.top = s, this.bottom = c, this.near = u, this.far = f, this.updateProjectionMatrix();
    }
    copy(t, i) {
      return super.copy(t, i), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this.view = t.view === null ? null : Object.assign({}, t.view), this;
    }
    setViewOffset(t, i, s, c, u, f) {
      this.view === null && (this.view = {
        enabled: !0,
        fullWidth: 1,
        fullHeight: 1,
        offsetX: 0,
        offsetY: 0,
        width: 1,
        height: 1
      }), this.view.enabled = !0, this.view.fullWidth = t, this.view.fullHeight = i, this.view.offsetX = s, this.view.offsetY = c, this.view.width = u, this.view.height = f, this.updateProjectionMatrix();
    }
    clearViewOffset() {
      this.view !== null && (this.view.enabled = !1), this.updateProjectionMatrix();
    }
    updateProjectionMatrix() {
      const t = (this.right - this.left) / (2 * this.zoom), i = (this.top - this.bottom) / (2 * this.zoom), s = (this.right + this.left) / 2, c = (this.top + this.bottom) / 2;
      let u = s - t, f = s + t, b = c + i, C = c - i;
      if (this.view !== null && this.view.enabled) {
        const _ = (this.right - this.left) / this.view.fullWidth / this.zoom, N = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
        u += _ * this.view.offsetX, f = u + _ * this.view.width, b -= N * this.view.offsetY, C = b - N * this.view.height;
      }
      this.projectionMatrix.makeOrthographic(u, f, b, C, this.near, this.far, this.coordinateSystem), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return i.object.zoom = this.zoom, i.object.left = this.left, i.object.right = this.right, i.object.top = this.top, i.object.bottom = this.bottom, i.object.near = this.near, i.object.far = this.far, this.view !== null && (i.object.view = Object.assign({}, this.view)), i;
    }
  }
  const Oh = 4, DC = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582], uc = 20, Rb = /* @__PURE__ */ new Af(), FC = /* @__PURE__ */ new Tt();
  let Bb = null, Ob = 0, Lb = 0, jb = !1;
  const dc = (1 + Math.sqrt(5)) / 2, Lh = 1 / dc, kC = [
    /* @__PURE__ */ new ie(-dc, Lh, 0),
    /* @__PURE__ */ new ie(dc, Lh, 0),
    /* @__PURE__ */ new ie(-Lh, 0, dc),
    /* @__PURE__ */ new ie(Lh, 0, dc),
    /* @__PURE__ */ new ie(0, dc, -Lh),
    /* @__PURE__ */ new ie(0, dc, Lh),
    /* @__PURE__ */ new ie(-1, 1, -1),
    /* @__PURE__ */ new ie(1, 1, -1),
    /* @__PURE__ */ new ie(-1, 1, 1),
    /* @__PURE__ */ new ie(1, 1, 1)
  ];
  class Db {
    constructor(t) {
      this._renderer = t, this._pingPongRenderTarget = null, this._lodMax = 0, this._cubeSize = 0, this._lodPlanes = [], this._sizeLods = [], this._sigmas = [], this._blurMaterial = null, this._cubemapMaterial = null, this._equirectMaterial = null, this._compileMaterial(this._blurMaterial);
    }
    /**
     * Generates a PMREM from a supplied Scene, which can be faster than using an
     * image if networking bandwidth is low. Optional sigma specifies a blur radius
     * in radians to be applied to the scene before PMREM generation. Optional near
     * and far planes ensure the scene is rendered in its entirety (the cubeCamera
     * is placed at the origin).
     */
    fromScene(t, i = 0, s = 0.1, c = 100) {
      Bb = this._renderer.getRenderTarget(), Ob = this._renderer.getActiveCubeFace(), Lb = this._renderer.getActiveMipmapLevel(), jb = this._renderer.xr.enabled, this._renderer.xr.enabled = !1, this._setSize(256);
      const u = this._allocateTargets();
      return u.depthBuffer = !0, this._sceneToCubeUV(t, s, c, u), i > 0 && this._blur(u, 0, 0, i), this._applyPMREM(u), this._cleanup(u), u;
    }
    /**
     * Generates a PMREM from an equirectangular texture, which can be either LDR
     * or HDR. The ideal input image size is 1k (1024 x 512),
     * as this matches best with the 256 x 256 cubemap output.
     * The smallest supported equirectangular image size is 64 x 32.
     */
    fromEquirectangular(t, i = null) {
      return this._fromTexture(t, i);
    }
    /**
     * Generates a PMREM from an cubemap texture, which can be either LDR
     * or HDR. The ideal input cube size is 256 x 256,
     * as this matches best with the 256 x 256 cubemap output.
     * The smallest supported cube size is 16 x 16.
     */
    fromCubemap(t, i = null) {
      return this._fromTexture(t, i);
    }
    /**
     * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during
     * your texture's network fetch for increased concurrency.
     */
    compileCubemapShader() {
      this._cubemapMaterial === null && (this._cubemapMaterial = UC(), this._compileMaterial(this._cubemapMaterial));
    }
    /**
     * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during
     * your texture's network fetch for increased concurrency.
     */
    compileEquirectangularShader() {
      this._equirectMaterial === null && (this._equirectMaterial = zC(), this._compileMaterial(this._equirectMaterial));
    }
    /**
     * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,
     * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on
     * one of them will cause any others to also become unusable.
     */
    dispose() {
      this._dispose(), this._cubemapMaterial !== null && this._cubemapMaterial.dispose(), this._equirectMaterial !== null && this._equirectMaterial.dispose();
    }
    // private interface
    _setSize(t) {
      this._lodMax = Math.floor(Math.log2(t)), this._cubeSize = Math.pow(2, this._lodMax);
    }
    _dispose() {
      this._blurMaterial !== null && this._blurMaterial.dispose(), this._pingPongRenderTarget !== null && this._pingPongRenderTarget.dispose();
      for (let t = 0; t < this._lodPlanes.length; t++)
        this._lodPlanes[t].dispose();
    }
    _cleanup(t) {
      this._renderer.setRenderTarget(Bb, Ob, Lb), this._renderer.xr.enabled = jb, t.scissorTest = !1, Ef(t, 0, 0, t.width, t.height);
    }
    _fromTexture(t, i) {
      t.mapping === xi || t.mapping === Ei ? this._setSize(t.image.length === 0 ? 16 : t.image[0].width || t.image[0].image.width) : this._setSize(t.image.width / 4), Bb = this._renderer.getRenderTarget(), Ob = this._renderer.getActiveCubeFace(), Lb = this._renderer.getActiveMipmapLevel(), jb = this._renderer.xr.enabled, this._renderer.xr.enabled = !1;
      const s = i || this._allocateTargets();
      return this._textureToCubeUV(t, s), this._applyPMREM(s), this._cleanup(s), s;
    }
    _allocateTargets() {
      const t = 3 * Math.max(this._cubeSize, 112), i = 4 * this._cubeSize, s = {
        magFilter: pr,
        minFilter: pr,
        generateMipmaps: !1,
        type: Rl,
        format: ci,
        colorSpace: po,
        depthBuffer: !1
      }, c = XC(t, i, s);
      if (this._pingPongRenderTarget === null || this._pingPongRenderTarget.width !== t || this._pingPongRenderTarget.height !== i) {
        this._pingPongRenderTarget !== null && this._dispose(), this._pingPongRenderTarget = XC(t, i, s);
        const { _lodMax: u } = this;
        ({ sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = B4(u)), this._blurMaterial = O4(u, t, i);
      }
      return c;
    }
    _compileMaterial(t) {
      const i = new ur(this._lodPlanes[0], t);
      this._renderer.compile(i, Rb);
    }
    _sceneToCubeUV(t, i, s, c) {
      const b = new Tr(90, 1, i, s), C = [1, -1, 1, 1, 1, 1], _ = [1, 1, 1, -1, -1, -1], N = this._renderer, I = N.autoClear, A = N.toneMapping;
      N.getClearColor(FC), N.toneMapping = Er, N.autoClear = !1;
      const E = new Ji({
        name: "PMREM.Background",
        side: x,
        depthWrite: !1,
        depthTest: !1
      }), R = new ur(new ka(), E);
      let j = !1;
      const O = t.background;
      O ? O.isColor && (E.color.copy(O), t.background = null, j = !0) : (E.color.copy(FC), j = !0);
      for (let P = 0; P < 6; P++) {
        const U = P % 3;
        U === 0 ? (b.up.set(0, C[P], 0), b.lookAt(_[P], 0, 0)) : U === 1 ? (b.up.set(0, 0, C[P]), b.lookAt(0, _[P], 0)) : (b.up.set(0, C[P], 0), b.lookAt(0, 0, _[P]));
        const k = this._cubeSize;
        Ef(c, U * k, P > 2 ? k : 0, k, k), N.setRenderTarget(c), j && N.render(R, b), N.render(t, b);
      }
      R.geometry.dispose(), R.material.dispose(), N.toneMapping = A, N.autoClear = I, t.background = O;
    }
    _textureToCubeUV(t, i) {
      const s = this._renderer, c = t.mapping === xi || t.mapping === Ei;
      c ? (this._cubemapMaterial === null && (this._cubemapMaterial = UC()), this._cubemapMaterial.uniforms.flipEnvMap.value = t.isRenderTargetTexture === !1 ? -1 : 1) : this._equirectMaterial === null && (this._equirectMaterial = zC());
      const u = c ? this._cubemapMaterial : this._equirectMaterial, f = new ur(this._lodPlanes[0], u), b = u.uniforms;
      b.envMap.value = t;
      const C = this._cubeSize;
      Ef(i, 0, 0, 3 * C, 2 * C), s.setRenderTarget(i), s.render(f, Rb);
    }
    _applyPMREM(t) {
      const i = this._renderer, s = i.autoClear;
      i.autoClear = !1;
      const c = this._lodPlanes.length;
      for (let u = 1; u < c; u++) {
        const f = Math.sqrt(this._sigmas[u] * this._sigmas[u] - this._sigmas[u - 1] * this._sigmas[u - 1]), b = kC[(c - u - 1) % kC.length];
        this._blur(t, u - 1, u, f, b);
      }
      i.autoClear = s;
    }
    /**
     * This is a two-pass Gaussian blur for a cubemap. Normally this is done
     * vertically and horizontally, but this breaks down on a cube. Here we apply
     * the blur latitudinally (around the poles), and then longitudinally (towards
     * the poles) to approximate the orthogonally-separable blur. It is least
     * accurate at the poles, but still does a decent job.
     */
    _blur(t, i, s, c, u) {
      const f = this._pingPongRenderTarget;
      this._halfBlur(
        t,
        f,
        i,
        s,
        c,
        "latitudinal",
        u
      ), this._halfBlur(
        f,
        t,
        s,
        s,
        c,
        "longitudinal",
        u
      );
    }
    _halfBlur(t, i, s, c, u, f, b) {
      const C = this._renderer, _ = this._blurMaterial;
      f !== "latitudinal" && f !== "longitudinal" && console.error(
        "blur direction must be either latitudinal or longitudinal!"
      );
      const N = 3, I = new ur(this._lodPlanes[c], _), A = _.uniforms, E = this._sizeLods[s] - 1, R = isFinite(u) ? Math.PI / (2 * E) : 2 * Math.PI / (2 * uc - 1), j = u / R, O = isFinite(u) ? 1 + Math.floor(N * j) : uc;
      O > uc && console.warn(`sigmaRadians, ${u}, is too large and will clip, as it requested ${O} samples when the maximum is set to ${uc}`);
      const P = [];
      let U = 0;
      for (let le = 0; le < uc; ++le) {
        const ye = le / j, Z = Math.exp(-ye * ye / 2);
        P.push(Z), le === 0 ? U += Z : le < O && (U += 2 * Z);
      }
      for (let le = 0; le < P.length; le++)
        P[le] = P[le] / U;
      A.envMap.value = t.texture, A.samples.value = O, A.weights.value = P, A.latitudinal.value = f === "latitudinal", b && (A.poleAxis.value = b);
      const { _lodMax: k } = this;
      A.dTheta.value = R, A.mipInt.value = k - s;
      const V = this._sizeLods[c], me = 3 * V * (c > k - Oh ? c - k + Oh : 0), ee = 4 * (this._cubeSize - V);
      Ef(i, me, ee, 3 * V, 2 * V), C.setRenderTarget(i), C.render(I, Rb);
    }
  }
  function B4(m) {
    const t = [], i = [], s = [];
    let c = m;
    const u = m - Oh + 1 + DC.length;
    for (let f = 0; f < u; f++) {
      const b = Math.pow(2, c);
      i.push(b);
      let C = 1 / b;
      f > m - Oh ? C = DC[f - m + Oh - 1] : f === 0 && (C = 0), s.push(C);
      const _ = 1 / (b - 2), N = -_, I = 1 + _, A = [N, N, I, N, I, I, N, N, I, I, N, I], E = 6, R = 6, j = 3, O = 2, P = 1, U = new Float32Array(j * R * E), k = new Float32Array(O * R * E), V = new Float32Array(P * R * E);
      for (let ee = 0; ee < E; ee++) {
        const le = ee % 3 * 2 / 3 - 1, ye = ee > 2 ? 0 : -1, Z = [
          le,
          ye,
          0,
          le + 2 / 3,
          ye,
          0,
          le + 2 / 3,
          ye + 1,
          0,
          le,
          ye,
          0,
          le + 2 / 3,
          ye + 1,
          0,
          le,
          ye + 1,
          0
        ];
        U.set(Z, j * R * ee), k.set(A, O * R * ee);
        const H = [ee, ee, ee, ee, ee, ee];
        V.set(H, P * R * ee);
      }
      const me = new tn();
      me.setAttribute("position", new on(U, j)), me.setAttribute("uv", new on(k, O)), me.setAttribute("faceIndex", new on(V, P)), t.push(me), c > Oh && c--;
    }
    return { lodPlanes: t, sizeLods: i, sigmas: s };
  }
  function XC(m, t, i) {
    const s = new wi(m, t, i);
    return s.texture.mapping = wa, s.texture.name = "PMREM.cubeUv", s.scissorTest = !0, s;
  }
  function Ef(m, t, i, s, c) {
    m.viewport.set(t, i, s, c), m.scissor.set(t, i, s, c);
  }
  function O4(m, t, i) {
    const s = new Float32Array(uc), c = new ie(0, 1, 0);
    return new Oi({
      name: "SphericalGaussianBlur",
      defines: {
        n: uc,
        CUBEUV_TEXEL_WIDTH: 1 / t,
        CUBEUV_TEXEL_HEIGHT: 1 / i,
        CUBEUV_MAX_MIP: `${m}.0`
      },
      uniforms: {
        envMap: { value: null },
        samples: { value: 1 },
        weights: { value: s },
        latitudinal: { value: !1 },
        dTheta: { value: 0 },
        mipInt: { value: 0 },
        poleAxis: { value: c }
      },
      vertexShader: Fb(),
      fragmentShader: (
        /* glsl */
        `

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`
      ),
      blending: T,
      depthTest: !1,
      depthWrite: !1
    });
  }
  function zC() {
    return new Oi({
      name: "EquirectangularToCubeUV",
      uniforms: {
        envMap: { value: null }
      },
      vertexShader: Fb(),
      fragmentShader: (
        /* glsl */
        `

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`
      ),
      blending: T,
      depthTest: !1,
      depthWrite: !1
    });
  }
  function UC() {
    return new Oi({
      name: "CubemapToCubeUV",
      uniforms: {
        envMap: { value: null },
        flipEnvMap: { value: -1 }
      },
      vertexShader: Fb(),
      fragmentShader: (
        /* glsl */
        `

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`
      ),
      blending: T,
      depthTest: !1,
      depthWrite: !1
    });
  }
  function Fb() {
    return (
      /* glsl */
      `

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`
    );
  }
  function L4(m) {
    let t = /* @__PURE__ */ new WeakMap(), i = null;
    function s(b) {
      if (b && b.isTexture) {
        const C = b.mapping, _ = C === Vo || C === Ho, N = C === xi || C === Ei;
        if (_ || N) {
          let I = t.get(b);
          const A = I !== void 0 ? I.texture.pmremVersion : 0;
          if (b.isRenderTargetTexture && b.pmremVersion !== A)
            return i === null && (i = new Db(m)), I = _ ? i.fromEquirectangular(b, I) : i.fromCubemap(b, I), I.texture.pmremVersion = b.pmremVersion, t.set(b, I), I.texture;
          if (I !== void 0)
            return I.texture;
          {
            const E = b.image;
            return _ && E && E.height > 0 || N && E && c(E) ? (i === null && (i = new Db(m)), I = _ ? i.fromEquirectangular(b) : i.fromCubemap(b), I.texture.pmremVersion = b.pmremVersion, t.set(b, I), b.addEventListener("dispose", u), I.texture) : null;
          }
        }
      }
      return b;
    }
    function c(b) {
      let C = 0;
      const _ = 6;
      for (let N = 0; N < _; N++)
        b[N] !== void 0 && C++;
      return C === _;
    }
    function u(b) {
      const C = b.target;
      C.removeEventListener("dispose", u);
      const _ = t.get(C);
      _ !== void 0 && (t.delete(C), _.dispose());
    }
    function f() {
      t = /* @__PURE__ */ new WeakMap(), i !== null && (i.dispose(), i = null);
    }
    return {
      get: s,
      dispose: f
    };
  }
  function j4(m) {
    const t = {};
    function i(s) {
      if (t[s] !== void 0)
        return t[s];
      let c;
      switch (s) {
        case "WEBGL_depth_texture":
          c = m.getExtension("WEBGL_depth_texture") || m.getExtension("MOZ_WEBGL_depth_texture") || m.getExtension("WEBKIT_WEBGL_depth_texture");
          break;
        case "EXT_texture_filter_anisotropic":
          c = m.getExtension("EXT_texture_filter_anisotropic") || m.getExtension("MOZ_EXT_texture_filter_anisotropic") || m.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
          break;
        case "WEBGL_compressed_texture_s3tc":
          c = m.getExtension("WEBGL_compressed_texture_s3tc") || m.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || m.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
          break;
        case "WEBGL_compressed_texture_pvrtc":
          c = m.getExtension("WEBGL_compressed_texture_pvrtc") || m.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
          break;
        default:
          c = m.getExtension(s);
      }
      return t[s] = c, c;
    }
    return {
      has: function(s) {
        return i(s) !== null;
      },
      init: function() {
        i("EXT_color_buffer_float"), i("WEBGL_clip_cull_distance"), i("OES_texture_float_linear"), i("EXT_color_buffer_half_float"), i("WEBGL_multisampled_render_to_texture"), i("WEBGL_render_shared_exponent");
      },
      get: function(s) {
        const c = i(s);
        return c === null && console.warn("THREE.WebGLRenderer: " + s + " extension not supported."), c;
      }
    };
  }
  function D4(m, t, i, s) {
    const c = {}, u = /* @__PURE__ */ new WeakMap();
    function f(I) {
      const A = I.target;
      A.index !== null && t.remove(A.index);
      for (const R in A.attributes)
        t.remove(A.attributes[R]);
      for (const R in A.morphAttributes) {
        const j = A.morphAttributes[R];
        for (let O = 0, P = j.length; O < P; O++)
          t.remove(j[O]);
      }
      A.removeEventListener("dispose", f), delete c[A.id];
      const E = u.get(A);
      E && (t.remove(E), u.delete(A)), s.releaseStatesOfGeometry(A), A.isInstancedBufferGeometry === !0 && delete A._maxInstanceCount, i.memory.geometries--;
    }
    function b(I, A) {
      return c[A.id] === !0 || (A.addEventListener("dispose", f), c[A.id] = !0, i.memory.geometries++), A;
    }
    function C(I) {
      const A = I.attributes;
      for (const R in A)
        t.update(A[R], m.ARRAY_BUFFER);
      const E = I.morphAttributes;
      for (const R in E) {
        const j = E[R];
        for (let O = 0, P = j.length; O < P; O++)
          t.update(j[O], m.ARRAY_BUFFER);
      }
    }
    function _(I) {
      const A = [], E = I.index, R = I.attributes.position;
      let j = 0;
      if (E !== null) {
        const U = E.array;
        j = E.version;
        for (let k = 0, V = U.length; k < V; k += 3) {
          const me = U[k + 0], ee = U[k + 1], le = U[k + 2];
          A.push(me, ee, ee, le, le, me);
        }
      } else if (R !== void 0) {
        const U = R.array;
        j = R.version;
        for (let k = 0, V = U.length / 3 - 1; k < V; k += 3) {
          const me = k + 0, ee = k + 1, le = k + 2;
          A.push(me, ee, ee, le, le, me);
        }
      } else
        return;
      const O = new (cf(A) ? Zd : Kd)(A, 1);
      O.version = j;
      const P = u.get(I);
      P && t.remove(P), u.set(I, O);
    }
    function N(I) {
      const A = u.get(I);
      if (A) {
        const E = I.index;
        E !== null && A.version < E.version && _(I);
      } else
        _(I);
      return u.get(I);
    }
    return {
      get: b,
      update: C,
      getWireframeAttribute: N
    };
  }
  function F4(m, t, i) {
    let s;
    function c(A) {
      s = A;
    }
    let u, f;
    function b(A) {
      u = A.type, f = A.bytesPerElement;
    }
    function C(A, E) {
      m.drawElements(s, E, u, A * f), i.update(E, s, 1);
    }
    function _(A, E, R) {
      R !== 0 && (m.drawElementsInstanced(s, E, u, A * f, R), i.update(E, s, R));
    }
    function N(A, E, R) {
      if (R === 0)
        return;
      const j = t.get("WEBGL_multi_draw");
      if (j === null)
        for (let O = 0; O < R; O++)
          this.render(A[O] / f, E[O]);
      else {
        j.multiDrawElementsWEBGL(s, E, 0, u, A, 0, R);
        let O = 0;
        for (let P = 0; P < R; P++)
          O += E[P];
        i.update(O, s, 1);
      }
    }
    function I(A, E, R, j) {
      if (R === 0)
        return;
      const O = t.get("WEBGL_multi_draw");
      if (O === null)
        for (let P = 0; P < A.length; P++)
          _(A[P] / f, E[P], j[P]);
      else {
        O.multiDrawElementsInstancedWEBGL(s, E, 0, u, A, 0, j, 0, R);
        let P = 0;
        for (let U = 0; U < R; U++)
          P += E[U];
        for (let U = 0; U < j.length; U++)
          i.update(P, s, j[U]);
      }
    }
    this.setMode = c, this.setIndex = b, this.render = C, this.renderInstances = _, this.renderMultiDraw = N, this.renderMultiDrawInstances = I;
  }
  function k4(m) {
    const t = {
      geometries: 0,
      textures: 0
    }, i = {
      frame: 0,
      calls: 0,
      triangles: 0,
      points: 0,
      lines: 0
    };
    function s(u, f, b) {
      switch (i.calls++, f) {
        case m.TRIANGLES:
          i.triangles += b * (u / 3);
          break;
        case m.LINES:
          i.lines += b * (u / 2);
          break;
        case m.LINE_STRIP:
          i.lines += b * (u - 1);
          break;
        case m.LINE_LOOP:
          i.lines += b * u;
          break;
        case m.POINTS:
          i.points += b * u;
          break;
        default:
          console.error("THREE.WebGLInfo: Unknown draw mode:", f);
          break;
      }
    }
    function c() {
      i.calls = 0, i.triangles = 0, i.points = 0, i.lines = 0;
    }
    return {
      memory: t,
      render: i,
      programs: null,
      autoReset: !0,
      reset: c,
      update: s
    };
  }
  function X4(m, t, i) {
    const s = /* @__PURE__ */ new WeakMap(), c = new kn();
    function u(f, b, C) {
      const _ = f.morphTargetInfluences, N = b.morphAttributes.position || b.morphAttributes.normal || b.morphAttributes.color, I = N !== void 0 ? N.length : 0;
      let A = s.get(b);
      if (A === void 0 || A.count !== I) {
        let Z = function() {
          le.dispose(), s.delete(b), b.removeEventListener("dispose", Z);
        };
        A !== void 0 && A.texture.dispose();
        const E = b.morphAttributes.position !== void 0, R = b.morphAttributes.normal !== void 0, j = b.morphAttributes.color !== void 0, O = b.morphAttributes.position || [], P = b.morphAttributes.normal || [], U = b.morphAttributes.color || [];
        let k = 0;
        E === !0 && (k = 1), R === !0 && (k = 2), j === !0 && (k = 3);
        let V = b.attributes.position.count * k, me = 1;
        V > t.maxTextureSize && (me = Math.ceil(V / t.maxTextureSize), V = t.maxTextureSize);
        const ee = new Float32Array(V * me * 4 * I), le = new $l(ee, V, me, I);
        le.type = _i, le.needsUpdate = !0;
        const ye = k * 4;
        for (let H = 0; H < I; H++) {
          const Te = O[H], ke = P[H], Ce = U[H], Le = V * me * 4 * H;
          for (let Ve = 0; Ve < Te.count; Ve++) {
            const Ze = Ve * ye;
            E === !0 && (c.fromBufferAttribute(Te, Ve), ee[Le + Ze + 0] = c.x, ee[Le + Ze + 1] = c.y, ee[Le + Ze + 2] = c.z, ee[Le + Ze + 3] = 0), R === !0 && (c.fromBufferAttribute(ke, Ve), ee[Le + Ze + 4] = c.x, ee[Le + Ze + 5] = c.y, ee[Le + Ze + 6] = c.z, ee[Le + Ze + 7] = 0), j === !0 && (c.fromBufferAttribute(Ce, Ve), ee[Le + Ze + 8] = c.x, ee[Le + Ze + 9] = c.y, ee[Le + Ze + 10] = c.z, ee[Le + Ze + 11] = Ce.itemSize === 4 ? c.w : 1);
          }
        }
        A = {
          count: I,
          texture: le,
          size: new $e(V, me)
        }, s.set(b, A), b.addEventListener("dispose", Z);
      }
      if (f.isInstancedMesh === !0 && f.morphTexture !== null)
        C.getUniforms().setValue(m, "morphTexture", f.morphTexture, i);
      else {
        let E = 0;
        for (let j = 0; j < _.length; j++)
          E += _[j];
        const R = b.morphTargetsRelative ? 1 : 1 - E;
        C.getUniforms().setValue(m, "morphTargetBaseInfluence", R), C.getUniforms().setValue(m, "morphTargetInfluences", _);
      }
      C.getUniforms().setValue(m, "morphTargetsTexture", A.texture, i), C.getUniforms().setValue(m, "morphTargetsTextureSize", A.size);
    }
    return {
      update: u
    };
  }
  function z4(m, t, i, s) {
    let c = /* @__PURE__ */ new WeakMap();
    function u(C) {
      const _ = s.render.frame, N = C.geometry, I = t.get(C, N);
      if (c.get(I) !== _ && (t.update(I), c.set(I, _)), C.isInstancedMesh && (C.hasEventListener("dispose", b) === !1 && C.addEventListener("dispose", b), c.get(C) !== _ && (i.update(C.instanceMatrix, m.ARRAY_BUFFER), C.instanceColor !== null && i.update(C.instanceColor, m.ARRAY_BUFFER), c.set(C, _))), C.isSkinnedMesh) {
        const A = C.skeleton;
        c.get(A) !== _ && (A.update(), c.set(A, _));
      }
      return I;
    }
    function f() {
      c = /* @__PURE__ */ new WeakMap();
    }
    function b(C) {
      const _ = C.target;
      _.removeEventListener("dispose", b), i.remove(_.instanceMatrix), _.instanceColor !== null && i.remove(_.instanceColor);
    }
    return {
      update: u,
      dispose: f
    };
  }
  class kb extends lr {
    constructor(t, i, s, c, u, f, b, C, _, N) {
      if (N = N !== void 0 ? N : Ma, N !== Ma && N !== _s)
        throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
      s === void 0 && N === Ma && (s = Na), s === void 0 && N === _s && (s = Cs), super(null, c, u, f, b, C, N, s, _), this.isDepthTexture = !0, this.image = { width: t, height: i }, this.magFilter = b !== void 0 ? b : yr, this.minFilter = C !== void 0 ? C : yr, this.flipY = !1, this.generateMipmaps = !1, this.compareFunction = null;
    }
    copy(t) {
      return super.copy(t), this.compareFunction = t.compareFunction, this;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return this.compareFunction !== null && (i.compareFunction = this.compareFunction), i;
    }
  }
  const GC = /* @__PURE__ */ new lr(), WC = /* @__PURE__ */ new kb(1, 1);
  WC.compareFunction = Rd;
  const VC = /* @__PURE__ */ new $l(), HC = /* @__PURE__ */ new kd(), $C = /* @__PURE__ */ new za(), qC = [], YC = [], KC = new Float32Array(16), ZC = new Float32Array(9), JC = new Float32Array(4);
  function jh(m, t, i) {
    const s = m[0];
    if (s <= 0 || s > 0)
      return m;
    const c = t * i;
    let u = qC[c];
    if (u === void 0 && (u = new Float32Array(c), qC[c] = u), t !== 0) {
      s.toArray(u, 0);
      for (let f = 1, b = 0; f !== t; ++f)
        b += i, m[f].toArray(u, b);
    }
    return u;
  }
  function Or(m, t) {
    if (m.length !== t.length)
      return !1;
    for (let i = 0, s = m.length; i < s; i++)
      if (m[i] !== t[i])
        return !1;
    return !0;
  }
  function Lr(m, t) {
    for (let i = 0, s = t.length; i < s; i++)
      m[i] = t[i];
  }
  function Pf(m, t) {
    let i = YC[t];
    i === void 0 && (i = new Int32Array(t), YC[t] = i);
    for (let s = 0; s !== t; ++s)
      i[s] = m.allocateTextureUnit();
    return i;
  }
  function U4(m, t) {
    const i = this.cache;
    i[0] !== t && (m.uniform1f(this.addr, t), i[0] = t);
  }
  function G4(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y) && (m.uniform2f(this.addr, t.x, t.y), i[0] = t.x, i[1] = t.y);
    else {
      if (Or(i, t))
        return;
      m.uniform2fv(this.addr, t), Lr(i, t);
    }
  }
  function W4(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y || i[2] !== t.z) && (m.uniform3f(this.addr, t.x, t.y, t.z), i[0] = t.x, i[1] = t.y, i[2] = t.z);
    else if (t.r !== void 0)
      (i[0] !== t.r || i[1] !== t.g || i[2] !== t.b) && (m.uniform3f(this.addr, t.r, t.g, t.b), i[0] = t.r, i[1] = t.g, i[2] = t.b);
    else {
      if (Or(i, t))
        return;
      m.uniform3fv(this.addr, t), Lr(i, t);
    }
  }
  function V4(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y || i[2] !== t.z || i[3] !== t.w) && (m.uniform4f(this.addr, t.x, t.y, t.z, t.w), i[0] = t.x, i[1] = t.y, i[2] = t.z, i[3] = t.w);
    else {
      if (Or(i, t))
        return;
      m.uniform4fv(this.addr, t), Lr(i, t);
    }
  }
  function H4(m, t) {
    const i = this.cache, s = t.elements;
    if (s === void 0) {
      if (Or(i, t))
        return;
      m.uniformMatrix2fv(this.addr, !1, t), Lr(i, t);
    } else {
      if (Or(i, s))
        return;
      JC.set(s), m.uniformMatrix2fv(this.addr, !1, JC), Lr(i, s);
    }
  }
  function $4(m, t) {
    const i = this.cache, s = t.elements;
    if (s === void 0) {
      if (Or(i, t))
        return;
      m.uniformMatrix3fv(this.addr, !1, t), Lr(i, t);
    } else {
      if (Or(i, s))
        return;
      ZC.set(s), m.uniformMatrix3fv(this.addr, !1, ZC), Lr(i, s);
    }
  }
  function q4(m, t) {
    const i = this.cache, s = t.elements;
    if (s === void 0) {
      if (Or(i, t))
        return;
      m.uniformMatrix4fv(this.addr, !1, t), Lr(i, t);
    } else {
      if (Or(i, s))
        return;
      KC.set(s), m.uniformMatrix4fv(this.addr, !1, KC), Lr(i, s);
    }
  }
  function Y4(m, t) {
    const i = this.cache;
    i[0] !== t && (m.uniform1i(this.addr, t), i[0] = t);
  }
  function K4(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y) && (m.uniform2i(this.addr, t.x, t.y), i[0] = t.x, i[1] = t.y);
    else {
      if (Or(i, t))
        return;
      m.uniform2iv(this.addr, t), Lr(i, t);
    }
  }
  function Z4(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y || i[2] !== t.z) && (m.uniform3i(this.addr, t.x, t.y, t.z), i[0] = t.x, i[1] = t.y, i[2] = t.z);
    else {
      if (Or(i, t))
        return;
      m.uniform3iv(this.addr, t), Lr(i, t);
    }
  }
  function J4(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y || i[2] !== t.z || i[3] !== t.w) && (m.uniform4i(this.addr, t.x, t.y, t.z, t.w), i[0] = t.x, i[1] = t.y, i[2] = t.z, i[3] = t.w);
    else {
      if (Or(i, t))
        return;
      m.uniform4iv(this.addr, t), Lr(i, t);
    }
  }
  function Q4(m, t) {
    const i = this.cache;
    i[0] !== t && (m.uniform1ui(this.addr, t), i[0] = t);
  }
  function eP(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y) && (m.uniform2ui(this.addr, t.x, t.y), i[0] = t.x, i[1] = t.y);
    else {
      if (Or(i, t))
        return;
      m.uniform2uiv(this.addr, t), Lr(i, t);
    }
  }
  function tP(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y || i[2] !== t.z) && (m.uniform3ui(this.addr, t.x, t.y, t.z), i[0] = t.x, i[1] = t.y, i[2] = t.z);
    else {
      if (Or(i, t))
        return;
      m.uniform3uiv(this.addr, t), Lr(i, t);
    }
  }
  function nP(m, t) {
    const i = this.cache;
    if (t.x !== void 0)
      (i[0] !== t.x || i[1] !== t.y || i[2] !== t.z || i[3] !== t.w) && (m.uniform4ui(this.addr, t.x, t.y, t.z, t.w), i[0] = t.x, i[1] = t.y, i[2] = t.z, i[3] = t.w);
    else {
      if (Or(i, t))
        return;
      m.uniform4uiv(this.addr, t), Lr(i, t);
    }
  }
  function rP(m, t, i) {
    const s = this.cache, c = i.allocateTextureUnit();
    s[0] !== c && (m.uniform1i(this.addr, c), s[0] = c);
    const u = this.type === m.SAMPLER_2D_SHADOW ? WC : GC;
    i.setTexture2D(t || u, c);
  }
  function iP(m, t, i) {
    const s = this.cache, c = i.allocateTextureUnit();
    s[0] !== c && (m.uniform1i(this.addr, c), s[0] = c), i.setTexture3D(t || HC, c);
  }
  function oP(m, t, i) {
    const s = this.cache, c = i.allocateTextureUnit();
    s[0] !== c && (m.uniform1i(this.addr, c), s[0] = c), i.setTextureCube(t || $C, c);
  }
  function aP(m, t, i) {
    const s = this.cache, c = i.allocateTextureUnit();
    s[0] !== c && (m.uniform1i(this.addr, c), s[0] = c), i.setTexture2DArray(t || VC, c);
  }
  function sP(m) {
    switch (m) {
      case 5126:
        return U4;
      case 35664:
        return G4;
      case 35665:
        return W4;
      case 35666:
        return V4;
      case 35674:
        return H4;
      case 35675:
        return $4;
      case 35676:
        return q4;
      case 5124:
      case 35670:
        return Y4;
      case 35667:
      case 35671:
        return K4;
      case 35668:
      case 35672:
        return Z4;
      case 35669:
      case 35673:
        return J4;
      case 5125:
        return Q4;
      case 36294:
        return eP;
      case 36295:
        return tP;
      case 36296:
        return nP;
      case 35678:
      case 36198:
      case 36298:
      case 36306:
      case 35682:
        return rP;
      case 35679:
      case 36299:
      case 36307:
        return iP;
      case 35680:
      case 36300:
      case 36308:
      case 36293:
        return oP;
      case 36289:
      case 36303:
      case 36311:
      case 36292:
        return aP;
    }
  }
  function lP(m, t) {
    m.uniform1fv(this.addr, t);
  }
  function cP(m, t) {
    const i = jh(t, this.size, 2);
    m.uniform2fv(this.addr, i);
  }
  function hP(m, t) {
    const i = jh(t, this.size, 3);
    m.uniform3fv(this.addr, i);
  }
  function uP(m, t) {
    const i = jh(t, this.size, 4);
    m.uniform4fv(this.addr, i);
  }
  function dP(m, t) {
    const i = jh(t, this.size, 4);
    m.uniformMatrix2fv(this.addr, !1, i);
  }
  function mP(m, t) {
    const i = jh(t, this.size, 9);
    m.uniformMatrix3fv(this.addr, !1, i);
  }
  function pP(m, t) {
    const i = jh(t, this.size, 16);
    m.uniformMatrix4fv(this.addr, !1, i);
  }
  function fP(m, t) {
    m.uniform1iv(this.addr, t);
  }
  function gP(m, t) {
    m.uniform2iv(this.addr, t);
  }
  function bP(m, t) {
    m.uniform3iv(this.addr, t);
  }
  function vP(m, t) {
    m.uniform4iv(this.addr, t);
  }
  function yP(m, t) {
    m.uniform1uiv(this.addr, t);
  }
  function xP(m, t) {
    m.uniform2uiv(this.addr, t);
  }
  function CP(m, t) {
    m.uniform3uiv(this.addr, t);
  }
  function _P(m, t) {
    m.uniform4uiv(this.addr, t);
  }
  function wP(m, t, i) {
    const s = this.cache, c = t.length, u = Pf(i, c);
    Or(s, u) || (m.uniform1iv(this.addr, u), Lr(s, u));
    for (let f = 0; f !== c; ++f)
      i.setTexture2D(t[f] || GC, u[f]);
  }
  function TP(m, t, i) {
    const s = this.cache, c = t.length, u = Pf(i, c);
    Or(s, u) || (m.uniform1iv(this.addr, u), Lr(s, u));
    for (let f = 0; f !== c; ++f)
      i.setTexture3D(t[f] || HC, u[f]);
  }
  function NP(m, t, i) {
    const s = this.cache, c = t.length, u = Pf(i, c);
    Or(s, u) || (m.uniform1iv(this.addr, u), Lr(s, u));
    for (let f = 0; f !== c; ++f)
      i.setTextureCube(t[f] || $C, u[f]);
  }
  function MP(m, t, i) {
    const s = this.cache, c = t.length, u = Pf(i, c);
    Or(s, u) || (m.uniform1iv(this.addr, u), Lr(s, u));
    for (let f = 0; f !== c; ++f)
      i.setTexture2DArray(t[f] || VC, u[f]);
  }
  function SP(m) {
    switch (m) {
      case 5126:
        return lP;
      case 35664:
        return cP;
      case 35665:
        return hP;
      case 35666:
        return uP;
      case 35674:
        return dP;
      case 35675:
        return mP;
      case 35676:
        return pP;
      case 5124:
      case 35670:
        return fP;
      case 35667:
      case 35671:
        return gP;
      case 35668:
      case 35672:
        return bP;
      case 35669:
      case 35673:
        return vP;
      case 5125:
        return yP;
      case 36294:
        return xP;
      case 36295:
        return CP;
      case 36296:
        return _P;
      case 35678:
      case 36198:
      case 36298:
      case 36306:
      case 35682:
        return wP;
      case 35679:
      case 36299:
      case 36307:
        return TP;
      case 35680:
      case 36300:
      case 36308:
      case 36293:
        return NP;
      case 36289:
      case 36303:
      case 36311:
      case 36292:
        return MP;
    }
  }
  class IP {
    constructor(t, i, s) {
      this.id = t, this.addr = s, this.cache = [], this.type = i.type, this.setValue = sP(i.type);
    }
  }
  class AP {
    constructor(t, i, s) {
      this.id = t, this.addr = s, this.cache = [], this.type = i.type, this.size = i.size, this.setValue = SP(i.type);
    }
  }
  class EP {
    constructor(t) {
      this.id = t, this.seq = [], this.map = {};
    }
    setValue(t, i, s) {
      const c = this.seq;
      for (let u = 0, f = c.length; u !== f; ++u) {
        const b = c[u];
        b.setValue(t, i[b.id], s);
      }
    }
  }
  const Xb = /(\w+)(\])?(\[|\.)?/g;
  function QC(m, t) {
    m.seq.push(t), m.map[t.id] = t;
  }
  function PP(m, t, i) {
    const s = m.name, c = s.length;
    for (Xb.lastIndex = 0; ; ) {
      const u = Xb.exec(s), f = Xb.lastIndex;
      let b = u[1];
      const C = u[2] === "]", _ = u[3];
      if (C && (b = b | 0), _ === void 0 || _ === "[" && f + 2 === c) {
        QC(i, _ === void 0 ? new IP(b, m, t) : new AP(b, m, t));
        break;
      } else {
        let I = i.map[b];
        I === void 0 && (I = new EP(b), QC(i, I)), i = I;
      }
    }
  }
  class Rf {
    constructor(t, i) {
      this.seq = [], this.map = {};
      const s = t.getProgramParameter(i, t.ACTIVE_UNIFORMS);
      for (let c = 0; c < s; ++c) {
        const u = t.getActiveUniform(i, c), f = t.getUniformLocation(i, u.name);
        PP(u, f, this);
      }
    }
    setValue(t, i, s, c) {
      const u = this.map[i];
      u !== void 0 && u.setValue(t, s, c);
    }
    setOptional(t, i, s) {
      const c = i[s];
      c !== void 0 && this.setValue(t, s, c);
    }
    static upload(t, i, s, c) {
      for (let u = 0, f = i.length; u !== f; ++u) {
        const b = i[u], C = s[b.id];
        C.needsUpdate !== !1 && b.setValue(t, C.value, c);
      }
    }
    static seqWithValue(t, i) {
      const s = [];
      for (let c = 0, u = t.length; c !== u; ++c) {
        const f = t[c];
        f.id in i && s.push(f);
      }
      return s;
    }
  }
  function e_(m, t, i) {
    const s = m.createShader(t);
    return m.shaderSource(s, i), m.compileShader(s), s;
  }
  const RP = 37297;
  let BP = 0;
  function OP(m, t) {
    const i = m.split(`
`), s = [], c = Math.max(t - 6, 0), u = Math.min(t + 6, i.length);
    for (let f = c; f < u; f++) {
      const b = f + 1;
      s.push(`${b === t ? ">" : " "} ${b}: ${i[f]}`);
    }
    return s.join(`
`);
  }
  function LP(m) {
    const t = Fn.getPrimaries(Fn.workingColorSpace), i = Fn.getPrimaries(m);
    let s;
    switch (t === i ? s = "" : t === zl && i === Ms ? s = "LinearDisplayP3ToLinearSRGB" : t === Ms && i === zl && (s = "LinearSRGBToLinearDisplayP3"), m) {
      case po:
      case Xl:
        return [s, "LinearTransferOETF"];
      case Pr:
      case fh:
        return [s, "sRGBTransferOETF"];
      default:
        return console.warn("THREE.WebGLProgram: Unsupported color space:", m), [s, "LinearTransferOETF"];
    }
  }
  function t_(m, t, i) {
    const s = m.getShaderParameter(t, m.COMPILE_STATUS), c = m.getShaderInfoLog(t).trim();
    if (s && c === "")
      return "";
    const u = /ERROR: 0:(\d+)/.exec(c);
    if (u) {
      const f = parseInt(u[1]);
      return i.toUpperCase() + `

` + c + `

` + OP(m.getShaderSource(t), f);
    } else
      return c;
  }
  function jP(m, t) {
    const i = LP(t);
    return `vec4 ${m}( vec4 value ) { return ${i[0]}( ${i[1]}( value ) ); }`;
  }
  function DP(m, t) {
    let i;
    switch (t) {
      case th:
        i = "Linear";
        break;
      case Wo:
        i = "Reinhard";
        break;
      case vs:
        i = "OptimizedCineon";
        break;
      case ys:
        i = "ACESFilmic";
        break;
      case Il:
        i = "AgX";
        break;
      case Ca:
        i = "Neutral";
        break;
      case xa:
        i = "Custom";
        break;
      default:
        console.warn("THREE.WebGLProgram: Unsupported toneMapping:", t), i = "Linear";
    }
    return "vec3 " + m + "( vec3 color ) { return " + i + "ToneMapping( color ); }";
  }
  function FP(m) {
    return [
      m.extensionClipCullDistance ? "#extension GL_ANGLE_clip_cull_distance : require" : "",
      m.extensionMultiDraw ? "#extension GL_ANGLE_multi_draw : require" : ""
    ].filter(am).join(`
`);
  }
  function kP(m) {
    const t = [];
    for (const i in m) {
      const s = m[i];
      s !== !1 && t.push("#define " + i + " " + s);
    }
    return t.join(`
`);
  }
  function XP(m, t) {
    const i = {}, s = m.getProgramParameter(t, m.ACTIVE_ATTRIBUTES);
    for (let c = 0; c < s; c++) {
      const u = m.getActiveAttrib(t, c), f = u.name;
      let b = 1;
      u.type === m.FLOAT_MAT2 && (b = 2), u.type === m.FLOAT_MAT3 && (b = 3), u.type === m.FLOAT_MAT4 && (b = 4), i[f] = {
        type: u.type,
        location: m.getAttribLocation(t, f),
        locationSize: b
      };
    }
    return i;
  }
  function am(m) {
    return m !== "";
  }
  function n_(m, t) {
    const i = t.numSpotLightShadows + t.numSpotLightMaps - t.numSpotLightShadowsWithMaps;
    return m.replace(/NUM_DIR_LIGHTS/g, t.numDirLights).replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g, t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g, i).replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, t.numPointLights).replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g, t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, t.numPointLightShadows);
  }
  function r_(m, t) {
    return m.replace(/NUM_CLIPPING_PLANES/g, t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, t.numClippingPlanes - t.numClipIntersection);
  }
  const zP = /^[ \t]*#include +<([\w\d./]+)>/gm;
  function zb(m) {
    return m.replace(zP, GP);
  }
  const UP = /* @__PURE__ */ new Map();
  function GP(m, t) {
    let i = ln[t];
    if (i === void 0) {
      const s = UP.get(t);
      if (s !== void 0)
        i = ln[s], console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.', t, s);
      else
        throw new Error("Can not resolve #include <" + t + ">");
    }
    return zb(i);
  }
  const WP = /#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;
  function i_(m) {
    return m.replace(WP, VP);
  }
  function VP(m, t, i, s) {
    let c = "";
    for (let u = parseInt(t); u < parseInt(i); u++)
      c += s.replace(/\[\s*i\s*\]/g, "[ " + u + " ]").replace(/UNROLLED_LOOP_INDEX/g, u);
    return c;
  }
  function o_(m) {
    let t = `precision ${m.precision} float;
	precision ${m.precision} int;
	precision ${m.precision} sampler2D;
	precision ${m.precision} samplerCube;
	precision ${m.precision} sampler3D;
	precision ${m.precision} sampler2DArray;
	precision ${m.precision} sampler2DShadow;
	precision ${m.precision} samplerCubeShadow;
	precision ${m.precision} sampler2DArrayShadow;
	precision ${m.precision} isampler2D;
	precision ${m.precision} isampler3D;
	precision ${m.precision} isamplerCube;
	precision ${m.precision} isampler2DArray;
	precision ${m.precision} usampler2D;
	precision ${m.precision} usampler3D;
	precision ${m.precision} usamplerCube;
	precision ${m.precision} usampler2DArray;
	`;
    return m.precision === "highp" ? t += `
#define HIGH_PRECISION` : m.precision === "mediump" ? t += `
#define MEDIUM_PRECISION` : m.precision === "lowp" && (t += `
#define LOW_PRECISION`), t;
  }
  function HP(m) {
    let t = "SHADOWMAP_TYPE_BASIC";
    return m.shadowMapType === p ? t = "SHADOWMAP_TYPE_PCF" : m.shadowMapType === g ? t = "SHADOWMAP_TYPE_PCF_SOFT" : m.shadowMapType === v && (t = "SHADOWMAP_TYPE_VSM"), t;
  }
  function $P(m) {
    let t = "ENVMAP_TYPE_CUBE";
    if (m.envMap)
      switch (m.envMapMode) {
        case xi:
        case Ei:
          t = "ENVMAP_TYPE_CUBE";
          break;
        case wa:
          t = "ENVMAP_TYPE_CUBE_UV";
          break;
      }
    return t;
  }
  function qP(m) {
    let t = "ENVMAP_MODE_REFLECTION";
    if (m.envMap)
      switch (m.envMapMode) {
        case Ei:
          t = "ENVMAP_MODE_REFRACTION";
          break;
      }
    return t;
  }
  function YP(m) {
    let t = "ENVMAP_BLENDING_NONE";
    if (m.envMap)
      switch (m.combine) {
        case at:
          t = "ENVMAP_BLENDING_MULTIPLY";
          break;
        case sr:
          t = "ENVMAP_BLENDING_MIX";
          break;
        case _r:
          t = "ENVMAP_BLENDING_ADD";
          break;
      }
    return t;
  }
  function KP(m) {
    const t = m.envMapCubeUVHeight;
    if (t === null)
      return null;
    const i = Math.log2(t) - 2, s = 1 / t;
    return { texelWidth: 1 / (3 * Math.max(Math.pow(2, i), 7 * 16)), texelHeight: s, maxMip: i };
  }
  function ZP(m, t, i, s) {
    const c = m.getContext(), u = i.defines;
    let f = i.vertexShader, b = i.fragmentShader;
    const C = HP(i), _ = $P(i), N = qP(i), I = YP(i), A = KP(i), E = FP(i), R = kP(u), j = c.createProgram();
    let O, P, U = i.glslVersion ? "#version " + i.glslVersion + `
` : "";
    i.isRawShaderMaterial ? (O = [
      "#define SHADER_TYPE " + i.shaderType,
      "#define SHADER_NAME " + i.shaderName,
      R
    ].filter(am).join(`
`), O.length > 0 && (O += `
`), P = [
      "#define SHADER_TYPE " + i.shaderType,
      "#define SHADER_NAME " + i.shaderName,
      R
    ].filter(am).join(`
`), P.length > 0 && (P += `
`)) : (O = [
      o_(i),
      "#define SHADER_TYPE " + i.shaderType,
      "#define SHADER_NAME " + i.shaderName,
      R,
      i.extensionClipCullDistance ? "#define USE_CLIP_DISTANCE" : "",
      i.batching ? "#define USE_BATCHING" : "",
      i.instancing ? "#define USE_INSTANCING" : "",
      i.instancingColor ? "#define USE_INSTANCING_COLOR" : "",
      i.instancingMorph ? "#define USE_INSTANCING_MORPH" : "",
      i.useFog && i.fog ? "#define USE_FOG" : "",
      i.useFog && i.fogExp2 ? "#define FOG_EXP2" : "",
      i.map ? "#define USE_MAP" : "",
      i.envMap ? "#define USE_ENVMAP" : "",
      i.envMap ? "#define " + N : "",
      i.lightMap ? "#define USE_LIGHTMAP" : "",
      i.aoMap ? "#define USE_AOMAP" : "",
      i.bumpMap ? "#define USE_BUMPMAP" : "",
      i.normalMap ? "#define USE_NORMALMAP" : "",
      i.normalMapObjectSpace ? "#define USE_NORMALMAP_OBJECTSPACE" : "",
      i.normalMapTangentSpace ? "#define USE_NORMALMAP_TANGENTSPACE" : "",
      i.displacementMap ? "#define USE_DISPLACEMENTMAP" : "",
      i.emissiveMap ? "#define USE_EMISSIVEMAP" : "",
      i.anisotropy ? "#define USE_ANISOTROPY" : "",
      i.anisotropyMap ? "#define USE_ANISOTROPYMAP" : "",
      i.clearcoatMap ? "#define USE_CLEARCOATMAP" : "",
      i.clearcoatRoughnessMap ? "#define USE_CLEARCOAT_ROUGHNESSMAP" : "",
      i.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "",
      i.iridescenceMap ? "#define USE_IRIDESCENCEMAP" : "",
      i.iridescenceThicknessMap ? "#define USE_IRIDESCENCE_THICKNESSMAP" : "",
      i.specularMap ? "#define USE_SPECULARMAP" : "",
      i.specularColorMap ? "#define USE_SPECULAR_COLORMAP" : "",
      i.specularIntensityMap ? "#define USE_SPECULAR_INTENSITYMAP" : "",
      i.roughnessMap ? "#define USE_ROUGHNESSMAP" : "",
      i.metalnessMap ? "#define USE_METALNESSMAP" : "",
      i.alphaMap ? "#define USE_ALPHAMAP" : "",
      i.alphaHash ? "#define USE_ALPHAHASH" : "",
      i.transmission ? "#define USE_TRANSMISSION" : "",
      i.transmissionMap ? "#define USE_TRANSMISSIONMAP" : "",
      i.thicknessMap ? "#define USE_THICKNESSMAP" : "",
      i.sheenColorMap ? "#define USE_SHEEN_COLORMAP" : "",
      i.sheenRoughnessMap ? "#define USE_SHEEN_ROUGHNESSMAP" : "",
      //
      i.mapUv ? "#define MAP_UV " + i.mapUv : "",
      i.alphaMapUv ? "#define ALPHAMAP_UV " + i.alphaMapUv : "",
      i.lightMapUv ? "#define LIGHTMAP_UV " + i.lightMapUv : "",
      i.aoMapUv ? "#define AOMAP_UV " + i.aoMapUv : "",
      i.emissiveMapUv ? "#define EMISSIVEMAP_UV " + i.emissiveMapUv : "",
      i.bumpMapUv ? "#define BUMPMAP_UV " + i.bumpMapUv : "",
      i.normalMapUv ? "#define NORMALMAP_UV " + i.normalMapUv : "",
      i.displacementMapUv ? "#define DISPLACEMENTMAP_UV " + i.displacementMapUv : "",
      i.metalnessMapUv ? "#define METALNESSMAP_UV " + i.metalnessMapUv : "",
      i.roughnessMapUv ? "#define ROUGHNESSMAP_UV " + i.roughnessMapUv : "",
      i.anisotropyMapUv ? "#define ANISOTROPYMAP_UV " + i.anisotropyMapUv : "",
      i.clearcoatMapUv ? "#define CLEARCOATMAP_UV " + i.clearcoatMapUv : "",
      i.clearcoatNormalMapUv ? "#define CLEARCOAT_NORMALMAP_UV " + i.clearcoatNormalMapUv : "",
      i.clearcoatRoughnessMapUv ? "#define CLEARCOAT_ROUGHNESSMAP_UV " + i.clearcoatRoughnessMapUv : "",
      i.iridescenceMapUv ? "#define IRIDESCENCEMAP_UV " + i.iridescenceMapUv : "",
      i.iridescenceThicknessMapUv ? "#define IRIDESCENCE_THICKNESSMAP_UV " + i.iridescenceThicknessMapUv : "",
      i.sheenColorMapUv ? "#define SHEEN_COLORMAP_UV " + i.sheenColorMapUv : "",
      i.sheenRoughnessMapUv ? "#define SHEEN_ROUGHNESSMAP_UV " + i.sheenRoughnessMapUv : "",
      i.specularMapUv ? "#define SPECULARMAP_UV " + i.specularMapUv : "",
      i.specularColorMapUv ? "#define SPECULAR_COLORMAP_UV " + i.specularColorMapUv : "",
      i.specularIntensityMapUv ? "#define SPECULAR_INTENSITYMAP_UV " + i.specularIntensityMapUv : "",
      i.transmissionMapUv ? "#define TRANSMISSIONMAP_UV " + i.transmissionMapUv : "",
      i.thicknessMapUv ? "#define THICKNESSMAP_UV " + i.thicknessMapUv : "",
      //
      i.vertexTangents && i.flatShading === !1 ? "#define USE_TANGENT" : "",
      i.vertexColors ? "#define USE_COLOR" : "",
      i.vertexAlphas ? "#define USE_COLOR_ALPHA" : "",
      i.vertexUv1s ? "#define USE_UV1" : "",
      i.vertexUv2s ? "#define USE_UV2" : "",
      i.vertexUv3s ? "#define USE_UV3" : "",
      i.pointsUvs ? "#define USE_POINTS_UV" : "",
      i.flatShading ? "#define FLAT_SHADED" : "",
      i.skinning ? "#define USE_SKINNING" : "",
      i.morphTargets ? "#define USE_MORPHTARGETS" : "",
      i.morphNormals && i.flatShading === !1 ? "#define USE_MORPHNORMALS" : "",
      i.morphColors ? "#define USE_MORPHCOLORS" : "",
      i.morphTargetsCount > 0 ? "#define MORPHTARGETS_TEXTURE" : "",
      i.morphTargetsCount > 0 ? "#define MORPHTARGETS_TEXTURE_STRIDE " + i.morphTextureStride : "",
      i.morphTargetsCount > 0 ? "#define MORPHTARGETS_COUNT " + i.morphTargetsCount : "",
      i.doubleSided ? "#define DOUBLE_SIDED" : "",
      i.flipSided ? "#define FLIP_SIDED" : "",
      i.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
      i.shadowMapEnabled ? "#define " + C : "",
      i.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "",
      i.numLightProbes > 0 ? "#define USE_LIGHT_PROBES" : "",
      i.useLegacyLights ? "#define LEGACY_LIGHTS" : "",
      i.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
      "uniform mat4 modelMatrix;",
      "uniform mat4 modelViewMatrix;",
      "uniform mat4 projectionMatrix;",
      "uniform mat4 viewMatrix;",
      "uniform mat3 normalMatrix;",
      "uniform vec3 cameraPosition;",
      "uniform bool isOrthographic;",
      "#ifdef USE_INSTANCING",
      "	attribute mat4 instanceMatrix;",
      "#endif",
      "#ifdef USE_INSTANCING_COLOR",
      "	attribute vec3 instanceColor;",
      "#endif",
      "#ifdef USE_INSTANCING_MORPH",
      "	uniform sampler2D morphTexture;",
      "#endif",
      "attribute vec3 position;",
      "attribute vec3 normal;",
      "attribute vec2 uv;",
      "#ifdef USE_UV1",
      "	attribute vec2 uv1;",
      "#endif",
      "#ifdef USE_UV2",
      "	attribute vec2 uv2;",
      "#endif",
      "#ifdef USE_UV3",
      "	attribute vec2 uv3;",
      "#endif",
      "#ifdef USE_TANGENT",
      "	attribute vec4 tangent;",
      "#endif",
      "#if defined( USE_COLOR_ALPHA )",
      "	attribute vec4 color;",
      "#elif defined( USE_COLOR )",
      "	attribute vec3 color;",
      "#endif",
      "#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )",
      "	attribute vec3 morphTarget0;",
      "	attribute vec3 morphTarget1;",
      "	attribute vec3 morphTarget2;",
      "	attribute vec3 morphTarget3;",
      "	#ifdef USE_MORPHNORMALS",
      "		attribute vec3 morphNormal0;",
      "		attribute vec3 morphNormal1;",
      "		attribute vec3 morphNormal2;",
      "		attribute vec3 morphNormal3;",
      "	#else",
      "		attribute vec3 morphTarget4;",
      "		attribute vec3 morphTarget5;",
      "		attribute vec3 morphTarget6;",
      "		attribute vec3 morphTarget7;",
      "	#endif",
      "#endif",
      "#ifdef USE_SKINNING",
      "	attribute vec4 skinIndex;",
      "	attribute vec4 skinWeight;",
      "#endif",
      `
`
    ].filter(am).join(`
`), P = [
      o_(i),
      "#define SHADER_TYPE " + i.shaderType,
      "#define SHADER_NAME " + i.shaderName,
      R,
      i.useFog && i.fog ? "#define USE_FOG" : "",
      i.useFog && i.fogExp2 ? "#define FOG_EXP2" : "",
      i.alphaToCoverage ? "#define ALPHA_TO_COVERAGE" : "",
      i.map ? "#define USE_MAP" : "",
      i.matcap ? "#define USE_MATCAP" : "",
      i.envMap ? "#define USE_ENVMAP" : "",
      i.envMap ? "#define " + _ : "",
      i.envMap ? "#define " + N : "",
      i.envMap ? "#define " + I : "",
      A ? "#define CUBEUV_TEXEL_WIDTH " + A.texelWidth : "",
      A ? "#define CUBEUV_TEXEL_HEIGHT " + A.texelHeight : "",
      A ? "#define CUBEUV_MAX_MIP " + A.maxMip + ".0" : "",
      i.lightMap ? "#define USE_LIGHTMAP" : "",
      i.aoMap ? "#define USE_AOMAP" : "",
      i.bumpMap ? "#define USE_BUMPMAP" : "",
      i.normalMap ? "#define USE_NORMALMAP" : "",
      i.normalMapObjectSpace ? "#define USE_NORMALMAP_OBJECTSPACE" : "",
      i.normalMapTangentSpace ? "#define USE_NORMALMAP_TANGENTSPACE" : "",
      i.emissiveMap ? "#define USE_EMISSIVEMAP" : "",
      i.anisotropy ? "#define USE_ANISOTROPY" : "",
      i.anisotropyMap ? "#define USE_ANISOTROPYMAP" : "",
      i.clearcoat ? "#define USE_CLEARCOAT" : "",
      i.clearcoatMap ? "#define USE_CLEARCOATMAP" : "",
      i.clearcoatRoughnessMap ? "#define USE_CLEARCOAT_ROUGHNESSMAP" : "",
      i.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "",
      i.dispersion ? "#define USE_DISPERSION" : "",
      i.iridescence ? "#define USE_IRIDESCENCE" : "",
      i.iridescenceMap ? "#define USE_IRIDESCENCEMAP" : "",
      i.iridescenceThicknessMap ? "#define USE_IRIDESCENCE_THICKNESSMAP" : "",
      i.specularMap ? "#define USE_SPECULARMAP" : "",
      i.specularColorMap ? "#define USE_SPECULAR_COLORMAP" : "",
      i.specularIntensityMap ? "#define USE_SPECULAR_INTENSITYMAP" : "",
      i.roughnessMap ? "#define USE_ROUGHNESSMAP" : "",
      i.metalnessMap ? "#define USE_METALNESSMAP" : "",
      i.alphaMap ? "#define USE_ALPHAMAP" : "",
      i.alphaTest ? "#define USE_ALPHATEST" : "",
      i.alphaHash ? "#define USE_ALPHAHASH" : "",
      i.sheen ? "#define USE_SHEEN" : "",
      i.sheenColorMap ? "#define USE_SHEEN_COLORMAP" : "",
      i.sheenRoughnessMap ? "#define USE_SHEEN_ROUGHNESSMAP" : "",
      i.transmission ? "#define USE_TRANSMISSION" : "",
      i.transmissionMap ? "#define USE_TRANSMISSIONMAP" : "",
      i.thicknessMap ? "#define USE_THICKNESSMAP" : "",
      i.vertexTangents && i.flatShading === !1 ? "#define USE_TANGENT" : "",
      i.vertexColors || i.instancingColor ? "#define USE_COLOR" : "",
      i.vertexAlphas ? "#define USE_COLOR_ALPHA" : "",
      i.vertexUv1s ? "#define USE_UV1" : "",
      i.vertexUv2s ? "#define USE_UV2" : "",
      i.vertexUv3s ? "#define USE_UV3" : "",
      i.pointsUvs ? "#define USE_POINTS_UV" : "",
      i.gradientMap ? "#define USE_GRADIENTMAP" : "",
      i.flatShading ? "#define FLAT_SHADED" : "",
      i.doubleSided ? "#define DOUBLE_SIDED" : "",
      i.flipSided ? "#define FLIP_SIDED" : "",
      i.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
      i.shadowMapEnabled ? "#define " + C : "",
      i.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "",
      i.numLightProbes > 0 ? "#define USE_LIGHT_PROBES" : "",
      i.useLegacyLights ? "#define LEGACY_LIGHTS" : "",
      i.decodeVideoTexture ? "#define DECODE_VIDEO_TEXTURE" : "",
      i.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
      "uniform mat4 viewMatrix;",
      "uniform vec3 cameraPosition;",
      "uniform bool isOrthographic;",
      i.toneMapping !== Er ? "#define TONE_MAPPING" : "",
      i.toneMapping !== Er ? ln.tonemapping_pars_fragment : "",
      // this code is required here because it is used by the toneMapping() function defined below
      i.toneMapping !== Er ? DP("toneMapping", i.toneMapping) : "",
      i.dithering ? "#define DITHERING" : "",
      i.opaque ? "#define OPAQUE" : "",
      ln.colorspace_pars_fragment,
      // this code is required here because it is used by the various encoding/decoding function defined below
      jP("linearToOutputTexel", i.outputColorSpace),
      i.useDepthPacking ? "#define DEPTH_PACKING " + i.depthPacking : "",
      `
`
    ].filter(am).join(`
`)), f = zb(f), f = n_(f, i), f = r_(f, i), b = zb(b), b = n_(b, i), b = r_(b, i), f = i_(f), b = i_(b), i.isRawShaderMaterial !== !0 && (U = `#version 300 es
`, O = [
      E,
      "#define attribute in",
      "#define varying out",
      "#define texture2D texture"
    ].join(`
`) + `
` + O, P = [
      "#define varying in",
      i.glslVersion === gh ? "" : "layout(location = 0) out highp vec4 pc_fragColor;",
      i.glslVersion === gh ? "" : "#define gl_FragColor pc_fragColor",
      "#define gl_FragDepthEXT gl_FragDepth",
      "#define texture2D texture",
      "#define textureCube texture",
      "#define texture2DProj textureProj",
      "#define texture2DLodEXT textureLod",
      "#define texture2DProjLodEXT textureProjLod",
      "#define textureCubeLodEXT textureLod",
      "#define texture2DGradEXT textureGrad",
      "#define texture2DProjGradEXT textureProjGrad",
      "#define textureCubeGradEXT textureGrad"
    ].join(`
`) + `
` + P);
    const k = U + O + f, V = U + P + b, me = e_(c, c.VERTEX_SHADER, k), ee = e_(c, c.FRAGMENT_SHADER, V);
    c.attachShader(j, me), c.attachShader(j, ee), i.index0AttributeName !== void 0 ? c.bindAttribLocation(j, 0, i.index0AttributeName) : i.morphTargets === !0 && c.bindAttribLocation(j, 0, "position"), c.linkProgram(j);
    function le(Te) {
      if (m.debug.checkShaderErrors) {
        const ke = c.getProgramInfoLog(j).trim(), Ce = c.getShaderInfoLog(me).trim(), Le = c.getShaderInfoLog(ee).trim();
        let Ve = !0, Ze = !0;
        if (c.getProgramParameter(j, c.LINK_STATUS) === !1)
          if (Ve = !1, typeof m.debug.onShaderError == "function")
            m.debug.onShaderError(c, j, me, ee);
          else {
            const vt = t_(c, me, "vertex"), ze = t_(c, ee, "fragment");
            console.error(
              "THREE.WebGLProgram: Shader Error " + c.getError() + " - VALIDATE_STATUS " + c.getProgramParameter(j, c.VALIDATE_STATUS) + `

Material Name: ` + Te.name + `
Material Type: ` + Te.type + `

Program Info Log: ` + ke + `
` + vt + `
` + ze
            );
          }
        else
          ke !== "" ? console.warn("THREE.WebGLProgram: Program Info Log:", ke) : (Ce === "" || Le === "") && (Ze = !1);
        Ze && (Te.diagnostics = {
          runnable: Ve,
          programLog: ke,
          vertexShader: {
            log: Ce,
            prefix: O
          },
          fragmentShader: {
            log: Le,
            prefix: P
          }
        });
      }
      c.deleteShader(me), c.deleteShader(ee), ye = new Rf(c, j), Z = XP(c, j);
    }
    let ye;
    this.getUniforms = function() {
      return ye === void 0 && le(this), ye;
    };
    let Z;
    this.getAttributes = function() {
      return Z === void 0 && le(this), Z;
    };
    let H = i.rendererExtensionParallelShaderCompile === !1;
    return this.isReady = function() {
      return H === !1 && (H = c.getProgramParameter(j, RP)), H;
    }, this.destroy = function() {
      s.releaseStatesOfProgram(this), c.deleteProgram(j), this.program = void 0;
    }, this.type = i.shaderType, this.name = i.shaderName, this.id = BP++, this.cacheKey = t, this.usedTimes = 1, this.program = j, this.vertexShader = me, this.fragmentShader = ee, this;
  }
  let JP = 0;
  class QP {
    constructor() {
      this.shaderCache = /* @__PURE__ */ new Map(), this.materialCache = /* @__PURE__ */ new Map();
    }
    update(t) {
      const i = t.vertexShader, s = t.fragmentShader, c = this._getShaderStage(i), u = this._getShaderStage(s), f = this._getShaderCacheForMaterial(t);
      return f.has(c) === !1 && (f.add(c), c.usedTimes++), f.has(u) === !1 && (f.add(u), u.usedTimes++), this;
    }
    remove(t) {
      const i = this.materialCache.get(t);
      for (const s of i)
        s.usedTimes--, s.usedTimes === 0 && this.shaderCache.delete(s.code);
      return this.materialCache.delete(t), this;
    }
    getVertexShaderID(t) {
      return this._getShaderStage(t.vertexShader).id;
    }
    getFragmentShaderID(t) {
      return this._getShaderStage(t.fragmentShader).id;
    }
    dispose() {
      this.shaderCache.clear(), this.materialCache.clear();
    }
    _getShaderCacheForMaterial(t) {
      const i = this.materialCache;
      let s = i.get(t);
      return s === void 0 && (s = /* @__PURE__ */ new Set(), i.set(t, s)), s;
    }
    _getShaderStage(t) {
      const i = this.shaderCache;
      let s = i.get(t);
      return s === void 0 && (s = new eR(t), i.set(t, s)), s;
    }
  }
  class eR {
    constructor(t) {
      this.id = JP++, this.code = t, this.usedTimes = 0;
    }
  }
  function tR(m, t, i, s, c, u, f) {
    const b = new Bs(), C = new QP(), _ = /* @__PURE__ */ new Set(), N = [], I = c.logarithmicDepthBuffer, A = c.vertexTextures;
    let E = c.precision;
    const R = {
      MeshDepthMaterial: "depth",
      MeshDistanceMaterial: "distanceRGBA",
      MeshNormalMaterial: "normal",
      MeshBasicMaterial: "basic",
      MeshLambertMaterial: "lambert",
      MeshPhongMaterial: "phong",
      MeshToonMaterial: "toon",
      MeshStandardMaterial: "physical",
      MeshPhysicalMaterial: "physical",
      MeshMatcapMaterial: "matcap",
      LineBasicMaterial: "basic",
      LineDashedMaterial: "dashed",
      PointsMaterial: "points",
      ShadowMaterial: "shadow",
      SpriteMaterial: "sprite"
    };
    function j(Z) {
      return _.add(Z), Z === 0 ? "uv" : `uv${Z}`;
    }
    function O(Z, H, Te, ke, Ce) {
      const Le = ke.fog, Ve = Ce.geometry, Ze = Z.isMeshStandardMaterial ? ke.environment : null, vt = (Z.isMeshStandardMaterial ? i : t).get(Z.envMap || Ze), ze = vt && vt.mapping === wa ? vt.image.height : null, lt = R[Z.type];
      Z.precision !== null && (E = c.getMaxPrecision(Z.precision), E !== Z.precision && console.warn("THREE.WebGLProgram.getParameters:", Z.precision, "not supported, using", E, "instead."));
      const st = Ve.morphAttributes.position || Ve.morphAttributes.normal || Ve.morphAttributes.color, Bt = st !== void 0 ? st.length : 0;
      let dn = 0;
      Ve.morphAttributes.position !== void 0 && (dn = 1), Ve.morphAttributes.normal !== void 0 && (dn = 2), Ve.morphAttributes.color !== void 0 && (dn = 3);
      let Vn, Ge, ht, jt;
      if (lt) {
        const Hn = So[lt];
        Vn = Hn.vertexShader, Ge = Hn.fragmentShader;
      } else
        Vn = Z.vertexShader, Ge = Z.fragmentShader, C.update(Z), ht = C.getVertexShaderID(Z), jt = C.getFragmentShaderID(Z);
      const ut = m.getRenderTarget(), mn = Ce.isInstancedMesh === !0, xn = Ce.isBatchedMesh === !0, Se = !!Z.map, Nn = !!Z.matcap, We = !!vt, ot = !!Z.aoMap, Ye = !!Z.lightMap, pt = !!Z.bumpMap, it = !!Z.normalMap, Pt = !!Z.displacementMap, $t = !!Z.emissiveMap, ce = !!Z.metalnessMap, Y = !!Z.roughnessMap, Ae = Z.anisotropy > 0, qe = Z.clearcoat > 0, tt = Z.dispersion > 0, Qe = Z.iridescence > 0, Ut = Z.sheen > 0, Ct = Z.transmission > 0, xt = Ae && !!Z.anisotropyMap, cn = qe && !!Z.clearcoatMap, dt = qe && !!Z.clearcoatNormalMap, zt = qe && !!Z.clearcoatRoughnessMap, Tn = Qe && !!Z.iridescenceMap, Kt = Qe && !!Z.iridescenceThicknessMap, Ot = Ut && !!Z.sheenColorMap, gn = Ut && !!Z.sheenRoughnessMap, Mn = !!Z.specularMap, Cr = !!Z.specularColorMap, bn = !!Z.specularIntensityMap, we = Ct && !!Z.transmissionMap, et = Ct && !!Z.thicknessMap, He = !!Z.gradientMap, _t = !!Z.alphaMap, At = Z.alphaTest > 0, jn = !!Z.alphaHash, nr = !!Z.extensions;
      let br = Er;
      Z.toneMapped && (ut === null || ut.isXRRenderTarget === !0) && (br = m.toneMapping);
      const ti = {
        shaderID: lt,
        shaderType: Z.type,
        shaderName: Z.name,
        vertexShader: Vn,
        fragmentShader: Ge,
        defines: Z.defines,
        customVertexShaderID: ht,
        customFragmentShaderID: jt,
        isRawShaderMaterial: Z.isRawShaderMaterial === !0,
        glslVersion: Z.glslVersion,
        precision: E,
        batching: xn,
        instancing: mn,
        instancingColor: mn && Ce.instanceColor !== null,
        instancingMorph: mn && Ce.morphTexture !== null,
        supportsVertexTextures: A,
        outputColorSpace: ut === null ? m.outputColorSpace : ut.isXRRenderTarget === !0 ? ut.texture.colorSpace : po,
        alphaToCoverage: !!Z.alphaToCoverage,
        map: Se,
        matcap: Nn,
        envMap: We,
        envMapMode: We && vt.mapping,
        envMapCubeUVHeight: ze,
        aoMap: ot,
        lightMap: Ye,
        bumpMap: pt,
        normalMap: it,
        displacementMap: A && Pt,
        emissiveMap: $t,
        normalMapObjectSpace: it && Z.normalMapType === Hp,
        normalMapTangentSpace: it && Z.normalMapType === Hi,
        metalnessMap: ce,
        roughnessMap: Y,
        anisotropy: Ae,
        anisotropyMap: xt,
        clearcoat: qe,
        clearcoatMap: cn,
        clearcoatNormalMap: dt,
        clearcoatRoughnessMap: zt,
        dispersion: tt,
        iridescence: Qe,
        iridescenceMap: Tn,
        iridescenceThicknessMap: Kt,
        sheen: Ut,
        sheenColorMap: Ot,
        sheenRoughnessMap: gn,
        specularMap: Mn,
        specularColorMap: Cr,
        specularIntensityMap: bn,
        transmission: Ct,
        transmissionMap: we,
        thicknessMap: et,
        gradientMap: He,
        opaque: Z.transparent === !1 && Z.blending === M && Z.alphaToCoverage === !1,
        alphaMap: _t,
        alphaTest: At,
        alphaHash: jn,
        combine: Z.combine,
        //
        mapUv: Se && j(Z.map.channel),
        aoMapUv: ot && j(Z.aoMap.channel),
        lightMapUv: Ye && j(Z.lightMap.channel),
        bumpMapUv: pt && j(Z.bumpMap.channel),
        normalMapUv: it && j(Z.normalMap.channel),
        displacementMapUv: Pt && j(Z.displacementMap.channel),
        emissiveMapUv: $t && j(Z.emissiveMap.channel),
        metalnessMapUv: ce && j(Z.metalnessMap.channel),
        roughnessMapUv: Y && j(Z.roughnessMap.channel),
        anisotropyMapUv: xt && j(Z.anisotropyMap.channel),
        clearcoatMapUv: cn && j(Z.clearcoatMap.channel),
        clearcoatNormalMapUv: dt && j(Z.clearcoatNormalMap.channel),
        clearcoatRoughnessMapUv: zt && j(Z.clearcoatRoughnessMap.channel),
        iridescenceMapUv: Tn && j(Z.iridescenceMap.channel),
        iridescenceThicknessMapUv: Kt && j(Z.iridescenceThicknessMap.channel),
        sheenColorMapUv: Ot && j(Z.sheenColorMap.channel),
        sheenRoughnessMapUv: gn && j(Z.sheenRoughnessMap.channel),
        specularMapUv: Mn && j(Z.specularMap.channel),
        specularColorMapUv: Cr && j(Z.specularColorMap.channel),
        specularIntensityMapUv: bn && j(Z.specularIntensityMap.channel),
        transmissionMapUv: we && j(Z.transmissionMap.channel),
        thicknessMapUv: et && j(Z.thicknessMap.channel),
        alphaMapUv: _t && j(Z.alphaMap.channel),
        //
        vertexTangents: !!Ve.attributes.tangent && (it || Ae),
        vertexColors: Z.vertexColors,
        vertexAlphas: Z.vertexColors === !0 && !!Ve.attributes.color && Ve.attributes.color.itemSize === 4,
        pointsUvs: Ce.isPoints === !0 && !!Ve.attributes.uv && (Se || _t),
        fog: !!Le,
        useFog: Z.fog === !0,
        fogExp2: !!Le && Le.isFogExp2,
        flatShading: Z.flatShading === !0,
        sizeAttenuation: Z.sizeAttenuation === !0,
        logarithmicDepthBuffer: I,
        skinning: Ce.isSkinnedMesh === !0,
        morphTargets: Ve.morphAttributes.position !== void 0,
        morphNormals: Ve.morphAttributes.normal !== void 0,
        morphColors: Ve.morphAttributes.color !== void 0,
        morphTargetsCount: Bt,
        morphTextureStride: dn,
        numDirLights: H.directional.length,
        numPointLights: H.point.length,
        numSpotLights: H.spot.length,
        numSpotLightMaps: H.spotLightMap.length,
        numRectAreaLights: H.rectArea.length,
        numHemiLights: H.hemi.length,
        numDirLightShadows: H.directionalShadowMap.length,
        numPointLightShadows: H.pointShadowMap.length,
        numSpotLightShadows: H.spotShadowMap.length,
        numSpotLightShadowsWithMaps: H.numSpotLightShadowsWithMaps,
        numLightProbes: H.numLightProbes,
        numClippingPlanes: f.numPlanes,
        numClipIntersection: f.numIntersection,
        dithering: Z.dithering,
        shadowMapEnabled: m.shadowMap.enabled && Te.length > 0,
        shadowMapType: m.shadowMap.type,
        toneMapping: br,
        useLegacyLights: m._useLegacyLights,
        decodeVideoTexture: Se && Z.map.isVideoTexture === !0 && Fn.getTransfer(Z.map.colorSpace) === zn,
        premultipliedAlpha: Z.premultipliedAlpha,
        doubleSided: Z.side === w,
        flipSided: Z.side === x,
        useDepthPacking: Z.depthPacking >= 0,
        depthPacking: Z.depthPacking || 0,
        index0AttributeName: Z.index0AttributeName,
        extensionClipCullDistance: nr && Z.extensions.clipCullDistance === !0 && s.has("WEBGL_clip_cull_distance"),
        extensionMultiDraw: nr && Z.extensions.multiDraw === !0 && s.has("WEBGL_multi_draw"),
        rendererExtensionParallelShaderCompile: s.has("KHR_parallel_shader_compile"),
        customProgramCacheKey: Z.customProgramCacheKey()
      };
      return ti.vertexUv1s = _.has(1), ti.vertexUv2s = _.has(2), ti.vertexUv3s = _.has(3), _.clear(), ti;
    }
    function P(Z) {
      const H = [];
      if (Z.shaderID ? H.push(Z.shaderID) : (H.push(Z.customVertexShaderID), H.push(Z.customFragmentShaderID)), Z.defines !== void 0)
        for (const Te in Z.defines)
          H.push(Te), H.push(Z.defines[Te]);
      return Z.isRawShaderMaterial === !1 && (U(H, Z), k(H, Z), H.push(m.outputColorSpace)), H.push(Z.customProgramCacheKey), H.join();
    }
    function U(Z, H) {
      Z.push(H.precision), Z.push(H.outputColorSpace), Z.push(H.envMapMode), Z.push(H.envMapCubeUVHeight), Z.push(H.mapUv), Z.push(H.alphaMapUv), Z.push(H.lightMapUv), Z.push(H.aoMapUv), Z.push(H.bumpMapUv), Z.push(H.normalMapUv), Z.push(H.displacementMapUv), Z.push(H.emissiveMapUv), Z.push(H.metalnessMapUv), Z.push(H.roughnessMapUv), Z.push(H.anisotropyMapUv), Z.push(H.clearcoatMapUv), Z.push(H.clearcoatNormalMapUv), Z.push(H.clearcoatRoughnessMapUv), Z.push(H.iridescenceMapUv), Z.push(H.iridescenceThicknessMapUv), Z.push(H.sheenColorMapUv), Z.push(H.sheenRoughnessMapUv), Z.push(H.specularMapUv), Z.push(H.specularColorMapUv), Z.push(H.specularIntensityMapUv), Z.push(H.transmissionMapUv), Z.push(H.thicknessMapUv), Z.push(H.combine), Z.push(H.fogExp2), Z.push(H.sizeAttenuation), Z.push(H.morphTargetsCount), Z.push(H.morphAttributeCount), Z.push(H.numDirLights), Z.push(H.numPointLights), Z.push(H.numSpotLights), Z.push(H.numSpotLightMaps), Z.push(H.numHemiLights), Z.push(H.numRectAreaLights), Z.push(H.numDirLightShadows), Z.push(H.numPointLightShadows), Z.push(H.numSpotLightShadows), Z.push(H.numSpotLightShadowsWithMaps), Z.push(H.numLightProbes), Z.push(H.shadowMapType), Z.push(H.toneMapping), Z.push(H.numClippingPlanes), Z.push(H.numClipIntersection), Z.push(H.depthPacking);
    }
    function k(Z, H) {
      b.disableAll(), H.supportsVertexTextures && b.enable(0), H.instancing && b.enable(1), H.instancingColor && b.enable(2), H.instancingMorph && b.enable(3), H.matcap && b.enable(4), H.envMap && b.enable(5), H.normalMapObjectSpace && b.enable(6), H.normalMapTangentSpace && b.enable(7), H.clearcoat && b.enable(8), H.iridescence && b.enable(9), H.alphaTest && b.enable(10), H.vertexColors && b.enable(11), H.vertexAlphas && b.enable(12), H.vertexUv1s && b.enable(13), H.vertexUv2s && b.enable(14), H.vertexUv3s && b.enable(15), H.vertexTangents && b.enable(16), H.anisotropy && b.enable(17), H.alphaHash && b.enable(18), H.batching && b.enable(19), H.dispersion && b.enable(20), Z.push(b.mask), b.disableAll(), H.fog && b.enable(0), H.useFog && b.enable(1), H.flatShading && b.enable(2), H.logarithmicDepthBuffer && b.enable(3), H.skinning && b.enable(4), H.morphTargets && b.enable(5), H.morphNormals && b.enable(6), H.morphColors && b.enable(7), H.premultipliedAlpha && b.enable(8), H.shadowMapEnabled && b.enable(9), H.useLegacyLights && b.enable(10), H.doubleSided && b.enable(11), H.flipSided && b.enable(12), H.useDepthPacking && b.enable(13), H.dithering && b.enable(14), H.transmission && b.enable(15), H.sheen && b.enable(16), H.opaque && b.enable(17), H.pointsUvs && b.enable(18), H.decodeVideoTexture && b.enable(19), H.alphaToCoverage && b.enable(20), Z.push(b.mask);
    }
    function V(Z) {
      const H = R[Z.type];
      let Te;
      if (H) {
        const ke = So[H];
        Te = nm.clone(ke.uniforms);
      } else
        Te = Z.uniforms;
      return Te;
    }
    function me(Z, H) {
      let Te;
      for (let ke = 0, Ce = N.length; ke < Ce; ke++) {
        const Le = N[ke];
        if (Le.cacheKey === H) {
          Te = Le, ++Te.usedTimes;
          break;
        }
      }
      return Te === void 0 && (Te = new ZP(m, H, Z, u), N.push(Te)), Te;
    }
    function ee(Z) {
      if (--Z.usedTimes === 0) {
        const H = N.indexOf(Z);
        N[H] = N[N.length - 1], N.pop(), Z.destroy();
      }
    }
    function le(Z) {
      C.remove(Z);
    }
    function ye() {
      C.dispose();
    }
    return {
      getParameters: O,
      getProgramCacheKey: P,
      getUniforms: V,
      acquireProgram: me,
      releaseProgram: ee,
      releaseShaderCache: le,
      // Exposed for resource monitoring & error feedback via renderer.info:
      programs: N,
      dispose: ye
    };
  }
  function nR() {
    let m = /* @__PURE__ */ new WeakMap();
    function t(u) {
      let f = m.get(u);
      return f === void 0 && (f = {}, m.set(u, f)), f;
    }
    function i(u) {
      m.delete(u);
    }
    function s(u, f, b) {
      m.get(u)[f] = b;
    }
    function c() {
      m = /* @__PURE__ */ new WeakMap();
    }
    return {
      get: t,
      remove: i,
      update: s,
      dispose: c
    };
  }
  function rR(m, t) {
    return m.groupOrder !== t.groupOrder ? m.groupOrder - t.groupOrder : m.renderOrder !== t.renderOrder ? m.renderOrder - t.renderOrder : m.material.id !== t.material.id ? m.material.id - t.material.id : m.z !== t.z ? m.z - t.z : m.id - t.id;
  }
  function a_(m, t) {
    return m.groupOrder !== t.groupOrder ? m.groupOrder - t.groupOrder : m.renderOrder !== t.renderOrder ? m.renderOrder - t.renderOrder : m.z !== t.z ? t.z - m.z : m.id - t.id;
  }
  function s_() {
    const m = [];
    let t = 0;
    const i = [], s = [], c = [];
    function u() {
      t = 0, i.length = 0, s.length = 0, c.length = 0;
    }
    function f(I, A, E, R, j, O) {
      let P = m[t];
      return P === void 0 ? (P = {
        id: I.id,
        object: I,
        geometry: A,
        material: E,
        groupOrder: R,
        renderOrder: I.renderOrder,
        z: j,
        group: O
      }, m[t] = P) : (P.id = I.id, P.object = I, P.geometry = A, P.material = E, P.groupOrder = R, P.renderOrder = I.renderOrder, P.z = j, P.group = O), t++, P;
    }
    function b(I, A, E, R, j, O) {
      const P = f(I, A, E, R, j, O);
      E.transmission > 0 ? s.push(P) : E.transparent === !0 ? c.push(P) : i.push(P);
    }
    function C(I, A, E, R, j, O) {
      const P = f(I, A, E, R, j, O);
      E.transmission > 0 ? s.unshift(P) : E.transparent === !0 ? c.unshift(P) : i.unshift(P);
    }
    function _(I, A) {
      i.length > 1 && i.sort(I || rR), s.length > 1 && s.sort(A || a_), c.length > 1 && c.sort(A || a_);
    }
    function N() {
      for (let I = t, A = m.length; I < A; I++) {
        const E = m[I];
        if (E.id === null)
          break;
        E.id = null, E.object = null, E.geometry = null, E.material = null, E.group = null;
      }
    }
    return {
      opaque: i,
      transmissive: s,
      transparent: c,
      init: u,
      push: b,
      unshift: C,
      finish: N,
      sort: _
    };
  }
  function iR() {
    let m = /* @__PURE__ */ new WeakMap();
    function t(s, c) {
      const u = m.get(s);
      let f;
      return u === void 0 ? (f = new s_(), m.set(s, [f])) : c >= u.length ? (f = new s_(), u.push(f)) : f = u[c], f;
    }
    function i() {
      m = /* @__PURE__ */ new WeakMap();
    }
    return {
      get: t,
      dispose: i
    };
  }
  function oR() {
    const m = {};
    return {
      get: function(t) {
        if (m[t.id] !== void 0)
          return m[t.id];
        let i;
        switch (t.type) {
          case "DirectionalLight":
            i = {
              direction: new ie(),
              color: new Tt()
            };
            break;
          case "SpotLight":
            i = {
              position: new ie(),
              direction: new ie(),
              color: new Tt(),
              distance: 0,
              coneCos: 0,
              penumbraCos: 0,
              decay: 0
            };
            break;
          case "PointLight":
            i = {
              position: new ie(),
              color: new Tt(),
              distance: 0,
              decay: 0
            };
            break;
          case "HemisphereLight":
            i = {
              direction: new ie(),
              skyColor: new Tt(),
              groundColor: new Tt()
            };
            break;
          case "RectAreaLight":
            i = {
              color: new Tt(),
              position: new ie(),
              halfWidth: new ie(),
              halfHeight: new ie()
            };
            break;
        }
        return m[t.id] = i, i;
      }
    };
  }
  function aR() {
    const m = {};
    return {
      get: function(t) {
        if (m[t.id] !== void 0)
          return m[t.id];
        let i;
        switch (t.type) {
          case "DirectionalLight":
            i = {
              shadowBias: 0,
              shadowNormalBias: 0,
              shadowRadius: 1,
              shadowMapSize: new $e()
            };
            break;
          case "SpotLight":
            i = {
              shadowBias: 0,
              shadowNormalBias: 0,
              shadowRadius: 1,
              shadowMapSize: new $e()
            };
            break;
          case "PointLight":
            i = {
              shadowBias: 0,
              shadowNormalBias: 0,
              shadowRadius: 1,
              shadowMapSize: new $e(),
              shadowCameraNear: 1,
              shadowCameraFar: 1e3
            };
            break;
        }
        return m[t.id] = i, i;
      }
    };
  }
  let sR = 0;
  function lR(m, t) {
    return (t.castShadow ? 2 : 0) - (m.castShadow ? 2 : 0) + (t.map ? 1 : 0) - (m.map ? 1 : 0);
  }
  function cR(m) {
    const t = new oR(), i = aR(), s = {
      version: 0,
      hash: {
        directionalLength: -1,
        pointLength: -1,
        spotLength: -1,
        rectAreaLength: -1,
        hemiLength: -1,
        numDirectionalShadows: -1,
        numPointShadows: -1,
        numSpotShadows: -1,
        numSpotMaps: -1,
        numLightProbes: -1
      },
      ambient: [0, 0, 0],
      probe: [],
      directional: [],
      directionalShadow: [],
      directionalShadowMap: [],
      directionalShadowMatrix: [],
      spot: [],
      spotLightMap: [],
      spotShadow: [],
      spotShadowMap: [],
      spotLightMatrix: [],
      rectArea: [],
      rectAreaLTC1: null,
      rectAreaLTC2: null,
      point: [],
      pointShadow: [],
      pointShadowMap: [],
      pointShadowMatrix: [],
      hemi: [],
      numSpotLightShadowsWithMaps: 0,
      numLightProbes: 0
    };
    for (let _ = 0; _ < 9; _++)
      s.probe.push(new ie());
    const c = new ie(), u = new Wt(), f = new Wt();
    function b(_, N) {
      let I = 0, A = 0, E = 0;
      for (let Te = 0; Te < 9; Te++)
        s.probe[Te].set(0, 0, 0);
      let R = 0, j = 0, O = 0, P = 0, U = 0, k = 0, V = 0, me = 0, ee = 0, le = 0, ye = 0;
      _.sort(lR);
      const Z = N === !0 ? Math.PI : 1;
      for (let Te = 0, ke = _.length; Te < ke; Te++) {
        const Ce = _[Te], Le = Ce.color, Ve = Ce.intensity, Ze = Ce.distance, vt = Ce.shadow && Ce.shadow.map ? Ce.shadow.map.texture : null;
        if (Ce.isAmbientLight)
          I += Le.r * Ve * Z, A += Le.g * Ve * Z, E += Le.b * Ve * Z;
        else if (Ce.isLightProbe) {
          for (let ze = 0; ze < 9; ze++)
            s.probe[ze].addScaledVector(Ce.sh.coefficients[ze], Ve);
          ye++;
        } else if (Ce.isDirectionalLight) {
          const ze = t.get(Ce);
          if (ze.color.copy(Ce.color).multiplyScalar(Ce.intensity * Z), Ce.castShadow) {
            const lt = Ce.shadow, st = i.get(Ce);
            st.shadowBias = lt.bias, st.shadowNormalBias = lt.normalBias, st.shadowRadius = lt.radius, st.shadowMapSize = lt.mapSize, s.directionalShadow[R] = st, s.directionalShadowMap[R] = vt, s.directionalShadowMatrix[R] = Ce.shadow.matrix, k++;
          }
          s.directional[R] = ze, R++;
        } else if (Ce.isSpotLight) {
          const ze = t.get(Ce);
          ze.position.setFromMatrixPosition(Ce.matrixWorld), ze.color.copy(Le).multiplyScalar(Ve * Z), ze.distance = Ze, ze.coneCos = Math.cos(Ce.angle), ze.penumbraCos = Math.cos(Ce.angle * (1 - Ce.penumbra)), ze.decay = Ce.decay, s.spot[O] = ze;
          const lt = Ce.shadow;
          if (Ce.map && (s.spotLightMap[ee] = Ce.map, ee++, lt.updateMatrices(Ce), Ce.castShadow && le++), s.spotLightMatrix[O] = lt.matrix, Ce.castShadow) {
            const st = i.get(Ce);
            st.shadowBias = lt.bias, st.shadowNormalBias = lt.normalBias, st.shadowRadius = lt.radius, st.shadowMapSize = lt.mapSize, s.spotShadow[O] = st, s.spotShadowMap[O] = vt, me++;
          }
          O++;
        } else if (Ce.isRectAreaLight) {
          const ze = t.get(Ce);
          ze.color.copy(Le).multiplyScalar(Ve), ze.halfWidth.set(Ce.width * 0.5, 0, 0), ze.halfHeight.set(0, Ce.height * 0.5, 0), s.rectArea[P] = ze, P++;
        } else if (Ce.isPointLight) {
          const ze = t.get(Ce);
          if (ze.color.copy(Ce.color).multiplyScalar(Ce.intensity * Z), ze.distance = Ce.distance, ze.decay = Ce.decay, Ce.castShadow) {
            const lt = Ce.shadow, st = i.get(Ce);
            st.shadowBias = lt.bias, st.shadowNormalBias = lt.normalBias, st.shadowRadius = lt.radius, st.shadowMapSize = lt.mapSize, st.shadowCameraNear = lt.camera.near, st.shadowCameraFar = lt.camera.far, s.pointShadow[j] = st, s.pointShadowMap[j] = vt, s.pointShadowMatrix[j] = Ce.shadow.matrix, V++;
          }
          s.point[j] = ze, j++;
        } else if (Ce.isHemisphereLight) {
          const ze = t.get(Ce);
          ze.skyColor.copy(Ce.color).multiplyScalar(Ve * Z), ze.groundColor.copy(Ce.groundColor).multiplyScalar(Ve * Z), s.hemi[U] = ze, U++;
        }
      }
      P > 0 && (m.has("OES_texture_float_linear") === !0 ? (s.rectAreaLTC1 = bt.LTC_FLOAT_1, s.rectAreaLTC2 = bt.LTC_FLOAT_2) : (s.rectAreaLTC1 = bt.LTC_HALF_1, s.rectAreaLTC2 = bt.LTC_HALF_2)), s.ambient[0] = I, s.ambient[1] = A, s.ambient[2] = E;
      const H = s.hash;
      (H.directionalLength !== R || H.pointLength !== j || H.spotLength !== O || H.rectAreaLength !== P || H.hemiLength !== U || H.numDirectionalShadows !== k || H.numPointShadows !== V || H.numSpotShadows !== me || H.numSpotMaps !== ee || H.numLightProbes !== ye) && (s.directional.length = R, s.spot.length = O, s.rectArea.length = P, s.point.length = j, s.hemi.length = U, s.directionalShadow.length = k, s.directionalShadowMap.length = k, s.pointShadow.length = V, s.pointShadowMap.length = V, s.spotShadow.length = me, s.spotShadowMap.length = me, s.directionalShadowMatrix.length = k, s.pointShadowMatrix.length = V, s.spotLightMatrix.length = me + ee - le, s.spotLightMap.length = ee, s.numSpotLightShadowsWithMaps = le, s.numLightProbes = ye, H.directionalLength = R, H.pointLength = j, H.spotLength = O, H.rectAreaLength = P, H.hemiLength = U, H.numDirectionalShadows = k, H.numPointShadows = V, H.numSpotShadows = me, H.numSpotMaps = ee, H.numLightProbes = ye, s.version = sR++);
    }
    function C(_, N) {
      let I = 0, A = 0, E = 0, R = 0, j = 0;
      const O = N.matrixWorldInverse;
      for (let P = 0, U = _.length; P < U; P++) {
        const k = _[P];
        if (k.isDirectionalLight) {
          const V = s.directional[I];
          V.direction.setFromMatrixPosition(k.matrixWorld), c.setFromMatrixPosition(k.target.matrixWorld), V.direction.sub(c), V.direction.transformDirection(O), I++;
        } else if (k.isSpotLight) {
          const V = s.spot[E];
          V.position.setFromMatrixPosition(k.matrixWorld), V.position.applyMatrix4(O), V.direction.setFromMatrixPosition(k.matrixWorld), c.setFromMatrixPosition(k.target.matrixWorld), V.direction.sub(c), V.direction.transformDirection(O), E++;
        } else if (k.isRectAreaLight) {
          const V = s.rectArea[R];
          V.position.setFromMatrixPosition(k.matrixWorld), V.position.applyMatrix4(O), f.identity(), u.copy(k.matrixWorld), u.premultiply(O), f.extractRotation(u), V.halfWidth.set(k.width * 0.5, 0, 0), V.halfHeight.set(0, k.height * 0.5, 0), V.halfWidth.applyMatrix4(f), V.halfHeight.applyMatrix4(f), R++;
        } else if (k.isPointLight) {
          const V = s.point[A];
          V.position.setFromMatrixPosition(k.matrixWorld), V.position.applyMatrix4(O), A++;
        } else if (k.isHemisphereLight) {
          const V = s.hemi[j];
          V.direction.setFromMatrixPosition(k.matrixWorld), V.direction.transformDirection(O), j++;
        }
      }
    }
    return {
      setup: b,
      setupView: C,
      state: s
    };
  }
  function l_(m) {
    const t = new cR(m), i = [], s = [];
    function c(N) {
      _.camera = N, i.length = 0, s.length = 0;
    }
    function u(N) {
      i.push(N);
    }
    function f(N) {
      s.push(N);
    }
    function b(N) {
      t.setup(i, N);
    }
    function C(N) {
      t.setupView(i, N);
    }
    const _ = {
      lightsArray: i,
      shadowsArray: s,
      camera: null,
      lights: t,
      transmissionRenderTarget: {}
    };
    return {
      init: c,
      state: _,
      setupLights: b,
      setupLightsView: C,
      pushLight: u,
      pushShadow: f
    };
  }
  function hR(m) {
    let t = /* @__PURE__ */ new WeakMap();
    function i(c, u = 0) {
      const f = t.get(c);
      let b;
      return f === void 0 ? (b = new l_(m), t.set(c, [b])) : u >= f.length ? (b = new l_(m), f.push(b)) : b = f[u], b;
    }
    function s() {
      t = /* @__PURE__ */ new WeakMap();
    }
    return {
      get: i,
      dispose: s
    };
  }
  class Ub extends zr {
    constructor(t) {
      super(), this.isMeshDepthMaterial = !0, this.type = "MeshDepthMaterial", this.depthPacking = Vp, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.depthPacking = t.depthPacking, this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this;
    }
  }
  class Gb extends zr {
    constructor(t) {
      super(), this.isMeshDistanceMaterial = !0, this.type = "MeshDistanceMaterial", this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.map = t.map, this.alphaMap = t.alphaMap, this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this;
    }
  }
  const uR = `void main() {
	gl_Position = vec4( position, 1.0 );
}`, dR = `uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;
  function mR(m, t, i) {
    let s = new W();
    const c = new $e(), u = new $e(), f = new kn(), b = new Ub({ depthPacking: ph }), C = new Gb(), _ = {}, N = i.maxTextureSize, I = { [y]: x, [x]: y, [w]: w }, A = new Oi({
      defines: {
        VSM_SAMPLES: 8
      },
      uniforms: {
        shadow_pass: { value: null },
        resolution: { value: new $e() },
        radius: { value: 4 }
      },
      vertexShader: uR,
      fragmentShader: dR
    }), E = A.clone();
    E.defines.HORIZONTAL_PASS = 1;
    const R = new tn();
    R.setAttribute(
      "position",
      new on(
        new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]),
        3
      )
    );
    const j = new ur(R, A), O = this;
    this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = p;
    let P = this.type;
    this.render = function(ee, le, ye) {
      if (O.enabled === !1 || O.autoUpdate === !1 && O.needsUpdate === !1 || ee.length === 0)
        return;
      const Z = m.getRenderTarget(), H = m.getActiveCubeFace(), Te = m.getActiveMipmapLevel(), ke = m.state;
      ke.setBlending(T), ke.buffers.color.setClear(1, 1, 1, 1), ke.buffers.depth.setTest(!0), ke.setScissorTest(!1);
      const Ce = P !== v && this.type === v, Le = P === v && this.type !== v;
      for (let Ve = 0, Ze = ee.length; Ve < Ze; Ve++) {
        const vt = ee[Ve], ze = vt.shadow;
        if (ze === void 0) {
          console.warn("THREE.WebGLShadowMap:", vt, "has no shadow.");
          continue;
        }
        if (ze.autoUpdate === !1 && ze.needsUpdate === !1)
          continue;
        c.copy(ze.mapSize);
        const lt = ze.getFrameExtents();
        if (c.multiply(lt), u.copy(ze.mapSize), (c.x > N || c.y > N) && (c.x > N && (u.x = Math.floor(N / lt.x), c.x = u.x * lt.x, ze.mapSize.x = u.x), c.y > N && (u.y = Math.floor(N / lt.y), c.y = u.y * lt.y, ze.mapSize.y = u.y)), ze.map === null || Ce === !0 || Le === !0) {
          const Bt = this.type !== v ? { minFilter: yr, magFilter: yr } : {};
          ze.map !== null && ze.map.dispose(), ze.map = new wi(c.x, c.y, Bt), ze.map.texture.name = vt.name + ".shadowMap", ze.camera.updateProjectionMatrix();
        }
        m.setRenderTarget(ze.map), m.clear();
        const st = ze.getViewportCount();
        for (let Bt = 0; Bt < st; Bt++) {
          const dn = ze.getViewport(Bt);
          f.set(
            u.x * dn.x,
            u.y * dn.y,
            u.x * dn.z,
            u.y * dn.w
          ), ke.viewport(f), ze.updateMatrices(vt, Bt), s = ze.getFrustum(), V(le, ye, ze.camera, vt, this.type);
        }
        ze.isPointLightShadow !== !0 && this.type === v && U(ze, ye), ze.needsUpdate = !1;
      }
      P = this.type, O.needsUpdate = !1, m.setRenderTarget(Z, H, Te);
    };
    function U(ee, le) {
      const ye = t.update(j);
      A.defines.VSM_SAMPLES !== ee.blurSamples && (A.defines.VSM_SAMPLES = ee.blurSamples, E.defines.VSM_SAMPLES = ee.blurSamples, A.needsUpdate = !0, E.needsUpdate = !0), ee.mapPass === null && (ee.mapPass = new wi(c.x, c.y)), A.uniforms.shadow_pass.value = ee.map.texture, A.uniforms.resolution.value = ee.mapSize, A.uniforms.radius.value = ee.radius, m.setRenderTarget(ee.mapPass), m.clear(), m.renderBufferDirect(le, null, ye, A, j, null), E.uniforms.shadow_pass.value = ee.mapPass.texture, E.uniforms.resolution.value = ee.mapSize, E.uniforms.radius.value = ee.radius, m.setRenderTarget(ee.map), m.clear(), m.renderBufferDirect(le, null, ye, E, j, null);
    }
    function k(ee, le, ye, Z) {
      let H = null;
      const Te = ye.isPointLight === !0 ? ee.customDistanceMaterial : ee.customDepthMaterial;
      if (Te !== void 0)
        H = Te;
      else if (H = ye.isPointLight === !0 ? C : b, m.localClippingEnabled && le.clipShadows === !0 && Array.isArray(le.clippingPlanes) && le.clippingPlanes.length !== 0 || le.displacementMap && le.displacementScale !== 0 || le.alphaMap && le.alphaTest > 0 || le.map && le.alphaTest > 0) {
        const ke = H.uuid, Ce = le.uuid;
        let Le = _[ke];
        Le === void 0 && (Le = {}, _[ke] = Le);
        let Ve = Le[Ce];
        Ve === void 0 && (Ve = H.clone(), Le[Ce] = Ve, le.addEventListener("dispose", me)), H = Ve;
      }
      if (H.visible = le.visible, H.wireframe = le.wireframe, Z === v ? H.side = le.shadowSide !== null ? le.shadowSide : le.side : H.side = le.shadowSide !== null ? le.shadowSide : I[le.side], H.alphaMap = le.alphaMap, H.alphaTest = le.alphaTest, H.map = le.map, H.clipShadows = le.clipShadows, H.clippingPlanes = le.clippingPlanes, H.clipIntersection = le.clipIntersection, H.displacementMap = le.displacementMap, H.displacementScale = le.displacementScale, H.displacementBias = le.displacementBias, H.wireframeLinewidth = le.wireframeLinewidth, H.linewidth = le.linewidth, ye.isPointLight === !0 && H.isMeshDistanceMaterial === !0) {
        const ke = m.properties.get(H);
        ke.light = ye;
      }
      return H;
    }
    function V(ee, le, ye, Z, H) {
      if (ee.visible === !1)
        return;
      if (ee.layers.test(le.layers) && (ee.isMesh || ee.isLine || ee.isPoints) && (ee.castShadow || ee.receiveShadow && H === v) && (!ee.frustumCulled || s.intersectsObject(ee))) {
        ee.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse, ee.matrixWorld);
        const Ce = t.update(ee), Le = ee.material;
        if (Array.isArray(Le)) {
          const Ve = Ce.groups;
          for (let Ze = 0, vt = Ve.length; Ze < vt; Ze++) {
            const ze = Ve[Ze], lt = Le[ze.materialIndex];
            if (lt && lt.visible) {
              const st = k(ee, lt, Z, H);
              ee.onBeforeShadow(m, ee, le, ye, Ce, st, ze), m.renderBufferDirect(ye, null, Ce, st, ee, ze), ee.onAfterShadow(m, ee, le, ye, Ce, st, ze);
            }
          }
        } else if (Le.visible) {
          const Ve = k(ee, Le, Z, H);
          ee.onBeforeShadow(m, ee, le, ye, Ce, Ve, null), m.renderBufferDirect(ye, null, Ce, Ve, ee, null), ee.onAfterShadow(m, ee, le, ye, Ce, Ve, null);
        }
      }
      const ke = ee.children;
      for (let Ce = 0, Le = ke.length; Ce < Le; Ce++)
        V(ke[Ce], le, ye, Z, H);
    }
    function me(ee) {
      ee.target.removeEventListener("dispose", me);
      for (const ye in _) {
        const Z = _[ye], H = ee.target.uuid;
        H in Z && (Z[H].dispose(), delete Z[H]);
      }
    }
  }
  function pR(m) {
    function t() {
      let we = !1;
      const et = new kn();
      let He = null;
      const _t = new kn(0, 0, 0, 0);
      return {
        setMask: function(At) {
          He !== At && !we && (m.colorMask(At, At, At, At), He = At);
        },
        setLocked: function(At) {
          we = At;
        },
        setClear: function(At, jn, nr, br, ti) {
          ti === !0 && (At *= br, jn *= br, nr *= br), et.set(At, jn, nr, br), _t.equals(et) === !1 && (m.clearColor(At, jn, nr, br), _t.copy(et));
        },
        reset: function() {
          we = !1, He = null, _t.set(-1, 0, 0, 0);
        }
      };
    }
    function i() {
      let we = !1, et = null, He = null, _t = null;
      return {
        setTest: function(At) {
          At ? jt(m.DEPTH_TEST) : ut(m.DEPTH_TEST);
        },
        setMask: function(At) {
          et !== At && !we && (m.depthMask(At), et = At);
        },
        setFunc: function(At) {
          if (He !== At) {
            switch (At) {
              case gt:
                m.depthFunc(m.NEVER);
                break;
              case Lt:
                m.depthFunc(m.ALWAYS);
                break;
              case Nt:
                m.depthFunc(m.LESS);
                break;
              case Mt:
                m.depthFunc(m.LEQUAL);
                break;
              case qt:
                m.depthFunc(m.EQUAL);
                break;
              case Xt:
                m.depthFunc(m.GEQUAL);
                break;
              case Gt:
                m.depthFunc(m.GREATER);
                break;
              case Pn:
                m.depthFunc(m.NOTEQUAL);
                break;
              default:
                m.depthFunc(m.LEQUAL);
            }
            He = At;
          }
        },
        setLocked: function(At) {
          we = At;
        },
        setClear: function(At) {
          _t !== At && (m.clearDepth(At), _t = At);
        },
        reset: function() {
          we = !1, et = null, He = null, _t = null;
        }
      };
    }
    function s() {
      let we = !1, et = null, He = null, _t = null, At = null, jn = null, nr = null, br = null, ti = null;
      return {
        setTest: function(Hn) {
          we || (Hn ? jt(m.STENCIL_TEST) : ut(m.STENCIL_TEST));
        },
        setMask: function(Hn) {
          et !== Hn && !we && (m.stencilMask(Hn), et = Hn);
        },
        setFunc: function(Hn, oa, bi) {
          (He !== Hn || _t !== oa || At !== bi) && (m.stencilFunc(Hn, oa, bi), He = Hn, _t = oa, At = bi);
        },
        setOp: function(Hn, oa, bi) {
          (jn !== Hn || nr !== oa || br !== bi) && (m.stencilOp(Hn, oa, bi), jn = Hn, nr = oa, br = bi);
        },
        setLocked: function(Hn) {
          we = Hn;
        },
        setClear: function(Hn) {
          ti !== Hn && (m.clearStencil(Hn), ti = Hn);
        },
        reset: function() {
          we = !1, et = null, He = null, _t = null, At = null, jn = null, nr = null, br = null, ti = null;
        }
      };
    }
    const c = new t(), u = new i(), f = new s(), b = /* @__PURE__ */ new WeakMap(), C = /* @__PURE__ */ new WeakMap();
    let _ = {}, N = {}, I = /* @__PURE__ */ new WeakMap(), A = [], E = null, R = !1, j = null, O = null, P = null, U = null, k = null, V = null, me = null, ee = new Tt(0, 0, 0), le = 0, ye = !1, Z = null, H = null, Te = null, ke = null, Ce = null;
    const Le = m.getParameter(m.MAX_COMBINED_TEXTURE_IMAGE_UNITS);
    let Ve = !1, Ze = 0;
    const vt = m.getParameter(m.VERSION);
    vt.indexOf("WebGL") !== -1 ? (Ze = parseFloat(/^WebGL (\d)/.exec(vt)[1]), Ve = Ze >= 1) : vt.indexOf("OpenGL ES") !== -1 && (Ze = parseFloat(/^OpenGL ES (\d)/.exec(vt)[1]), Ve = Ze >= 2);
    let ze = null, lt = {};
    const st = m.getParameter(m.SCISSOR_BOX), Bt = m.getParameter(m.VIEWPORT), dn = new kn().fromArray(st), Vn = new kn().fromArray(Bt);
    function Ge(we, et, He, _t) {
      const At = new Uint8Array(4), jn = m.createTexture();
      m.bindTexture(we, jn), m.texParameteri(we, m.TEXTURE_MIN_FILTER, m.NEAREST), m.texParameteri(we, m.TEXTURE_MAG_FILTER, m.NEAREST);
      for (let nr = 0; nr < He; nr++)
        we === m.TEXTURE_3D || we === m.TEXTURE_2D_ARRAY ? m.texImage3D(et, 0, m.RGBA, 1, 1, _t, 0, m.RGBA, m.UNSIGNED_BYTE, At) : m.texImage2D(et + nr, 0, m.RGBA, 1, 1, 0, m.RGBA, m.UNSIGNED_BYTE, At);
      return jn;
    }
    const ht = {};
    ht[m.TEXTURE_2D] = Ge(m.TEXTURE_2D, m.TEXTURE_2D, 1), ht[m.TEXTURE_CUBE_MAP] = Ge(m.TEXTURE_CUBE_MAP, m.TEXTURE_CUBE_MAP_POSITIVE_X, 6), ht[m.TEXTURE_2D_ARRAY] = Ge(m.TEXTURE_2D_ARRAY, m.TEXTURE_2D_ARRAY, 1, 1), ht[m.TEXTURE_3D] = Ge(m.TEXTURE_3D, m.TEXTURE_3D, 1, 1), c.setClear(0, 0, 0, 1), u.setClear(1), f.setClear(0), jt(m.DEPTH_TEST), u.setFunc(Mt), pt(!1), it(o), jt(m.CULL_FACE), ot(T);
    function jt(we) {
      _[we] !== !0 && (m.enable(we), _[we] = !0);
    }
    function ut(we) {
      _[we] !== !1 && (m.disable(we), _[we] = !1);
    }
    function mn(we, et) {
      return N[we] !== et ? (m.bindFramebuffer(we, et), N[we] = et, we === m.DRAW_FRAMEBUFFER && (N[m.FRAMEBUFFER] = et), we === m.FRAMEBUFFER && (N[m.DRAW_FRAMEBUFFER] = et), !0) : !1;
    }
    function xn(we, et) {
      let He = A, _t = !1;
      if (we) {
        He = I.get(et), He === void 0 && (He = [], I.set(et, He));
        const At = we.textures;
        if (He.length !== At.length || He[0] !== m.COLOR_ATTACHMENT0) {
          for (let jn = 0, nr = At.length; jn < nr; jn++)
            He[jn] = m.COLOR_ATTACHMENT0 + jn;
          He.length = At.length, _t = !0;
        }
      } else
        He[0] !== m.BACK && (He[0] = m.BACK, _t = !0);
      _t && m.drawBuffers(He);
    }
    function Se(we) {
      return E !== we ? (m.useProgram(we), E = we, !0) : !1;
    }
    const Nn = {
      [$]: m.FUNC_ADD,
      [K]: m.FUNC_SUBTRACT,
      [q]: m.FUNC_REVERSE_SUBTRACT
    };
    Nn[he] = m.MIN, Nn[ae] = m.MAX;
    const We = {
      [ve]: m.ZERO,
      [ne]: m.ONE,
      [se]: m.SRC_COLOR,
      [J]: m.SRC_ALPHA,
      [Be]: m.SRC_ALPHA_SATURATE,
      [de]: m.DST_COLOR,
      [be]: m.DST_ALPHA,
      [oe]: m.ONE_MINUS_SRC_COLOR,
      [pe]: m.ONE_MINUS_SRC_ALPHA,
      [Fe]: m.ONE_MINUS_DST_COLOR,
      [fe]: m.ONE_MINUS_DST_ALPHA,
      [_e]: m.CONSTANT_COLOR,
      [Xe]: m.ONE_MINUS_CONSTANT_COLOR,
      [De]: m.CONSTANT_ALPHA,
      [ft]: m.ONE_MINUS_CONSTANT_ALPHA
    };
    function ot(we, et, He, _t, At, jn, nr, br, ti, Hn) {
      if (we === T) {
        R === !0 && (ut(m.BLEND), R = !1);
        return;
      }
      if (R === !1 && (jt(m.BLEND), R = !0), we !== G) {
        if (we !== j || Hn !== ye) {
          if ((O !== $ || k !== $) && (m.blendEquation(m.FUNC_ADD), O = $, k = $), Hn)
            switch (we) {
              case M:
                m.blendFuncSeparate(m.ONE, m.ONE_MINUS_SRC_ALPHA, m.ONE, m.ONE_MINUS_SRC_ALPHA);
                break;
              case S:
                m.blendFunc(m.ONE, m.ONE);
                break;
              case L:
                m.blendFuncSeparate(m.ZERO, m.ONE_MINUS_SRC_COLOR, m.ZERO, m.ONE);
                break;
              case F:
                m.blendFuncSeparate(m.ZERO, m.SRC_COLOR, m.ZERO, m.SRC_ALPHA);
                break;
              default:
                console.error("THREE.WebGLState: Invalid blending: ", we);
                break;
            }
          else
            switch (we) {
              case M:
                m.blendFuncSeparate(m.SRC_ALPHA, m.ONE_MINUS_SRC_ALPHA, m.ONE, m.ONE_MINUS_SRC_ALPHA);
                break;
              case S:
                m.blendFunc(m.SRC_ALPHA, m.ONE);
                break;
              case L:
                m.blendFuncSeparate(m.ZERO, m.ONE_MINUS_SRC_COLOR, m.ZERO, m.ONE);
                break;
              case F:
                m.blendFunc(m.ZERO, m.SRC_COLOR);
                break;
              default:
                console.error("THREE.WebGLState: Invalid blending: ", we);
                break;
            }
          P = null, U = null, V = null, me = null, ee.set(0, 0, 0), le = 0, j = we, ye = Hn;
        }
        return;
      }
      At = At || et, jn = jn || He, nr = nr || _t, (et !== O || At !== k) && (m.blendEquationSeparate(Nn[et], Nn[At]), O = et, k = At), (He !== P || _t !== U || jn !== V || nr !== me) && (m.blendFuncSeparate(We[He], We[_t], We[jn], We[nr]), P = He, U = _t, V = jn, me = nr), (br.equals(ee) === !1 || ti !== le) && (m.blendColor(br.r, br.g, br.b, ti), ee.copy(br), le = ti), j = we, ye = !1;
    }
    function Ye(we, et) {
      we.side === w ? ut(m.CULL_FACE) : jt(m.CULL_FACE);
      let He = we.side === x;
      et && (He = !He), pt(He), we.blending === M && we.transparent === !1 ? ot(T) : ot(we.blending, we.blendEquation, we.blendSrc, we.blendDst, we.blendEquationAlpha, we.blendSrcAlpha, we.blendDstAlpha, we.blendColor, we.blendAlpha, we.premultipliedAlpha), u.setFunc(we.depthFunc), u.setTest(we.depthTest), u.setMask(we.depthWrite), c.setMask(we.colorWrite);
      const _t = we.stencilWrite;
      f.setTest(_t), _t && (f.setMask(we.stencilWriteMask), f.setFunc(we.stencilFunc, we.stencilRef, we.stencilFuncMask), f.setOp(we.stencilFail, we.stencilZFail, we.stencilZPass)), $t(we.polygonOffset, we.polygonOffsetFactor, we.polygonOffsetUnits), we.alphaToCoverage === !0 ? jt(m.SAMPLE_ALPHA_TO_COVERAGE) : ut(m.SAMPLE_ALPHA_TO_COVERAGE);
    }
    function pt(we) {
      Z !== we && (we ? m.frontFace(m.CW) : m.frontFace(m.CCW), Z = we);
    }
    function it(we) {
      we !== r ? (jt(m.CULL_FACE), we !== H && (we === o ? m.cullFace(m.BACK) : we === l ? m.cullFace(m.FRONT) : m.cullFace(m.FRONT_AND_BACK))) : ut(m.CULL_FACE), H = we;
    }
    function Pt(we) {
      we !== Te && (Ve && m.lineWidth(we), Te = we);
    }
    function $t(we, et, He) {
      we ? (jt(m.POLYGON_OFFSET_FILL), (ke !== et || Ce !== He) && (m.polygonOffset(et, He), ke = et, Ce = He)) : ut(m.POLYGON_OFFSET_FILL);
    }
    function ce(we) {
      we ? jt(m.SCISSOR_TEST) : ut(m.SCISSOR_TEST);
    }
    function Y(we) {
      we === void 0 && (we = m.TEXTURE0 + Le - 1), ze !== we && (m.activeTexture(we), ze = we);
    }
    function Ae(we, et, He) {
      He === void 0 && (ze === null ? He = m.TEXTURE0 + Le - 1 : He = ze);
      let _t = lt[He];
      _t === void 0 && (_t = { type: void 0, texture: void 0 }, lt[He] = _t), (_t.type !== we || _t.texture !== et) && (ze !== He && (m.activeTexture(He), ze = He), m.bindTexture(we, et || ht[we]), _t.type = we, _t.texture = et);
    }
    function qe() {
      const we = lt[ze];
      we !== void 0 && we.type !== void 0 && (m.bindTexture(we.type, null), we.type = void 0, we.texture = void 0);
    }
    function tt() {
      try {
        m.compressedTexImage2D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function Qe() {
      try {
        m.compressedTexImage3D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function Ut() {
      try {
        m.texSubImage2D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function Ct() {
      try {
        m.texSubImage3D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function xt() {
      try {
        m.compressedTexSubImage2D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function cn() {
      try {
        m.compressedTexSubImage3D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function dt() {
      try {
        m.texStorage2D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function zt() {
      try {
        m.texStorage3D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function Tn() {
      try {
        m.texImage2D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function Kt() {
      try {
        m.texImage3D.apply(m, arguments);
      } catch (we) {
        console.error("THREE.WebGLState:", we);
      }
    }
    function Ot(we) {
      dn.equals(we) === !1 && (m.scissor(we.x, we.y, we.z, we.w), dn.copy(we));
    }
    function gn(we) {
      Vn.equals(we) === !1 && (m.viewport(we.x, we.y, we.z, we.w), Vn.copy(we));
    }
    function Mn(we, et) {
      let He = C.get(et);
      He === void 0 && (He = /* @__PURE__ */ new WeakMap(), C.set(et, He));
      let _t = He.get(we);
      _t === void 0 && (_t = m.getUniformBlockIndex(et, we.name), He.set(we, _t));
    }
    function Cr(we, et) {
      const _t = C.get(et).get(we);
      b.get(et) !== _t && (m.uniformBlockBinding(et, _t, we.__bindingPointIndex), b.set(et, _t));
    }
    function bn() {
      m.disable(m.BLEND), m.disable(m.CULL_FACE), m.disable(m.DEPTH_TEST), m.disable(m.POLYGON_OFFSET_FILL), m.disable(m.SCISSOR_TEST), m.disable(m.STENCIL_TEST), m.disable(m.SAMPLE_ALPHA_TO_COVERAGE), m.blendEquation(m.FUNC_ADD), m.blendFunc(m.ONE, m.ZERO), m.blendFuncSeparate(m.ONE, m.ZERO, m.ONE, m.ZERO), m.blendColor(0, 0, 0, 0), m.colorMask(!0, !0, !0, !0), m.clearColor(0, 0, 0, 0), m.depthMask(!0), m.depthFunc(m.LESS), m.clearDepth(1), m.stencilMask(4294967295), m.stencilFunc(m.ALWAYS, 0, 4294967295), m.stencilOp(m.KEEP, m.KEEP, m.KEEP), m.clearStencil(0), m.cullFace(m.BACK), m.frontFace(m.CCW), m.polygonOffset(0, 0), m.activeTexture(m.TEXTURE0), m.bindFramebuffer(m.FRAMEBUFFER, null), m.bindFramebuffer(m.DRAW_FRAMEBUFFER, null), m.bindFramebuffer(m.READ_FRAMEBUFFER, null), m.useProgram(null), m.lineWidth(1), m.scissor(0, 0, m.canvas.width, m.canvas.height), m.viewport(0, 0, m.canvas.width, m.canvas.height), _ = {}, ze = null, lt = {}, N = {}, I = /* @__PURE__ */ new WeakMap(), A = [], E = null, R = !1, j = null, O = null, P = null, U = null, k = null, V = null, me = null, ee = new Tt(0, 0, 0), le = 0, ye = !1, Z = null, H = null, Te = null, ke = null, Ce = null, dn.set(0, 0, m.canvas.width, m.canvas.height), Vn.set(0, 0, m.canvas.width, m.canvas.height), c.reset(), u.reset(), f.reset();
    }
    return {
      buffers: {
        color: c,
        depth: u,
        stencil: f
      },
      enable: jt,
      disable: ut,
      bindFramebuffer: mn,
      drawBuffers: xn,
      useProgram: Se,
      setBlending: ot,
      setMaterial: Ye,
      setFlipSided: pt,
      setCullFace: it,
      setLineWidth: Pt,
      setPolygonOffset: $t,
      setScissorTest: ce,
      activeTexture: Y,
      bindTexture: Ae,
      unbindTexture: qe,
      compressedTexImage2D: tt,
      compressedTexImage3D: Qe,
      texImage2D: Tn,
      texImage3D: Kt,
      updateUBOMapping: Mn,
      uniformBlockBinding: Cr,
      texStorage2D: dt,
      texStorage3D: zt,
      texSubImage2D: Ut,
      texSubImage3D: Ct,
      compressedTexSubImage2D: xt,
      compressedTexSubImage3D: cn,
      scissor: Ot,
      viewport: gn,
      reset: bn
    };
  }
  function fR(m, t, i, s, c, u, f) {
    const b = t.has("WEBGL_multisampled_render_to_texture") ? t.get("WEBGL_multisampled_render_to_texture") : null, C = typeof navigator > "u" ? !1 : /OculusBrowser/g.test(navigator.userAgent), _ = new $e(), N = /* @__PURE__ */ new WeakMap();
    let I;
    const A = /* @__PURE__ */ new WeakMap();
    let E = !1;
    try {
      E = typeof OffscreenCanvas < "u" && new OffscreenCanvas(1, 1).getContext("2d") !== null;
    } catch {
    }
    function R(ce, Y) {
      return E ? (
        // eslint-disable-next-line compat/compat
        new OffscreenCanvas(ce, Y)
      ) : Ba("canvas");
    }
    function j(ce, Y, Ae) {
      let qe = 1;
      const tt = $t(ce);
      if ((tt.width > Ae || tt.height > Ae) && (qe = Ae / Math.max(tt.width, tt.height)), qe < 1)
        if (typeof HTMLImageElement < "u" && ce instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && ce instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && ce instanceof ImageBitmap || typeof VideoFrame < "u" && ce instanceof VideoFrame) {
          const Qe = Math.floor(qe * tt.width), Ut = Math.floor(qe * tt.height);
          I === void 0 && (I = R(Qe, Ut));
          const Ct = Y ? R(Qe, Ut) : I;
          return Ct.width = Qe, Ct.height = Ut, Ct.getContext("2d").drawImage(ce, 0, 0, Qe, Ut), console.warn("THREE.WebGLRenderer: Texture has been resized from (" + tt.width + "x" + tt.height + ") to (" + Qe + "x" + Ut + ")."), Ct;
        } else
          return "data" in ce && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + tt.width + "x" + tt.height + ")."), ce;
      return ce;
    }
    function O(ce) {
      return ce.generateMipmaps && ce.minFilter !== yr && ce.minFilter !== pr;
    }
    function P(ce) {
      m.generateMipmap(ce);
    }
    function U(ce, Y, Ae, qe, tt = !1) {
      if (ce !== null) {
        if (m[ce] !== void 0)
          return m[ce];
        console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" + ce + "'");
      }
      let Qe = Y;
      if (Y === m.RED && (Ae === m.FLOAT && (Qe = m.R32F), Ae === m.HALF_FLOAT && (Qe = m.R16F), Ae === m.UNSIGNED_BYTE && (Qe = m.R8)), Y === m.RED_INTEGER && (Ae === m.UNSIGNED_BYTE && (Qe = m.R8UI), Ae === m.UNSIGNED_SHORT && (Qe = m.R16UI), Ae === m.UNSIGNED_INT && (Qe = m.R32UI), Ae === m.BYTE && (Qe = m.R8I), Ae === m.SHORT && (Qe = m.R16I), Ae === m.INT && (Qe = m.R32I)), Y === m.RG && (Ae === m.FLOAT && (Qe = m.RG32F), Ae === m.HALF_FLOAT && (Qe = m.RG16F), Ae === m.UNSIGNED_BYTE && (Qe = m.RG8)), Y === m.RG_INTEGER && (Ae === m.UNSIGNED_BYTE && (Qe = m.RG8UI), Ae === m.UNSIGNED_SHORT && (Qe = m.RG16UI), Ae === m.UNSIGNED_INT && (Qe = m.RG32UI), Ae === m.BYTE && (Qe = m.RG8I), Ae === m.SHORT && (Qe = m.RG16I), Ae === m.INT && (Qe = m.RG32I)), Y === m.RGB && Ae === m.UNSIGNED_INT_5_9_9_9_REV && (Qe = m.RGB9_E5), Y === m.RGBA) {
        const Ut = tt ? Ia : Fn.getTransfer(qe);
        Ae === m.FLOAT && (Qe = m.RGBA32F), Ae === m.HALF_FLOAT && (Qe = m.RGBA16F), Ae === m.UNSIGNED_BYTE && (Qe = Ut === zn ? m.SRGB8_ALPHA8 : m.RGBA8), Ae === m.UNSIGNED_SHORT_4_4_4_4 && (Qe = m.RGBA4), Ae === m.UNSIGNED_SHORT_5_5_5_1 && (Qe = m.RGB5_A1);
      }
      return (Qe === m.R16F || Qe === m.R32F || Qe === m.RG16F || Qe === m.RG32F || Qe === m.RGBA16F || Qe === m.RGBA32F) && t.get("EXT_color_buffer_float"), Qe;
    }
    function k(ce, Y) {
      return O(ce) === !0 || ce.isFramebufferTexture && ce.minFilter !== yr && ce.minFilter !== pr ? Math.log2(Math.max(Y.width, Y.height)) + 1 : ce.mipmaps !== void 0 && ce.mipmaps.length > 0 ? ce.mipmaps.length : ce.isCompressedTexture && Array.isArray(ce.image) ? Y.mipmaps.length : 1;
    }
    function V(ce) {
      const Y = ce.target;
      Y.removeEventListener("dispose", V), ee(Y), Y.isVideoTexture && N.delete(Y);
    }
    function me(ce) {
      const Y = ce.target;
      Y.removeEventListener("dispose", me), ye(Y);
    }
    function ee(ce) {
      const Y = s.get(ce);
      if (Y.__webglInit === void 0)
        return;
      const Ae = ce.source, qe = A.get(Ae);
      if (qe) {
        const tt = qe[Y.__cacheKey];
        tt.usedTimes--, tt.usedTimes === 0 && le(ce), Object.keys(qe).length === 0 && A.delete(Ae);
      }
      s.remove(ce);
    }
    function le(ce) {
      const Y = s.get(ce);
      m.deleteTexture(Y.__webglTexture);
      const Ae = ce.source, qe = A.get(Ae);
      delete qe[Y.__cacheKey], f.memory.textures--;
    }
    function ye(ce) {
      const Y = s.get(ce);
      if (ce.depthTexture && ce.depthTexture.dispose(), ce.isWebGLCubeRenderTarget)
        for (let qe = 0; qe < 6; qe++) {
          if (Array.isArray(Y.__webglFramebuffer[qe]))
            for (let tt = 0; tt < Y.__webglFramebuffer[qe].length; tt++)
              m.deleteFramebuffer(Y.__webglFramebuffer[qe][tt]);
          else
            m.deleteFramebuffer(Y.__webglFramebuffer[qe]);
          Y.__webglDepthbuffer && m.deleteRenderbuffer(Y.__webglDepthbuffer[qe]);
        }
      else {
        if (Array.isArray(Y.__webglFramebuffer))
          for (let qe = 0; qe < Y.__webglFramebuffer.length; qe++)
            m.deleteFramebuffer(Y.__webglFramebuffer[qe]);
        else
          m.deleteFramebuffer(Y.__webglFramebuffer);
        if (Y.__webglDepthbuffer && m.deleteRenderbuffer(Y.__webglDepthbuffer), Y.__webglMultisampledFramebuffer && m.deleteFramebuffer(Y.__webglMultisampledFramebuffer), Y.__webglColorRenderbuffer)
          for (let qe = 0; qe < Y.__webglColorRenderbuffer.length; qe++)
            Y.__webglColorRenderbuffer[qe] && m.deleteRenderbuffer(Y.__webglColorRenderbuffer[qe]);
        Y.__webglDepthRenderbuffer && m.deleteRenderbuffer(Y.__webglDepthRenderbuffer);
      }
      const Ae = ce.textures;
      for (let qe = 0, tt = Ae.length; qe < tt; qe++) {
        const Qe = s.get(Ae[qe]);
        Qe.__webglTexture && (m.deleteTexture(Qe.__webglTexture), f.memory.textures--), s.remove(Ae[qe]);
      }
      s.remove(ce);
    }
    let Z = 0;
    function H() {
      Z = 0;
    }
    function Te() {
      const ce = Z;
      return ce >= c.maxTextures && console.warn("THREE.WebGLTextures: Trying to use " + ce + " texture units while this GPU supports only " + c.maxTextures), Z += 1, ce;
    }
    function ke(ce) {
      const Y = [];
      return Y.push(ce.wrapS), Y.push(ce.wrapT), Y.push(ce.wrapR || 0), Y.push(ce.magFilter), Y.push(ce.minFilter), Y.push(ce.anisotropy), Y.push(ce.internalFormat), Y.push(ce.format), Y.push(ce.type), Y.push(ce.generateMipmaps), Y.push(ce.premultiplyAlpha), Y.push(ce.flipY), Y.push(ce.unpackAlignment), Y.push(ce.colorSpace), Y.join();
    }
    function Ce(ce, Y) {
      const Ae = s.get(ce);
      if (ce.isVideoTexture && it(ce), ce.isRenderTargetTexture === !1 && ce.version > 0 && Ae.__version !== ce.version) {
        const qe = ce.image;
        if (qe === null)
          console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");
        else if (qe.complete === !1)
          console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");
        else {
          dn(Ae, ce, Y);
          return;
        }
      }
      i.bindTexture(m.TEXTURE_2D, Ae.__webglTexture, m.TEXTURE0 + Y);
    }
    function Le(ce, Y) {
      const Ae = s.get(ce);
      if (ce.version > 0 && Ae.__version !== ce.version) {
        dn(Ae, ce, Y);
        return;
      }
      i.bindTexture(m.TEXTURE_2D_ARRAY, Ae.__webglTexture, m.TEXTURE0 + Y);
    }
    function Ve(ce, Y) {
      const Ae = s.get(ce);
      if (ce.version > 0 && Ae.__version !== ce.version) {
        dn(Ae, ce, Y);
        return;
      }
      i.bindTexture(m.TEXTURE_3D, Ae.__webglTexture, m.TEXTURE0 + Y);
    }
    function Ze(ce, Y) {
      const Ae = s.get(ce);
      if (ce.version > 0 && Ae.__version !== ce.version) {
        Vn(Ae, ce, Y);
        return;
      }
      i.bindTexture(m.TEXTURE_CUBE_MAP, Ae.__webglTexture, m.TEXTURE0 + Y);
    }
    const vt = {
      [El]: m.REPEAT,
      [Ci]: m.CLAMP_TO_EDGE,
      [xs]: m.MIRRORED_REPEAT
    }, ze = {
      [yr]: m.NEAREST,
      [od]: m.NEAREST_MIPMAP_NEAREST,
      [Ta]: m.NEAREST_MIPMAP_LINEAR,
      [pr]: m.LINEAR,
      [Pl]: m.LINEAR_MIPMAP_NEAREST,
      [Vi]: m.LINEAR_MIPMAP_LINEAR
    }, lt = {
      [Kp]: m.NEVER,
      [tf]: m.ALWAYS,
      [Zp]: m.LESS,
      [Rd]: m.LEQUAL,
      [Jp]: m.EQUAL,
      [Bd]: m.GEQUAL,
      [Qp]: m.GREATER,
      [ef]: m.NOTEQUAL
    };
    function st(ce, Y) {
      if (Y.type === _i && t.has("OES_texture_float_linear") === !1 && (Y.magFilter === pr || Y.magFilter === Pl || Y.magFilter === Ta || Y.magFilter === Vi || Y.minFilter === pr || Y.minFilter === Pl || Y.minFilter === Ta || Y.minFilter === Vi) && console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."), m.texParameteri(ce, m.TEXTURE_WRAP_S, vt[Y.wrapS]), m.texParameteri(ce, m.TEXTURE_WRAP_T, vt[Y.wrapT]), (ce === m.TEXTURE_3D || ce === m.TEXTURE_2D_ARRAY) && m.texParameteri(ce, m.TEXTURE_WRAP_R, vt[Y.wrapR]), m.texParameteri(ce, m.TEXTURE_MAG_FILTER, ze[Y.magFilter]), m.texParameteri(ce, m.TEXTURE_MIN_FILTER, ze[Y.minFilter]), Y.compareFunction && (m.texParameteri(ce, m.TEXTURE_COMPARE_MODE, m.COMPARE_REF_TO_TEXTURE), m.texParameteri(ce, m.TEXTURE_COMPARE_FUNC, lt[Y.compareFunction])), t.has("EXT_texture_filter_anisotropic") === !0) {
        if (Y.magFilter === yr || Y.minFilter !== Ta && Y.minFilter !== Vi || Y.type === _i && t.has("OES_texture_float_linear") === !1)
          return;
        if (Y.anisotropy > 1 || s.get(Y).__currentAnisotropy) {
          const Ae = t.get("EXT_texture_filter_anisotropic");
          m.texParameterf(ce, Ae.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(Y.anisotropy, c.getMaxAnisotropy())), s.get(Y).__currentAnisotropy = Y.anisotropy;
        }
      }
    }
    function Bt(ce, Y) {
      let Ae = !1;
      ce.__webglInit === void 0 && (ce.__webglInit = !0, Y.addEventListener("dispose", V));
      const qe = Y.source;
      let tt = A.get(qe);
      tt === void 0 && (tt = {}, A.set(qe, tt));
      const Qe = ke(Y);
      if (Qe !== ce.__cacheKey) {
        tt[Qe] === void 0 && (tt[Qe] = {
          texture: m.createTexture(),
          usedTimes: 0
        }, f.memory.textures++, Ae = !0), tt[Qe].usedTimes++;
        const Ut = tt[ce.__cacheKey];
        Ut !== void 0 && (tt[ce.__cacheKey].usedTimes--, Ut.usedTimes === 0 && le(Y)), ce.__cacheKey = Qe, ce.__webglTexture = tt[Qe].texture;
      }
      return Ae;
    }
    function dn(ce, Y, Ae) {
      let qe = m.TEXTURE_2D;
      (Y.isDataArrayTexture || Y.isCompressedArrayTexture) && (qe = m.TEXTURE_2D_ARRAY), Y.isData3DTexture && (qe = m.TEXTURE_3D);
      const tt = Bt(ce, Y), Qe = Y.source;
      i.bindTexture(qe, ce.__webglTexture, m.TEXTURE0 + Ae);
      const Ut = s.get(Qe);
      if (Qe.version !== Ut.__version || tt === !0) {
        i.activeTexture(m.TEXTURE0 + Ae);
        const Ct = Fn.getPrimaries(Fn.workingColorSpace), xt = Y.colorSpace === $i ? null : Fn.getPrimaries(Y.colorSpace), cn = Y.colorSpace === $i || Ct === xt ? m.NONE : m.BROWSER_DEFAULT_WEBGL;
        m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL, Y.flipY), m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL, Y.premultiplyAlpha), m.pixelStorei(m.UNPACK_ALIGNMENT, Y.unpackAlignment), m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL, cn);
        let dt = j(Y.image, !1, c.maxTextureSize);
        dt = Pt(Y, dt);
        const zt = u.convert(Y.format, Y.colorSpace), Tn = u.convert(Y.type);
        let Kt = U(Y.internalFormat, zt, Tn, Y.colorSpace, Y.isVideoTexture);
        st(qe, Y);
        let Ot;
        const gn = Y.mipmaps, Mn = Y.isVideoTexture !== !0, Cr = Ut.__version === void 0 || tt === !0, bn = Qe.dataReady, we = k(Y, dt);
        if (Y.isDepthTexture)
          Kt = m.DEPTH_COMPONENT16, Y.type === _i ? Kt = m.DEPTH_COMPONENT32F : Y.type === Na ? Kt = m.DEPTH_COMPONENT24 : Y.type === Cs && (Kt = m.DEPTH24_STENCIL8), Cr && (Mn ? i.texStorage2D(m.TEXTURE_2D, 1, Kt, dt.width, dt.height) : i.texImage2D(m.TEXTURE_2D, 0, Kt, dt.width, dt.height, 0, zt, Tn, null));
        else if (Y.isDataTexture)
          if (gn.length > 0) {
            Mn && Cr && i.texStorage2D(m.TEXTURE_2D, we, Kt, gn[0].width, gn[0].height);
            for (let et = 0, He = gn.length; et < He; et++)
              Ot = gn[et], Mn ? bn && i.texSubImage2D(m.TEXTURE_2D, et, 0, 0, Ot.width, Ot.height, zt, Tn, Ot.data) : i.texImage2D(m.TEXTURE_2D, et, Kt, Ot.width, Ot.height, 0, zt, Tn, Ot.data);
            Y.generateMipmaps = !1;
          } else
            Mn ? (Cr && i.texStorage2D(m.TEXTURE_2D, we, Kt, dt.width, dt.height), bn && i.texSubImage2D(m.TEXTURE_2D, 0, 0, 0, dt.width, dt.height, zt, Tn, dt.data)) : i.texImage2D(m.TEXTURE_2D, 0, Kt, dt.width, dt.height, 0, zt, Tn, dt.data);
        else if (Y.isCompressedTexture)
          if (Y.isCompressedArrayTexture) {
            Mn && Cr && i.texStorage3D(m.TEXTURE_2D_ARRAY, we, Kt, gn[0].width, gn[0].height, dt.depth);
            for (let et = 0, He = gn.length; et < He; et++)
              Ot = gn[et], Y.format !== ci ? zt !== null ? Mn ? bn && i.compressedTexSubImage3D(m.TEXTURE_2D_ARRAY, et, 0, 0, 0, Ot.width, Ot.height, dt.depth, zt, Ot.data, 0, 0) : i.compressedTexImage3D(m.TEXTURE_2D_ARRAY, et, Kt, Ot.width, Ot.height, dt.depth, 0, Ot.data, 0, 0) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : Mn ? bn && i.texSubImage3D(m.TEXTURE_2D_ARRAY, et, 0, 0, 0, Ot.width, Ot.height, dt.depth, zt, Tn, Ot.data) : i.texImage3D(m.TEXTURE_2D_ARRAY, et, Kt, Ot.width, Ot.height, dt.depth, 0, zt, Tn, Ot.data);
          } else {
            Mn && Cr && i.texStorage2D(m.TEXTURE_2D, we, Kt, gn[0].width, gn[0].height);
            for (let et = 0, He = gn.length; et < He; et++)
              Ot = gn[et], Y.format !== ci ? zt !== null ? Mn ? bn && i.compressedTexSubImage2D(m.TEXTURE_2D, et, 0, 0, Ot.width, Ot.height, zt, Ot.data) : i.compressedTexImage2D(m.TEXTURE_2D, et, Kt, Ot.width, Ot.height, 0, Ot.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : Mn ? bn && i.texSubImage2D(m.TEXTURE_2D, et, 0, 0, Ot.width, Ot.height, zt, Tn, Ot.data) : i.texImage2D(m.TEXTURE_2D, et, Kt, Ot.width, Ot.height, 0, zt, Tn, Ot.data);
          }
        else if (Y.isDataArrayTexture)
          Mn ? (Cr && i.texStorage3D(m.TEXTURE_2D_ARRAY, we, Kt, dt.width, dt.height, dt.depth), bn && i.texSubImage3D(m.TEXTURE_2D_ARRAY, 0, 0, 0, 0, dt.width, dt.height, dt.depth, zt, Tn, dt.data)) : i.texImage3D(m.TEXTURE_2D_ARRAY, 0, Kt, dt.width, dt.height, dt.depth, 0, zt, Tn, dt.data);
        else if (Y.isData3DTexture)
          Mn ? (Cr && i.texStorage3D(m.TEXTURE_3D, we, Kt, dt.width, dt.height, dt.depth), bn && i.texSubImage3D(m.TEXTURE_3D, 0, 0, 0, 0, dt.width, dt.height, dt.depth, zt, Tn, dt.data)) : i.texImage3D(m.TEXTURE_3D, 0, Kt, dt.width, dt.height, dt.depth, 0, zt, Tn, dt.data);
        else if (Y.isFramebufferTexture) {
          if (Cr)
            if (Mn)
              i.texStorage2D(m.TEXTURE_2D, we, Kt, dt.width, dt.height);
            else {
              let et = dt.width, He = dt.height;
              for (let _t = 0; _t < we; _t++)
                i.texImage2D(m.TEXTURE_2D, _t, Kt, et, He, 0, zt, Tn, null), et >>= 1, He >>= 1;
            }
        } else if (gn.length > 0) {
          if (Mn && Cr) {
            const et = $t(gn[0]);
            i.texStorage2D(m.TEXTURE_2D, we, Kt, et.width, et.height);
          }
          for (let et = 0, He = gn.length; et < He; et++)
            Ot = gn[et], Mn ? bn && i.texSubImage2D(m.TEXTURE_2D, et, 0, 0, zt, Tn, Ot) : i.texImage2D(m.TEXTURE_2D, et, Kt, zt, Tn, Ot);
          Y.generateMipmaps = !1;
        } else if (Mn) {
          if (Cr) {
            const et = $t(dt);
            i.texStorage2D(m.TEXTURE_2D, we, Kt, et.width, et.height);
          }
          bn && i.texSubImage2D(m.TEXTURE_2D, 0, 0, 0, zt, Tn, dt);
        } else
          i.texImage2D(m.TEXTURE_2D, 0, Kt, zt, Tn, dt);
        O(Y) && P(qe), Ut.__version = Qe.version, Y.onUpdate && Y.onUpdate(Y);
      }
      ce.__version = Y.version;
    }
    function Vn(ce, Y, Ae) {
      if (Y.image.length !== 6)
        return;
      const qe = Bt(ce, Y), tt = Y.source;
      i.bindTexture(m.TEXTURE_CUBE_MAP, ce.__webglTexture, m.TEXTURE0 + Ae);
      const Qe = s.get(tt);
      if (tt.version !== Qe.__version || qe === !0) {
        i.activeTexture(m.TEXTURE0 + Ae);
        const Ut = Fn.getPrimaries(Fn.workingColorSpace), Ct = Y.colorSpace === $i ? null : Fn.getPrimaries(Y.colorSpace), xt = Y.colorSpace === $i || Ut === Ct ? m.NONE : m.BROWSER_DEFAULT_WEBGL;
        m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL, Y.flipY), m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL, Y.premultiplyAlpha), m.pixelStorei(m.UNPACK_ALIGNMENT, Y.unpackAlignment), m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL, xt);
        const cn = Y.isCompressedTexture || Y.image[0].isCompressedTexture, dt = Y.image[0] && Y.image[0].isDataTexture, zt = [];
        for (let He = 0; He < 6; He++)
          !cn && !dt ? zt[He] = j(Y.image[He], !0, c.maxCubemapSize) : zt[He] = dt ? Y.image[He].image : Y.image[He], zt[He] = Pt(Y, zt[He]);
        const Tn = zt[0], Kt = u.convert(Y.format, Y.colorSpace), Ot = u.convert(Y.type), gn = U(Y.internalFormat, Kt, Ot, Y.colorSpace), Mn = Y.isVideoTexture !== !0, Cr = Qe.__version === void 0 || qe === !0, bn = tt.dataReady;
        let we = k(Y, Tn);
        st(m.TEXTURE_CUBE_MAP, Y);
        let et;
        if (cn) {
          Mn && Cr && i.texStorage2D(m.TEXTURE_CUBE_MAP, we, gn, Tn.width, Tn.height);
          for (let He = 0; He < 6; He++) {
            et = zt[He].mipmaps;
            for (let _t = 0; _t < et.length; _t++) {
              const At = et[_t];
              Y.format !== ci ? Kt !== null ? Mn ? bn && i.compressedTexSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t, 0, 0, At.width, At.height, Kt, At.data) : i.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t, gn, At.width, At.height, 0, At.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : Mn ? bn && i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t, 0, 0, At.width, At.height, Kt, Ot, At.data) : i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t, gn, At.width, At.height, 0, Kt, Ot, At.data);
            }
          }
        } else {
          if (et = Y.mipmaps, Mn && Cr) {
            et.length > 0 && we++;
            const He = $t(zt[0]);
            i.texStorage2D(m.TEXTURE_CUBE_MAP, we, gn, He.width, He.height);
          }
          for (let He = 0; He < 6; He++)
            if (dt) {
              Mn ? bn && i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, 0, 0, 0, zt[He].width, zt[He].height, Kt, Ot, zt[He].data) : i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, 0, gn, zt[He].width, zt[He].height, 0, Kt, Ot, zt[He].data);
              for (let _t = 0; _t < et.length; _t++) {
                const jn = et[_t].image[He].image;
                Mn ? bn && i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t + 1, 0, 0, jn.width, jn.height, Kt, Ot, jn.data) : i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t + 1, gn, jn.width, jn.height, 0, Kt, Ot, jn.data);
              }
            } else {
              Mn ? bn && i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, 0, 0, 0, Kt, Ot, zt[He]) : i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, 0, gn, Kt, Ot, zt[He]);
              for (let _t = 0; _t < et.length; _t++) {
                const At = et[_t];
                Mn ? bn && i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t + 1, 0, 0, Kt, Ot, At.image[He]) : i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X + He, _t + 1, gn, Kt, Ot, At.image[He]);
              }
            }
        }
        O(Y) && P(m.TEXTURE_CUBE_MAP), Qe.__version = tt.version, Y.onUpdate && Y.onUpdate(Y);
      }
      ce.__version = Y.version;
    }
    function Ge(ce, Y, Ae, qe, tt, Qe) {
      const Ut = u.convert(Ae.format, Ae.colorSpace), Ct = u.convert(Ae.type), xt = U(Ae.internalFormat, Ut, Ct, Ae.colorSpace);
      if (!s.get(Y).__hasExternalTextures) {
        const dt = Math.max(1, Y.width >> Qe), zt = Math.max(1, Y.height >> Qe);
        tt === m.TEXTURE_3D || tt === m.TEXTURE_2D_ARRAY ? i.texImage3D(tt, Qe, xt, dt, zt, Y.depth, 0, Ut, Ct, null) : i.texImage2D(tt, Qe, xt, dt, zt, 0, Ut, Ct, null);
      }
      i.bindFramebuffer(m.FRAMEBUFFER, ce), pt(Y) ? b.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER, qe, tt, s.get(Ae).__webglTexture, 0, Ye(Y)) : (tt === m.TEXTURE_2D || tt >= m.TEXTURE_CUBE_MAP_POSITIVE_X && tt <= m.TEXTURE_CUBE_MAP_NEGATIVE_Z) && m.framebufferTexture2D(m.FRAMEBUFFER, qe, tt, s.get(Ae).__webglTexture, Qe), i.bindFramebuffer(m.FRAMEBUFFER, null);
    }
    function ht(ce, Y, Ae) {
      if (m.bindRenderbuffer(m.RENDERBUFFER, ce), Y.depthBuffer && !Y.stencilBuffer) {
        let qe = m.DEPTH_COMPONENT24;
        if (Ae || pt(Y)) {
          const tt = Y.depthTexture;
          tt && tt.isDepthTexture && (tt.type === _i ? qe = m.DEPTH_COMPONENT32F : tt.type === Na && (qe = m.DEPTH_COMPONENT24));
          const Qe = Ye(Y);
          pt(Y) ? b.renderbufferStorageMultisampleEXT(m.RENDERBUFFER, Qe, qe, Y.width, Y.height) : m.renderbufferStorageMultisample(m.RENDERBUFFER, Qe, qe, Y.width, Y.height);
        } else
          m.renderbufferStorage(m.RENDERBUFFER, qe, Y.width, Y.height);
        m.framebufferRenderbuffer(m.FRAMEBUFFER, m.DEPTH_ATTACHMENT, m.RENDERBUFFER, ce);
      } else if (Y.depthBuffer && Y.stencilBuffer) {
        const qe = Ye(Y);
        Ae && pt(Y) === !1 ? m.renderbufferStorageMultisample(m.RENDERBUFFER, qe, m.DEPTH24_STENCIL8, Y.width, Y.height) : pt(Y) ? b.renderbufferStorageMultisampleEXT(m.RENDERBUFFER, qe, m.DEPTH24_STENCIL8, Y.width, Y.height) : m.renderbufferStorage(m.RENDERBUFFER, m.DEPTH_STENCIL, Y.width, Y.height), m.framebufferRenderbuffer(m.FRAMEBUFFER, m.DEPTH_STENCIL_ATTACHMENT, m.RENDERBUFFER, ce);
      } else {
        const qe = Y.textures;
        for (let tt = 0; tt < qe.length; tt++) {
          const Qe = qe[tt], Ut = u.convert(Qe.format, Qe.colorSpace), Ct = u.convert(Qe.type), xt = U(Qe.internalFormat, Ut, Ct, Qe.colorSpace), cn = Ye(Y);
          Ae && pt(Y) === !1 ? m.renderbufferStorageMultisample(m.RENDERBUFFER, cn, xt, Y.width, Y.height) : pt(Y) ? b.renderbufferStorageMultisampleEXT(m.RENDERBUFFER, cn, xt, Y.width, Y.height) : m.renderbufferStorage(m.RENDERBUFFER, xt, Y.width, Y.height);
        }
      }
      m.bindRenderbuffer(m.RENDERBUFFER, null);
    }
    function jt(ce, Y) {
      if (Y && Y.isWebGLCubeRenderTarget)
        throw new Error("Depth Texture with cube render targets is not supported");
      if (i.bindFramebuffer(m.FRAMEBUFFER, ce), !(Y.depthTexture && Y.depthTexture.isDepthTexture))
        throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
      (!s.get(Y.depthTexture).__webglTexture || Y.depthTexture.image.width !== Y.width || Y.depthTexture.image.height !== Y.height) && (Y.depthTexture.image.width = Y.width, Y.depthTexture.image.height = Y.height, Y.depthTexture.needsUpdate = !0), Ce(Y.depthTexture, 0);
      const qe = s.get(Y.depthTexture).__webglTexture, tt = Ye(Y);
      if (Y.depthTexture.format === Ma)
        pt(Y) ? b.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER, m.DEPTH_ATTACHMENT, m.TEXTURE_2D, qe, 0, tt) : m.framebufferTexture2D(m.FRAMEBUFFER, m.DEPTH_ATTACHMENT, m.TEXTURE_2D, qe, 0);
      else if (Y.depthTexture.format === _s)
        pt(Y) ? b.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER, m.DEPTH_STENCIL_ATTACHMENT, m.TEXTURE_2D, qe, 0, tt) : m.framebufferTexture2D(m.FRAMEBUFFER, m.DEPTH_STENCIL_ATTACHMENT, m.TEXTURE_2D, qe, 0);
      else
        throw new Error("Unknown depthTexture format");
    }
    function ut(ce) {
      const Y = s.get(ce), Ae = ce.isWebGLCubeRenderTarget === !0;
      if (ce.depthTexture && !Y.__autoAllocateDepthBuffer) {
        if (Ae)
          throw new Error("target.depthTexture not supported in Cube render targets");
        jt(Y.__webglFramebuffer, ce);
      } else if (Ae) {
        Y.__webglDepthbuffer = [];
        for (let qe = 0; qe < 6; qe++)
          i.bindFramebuffer(m.FRAMEBUFFER, Y.__webglFramebuffer[qe]), Y.__webglDepthbuffer[qe] = m.createRenderbuffer(), ht(Y.__webglDepthbuffer[qe], ce, !1);
      } else
        i.bindFramebuffer(m.FRAMEBUFFER, Y.__webglFramebuffer), Y.__webglDepthbuffer = m.createRenderbuffer(), ht(Y.__webglDepthbuffer, ce, !1);
      i.bindFramebuffer(m.FRAMEBUFFER, null);
    }
    function mn(ce, Y, Ae) {
      const qe = s.get(ce);
      Y !== void 0 && Ge(qe.__webglFramebuffer, ce, ce.texture, m.COLOR_ATTACHMENT0, m.TEXTURE_2D, 0), Ae !== void 0 && ut(ce);
    }
    function xn(ce) {
      const Y = ce.texture, Ae = s.get(ce), qe = s.get(Y);
      ce.addEventListener("dispose", me);
      const tt = ce.textures, Qe = ce.isWebGLCubeRenderTarget === !0, Ut = tt.length > 1;
      if (Ut || (qe.__webglTexture === void 0 && (qe.__webglTexture = m.createTexture()), qe.__version = Y.version, f.memory.textures++), Qe) {
        Ae.__webglFramebuffer = [];
        for (let Ct = 0; Ct < 6; Ct++)
          if (Y.mipmaps && Y.mipmaps.length > 0) {
            Ae.__webglFramebuffer[Ct] = [];
            for (let xt = 0; xt < Y.mipmaps.length; xt++)
              Ae.__webglFramebuffer[Ct][xt] = m.createFramebuffer();
          } else
            Ae.__webglFramebuffer[Ct] = m.createFramebuffer();
      } else {
        if (Y.mipmaps && Y.mipmaps.length > 0) {
          Ae.__webglFramebuffer = [];
          for (let Ct = 0; Ct < Y.mipmaps.length; Ct++)
            Ae.__webglFramebuffer[Ct] = m.createFramebuffer();
        } else
          Ae.__webglFramebuffer = m.createFramebuffer();
        if (Ut)
          for (let Ct = 0, xt = tt.length; Ct < xt; Ct++) {
            const cn = s.get(tt[Ct]);
            cn.__webglTexture === void 0 && (cn.__webglTexture = m.createTexture(), f.memory.textures++);
          }
        if (ce.samples > 0 && pt(ce) === !1) {
          Ae.__webglMultisampledFramebuffer = m.createFramebuffer(), Ae.__webglColorRenderbuffer = [], i.bindFramebuffer(m.FRAMEBUFFER, Ae.__webglMultisampledFramebuffer);
          for (let Ct = 0; Ct < tt.length; Ct++) {
            const xt = tt[Ct];
            Ae.__webglColorRenderbuffer[Ct] = m.createRenderbuffer(), m.bindRenderbuffer(m.RENDERBUFFER, Ae.__webglColorRenderbuffer[Ct]);
            const cn = u.convert(xt.format, xt.colorSpace), dt = u.convert(xt.type), zt = U(xt.internalFormat, cn, dt, xt.colorSpace, ce.isXRRenderTarget === !0), Tn = Ye(ce);
            m.renderbufferStorageMultisample(m.RENDERBUFFER, Tn, zt, ce.width, ce.height), m.framebufferRenderbuffer(m.FRAMEBUFFER, m.COLOR_ATTACHMENT0 + Ct, m.RENDERBUFFER, Ae.__webglColorRenderbuffer[Ct]);
          }
          m.bindRenderbuffer(m.RENDERBUFFER, null), ce.depthBuffer && (Ae.__webglDepthRenderbuffer = m.createRenderbuffer(), ht(Ae.__webglDepthRenderbuffer, ce, !0)), i.bindFramebuffer(m.FRAMEBUFFER, null);
        }
      }
      if (Qe) {
        i.bindTexture(m.TEXTURE_CUBE_MAP, qe.__webglTexture), st(m.TEXTURE_CUBE_MAP, Y);
        for (let Ct = 0; Ct < 6; Ct++)
          if (Y.mipmaps && Y.mipmaps.length > 0)
            for (let xt = 0; xt < Y.mipmaps.length; xt++)
              Ge(Ae.__webglFramebuffer[Ct][xt], ce, Y, m.COLOR_ATTACHMENT0, m.TEXTURE_CUBE_MAP_POSITIVE_X + Ct, xt);
          else
            Ge(Ae.__webglFramebuffer[Ct], ce, Y, m.COLOR_ATTACHMENT0, m.TEXTURE_CUBE_MAP_POSITIVE_X + Ct, 0);
        O(Y) && P(m.TEXTURE_CUBE_MAP), i.unbindTexture();
      } else if (Ut) {
        for (let Ct = 0, xt = tt.length; Ct < xt; Ct++) {
          const cn = tt[Ct], dt = s.get(cn);
          i.bindTexture(m.TEXTURE_2D, dt.__webglTexture), st(m.TEXTURE_2D, cn), Ge(Ae.__webglFramebuffer, ce, cn, m.COLOR_ATTACHMENT0 + Ct, m.TEXTURE_2D, 0), O(cn) && P(m.TEXTURE_2D);
        }
        i.unbindTexture();
      } else {
        let Ct = m.TEXTURE_2D;
        if ((ce.isWebGL3DRenderTarget || ce.isWebGLArrayRenderTarget) && (Ct = ce.isWebGL3DRenderTarget ? m.TEXTURE_3D : m.TEXTURE_2D_ARRAY), i.bindTexture(Ct, qe.__webglTexture), st(Ct, Y), Y.mipmaps && Y.mipmaps.length > 0)
          for (let xt = 0; xt < Y.mipmaps.length; xt++)
            Ge(Ae.__webglFramebuffer[xt], ce, Y, m.COLOR_ATTACHMENT0, Ct, xt);
        else
          Ge(Ae.__webglFramebuffer, ce, Y, m.COLOR_ATTACHMENT0, Ct, 0);
        O(Y) && P(Ct), i.unbindTexture();
      }
      ce.depthBuffer && ut(ce);
    }
    function Se(ce) {
      const Y = ce.textures;
      for (let Ae = 0, qe = Y.length; Ae < qe; Ae++) {
        const tt = Y[Ae];
        if (O(tt)) {
          const Qe = ce.isWebGLCubeRenderTarget ? m.TEXTURE_CUBE_MAP : m.TEXTURE_2D, Ut = s.get(tt).__webglTexture;
          i.bindTexture(Qe, Ut), P(Qe), i.unbindTexture();
        }
      }
    }
    const Nn = [], We = [];
    function ot(ce) {
      if (ce.samples > 0) {
        if (pt(ce) === !1) {
          const Y = ce.textures, Ae = ce.width, qe = ce.height;
          let tt = m.COLOR_BUFFER_BIT;
          const Qe = ce.stencilBuffer ? m.DEPTH_STENCIL_ATTACHMENT : m.DEPTH_ATTACHMENT, Ut = s.get(ce), Ct = Y.length > 1;
          if (Ct)
            for (let xt = 0; xt < Y.length; xt++)
              i.bindFramebuffer(m.FRAMEBUFFER, Ut.__webglMultisampledFramebuffer), m.framebufferRenderbuffer(m.FRAMEBUFFER, m.COLOR_ATTACHMENT0 + xt, m.RENDERBUFFER, null), i.bindFramebuffer(m.FRAMEBUFFER, Ut.__webglFramebuffer), m.framebufferTexture2D(m.DRAW_FRAMEBUFFER, m.COLOR_ATTACHMENT0 + xt, m.TEXTURE_2D, null, 0);
          i.bindFramebuffer(m.READ_FRAMEBUFFER, Ut.__webglMultisampledFramebuffer), i.bindFramebuffer(m.DRAW_FRAMEBUFFER, Ut.__webglFramebuffer);
          for (let xt = 0; xt < Y.length; xt++) {
            if (ce.resolveDepthBuffer && (ce.depthBuffer && (tt |= m.DEPTH_BUFFER_BIT), ce.stencilBuffer && ce.resolveStencilBuffer && (tt |= m.STENCIL_BUFFER_BIT)), Ct) {
              m.framebufferRenderbuffer(m.READ_FRAMEBUFFER, m.COLOR_ATTACHMENT0, m.RENDERBUFFER, Ut.__webglColorRenderbuffer[xt]);
              const cn = s.get(Y[xt]).__webglTexture;
              m.framebufferTexture2D(m.DRAW_FRAMEBUFFER, m.COLOR_ATTACHMENT0, m.TEXTURE_2D, cn, 0);
            }
            m.blitFramebuffer(0, 0, Ae, qe, 0, 0, Ae, qe, tt, m.NEAREST), C === !0 && (Nn.length = 0, We.length = 0, Nn.push(m.COLOR_ATTACHMENT0 + xt), ce.depthBuffer && ce.resolveDepthBuffer === !1 && (Nn.push(Qe), We.push(Qe), m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER, We)), m.invalidateFramebuffer(m.READ_FRAMEBUFFER, Nn));
          }
          if (i.bindFramebuffer(m.READ_FRAMEBUFFER, null), i.bindFramebuffer(m.DRAW_FRAMEBUFFER, null), Ct)
            for (let xt = 0; xt < Y.length; xt++) {
              i.bindFramebuffer(m.FRAMEBUFFER, Ut.__webglMultisampledFramebuffer), m.framebufferRenderbuffer(m.FRAMEBUFFER, m.COLOR_ATTACHMENT0 + xt, m.RENDERBUFFER, Ut.__webglColorRenderbuffer[xt]);
              const cn = s.get(Y[xt]).__webglTexture;
              i.bindFramebuffer(m.FRAMEBUFFER, Ut.__webglFramebuffer), m.framebufferTexture2D(m.DRAW_FRAMEBUFFER, m.COLOR_ATTACHMENT0 + xt, m.TEXTURE_2D, cn, 0);
            }
          i.bindFramebuffer(m.DRAW_FRAMEBUFFER, Ut.__webglMultisampledFramebuffer);
        } else if (ce.depthBuffer && ce.resolveDepthBuffer === !1 && C) {
          const Y = ce.stencilBuffer ? m.DEPTH_STENCIL_ATTACHMENT : m.DEPTH_ATTACHMENT;
          m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER, [Y]);
        }
      }
    }
    function Ye(ce) {
      return Math.min(c.maxSamples, ce.samples);
    }
    function pt(ce) {
      const Y = s.get(ce);
      return ce.samples > 0 && t.has("WEBGL_multisampled_render_to_texture") === !0 && Y.__useRenderToTexture !== !1;
    }
    function it(ce) {
      const Y = f.render.frame;
      N.get(ce) !== Y && (N.set(ce, Y), ce.update());
    }
    function Pt(ce, Y) {
      const Ae = ce.colorSpace, qe = ce.format, tt = ce.type;
      return ce.isCompressedTexture === !0 || ce.isVideoTexture === !0 || Ae !== po && Ae !== $i && (Fn.getTransfer(Ae) === zn ? (qe !== ci || tt !== mo) && console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.") : console.error("THREE.WebGLTextures: Unsupported texture color space:", Ae)), Y;
    }
    function $t(ce) {
      return typeof HTMLImageElement < "u" && ce instanceof HTMLImageElement ? (_.width = ce.naturalWidth || ce.width, _.height = ce.naturalHeight || ce.height) : typeof VideoFrame < "u" && ce instanceof VideoFrame ? (_.width = ce.displayWidth, _.height = ce.displayHeight) : (_.width = ce.width, _.height = ce.height), _;
    }
    this.allocateTextureUnit = Te, this.resetTextureUnits = H, this.setTexture2D = Ce, this.setTexture2DArray = Le, this.setTexture3D = Ve, this.setTextureCube = Ze, this.rebindTextures = mn, this.setupRenderTarget = xn, this.updateRenderTargetMipmap = Se, this.updateMultisampleRenderTarget = ot, this.setupDepthRenderbuffer = ut, this.setupFrameBufferTexture = Ge, this.useMultisampledRTT = pt;
  }
  function c_(m, t) {
    function i(s, c = $i) {
      let u;
      const f = Fn.getTransfer(c);
      if (s === mo)
        return m.UNSIGNED_BYTE;
      if (s === nh)
        return m.UNSIGNED_SHORT_4_4_4_4;
      if (s === rh)
        return m.UNSIGNED_SHORT_5_5_5_1;
      if (s === Dp)
        return m.UNSIGNED_INT_5_9_9_9_REV;
      if (s === Lp)
        return m.BYTE;
      if (s === jp)
        return m.SHORT;
      if (s === ad)
        return m.UNSIGNED_SHORT;
      if (s === sd)
        return m.INT;
      if (s === Na)
        return m.UNSIGNED_INT;
      if (s === _i)
        return m.FLOAT;
      if (s === Rl)
        return m.HALF_FLOAT;
      if (s === Fp)
        return m.ALPHA;
      if (s === Bl)
        return m.RGB;
      if (s === ci)
        return m.RGBA;
      if (s === ld)
        return m.LUMINANCE;
      if (s === kp)
        return m.LUMINANCE_ALPHA;
      if (s === Ma)
        return m.DEPTH_COMPONENT;
      if (s === _s)
        return m.DEPTH_STENCIL;
      if (s === ih)
        return m.RED;
      if (s === cd)
        return m.RED_INTEGER;
      if (s === hd)
        return m.RG;
      if (s === ud)
        return m.RG_INTEGER;
      if (s === oh)
        return m.RGBA_INTEGER;
      if (s === ah || s === sh || s === Ol || s === lh)
        if (f === zn)
          if (u = t.get("WEBGL_compressed_texture_s3tc_srgb"), u !== null) {
            if (s === ah)
              return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;
            if (s === sh)
              return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;
            if (s === Ol)
              return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;
            if (s === lh)
              return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;
          } else
            return null;
        else if (u = t.get("WEBGL_compressed_texture_s3tc"), u !== null) {
          if (s === ah)
            return u.COMPRESSED_RGB_S3TC_DXT1_EXT;
          if (s === sh)
            return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;
          if (s === Ol)
            return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;
          if (s === lh)
            return u.COMPRESSED_RGBA_S3TC_DXT5_EXT;
        } else
          return null;
      if (s === dd || s === md || s === pd || s === fd)
        if (u = t.get("WEBGL_compressed_texture_pvrtc"), u !== null) {
          if (s === dd)
            return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
          if (s === md)
            return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
          if (s === pd)
            return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
          if (s === fd)
            return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
        } else
          return null;
      if (s === gd || s === Ll || s === $o)
        if (u = t.get("WEBGL_compressed_texture_etc"), u !== null) {
          if (s === gd || s === Ll)
            return f === zn ? u.COMPRESSED_SRGB8_ETC2 : u.COMPRESSED_RGB8_ETC2;
          if (s === $o)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : u.COMPRESSED_RGBA8_ETC2_EAC;
        } else
          return null;
      if (s === jl || s === qo || s === bd || s === vd || s === yd || s === xd || s === Cd || s === ch || s === hh || s === _d || s === wd || s === Td || s === Nd || s === uh)
        if (u = t.get("WEBGL_compressed_texture_astc"), u !== null) {
          if (s === jl)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : u.COMPRESSED_RGBA_ASTC_4x4_KHR;
          if (s === qo)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : u.COMPRESSED_RGBA_ASTC_5x4_KHR;
          if (s === bd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : u.COMPRESSED_RGBA_ASTC_5x5_KHR;
          if (s === vd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : u.COMPRESSED_RGBA_ASTC_6x5_KHR;
          if (s === yd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : u.COMPRESSED_RGBA_ASTC_6x6_KHR;
          if (s === xd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : u.COMPRESSED_RGBA_ASTC_8x5_KHR;
          if (s === Cd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : u.COMPRESSED_RGBA_ASTC_8x6_KHR;
          if (s === ch)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : u.COMPRESSED_RGBA_ASTC_8x8_KHR;
          if (s === hh)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : u.COMPRESSED_RGBA_ASTC_10x5_KHR;
          if (s === _d)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : u.COMPRESSED_RGBA_ASTC_10x6_KHR;
          if (s === wd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : u.COMPRESSED_RGBA_ASTC_10x8_KHR;
          if (s === Td)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : u.COMPRESSED_RGBA_ASTC_10x10_KHR;
          if (s === Nd)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : u.COMPRESSED_RGBA_ASTC_12x10_KHR;
          if (s === uh)
            return f === zn ? u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : u.COMPRESSED_RGBA_ASTC_12x12_KHR;
        } else
          return null;
      if (s === Dl || s === Md || s === Sd)
        if (u = t.get("EXT_texture_compression_bptc"), u !== null) {
          if (s === Dl)
            return f === zn ? u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : u.COMPRESSED_RGBA_BPTC_UNORM_EXT;
          if (s === Md)
            return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;
          if (s === Sd)
            return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT;
        } else
          return null;
      if (s === Xp || s === Id || s === Ad || s === Ed)
        if (u = t.get("EXT_texture_compression_rgtc"), u !== null) {
          if (s === Dl)
            return u.COMPRESSED_RED_RGTC1_EXT;
          if (s === Id)
            return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;
          if (s === Ad)
            return u.COMPRESSED_RED_GREEN_RGTC2_EXT;
          if (s === Ed)
            return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;
        } else
          return null;
      return s === Cs ? m.UNSIGNED_INT_24_8 : m[s] !== void 0 ? m[s] : null;
    }
    return { convert: i };
  }
  class h_ extends Tr {
    constructor(t = []) {
      super(), this.isArrayCamera = !0, this.cameras = t;
    }
  }
  class Dh extends An {
    constructor() {
      super(), this.isGroup = !0, this.type = "Group";
    }
  }
  const gR = { type: "move" };
  class Wb {
    constructor() {
      this._targetRay = null, this._grip = null, this._hand = null;
    }
    getHandSpace() {
      return this._hand === null && (this._hand = new Dh(), this._hand.matrixAutoUpdate = !1, this._hand.visible = !1, this._hand.joints = {}, this._hand.inputState = { pinching: !1 }), this._hand;
    }
    getTargetRaySpace() {
      return this._targetRay === null && (this._targetRay = new Dh(), this._targetRay.matrixAutoUpdate = !1, this._targetRay.visible = !1, this._targetRay.hasLinearVelocity = !1, this._targetRay.linearVelocity = new ie(), this._targetRay.hasAngularVelocity = !1, this._targetRay.angularVelocity = new ie()), this._targetRay;
    }
    getGripSpace() {
      return this._grip === null && (this._grip = new Dh(), this._grip.matrixAutoUpdate = !1, this._grip.visible = !1, this._grip.hasLinearVelocity = !1, this._grip.linearVelocity = new ie(), this._grip.hasAngularVelocity = !1, this._grip.angularVelocity = new ie()), this._grip;
    }
    dispatchEvent(t) {
      return this._targetRay !== null && this._targetRay.dispatchEvent(t), this._grip !== null && this._grip.dispatchEvent(t), this._hand !== null && this._hand.dispatchEvent(t), this;
    }
    connect(t) {
      if (t && t.hand) {
        const i = this._hand;
        if (i)
          for (const s of t.hand.values())
            this._getHandJoint(i, s);
      }
      return this.dispatchEvent({ type: "connected", data: t }), this;
    }
    disconnect(t) {
      return this.dispatchEvent({ type: "disconnected", data: t }), this._targetRay !== null && (this._targetRay.visible = !1), this._grip !== null && (this._grip.visible = !1), this._hand !== null && (this._hand.visible = !1), this;
    }
    update(t, i, s) {
      let c = null, u = null, f = null;
      const b = this._targetRay, C = this._grip, _ = this._hand;
      if (t && i.session.visibilityState !== "visible-blurred") {
        if (_ && t.hand) {
          f = !0;
          for (const j of t.hand.values()) {
            const O = i.getJointPose(j, s), P = this._getHandJoint(_, j);
            O !== null && (P.matrix.fromArray(O.transform.matrix), P.matrix.decompose(P.position, P.rotation, P.scale), P.matrixWorldNeedsUpdate = !0, P.jointRadius = O.radius), P.visible = O !== null;
          }
          const N = _.joints["index-finger-tip"], I = _.joints["thumb-tip"], A = N.position.distanceTo(I.position), E = 0.02, R = 5e-3;
          _.inputState.pinching && A > E + R ? (_.inputState.pinching = !1, this.dispatchEvent({
            type: "pinchend",
            handedness: t.handedness,
            target: this
          })) : !_.inputState.pinching && A <= E - R && (_.inputState.pinching = !0, this.dispatchEvent({
            type: "pinchstart",
            handedness: t.handedness,
            target: this
          }));
        } else
          C !== null && t.gripSpace && (u = i.getPose(t.gripSpace, s), u !== null && (C.matrix.fromArray(u.transform.matrix), C.matrix.decompose(C.position, C.rotation, C.scale), C.matrixWorldNeedsUpdate = !0, u.linearVelocity ? (C.hasLinearVelocity = !0, C.linearVelocity.copy(u.linearVelocity)) : C.hasLinearVelocity = !1, u.angularVelocity ? (C.hasAngularVelocity = !0, C.angularVelocity.copy(u.angularVelocity)) : C.hasAngularVelocity = !1));
        b !== null && (c = i.getPose(t.targetRaySpace, s), c === null && u !== null && (c = u), c !== null && (b.matrix.fromArray(c.transform.matrix), b.matrix.decompose(b.position, b.rotation, b.scale), b.matrixWorldNeedsUpdate = !0, c.linearVelocity ? (b.hasLinearVelocity = !0, b.linearVelocity.copy(c.linearVelocity)) : b.hasLinearVelocity = !1, c.angularVelocity ? (b.hasAngularVelocity = !0, b.angularVelocity.copy(c.angularVelocity)) : b.hasAngularVelocity = !1, this.dispatchEvent(gR)));
      }
      return b !== null && (b.visible = c !== null), C !== null && (C.visible = u !== null), _ !== null && (_.visible = f !== null), this;
    }
    // private method
    _getHandJoint(t, i) {
      if (t.joints[i.jointName] === void 0) {
        const s = new Dh();
        s.matrixAutoUpdate = !1, s.visible = !1, t.joints[i.jointName] = s, t.add(s);
      }
      return t.joints[i.jointName];
    }
  }
  const bR = `
void main() {

	gl_Position = vec4( position, 1.0 );

}`, vR = `
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;
  class yR {
    constructor() {
      this.texture = null, this.mesh = null, this.depthNear = 0, this.depthFar = 0;
    }
    init(t, i, s) {
      if (this.texture === null) {
        const c = new lr(), u = t.properties.get(c);
        u.__webglTexture = i.texture, (i.depthNear != s.depthNear || i.depthFar != s.depthFar) && (this.depthNear = i.depthNear, this.depthFar = i.depthFar), this.texture = c;
      }
    }
    render(t, i) {
      if (this.texture !== null) {
        if (this.mesh === null) {
          const s = i.cameras[0].viewport, c = new Oi({
            vertexShader: bR,
            fragmentShader: vR,
            uniforms: {
              depthColor: { value: this.texture },
              depthWidth: { value: s.z },
              depthHeight: { value: s.w }
            }
          });
          this.mesh = new ur(new xe(20, 20), c);
        }
        t.render(this.mesh, i);
      }
    }
    reset() {
      this.texture = null, this.mesh = null;
    }
  }
  class xR extends qi {
    constructor(t, i) {
      super();
      const s = this;
      let c = null, u = 1, f = null, b = "local-floor", C = 1, _ = null, N = null, I = null, A = null, E = null, R = null;
      const j = new yR(), O = i.getContextAttributes();
      let P = null, U = null;
      const k = [], V = [], me = new $e();
      let ee = null;
      const le = new Tr();
      le.layers.enable(1), le.viewport = new kn();
      const ye = new Tr();
      ye.layers.enable(2), ye.viewport = new kn();
      const Z = [le, ye], H = new h_();
      H.layers.enable(1), H.layers.enable(2);
      let Te = null, ke = null;
      this.cameraAutoUpdate = !0, this.enabled = !1, this.isPresenting = !1, this.getController = function(Ge) {
        let ht = k[Ge];
        return ht === void 0 && (ht = new Wb(), k[Ge] = ht), ht.getTargetRaySpace();
      }, this.getControllerGrip = function(Ge) {
        let ht = k[Ge];
        return ht === void 0 && (ht = new Wb(), k[Ge] = ht), ht.getGripSpace();
      }, this.getHand = function(Ge) {
        let ht = k[Ge];
        return ht === void 0 && (ht = new Wb(), k[Ge] = ht), ht.getHandSpace();
      };
      function Ce(Ge) {
        const ht = V.indexOf(Ge.inputSource);
        if (ht === -1)
          return;
        const jt = k[ht];
        jt !== void 0 && (jt.update(Ge.inputSource, Ge.frame, _ || f), jt.dispatchEvent({ type: Ge.type, data: Ge.inputSource }));
      }
      function Le() {
        c.removeEventListener("select", Ce), c.removeEventListener("selectstart", Ce), c.removeEventListener("selectend", Ce), c.removeEventListener("squeeze", Ce), c.removeEventListener("squeezestart", Ce), c.removeEventListener("squeezeend", Ce), c.removeEventListener("end", Le), c.removeEventListener("inputsourceschange", Ve);
        for (let Ge = 0; Ge < k.length; Ge++) {
          const ht = V[Ge];
          ht !== null && (V[Ge] = null, k[Ge].disconnect(ht));
        }
        Te = null, ke = null, j.reset(), t.setRenderTarget(P), E = null, A = null, I = null, c = null, U = null, Vn.stop(), s.isPresenting = !1, t.setPixelRatio(ee), t.setSize(me.width, me.height, !1), s.dispatchEvent({ type: "sessionend" });
      }
      this.setFramebufferScaleFactor = function(Ge) {
        u = Ge, s.isPresenting === !0 && console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.");
      }, this.setReferenceSpaceType = function(Ge) {
        b = Ge, s.isPresenting === !0 && console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.");
      }, this.getReferenceSpace = function() {
        return _ || f;
      }, this.setReferenceSpace = function(Ge) {
        _ = Ge;
      }, this.getBaseLayer = function() {
        return A !== null ? A : E;
      }, this.getBinding = function() {
        return I;
      }, this.getFrame = function() {
        return R;
      }, this.getSession = function() {
        return c;
      }, this.setSession = async function(Ge) {
        if (c = Ge, c !== null) {
          if (P = t.getRenderTarget(), c.addEventListener("select", Ce), c.addEventListener("selectstart", Ce), c.addEventListener("selectend", Ce), c.addEventListener("squeeze", Ce), c.addEventListener("squeezestart", Ce), c.addEventListener("squeezeend", Ce), c.addEventListener("end", Le), c.addEventListener("inputsourceschange", Ve), O.xrCompatible !== !0 && await i.makeXRCompatible(), ee = t.getPixelRatio(), t.getSize(me), c.renderState.layers === void 0) {
            const ht = {
              antialias: O.antialias,
              alpha: !0,
              depth: O.depth,
              stencil: O.stencil,
              framebufferScaleFactor: u
            };
            E = new XRWebGLLayer(c, i, ht), c.updateRenderState({ baseLayer: E }), t.setPixelRatio(1), t.setSize(E.framebufferWidth, E.framebufferHeight, !1), U = new wi(
              E.framebufferWidth,
              E.framebufferHeight,
              {
                format: ci,
                type: mo,
                colorSpace: t.outputColorSpace,
                stencilBuffer: O.stencil
              }
            );
          } else {
            let ht = null, jt = null, ut = null;
            O.depth && (ut = O.stencil ? i.DEPTH24_STENCIL8 : i.DEPTH_COMPONENT24, ht = O.stencil ? _s : Ma, jt = O.stencil ? Cs : Na);
            const mn = {
              colorFormat: i.RGBA8,
              depthFormat: ut,
              scaleFactor: u
            };
            I = new XRWebGLBinding(c, i), A = I.createProjectionLayer(mn), c.updateRenderState({ layers: [A] }), t.setPixelRatio(1), t.setSize(A.textureWidth, A.textureHeight, !1), U = new wi(
              A.textureWidth,
              A.textureHeight,
              {
                format: ci,
                type: mo,
                depthTexture: new kb(A.textureWidth, A.textureHeight, jt, void 0, void 0, void 0, void 0, void 0, void 0, ht),
                stencilBuffer: O.stencil,
                colorSpace: t.outputColorSpace,
                samples: O.antialias ? 4 : 0,
                resolveDepthBuffer: A.ignoreDepthValues === !1
              }
            );
          }
          U.isXRRenderTarget = !0, this.setFoveation(C), _ = null, f = await c.requestReferenceSpace(b), Vn.setContext(c), Vn.start(), s.isPresenting = !0, s.dispatchEvent({ type: "sessionstart" });
        }
      }, this.getEnvironmentBlendMode = function() {
        if (c !== null)
          return c.environmentBlendMode;
      };
      function Ve(Ge) {
        for (let ht = 0; ht < Ge.removed.length; ht++) {
          const jt = Ge.removed[ht], ut = V.indexOf(jt);
          ut >= 0 && (V[ut] = null, k[ut].disconnect(jt));
        }
        for (let ht = 0; ht < Ge.added.length; ht++) {
          const jt = Ge.added[ht];
          let ut = V.indexOf(jt);
          if (ut === -1) {
            for (let xn = 0; xn < k.length; xn++)
              if (xn >= V.length) {
                V.push(jt), ut = xn;
                break;
              } else if (V[xn] === null) {
                V[xn] = jt, ut = xn;
                break;
              }
            if (ut === -1)
              break;
          }
          const mn = k[ut];
          mn && mn.connect(jt);
        }
      }
      const Ze = new ie(), vt = new ie();
      function ze(Ge, ht, jt) {
        Ze.setFromMatrixPosition(ht.matrixWorld), vt.setFromMatrixPosition(jt.matrixWorld);
        const ut = Ze.distanceTo(vt), mn = ht.projectionMatrix.elements, xn = jt.projectionMatrix.elements, Se = mn[14] / (mn[10] - 1), Nn = mn[14] / (mn[10] + 1), We = (mn[9] + 1) / mn[5], ot = (mn[9] - 1) / mn[5], Ye = (mn[8] - 1) / mn[0], pt = (xn[8] + 1) / xn[0], it = Se * Ye, Pt = Se * pt, $t = ut / (-Ye + pt), ce = $t * -Ye;
        ht.matrixWorld.decompose(Ge.position, Ge.quaternion, Ge.scale), Ge.translateX(ce), Ge.translateZ($t), Ge.matrixWorld.compose(Ge.position, Ge.quaternion, Ge.scale), Ge.matrixWorldInverse.copy(Ge.matrixWorld).invert();
        const Y = Se + $t, Ae = Nn + $t, qe = it - ce, tt = Pt + (ut - ce), Qe = We * Nn / Ae * Y, Ut = ot * Nn / Ae * Y;
        Ge.projectionMatrix.makePerspective(qe, tt, Qe, Ut, Y, Ae), Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert();
      }
      function lt(Ge, ht) {
        ht === null ? Ge.matrixWorld.copy(Ge.matrix) : Ge.matrixWorld.multiplyMatrices(ht.matrixWorld, Ge.matrix), Ge.matrixWorldInverse.copy(Ge.matrixWorld).invert();
      }
      this.updateCamera = function(Ge) {
        if (c === null)
          return;
        j.texture !== null && (Ge.near = j.depthNear, Ge.far = j.depthFar), H.near = ye.near = le.near = Ge.near, H.far = ye.far = le.far = Ge.far, (Te !== H.near || ke !== H.far) && (c.updateRenderState({
          depthNear: H.near,
          depthFar: H.far
        }), Te = H.near, ke = H.far, le.near = Te, le.far = ke, ye.near = Te, ye.far = ke, le.updateProjectionMatrix(), ye.updateProjectionMatrix(), Ge.updateProjectionMatrix());
        const ht = Ge.parent, jt = H.cameras;
        lt(H, ht);
        for (let ut = 0; ut < jt.length; ut++)
          lt(jt[ut], ht);
        jt.length === 2 ? ze(H, le, ye) : H.projectionMatrix.copy(le.projectionMatrix), st(Ge, H, ht);
      };
      function st(Ge, ht, jt) {
        jt === null ? Ge.matrix.copy(ht.matrixWorld) : (Ge.matrix.copy(jt.matrixWorld), Ge.matrix.invert(), Ge.matrix.multiply(ht.matrixWorld)), Ge.matrix.decompose(Ge.position, Ge.quaternion, Ge.scale), Ge.updateMatrixWorld(!0), Ge.projectionMatrix.copy(ht.projectionMatrix), Ge.projectionMatrixInverse.copy(ht.projectionMatrixInverse), Ge.isPerspectiveCamera && (Ge.fov = Ra * 2 * Math.atan(1 / Ge.projectionMatrix.elements[5]), Ge.zoom = 1);
      }
      this.getCamera = function() {
        return H;
      }, this.getFoveation = function() {
        if (!(A === null && E === null))
          return C;
      }, this.setFoveation = function(Ge) {
        C = Ge, A !== null && (A.fixedFoveation = Ge), E !== null && E.fixedFoveation !== void 0 && (E.fixedFoveation = Ge);
      }, this.hasDepthSensing = function() {
        return j.texture !== null;
      };
      let Bt = null;
      function dn(Ge, ht) {
        if (N = ht.getViewerPose(_ || f), R = ht, N !== null) {
          const jt = N.views;
          E !== null && (t.setRenderTargetFramebuffer(U, E.framebuffer), t.setRenderTarget(U));
          let ut = !1;
          jt.length !== H.cameras.length && (H.cameras.length = 0, ut = !0);
          for (let xn = 0; xn < jt.length; xn++) {
            const Se = jt[xn];
            let Nn = null;
            if (E !== null)
              Nn = E.getViewport(Se);
            else {
              const ot = I.getViewSubImage(A, Se);
              Nn = ot.viewport, xn === 0 && (t.setRenderTargetTextures(
                U,
                ot.colorTexture,
                A.ignoreDepthValues ? void 0 : ot.depthStencilTexture
              ), t.setRenderTarget(U));
            }
            let We = Z[xn];
            We === void 0 && (We = new Tr(), We.layers.enable(xn), We.viewport = new kn(), Z[xn] = We), We.matrix.fromArray(Se.transform.matrix), We.matrix.decompose(We.position, We.quaternion, We.scale), We.projectionMatrix.fromArray(Se.projectionMatrix), We.projectionMatrixInverse.copy(We.projectionMatrix).invert(), We.viewport.set(Nn.x, Nn.y, Nn.width, Nn.height), xn === 0 && (H.matrix.copy(We.matrix), H.matrix.decompose(H.position, H.quaternion, H.scale)), ut === !0 && H.cameras.push(We);
          }
          const mn = c.enabledFeatures;
          if (mn && mn.includes("depth-sensing")) {
            const xn = I.getDepthInformation(jt[0]);
            xn && xn.isValid && xn.texture && j.init(t, xn, c.renderState);
          }
        }
        for (let jt = 0; jt < k.length; jt++) {
          const ut = V[jt], mn = k[jt];
          ut !== null && mn !== void 0 && mn.update(ut, ht, _ || f);
        }
        j.render(t, H), Bt && Bt(Ge, ht), ht.detectedPlanes && s.dispatchEvent({ type: "planesdetected", data: ht }), R = null;
      }
      const Vn = new te();
      Vn.setAnimationLoop(dn), this.setAnimationLoop = function(Ge) {
        Bt = Ge;
      }, this.dispose = function() {
      };
    }
  }
  const mc = /* @__PURE__ */ new mi(), CR = /* @__PURE__ */ new Wt();
  function _R(m, t) {
    function i(O, P) {
      O.matrixAutoUpdate === !0 && O.updateMatrix(), P.value.copy(O.matrix);
    }
    function s(O, P) {
      P.color.getRGB(O.fogColor.value, ac(m)), P.isFog ? (O.fogNear.value = P.near, O.fogFar.value = P.far) : P.isFogExp2 && (O.fogDensity.value = P.density);
    }
    function c(O, P, U, k, V) {
      P.isMeshBasicMaterial || P.isMeshLambertMaterial ? u(O, P) : P.isMeshToonMaterial ? (u(O, P), I(O, P)) : P.isMeshPhongMaterial ? (u(O, P), N(O, P)) : P.isMeshStandardMaterial ? (u(O, P), A(O, P), P.isMeshPhysicalMaterial && E(O, P, V)) : P.isMeshMatcapMaterial ? (u(O, P), R(O, P)) : P.isMeshDepthMaterial ? u(O, P) : P.isMeshDistanceMaterial ? (u(O, P), j(O, P)) : P.isMeshNormalMaterial ? u(O, P) : P.isLineBasicMaterial ? (f(O, P), P.isLineDashedMaterial && b(O, P)) : P.isPointsMaterial ? C(O, P, U, k) : P.isSpriteMaterial ? _(O, P) : P.isShadowMaterial ? (O.color.value.copy(P.color), O.opacity.value = P.opacity) : P.isShaderMaterial && (P.uniformsNeedUpdate = !1);
    }
    function u(O, P) {
      O.opacity.value = P.opacity, P.color && O.diffuse.value.copy(P.color), P.emissive && O.emissive.value.copy(P.emissive).multiplyScalar(P.emissiveIntensity), P.map && (O.map.value = P.map, i(P.map, O.mapTransform)), P.alphaMap && (O.alphaMap.value = P.alphaMap, i(P.alphaMap, O.alphaMapTransform)), P.bumpMap && (O.bumpMap.value = P.bumpMap, i(P.bumpMap, O.bumpMapTransform), O.bumpScale.value = P.bumpScale, P.side === x && (O.bumpScale.value *= -1)), P.normalMap && (O.normalMap.value = P.normalMap, i(P.normalMap, O.normalMapTransform), O.normalScale.value.copy(P.normalScale), P.side === x && O.normalScale.value.negate()), P.displacementMap && (O.displacementMap.value = P.displacementMap, i(P.displacementMap, O.displacementMapTransform), O.displacementScale.value = P.displacementScale, O.displacementBias.value = P.displacementBias), P.emissiveMap && (O.emissiveMap.value = P.emissiveMap, i(P.emissiveMap, O.emissiveMapTransform)), P.specularMap && (O.specularMap.value = P.specularMap, i(P.specularMap, O.specularMapTransform)), P.alphaTest > 0 && (O.alphaTest.value = P.alphaTest);
      const U = t.get(P), k = U.envMap, V = U.envMapRotation;
      if (k && (O.envMap.value = k, mc.copy(V), mc.x *= -1, mc.y *= -1, mc.z *= -1, k.isCubeTexture && k.isRenderTargetTexture === !1 && (mc.y *= -1, mc.z *= -1), O.envMapRotation.value.setFromMatrix4(CR.makeRotationFromEuler(mc)), O.flipEnvMap.value = k.isCubeTexture && k.isRenderTargetTexture === !1 ? -1 : 1, O.reflectivity.value = P.reflectivity, O.ior.value = P.ior, O.refractionRatio.value = P.refractionRatio), P.lightMap) {
        O.lightMap.value = P.lightMap;
        const me = m._useLegacyLights === !0 ? Math.PI : 1;
        O.lightMapIntensity.value = P.lightMapIntensity * me, i(P.lightMap, O.lightMapTransform);
      }
      P.aoMap && (O.aoMap.value = P.aoMap, O.aoMapIntensity.value = P.aoMapIntensity, i(P.aoMap, O.aoMapTransform));
    }
    function f(O, P) {
      O.diffuse.value.copy(P.color), O.opacity.value = P.opacity, P.map && (O.map.value = P.map, i(P.map, O.mapTransform));
    }
    function b(O, P) {
      O.dashSize.value = P.dashSize, O.totalSize.value = P.dashSize + P.gapSize, O.scale.value = P.scale;
    }
    function C(O, P, U, k) {
      O.diffuse.value.copy(P.color), O.opacity.value = P.opacity, O.size.value = P.size * U, O.scale.value = k * 0.5, P.map && (O.map.value = P.map, i(P.map, O.uvTransform)), P.alphaMap && (O.alphaMap.value = P.alphaMap, i(P.alphaMap, O.alphaMapTransform)), P.alphaTest > 0 && (O.alphaTest.value = P.alphaTest);
    }
    function _(O, P) {
      O.diffuse.value.copy(P.color), O.opacity.value = P.opacity, O.rotation.value = P.rotation, P.map && (O.map.value = P.map, i(P.map, O.mapTransform)), P.alphaMap && (O.alphaMap.value = P.alphaMap, i(P.alphaMap, O.alphaMapTransform)), P.alphaTest > 0 && (O.alphaTest.value = P.alphaTest);
    }
    function N(O, P) {
      O.specular.value.copy(P.specular), O.shininess.value = Math.max(P.shininess, 1e-4);
    }
    function I(O, P) {
      P.gradientMap && (O.gradientMap.value = P.gradientMap);
    }
    function A(O, P) {
      O.metalness.value = P.metalness, P.metalnessMap && (O.metalnessMap.value = P.metalnessMap, i(P.metalnessMap, O.metalnessMapTransform)), O.roughness.value = P.roughness, P.roughnessMap && (O.roughnessMap.value = P.roughnessMap, i(P.roughnessMap, O.roughnessMapTransform)), P.envMap && (O.envMapIntensity.value = P.envMapIntensity);
    }
    function E(O, P, U) {
      O.ior.value = P.ior, P.sheen > 0 && (O.sheenColor.value.copy(P.sheenColor).multiplyScalar(P.sheen), O.sheenRoughness.value = P.sheenRoughness, P.sheenColorMap && (O.sheenColorMap.value = P.sheenColorMap, i(P.sheenColorMap, O.sheenColorMapTransform)), P.sheenRoughnessMap && (O.sheenRoughnessMap.value = P.sheenRoughnessMap, i(P.sheenRoughnessMap, O.sheenRoughnessMapTransform))), P.clearcoat > 0 && (O.clearcoat.value = P.clearcoat, O.clearcoatRoughness.value = P.clearcoatRoughness, P.clearcoatMap && (O.clearcoatMap.value = P.clearcoatMap, i(P.clearcoatMap, O.clearcoatMapTransform)), P.clearcoatRoughnessMap && (O.clearcoatRoughnessMap.value = P.clearcoatRoughnessMap, i(P.clearcoatRoughnessMap, O.clearcoatRoughnessMapTransform)), P.clearcoatNormalMap && (O.clearcoatNormalMap.value = P.clearcoatNormalMap, i(P.clearcoatNormalMap, O.clearcoatNormalMapTransform), O.clearcoatNormalScale.value.copy(P.clearcoatNormalScale), P.side === x && O.clearcoatNormalScale.value.negate())), P.dispersion > 0 && (O.dispersion.value = P.dispersion), P.iridescence > 0 && (O.iridescence.value = P.iridescence, O.iridescenceIOR.value = P.iridescenceIOR, O.iridescenceThicknessMinimum.value = P.iridescenceThicknessRange[0], O.iridescenceThicknessMaximum.value = P.iridescenceThicknessRange[1], P.iridescenceMap && (O.iridescenceMap.value = P.iridescenceMap, i(P.iridescenceMap, O.iridescenceMapTransform)), P.iridescenceThicknessMap && (O.iridescenceThicknessMap.value = P.iridescenceThicknessMap, i(P.iridescenceThicknessMap, O.iridescenceThicknessMapTransform))), P.transmission > 0 && (O.transmission.value = P.transmission, O.transmissionSamplerMap.value = U.texture, O.transmissionSamplerSize.value.set(U.width, U.height), P.transmissionMap && (O.transmissionMap.value = P.transmissionMap, i(P.transmissionMap, O.transmissionMapTransform)), O.thickness.value = P.thickness, P.thicknessMap && (O.thicknessMap.value = P.thicknessMap, i(P.thicknessMap, O.thicknessMapTransform)), O.attenuationDistance.value = P.attenuationDistance, O.attenuationColor.value.copy(P.attenuationColor)), P.anisotropy > 0 && (O.anisotropyVector.value.set(P.anisotropy * Math.cos(P.anisotropyRotation), P.anisotropy * Math.sin(P.anisotropyRotation)), P.anisotropyMap && (O.anisotropyMap.value = P.anisotropyMap, i(P.anisotropyMap, O.anisotropyMapTransform))), O.specularIntensity.value = P.specularIntensity, O.specularColor.value.copy(P.specularColor), P.specularColorMap && (O.specularColorMap.value = P.specularColorMap, i(P.specularColorMap, O.specularColorMapTransform)), P.specularIntensityMap && (O.specularIntensityMap.value = P.specularIntensityMap, i(P.specularIntensityMap, O.specularIntensityMapTransform));
    }
    function R(O, P) {
      P.matcap && (O.matcap.value = P.matcap);
    }
    function j(O, P) {
      const U = t.get(P).light;
      O.referencePosition.value.setFromMatrixPosition(U.matrixWorld), O.nearDistance.value = U.shadow.camera.near, O.farDistance.value = U.shadow.camera.far;
    }
    return {
      refreshFogUniforms: s,
      refreshMaterialUniforms: c
    };
  }
  function wR(m, t, i, s) {
    let c = {}, u = {}, f = [];
    const b = m.getParameter(m.MAX_UNIFORM_BUFFER_BINDINGS);
    function C(U, k) {
      const V = k.program;
      s.uniformBlockBinding(U, V);
    }
    function _(U, k) {
      let V = c[U.id];
      V === void 0 && (R(U), V = N(U), c[U.id] = V, U.addEventListener("dispose", O));
      const me = k.program;
      s.updateUBOMapping(U, me);
      const ee = t.render.frame;
      u[U.id] !== ee && (A(U), u[U.id] = ee);
    }
    function N(U) {
      const k = I();
      U.__bindingPointIndex = k;
      const V = m.createBuffer(), me = U.__size, ee = U.usage;
      return m.bindBuffer(m.UNIFORM_BUFFER, V), m.bufferData(m.UNIFORM_BUFFER, me, ee), m.bindBuffer(m.UNIFORM_BUFFER, null), m.bindBufferBase(m.UNIFORM_BUFFER, k, V), V;
    }
    function I() {
      for (let U = 0; U < b; U++)
        if (f.indexOf(U) === -1)
          return f.push(U), U;
      return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."), 0;
    }
    function A(U) {
      const k = c[U.id], V = U.uniforms, me = U.__cache;
      m.bindBuffer(m.UNIFORM_BUFFER, k);
      for (let ee = 0, le = V.length; ee < le; ee++) {
        const ye = Array.isArray(V[ee]) ? V[ee] : [V[ee]];
        for (let Z = 0, H = ye.length; Z < H; Z++) {
          const Te = ye[Z];
          if (E(Te, ee, Z, me) === !0) {
            const ke = Te.__offset, Ce = Array.isArray(Te.value) ? Te.value : [Te.value];
            let Le = 0;
            for (let Ve = 0; Ve < Ce.length; Ve++) {
              const Ze = Ce[Ve], vt = j(Ze);
              typeof Ze == "number" || typeof Ze == "boolean" ? (Te.__data[0] = Ze, m.bufferSubData(m.UNIFORM_BUFFER, ke + Le, Te.__data)) : Ze.isMatrix3 ? (Te.__data[0] = Ze.elements[0], Te.__data[1] = Ze.elements[1], Te.__data[2] = Ze.elements[2], Te.__data[3] = 0, Te.__data[4] = Ze.elements[3], Te.__data[5] = Ze.elements[4], Te.__data[6] = Ze.elements[5], Te.__data[7] = 0, Te.__data[8] = Ze.elements[6], Te.__data[9] = Ze.elements[7], Te.__data[10] = Ze.elements[8], Te.__data[11] = 0) : (Ze.toArray(Te.__data, Le), Le += vt.storage / Float32Array.BYTES_PER_ELEMENT);
            }
            m.bufferSubData(m.UNIFORM_BUFFER, ke, Te.__data);
          }
        }
      }
      m.bindBuffer(m.UNIFORM_BUFFER, null);
    }
    function E(U, k, V, me) {
      const ee = U.value, le = k + "_" + V;
      if (me[le] === void 0)
        return typeof ee == "number" || typeof ee == "boolean" ? me[le] = ee : me[le] = ee.clone(), !0;
      {
        const ye = me[le];
        if (typeof ee == "number" || typeof ee == "boolean") {
          if (ye !== ee)
            return me[le] = ee, !0;
        } else if (ye.equals(ee) === !1)
          return ye.copy(ee), !0;
      }
      return !1;
    }
    function R(U) {
      const k = U.uniforms;
      let V = 0;
      const me = 16;
      for (let le = 0, ye = k.length; le < ye; le++) {
        const Z = Array.isArray(k[le]) ? k[le] : [k[le]];
        for (let H = 0, Te = Z.length; H < Te; H++) {
          const ke = Z[H], Ce = Array.isArray(ke.value) ? ke.value : [ke.value];
          for (let Le = 0, Ve = Ce.length; Le < Ve; Le++) {
            const Ze = Ce[Le], vt = j(Ze), ze = V % me;
            ze !== 0 && me - ze < vt.boundary && (V += me - ze), ke.__data = new Float32Array(vt.storage / Float32Array.BYTES_PER_ELEMENT), ke.__offset = V, V += vt.storage;
          }
        }
      }
      const ee = V % me;
      return ee > 0 && (V += me - ee), U.__size = V, U.__cache = {}, this;
    }
    function j(U) {
      const k = {
        boundary: 0,
        // bytes
        storage: 0
        // bytes
      };
      return typeof U == "number" || typeof U == "boolean" ? (k.boundary = 4, k.storage = 4) : U.isVector2 ? (k.boundary = 8, k.storage = 8) : U.isVector3 || U.isColor ? (k.boundary = 16, k.storage = 12) : U.isVector4 ? (k.boundary = 16, k.storage = 16) : U.isMatrix3 ? (k.boundary = 48, k.storage = 48) : U.isMatrix4 ? (k.boundary = 64, k.storage = 64) : U.isTexture ? console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.") : console.warn("THREE.WebGLRenderer: Unsupported uniform value type.", U), k;
    }
    function O(U) {
      const k = U.target;
      k.removeEventListener("dispose", O);
      const V = f.indexOf(k.__bindingPointIndex);
      f.splice(V, 1), m.deleteBuffer(c[k.id]), delete c[k.id], delete u[k.id];
    }
    function P() {
      for (const U in c)
        m.deleteBuffer(c[U]);
      f = [], c = {}, u = {};
    }
    return {
      bind: C,
      update: _,
      dispose: P
    };
  }
  class TR {
    constructor(t = {}) {
      const {
        canvas: i = Wl(),
        context: s = null,
        depth: c = !0,
        stencil: u = !1,
        alpha: f = !1,
        antialias: b = !1,
        premultipliedAlpha: C = !0,
        preserveDrawingBuffer: _ = !1,
        powerPreference: N = "default",
        failIfMajorPerformanceCaveat: I = !1
      } = t;
      this.isWebGLRenderer = !0;
      let A;
      if (s !== null) {
        if (typeof WebGLRenderingContext < "u" && s instanceof WebGLRenderingContext)
          throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");
        A = s.getContextAttributes().alpha;
      } else
        A = f;
      const E = new Uint32Array(4), R = new Int32Array(4);
      let j = null, O = null;
      const P = [], U = [];
      this.domElement = i, this.debug = {
        /**
         * Enables error checking and reporting when shader programs are being compiled
         * @type {boolean}
         */
        checkShaderErrors: !0,
        /**
         * Callback for custom error reporting.
         * @type {?Function}
         */
        onShaderError: null
      }, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this._outputColorSpace = Pr, this._useLegacyLights = !1, this.toneMapping = Er, this.toneMappingExposure = 1;
      const k = this;
      let V = !1, me = 0, ee = 0, le = null, ye = -1, Z = null;
      const H = new kn(), Te = new kn();
      let ke = null;
      const Ce = new Tt(0);
      let Le = 0, Ve = i.width, Ze = i.height, vt = 1, ze = null, lt = null;
      const st = new kn(0, 0, Ve, Ze), Bt = new kn(0, 0, Ve, Ze);
      let dn = !1;
      const Vn = new W();
      let Ge = !1, ht = !1;
      const jt = new Wt(), ut = new ie(), mn = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: !0 };
      function xn() {
        return le === null ? vt : 1;
      }
      let Se = s;
      function Nn(Q, Me) {
        return i.getContext(Q, Me);
      }
      try {
        const Q = {
          alpha: !0,
          depth: c,
          stencil: u,
          antialias: b,
          premultipliedAlpha: C,
          preserveDrawingBuffer: _,
          powerPreference: N,
          failIfMajorPerformanceCaveat: I
        };
        if ("setAttribute" in i && i.setAttribute("data-engine", `three.js r${a}`), i.addEventListener("webglcontextlost", we, !1), i.addEventListener("webglcontextrestored", et, !1), i.addEventListener("webglcontextcreationerror", He, !1), Se === null) {
          const Me = "webgl2";
          if (Se = Nn(Me, Q), Se === null)
            throw Nn(Me) ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
        }
      } catch (Q) {
        throw console.error("THREE.WebGLRenderer: " + Q.message), Q;
      }
      let We, ot, Ye, pt, it, Pt, $t, ce, Y, Ae, qe, tt, Qe, Ut, Ct, xt, cn, dt, zt, Tn, Kt, Ot, gn, Mn;
      function Cr() {
        We = new j4(Se), We.init(), Ot = new c_(Se, We), ot = new E4(Se, We, t, Ot), Ye = new pR(Se), pt = new k4(Se), it = new nR(), Pt = new fR(Se, We, Ye, it, ot, Ot, pt), $t = new R4(k), ce = new L4(k), Y = new ge(Se), gn = new I4(Se, Y), Ae = new D4(Se, Y, pt, gn), qe = new z4(Se, Ae, Y, pt), zt = new X4(Se, ot, Pt), xt = new P4(it), tt = new tR(k, $t, ce, We, ot, gn, xt), Qe = new _R(k, it), Ut = new iR(), Ct = new hR(We), dt = new S4(k, $t, ce, Ye, qe, A, C), cn = new mR(k, qe, ot), Mn = new wR(Se, pt, ot, Ye), Tn = new A4(Se, We, pt), Kt = new F4(Se, We, pt), pt.programs = tt.programs, k.capabilities = ot, k.extensions = We, k.properties = it, k.renderLists = Ut, k.shadowMap = cn, k.state = Ye, k.info = pt;
      }
      Cr();
      const bn = new xR(k, Se);
      this.xr = bn, this.getContext = function() {
        return Se;
      }, this.getContextAttributes = function() {
        return Se.getContextAttributes();
      }, this.forceContextLoss = function() {
        const Q = We.get("WEBGL_lose_context");
        Q && Q.loseContext();
      }, this.forceContextRestore = function() {
        const Q = We.get("WEBGL_lose_context");
        Q && Q.restoreContext();
      }, this.getPixelRatio = function() {
        return vt;
      }, this.setPixelRatio = function(Q) {
        Q !== void 0 && (vt = Q, this.setSize(Ve, Ze, !1));
      }, this.getSize = function(Q) {
        return Q.set(Ve, Ze);
      }, this.setSize = function(Q, Me, je = !0) {
        if (bn.isPresenting) {
          console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");
          return;
        }
        Ve = Q, Ze = Me, i.width = Math.floor(Q * vt), i.height = Math.floor(Me * vt), je === !0 && (i.style.width = Q + "px", i.style.height = Me + "px"), this.setViewport(0, 0, Q, Me);
      }, this.getDrawingBufferSize = function(Q) {
        return Q.set(Ve * vt, Ze * vt).floor();
      }, this.setDrawingBufferSize = function(Q, Me, je) {
        Ve = Q, Ze = Me, vt = je, i.width = Math.floor(Q * je), i.height = Math.floor(Me * je), this.setViewport(0, 0, Q, Me);
      }, this.getCurrentViewport = function(Q) {
        return Q.copy(H);
      }, this.getViewport = function(Q) {
        return Q.copy(st);
      }, this.setViewport = function(Q, Me, je, Ee) {
        Q.isVector4 ? st.set(Q.x, Q.y, Q.z, Q.w) : st.set(Q, Me, je, Ee), Ye.viewport(H.copy(st).multiplyScalar(vt).round());
      }, this.getScissor = function(Q) {
        return Q.copy(Bt);
      }, this.setScissor = function(Q, Me, je, Ee) {
        Q.isVector4 ? Bt.set(Q.x, Q.y, Q.z, Q.w) : Bt.set(Q, Me, je, Ee), Ye.scissor(Te.copy(Bt).multiplyScalar(vt).round());
      }, this.getScissorTest = function() {
        return dn;
      }, this.setScissorTest = function(Q) {
        Ye.setScissorTest(dn = Q);
      }, this.setOpaqueSort = function(Q) {
        ze = Q;
      }, this.setTransparentSort = function(Q) {
        lt = Q;
      }, this.getClearColor = function(Q) {
        return Q.copy(dt.getClearColor());
      }, this.setClearColor = function() {
        dt.setClearColor.apply(dt, arguments);
      }, this.getClearAlpha = function() {
        return dt.getClearAlpha();
      }, this.setClearAlpha = function() {
        dt.setClearAlpha.apply(dt, arguments);
      }, this.clear = function(Q = !0, Me = !0, je = !0) {
        let Ee = 0;
        if (Q) {
          let Pe = !1;
          if (le !== null) {
            const wt = le.texture.format;
            Pe = wt === oh || wt === ud || wt === cd;
          }
          if (Pe) {
            const wt = le.texture.type, Ft = wt === mo || wt === Na || wt === ad || wt === Cs || wt === nh || wt === rh, kt = dt.getClearColor(), Zt = dt.getClearAlpha(), nn = kt.r, pn = kt.g, vn = kt.b;
            Ft ? (E[0] = nn, E[1] = pn, E[2] = vn, E[3] = Zt, Se.clearBufferuiv(Se.COLOR, 0, E)) : (R[0] = nn, R[1] = pn, R[2] = vn, R[3] = Zt, Se.clearBufferiv(Se.COLOR, 0, R));
          } else
            Ee |= Se.COLOR_BUFFER_BIT;
        }
        Me && (Ee |= Se.DEPTH_BUFFER_BIT), je && (Ee |= Se.STENCIL_BUFFER_BIT, this.state.buffers.stencil.setMask(4294967295)), Se.clear(Ee);
      }, this.clearColor = function() {
        this.clear(!0, !1, !1);
      }, this.clearDepth = function() {
        this.clear(!1, !0, !1);
      }, this.clearStencil = function() {
        this.clear(!1, !1, !0);
      }, this.dispose = function() {
        i.removeEventListener("webglcontextlost", we, !1), i.removeEventListener("webglcontextrestored", et, !1), i.removeEventListener("webglcontextcreationerror", He, !1), Ut.dispose(), Ct.dispose(), it.dispose(), $t.dispose(), ce.dispose(), qe.dispose(), gn.dispose(), Mn.dispose(), tt.dispose(), bn.dispose(), bn.removeEventListener("sessionstart", Hn), bn.removeEventListener("sessionend", oa), bi.stop();
      };
      function we(Q) {
        Q.preventDefault(), console.log("THREE.WebGLRenderer: Context Lost."), V = !0;
      }
      function et() {
        console.log("THREE.WebGLRenderer: Context Restored."), V = !1;
        const Q = pt.autoReset, Me = cn.enabled, je = cn.autoUpdate, Ee = cn.needsUpdate, Pe = cn.type;
        Cr(), pt.autoReset = Q, cn.enabled = Me, cn.autoUpdate = je, cn.needsUpdate = Ee, cn.type = Pe;
      }
      function He(Q) {
        console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ", Q.statusMessage);
      }
      function _t(Q) {
        const Me = Q.target;
        Me.removeEventListener("dispose", _t), At(Me);
      }
      function At(Q) {
        jn(Q), it.remove(Q);
      }
      function jn(Q) {
        const Me = it.get(Q).programs;
        Me !== void 0 && (Me.forEach(function(je) {
          tt.releaseProgram(je);
        }), Q.isShaderMaterial && tt.releaseShaderCache(Q));
      }
      this.renderBufferDirect = function(Q, Me, je, Ee, Pe, wt) {
        Me === null && (Me = mn);
        const Ft = Pe.isMesh && Pe.matrixWorld.determinant() < 0, kt = v8(Q, Me, je, Ee, Pe);
        Ye.setMaterial(Ee, Ft);
        let Zt = je.index, nn = 1;
        if (Ee.wireframe === !0) {
          if (Zt = Ae.getWireframeAttribute(je), Zt === void 0)
            return;
          nn = 2;
        }
        const pn = je.drawRange, vn = je.attributes.position;
        let Sr = pn.start * nn, ni = (pn.start + pn.count) * nn;
        wt !== null && (Sr = Math.max(Sr, wt.start * nn), ni = Math.min(ni, (wt.start + wt.count) * nn)), Zt !== null ? (Sr = Math.max(Sr, 0), ni = Math.min(ni, Zt.count)) : vn != null && (Sr = Math.max(Sr, 0), ni = Math.min(ni, vn.count));
        const ji = ni - Sr;
        if (ji < 0 || ji === 1 / 0)
          return;
        gn.setup(Pe, Ee, kt, je, Zt);
        let $a, Un = Tn;
        if (Zt !== null && ($a = Y.get(Zt), Un = Kt, Un.setIndex($a)), Pe.isMesh)
          Ee.wireframe === !0 ? (Ye.setLineWidth(Ee.wireframeLinewidth * xn()), Un.setMode(Se.LINES)) : Un.setMode(Se.TRIANGLES);
        else if (Pe.isLine) {
          let rn = Ee.linewidth;
          rn === void 0 && (rn = 1), Ye.setLineWidth(rn * xn()), Pe.isLineSegments ? Un.setMode(Se.LINES) : Pe.isLineLoop ? Un.setMode(Se.LINE_LOOP) : Un.setMode(Se.LINE_STRIP);
        } else
          Pe.isPoints ? Un.setMode(Se.POINTS) : Pe.isSprite && Un.setMode(Se.TRIANGLES);
        if (Pe.isBatchedMesh)
          Pe._multiDrawInstances !== null ? Un.renderMultiDrawInstances(Pe._multiDrawStarts, Pe._multiDrawCounts, Pe._multiDrawCount, Pe._multiDrawInstances) : Un.renderMultiDraw(Pe._multiDrawStarts, Pe._multiDrawCounts, Pe._multiDrawCount);
        else if (Pe.isInstancedMesh)
          Un.renderInstances(Sr, ji, Pe.count);
        else if (je.isInstancedBufferGeometry) {
          const rn = je._maxInstanceCount !== void 0 ? je._maxInstanceCount : 1 / 0, Am = Math.min(je.instanceCount, rn);
          Un.renderInstances(Sr, ji, Am);
        } else
          Un.render(Sr, ji);
      };
      function nr(Q, Me, je) {
        Q.transparent === !0 && Q.side === w && Q.forceSinglePass === !1 ? (Q.side = x, Q.needsUpdate = !0, I1(Q, Me, je), Q.side = y, Q.needsUpdate = !0, I1(Q, Me, je), Q.side = w) : I1(Q, Me, je);
      }
      this.compile = function(Q, Me, je = null) {
        je === null && (je = Q), O = Ct.get(je), O.init(Me), U.push(O), je.traverseVisible(function(Pe) {
          Pe.isLight && Pe.layers.test(Me.layers) && (O.pushLight(Pe), Pe.castShadow && O.pushShadow(Pe));
        }), Q !== je && Q.traverseVisible(function(Pe) {
          Pe.isLight && Pe.layers.test(Me.layers) && (O.pushLight(Pe), Pe.castShadow && O.pushShadow(Pe));
        }), O.setupLights(k._useLegacyLights);
        const Ee = /* @__PURE__ */ new Set();
        return Q.traverse(function(Pe) {
          const wt = Pe.material;
          if (wt)
            if (Array.isArray(wt))
              for (let Ft = 0; Ft < wt.length; Ft++) {
                const kt = wt[Ft];
                nr(kt, je, Pe), Ee.add(kt);
              }
            else
              nr(wt, je, Pe), Ee.add(wt);
        }), U.pop(), O = null, Ee;
      }, this.compileAsync = function(Q, Me, je = null) {
        const Ee = this.compile(Q, Me, je);
        return new Promise((Pe) => {
          function wt() {
            if (Ee.forEach(function(Ft) {
              it.get(Ft).currentProgram.isReady() && Ee.delete(Ft);
            }), Ee.size === 0) {
              Pe(Q);
              return;
            }
            setTimeout(wt, 10);
          }
          We.get("KHR_parallel_shader_compile") !== null ? wt() : setTimeout(wt, 10);
        });
      };
      let br = null;
      function ti(Q) {
        br && br(Q);
      }
      function Hn() {
        bi.stop();
      }
      function oa() {
        bi.start();
      }
      const bi = new te();
      bi.setAnimationLoop(ti), typeof self < "u" && bi.setContext(self), this.setAnimationLoop = function(Q) {
        br = Q, bn.setAnimationLoop(Q), Q === null ? bi.stop() : bi.start();
      }, bn.addEventListener("sessionstart", Hn), bn.addEventListener("sessionend", oa), this.render = function(Q, Me) {
        if (Me !== void 0 && Me.isCamera !== !0) {
          console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
          return;
        }
        if (V === !0)
          return;
        Q.matrixWorldAutoUpdate === !0 && Q.updateMatrixWorld(), Me.parent === null && Me.matrixWorldAutoUpdate === !0 && Me.updateMatrixWorld(), bn.enabled === !0 && bn.isPresenting === !0 && (bn.cameraAutoUpdate === !0 && bn.updateCamera(Me), Me = bn.getCamera()), Q.isScene === !0 && Q.onBeforeRender(k, Q, Me, le), O = Ct.get(Q, U.length), O.init(Me), U.push(O), jt.multiplyMatrices(Me.projectionMatrix, Me.matrixWorldInverse), Vn.setFromProjectionMatrix(jt), ht = this.localClippingEnabled, Ge = xt.init(this.clippingPlanes, ht), j = Ut.get(Q, P.length), j.init(), P.push(j), Zw(Q, Me, 0, k.sortObjects), j.finish(), k.sortObjects === !0 && j.sort(ze, lt);
        const je = bn.enabled === !1 || bn.isPresenting === !1 || bn.hasDepthSensing() === !1;
        je && dt.addToRenderList(j, Q), this.info.render.frame++, Ge === !0 && xt.beginShadows();
        const Ee = O.state.shadowsArray;
        cn.render(Ee, Q, Me), Ge === !0 && xt.endShadows(), this.info.autoReset === !0 && this.info.reset();
        const Pe = j.opaque, wt = j.transmissive;
        if (O.setupLights(k._useLegacyLights), Me.isArrayCamera) {
          const Ft = Me.cameras;
          if (wt.length > 0)
            for (let kt = 0, Zt = Ft.length; kt < Zt; kt++) {
              const nn = Ft[kt];
              Qw(Pe, wt, Q, nn);
            }
          je && dt.render(Q);
          for (let kt = 0, Zt = Ft.length; kt < Zt; kt++) {
            const nn = Ft[kt];
            Jw(j, Q, nn, nn.viewport);
          }
        } else
          wt.length > 0 && Qw(Pe, wt, Q, Me), je && dt.render(Q), Jw(j, Q, Me);
        le !== null && (Pt.updateMultisampleRenderTarget(le), Pt.updateRenderTargetMipmap(le)), Q.isScene === !0 && Q.onAfterRender(k, Q, Me), gn.resetDefaultState(), ye = -1, Z = null, U.pop(), U.length > 0 ? (O = U[U.length - 1], Ge === !0 && xt.setGlobalState(k.clippingPlanes, O.state.camera)) : O = null, P.pop(), P.length > 0 ? j = P[P.length - 1] : j = null;
      };
      function Zw(Q, Me, je, Ee) {
        if (Q.visible === !1)
          return;
        if (Q.layers.test(Me.layers)) {
          if (Q.isGroup)
            je = Q.renderOrder;
          else if (Q.isLOD)
            Q.autoUpdate === !0 && Q.update(Me);
          else if (Q.isLight)
            O.pushLight(Q), Q.castShadow && O.pushShadow(Q);
          else if (Q.isSprite) {
            if (!Q.frustumCulled || Vn.intersectsSprite(Q)) {
              Ee && ut.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(jt);
              const Ft = qe.update(Q), kt = Q.material;
              kt.visible && j.push(Q, Ft, kt, je, ut.z, null);
            }
          } else if ((Q.isMesh || Q.isLine || Q.isPoints) && (!Q.frustumCulled || Vn.intersectsObject(Q))) {
            const Ft = qe.update(Q), kt = Q.material;
            if (Ee && (Q.boundingSphere !== void 0 ? (Q.boundingSphere === null && Q.computeBoundingSphere(), ut.copy(Q.boundingSphere.center)) : (Ft.boundingSphere === null && Ft.computeBoundingSphere(), ut.copy(Ft.boundingSphere.center)), ut.applyMatrix4(Q.matrixWorld).applyMatrix4(jt)), Array.isArray(kt)) {
              const Zt = Ft.groups;
              for (let nn = 0, pn = Zt.length; nn < pn; nn++) {
                const vn = Zt[nn], Sr = kt[vn.materialIndex];
                Sr && Sr.visible && j.push(Q, Ft, Sr, je, ut.z, vn);
              }
            } else
              kt.visible && j.push(Q, Ft, kt, je, ut.z, null);
          }
        }
        const wt = Q.children;
        for (let Ft = 0, kt = wt.length; Ft < kt; Ft++)
          Zw(wt[Ft], Me, je, Ee);
      }
      function Jw(Q, Me, je, Ee) {
        const Pe = Q.opaque, wt = Q.transmissive, Ft = Q.transparent;
        O.setupLightsView(je), Ge === !0 && xt.setGlobalState(k.clippingPlanes, je), Ee && Ye.viewport(H.copy(Ee)), Pe.length > 0 && S1(Pe, Me, je), wt.length > 0 && S1(wt, Me, je), Ft.length > 0 && S1(Ft, Me, je), Ye.buffers.depth.setTest(!0), Ye.buffers.depth.setMask(!0), Ye.buffers.color.setMask(!0), Ye.setPolygonOffset(!1);
      }
      function Qw(Q, Me, je, Ee) {
        if ((je.isScene === !0 ? je.overrideMaterial : null) !== null)
          return;
        O.state.transmissionRenderTarget[Ee.id] === void 0 && (O.state.transmissionRenderTarget[Ee.id] = new wi(1, 1, {
          generateMipmaps: !0,
          type: We.has("EXT_color_buffer_half_float") || We.has("EXT_color_buffer_float") ? Rl : mo,
          minFilter: Vi,
          samples: 4,
          stencilBuffer: u,
          resolveDepthBuffer: !1,
          resolveStencilBuffer: !1
        }));
        const wt = O.state.transmissionRenderTarget[Ee.id], Ft = Ee.viewport || H;
        wt.setSize(Ft.z, Ft.w);
        const kt = k.getRenderTarget();
        k.setRenderTarget(wt), k.getClearColor(Ce), Le = k.getClearAlpha(), Le < 1 && k.setClearColor(16777215, 0.5), k.clear();
        const Zt = k.toneMapping;
        k.toneMapping = Er;
        const nn = Ee.viewport;
        if (Ee.viewport !== void 0 && (Ee.viewport = void 0), O.setupLightsView(Ee), Ge === !0 && xt.setGlobalState(k.clippingPlanes, Ee), S1(Q, je, Ee), Pt.updateMultisampleRenderTarget(wt), Pt.updateRenderTargetMipmap(wt), We.has("WEBGL_multisampled_render_to_texture") === !1) {
          let pn = !1;
          for (let vn = 0, Sr = Me.length; vn < Sr; vn++) {
            const ni = Me[vn], ji = ni.object, $a = ni.geometry, Un = ni.material, rn = ni.group;
            if (Un.side === w && ji.layers.test(Ee.layers)) {
              const Am = Un.side;
              Un.side = x, Un.needsUpdate = !0, eT(ji, je, Ee, $a, Un, rn), Un.side = Am, Un.needsUpdate = !0, pn = !0;
            }
          }
          pn === !0 && (Pt.updateMultisampleRenderTarget(wt), Pt.updateRenderTargetMipmap(wt));
        }
        k.setRenderTarget(kt), k.setClearColor(Ce, Le), nn !== void 0 && (Ee.viewport = nn), k.toneMapping = Zt;
      }
      function S1(Q, Me, je) {
        const Ee = Me.isScene === !0 ? Me.overrideMaterial : null;
        for (let Pe = 0, wt = Q.length; Pe < wt; Pe++) {
          const Ft = Q[Pe], kt = Ft.object, Zt = Ft.geometry, nn = Ee === null ? Ft.material : Ee, pn = Ft.group;
          kt.layers.test(je.layers) && eT(kt, Me, je, Zt, nn, pn);
        }
      }
      function eT(Q, Me, je, Ee, Pe, wt) {
        Q.onBeforeRender(k, Me, je, Ee, Pe, wt), Q.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse, Q.matrixWorld), Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix), Pe.onBeforeRender(k, Me, je, Ee, Q, wt), Pe.transparent === !0 && Pe.side === w && Pe.forceSinglePass === !1 ? (Pe.side = x, Pe.needsUpdate = !0, k.renderBufferDirect(je, Me, Ee, Pe, Q, wt), Pe.side = y, Pe.needsUpdate = !0, k.renderBufferDirect(je, Me, Ee, Pe, Q, wt), Pe.side = w) : k.renderBufferDirect(je, Me, Ee, Pe, Q, wt), Q.onAfterRender(k, Me, je, Ee, Pe, wt);
      }
      function I1(Q, Me, je) {
        Me.isScene !== !0 && (Me = mn);
        const Ee = it.get(Q), Pe = O.state.lights, wt = O.state.shadowsArray, Ft = Pe.state.version, kt = tt.getParameters(Q, Pe.state, wt, Me, je), Zt = tt.getProgramCacheKey(kt);
        let nn = Ee.programs;
        Ee.environment = Q.isMeshStandardMaterial ? Me.environment : null, Ee.fog = Me.fog, Ee.envMap = (Q.isMeshStandardMaterial ? ce : $t).get(Q.envMap || Ee.environment), Ee.envMapRotation = Ee.environment !== null && Q.envMap === null ? Me.environmentRotation : Q.envMapRotation, nn === void 0 && (Q.addEventListener("dispose", _t), nn = /* @__PURE__ */ new Map(), Ee.programs = nn);
        let pn = nn.get(Zt);
        if (pn !== void 0) {
          if (Ee.currentProgram === pn && Ee.lightsStateVersion === Ft)
            return nT(Q, kt), pn;
        } else
          kt.uniforms = tt.getUniforms(Q), Q.onBuild(je, kt, k), Q.onBeforeCompile(kt, k), pn = tt.acquireProgram(kt, Zt), nn.set(Zt, pn), Ee.uniforms = kt.uniforms;
        const vn = Ee.uniforms;
        return (!Q.isShaderMaterial && !Q.isRawShaderMaterial || Q.clipping === !0) && (vn.clippingPlanes = xt.uniform), nT(Q, kt), Ee.needsLights = x8(Q), Ee.lightsStateVersion = Ft, Ee.needsLights && (vn.ambientLightColor.value = Pe.state.ambient, vn.lightProbe.value = Pe.state.probe, vn.directionalLights.value = Pe.state.directional, vn.directionalLightShadows.value = Pe.state.directionalShadow, vn.spotLights.value = Pe.state.spot, vn.spotLightShadows.value = Pe.state.spotShadow, vn.rectAreaLights.value = Pe.state.rectArea, vn.ltc_1.value = Pe.state.rectAreaLTC1, vn.ltc_2.value = Pe.state.rectAreaLTC2, vn.pointLights.value = Pe.state.point, vn.pointLightShadows.value = Pe.state.pointShadow, vn.hemisphereLights.value = Pe.state.hemi, vn.directionalShadowMap.value = Pe.state.directionalShadowMap, vn.directionalShadowMatrix.value = Pe.state.directionalShadowMatrix, vn.spotShadowMap.value = Pe.state.spotShadowMap, vn.spotLightMatrix.value = Pe.state.spotLightMatrix, vn.spotLightMap.value = Pe.state.spotLightMap, vn.pointShadowMap.value = Pe.state.pointShadowMap, vn.pointShadowMatrix.value = Pe.state.pointShadowMatrix), Ee.currentProgram = pn, Ee.uniformsList = null, pn;
      }
      function tT(Q) {
        if (Q.uniformsList === null) {
          const Me = Q.currentProgram.getUniforms();
          Q.uniformsList = Rf.seqWithValue(Me.seq, Q.uniforms);
        }
        return Q.uniformsList;
      }
      function nT(Q, Me) {
        const je = it.get(Q);
        je.outputColorSpace = Me.outputColorSpace, je.batching = Me.batching, je.instancing = Me.instancing, je.instancingColor = Me.instancingColor, je.instancingMorph = Me.instancingMorph, je.skinning = Me.skinning, je.morphTargets = Me.morphTargets, je.morphNormals = Me.morphNormals, je.morphColors = Me.morphColors, je.morphTargetsCount = Me.morphTargetsCount, je.numClippingPlanes = Me.numClippingPlanes, je.numIntersection = Me.numClipIntersection, je.vertexAlphas = Me.vertexAlphas, je.vertexTangents = Me.vertexTangents, je.toneMapping = Me.toneMapping;
      }
      function v8(Q, Me, je, Ee, Pe) {
        Me.isScene !== !0 && (Me = mn), Pt.resetTextureUnits();
        const wt = Me.fog, Ft = Ee.isMeshStandardMaterial ? Me.environment : null, kt = le === null ? k.outputColorSpace : le.isXRRenderTarget === !0 ? le.texture.colorSpace : po, Zt = (Ee.isMeshStandardMaterial ? ce : $t).get(Ee.envMap || Ft), nn = Ee.vertexColors === !0 && !!je.attributes.color && je.attributes.color.itemSize === 4, pn = !!je.attributes.tangent && (!!Ee.normalMap || Ee.anisotropy > 0), vn = !!je.morphAttributes.position, Sr = !!je.morphAttributes.normal, ni = !!je.morphAttributes.color;
        let ji = Er;
        Ee.toneMapped && (le === null || le.isXRRenderTarget === !0) && (ji = k.toneMapping);
        const $a = je.morphAttributes.position || je.morphAttributes.normal || je.morphAttributes.color, Un = $a !== void 0 ? $a.length : 0, rn = it.get(Ee), Am = O.state.lights;
        if (Ge === !0 && (ht === !0 || Q !== Z)) {
          const Qi = Q === Z && Ee.id === ye;
          xt.setState(Ee, Q, Qi);
        }
        let cr = !1;
        Ee.version === rn.__version ? (rn.needsLights && rn.lightsStateVersion !== Am.state.version || rn.outputColorSpace !== kt || Pe.isBatchedMesh && rn.batching === !1 || !Pe.isBatchedMesh && rn.batching === !0 || Pe.isInstancedMesh && rn.instancing === !1 || !Pe.isInstancedMesh && rn.instancing === !0 || Pe.isSkinnedMesh && rn.skinning === !1 || !Pe.isSkinnedMesh && rn.skinning === !0 || Pe.isInstancedMesh && rn.instancingColor === !0 && Pe.instanceColor === null || Pe.isInstancedMesh && rn.instancingColor === !1 && Pe.instanceColor !== null || Pe.isInstancedMesh && rn.instancingMorph === !0 && Pe.morphTexture === null || Pe.isInstancedMesh && rn.instancingMorph === !1 && Pe.morphTexture !== null || rn.envMap !== Zt || Ee.fog === !0 && rn.fog !== wt || rn.numClippingPlanes !== void 0 && (rn.numClippingPlanes !== xt.numPlanes || rn.numIntersection !== xt.numIntersection) || rn.vertexAlphas !== nn || rn.vertexTangents !== pn || rn.morphTargets !== vn || rn.morphNormals !== Sr || rn.morphColors !== ni || rn.toneMapping !== ji || rn.morphTargetsCount !== Un) && (cr = !0) : (cr = !0, rn.__version = Ee.version);
        let Mc = rn.currentProgram;
        cr === !0 && (Mc = I1(Ee, Me, Pe));
        let rT = !1, Em = !1, Ev = !1;
        const ri = Mc.getUniforms(), tl = rn.uniforms;
        if (Ye.useProgram(Mc.program) && (rT = !0, Em = !0, Ev = !0), Ee.id !== ye && (ye = Ee.id, Em = !0), rT || Z !== Q) {
          ri.setValue(Se, "projectionMatrix", Q.projectionMatrix), ri.setValue(Se, "viewMatrix", Q.matrixWorldInverse);
          const Qi = ri.map.cameraPosition;
          Qi !== void 0 && Qi.setValue(Se, ut.setFromMatrixPosition(Q.matrixWorld)), ot.logarithmicDepthBuffer && ri.setValue(
            Se,
            "logDepthBufFC",
            2 / (Math.log(Q.far + 1) / Math.LN2)
          ), (Ee.isMeshPhongMaterial || Ee.isMeshToonMaterial || Ee.isMeshLambertMaterial || Ee.isMeshBasicMaterial || Ee.isMeshStandardMaterial || Ee.isShaderMaterial) && ri.setValue(Se, "isOrthographic", Q.isOrthographicCamera === !0), Z !== Q && (Z = Q, Em = !0, Ev = !0);
        }
        if (Pe.isSkinnedMesh) {
          ri.setOptional(Se, Pe, "bindMatrix"), ri.setOptional(Se, Pe, "bindMatrixInverse");
          const Qi = Pe.skeleton;
          Qi && (Qi.boneTexture === null && Qi.computeBoneTexture(), ri.setValue(Se, "boneTexture", Qi.boneTexture, Pt));
        }
        Pe.isBatchedMesh && (ri.setOptional(Se, Pe, "batchingTexture"), ri.setValue(Se, "batchingTexture", Pe._matricesTexture, Pt));
        const Pv = je.morphAttributes;
        if ((Pv.position !== void 0 || Pv.normal !== void 0 || Pv.color !== void 0) && zt.update(Pe, je, Mc), (Em || rn.receiveShadow !== Pe.receiveShadow) && (rn.receiveShadow = Pe.receiveShadow, ri.setValue(Se, "receiveShadow", Pe.receiveShadow)), Ee.isMeshGouraudMaterial && Ee.envMap !== null && (tl.envMap.value = Zt, tl.flipEnvMap.value = Zt.isCubeTexture && Zt.isRenderTargetTexture === !1 ? -1 : 1), Ee.isMeshStandardMaterial && Ee.envMap === null && Me.environment !== null && (tl.envMapIntensity.value = Me.environmentIntensity), Em && (ri.setValue(Se, "toneMappingExposure", k.toneMappingExposure), rn.needsLights && y8(tl, Ev), wt && Ee.fog === !0 && Qe.refreshFogUniforms(tl, wt), Qe.refreshMaterialUniforms(tl, Ee, vt, Ze, O.state.transmissionRenderTarget[Q.id]), Rf.upload(Se, tT(rn), tl, Pt)), Ee.isShaderMaterial && Ee.uniformsNeedUpdate === !0 && (Rf.upload(Se, tT(rn), tl, Pt), Ee.uniformsNeedUpdate = !1), Ee.isSpriteMaterial && ri.setValue(Se, "center", Pe.center), ri.setValue(Se, "modelViewMatrix", Pe.modelViewMatrix), ri.setValue(Se, "normalMatrix", Pe.normalMatrix), ri.setValue(Se, "modelMatrix", Pe.matrixWorld), Ee.isShaderMaterial || Ee.isRawShaderMaterial) {
          const Qi = Ee.uniformsGroups;
          for (let Rv = 0, C8 = Qi.length; Rv < C8; Rv++) {
            const iT = Qi[Rv];
            Mn.update(iT, Mc), Mn.bind(iT, Mc);
          }
        }
        return Mc;
      }
      function y8(Q, Me) {
        Q.ambientLightColor.needsUpdate = Me, Q.lightProbe.needsUpdate = Me, Q.directionalLights.needsUpdate = Me, Q.directionalLightShadows.needsUpdate = Me, Q.pointLights.needsUpdate = Me, Q.pointLightShadows.needsUpdate = Me, Q.spotLights.needsUpdate = Me, Q.spotLightShadows.needsUpdate = Me, Q.rectAreaLights.needsUpdate = Me, Q.hemisphereLights.needsUpdate = Me;
      }
      function x8(Q) {
        return Q.isMeshLambertMaterial || Q.isMeshToonMaterial || Q.isMeshPhongMaterial || Q.isMeshStandardMaterial || Q.isShadowMaterial || Q.isShaderMaterial && Q.lights === !0;
      }
      this.getActiveCubeFace = function() {
        return me;
      }, this.getActiveMipmapLevel = function() {
        return ee;
      }, this.getRenderTarget = function() {
        return le;
      }, this.setRenderTargetTextures = function(Q, Me, je) {
        it.get(Q.texture).__webglTexture = Me, it.get(Q.depthTexture).__webglTexture = je;
        const Ee = it.get(Q);
        Ee.__hasExternalTextures = !0, Ee.__autoAllocateDepthBuffer = je === void 0, Ee.__autoAllocateDepthBuffer || We.has("WEBGL_multisampled_render_to_texture") === !0 && (console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"), Ee.__useRenderToTexture = !1);
      }, this.setRenderTargetFramebuffer = function(Q, Me) {
        const je = it.get(Q);
        je.__webglFramebuffer = Me, je.__useDefaultFramebuffer = Me === void 0;
      }, this.setRenderTarget = function(Q, Me = 0, je = 0) {
        le = Q, me = Me, ee = je;
        let Ee = !0, Pe = null, wt = !1, Ft = !1;
        if (Q) {
          const Zt = it.get(Q);
          Zt.__useDefaultFramebuffer !== void 0 ? (Ye.bindFramebuffer(Se.FRAMEBUFFER, null), Ee = !1) : Zt.__webglFramebuffer === void 0 ? Pt.setupRenderTarget(Q) : Zt.__hasExternalTextures && Pt.rebindTextures(Q, it.get(Q.texture).__webglTexture, it.get(Q.depthTexture).__webglTexture);
          const nn = Q.texture;
          (nn.isData3DTexture || nn.isDataArrayTexture || nn.isCompressedArrayTexture) && (Ft = !0);
          const pn = it.get(Q).__webglFramebuffer;
          Q.isWebGLCubeRenderTarget ? (Array.isArray(pn[Me]) ? Pe = pn[Me][je] : Pe = pn[Me], wt = !0) : Q.samples > 0 && Pt.useMultisampledRTT(Q) === !1 ? Pe = it.get(Q).__webglMultisampledFramebuffer : Array.isArray(pn) ? Pe = pn[je] : Pe = pn, H.copy(Q.viewport), Te.copy(Q.scissor), ke = Q.scissorTest;
        } else
          H.copy(st).multiplyScalar(vt).floor(), Te.copy(Bt).multiplyScalar(vt).floor(), ke = dn;
        if (Ye.bindFramebuffer(Se.FRAMEBUFFER, Pe) && Ee && Ye.drawBuffers(Q, Pe), Ye.viewport(H), Ye.scissor(Te), Ye.setScissorTest(ke), wt) {
          const Zt = it.get(Q.texture);
          Se.framebufferTexture2D(Se.FRAMEBUFFER, Se.COLOR_ATTACHMENT0, Se.TEXTURE_CUBE_MAP_POSITIVE_X + Me, Zt.__webglTexture, je);
        } else if (Ft) {
          const Zt = it.get(Q.texture), nn = Me || 0;
          Se.framebufferTextureLayer(Se.FRAMEBUFFER, Se.COLOR_ATTACHMENT0, Zt.__webglTexture, je || 0, nn);
        }
        ye = -1;
      }, this.readRenderTargetPixels = function(Q, Me, je, Ee, Pe, wt, Ft) {
        if (!(Q && Q.isWebGLRenderTarget)) {
          console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
          return;
        }
        let kt = it.get(Q).__webglFramebuffer;
        if (Q.isWebGLCubeRenderTarget && Ft !== void 0 && (kt = kt[Ft]), kt) {
          Ye.bindFramebuffer(Se.FRAMEBUFFER, kt);
          try {
            const Zt = Q.texture, nn = Zt.format, pn = Zt.type;
            if (!ot.textureFormatReadable(nn)) {
              console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
              return;
            }
            if (!ot.textureTypeReadable(pn)) {
              console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
              return;
            }
            Me >= 0 && Me <= Q.width - Ee && je >= 0 && je <= Q.height - Pe && Se.readPixels(Me, je, Ee, Pe, Ot.convert(nn), Ot.convert(pn), wt);
          } finally {
            const Zt = le !== null ? it.get(le).__webglFramebuffer : null;
            Ye.bindFramebuffer(Se.FRAMEBUFFER, Zt);
          }
        }
      }, this.copyFramebufferToTexture = function(Q, Me, je = 0) {
        const Ee = Math.pow(2, -je), Pe = Math.floor(Me.image.width * Ee), wt = Math.floor(Me.image.height * Ee);
        Pt.setTexture2D(Me, 0), Se.copyTexSubImage2D(Se.TEXTURE_2D, je, 0, 0, Q.x, Q.y, Pe, wt), Ye.unbindTexture();
      }, this.copyTextureToTexture = function(Q, Me, je, Ee = 0) {
        const Pe = Me.image.width, wt = Me.image.height, Ft = Ot.convert(je.format), kt = Ot.convert(je.type);
        Pt.setTexture2D(je, 0), Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL, je.flipY), Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL, je.premultiplyAlpha), Se.pixelStorei(Se.UNPACK_ALIGNMENT, je.unpackAlignment), Me.isDataTexture ? Se.texSubImage2D(Se.TEXTURE_2D, Ee, Q.x, Q.y, Pe, wt, Ft, kt, Me.image.data) : Me.isCompressedTexture ? Se.compressedTexSubImage2D(Se.TEXTURE_2D, Ee, Q.x, Q.y, Me.mipmaps[0].width, Me.mipmaps[0].height, Ft, Me.mipmaps[0].data) : Se.texSubImage2D(Se.TEXTURE_2D, Ee, Q.x, Q.y, Ft, kt, Me.image), Ee === 0 && je.generateMipmaps && Se.generateMipmap(Se.TEXTURE_2D), Ye.unbindTexture();
      }, this.copyTextureToTexture3D = function(Q, Me, je, Ee, Pe = 0) {
        const wt = Q.max.x - Q.min.x, Ft = Q.max.y - Q.min.y, kt = Q.max.z - Q.min.z, Zt = Ot.convert(Ee.format), nn = Ot.convert(Ee.type);
        let pn;
        if (Ee.isData3DTexture)
          Pt.setTexture3D(Ee, 0), pn = Se.TEXTURE_3D;
        else if (Ee.isDataArrayTexture || Ee.isCompressedArrayTexture)
          Pt.setTexture2DArray(Ee, 0), pn = Se.TEXTURE_2D_ARRAY;
        else {
          console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");
          return;
        }
        Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL, Ee.flipY), Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL, Ee.premultiplyAlpha), Se.pixelStorei(Se.UNPACK_ALIGNMENT, Ee.unpackAlignment);
        const vn = Se.getParameter(Se.UNPACK_ROW_LENGTH), Sr = Se.getParameter(Se.UNPACK_IMAGE_HEIGHT), ni = Se.getParameter(Se.UNPACK_SKIP_PIXELS), ji = Se.getParameter(Se.UNPACK_SKIP_ROWS), $a = Se.getParameter(Se.UNPACK_SKIP_IMAGES), Un = je.isCompressedTexture ? je.mipmaps[Pe] : je.image;
        Se.pixelStorei(Se.UNPACK_ROW_LENGTH, Un.width), Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT, Un.height), Se.pixelStorei(Se.UNPACK_SKIP_PIXELS, Q.min.x), Se.pixelStorei(Se.UNPACK_SKIP_ROWS, Q.min.y), Se.pixelStorei(Se.UNPACK_SKIP_IMAGES, Q.min.z), je.isDataTexture || je.isData3DTexture ? Se.texSubImage3D(pn, Pe, Me.x, Me.y, Me.z, wt, Ft, kt, Zt, nn, Un.data) : Ee.isCompressedArrayTexture ? Se.compressedTexSubImage3D(pn, Pe, Me.x, Me.y, Me.z, wt, Ft, kt, Zt, Un.data) : Se.texSubImage3D(pn, Pe, Me.x, Me.y, Me.z, wt, Ft, kt, Zt, nn, Un), Se.pixelStorei(Se.UNPACK_ROW_LENGTH, vn), Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT, Sr), Se.pixelStorei(Se.UNPACK_SKIP_PIXELS, ni), Se.pixelStorei(Se.UNPACK_SKIP_ROWS, ji), Se.pixelStorei(Se.UNPACK_SKIP_IMAGES, $a), Pe === 0 && Ee.generateMipmaps && Se.generateMipmap(pn), Ye.unbindTexture();
      }, this.initTexture = function(Q) {
        Q.isCubeTexture ? Pt.setTextureCube(Q, 0) : Q.isData3DTexture ? Pt.setTexture3D(Q, 0) : Q.isDataArrayTexture || Q.isCompressedArrayTexture ? Pt.setTexture2DArray(Q, 0) : Pt.setTexture2D(Q, 0), Ye.unbindTexture();
      }, this.resetState = function() {
        me = 0, ee = 0, le = null, Ye.reset(), gn.reset();
      }, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", { detail: this }));
    }
    get coordinateSystem() {
      return hi;
    }
    get outputColorSpace() {
      return this._outputColorSpace;
    }
    set outputColorSpace(t) {
      this._outputColorSpace = t;
      const i = this.getContext();
      i.drawingBufferColorSpace = t === fh ? "display-p3" : "srgb", i.unpackColorSpace = Fn.workingColorSpace === Xl ? "display-p3" : "srgb";
    }
    get useLegacyLights() {
      return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."), this._useLegacyLights;
    }
    set useLegacyLights(t) {
      console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."), this._useLegacyLights = t;
    }
  }
  class Bf {
    constructor(t, i = 25e-5) {
      this.isFogExp2 = !0, this.name = "", this.color = new Tt(t), this.density = i;
    }
    clone() {
      return new Bf(this.color, this.density);
    }
    toJSON() {
      return {
        type: "FogExp2",
        name: this.name,
        color: this.color.getHex(),
        density: this.density
      };
    }
  }
  class Of {
    constructor(t, i = 1, s = 1e3) {
      this.isFog = !0, this.name = "", this.color = new Tt(t), this.near = i, this.far = s;
    }
    clone() {
      return new Of(this.color, this.near, this.far);
    }
    toJSON() {
      return {
        type: "Fog",
        name: this.name,
        color: this.color.getHex(),
        near: this.near,
        far: this.far
      };
    }
  }
  class u_ extends An {
    constructor() {
      super(), this.isScene = !0, this.type = "Scene", this.background = null, this.environment = null, this.fog = null, this.backgroundBlurriness = 0, this.backgroundIntensity = 1, this.backgroundRotation = new mi(), this.environmentIntensity = 1, this.environmentRotation = new mi(), this.overrideMaterial = null, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", { detail: this }));
    }
    copy(t, i) {
      return super.copy(t, i), t.background !== null && (this.background = t.background.clone()), t.environment !== null && (this.environment = t.environment.clone()), t.fog !== null && (this.fog = t.fog.clone()), this.backgroundBlurriness = t.backgroundBlurriness, this.backgroundIntensity = t.backgroundIntensity, this.backgroundRotation.copy(t.backgroundRotation), this.environmentIntensity = t.environmentIntensity, this.environmentRotation.copy(t.environmentRotation), t.overrideMaterial !== null && (this.overrideMaterial = t.overrideMaterial.clone()), this.matrixAutoUpdate = t.matrixAutoUpdate, this;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return this.fog !== null && (i.object.fog = this.fog.toJSON()), this.backgroundBlurriness > 0 && (i.object.backgroundBlurriness = this.backgroundBlurriness), this.backgroundIntensity !== 1 && (i.object.backgroundIntensity = this.backgroundIntensity), i.object.backgroundRotation = this.backgroundRotation.toArray(), this.environmentIntensity !== 1 && (i.object.environmentIntensity = this.environmentIntensity), i.object.environmentRotation = this.environmentRotation.toArray(), i;
    }
  }
  class Lf {
    constructor(t, i) {
      this.isInterleavedBuffer = !0, this.array = t, this.stride = i, this.count = t !== void 0 ? t.length / i : 0, this.usage = Ul, this._updateRange = { offset: 0, count: -1 }, this.updateRanges = [], this.version = 0, this.uuid = ui();
    }
    onUploadCallback() {
    }
    set needsUpdate(t) {
      t === !0 && this.version++;
    }
    get updateRange() {
      return hf("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."), this._updateRange;
    }
    setUsage(t) {
      return this.usage = t, this;
    }
    addUpdateRange(t, i) {
      this.updateRanges.push({ start: t, count: i });
    }
    clearUpdateRanges() {
      this.updateRanges.length = 0;
    }
    copy(t) {
      return this.array = new t.array.constructor(t.array), this.count = t.count, this.stride = t.stride, this.usage = t.usage, this;
    }
    copyAt(t, i, s) {
      t *= this.stride, s *= i.stride;
      for (let c = 0, u = this.stride; c < u; c++)
        this.array[t + c] = i.array[s + c];
      return this;
    }
    set(t, i = 0) {
      return this.array.set(t, i), this;
    }
    clone(t) {
      t.arrayBuffers === void 0 && (t.arrayBuffers = {}), this.array.buffer._uuid === void 0 && (this.array.buffer._uuid = ui()), t.arrayBuffers[this.array.buffer._uuid] === void 0 && (t.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer);
      const i = new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]), s = new this.constructor(i, this.stride);
      return s.setUsage(this.usage), s;
    }
    onUpload(t) {
      return this.onUploadCallback = t, this;
    }
    toJSON(t) {
      return t.arrayBuffers === void 0 && (t.arrayBuffers = {}), this.array.buffer._uuid === void 0 && (this.array.buffer._uuid = ui()), t.arrayBuffers[this.array.buffer._uuid] === void 0 && (t.arrayBuffers[this.array.buffer._uuid] = Array.from(new Uint32Array(this.array.buffer))), {
        uuid: this.uuid,
        buffer: this.array.buffer._uuid,
        type: this.array.constructor.name,
        stride: this.stride
      };
    }
  }
  const fi = /* @__PURE__ */ new ie();
  class pc {
    constructor(t, i, s, c = !1) {
      this.isInterleavedBufferAttribute = !0, this.name = "", this.data = t, this.itemSize = i, this.offset = s, this.normalized = c;
    }
    get count() {
      return this.data.count;
    }
    get array() {
      return this.data.array;
    }
    set needsUpdate(t) {
      this.data.needsUpdate = t;
    }
    applyMatrix4(t) {
      for (let i = 0, s = this.data.count; i < s; i++)
        fi.fromBufferAttribute(this, i), fi.applyMatrix4(t), this.setXYZ(i, fi.x, fi.y, fi.z);
      return this;
    }
    applyNormalMatrix(t) {
      for (let i = 0, s = this.count; i < s; i++)
        fi.fromBufferAttribute(this, i), fi.applyNormalMatrix(t), this.setXYZ(i, fi.x, fi.y, fi.z);
      return this;
    }
    transformDirection(t) {
      for (let i = 0, s = this.count; i < s; i++)
        fi.fromBufferAttribute(this, i), fi.transformDirection(t), this.setXYZ(i, fi.x, fi.y, fi.z);
      return this;
    }
    getComponent(t, i) {
      let s = this.array[t * this.data.stride + this.offset + i];
      return this.normalized && (s = kr(s, this.array)), s;
    }
    setComponent(t, i, s) {
      return this.normalized && (s = Jt(s, this.array)), this.data.array[t * this.data.stride + this.offset + i] = s, this;
    }
    setX(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.data.array[t * this.data.stride + this.offset] = i, this;
    }
    setY(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.data.array[t * this.data.stride + this.offset + 1] = i, this;
    }
    setZ(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.data.array[t * this.data.stride + this.offset + 2] = i, this;
    }
    setW(t, i) {
      return this.normalized && (i = Jt(i, this.array)), this.data.array[t * this.data.stride + this.offset + 3] = i, this;
    }
    getX(t) {
      let i = this.data.array[t * this.data.stride + this.offset];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    getY(t) {
      let i = this.data.array[t * this.data.stride + this.offset + 1];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    getZ(t) {
      let i = this.data.array[t * this.data.stride + this.offset + 2];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    getW(t) {
      let i = this.data.array[t * this.data.stride + this.offset + 3];
      return this.normalized && (i = kr(i, this.array)), i;
    }
    setXY(t, i, s) {
      return t = t * this.data.stride + this.offset, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array)), this.data.array[t + 0] = i, this.data.array[t + 1] = s, this;
    }
    setXYZ(t, i, s, c) {
      return t = t * this.data.stride + this.offset, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array), c = Jt(c, this.array)), this.data.array[t + 0] = i, this.data.array[t + 1] = s, this.data.array[t + 2] = c, this;
    }
    setXYZW(t, i, s, c, u) {
      return t = t * this.data.stride + this.offset, this.normalized && (i = Jt(i, this.array), s = Jt(s, this.array), c = Jt(c, this.array), u = Jt(u, this.array)), this.data.array[t + 0] = i, this.data.array[t + 1] = s, this.data.array[t + 2] = c, this.data.array[t + 3] = u, this;
    }
    clone(t) {
      if (t === void 0) {
        console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");
        const i = [];
        for (let s = 0; s < this.count; s++) {
          const c = s * this.data.stride + this.offset;
          for (let u = 0; u < this.itemSize; u++)
            i.push(this.data.array[c + u]);
        }
        return new on(new this.array.constructor(i), this.itemSize, this.normalized);
      } else
        return t.interleavedBuffers === void 0 && (t.interleavedBuffers = {}), t.interleavedBuffers[this.data.uuid] === void 0 && (t.interleavedBuffers[this.data.uuid] = this.data.clone(t)), new pc(t.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);
    }
    toJSON(t) {
      if (t === void 0) {
        console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
        const i = [];
        for (let s = 0; s < this.count; s++) {
          const c = s * this.data.stride + this.offset;
          for (let u = 0; u < this.itemSize; u++)
            i.push(this.data.array[c + u]);
        }
        return {
          itemSize: this.itemSize,
          type: this.array.constructor.name,
          array: i,
          normalized: this.normalized
        };
      } else
        return t.interleavedBuffers === void 0 && (t.interleavedBuffers = {}), t.interleavedBuffers[this.data.uuid] === void 0 && (t.interleavedBuffers[this.data.uuid] = this.data.toJSON(t)), {
          isInterleavedBufferAttribute: !0,
          itemSize: this.itemSize,
          data: this.data.uuid,
          offset: this.offset,
          normalized: this.normalized
        };
    }
  }
  class Vb extends zr {
    constructor(t) {
      super(), this.isSpriteMaterial = !0, this.type = "SpriteMaterial", this.color = new Tt(16777215), this.map = null, this.alphaMap = null, this.rotation = 0, this.sizeAttenuation = !0, this.transparent = !0, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.map = t.map, this.alphaMap = t.alphaMap, this.rotation = t.rotation, this.sizeAttenuation = t.sizeAttenuation, this.fog = t.fog, this;
    }
  }
  let Fh;
  const sm = /* @__PURE__ */ new ie(), kh = /* @__PURE__ */ new ie(), Xh = /* @__PURE__ */ new ie(), zh = /* @__PURE__ */ new $e(), lm = /* @__PURE__ */ new $e(), d_ = /* @__PURE__ */ new Wt(), jf = /* @__PURE__ */ new ie(), cm = /* @__PURE__ */ new ie(), Df = /* @__PURE__ */ new ie(), m_ = /* @__PURE__ */ new $e(), Hb = /* @__PURE__ */ new $e(), p_ = /* @__PURE__ */ new $e();
  class f_ extends An {
    constructor(t = new Vb()) {
      if (super(), this.isSprite = !0, this.type = "Sprite", Fh === void 0) {
        Fh = new tn();
        const i = new Float32Array([
          -0.5,
          -0.5,
          0,
          0,
          0,
          0.5,
          -0.5,
          0,
          1,
          0,
          0.5,
          0.5,
          0,
          1,
          1,
          -0.5,
          0.5,
          0,
          0,
          1
        ]), s = new Lf(i, 5);
        Fh.setIndex([0, 1, 2, 0, 2, 3]), Fh.setAttribute("position", new pc(s, 3, 0, !1)), Fh.setAttribute("uv", new pc(s, 2, 3, !1));
      }
      this.geometry = Fh, this.material = t, this.center = new $e(0.5, 0.5);
    }
    raycast(t, i) {
      t.camera === null && console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'), kh.setFromMatrixScale(this.matrixWorld), d_.copy(t.camera.matrixWorld), this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse, this.matrixWorld), Xh.setFromMatrixPosition(this.modelViewMatrix), t.camera.isPerspectiveCamera && this.material.sizeAttenuation === !1 && kh.multiplyScalar(-Xh.z);
      const s = this.material.rotation;
      let c, u;
      s !== 0 && (u = Math.cos(s), c = Math.sin(s));
      const f = this.center;
      Ff(jf.set(-0.5, -0.5, 0), Xh, f, kh, c, u), Ff(cm.set(0.5, -0.5, 0), Xh, f, kh, c, u), Ff(Df.set(0.5, 0.5, 0), Xh, f, kh, c, u), m_.set(0, 0), Hb.set(1, 0), p_.set(1, 1);
      let b = t.ray.intersectTriangle(jf, cm, Df, !1, sm);
      if (b === null && (Ff(cm.set(-0.5, 0.5, 0), Xh, f, kh, c, u), Hb.set(0, 1), b = t.ray.intersectTriangle(jf, Df, cm, !1, sm), b === null))
        return;
      const C = t.ray.origin.distanceTo(sm);
      C < t.near || C > t.far || i.push({
        distance: C,
        point: sm.clone(),
        uv: qr.getInterpolation(sm, jf, cm, Df, m_, Hb, p_, new $e()),
        face: null,
        object: this
      });
    }
    copy(t, i) {
      return super.copy(t, i), t.center !== void 0 && this.center.copy(t.center), this.material = t.material, this;
    }
  }
  function Ff(m, t, i, s, c, u) {
    zh.subVectors(m, i).addScalar(0.5).multiply(s), c !== void 0 ? (lm.x = u * zh.x - c * zh.y, lm.y = c * zh.x + u * zh.y) : lm.copy(zh), m.copy(t), m.x += lm.x, m.y += lm.y, m.applyMatrix4(d_);
  }
  const kf = /* @__PURE__ */ new ie(), g_ = /* @__PURE__ */ new ie();
  class b_ extends An {
    constructor() {
      super(), this._currentLevel = 0, this.type = "LOD", Object.defineProperties(this, {
        levels: {
          enumerable: !0,
          value: []
        },
        isLOD: {
          value: !0
        }
      }), this.autoUpdate = !0;
    }
    copy(t) {
      super.copy(t, !1);
      const i = t.levels;
      for (let s = 0, c = i.length; s < c; s++) {
        const u = i[s];
        this.addLevel(u.object.clone(), u.distance, u.hysteresis);
      }
      return this.autoUpdate = t.autoUpdate, this;
    }
    addLevel(t, i = 0, s = 0) {
      i = Math.abs(i);
      const c = this.levels;
      let u;
      for (u = 0; u < c.length && !(i < c[u].distance); u++)
        ;
      return c.splice(u, 0, { distance: i, hysteresis: s, object: t }), this.add(t), this;
    }
    getCurrentLevel() {
      return this._currentLevel;
    }
    getObjectForDistance(t) {
      const i = this.levels;
      if (i.length > 0) {
        let s, c;
        for (s = 1, c = i.length; s < c; s++) {
          let u = i[s].distance;
          if (i[s].object.visible && (u -= u * i[s].hysteresis), t < u)
            break;
        }
        return i[s - 1].object;
      }
      return null;
    }
    raycast(t, i) {
      if (this.levels.length > 0) {
        kf.setFromMatrixPosition(this.matrixWorld);
        const c = t.ray.origin.distanceTo(kf);
        this.getObjectForDistance(c).raycast(t, i);
      }
    }
    update(t) {
      const i = this.levels;
      if (i.length > 1) {
        kf.setFromMatrixPosition(t.matrixWorld), g_.setFromMatrixPosition(this.matrixWorld);
        const s = kf.distanceTo(g_) / t.zoom;
        i[0].object.visible = !0;
        let c, u;
        for (c = 1, u = i.length; c < u; c++) {
          let f = i[c].distance;
          if (i[c].object.visible && (f -= f * i[c].hysteresis), s >= f)
            i[c - 1].object.visible = !1, i[c].object.visible = !0;
          else
            break;
        }
        for (this._currentLevel = c - 1; c < u; c++)
          i[c].object.visible = !1;
      }
    }
    toJSON(t) {
      const i = super.toJSON(t);
      this.autoUpdate === !1 && (i.object.autoUpdate = !1), i.object.levels = [];
      const s = this.levels;
      for (let c = 0, u = s.length; c < u; c++) {
        const f = s[c];
        i.object.levels.push({
          object: f.object.uuid,
          distance: f.distance,
          hysteresis: f.hysteresis
        });
      }
      return i;
    }
  }
  const v_ = /* @__PURE__ */ new ie(), y_ = /* @__PURE__ */ new kn(), x_ = /* @__PURE__ */ new kn(), NR = /* @__PURE__ */ new ie(), C_ = /* @__PURE__ */ new Wt(), Xf = /* @__PURE__ */ new ie(), $b = /* @__PURE__ */ new Xr(), __ = /* @__PURE__ */ new Wt(), qb = /* @__PURE__ */ new yo();
  class w_ extends ur {
    constructor(t, i) {
      super(t, i), this.isSkinnedMesh = !0, this.type = "SkinnedMesh", this.bindMode = uo, this.bindMatrix = new Wt(), this.bindMatrixInverse = new Wt(), this.boundingBox = null, this.boundingSphere = null;
    }
    computeBoundingBox() {
      const t = this.geometry;
      this.boundingBox === null && (this.boundingBox = new Hr()), this.boundingBox.makeEmpty();
      const i = t.getAttribute("position");
      for (let s = 0; s < i.count; s++)
        this.getVertexPosition(s, Xf), this.boundingBox.expandByPoint(Xf);
    }
    computeBoundingSphere() {
      const t = this.geometry;
      this.boundingSphere === null && (this.boundingSphere = new Xr()), this.boundingSphere.makeEmpty();
      const i = t.getAttribute("position");
      for (let s = 0; s < i.count; s++)
        this.getVertexPosition(s, Xf), this.boundingSphere.expandByPoint(Xf);
    }
    copy(t, i) {
      return super.copy(t, i), this.bindMode = t.bindMode, this.bindMatrix.copy(t.bindMatrix), this.bindMatrixInverse.copy(t.bindMatrixInverse), this.skeleton = t.skeleton, t.boundingBox !== null && (this.boundingBox = t.boundingBox.clone()), t.boundingSphere !== null && (this.boundingSphere = t.boundingSphere.clone()), this;
    }
    raycast(t, i) {
      const s = this.material, c = this.matrixWorld;
      s !== void 0 && (this.boundingSphere === null && this.computeBoundingSphere(), $b.copy(this.boundingSphere), $b.applyMatrix4(c), t.ray.intersectsSphere($b) !== !1 && (__.copy(c).invert(), qb.copy(t.ray).applyMatrix4(__), !(this.boundingBox !== null && qb.intersectsBox(this.boundingBox) === !1) && this._computeIntersections(t, i, qb)));
    }
    getVertexPosition(t, i) {
      return super.getVertexPosition(t, i), this.applyBoneTransform(t, i), i;
    }
    bind(t, i) {
      this.skeleton = t, i === void 0 && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), i = this.matrixWorld), this.bindMatrix.copy(i), this.bindMatrixInverse.copy(i).invert();
    }
    pose() {
      this.skeleton.pose();
    }
    normalizeSkinWeights() {
      const t = new kn(), i = this.geometry.attributes.skinWeight;
      for (let s = 0, c = i.count; s < c; s++) {
        t.fromBufferAttribute(i, s);
        const u = 1 / t.manhattanLength();
        u !== 1 / 0 ? t.multiplyScalar(u) : t.set(1, 0, 0, 0), i.setXYZW(s, t.x, t.y, t.z, t.w);
      }
    }
    updateMatrixWorld(t) {
      super.updateMatrixWorld(t), this.bindMode === uo ? this.bindMatrixInverse.copy(this.matrixWorld).invert() : this.bindMode === Al ? this.bindMatrixInverse.copy(this.bindMatrix).invert() : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode);
    }
    applyBoneTransform(t, i) {
      const s = this.skeleton, c = this.geometry;
      y_.fromBufferAttribute(c.attributes.skinIndex, t), x_.fromBufferAttribute(c.attributes.skinWeight, t), v_.copy(i).applyMatrix4(this.bindMatrix), i.set(0, 0, 0);
      for (let u = 0; u < 4; u++) {
        const f = x_.getComponent(u);
        if (f !== 0) {
          const b = y_.getComponent(u);
          C_.multiplyMatrices(s.bones[b].matrixWorld, s.boneInverses[b]), i.addScaledVector(NR.copy(v_).applyMatrix4(C_), f);
        }
      }
      return i.applyMatrix4(this.bindMatrixInverse);
    }
  }
  class Yb extends An {
    constructor() {
      super(), this.isBone = !0, this.type = "Bone";
    }
  }
  class Ys extends lr {
    constructor(t = null, i = 1, s = 1, c, u, f, b, C, _ = yr, N = yr, I, A) {
      super(null, f, b, C, _, N, c, u, I, A), this.isDataTexture = !0, this.image = { data: t, width: i, height: s }, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
    }
  }
  const T_ = /* @__PURE__ */ new Wt(), MR = /* @__PURE__ */ new Wt();
  class zf {
    constructor(t = [], i = []) {
      this.uuid = ui(), this.bones = t.slice(0), this.boneInverses = i, this.boneMatrices = null, this.boneTexture = null, this.init();
    }
    init() {
      const t = this.bones, i = this.boneInverses;
      if (this.boneMatrices = new Float32Array(t.length * 16), i.length === 0)
        this.calculateInverses();
      else if (t.length !== i.length) {
        console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."), this.boneInverses = [];
        for (let s = 0, c = this.bones.length; s < c; s++)
          this.boneInverses.push(new Wt());
      }
    }
    calculateInverses() {
      this.boneInverses.length = 0;
      for (let t = 0, i = this.bones.length; t < i; t++) {
        const s = new Wt();
        this.bones[t] && s.copy(this.bones[t].matrixWorld).invert(), this.boneInverses.push(s);
      }
    }
    pose() {
      for (let t = 0, i = this.bones.length; t < i; t++) {
        const s = this.bones[t];
        s && s.matrixWorld.copy(this.boneInverses[t]).invert();
      }
      for (let t = 0, i = this.bones.length; t < i; t++) {
        const s = this.bones[t];
        s && (s.parent && s.parent.isBone ? (s.matrix.copy(s.parent.matrixWorld).invert(), s.matrix.multiply(s.matrixWorld)) : s.matrix.copy(s.matrixWorld), s.matrix.decompose(s.position, s.quaternion, s.scale));
      }
    }
    update() {
      const t = this.bones, i = this.boneInverses, s = this.boneMatrices, c = this.boneTexture;
      for (let u = 0, f = t.length; u < f; u++) {
        const b = t[u] ? t[u].matrixWorld : MR;
        T_.multiplyMatrices(b, i[u]), T_.toArray(s, u * 16);
      }
      c !== null && (c.needsUpdate = !0);
    }
    clone() {
      return new zf(this.bones, this.boneInverses);
    }
    computeBoneTexture() {
      let t = Math.sqrt(this.bones.length * 4);
      t = Math.ceil(t / 4) * 4, t = Math.max(t, 4);
      const i = new Float32Array(t * t * 4);
      i.set(this.boneMatrices);
      const s = new Ys(i, t, t, ci, _i);
      return s.needsUpdate = !0, this.boneMatrices = i, this.boneTexture = s, this;
    }
    getBoneByName(t) {
      for (let i = 0, s = this.bones.length; i < s; i++) {
        const c = this.bones[i];
        if (c.name === t)
          return c;
      }
    }
    dispose() {
      this.boneTexture !== null && (this.boneTexture.dispose(), this.boneTexture = null);
    }
    fromJSON(t, i) {
      this.uuid = t.uuid;
      for (let s = 0, c = t.bones.length; s < c; s++) {
        const u = t.bones[s];
        let f = i[u];
        f === void 0 && (console.warn("THREE.Skeleton: No bone found with UUID:", u), f = new Yb()), this.bones.push(f), this.boneInverses.push(new Wt().fromArray(t.boneInverses[s]));
      }
      return this.init(), this;
    }
    toJSON() {
      const t = {
        metadata: {
          version: 4.6,
          type: "Skeleton",
          generator: "Skeleton.toJSON"
        },
        bones: [],
        boneInverses: []
      };
      t.uuid = this.uuid;
      const i = this.bones, s = this.boneInverses;
      for (let c = 0, u = i.length; c < u; c++) {
        const f = i[c];
        t.bones.push(f.uuid);
        const b = s[c];
        t.boneInverses.push(b.toArray());
      }
      return t;
    }
  }
  class Uh extends on {
    constructor(t, i, s, c = 1) {
      super(t, i, s), this.isInstancedBufferAttribute = !0, this.meshPerAttribute = c;
    }
    copy(t) {
      return super.copy(t), this.meshPerAttribute = t.meshPerAttribute, this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.meshPerAttribute = this.meshPerAttribute, t.isInstancedBufferAttribute = !0, t;
    }
  }
  const Gh = /* @__PURE__ */ new Wt(), N_ = /* @__PURE__ */ new Wt(), Uf = [], M_ = /* @__PURE__ */ new Hr(), SR = /* @__PURE__ */ new Wt(), hm = /* @__PURE__ */ new ur(), um = /* @__PURE__ */ new Xr();
  class S_ extends ur {
    constructor(t, i, s) {
      super(t, i), this.isInstancedMesh = !0, this.instanceMatrix = new Uh(new Float32Array(s * 16), 16), this.instanceColor = null, this.morphTexture = null, this.count = s, this.boundingBox = null, this.boundingSphere = null;
      for (let c = 0; c < s; c++)
        this.setMatrixAt(c, SR);
    }
    computeBoundingBox() {
      const t = this.geometry, i = this.count;
      this.boundingBox === null && (this.boundingBox = new Hr()), t.boundingBox === null && t.computeBoundingBox(), this.boundingBox.makeEmpty();
      for (let s = 0; s < i; s++)
        this.getMatrixAt(s, Gh), M_.copy(t.boundingBox).applyMatrix4(Gh), this.boundingBox.union(M_);
    }
    computeBoundingSphere() {
      const t = this.geometry, i = this.count;
      this.boundingSphere === null && (this.boundingSphere = new Xr()), t.boundingSphere === null && t.computeBoundingSphere(), this.boundingSphere.makeEmpty();
      for (let s = 0; s < i; s++)
        this.getMatrixAt(s, Gh), um.copy(t.boundingSphere).applyMatrix4(Gh), this.boundingSphere.union(um);
    }
    copy(t, i) {
      return super.copy(t, i), this.instanceMatrix.copy(t.instanceMatrix), t.morphTexture !== null && (this.morphTexture = t.morphTexture.clone()), t.instanceColor !== null && (this.instanceColor = t.instanceColor.clone()), this.count = t.count, t.boundingBox !== null && (this.boundingBox = t.boundingBox.clone()), t.boundingSphere !== null && (this.boundingSphere = t.boundingSphere.clone()), this;
    }
    getColorAt(t, i) {
      i.fromArray(this.instanceColor.array, t * 3);
    }
    getMatrixAt(t, i) {
      i.fromArray(this.instanceMatrix.array, t * 16);
    }
    getMorphAt(t, i) {
      const s = i.morphTargetInfluences, c = this.morphTexture.source.data.data, u = s.length + 1, f = t * u + 1;
      for (let b = 0; b < s.length; b++)
        s[b] = c[f + b];
    }
    raycast(t, i) {
      const s = this.matrixWorld, c = this.count;
      if (hm.geometry = this.geometry, hm.material = this.material, hm.material !== void 0 && (this.boundingSphere === null && this.computeBoundingSphere(), um.copy(this.boundingSphere), um.applyMatrix4(s), t.ray.intersectsSphere(um) !== !1))
        for (let u = 0; u < c; u++) {
          this.getMatrixAt(u, Gh), N_.multiplyMatrices(s, Gh), hm.matrixWorld = N_, hm.raycast(t, Uf);
          for (let f = 0, b = Uf.length; f < b; f++) {
            const C = Uf[f];
            C.instanceId = u, C.object = this, i.push(C);
          }
          Uf.length = 0;
        }
    }
    setColorAt(t, i) {
      this.instanceColor === null && (this.instanceColor = new Uh(new Float32Array(this.instanceMatrix.count * 3), 3)), i.toArray(this.instanceColor.array, t * 3);
    }
    setMatrixAt(t, i) {
      i.toArray(this.instanceMatrix.array, t * 16);
    }
    setMorphAt(t, i) {
      const s = i.morphTargetInfluences, c = s.length + 1;
      this.morphTexture === null && (this.morphTexture = new Ys(new Float32Array(c * this.count), c, this.count, ih, _i));
      const u = this.morphTexture.source.data.data;
      let f = 0;
      for (let _ = 0; _ < s.length; _++)
        f += s[_];
      const b = this.geometry.morphTargetsRelative ? 1 : 1 - f, C = c * t;
      u[C] = b, u.set(s, C + 1);
    }
    updateMorphTargets() {
    }
    dispose() {
      return this.dispatchEvent({ type: "dispose" }), this.morphTexture !== null && (this.morphTexture.dispose(), this.morphTexture = null), this;
    }
  }
  function IR(m, t) {
    return m.z - t.z;
  }
  function AR(m, t) {
    return t.z - m.z;
  }
  class ER {
    constructor() {
      this.index = 0, this.pool = [], this.list = [];
    }
    push(t, i) {
      const s = this.pool, c = this.list;
      this.index >= s.length && s.push({
        start: -1,
        count: -1,
        z: -1
      });
      const u = s[this.index];
      c.push(u), this.index++, u.start = t.start, u.count = t.count, u.z = i;
    }
    reset() {
      this.list.length = 0, this.index = 0;
    }
  }
  const Wh = "batchId", Ks = /* @__PURE__ */ new Wt(), I_ = /* @__PURE__ */ new Wt(), PR = /* @__PURE__ */ new Wt(), A_ = /* @__PURE__ */ new Wt(), Kb = /* @__PURE__ */ new W(), Gf = /* @__PURE__ */ new Hr(), fc = /* @__PURE__ */ new Xr(), dm = /* @__PURE__ */ new ie(), Zb = /* @__PURE__ */ new ER(), ei = /* @__PURE__ */ new ur(), Wf = [];
  function RR(m, t, i = 0) {
    const s = t.itemSize;
    if (m.isInterleavedBufferAttribute || m.array.constructor !== t.array.constructor) {
      const c = m.count;
      for (let u = 0; u < c; u++)
        for (let f = 0; f < s; f++)
          t.setComponent(u + i, f, m.getComponent(u, f));
    } else
      t.array.set(m.array, i * s);
    t.needsUpdate = !0;
  }
  class E_ extends ur {
    get maxGeometryCount() {
      return this._maxGeometryCount;
    }
    constructor(t, i, s = i * 2, c) {
      super(new tn(), c), this.isBatchedMesh = !0, this.perObjectFrustumCulled = !0, this.sortObjects = !0, this.boundingBox = null, this.boundingSphere = null, this.customSort = null, this._drawRanges = [], this._reservedRanges = [], this._visibility = [], this._active = [], this._bounds = [], this._maxGeometryCount = t, this._maxVertexCount = i, this._maxIndexCount = s, this._geometryInitialized = !1, this._geometryCount = 0, this._multiDrawCounts = new Int32Array(t), this._multiDrawStarts = new Int32Array(t), this._multiDrawCount = 0, this._multiDrawInstances = null, this._visibilityChanged = !0, this._matricesTexture = null, this._initMatricesTexture();
    }
    _initMatricesTexture() {
      let t = Math.sqrt(this._maxGeometryCount * 4);
      t = Math.ceil(t / 4) * 4, t = Math.max(t, 4);
      const i = new Float32Array(t * t * 4), s = new Ys(i, t, t, ci, _i);
      this._matricesTexture = s;
    }
    _initializeGeometry(t) {
      const i = this.geometry, s = this._maxVertexCount, c = this._maxGeometryCount, u = this._maxIndexCount;
      if (this._geometryInitialized === !1) {
        for (const b in t.attributes) {
          const C = t.getAttribute(b), { array: _, itemSize: N, normalized: I } = C, A = new _.constructor(s * N), E = new on(A, N, I);
          i.setAttribute(b, E);
        }
        if (t.getIndex() !== null) {
          const b = s > 65536 ? new Uint32Array(u) : new Uint16Array(u);
          i.setIndex(new on(b, 1));
        }
        const f = c > 65536 ? new Uint32Array(s) : new Uint16Array(s);
        i.setAttribute(Wh, new on(f, 1)), this._geometryInitialized = !0;
      }
    }
    // Make sure the geometry is compatible with the existing combined geometry attributes
    _validateGeometry(t) {
      if (t.getAttribute(Wh))
        throw new Error(`BatchedMesh: Geometry cannot use attribute "${Wh}"`);
      const i = this.geometry;
      if (!!t.getIndex() != !!i.getIndex())
        throw new Error('BatchedMesh: All geometries must consistently have "index".');
      for (const s in i.attributes) {
        if (s === Wh)
          continue;
        if (!t.hasAttribute(s))
          throw new Error(`BatchedMesh: Added geometry missing "${s}". All geometries must have consistent attributes.`);
        const c = t.getAttribute(s), u = i.getAttribute(s);
        if (c.itemSize !== u.itemSize || c.normalized !== u.normalized)
          throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.");
      }
    }
    setCustomSort(t) {
      return this.customSort = t, this;
    }
    computeBoundingBox() {
      this.boundingBox === null && (this.boundingBox = new Hr());
      const t = this._geometryCount, i = this.boundingBox, s = this._active;
      i.makeEmpty();
      for (let c = 0; c < t; c++)
        s[c] !== !1 && (this.getMatrixAt(c, Ks), this.getBoundingBoxAt(c, Gf).applyMatrix4(Ks), i.union(Gf));
    }
    computeBoundingSphere() {
      this.boundingSphere === null && (this.boundingSphere = new Xr());
      const t = this._geometryCount, i = this.boundingSphere, s = this._active;
      i.makeEmpty();
      for (let c = 0; c < t; c++)
        s[c] !== !1 && (this.getMatrixAt(c, Ks), this.getBoundingSphereAt(c, fc).applyMatrix4(Ks), i.union(fc));
    }
    addGeometry(t, i = -1, s = -1) {
      if (this._initializeGeometry(t), this._validateGeometry(t), this._geometryCount >= this._maxGeometryCount)
        throw new Error("BatchedMesh: Maximum geometry count reached.");
      const c = {
        vertexStart: -1,
        vertexCount: -1,
        indexStart: -1,
        indexCount: -1
      };
      let u = null;
      const f = this._reservedRanges, b = this._drawRanges, C = this._bounds;
      this._geometryCount !== 0 && (u = f[f.length - 1]), i === -1 ? c.vertexCount = t.getAttribute("position").count : c.vertexCount = i, u === null ? c.vertexStart = 0 : c.vertexStart = u.vertexStart + u.vertexCount;
      const _ = t.getIndex(), N = _ !== null;
      if (N && (s === -1 ? c.indexCount = _.count : c.indexCount = s, u === null ? c.indexStart = 0 : c.indexStart = u.indexStart + u.indexCount), c.indexStart !== -1 && c.indexStart + c.indexCount > this._maxIndexCount || c.vertexStart + c.vertexCount > this._maxVertexCount)
        throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");
      const I = this._visibility, A = this._active, E = this._matricesTexture, R = this._matricesTexture.image.data;
      I.push(!0), A.push(!0);
      const j = this._geometryCount;
      this._geometryCount++, PR.toArray(R, j * 16), E.needsUpdate = !0, f.push(c), b.push({
        start: N ? c.indexStart : c.vertexStart,
        count: -1
      }), C.push({
        boxInitialized: !1,
        box: new Hr(),
        sphereInitialized: !1,
        sphere: new Xr()
      });
      const O = this.geometry.getAttribute(Wh);
      for (let P = 0; P < c.vertexCount; P++)
        O.setX(c.vertexStart + P, j);
      return O.needsUpdate = !0, this.setGeometryAt(j, t), j;
    }
    setGeometryAt(t, i) {
      if (t >= this._geometryCount)
        throw new Error("BatchedMesh: Maximum geometry count reached.");
      this._validateGeometry(i);
      const s = this.geometry, c = s.getIndex() !== null, u = s.getIndex(), f = i.getIndex(), b = this._reservedRanges[t];
      if (c && f.count > b.indexCount || i.attributes.position.count > b.vertexCount)
        throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");
      const C = b.vertexStart, _ = b.vertexCount;
      for (const E in s.attributes) {
        if (E === Wh)
          continue;
        const R = i.getAttribute(E), j = s.getAttribute(E);
        RR(R, j, C);
        const O = R.itemSize;
        for (let P = R.count, U = _; P < U; P++) {
          const k = C + P;
          for (let V = 0; V < O; V++)
            j.setComponent(k, V, 0);
        }
        j.needsUpdate = !0, j.addUpdateRange(C * O, _ * O);
      }
      if (c) {
        const E = b.indexStart;
        for (let R = 0; R < f.count; R++)
          u.setX(E + R, C + f.getX(R));
        for (let R = f.count, j = b.indexCount; R < j; R++)
          u.setX(E + R, C);
        u.needsUpdate = !0, u.addUpdateRange(E, b.indexCount);
      }
      const N = this._bounds[t];
      i.boundingBox !== null ? (N.box.copy(i.boundingBox), N.boxInitialized = !0) : N.boxInitialized = !1, i.boundingSphere !== null ? (N.sphere.copy(i.boundingSphere), N.sphereInitialized = !0) : N.sphereInitialized = !1;
      const I = this._drawRanges[t], A = i.getAttribute("position");
      return I.count = c ? f.count : A.count, this._visibilityChanged = !0, t;
    }
    deleteGeometry(t) {
      const i = this._active;
      return t >= i.length || i[t] === !1 ? this : (i[t] = !1, this._visibilityChanged = !0, this);
    }
    getInstanceCountAt(t) {
      return this._multiDrawInstances === null ? null : this._multiDrawInstances[t];
    }
    setInstanceCountAt(t, i) {
      return this._multiDrawInstances === null && (this._multiDrawInstances = new Int32Array(this._maxGeometryCount).fill(1)), this._multiDrawInstances[t] = i, t;
    }
    // get bounding box and compute it if it doesn't exist
    getBoundingBoxAt(t, i) {
      if (this._active[t] === !1)
        return null;
      const c = this._bounds[t], u = c.box, f = this.geometry;
      if (c.boxInitialized === !1) {
        u.makeEmpty();
        const b = f.index, C = f.attributes.position, _ = this._drawRanges[t];
        for (let N = _.start, I = _.start + _.count; N < I; N++) {
          let A = N;
          b && (A = b.getX(A)), u.expandByPoint(dm.fromBufferAttribute(C, A));
        }
        c.boxInitialized = !0;
      }
      return i.copy(u), i;
    }
    // get bounding sphere and compute it if it doesn't exist
    getBoundingSphereAt(t, i) {
      if (this._active[t] === !1)
        return null;
      const c = this._bounds[t], u = c.sphere, f = this.geometry;
      if (c.sphereInitialized === !1) {
        u.makeEmpty(), this.getBoundingBoxAt(t, Gf), Gf.getCenter(u.center);
        const b = f.index, C = f.attributes.position, _ = this._drawRanges[t];
        let N = 0;
        for (let I = _.start, A = _.start + _.count; I < A; I++) {
          let E = I;
          b && (E = b.getX(E)), dm.fromBufferAttribute(C, E), N = Math.max(N, u.center.distanceToSquared(dm));
        }
        u.radius = Math.sqrt(N), c.sphereInitialized = !0;
      }
      return i.copy(u), i;
    }
    setMatrixAt(t, i) {
      const s = this._active, c = this._matricesTexture, u = this._matricesTexture.image.data, f = this._geometryCount;
      return t >= f || s[t] === !1 ? this : (i.toArray(u, t * 16), c.needsUpdate = !0, this);
    }
    getMatrixAt(t, i) {
      const s = this._active, c = this._matricesTexture.image.data, u = this._geometryCount;
      return t >= u || s[t] === !1 ? null : i.fromArray(c, t * 16);
    }
    setVisibleAt(t, i) {
      const s = this._visibility, c = this._active, u = this._geometryCount;
      return t >= u || c[t] === !1 || s[t] === i ? this : (s[t] = i, this._visibilityChanged = !0, this);
    }
    getVisibleAt(t) {
      const i = this._visibility, s = this._active, c = this._geometryCount;
      return t >= c || s[t] === !1 ? !1 : i[t];
    }
    raycast(t, i) {
      const s = this._visibility, c = this._active, u = this._drawRanges, f = this._geometryCount, b = this.matrixWorld, C = this.geometry;
      ei.material = this.material, ei.geometry.index = C.index, ei.geometry.attributes = C.attributes, ei.geometry.boundingBox === null && (ei.geometry.boundingBox = new Hr()), ei.geometry.boundingSphere === null && (ei.geometry.boundingSphere = new Xr());
      for (let _ = 0; _ < f; _++) {
        if (!s[_] || !c[_])
          continue;
        const N = u[_];
        ei.geometry.setDrawRange(N.start, N.count), this.getMatrixAt(_, ei.matrixWorld).premultiply(b), this.getBoundingBoxAt(_, ei.geometry.boundingBox), this.getBoundingSphereAt(_, ei.geometry.boundingSphere), ei.raycast(t, Wf);
        for (let I = 0, A = Wf.length; I < A; I++) {
          const E = Wf[I];
          E.object = this, E.batchId = _, i.push(E);
        }
        Wf.length = 0;
      }
      ei.material = null, ei.geometry.index = null, ei.geometry.attributes = {}, ei.geometry.setDrawRange(0, 1 / 0);
    }
    copy(t) {
      return super.copy(t), this.geometry = t.geometry.clone(), this.perObjectFrustumCulled = t.perObjectFrustumCulled, this.sortObjects = t.sortObjects, this.boundingBox = t.boundingBox !== null ? t.boundingBox.clone() : null, this.boundingSphere = t.boundingSphere !== null ? t.boundingSphere.clone() : null, this._drawRanges = t._drawRanges.map((i) => ({ ...i })), this._reservedRanges = t._reservedRanges.map((i) => ({ ...i })), this._visibility = t._visibility.slice(), this._active = t._active.slice(), this._bounds = t._bounds.map((i) => ({
        boxInitialized: i.boxInitialized,
        box: i.box.clone(),
        sphereInitialized: i.sphereInitialized,
        sphere: i.sphere.clone()
      })), this._maxGeometryCount = t._maxGeometryCount, this._maxVertexCount = t._maxVertexCount, this._maxIndexCount = t._maxIndexCount, this._geometryInitialized = t._geometryInitialized, this._geometryCount = t._geometryCount, this._multiDrawCounts = t._multiDrawCounts.slice(), this._multiDrawStarts = t._multiDrawStarts.slice(), this._matricesTexture = t._matricesTexture.clone(), this._matricesTexture.image.data = this._matricesTexture.image.slice(), this;
    }
    dispose() {
      return this.geometry.dispose(), this._matricesTexture.dispose(), this._matricesTexture = null, this;
    }
    onBeforeRender(t, i, s, c, u) {
      if (!this._visibilityChanged && !this.perObjectFrustumCulled && !this.sortObjects)
        return;
      const f = c.getIndex(), b = f === null ? 1 : f.array.BYTES_PER_ELEMENT, C = this._active, _ = this._visibility, N = this._multiDrawStarts, I = this._multiDrawCounts, A = this._drawRanges, E = this.perObjectFrustumCulled;
      E && (A_.multiplyMatrices(s.projectionMatrix, s.matrixWorldInverse).multiply(this.matrixWorld), Kb.setFromProjectionMatrix(
        A_,
        t.coordinateSystem
      ));
      let R = 0;
      if (this.sortObjects) {
        I_.copy(this.matrixWorld).invert(), dm.setFromMatrixPosition(s.matrixWorld).applyMatrix4(I_);
        for (let P = 0, U = _.length; P < U; P++)
          if (_[P] && C[P]) {
            this.getMatrixAt(P, Ks), this.getBoundingSphereAt(P, fc).applyMatrix4(Ks);
            let k = !1;
            if (E && (k = !Kb.intersectsSphere(fc)), !k) {
              const V = dm.distanceTo(fc.center);
              Zb.push(A[P], V);
            }
          }
        const j = Zb.list, O = this.customSort;
        O === null ? j.sort(u.transparent ? AR : IR) : O.call(this, j, s);
        for (let P = 0, U = j.length; P < U; P++) {
          const k = j[P];
          N[R] = k.start * b, I[R] = k.count, R++;
        }
        Zb.reset();
      } else
        for (let j = 0, O = _.length; j < O; j++)
          if (_[j] && C[j]) {
            let P = !1;
            if (E && (this.getMatrixAt(j, Ks), this.getBoundingSphereAt(j, fc).applyMatrix4(Ks), P = !Kb.intersectsSphere(fc)), !P) {
              const U = A[j];
              N[R] = U.start * b, I[R] = U.count, R++;
            }
          }
      this._multiDrawCount = R, this._visibilityChanged = !1;
    }
    onBeforeShadow(t, i, s, c, u, f) {
      this.onBeforeRender(t, null, c, u, f);
    }
  }
  class gi extends zr {
    constructor(t) {
      super(), this.isLineBasicMaterial = !0, this.type = "LineBasicMaterial", this.color = new Tt(16777215), this.map = null, this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.map = t.map, this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this.fog = t.fog, this;
    }
  }
  const Vf = /* @__PURE__ */ new ie(), Hf = /* @__PURE__ */ new ie(), P_ = /* @__PURE__ */ new Wt(), mm = /* @__PURE__ */ new yo(), $f = /* @__PURE__ */ new Xr(), Jb = /* @__PURE__ */ new ie(), R_ = /* @__PURE__ */ new ie();
  class Zs extends An {
    constructor(t = new tn(), i = new gi()) {
      super(), this.isLine = !0, this.type = "Line", this.geometry = t, this.material = i, this.updateMorphTargets();
    }
    copy(t, i) {
      return super.copy(t, i), this.material = Array.isArray(t.material) ? t.material.slice() : t.material, this.geometry = t.geometry, this;
    }
    computeLineDistances() {
      const t = this.geometry;
      if (t.index === null) {
        const i = t.attributes.position, s = [0];
        for (let c = 1, u = i.count; c < u; c++)
          Vf.fromBufferAttribute(i, c - 1), Hf.fromBufferAttribute(i, c), s[c] = s[c - 1], s[c] += Vf.distanceTo(Hf);
        t.setAttribute("lineDistance", new Rt(s, 1));
      } else
        console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
      return this;
    }
    raycast(t, i) {
      const s = this.geometry, c = this.matrixWorld, u = t.params.Line.threshold, f = s.drawRange;
      if (s.boundingSphere === null && s.computeBoundingSphere(), $f.copy(s.boundingSphere), $f.applyMatrix4(c), $f.radius += u, t.ray.intersectsSphere($f) === !1)
        return;
      P_.copy(c).invert(), mm.copy(t.ray).applyMatrix4(P_);
      const b = u / ((this.scale.x + this.scale.y + this.scale.z) / 3), C = b * b, _ = this.isLineSegments ? 2 : 1, N = s.index, A = s.attributes.position;
      if (N !== null) {
        const E = Math.max(0, f.start), R = Math.min(N.count, f.start + f.count);
        for (let j = E, O = R - 1; j < O; j += _) {
          const P = N.getX(j), U = N.getX(j + 1), k = qf(this, t, mm, C, P, U);
          k && i.push(k);
        }
        if (this.isLineLoop) {
          const j = N.getX(R - 1), O = N.getX(E), P = qf(this, t, mm, C, j, O);
          P && i.push(P);
        }
      } else {
        const E = Math.max(0, f.start), R = Math.min(A.count, f.start + f.count);
        for (let j = E, O = R - 1; j < O; j += _) {
          const P = qf(this, t, mm, C, j, j + 1);
          P && i.push(P);
        }
        if (this.isLineLoop) {
          const j = qf(this, t, mm, C, R - 1, E);
          j && i.push(j);
        }
      }
    }
    updateMorphTargets() {
      const i = this.geometry.morphAttributes, s = Object.keys(i);
      if (s.length > 0) {
        const c = i[s[0]];
        if (c !== void 0) {
          this.morphTargetInfluences = [], this.morphTargetDictionary = {};
          for (let u = 0, f = c.length; u < f; u++) {
            const b = c[u].name || String(u);
            this.morphTargetInfluences.push(0), this.morphTargetDictionary[b] = u;
          }
        }
      }
    }
  }
  function qf(m, t, i, s, c, u) {
    const f = m.geometry.attributes.position;
    if (Vf.fromBufferAttribute(f, c), Hf.fromBufferAttribute(f, u), i.distanceSqToSegment(Vf, Hf, Jb, R_) > s)
      return;
    Jb.applyMatrix4(m.matrixWorld);
    const C = t.ray.origin.distanceTo(Jb);
    if (!(C < t.near || C > t.far))
      return {
        distance: C,
        // What do we want? intersection point on the ray or on the segment??
        // point: raycaster.ray.at( distance ),
        point: R_.clone().applyMatrix4(m.matrixWorld),
        index: c,
        face: null,
        faceIndex: null,
        object: m
      };
  }
  const B_ = /* @__PURE__ */ new ie(), O_ = /* @__PURE__ */ new ie();
  class ra extends Zs {
    constructor(t, i) {
      super(t, i), this.isLineSegments = !0, this.type = "LineSegments";
    }
    computeLineDistances() {
      const t = this.geometry;
      if (t.index === null) {
        const i = t.attributes.position, s = [];
        for (let c = 0, u = i.count; c < u; c += 2)
          B_.fromBufferAttribute(i, c), O_.fromBufferAttribute(i, c + 1), s[c] = c === 0 ? 0 : s[c - 1], s[c + 1] = s[c] + B_.distanceTo(O_);
        t.setAttribute("lineDistance", new Rt(s, 1));
      } else
        console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
      return this;
    }
  }
  class L_ extends Zs {
    constructor(t, i) {
      super(t, i), this.isLineLoop = !0, this.type = "LineLoop";
    }
  }
  class Qb extends zr {
    constructor(t) {
      super(), this.isPointsMaterial = !0, this.type = "PointsMaterial", this.color = new Tt(16777215), this.map = null, this.alphaMap = null, this.size = 1, this.sizeAttenuation = !0, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.map = t.map, this.alphaMap = t.alphaMap, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this.fog = t.fog, this;
    }
  }
  const j_ = /* @__PURE__ */ new Wt(), ev = /* @__PURE__ */ new yo(), Yf = /* @__PURE__ */ new Xr(), Kf = /* @__PURE__ */ new ie();
  class D_ extends An {
    constructor(t = new tn(), i = new Qb()) {
      super(), this.isPoints = !0, this.type = "Points", this.geometry = t, this.material = i, this.updateMorphTargets();
    }
    copy(t, i) {
      return super.copy(t, i), this.material = Array.isArray(t.material) ? t.material.slice() : t.material, this.geometry = t.geometry, this;
    }
    raycast(t, i) {
      const s = this.geometry, c = this.matrixWorld, u = t.params.Points.threshold, f = s.drawRange;
      if (s.boundingSphere === null && s.computeBoundingSphere(), Yf.copy(s.boundingSphere), Yf.applyMatrix4(c), Yf.radius += u, t.ray.intersectsSphere(Yf) === !1)
        return;
      j_.copy(c).invert(), ev.copy(t.ray).applyMatrix4(j_);
      const b = u / ((this.scale.x + this.scale.y + this.scale.z) / 3), C = b * b, _ = s.index, I = s.attributes.position;
      if (_ !== null) {
        const A = Math.max(0, f.start), E = Math.min(_.count, f.start + f.count);
        for (let R = A, j = E; R < j; R++) {
          const O = _.getX(R);
          Kf.fromBufferAttribute(I, O), F_(Kf, O, C, c, t, i, this);
        }
      } else {
        const A = Math.max(0, f.start), E = Math.min(I.count, f.start + f.count);
        for (let R = A, j = E; R < j; R++)
          Kf.fromBufferAttribute(I, R), F_(Kf, R, C, c, t, i, this);
      }
    }
    updateMorphTargets() {
      const i = this.geometry.morphAttributes, s = Object.keys(i);
      if (s.length > 0) {
        const c = i[s[0]];
        if (c !== void 0) {
          this.morphTargetInfluences = [], this.morphTargetDictionary = {};
          for (let u = 0, f = c.length; u < f; u++) {
            const b = c[u].name || String(u);
            this.morphTargetInfluences.push(0), this.morphTargetDictionary[b] = u;
          }
        }
      }
    }
  }
  function F_(m, t, i, s, c, u, f) {
    const b = ev.distanceSqToPoint(m);
    if (b < i) {
      const C = new ie();
      ev.closestPointToPoint(m, C), C.applyMatrix4(s);
      const _ = c.ray.origin.distanceTo(C);
      if (_ < c.near || _ > c.far)
        return;
      u.push({
        distance: _,
        distanceToRay: Math.sqrt(b),
        point: C,
        index: t,
        face: null,
        object: f
      });
    }
  }
  class BR extends lr {
    constructor(t, i, s, c, u, f, b, C, _) {
      super(t, i, s, c, u, f, b, C, _), this.isVideoTexture = !0, this.minFilter = f !== void 0 ? f : pr, this.magFilter = u !== void 0 ? u : pr, this.generateMipmaps = !1;
      const N = this;
      function I() {
        N.needsUpdate = !0, t.requestVideoFrameCallback(I);
      }
      "requestVideoFrameCallback" in t && t.requestVideoFrameCallback(I);
    }
    clone() {
      return new this.constructor(this.image).copy(this);
    }
    update() {
      const t = this.image;
      "requestVideoFrameCallback" in t === !1 && t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0);
    }
  }
  class OR extends lr {
    constructor(t, i) {
      super({ width: t, height: i }), this.isFramebufferTexture = !0, this.magFilter = yr, this.minFilter = yr, this.generateMipmaps = !1, this.needsUpdate = !0;
    }
  }
  class Zf extends lr {
    constructor(t, i, s, c, u, f, b, C, _, N, I, A) {
      super(null, f, b, C, _, N, c, u, I, A), this.isCompressedTexture = !0, this.image = { width: i, height: s }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1;
    }
  }
  class LR extends Zf {
    constructor(t, i, s, c, u, f) {
      super(t, i, s, u, f), this.isCompressedArrayTexture = !0, this.image.depth = c, this.wrapR = Ci;
    }
  }
  class jR extends Zf {
    constructor(t, i, s) {
      super(void 0, t[0].width, t[0].height, i, s, xi), this.isCompressedCubeTexture = !0, this.isCubeTexture = !0, this.image = t;
    }
  }
  class DR extends lr {
    constructor(t, i, s, c, u, f, b, C, _) {
      super(t, i, s, c, u, f, b, C, _), this.isCanvasTexture = !0, this.needsUpdate = !0;
    }
  }
  class Io {
    constructor() {
      this.type = "Curve", this.arcLengthDivisions = 200;
    }
    // Virtual base class method to overwrite and implement in subclasses
    //	- t [0 .. 1]
    getPoint() {
      return console.warn("THREE.Curve: .getPoint() not implemented."), null;
    }
    // Get point at relative position in curve according to arc length
    // - u [0 .. 1]
    getPointAt(t, i) {
      const s = this.getUtoTmapping(t);
      return this.getPoint(s, i);
    }
    // Get sequence of points using getPoint( t )
    getPoints(t = 5) {
      const i = [];
      for (let s = 0; s <= t; s++)
        i.push(this.getPoint(s / t));
      return i;
    }
    // Get sequence of points using getPointAt( u )
    getSpacedPoints(t = 5) {
      const i = [];
      for (let s = 0; s <= t; s++)
        i.push(this.getPointAt(s / t));
      return i;
    }
    // Get total curve arc length
    getLength() {
      const t = this.getLengths();
      return t[t.length - 1];
    }
    // Get list of cumulative segment lengths
    getLengths(t = this.arcLengthDivisions) {
      if (this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate)
        return this.cacheArcLengths;
      this.needsUpdate = !1;
      const i = [];
      let s, c = this.getPoint(0), u = 0;
      i.push(0);
      for (let f = 1; f <= t; f++)
        s = this.getPoint(f / t), u += s.distanceTo(c), i.push(u), c = s;
      return this.cacheArcLengths = i, i;
    }
    updateArcLengths() {
      this.needsUpdate = !0, this.getLengths();
    }
    // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant
    getUtoTmapping(t, i) {
      const s = this.getLengths();
      let c = 0;
      const u = s.length;
      let f;
      i ? f = i : f = t * s[u - 1];
      let b = 0, C = u - 1, _;
      for (; b <= C; )
        if (c = Math.floor(b + (C - b) / 2), _ = s[c] - f, _ < 0)
          b = c + 1;
        else if (_ > 0)
          C = c - 1;
        else {
          C = c;
          break;
        }
      if (c = C, s[c] === f)
        return c / (u - 1);
      const N = s[c], A = s[c + 1] - N, E = (f - N) / A;
      return (c + E) / (u - 1);
    }
    // Returns a unit vector tangent at t
    // In case any sub curve does not implement its tangent derivation,
    // 2 points a small delta apart will be used to find its gradient
    // which seems to give a reasonable approximation
    getTangent(t, i) {
      let c = t - 1e-4, u = t + 1e-4;
      c < 0 && (c = 0), u > 1 && (u = 1);
      const f = this.getPoint(c), b = this.getPoint(u), C = i || (f.isVector2 ? new $e() : new ie());
      return C.copy(b).sub(f).normalize(), C;
    }
    getTangentAt(t, i) {
      const s = this.getUtoTmapping(t);
      return this.getTangent(s, i);
    }
    computeFrenetFrames(t, i) {
      const s = new ie(), c = [], u = [], f = [], b = new ie(), C = new Wt();
      for (let E = 0; E <= t; E++) {
        const R = E / t;
        c[E] = this.getTangentAt(R, new ie());
      }
      u[0] = new ie(), f[0] = new ie();
      let _ = Number.MAX_VALUE;
      const N = Math.abs(c[0].x), I = Math.abs(c[0].y), A = Math.abs(c[0].z);
      N <= _ && (_ = N, s.set(1, 0, 0)), I <= _ && (_ = I, s.set(0, 1, 0)), A <= _ && s.set(0, 0, 1), b.crossVectors(c[0], s).normalize(), u[0].crossVectors(c[0], b), f[0].crossVectors(c[0], u[0]);
      for (let E = 1; E <= t; E++) {
        if (u[E] = u[E - 1].clone(), f[E] = f[E - 1].clone(), b.crossVectors(c[E - 1], c[E]), b.length() > Number.EPSILON) {
          b.normalize();
          const R = Math.acos(Yn(c[E - 1].dot(c[E]), -1, 1));
          u[E].applyMatrix4(C.makeRotationAxis(b, R));
        }
        f[E].crossVectors(c[E], u[E]);
      }
      if (i === !0) {
        let E = Math.acos(Yn(u[0].dot(u[t]), -1, 1));
        E /= t, c[0].dot(b.crossVectors(u[0], u[t])) > 0 && (E = -E);
        for (let R = 1; R <= t; R++)
          u[R].applyMatrix4(C.makeRotationAxis(c[R], E * R)), f[R].crossVectors(c[R], u[R]);
      }
      return {
        tangents: c,
        normals: u,
        binormals: f
      };
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      return this.arcLengthDivisions = t.arcLengthDivisions, this;
    }
    toJSON() {
      const t = {
        metadata: {
          version: 4.6,
          type: "Curve",
          generator: "Curve.toJSON"
        }
      };
      return t.arcLengthDivisions = this.arcLengthDivisions, t.type = this.type, t;
    }
    fromJSON(t) {
      return this.arcLengthDivisions = t.arcLengthDivisions, this;
    }
  }
  class Jf extends Io {
    constructor(t = 0, i = 0, s = 1, c = 1, u = 0, f = Math.PI * 2, b = !1, C = 0) {
      super(), this.isEllipseCurve = !0, this.type = "EllipseCurve", this.aX = t, this.aY = i, this.xRadius = s, this.yRadius = c, this.aStartAngle = u, this.aEndAngle = f, this.aClockwise = b, this.aRotation = C;
    }
    getPoint(t, i = new $e()) {
      const s = i, c = Math.PI * 2;
      let u = this.aEndAngle - this.aStartAngle;
      const f = Math.abs(u) < Number.EPSILON;
      for (; u < 0; )
        u += c;
      for (; u > c; )
        u -= c;
      u < Number.EPSILON && (f ? u = 0 : u = c), this.aClockwise === !0 && !f && (u === c ? u = -c : u = u - c);
      const b = this.aStartAngle + t * u;
      let C = this.aX + this.xRadius * Math.cos(b), _ = this.aY + this.yRadius * Math.sin(b);
      if (this.aRotation !== 0) {
        const N = Math.cos(this.aRotation), I = Math.sin(this.aRotation), A = C - this.aX, E = _ - this.aY;
        C = A * N - E * I + this.aX, _ = A * I + E * N + this.aY;
      }
      return s.set(C, _);
    }
    copy(t) {
      return super.copy(t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.aX = this.aX, t.aY = this.aY, t.xRadius = this.xRadius, t.yRadius = this.yRadius, t.aStartAngle = this.aStartAngle, t.aEndAngle = this.aEndAngle, t.aClockwise = this.aClockwise, t.aRotation = this.aRotation, t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.aX = t.aX, this.aY = t.aY, this.xRadius = t.xRadius, this.yRadius = t.yRadius, this.aStartAngle = t.aStartAngle, this.aEndAngle = t.aEndAngle, this.aClockwise = t.aClockwise, this.aRotation = t.aRotation, this;
    }
  }
  class k_ extends Jf {
    constructor(t, i, s, c, u, f) {
      super(t, i, s, s, c, u, f), this.isArcCurve = !0, this.type = "ArcCurve";
    }
  }
  function tv() {
    let m = 0, t = 0, i = 0, s = 0;
    function c(u, f, b, C) {
      m = u, t = b, i = -3 * u + 3 * f - 2 * b - C, s = 2 * u - 2 * f + b + C;
    }
    return {
      initCatmullRom: function(u, f, b, C, _) {
        c(f, b, _ * (b - u), _ * (C - f));
      },
      initNonuniformCatmullRom: function(u, f, b, C, _, N, I) {
        let A = (f - u) / _ - (b - u) / (_ + N) + (b - f) / N, E = (b - f) / N - (C - f) / (N + I) + (C - b) / I;
        A *= N, E *= N, c(f, b, A, E);
      },
      calc: function(u) {
        const f = u * u, b = f * u;
        return m + t * u + i * f + s * b;
      }
    };
  }
  const Qf = /* @__PURE__ */ new ie(), nv = /* @__PURE__ */ new tv(), rv = /* @__PURE__ */ new tv(), iv = /* @__PURE__ */ new tv();
  class X_ extends Io {
    constructor(t = [], i = !1, s = "centripetal", c = 0.5) {
      super(), this.isCatmullRomCurve3 = !0, this.type = "CatmullRomCurve3", this.points = t, this.closed = i, this.curveType = s, this.tension = c;
    }
    getPoint(t, i = new ie()) {
      const s = i, c = this.points, u = c.length, f = (u - (this.closed ? 0 : 1)) * t;
      let b = Math.floor(f), C = f - b;
      this.closed ? b += b > 0 ? 0 : (Math.floor(Math.abs(b) / u) + 1) * u : C === 0 && b === u - 1 && (b = u - 2, C = 1);
      let _, N;
      this.closed || b > 0 ? _ = c[(b - 1) % u] : (Qf.subVectors(c[0], c[1]).add(c[0]), _ = Qf);
      const I = c[b % u], A = c[(b + 1) % u];
      if (this.closed || b + 2 < u ? N = c[(b + 2) % u] : (Qf.subVectors(c[u - 1], c[u - 2]).add(c[u - 1]), N = Qf), this.curveType === "centripetal" || this.curveType === "chordal") {
        const E = this.curveType === "chordal" ? 0.5 : 0.25;
        let R = Math.pow(_.distanceToSquared(I), E), j = Math.pow(I.distanceToSquared(A), E), O = Math.pow(A.distanceToSquared(N), E);
        j < 1e-4 && (j = 1), R < 1e-4 && (R = j), O < 1e-4 && (O = j), nv.initNonuniformCatmullRom(_.x, I.x, A.x, N.x, R, j, O), rv.initNonuniformCatmullRom(_.y, I.y, A.y, N.y, R, j, O), iv.initNonuniformCatmullRom(_.z, I.z, A.z, N.z, R, j, O);
      } else
        this.curveType === "catmullrom" && (nv.initCatmullRom(_.x, I.x, A.x, N.x, this.tension), rv.initCatmullRom(_.y, I.y, A.y, N.y, this.tension), iv.initCatmullRom(_.z, I.z, A.z, N.z, this.tension));
      return s.set(
        nv.calc(C),
        rv.calc(C),
        iv.calc(C)
      ), s;
    }
    copy(t) {
      super.copy(t), this.points = [];
      for (let i = 0, s = t.points.length; i < s; i++) {
        const c = t.points[i];
        this.points.push(c.clone());
      }
      return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this;
    }
    toJSON() {
      const t = super.toJSON();
      t.points = [];
      for (let i = 0, s = this.points.length; i < s; i++) {
        const c = this.points[i];
        t.points.push(c.toArray());
      }
      return t.closed = this.closed, t.curveType = this.curveType, t.tension = this.tension, t;
    }
    fromJSON(t) {
      super.fromJSON(t), this.points = [];
      for (let i = 0, s = t.points.length; i < s; i++) {
        const c = t.points[i];
        this.points.push(new ie().fromArray(c));
      }
      return this.closed = t.closed, this.curveType = t.curveType, this.tension = t.tension, this;
    }
  }
  function z_(m, t, i, s, c) {
    const u = (s - t) * 0.5, f = (c - i) * 0.5, b = m * m, C = m * b;
    return (2 * i - 2 * s + u + f) * C + (-3 * i + 3 * s - 2 * u - f) * b + u * m + i;
  }
  function FR(m, t) {
    const i = 1 - m;
    return i * i * t;
  }
  function kR(m, t) {
    return 2 * (1 - m) * m * t;
  }
  function XR(m, t) {
    return m * m * t;
  }
  function pm(m, t, i, s) {
    return FR(m, t) + kR(m, i) + XR(m, s);
  }
  function zR(m, t) {
    const i = 1 - m;
    return i * i * i * t;
  }
  function UR(m, t) {
    const i = 1 - m;
    return 3 * i * i * m * t;
  }
  function GR(m, t) {
    return 3 * (1 - m) * m * m * t;
  }
  function WR(m, t) {
    return m * m * m * t;
  }
  function fm(m, t, i, s, c) {
    return zR(m, t) + UR(m, i) + GR(m, s) + WR(m, c);
  }
  class ov extends Io {
    constructor(t = new $e(), i = new $e(), s = new $e(), c = new $e()) {
      super(), this.isCubicBezierCurve = !0, this.type = "CubicBezierCurve", this.v0 = t, this.v1 = i, this.v2 = s, this.v3 = c;
    }
    getPoint(t, i = new $e()) {
      const s = i, c = this.v0, u = this.v1, f = this.v2, b = this.v3;
      return s.set(
        fm(t, c.x, u.x, f.x, b.x),
        fm(t, c.y, u.y, f.y, b.y)
      ), s;
    }
    copy(t) {
      return super.copy(t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this;
    }
  }
  class U_ extends Io {
    constructor(t = new ie(), i = new ie(), s = new ie(), c = new ie()) {
      super(), this.isCubicBezierCurve3 = !0, this.type = "CubicBezierCurve3", this.v0 = t, this.v1 = i, this.v2 = s, this.v3 = c;
    }
    getPoint(t, i = new ie()) {
      const s = i, c = this.v0, u = this.v1, f = this.v2, b = this.v3;
      return s.set(
        fm(t, c.x, u.x, f.x, b.x),
        fm(t, c.y, u.y, f.y, b.y),
        fm(t, c.z, u.z, f.z, b.z)
      ), s;
    }
    copy(t) {
      return super.copy(t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this.v3.copy(t.v3), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t.v3 = this.v3.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this.v3.fromArray(t.v3), this;
    }
  }
  class av extends Io {
    constructor(t = new $e(), i = new $e()) {
      super(), this.isLineCurve = !0, this.type = "LineCurve", this.v1 = t, this.v2 = i;
    }
    getPoint(t, i = new $e()) {
      const s = i;
      return t === 1 ? s.copy(this.v2) : (s.copy(this.v2).sub(this.v1), s.multiplyScalar(t).add(this.v1)), s;
    }
    // Line curve is linear, so we can overwrite default getPointAt
    getPointAt(t, i) {
      return this.getPoint(t, i);
    }
    getTangent(t, i = new $e()) {
      return i.subVectors(this.v2, this.v1).normalize();
    }
    getTangentAt(t, i) {
      return this.getTangent(t, i);
    }
    copy(t) {
      return super.copy(t), this.v1.copy(t.v1), this.v2.copy(t.v2), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this;
    }
  }
  class G_ extends Io {
    constructor(t = new ie(), i = new ie()) {
      super(), this.isLineCurve3 = !0, this.type = "LineCurve3", this.v1 = t, this.v2 = i;
    }
    getPoint(t, i = new ie()) {
      const s = i;
      return t === 1 ? s.copy(this.v2) : (s.copy(this.v2).sub(this.v1), s.multiplyScalar(t).add(this.v1)), s;
    }
    // Line curve is linear, so we can overwrite default getPointAt
    getPointAt(t, i) {
      return this.getPoint(t, i);
    }
    getTangent(t, i = new ie()) {
      return i.subVectors(this.v2, this.v1).normalize();
    }
    getTangentAt(t, i) {
      return this.getTangent(t, i);
    }
    copy(t) {
      return super.copy(t), this.v1.copy(t.v1), this.v2.copy(t.v2), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this;
    }
  }
  class sv extends Io {
    constructor(t = new $e(), i = new $e(), s = new $e()) {
      super(), this.isQuadraticBezierCurve = !0, this.type = "QuadraticBezierCurve", this.v0 = t, this.v1 = i, this.v2 = s;
    }
    getPoint(t, i = new $e()) {
      const s = i, c = this.v0, u = this.v1, f = this.v2;
      return s.set(
        pm(t, c.x, u.x, f.x),
        pm(t, c.y, u.y, f.y)
      ), s;
    }
    copy(t) {
      return super.copy(t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this;
    }
  }
  class lv extends Io {
    constructor(t = new ie(), i = new ie(), s = new ie()) {
      super(), this.isQuadraticBezierCurve3 = !0, this.type = "QuadraticBezierCurve3", this.v0 = t, this.v1 = i, this.v2 = s;
    }
    getPoint(t, i = new ie()) {
      const s = i, c = this.v0, u = this.v1, f = this.v2;
      return s.set(
        pm(t, c.x, u.x, f.x),
        pm(t, c.y, u.y, f.y),
        pm(t, c.z, u.z, f.z)
      ), s;
    }
    copy(t) {
      return super.copy(t), this.v0.copy(t.v0), this.v1.copy(t.v1), this.v2.copy(t.v2), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.v0 = this.v0.toArray(), t.v1 = this.v1.toArray(), t.v2 = this.v2.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.v0.fromArray(t.v0), this.v1.fromArray(t.v1), this.v2.fromArray(t.v2), this;
    }
  }
  class cv extends Io {
    constructor(t = []) {
      super(), this.isSplineCurve = !0, this.type = "SplineCurve", this.points = t;
    }
    getPoint(t, i = new $e()) {
      const s = i, c = this.points, u = (c.length - 1) * t, f = Math.floor(u), b = u - f, C = c[f === 0 ? f : f - 1], _ = c[f], N = c[f > c.length - 2 ? c.length - 1 : f + 1], I = c[f > c.length - 3 ? c.length - 1 : f + 2];
      return s.set(
        z_(b, C.x, _.x, N.x, I.x),
        z_(b, C.y, _.y, N.y, I.y)
      ), s;
    }
    copy(t) {
      super.copy(t), this.points = [];
      for (let i = 0, s = t.points.length; i < s; i++) {
        const c = t.points[i];
        this.points.push(c.clone());
      }
      return this;
    }
    toJSON() {
      const t = super.toJSON();
      t.points = [];
      for (let i = 0, s = this.points.length; i < s; i++) {
        const c = this.points[i];
        t.points.push(c.toArray());
      }
      return t;
    }
    fromJSON(t) {
      super.fromJSON(t), this.points = [];
      for (let i = 0, s = t.points.length; i < s; i++) {
        const c = t.points[i];
        this.points.push(new $e().fromArray(c));
      }
      return this;
    }
  }
  var e1 = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    ArcCurve: k_,
    CatmullRomCurve3: X_,
    CubicBezierCurve: ov,
    CubicBezierCurve3: U_,
    EllipseCurve: Jf,
    LineCurve: av,
    LineCurve3: G_,
    QuadraticBezierCurve: sv,
    QuadraticBezierCurve3: lv,
    SplineCurve: cv
  });
  class W_ extends Io {
    constructor() {
      super(), this.type = "CurvePath", this.curves = [], this.autoClose = !1;
    }
    add(t) {
      this.curves.push(t);
    }
    closePath() {
      const t = this.curves[0].getPoint(0), i = this.curves[this.curves.length - 1].getPoint(1);
      if (!t.equals(i)) {
        const s = t.isVector2 === !0 ? "LineCurve" : "LineCurve3";
        this.curves.push(new e1[s](i, t));
      }
      return this;
    }
    // To get accurate point with reference to
    // entire path distance at time t,
    // following has to be done:
    // 1. Length of each sub path have to be known
    // 2. Locate and identify type of curve
    // 3. Get t for the curve
    // 4. Return curve.getPointAt(t')
    getPoint(t, i) {
      const s = t * this.getLength(), c = this.getCurveLengths();
      let u = 0;
      for (; u < c.length; ) {
        if (c[u] >= s) {
          const f = c[u] - s, b = this.curves[u], C = b.getLength(), _ = C === 0 ? 0 : 1 - f / C;
          return b.getPointAt(_, i);
        }
        u++;
      }
      return null;
    }
    // We cannot use the default THREE.Curve getPoint() with getLength() because in
    // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath
    // getPoint() depends on getLength
    getLength() {
      const t = this.getCurveLengths();
      return t[t.length - 1];
    }
    // cacheLengths must be recalculated.
    updateArcLengths() {
      this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths();
    }
    // Compute lengths and cache them
    // We cannot overwrite getLengths() because UtoT mapping uses it.
    getCurveLengths() {
      if (this.cacheLengths && this.cacheLengths.length === this.curves.length)
        return this.cacheLengths;
      const t = [];
      let i = 0;
      for (let s = 0, c = this.curves.length; s < c; s++)
        i += this.curves[s].getLength(), t.push(i);
      return this.cacheLengths = t, t;
    }
    getSpacedPoints(t = 40) {
      const i = [];
      for (let s = 0; s <= t; s++)
        i.push(this.getPoint(s / t));
      return this.autoClose && i.push(i[0]), i;
    }
    getPoints(t = 12) {
      const i = [];
      let s;
      for (let c = 0, u = this.curves; c < u.length; c++) {
        const f = u[c], b = f.isEllipseCurve ? t * 2 : f.isLineCurve || f.isLineCurve3 ? 1 : f.isSplineCurve ? t * f.points.length : t, C = f.getPoints(b);
        for (let _ = 0; _ < C.length; _++) {
          const N = C[_];
          s && s.equals(N) || (i.push(N), s = N);
        }
      }
      return this.autoClose && i.length > 1 && !i[i.length - 1].equals(i[0]) && i.push(i[0]), i;
    }
    copy(t) {
      super.copy(t), this.curves = [];
      for (let i = 0, s = t.curves.length; i < s; i++) {
        const c = t.curves[i];
        this.curves.push(c.clone());
      }
      return this.autoClose = t.autoClose, this;
    }
    toJSON() {
      const t = super.toJSON();
      t.autoClose = this.autoClose, t.curves = [];
      for (let i = 0, s = this.curves.length; i < s; i++) {
        const c = this.curves[i];
        t.curves.push(c.toJSON());
      }
      return t;
    }
    fromJSON(t) {
      super.fromJSON(t), this.autoClose = t.autoClose, this.curves = [];
      for (let i = 0, s = t.curves.length; i < s; i++) {
        const c = t.curves[i];
        this.curves.push(new e1[c.type]().fromJSON(c));
      }
      return this;
    }
  }
  class gm extends W_ {
    constructor(t) {
      super(), this.type = "Path", this.currentPoint = new $e(), t && this.setFromPoints(t);
    }
    setFromPoints(t) {
      this.moveTo(t[0].x, t[0].y);
      for (let i = 1, s = t.length; i < s; i++)
        this.lineTo(t[i].x, t[i].y);
      return this;
    }
    moveTo(t, i) {
      return this.currentPoint.set(t, i), this;
    }
    lineTo(t, i) {
      const s = new av(this.currentPoint.clone(), new $e(t, i));
      return this.curves.push(s), this.currentPoint.set(t, i), this;
    }
    quadraticCurveTo(t, i, s, c) {
      const u = new sv(
        this.currentPoint.clone(),
        new $e(t, i),
        new $e(s, c)
      );
      return this.curves.push(u), this.currentPoint.set(s, c), this;
    }
    bezierCurveTo(t, i, s, c, u, f) {
      const b = new ov(
        this.currentPoint.clone(),
        new $e(t, i),
        new $e(s, c),
        new $e(u, f)
      );
      return this.curves.push(b), this.currentPoint.set(u, f), this;
    }
    splineThru(t) {
      const i = [this.currentPoint.clone()].concat(t), s = new cv(i);
      return this.curves.push(s), this.currentPoint.copy(t[t.length - 1]), this;
    }
    arc(t, i, s, c, u, f) {
      const b = this.currentPoint.x, C = this.currentPoint.y;
      return this.absarc(
        t + b,
        i + C,
        s,
        c,
        u,
        f
      ), this;
    }
    absarc(t, i, s, c, u, f) {
      return this.absellipse(t, i, s, s, c, u, f), this;
    }
    ellipse(t, i, s, c, u, f, b, C) {
      const _ = this.currentPoint.x, N = this.currentPoint.y;
      return this.absellipse(t + _, i + N, s, c, u, f, b, C), this;
    }
    absellipse(t, i, s, c, u, f, b, C) {
      const _ = new Jf(t, i, s, c, u, f, b, C);
      if (this.curves.length > 0) {
        const I = _.getPoint(0);
        I.equals(this.currentPoint) || this.lineTo(I.x, I.y);
      }
      this.curves.push(_);
      const N = _.getPoint(1);
      return this.currentPoint.copy(N), this;
    }
    copy(t) {
      return super.copy(t), this.currentPoint.copy(t.currentPoint), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.currentPoint = this.currentPoint.toArray(), t;
    }
    fromJSON(t) {
      return super.fromJSON(t), this.currentPoint.fromArray(t.currentPoint), this;
    }
  }
  class bm extends tn {
    constructor(t = [new $e(0, -0.5), new $e(0.5, 0), new $e(0, 0.5)], i = 12, s = 0, c = Math.PI * 2) {
      super(), this.type = "LatheGeometry", this.parameters = {
        points: t,
        segments: i,
        phiStart: s,
        phiLength: c
      }, i = Math.floor(i), c = Yn(c, 0, Math.PI * 2);
      const u = [], f = [], b = [], C = [], _ = [], N = 1 / i, I = new ie(), A = new $e(), E = new ie(), R = new ie(), j = new ie();
      let O = 0, P = 0;
      for (let U = 0; U <= t.length - 1; U++)
        switch (U) {
          case 0:
            O = t[U + 1].x - t[U].x, P = t[U + 1].y - t[U].y, E.x = P * 1, E.y = -O, E.z = P * 0, j.copy(E), E.normalize(), C.push(E.x, E.y, E.z);
            break;
          case t.length - 1:
            C.push(j.x, j.y, j.z);
            break;
          default:
            O = t[U + 1].x - t[U].x, P = t[U + 1].y - t[U].y, E.x = P * 1, E.y = -O, E.z = P * 0, R.copy(E), E.x += j.x, E.y += j.y, E.z += j.z, E.normalize(), C.push(E.x, E.y, E.z), j.copy(R);
        }
      for (let U = 0; U <= i; U++) {
        const k = s + U * N * c, V = Math.sin(k), me = Math.cos(k);
        for (let ee = 0; ee <= t.length - 1; ee++) {
          I.x = t[ee].x * V, I.y = t[ee].y, I.z = t[ee].x * me, f.push(I.x, I.y, I.z), A.x = U / i, A.y = ee / (t.length - 1), b.push(A.x, A.y);
          const le = C[3 * ee + 0] * V, ye = C[3 * ee + 1], Z = C[3 * ee + 0] * me;
          _.push(le, ye, Z);
        }
      }
      for (let U = 0; U < i; U++)
        for (let k = 0; k < t.length - 1; k++) {
          const V = k + U * t.length, me = V, ee = V + t.length, le = V + t.length + 1, ye = V + 1;
          u.push(me, ee, ye), u.push(le, ye, ee);
        }
      this.setIndex(u), this.setAttribute("position", new Rt(f, 3)), this.setAttribute("uv", new Rt(b, 2)), this.setAttribute("normal", new Rt(_, 3));
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new bm(t.points, t.segments, t.phiStart, t.phiLength);
    }
  }
  class t1 extends bm {
    constructor(t = 1, i = 1, s = 4, c = 8) {
      const u = new gm();
      u.absarc(0, -i / 2, t, Math.PI * 1.5, 0), u.absarc(0, i / 2, t, 0, Math.PI * 0.5), super(u.getPoints(s), c), this.type = "CapsuleGeometry", this.parameters = {
        radius: t,
        length: i,
        capSegments: s,
        radialSegments: c
      };
    }
    static fromJSON(t) {
      return new t1(t.radius, t.length, t.capSegments, t.radialSegments);
    }
  }
  class n1 extends tn {
    constructor(t = 1, i = 32, s = 0, c = Math.PI * 2) {
      super(), this.type = "CircleGeometry", this.parameters = {
        radius: t,
        segments: i,
        thetaStart: s,
        thetaLength: c
      }, i = Math.max(3, i);
      const u = [], f = [], b = [], C = [], _ = new ie(), N = new $e();
      f.push(0, 0, 0), b.push(0, 0, 1), C.push(0.5, 0.5);
      for (let I = 0, A = 3; I <= i; I++, A += 3) {
        const E = s + I / i * c;
        _.x = t * Math.cos(E), _.y = t * Math.sin(E), f.push(_.x, _.y, _.z), b.push(0, 0, 1), N.x = (f[A] / t + 1) / 2, N.y = (f[A + 1] / t + 1) / 2, C.push(N.x, N.y);
      }
      for (let I = 1; I <= i; I++)
        u.push(I, I + 1, 0);
      this.setIndex(u), this.setAttribute("position", new Rt(f, 3)), this.setAttribute("normal", new Rt(b, 3)), this.setAttribute("uv", new Rt(C, 2));
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new n1(t.radius, t.segments, t.thetaStart, t.thetaLength);
    }
  }
  class Vh extends tn {
    constructor(t = 1, i = 1, s = 1, c = 32, u = 1, f = !1, b = 0, C = Math.PI * 2) {
      super(), this.type = "CylinderGeometry", this.parameters = {
        radiusTop: t,
        radiusBottom: i,
        height: s,
        radialSegments: c,
        heightSegments: u,
        openEnded: f,
        thetaStart: b,
        thetaLength: C
      };
      const _ = this;
      c = Math.floor(c), u = Math.floor(u);
      const N = [], I = [], A = [], E = [];
      let R = 0;
      const j = [], O = s / 2;
      let P = 0;
      U(), f === !1 && (t > 0 && k(!0), i > 0 && k(!1)), this.setIndex(N), this.setAttribute("position", new Rt(I, 3)), this.setAttribute("normal", new Rt(A, 3)), this.setAttribute("uv", new Rt(E, 2));
      function U() {
        const V = new ie(), me = new ie();
        let ee = 0;
        const le = (i - t) / s;
        for (let ye = 0; ye <= u; ye++) {
          const Z = [], H = ye / u, Te = H * (i - t) + t;
          for (let ke = 0; ke <= c; ke++) {
            const Ce = ke / c, Le = Ce * C + b, Ve = Math.sin(Le), Ze = Math.cos(Le);
            me.x = Te * Ve, me.y = -H * s + O, me.z = Te * Ze, I.push(me.x, me.y, me.z), V.set(Ve, le, Ze).normalize(), A.push(V.x, V.y, V.z), E.push(Ce, 1 - H), Z.push(R++);
          }
          j.push(Z);
        }
        for (let ye = 0; ye < c; ye++)
          for (let Z = 0; Z < u; Z++) {
            const H = j[Z][ye], Te = j[Z + 1][ye], ke = j[Z + 1][ye + 1], Ce = j[Z][ye + 1];
            N.push(H, Te, Ce), N.push(Te, ke, Ce), ee += 6;
          }
        _.addGroup(P, ee, 0), P += ee;
      }
      function k(V) {
        const me = R, ee = new $e(), le = new ie();
        let ye = 0;
        const Z = V === !0 ? t : i, H = V === !0 ? 1 : -1;
        for (let ke = 1; ke <= c; ke++)
          I.push(0, O * H, 0), A.push(0, H, 0), E.push(0.5, 0.5), R++;
        const Te = R;
        for (let ke = 0; ke <= c; ke++) {
          const Le = ke / c * C + b, Ve = Math.cos(Le), Ze = Math.sin(Le);
          le.x = Z * Ze, le.y = O * H, le.z = Z * Ve, I.push(le.x, le.y, le.z), A.push(0, H, 0), ee.x = Ve * 0.5 + 0.5, ee.y = Ze * 0.5 * H + 0.5, E.push(ee.x, ee.y), R++;
        }
        for (let ke = 0; ke < c; ke++) {
          const Ce = me + ke, Le = Te + ke;
          V === !0 ? N.push(Le, Le + 1, Ce) : N.push(Le + 1, Le, Ce), ye += 3;
        }
        _.addGroup(P, ye, V === !0 ? 1 : 2), P += ye;
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new Vh(t.radiusTop, t.radiusBottom, t.height, t.radialSegments, t.heightSegments, t.openEnded, t.thetaStart, t.thetaLength);
    }
  }
  class r1 extends Vh {
    constructor(t = 1, i = 1, s = 32, c = 1, u = !1, f = 0, b = Math.PI * 2) {
      super(0, t, i, s, c, u, f, b), this.type = "ConeGeometry", this.parameters = {
        radius: t,
        height: i,
        radialSegments: s,
        heightSegments: c,
        openEnded: u,
        thetaStart: f,
        thetaLength: b
      };
    }
    static fromJSON(t) {
      return new r1(t.radius, t.height, t.radialSegments, t.heightSegments, t.openEnded, t.thetaStart, t.thetaLength);
    }
  }
  class Js extends tn {
    constructor(t = [], i = [], s = 1, c = 0) {
      super(), this.type = "PolyhedronGeometry", this.parameters = {
        vertices: t,
        indices: i,
        radius: s,
        detail: c
      };
      const u = [], f = [];
      b(c), _(s), N(), this.setAttribute("position", new Rt(u, 3)), this.setAttribute("normal", new Rt(u.slice(), 3)), this.setAttribute("uv", new Rt(f, 2)), c === 0 ? this.computeVertexNormals() : this.normalizeNormals();
      function b(U) {
        const k = new ie(), V = new ie(), me = new ie();
        for (let ee = 0; ee < i.length; ee += 3)
          E(i[ee + 0], k), E(i[ee + 1], V), E(i[ee + 2], me), C(k, V, me, U);
      }
      function C(U, k, V, me) {
        const ee = me + 1, le = [];
        for (let ye = 0; ye <= ee; ye++) {
          le[ye] = [];
          const Z = U.clone().lerp(V, ye / ee), H = k.clone().lerp(V, ye / ee), Te = ee - ye;
          for (let ke = 0; ke <= Te; ke++)
            ke === 0 && ye === ee ? le[ye][ke] = Z : le[ye][ke] = Z.clone().lerp(H, ke / Te);
        }
        for (let ye = 0; ye < ee; ye++)
          for (let Z = 0; Z < 2 * (ee - ye) - 1; Z++) {
            const H = Math.floor(Z / 2);
            Z % 2 === 0 ? (A(le[ye][H + 1]), A(le[ye + 1][H]), A(le[ye][H])) : (A(le[ye][H + 1]), A(le[ye + 1][H + 1]), A(le[ye + 1][H]));
          }
      }
      function _(U) {
        const k = new ie();
        for (let V = 0; V < u.length; V += 3)
          k.x = u[V + 0], k.y = u[V + 1], k.z = u[V + 2], k.normalize().multiplyScalar(U), u[V + 0] = k.x, u[V + 1] = k.y, u[V + 2] = k.z;
      }
      function N() {
        const U = new ie();
        for (let k = 0; k < u.length; k += 3) {
          U.x = u[k + 0], U.y = u[k + 1], U.z = u[k + 2];
          const V = O(U) / 2 / Math.PI + 0.5, me = P(U) / Math.PI + 0.5;
          f.push(V, 1 - me);
        }
        R(), I();
      }
      function I() {
        for (let U = 0; U < f.length; U += 6) {
          const k = f[U + 0], V = f[U + 2], me = f[U + 4], ee = Math.max(k, V, me), le = Math.min(k, V, me);
          ee > 0.9 && le < 0.1 && (k < 0.2 && (f[U + 0] += 1), V < 0.2 && (f[U + 2] += 1), me < 0.2 && (f[U + 4] += 1));
        }
      }
      function A(U) {
        u.push(U.x, U.y, U.z);
      }
      function E(U, k) {
        const V = U * 3;
        k.x = t[V + 0], k.y = t[V + 1], k.z = t[V + 2];
      }
      function R() {
        const U = new ie(), k = new ie(), V = new ie(), me = new ie(), ee = new $e(), le = new $e(), ye = new $e();
        for (let Z = 0, H = 0; Z < u.length; Z += 9, H += 6) {
          U.set(u[Z + 0], u[Z + 1], u[Z + 2]), k.set(u[Z + 3], u[Z + 4], u[Z + 5]), V.set(u[Z + 6], u[Z + 7], u[Z + 8]), ee.set(f[H + 0], f[H + 1]), le.set(f[H + 2], f[H + 3]), ye.set(f[H + 4], f[H + 5]), me.copy(U).add(k).add(V).divideScalar(3);
          const Te = O(me);
          j(ee, H + 0, U, Te), j(le, H + 2, k, Te), j(ye, H + 4, V, Te);
        }
      }
      function j(U, k, V, me) {
        me < 0 && U.x === 1 && (f[k] = U.x - 1), V.x === 0 && V.z === 0 && (f[k] = me / 2 / Math.PI + 0.5);
      }
      function O(U) {
        return Math.atan2(U.z, -U.x);
      }
      function P(U) {
        return Math.atan2(-U.y, Math.sqrt(U.x * U.x + U.z * U.z));
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new Js(t.vertices, t.indices, t.radius, t.details);
    }
  }
  class i1 extends Js {
    constructor(t = 1, i = 0) {
      const s = (1 + Math.sqrt(5)) / 2, c = 1 / s, u = [
        // (±1, ±1, ±1)
        -1,
        -1,
        -1,
        -1,
        -1,
        1,
        -1,
        1,
        -1,
        -1,
        1,
        1,
        1,
        -1,
        -1,
        1,
        -1,
        1,
        1,
        1,
        -1,
        1,
        1,
        1,
        // (0, ±1/φ, ±φ)
        0,
        -c,
        -s,
        0,
        -c,
        s,
        0,
        c,
        -s,
        0,
        c,
        s,
        // (±1/φ, ±φ, 0)
        -c,
        -s,
        0,
        -c,
        s,
        0,
        c,
        -s,
        0,
        c,
        s,
        0,
        // (±φ, 0, ±1/φ)
        -s,
        0,
        -c,
        s,
        0,
        -c,
        -s,
        0,
        c,
        s,
        0,
        c
      ], f = [
        3,
        11,
        7,
        3,
        7,
        15,
        3,
        15,
        13,
        7,
        19,
        17,
        7,
        17,
        6,
        7,
        6,
        15,
        17,
        4,
        8,
        17,
        8,
        10,
        17,
        10,
        6,
        8,
        0,
        16,
        8,
        16,
        2,
        8,
        2,
        10,
        0,
        12,
        1,
        0,
        1,
        18,
        0,
        18,
        16,
        6,
        10,
        2,
        6,
        2,
        13,
        6,
        13,
        15,
        2,
        16,
        18,
        2,
        18,
        3,
        2,
        3,
        13,
        18,
        1,
        9,
        18,
        9,
        11,
        18,
        11,
        3,
        4,
        14,
        12,
        4,
        12,
        0,
        4,
        0,
        8,
        11,
        9,
        5,
        11,
        5,
        19,
        11,
        19,
        7,
        19,
        5,
        14,
        19,
        14,
        4,
        19,
        4,
        17,
        1,
        12,
        14,
        1,
        14,
        5,
        1,
        5,
        9
      ];
      super(u, f, t, i), this.type = "DodecahedronGeometry", this.parameters = {
        radius: t,
        detail: i
      };
    }
    static fromJSON(t) {
      return new i1(t.radius, t.detail);
    }
  }
  const o1 = /* @__PURE__ */ new ie(), a1 = /* @__PURE__ */ new ie(), hv = /* @__PURE__ */ new ie(), s1 = /* @__PURE__ */ new qr();
  class V_ extends tn {
    constructor(t = null, i = 1) {
      if (super(), this.type = "EdgesGeometry", this.parameters = {
        geometry: t,
        thresholdAngle: i
      }, t !== null) {
        const c = Math.pow(10, 4), u = Math.cos(Pa * i), f = t.getIndex(), b = t.getAttribute("position"), C = f ? f.count : b.count, _ = [0, 0, 0], N = ["a", "b", "c"], I = new Array(3), A = {}, E = [];
        for (let R = 0; R < C; R += 3) {
          f ? (_[0] = f.getX(R), _[1] = f.getX(R + 1), _[2] = f.getX(R + 2)) : (_[0] = R, _[1] = R + 1, _[2] = R + 2);
          const { a: j, b: O, c: P } = s1;
          if (j.fromBufferAttribute(b, _[0]), O.fromBufferAttribute(b, _[1]), P.fromBufferAttribute(b, _[2]), s1.getNormal(hv), I[0] = `${Math.round(j.x * c)},${Math.round(j.y * c)},${Math.round(j.z * c)}`, I[1] = `${Math.round(O.x * c)},${Math.round(O.y * c)},${Math.round(O.z * c)}`, I[2] = `${Math.round(P.x * c)},${Math.round(P.y * c)},${Math.round(P.z * c)}`, !(I[0] === I[1] || I[1] === I[2] || I[2] === I[0]))
            for (let U = 0; U < 3; U++) {
              const k = (U + 1) % 3, V = I[U], me = I[k], ee = s1[N[U]], le = s1[N[k]], ye = `${V}_${me}`, Z = `${me}_${V}`;
              Z in A && A[Z] ? (hv.dot(A[Z].normal) <= u && (E.push(ee.x, ee.y, ee.z), E.push(le.x, le.y, le.z)), A[Z] = null) : ye in A || (A[ye] = {
                index0: _[U],
                index1: _[k],
                normal: hv.clone()
              });
            }
        }
        for (const R in A)
          if (A[R]) {
            const { index0: j, index1: O } = A[R];
            o1.fromBufferAttribute(b, j), a1.fromBufferAttribute(b, O), E.push(o1.x, o1.y, o1.z), E.push(a1.x, a1.y, a1.z);
          }
        this.setAttribute("position", new Rt(E, 3));
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
  }
  class gc extends gm {
    constructor(t) {
      super(t), this.uuid = ui(), this.type = "Shape", this.holes = [];
    }
    getPointsHoles(t) {
      const i = [];
      for (let s = 0, c = this.holes.length; s < c; s++)
        i[s] = this.holes[s].getPoints(t);
      return i;
    }
    // get points of shape and holes (keypoints based on segments parameter)
    extractPoints(t) {
      return {
        shape: this.getPoints(t),
        holes: this.getPointsHoles(t)
      };
    }
    copy(t) {
      super.copy(t), this.holes = [];
      for (let i = 0, s = t.holes.length; i < s; i++) {
        const c = t.holes[i];
        this.holes.push(c.clone());
      }
      return this;
    }
    toJSON() {
      const t = super.toJSON();
      t.uuid = this.uuid, t.holes = [];
      for (let i = 0, s = this.holes.length; i < s; i++) {
        const c = this.holes[i];
        t.holes.push(c.toJSON());
      }
      return t;
    }
    fromJSON(t) {
      super.fromJSON(t), this.uuid = t.uuid, this.holes = [];
      for (let i = 0, s = t.holes.length; i < s; i++) {
        const c = t.holes[i];
        this.holes.push(new gm().fromJSON(c));
      }
      return this;
    }
  }
  const VR = {
    triangulate: function(m, t, i = 2) {
      const s = t && t.length, c = s ? t[0] * i : m.length;
      let u = H_(m, 0, c, i, !0);
      const f = [];
      if (!u || u.next === u.prev)
        return f;
      let b, C, _, N, I, A, E;
      if (s && (u = KR(m, t, u, i)), m.length > 80 * i) {
        b = _ = m[0], C = N = m[1];
        for (let R = i; R < c; R += i)
          I = m[R], A = m[R + 1], I < b && (b = I), A < C && (C = A), I > _ && (_ = I), A > N && (N = A);
        E = Math.max(_ - b, N - C), E = E !== 0 ? 32767 / E : 0;
      }
      return vm(u, f, i, b, C, E, 0), f;
    }
  };
  function H_(m, t, i, s, c) {
    let u, f;
    if (c === s6(m, t, i, s) > 0)
      for (u = t; u < i; u += s)
        f = Y_(u, m[u], m[u + 1], f);
    else
      for (u = i - s; u >= t; u -= s)
        f = Y_(u, m[u], m[u + 1], f);
    return f && l1(f, f.next) && (xm(f), f = f.next), f;
  }
  function bc(m, t) {
    if (!m)
      return m;
    t || (t = m);
    let i = m, s;
    do
      if (s = !1, !i.steiner && (l1(i, i.next) || dr(i.prev, i, i.next) === 0)) {
        if (xm(i), i = t = i.prev, i === i.next)
          break;
        s = !0;
      } else
        i = i.next;
    while (s || i !== t);
    return t;
  }
  function vm(m, t, i, s, c, u, f) {
    if (!m)
      return;
    !f && u && t6(m, s, c, u);
    let b = m, C, _;
    for (; m.prev !== m.next; ) {
      if (C = m.prev, _ = m.next, u ? $R(m, s, c, u) : HR(m)) {
        t.push(C.i / i | 0), t.push(m.i / i | 0), t.push(_.i / i | 0), xm(m), m = _.next, b = _.next;
        continue;
      }
      if (m = _, m === b) {
        f ? f === 1 ? (m = qR(bc(m), t, i), vm(m, t, i, s, c, u, 2)) : f === 2 && YR(m, t, i, s, c, u) : vm(bc(m), t, i, s, c, u, 1);
        break;
      }
    }
  }
  function HR(m) {
    const t = m.prev, i = m, s = m.next;
    if (dr(t, i, s) >= 0)
      return !1;
    const c = t.x, u = i.x, f = s.x, b = t.y, C = i.y, _ = s.y, N = c < u ? c < f ? c : f : u < f ? u : f, I = b < C ? b < _ ? b : _ : C < _ ? C : _, A = c > u ? c > f ? c : f : u > f ? u : f, E = b > C ? b > _ ? b : _ : C > _ ? C : _;
    let R = s.next;
    for (; R !== t; ) {
      if (R.x >= N && R.x <= A && R.y >= I && R.y <= E && Hh(c, b, u, C, f, _, R.x, R.y) && dr(R.prev, R, R.next) >= 0)
        return !1;
      R = R.next;
    }
    return !0;
  }
  function $R(m, t, i, s) {
    const c = m.prev, u = m, f = m.next;
    if (dr(c, u, f) >= 0)
      return !1;
    const b = c.x, C = u.x, _ = f.x, N = c.y, I = u.y, A = f.y, E = b < C ? b < _ ? b : _ : C < _ ? C : _, R = N < I ? N < A ? N : A : I < A ? I : A, j = b > C ? b > _ ? b : _ : C > _ ? C : _, O = N > I ? N > A ? N : A : I > A ? I : A, P = uv(E, R, t, i, s), U = uv(j, O, t, i, s);
    let k = m.prevZ, V = m.nextZ;
    for (; k && k.z >= P && V && V.z <= U; ) {
      if (k.x >= E && k.x <= j && k.y >= R && k.y <= O && k !== c && k !== f && Hh(b, N, C, I, _, A, k.x, k.y) && dr(k.prev, k, k.next) >= 0 || (k = k.prevZ, V.x >= E && V.x <= j && V.y >= R && V.y <= O && V !== c && V !== f && Hh(b, N, C, I, _, A, V.x, V.y) && dr(V.prev, V, V.next) >= 0))
        return !1;
      V = V.nextZ;
    }
    for (; k && k.z >= P; ) {
      if (k.x >= E && k.x <= j && k.y >= R && k.y <= O && k !== c && k !== f && Hh(b, N, C, I, _, A, k.x, k.y) && dr(k.prev, k, k.next) >= 0)
        return !1;
      k = k.prevZ;
    }
    for (; V && V.z <= U; ) {
      if (V.x >= E && V.x <= j && V.y >= R && V.y <= O && V !== c && V !== f && Hh(b, N, C, I, _, A, V.x, V.y) && dr(V.prev, V, V.next) >= 0)
        return !1;
      V = V.nextZ;
    }
    return !0;
  }
  function qR(m, t, i) {
    let s = m;
    do {
      const c = s.prev, u = s.next.next;
      !l1(c, u) && $_(c, s, s.next, u) && ym(c, u) && ym(u, c) && (t.push(c.i / i | 0), t.push(s.i / i | 0), t.push(u.i / i | 0), xm(s), xm(s.next), s = m = u), s = s.next;
    } while (s !== m);
    return bc(s);
  }
  function YR(m, t, i, s, c, u) {
    let f = m;
    do {
      let b = f.next.next;
      for (; b !== f.prev; ) {
        if (f.i !== b.i && i6(f, b)) {
          let C = q_(f, b);
          f = bc(f, f.next), C = bc(C, C.next), vm(f, t, i, s, c, u, 0), vm(C, t, i, s, c, u, 0);
          return;
        }
        b = b.next;
      }
      f = f.next;
    } while (f !== m);
  }
  function KR(m, t, i, s) {
    const c = [];
    let u, f, b, C, _;
    for (u = 0, f = t.length; u < f; u++)
      b = t[u] * s, C = u < f - 1 ? t[u + 1] * s : m.length, _ = H_(m, b, C, s, !1), _ === _.next && (_.steiner = !0), c.push(r6(_));
    for (c.sort(ZR), u = 0; u < c.length; u++)
      i = JR(c[u], i);
    return i;
  }
  function ZR(m, t) {
    return m.x - t.x;
  }
  function JR(m, t) {
    const i = QR(m, t);
    if (!i)
      return t;
    const s = q_(i, m);
    return bc(s, s.next), bc(i, i.next);
  }
  function QR(m, t) {
    let i = t, s = -1 / 0, c;
    const u = m.x, f = m.y;
    do {
      if (f <= i.y && f >= i.next.y && i.next.y !== i.y) {
        const A = i.x + (f - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
        if (A <= u && A > s && (s = A, c = i.x < i.next.x ? i : i.next, A === u))
          return c;
      }
      i = i.next;
    } while (i !== t);
    if (!c)
      return null;
    const b = c, C = c.x, _ = c.y;
    let N = 1 / 0, I;
    i = c;
    do
      u >= i.x && i.x >= C && u !== i.x && Hh(f < _ ? u : s, f, C, _, f < _ ? s : u, f, i.x, i.y) && (I = Math.abs(f - i.y) / (u - i.x), ym(i, m) && (I < N || I === N && (i.x > c.x || i.x === c.x && e6(c, i))) && (c = i, N = I)), i = i.next;
    while (i !== b);
    return c;
  }
  function e6(m, t) {
    return dr(m.prev, m, t.prev) < 0 && dr(t.next, m, m.next) < 0;
  }
  function t6(m, t, i, s) {
    let c = m;
    do
      c.z === 0 && (c.z = uv(c.x, c.y, t, i, s)), c.prevZ = c.prev, c.nextZ = c.next, c = c.next;
    while (c !== m);
    c.prevZ.nextZ = null, c.prevZ = null, n6(c);
  }
  function n6(m) {
    let t, i, s, c, u, f, b, C, _ = 1;
    do {
      for (i = m, m = null, u = null, f = 0; i; ) {
        for (f++, s = i, b = 0, t = 0; t < _ && (b++, s = s.nextZ, !!s); t++)
          ;
        for (C = _; b > 0 || C > 0 && s; )
          b !== 0 && (C === 0 || !s || i.z <= s.z) ? (c = i, i = i.nextZ, b--) : (c = s, s = s.nextZ, C--), u ? u.nextZ = c : m = c, c.prevZ = u, u = c;
        i = s;
      }
      u.nextZ = null, _ *= 2;
    } while (f > 1);
    return m;
  }
  function uv(m, t, i, s, c) {
    return m = (m - i) * c | 0, t = (t - s) * c | 0, m = (m | m << 8) & 16711935, m = (m | m << 4) & 252645135, m = (m | m << 2) & 858993459, m = (m | m << 1) & 1431655765, t = (t | t << 8) & 16711935, t = (t | t << 4) & 252645135, t = (t | t << 2) & 858993459, t = (t | t << 1) & 1431655765, m | t << 1;
  }
  function r6(m) {
    let t = m, i = m;
    do
      (t.x < i.x || t.x === i.x && t.y < i.y) && (i = t), t = t.next;
    while (t !== m);
    return i;
  }
  function Hh(m, t, i, s, c, u, f, b) {
    return (c - f) * (t - b) >= (m - f) * (u - b) && (m - f) * (s - b) >= (i - f) * (t - b) && (i - f) * (u - b) >= (c - f) * (s - b);
  }
  function i6(m, t) {
    return m.next.i !== t.i && m.prev.i !== t.i && !o6(m, t) && // dones't intersect other edges
    (ym(m, t) && ym(t, m) && a6(m, t) && // locally visible
    (dr(m.prev, m, t.prev) || dr(m, t.prev, t)) || // does not create opposite-facing sectors
    l1(m, t) && dr(m.prev, m, m.next) > 0 && dr(t.prev, t, t.next) > 0);
  }
  function dr(m, t, i) {
    return (t.y - m.y) * (i.x - t.x) - (t.x - m.x) * (i.y - t.y);
  }
  function l1(m, t) {
    return m.x === t.x && m.y === t.y;
  }
  function $_(m, t, i, s) {
    const c = h1(dr(m, t, i)), u = h1(dr(m, t, s)), f = h1(dr(i, s, m)), b = h1(dr(i, s, t));
    return !!(c !== u && f !== b || c === 0 && c1(m, i, t) || u === 0 && c1(m, s, t) || f === 0 && c1(i, m, s) || b === 0 && c1(i, t, s));
  }
  function c1(m, t, i) {
    return t.x <= Math.max(m.x, i.x) && t.x >= Math.min(m.x, i.x) && t.y <= Math.max(m.y, i.y) && t.y >= Math.min(m.y, i.y);
  }
  function h1(m) {
    return m > 0 ? 1 : m < 0 ? -1 : 0;
  }
  function o6(m, t) {
    let i = m;
    do {
      if (i.i !== m.i && i.next.i !== m.i && i.i !== t.i && i.next.i !== t.i && $_(i, i.next, m, t))
        return !0;
      i = i.next;
    } while (i !== m);
    return !1;
  }
  function ym(m, t) {
    return dr(m.prev, m, m.next) < 0 ? dr(m, t, m.next) >= 0 && dr(m, m.prev, t) >= 0 : dr(m, t, m.prev) < 0 || dr(m, m.next, t) < 0;
  }
  function a6(m, t) {
    let i = m, s = !1;
    const c = (m.x + t.x) / 2, u = (m.y + t.y) / 2;
    do
      i.y > u != i.next.y > u && i.next.y !== i.y && c < (i.next.x - i.x) * (u - i.y) / (i.next.y - i.y) + i.x && (s = !s), i = i.next;
    while (i !== m);
    return s;
  }
  function q_(m, t) {
    const i = new dv(m.i, m.x, m.y), s = new dv(t.i, t.x, t.y), c = m.next, u = t.prev;
    return m.next = t, t.prev = m, i.next = c, c.prev = i, s.next = i, i.prev = s, u.next = s, s.prev = u, s;
  }
  function Y_(m, t, i, s) {
    const c = new dv(m, t, i);
    return s ? (c.next = s.next, c.prev = s, s.next.prev = c, s.next = c) : (c.prev = c, c.next = c), c;
  }
  function xm(m) {
    m.next.prev = m.prev, m.prev.next = m.next, m.prevZ && (m.prevZ.nextZ = m.nextZ), m.nextZ && (m.nextZ.prevZ = m.prevZ);
  }
  function dv(m, t, i) {
    this.i = m, this.x = t, this.y = i, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = !1;
  }
  function s6(m, t, i, s) {
    let c = 0;
    for (let u = t, f = i - s; u < i; u += s)
      c += (m[f] - m[u]) * (m[u + 1] + m[f + 1]), f = u;
    return c;
  }
  class ia {
    // calculate area of the contour polygon
    static area(t) {
      const i = t.length;
      let s = 0;
      for (let c = i - 1, u = 0; u < i; c = u++)
        s += t[c].x * t[u].y - t[u].x * t[c].y;
      return s * 0.5;
    }
    static isClockWise(t) {
      return ia.area(t) < 0;
    }
    static triangulateShape(t, i) {
      const s = [], c = [], u = [];
      K_(t), Z_(s, t);
      let f = t.length;
      i.forEach(K_);
      for (let C = 0; C < i.length; C++)
        c.push(f), f += i[C].length, Z_(s, i[C]);
      const b = VR.triangulate(s, c);
      for (let C = 0; C < b.length; C += 3)
        u.push(b.slice(C, C + 3));
      return u;
    }
  }
  function K_(m) {
    const t = m.length;
    t > 2 && m[t - 1].equals(m[0]) && m.pop();
  }
  function Z_(m, t) {
    for (let i = 0; i < t.length; i++)
      m.push(t[i].x), m.push(t[i].y);
  }
  class u1 extends tn {
    constructor(t = new gc([new $e(0.5, 0.5), new $e(-0.5, 0.5), new $e(-0.5, -0.5), new $e(0.5, -0.5)]), i = {}) {
      super(), this.type = "ExtrudeGeometry", this.parameters = {
        shapes: t,
        options: i
      }, t = Array.isArray(t) ? t : [t];
      const s = this, c = [], u = [];
      for (let b = 0, C = t.length; b < C; b++) {
        const _ = t[b];
        f(_);
      }
      this.setAttribute("position", new Rt(c, 3)), this.setAttribute("uv", new Rt(u, 2)), this.computeVertexNormals();
      function f(b) {
        const C = [], _ = i.curveSegments !== void 0 ? i.curveSegments : 12, N = i.steps !== void 0 ? i.steps : 1, I = i.depth !== void 0 ? i.depth : 1;
        let A = i.bevelEnabled !== void 0 ? i.bevelEnabled : !0, E = i.bevelThickness !== void 0 ? i.bevelThickness : 0.2, R = i.bevelSize !== void 0 ? i.bevelSize : E - 0.1, j = i.bevelOffset !== void 0 ? i.bevelOffset : 0, O = i.bevelSegments !== void 0 ? i.bevelSegments : 3;
        const P = i.extrudePath, U = i.UVGenerator !== void 0 ? i.UVGenerator : l6;
        let k, V = !1, me, ee, le, ye;
        P && (k = P.getSpacedPoints(N), V = !0, A = !1, me = P.computeFrenetFrames(N, !1), ee = new ie(), le = new ie(), ye = new ie()), A || (O = 0, E = 0, R = 0, j = 0);
        const Z = b.extractPoints(_);
        let H = Z.shape;
        const Te = Z.holes;
        if (!ia.isClockWise(H)) {
          H = H.reverse();
          for (let We = 0, ot = Te.length; We < ot; We++) {
            const Ye = Te[We];
            ia.isClockWise(Ye) && (Te[We] = Ye.reverse());
          }
        }
        const Ce = ia.triangulateShape(H, Te), Le = H;
        for (let We = 0, ot = Te.length; We < ot; We++) {
          const Ye = Te[We];
          H = H.concat(Ye);
        }
        function Ve(We, ot, Ye) {
          return ot || console.error("THREE.ExtrudeGeometry: vec does not exist"), We.clone().addScaledVector(ot, Ye);
        }
        const Ze = H.length, vt = Ce.length;
        function ze(We, ot, Ye) {
          let pt, it, Pt;
          const $t = We.x - ot.x, ce = We.y - ot.y, Y = Ye.x - We.x, Ae = Ye.y - We.y, qe = $t * $t + ce * ce, tt = $t * Ae - ce * Y;
          if (Math.abs(tt) > Number.EPSILON) {
            const Qe = Math.sqrt(qe), Ut = Math.sqrt(Y * Y + Ae * Ae), Ct = ot.x - ce / Qe, xt = ot.y + $t / Qe, cn = Ye.x - Ae / Ut, dt = Ye.y + Y / Ut, zt = ((cn - Ct) * Ae - (dt - xt) * Y) / ($t * Ae - ce * Y);
            pt = Ct + $t * zt - We.x, it = xt + ce * zt - We.y;
            const Tn = pt * pt + it * it;
            if (Tn <= 2)
              return new $e(pt, it);
            Pt = Math.sqrt(Tn / 2);
          } else {
            let Qe = !1;
            $t > Number.EPSILON ? Y > Number.EPSILON && (Qe = !0) : $t < -Number.EPSILON ? Y < -Number.EPSILON && (Qe = !0) : Math.sign(ce) === Math.sign(Ae) && (Qe = !0), Qe ? (pt = -ce, it = $t, Pt = Math.sqrt(qe)) : (pt = $t, it = ce, Pt = Math.sqrt(qe / 2));
          }
          return new $e(pt / Pt, it / Pt);
        }
        const lt = [];
        for (let We = 0, ot = Le.length, Ye = ot - 1, pt = We + 1; We < ot; We++, Ye++, pt++)
          Ye === ot && (Ye = 0), pt === ot && (pt = 0), lt[We] = ze(Le[We], Le[Ye], Le[pt]);
        const st = [];
        let Bt, dn = lt.concat();
        for (let We = 0, ot = Te.length; We < ot; We++) {
          const Ye = Te[We];
          Bt = [];
          for (let pt = 0, it = Ye.length, Pt = it - 1, $t = pt + 1; pt < it; pt++, Pt++, $t++)
            Pt === it && (Pt = 0), $t === it && ($t = 0), Bt[pt] = ze(Ye[pt], Ye[Pt], Ye[$t]);
          st.push(Bt), dn = dn.concat(Bt);
        }
        for (let We = 0; We < O; We++) {
          const ot = We / O, Ye = E * Math.cos(ot * Math.PI / 2), pt = R * Math.sin(ot * Math.PI / 2) + j;
          for (let it = 0, Pt = Le.length; it < Pt; it++) {
            const $t = Ve(Le[it], lt[it], pt);
            ut($t.x, $t.y, -Ye);
          }
          for (let it = 0, Pt = Te.length; it < Pt; it++) {
            const $t = Te[it];
            Bt = st[it];
            for (let ce = 0, Y = $t.length; ce < Y; ce++) {
              const Ae = Ve($t[ce], Bt[ce], pt);
              ut(Ae.x, Ae.y, -Ye);
            }
          }
        }
        const Vn = R + j;
        for (let We = 0; We < Ze; We++) {
          const ot = A ? Ve(H[We], dn[We], Vn) : H[We];
          V ? (le.copy(me.normals[0]).multiplyScalar(ot.x), ee.copy(me.binormals[0]).multiplyScalar(ot.y), ye.copy(k[0]).add(le).add(ee), ut(ye.x, ye.y, ye.z)) : ut(ot.x, ot.y, 0);
        }
        for (let We = 1; We <= N; We++)
          for (let ot = 0; ot < Ze; ot++) {
            const Ye = A ? Ve(H[ot], dn[ot], Vn) : H[ot];
            V ? (le.copy(me.normals[We]).multiplyScalar(Ye.x), ee.copy(me.binormals[We]).multiplyScalar(Ye.y), ye.copy(k[We]).add(le).add(ee), ut(ye.x, ye.y, ye.z)) : ut(Ye.x, Ye.y, I / N * We);
          }
        for (let We = O - 1; We >= 0; We--) {
          const ot = We / O, Ye = E * Math.cos(ot * Math.PI / 2), pt = R * Math.sin(ot * Math.PI / 2) + j;
          for (let it = 0, Pt = Le.length; it < Pt; it++) {
            const $t = Ve(Le[it], lt[it], pt);
            ut($t.x, $t.y, I + Ye);
          }
          for (let it = 0, Pt = Te.length; it < Pt; it++) {
            const $t = Te[it];
            Bt = st[it];
            for (let ce = 0, Y = $t.length; ce < Y; ce++) {
              const Ae = Ve($t[ce], Bt[ce], pt);
              V ? ut(Ae.x, Ae.y + k[N - 1].y, k[N - 1].x + Ye) : ut(Ae.x, Ae.y, I + Ye);
            }
          }
        }
        Ge(), ht();
        function Ge() {
          const We = c.length / 3;
          if (A) {
            let ot = 0, Ye = Ze * ot;
            for (let pt = 0; pt < vt; pt++) {
              const it = Ce[pt];
              mn(it[2] + Ye, it[1] + Ye, it[0] + Ye);
            }
            ot = N + O * 2, Ye = Ze * ot;
            for (let pt = 0; pt < vt; pt++) {
              const it = Ce[pt];
              mn(it[0] + Ye, it[1] + Ye, it[2] + Ye);
            }
          } else {
            for (let ot = 0; ot < vt; ot++) {
              const Ye = Ce[ot];
              mn(Ye[2], Ye[1], Ye[0]);
            }
            for (let ot = 0; ot < vt; ot++) {
              const Ye = Ce[ot];
              mn(Ye[0] + Ze * N, Ye[1] + Ze * N, Ye[2] + Ze * N);
            }
          }
          s.addGroup(We, c.length / 3 - We, 0);
        }
        function ht() {
          const We = c.length / 3;
          let ot = 0;
          jt(Le, ot), ot += Le.length;
          for (let Ye = 0, pt = Te.length; Ye < pt; Ye++) {
            const it = Te[Ye];
            jt(it, ot), ot += it.length;
          }
          s.addGroup(We, c.length / 3 - We, 1);
        }
        function jt(We, ot) {
          let Ye = We.length;
          for (; --Ye >= 0; ) {
            const pt = Ye;
            let it = Ye - 1;
            it < 0 && (it = We.length - 1);
            for (let Pt = 0, $t = N + O * 2; Pt < $t; Pt++) {
              const ce = Ze * Pt, Y = Ze * (Pt + 1), Ae = ot + pt + ce, qe = ot + it + ce, tt = ot + it + Y, Qe = ot + pt + Y;
              xn(Ae, qe, tt, Qe);
            }
          }
        }
        function ut(We, ot, Ye) {
          C.push(We), C.push(ot), C.push(Ye);
        }
        function mn(We, ot, Ye) {
          Se(We), Se(ot), Se(Ye);
          const pt = c.length / 3, it = U.generateTopUV(s, c, pt - 3, pt - 2, pt - 1);
          Nn(it[0]), Nn(it[1]), Nn(it[2]);
        }
        function xn(We, ot, Ye, pt) {
          Se(We), Se(ot), Se(pt), Se(ot), Se(Ye), Se(pt);
          const it = c.length / 3, Pt = U.generateSideWallUV(s, c, it - 6, it - 3, it - 2, it - 1);
          Nn(Pt[0]), Nn(Pt[1]), Nn(Pt[3]), Nn(Pt[1]), Nn(Pt[2]), Nn(Pt[3]);
        }
        function Se(We) {
          c.push(C[We * 3 + 0]), c.push(C[We * 3 + 1]), c.push(C[We * 3 + 2]);
        }
        function Nn(We) {
          u.push(We.x), u.push(We.y);
        }
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    toJSON() {
      const t = super.toJSON(), i = this.parameters.shapes, s = this.parameters.options;
      return c6(i, s, t);
    }
    static fromJSON(t, i) {
      const s = [];
      for (let u = 0, f = t.shapes.length; u < f; u++) {
        const b = i[t.shapes[u]];
        s.push(b);
      }
      const c = t.options.extrudePath;
      return c !== void 0 && (t.options.extrudePath = new e1[c.type]().fromJSON(c)), new u1(s, t.options);
    }
  }
  const l6 = {
    generateTopUV: function(m, t, i, s, c) {
      const u = t[i * 3], f = t[i * 3 + 1], b = t[s * 3], C = t[s * 3 + 1], _ = t[c * 3], N = t[c * 3 + 1];
      return [
        new $e(u, f),
        new $e(b, C),
        new $e(_, N)
      ];
    },
    generateSideWallUV: function(m, t, i, s, c, u) {
      const f = t[i * 3], b = t[i * 3 + 1], C = t[i * 3 + 2], _ = t[s * 3], N = t[s * 3 + 1], I = t[s * 3 + 2], A = t[c * 3], E = t[c * 3 + 1], R = t[c * 3 + 2], j = t[u * 3], O = t[u * 3 + 1], P = t[u * 3 + 2];
      return Math.abs(b - N) < Math.abs(f - _) ? [
        new $e(f, 1 - C),
        new $e(_, 1 - I),
        new $e(A, 1 - R),
        new $e(j, 1 - P)
      ] : [
        new $e(b, 1 - C),
        new $e(N, 1 - I),
        new $e(E, 1 - R),
        new $e(O, 1 - P)
      ];
    }
  };
  function c6(m, t, i) {
    if (i.shapes = [], Array.isArray(m))
      for (let s = 0, c = m.length; s < c; s++) {
        const u = m[s];
        i.shapes.push(u.uuid);
      }
    else
      i.shapes.push(m.uuid);
    return i.options = Object.assign({}, t), t.extrudePath !== void 0 && (i.options.extrudePath = t.extrudePath.toJSON()), i;
  }
  class d1 extends Js {
    constructor(t = 1, i = 0) {
      const s = (1 + Math.sqrt(5)) / 2, c = [
        -1,
        s,
        0,
        1,
        s,
        0,
        -1,
        -s,
        0,
        1,
        -s,
        0,
        0,
        -1,
        s,
        0,
        1,
        s,
        0,
        -1,
        -s,
        0,
        1,
        -s,
        s,
        0,
        -1,
        s,
        0,
        1,
        -s,
        0,
        -1,
        -s,
        0,
        1
      ], u = [
        0,
        11,
        5,
        0,
        5,
        1,
        0,
        1,
        7,
        0,
        7,
        10,
        0,
        10,
        11,
        1,
        5,
        9,
        5,
        11,
        4,
        11,
        10,
        2,
        10,
        7,
        6,
        7,
        1,
        8,
        3,
        9,
        4,
        3,
        4,
        2,
        3,
        2,
        6,
        3,
        6,
        8,
        3,
        8,
        9,
        4,
        9,
        5,
        2,
        4,
        11,
        6,
        2,
        10,
        8,
        6,
        7,
        9,
        8,
        1
      ];
      super(c, u, t, i), this.type = "IcosahedronGeometry", this.parameters = {
        radius: t,
        detail: i
      };
    }
    static fromJSON(t) {
      return new d1(t.radius, t.detail);
    }
  }
  class Cm extends Js {
    constructor(t = 1, i = 0) {
      const s = [
        1,
        0,
        0,
        -1,
        0,
        0,
        0,
        1,
        0,
        0,
        -1,
        0,
        0,
        0,
        1,
        0,
        0,
        -1
      ], c = [
        0,
        2,
        4,
        0,
        4,
        3,
        0,
        3,
        5,
        0,
        5,
        2,
        1,
        2,
        5,
        1,
        5,
        3,
        1,
        3,
        4,
        1,
        4,
        2
      ];
      super(s, c, t, i), this.type = "OctahedronGeometry", this.parameters = {
        radius: t,
        detail: i
      };
    }
    static fromJSON(t) {
      return new Cm(t.radius, t.detail);
    }
  }
  class m1 extends tn {
    constructor(t = 0.5, i = 1, s = 32, c = 1, u = 0, f = Math.PI * 2) {
      super(), this.type = "RingGeometry", this.parameters = {
        innerRadius: t,
        outerRadius: i,
        thetaSegments: s,
        phiSegments: c,
        thetaStart: u,
        thetaLength: f
      }, s = Math.max(3, s), c = Math.max(1, c);
      const b = [], C = [], _ = [], N = [];
      let I = t;
      const A = (i - t) / c, E = new ie(), R = new $e();
      for (let j = 0; j <= c; j++) {
        for (let O = 0; O <= s; O++) {
          const P = u + O / s * f;
          E.x = I * Math.cos(P), E.y = I * Math.sin(P), C.push(E.x, E.y, E.z), _.push(0, 0, 1), R.x = (E.x / i + 1) / 2, R.y = (E.y / i + 1) / 2, N.push(R.x, R.y);
        }
        I += A;
      }
      for (let j = 0; j < c; j++) {
        const O = j * (s + 1);
        for (let P = 0; P < s; P++) {
          const U = P + O, k = U, V = U + s + 1, me = U + s + 2, ee = U + 1;
          b.push(k, V, ee), b.push(V, me, ee);
        }
      }
      this.setIndex(b), this.setAttribute("position", new Rt(C, 3)), this.setAttribute("normal", new Rt(_, 3)), this.setAttribute("uv", new Rt(N, 2));
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new m1(t.innerRadius, t.outerRadius, t.thetaSegments, t.phiSegments, t.thetaStart, t.thetaLength);
    }
  }
  class p1 extends tn {
    constructor(t = new gc([new $e(0, 0.5), new $e(-0.5, -0.5), new $e(0.5, -0.5)]), i = 12) {
      super(), this.type = "ShapeGeometry", this.parameters = {
        shapes: t,
        curveSegments: i
      };
      const s = [], c = [], u = [], f = [];
      let b = 0, C = 0;
      if (Array.isArray(t) === !1)
        _(t);
      else
        for (let N = 0; N < t.length; N++)
          _(t[N]), this.addGroup(b, C, N), b += C, C = 0;
      this.setIndex(s), this.setAttribute("position", new Rt(c, 3)), this.setAttribute("normal", new Rt(u, 3)), this.setAttribute("uv", new Rt(f, 2));
      function _(N) {
        const I = c.length / 3, A = N.extractPoints(i);
        let E = A.shape;
        const R = A.holes;
        ia.isClockWise(E) === !1 && (E = E.reverse());
        for (let O = 0, P = R.length; O < P; O++) {
          const U = R[O];
          ia.isClockWise(U) === !0 && (R[O] = U.reverse());
        }
        const j = ia.triangulateShape(E, R);
        for (let O = 0, P = R.length; O < P; O++) {
          const U = R[O];
          E = E.concat(U);
        }
        for (let O = 0, P = E.length; O < P; O++) {
          const U = E[O];
          c.push(U.x, U.y, 0), u.push(0, 0, 1), f.push(U.x, U.y);
        }
        for (let O = 0, P = j.length; O < P; O++) {
          const U = j[O], k = U[0] + I, V = U[1] + I, me = U[2] + I;
          s.push(k, V, me), C += 3;
        }
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    toJSON() {
      const t = super.toJSON(), i = this.parameters.shapes;
      return h6(i, t);
    }
    static fromJSON(t, i) {
      const s = [];
      for (let c = 0, u = t.shapes.length; c < u; c++) {
        const f = i[t.shapes[c]];
        s.push(f);
      }
      return new p1(s, t.curveSegments);
    }
  }
  function h6(m, t) {
    if (t.shapes = [], Array.isArray(m))
      for (let i = 0, s = m.length; i < s; i++) {
        const c = m[i];
        t.shapes.push(c.uuid);
      }
    else
      t.shapes.push(m.uuid);
    return t;
  }
  class _m extends tn {
    constructor(t = 1, i = 32, s = 16, c = 0, u = Math.PI * 2, f = 0, b = Math.PI) {
      super(), this.type = "SphereGeometry", this.parameters = {
        radius: t,
        widthSegments: i,
        heightSegments: s,
        phiStart: c,
        phiLength: u,
        thetaStart: f,
        thetaLength: b
      }, i = Math.max(3, Math.floor(i)), s = Math.max(2, Math.floor(s));
      const C = Math.min(f + b, Math.PI);
      let _ = 0;
      const N = [], I = new ie(), A = new ie(), E = [], R = [], j = [], O = [];
      for (let P = 0; P <= s; P++) {
        const U = [], k = P / s;
        let V = 0;
        P === 0 && f === 0 ? V = 0.5 / i : P === s && C === Math.PI && (V = -0.5 / i);
        for (let me = 0; me <= i; me++) {
          const ee = me / i;
          I.x = -t * Math.cos(c + ee * u) * Math.sin(f + k * b), I.y = t * Math.cos(f + k * b), I.z = t * Math.sin(c + ee * u) * Math.sin(f + k * b), R.push(I.x, I.y, I.z), A.copy(I).normalize(), j.push(A.x, A.y, A.z), O.push(ee + V, 1 - k), U.push(_++);
        }
        N.push(U);
      }
      for (let P = 0; P < s; P++)
        for (let U = 0; U < i; U++) {
          const k = N[P][U + 1], V = N[P][U], me = N[P + 1][U], ee = N[P + 1][U + 1];
          (P !== 0 || f > 0) && E.push(k, V, ee), (P !== s - 1 || C < Math.PI) && E.push(V, me, ee);
        }
      this.setIndex(E), this.setAttribute("position", new Rt(R, 3)), this.setAttribute("normal", new Rt(j, 3)), this.setAttribute("uv", new Rt(O, 2));
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new _m(t.radius, t.widthSegments, t.heightSegments, t.phiStart, t.phiLength, t.thetaStart, t.thetaLength);
    }
  }
  class f1 extends Js {
    constructor(t = 1, i = 0) {
      const s = [
        1,
        1,
        1,
        -1,
        -1,
        1,
        -1,
        1,
        -1,
        1,
        -1,
        -1
      ], c = [
        2,
        1,
        0,
        0,
        3,
        2,
        1,
        3,
        0,
        2,
        3,
        1
      ];
      super(s, c, t, i), this.type = "TetrahedronGeometry", this.parameters = {
        radius: t,
        detail: i
      };
    }
    static fromJSON(t) {
      return new f1(t.radius, t.detail);
    }
  }
  class g1 extends tn {
    constructor(t = 1, i = 0.4, s = 12, c = 48, u = Math.PI * 2) {
      super(), this.type = "TorusGeometry", this.parameters = {
        radius: t,
        tube: i,
        radialSegments: s,
        tubularSegments: c,
        arc: u
      }, s = Math.floor(s), c = Math.floor(c);
      const f = [], b = [], C = [], _ = [], N = new ie(), I = new ie(), A = new ie();
      for (let E = 0; E <= s; E++)
        for (let R = 0; R <= c; R++) {
          const j = R / c * u, O = E / s * Math.PI * 2;
          I.x = (t + i * Math.cos(O)) * Math.cos(j), I.y = (t + i * Math.cos(O)) * Math.sin(j), I.z = i * Math.sin(O), b.push(I.x, I.y, I.z), N.x = t * Math.cos(j), N.y = t * Math.sin(j), A.subVectors(I, N).normalize(), C.push(A.x, A.y, A.z), _.push(R / c), _.push(E / s);
        }
      for (let E = 1; E <= s; E++)
        for (let R = 1; R <= c; R++) {
          const j = (c + 1) * E + R - 1, O = (c + 1) * (E - 1) + R - 1, P = (c + 1) * (E - 1) + R, U = (c + 1) * E + R;
          f.push(j, O, U), f.push(O, P, U);
        }
      this.setIndex(f), this.setAttribute("position", new Rt(b, 3)), this.setAttribute("normal", new Rt(C, 3)), this.setAttribute("uv", new Rt(_, 2));
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new g1(t.radius, t.tube, t.radialSegments, t.tubularSegments, t.arc);
    }
  }
  class b1 extends tn {
    constructor(t = 1, i = 0.4, s = 64, c = 8, u = 2, f = 3) {
      super(), this.type = "TorusKnotGeometry", this.parameters = {
        radius: t,
        tube: i,
        tubularSegments: s,
        radialSegments: c,
        p: u,
        q: f
      }, s = Math.floor(s), c = Math.floor(c);
      const b = [], C = [], _ = [], N = [], I = new ie(), A = new ie(), E = new ie(), R = new ie(), j = new ie(), O = new ie(), P = new ie();
      for (let k = 0; k <= s; ++k) {
        const V = k / s * u * Math.PI * 2;
        U(V, u, f, t, E), U(V + 0.01, u, f, t, R), O.subVectors(R, E), P.addVectors(R, E), j.crossVectors(O, P), P.crossVectors(j, O), j.normalize(), P.normalize();
        for (let me = 0; me <= c; ++me) {
          const ee = me / c * Math.PI * 2, le = -i * Math.cos(ee), ye = i * Math.sin(ee);
          I.x = E.x + (le * P.x + ye * j.x), I.y = E.y + (le * P.y + ye * j.y), I.z = E.z + (le * P.z + ye * j.z), C.push(I.x, I.y, I.z), A.subVectors(I, E).normalize(), _.push(A.x, A.y, A.z), N.push(k / s), N.push(me / c);
        }
      }
      for (let k = 1; k <= s; k++)
        for (let V = 1; V <= c; V++) {
          const me = (c + 1) * (k - 1) + (V - 1), ee = (c + 1) * k + (V - 1), le = (c + 1) * k + V, ye = (c + 1) * (k - 1) + V;
          b.push(me, ee, ye), b.push(ee, le, ye);
        }
      this.setIndex(b), this.setAttribute("position", new Rt(C, 3)), this.setAttribute("normal", new Rt(_, 3)), this.setAttribute("uv", new Rt(N, 2));
      function U(k, V, me, ee, le) {
        const ye = Math.cos(k), Z = Math.sin(k), H = me / V * k, Te = Math.cos(H);
        le.x = ee * (2 + Te) * 0.5 * ye, le.y = ee * (2 + Te) * Z * 0.5, le.z = ee * Math.sin(H) * 0.5;
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    static fromJSON(t) {
      return new b1(t.radius, t.tube, t.tubularSegments, t.radialSegments, t.p, t.q);
    }
  }
  class v1 extends tn {
    constructor(t = new lv(new ie(-1, -1, 0), new ie(-1, 1, 0), new ie(1, 1, 0)), i = 64, s = 1, c = 8, u = !1) {
      super(), this.type = "TubeGeometry", this.parameters = {
        path: t,
        tubularSegments: i,
        radius: s,
        radialSegments: c,
        closed: u
      };
      const f = t.computeFrenetFrames(i, u);
      this.tangents = f.tangents, this.normals = f.normals, this.binormals = f.binormals;
      const b = new ie(), C = new ie(), _ = new $e();
      let N = new ie();
      const I = [], A = [], E = [], R = [];
      j(), this.setIndex(R), this.setAttribute("position", new Rt(I, 3)), this.setAttribute("normal", new Rt(A, 3)), this.setAttribute("uv", new Rt(E, 2));
      function j() {
        for (let k = 0; k < i; k++)
          O(k);
        O(u === !1 ? i : 0), U(), P();
      }
      function O(k) {
        N = t.getPointAt(k / i, N);
        const V = f.normals[k], me = f.binormals[k];
        for (let ee = 0; ee <= c; ee++) {
          const le = ee / c * Math.PI * 2, ye = Math.sin(le), Z = -Math.cos(le);
          C.x = Z * V.x + ye * me.x, C.y = Z * V.y + ye * me.y, C.z = Z * V.z + ye * me.z, C.normalize(), A.push(C.x, C.y, C.z), b.x = N.x + s * C.x, b.y = N.y + s * C.y, b.z = N.z + s * C.z, I.push(b.x, b.y, b.z);
        }
      }
      function P() {
        for (let k = 1; k <= i; k++)
          for (let V = 1; V <= c; V++) {
            const me = (c + 1) * (k - 1) + (V - 1), ee = (c + 1) * k + (V - 1), le = (c + 1) * k + V, ye = (c + 1) * (k - 1) + V;
            R.push(me, ee, ye), R.push(ee, le, ye);
          }
      }
      function U() {
        for (let k = 0; k <= i; k++)
          for (let V = 0; V <= c; V++)
            _.x = k / i, _.y = V / c, E.push(_.x, _.y);
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.path = this.parameters.path.toJSON(), t;
    }
    static fromJSON(t) {
      return new v1(
        new e1[t.path.type]().fromJSON(t.path),
        t.tubularSegments,
        t.radius,
        t.radialSegments,
        t.closed
      );
    }
  }
  class J_ extends tn {
    constructor(t = null) {
      if (super(), this.type = "WireframeGeometry", this.parameters = {
        geometry: t
      }, t !== null) {
        const i = [], s = /* @__PURE__ */ new Set(), c = new ie(), u = new ie();
        if (t.index !== null) {
          const f = t.attributes.position, b = t.index;
          let C = t.groups;
          C.length === 0 && (C = [{ start: 0, count: b.count, materialIndex: 0 }]);
          for (let _ = 0, N = C.length; _ < N; ++_) {
            const I = C[_], A = I.start, E = I.count;
            for (let R = A, j = A + E; R < j; R += 3)
              for (let O = 0; O < 3; O++) {
                const P = b.getX(R + O), U = b.getX(R + (O + 1) % 3);
                c.fromBufferAttribute(f, P), u.fromBufferAttribute(f, U), Q_(c, u, s) === !0 && (i.push(c.x, c.y, c.z), i.push(u.x, u.y, u.z));
              }
          }
        } else {
          const f = t.attributes.position;
          for (let b = 0, C = f.count / 3; b < C; b++)
            for (let _ = 0; _ < 3; _++) {
              const N = 3 * b + _, I = 3 * b + (_ + 1) % 3;
              c.fromBufferAttribute(f, N), u.fromBufferAttribute(f, I), Q_(c, u, s) === !0 && (i.push(c.x, c.y, c.z), i.push(u.x, u.y, u.z));
            }
        }
        this.setAttribute("position", new Rt(i, 3));
      }
    }
    copy(t) {
      return super.copy(t), this.parameters = Object.assign({}, t.parameters), this;
    }
  }
  function Q_(m, t, i) {
    const s = `${m.x},${m.y},${m.z}-${t.x},${t.y},${t.z}`, c = `${t.x},${t.y},${t.z}-${m.x},${m.y},${m.z}`;
    return i.has(s) === !0 || i.has(c) === !0 ? !1 : (i.add(s), i.add(c), !0);
  }
  var ew = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    BoxGeometry: ka,
    CapsuleGeometry: t1,
    CircleGeometry: n1,
    ConeGeometry: r1,
    CylinderGeometry: Vh,
    DodecahedronGeometry: i1,
    EdgesGeometry: V_,
    ExtrudeGeometry: u1,
    IcosahedronGeometry: d1,
    LatheGeometry: bm,
    OctahedronGeometry: Cm,
    PlaneGeometry: xe,
    PolyhedronGeometry: Js,
    RingGeometry: m1,
    ShapeGeometry: p1,
    SphereGeometry: _m,
    TetrahedronGeometry: f1,
    TorusGeometry: g1,
    TorusKnotGeometry: b1,
    TubeGeometry: v1,
    WireframeGeometry: J_
  });
  class tw extends zr {
    constructor(t) {
      super(), this.isShadowMaterial = !0, this.type = "ShadowMaterial", this.color = new Tt(0), this.transparent = !0, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.fog = t.fog, this;
    }
  }
  class nw extends Oi {
    constructor(t) {
      super(t), this.isRawShaderMaterial = !0, this.type = "RawShaderMaterial";
    }
  }
  class mv extends zr {
    constructor(t) {
      super(), this.isMeshStandardMaterial = !0, this.defines = { STANDARD: "" }, this.type = "MeshStandardMaterial", this.color = new Tt(16777215), this.roughness = 1, this.metalness = 0, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Tt(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Hi, this.normalScale = new $e(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new mi(), this.envMapIntensity = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = !1, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.defines = { STANDARD: "" }, this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapRotation.copy(t.envMapRotation), this.envMapIntensity = t.envMapIntensity, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.flatShading = t.flatShading, this.fog = t.fog, this;
    }
  }
  class rw extends mv {
    constructor(t) {
      super(), this.isMeshPhysicalMaterial = !0, this.defines = {
        STANDARD: "",
        PHYSICAL: ""
      }, this.type = "MeshPhysicalMaterial", this.anisotropyRotation = 0, this.anisotropyMap = null, this.clearcoatMap = null, this.clearcoatRoughness = 0, this.clearcoatRoughnessMap = null, this.clearcoatNormalScale = new $e(1, 1), this.clearcoatNormalMap = null, this.ior = 1.5, Object.defineProperty(this, "reflectivity", {
        get: function() {
          return Yn(2.5 * (this.ior - 1) / (this.ior + 1), 0, 1);
        },
        set: function(i) {
          this.ior = (1 + 0.4 * i) / (1 - 0.4 * i);
        }
      }), this.iridescenceMap = null, this.iridescenceIOR = 1.3, this.iridescenceThicknessRange = [100, 400], this.iridescenceThicknessMap = null, this.sheenColor = new Tt(0), this.sheenColorMap = null, this.sheenRoughness = 1, this.sheenRoughnessMap = null, this.transmissionMap = null, this.thickness = 0, this.thicknessMap = null, this.attenuationDistance = 1 / 0, this.attenuationColor = new Tt(1, 1, 1), this.specularIntensity = 1, this.specularIntensityMap = null, this.specularColor = new Tt(1, 1, 1), this.specularColorMap = null, this._anisotropy = 0, this._clearcoat = 0, this._dispersion = 0, this._iridescence = 0, this._sheen = 0, this._transmission = 0, this.setValues(t);
    }
    get anisotropy() {
      return this._anisotropy;
    }
    set anisotropy(t) {
      this._anisotropy > 0 != t > 0 && this.version++, this._anisotropy = t;
    }
    get clearcoat() {
      return this._clearcoat;
    }
    set clearcoat(t) {
      this._clearcoat > 0 != t > 0 && this.version++, this._clearcoat = t;
    }
    get iridescence() {
      return this._iridescence;
    }
    set iridescence(t) {
      this._iridescence > 0 != t > 0 && this.version++, this._iridescence = t;
    }
    get dispersion() {
      return this._dispersion;
    }
    set dispersion(t) {
      this._dispersion > 0 != t > 0 && this.version++, this._dispersion = t;
    }
    get sheen() {
      return this._sheen;
    }
    set sheen(t) {
      this._sheen > 0 != t > 0 && this.version++, this._sheen = t;
    }
    get transmission() {
      return this._transmission;
    }
    set transmission(t) {
      this._transmission > 0 != t > 0 && this.version++, this._transmission = t;
    }
    copy(t) {
      return super.copy(t), this.defines = {
        STANDARD: "",
        PHYSICAL: ""
      }, this.anisotropy = t.anisotropy, this.anisotropyRotation = t.anisotropyRotation, this.anisotropyMap = t.anisotropyMap, this.clearcoat = t.clearcoat, this.clearcoatMap = t.clearcoatMap, this.clearcoatRoughness = t.clearcoatRoughness, this.clearcoatRoughnessMap = t.clearcoatRoughnessMap, this.clearcoatNormalMap = t.clearcoatNormalMap, this.clearcoatNormalScale.copy(t.clearcoatNormalScale), this.dispersion = t.dispersion, this.ior = t.ior, this.iridescence = t.iridescence, this.iridescenceMap = t.iridescenceMap, this.iridescenceIOR = t.iridescenceIOR, this.iridescenceThicknessRange = [...t.iridescenceThicknessRange], this.iridescenceThicknessMap = t.iridescenceThicknessMap, this.sheen = t.sheen, this.sheenColor.copy(t.sheenColor), this.sheenColorMap = t.sheenColorMap, this.sheenRoughness = t.sheenRoughness, this.sheenRoughnessMap = t.sheenRoughnessMap, this.transmission = t.transmission, this.transmissionMap = t.transmissionMap, this.thickness = t.thickness, this.thicknessMap = t.thicknessMap, this.attenuationDistance = t.attenuationDistance, this.attenuationColor.copy(t.attenuationColor), this.specularIntensity = t.specularIntensity, this.specularIntensityMap = t.specularIntensityMap, this.specularColor.copy(t.specularColor), this.specularColorMap = t.specularColorMap, this;
    }
  }
  class iw extends zr {
    constructor(t) {
      super(), this.isMeshPhongMaterial = !0, this.type = "MeshPhongMaterial", this.color = new Tt(16777215), this.specular = new Tt(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Tt(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Hi, this.normalScale = new $e(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new mi(), this.combine = at, this.reflectivity = 1, this.refractionRatio = 0.98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = !1, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapRotation.copy(t.envMapRotation), this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.flatShading = t.flatShading, this.fog = t.fog, this;
    }
  }
  class ow extends zr {
    constructor(t) {
      super(), this.isMeshToonMaterial = !0, this.defines = { TOON: "" }, this.type = "MeshToonMaterial", this.color = new Tt(16777215), this.map = null, this.gradientMap = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Tt(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Hi, this.normalScale = new $e(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.alphaMap = null, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.map = t.map, this.gradientMap = t.gradientMap, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.alphaMap = t.alphaMap, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.fog = t.fog, this;
    }
  }
  class aw extends zr {
    constructor(t) {
      super(), this.isMeshNormalMaterial = !0, this.type = "MeshNormalMaterial", this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Hi, this.normalScale = new $e(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.flatShading = !1, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.flatShading = t.flatShading, this;
    }
  }
  class sw extends zr {
    constructor(t) {
      super(), this.isMeshLambertMaterial = !0, this.type = "MeshLambertMaterial", this.color = new Tt(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Tt(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Hi, this.normalScale = new $e(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new mi(), this.combine = at, this.reflectivity = 1, this.refractionRatio = 0.98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = !1, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapRotation.copy(t.envMapRotation), this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.flatShading = t.flatShading, this.fog = t.fog, this;
    }
  }
  class lw extends zr {
    constructor(t) {
      super(), this.isMeshMatcapMaterial = !0, this.defines = { MATCAP: "" }, this.type = "MeshMatcapMaterial", this.color = new Tt(16777215), this.matcap = null, this.map = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Hi, this.normalScale = new $e(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.alphaMap = null, this.flatShading = !1, this.fog = !0, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.defines = { MATCAP: "" }, this.color.copy(t.color), this.matcap = t.matcap, this.map = t.map, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalMapType = t.normalMapType, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.alphaMap = t.alphaMap, this.flatShading = t.flatShading, this.fog = t.fog, this;
    }
  }
  class cw extends gi {
    constructor(t) {
      super(), this.isLineDashedMaterial = !0, this.type = "LineDashedMaterial", this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.setValues(t);
    }
    copy(t) {
      return super.copy(t), this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this;
    }
  }
  function vc(m, t, i) {
    return !m || // let 'undefined' and 'null' pass
    !i && m.constructor === t ? m : typeof t.BYTES_PER_ELEMENT == "number" ? new t(m) : Array.prototype.slice.call(m);
  }
  function hw(m) {
    return ArrayBuffer.isView(m) && !(m instanceof DataView);
  }
  function uw(m) {
    function t(c, u) {
      return m[c] - m[u];
    }
    const i = m.length, s = new Array(i);
    for (let c = 0; c !== i; ++c)
      s[c] = c;
    return s.sort(t), s;
  }
  function pv(m, t, i) {
    const s = m.length, c = new m.constructor(s);
    for (let u = 0, f = 0; f !== s; ++u) {
      const b = i[u] * t;
      for (let C = 0; C !== t; ++C)
        c[f++] = m[b + C];
    }
    return c;
  }
  function fv(m, t, i, s) {
    let c = 1, u = m[0];
    for (; u !== void 0 && u[s] === void 0; )
      u = m[c++];
    if (u === void 0)
      return;
    let f = u[s];
    if (f !== void 0)
      if (Array.isArray(f))
        do
          f = u[s], f !== void 0 && (t.push(u.time), i.push.apply(i, f)), u = m[c++];
        while (u !== void 0);
      else if (f.toArray !== void 0)
        do
          f = u[s], f !== void 0 && (t.push(u.time), f.toArray(i, i.length)), u = m[c++];
        while (u !== void 0);
      else
        do
          f = u[s], f !== void 0 && (t.push(u.time), i.push(f)), u = m[c++];
        while (u !== void 0);
  }
  function u6(m, t, i, s, c = 30) {
    const u = m.clone();
    u.name = t;
    const f = [];
    for (let C = 0; C < u.tracks.length; ++C) {
      const _ = u.tracks[C], N = _.getValueSize(), I = [], A = [];
      for (let E = 0; E < _.times.length; ++E) {
        const R = _.times[E] * c;
        if (!(R < i || R >= s)) {
          I.push(_.times[E]);
          for (let j = 0; j < N; ++j)
            A.push(_.values[E * N + j]);
        }
      }
      I.length !== 0 && (_.times = vc(I, _.times.constructor), _.values = vc(A, _.values.constructor), f.push(_));
    }
    u.tracks = f;
    let b = 1 / 0;
    for (let C = 0; C < u.tracks.length; ++C)
      b > u.tracks[C].times[0] && (b = u.tracks[C].times[0]);
    for (let C = 0; C < u.tracks.length; ++C)
      u.tracks[C].shift(-1 * b);
    return u.resetDuration(), u;
  }
  function d6(m, t = 0, i = m, s = 30) {
    s <= 0 && (s = 30);
    const c = i.tracks.length, u = t / s;
    for (let f = 0; f < c; ++f) {
      const b = i.tracks[f], C = b.ValueTypeName;
      if (C === "bool" || C === "string")
        continue;
      const _ = m.tracks.find(function(P) {
        return P.name === b.name && P.ValueTypeName === C;
      });
      if (_ === void 0)
        continue;
      let N = 0;
      const I = b.getValueSize();
      b.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline && (N = I / 3);
      let A = 0;
      const E = _.getValueSize();
      _.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline && (A = E / 3);
      const R = b.times.length - 1;
      let j;
      if (u <= b.times[0]) {
        const P = N, U = I - N;
        j = b.values.slice(P, U);
      } else if (u >= b.times[R]) {
        const P = R * I + N, U = P + I - N;
        j = b.values.slice(P, U);
      } else {
        const P = b.createInterpolant(), U = N, k = I - N;
        P.evaluate(u), j = P.resultBuffer.slice(U, k);
      }
      C === "quaternion" && new Kr().fromArray(j).normalize().conjugate().toArray(j);
      const O = _.times.length;
      for (let P = 0; P < O; ++P) {
        const U = P * E + A;
        if (C === "quaternion")
          Kr.multiplyQuaternionsFlat(
            _.values,
            U,
            j,
            0,
            _.values,
            U
          );
        else {
          const k = E - A * 2;
          for (let V = 0; V < k; ++V)
            _.values[U + V] -= j[V];
        }
      }
    }
    return m.blendMode = Ts, m;
  }
  const m6 = {
    convertArray: vc,
    isTypedArray: hw,
    getKeyframeOrder: uw,
    sortedArray: pv,
    flattenJSON: fv,
    subclip: u6,
    makeClipAdditive: d6
  };
  class wm {
    constructor(t, i, s, c) {
      this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = c !== void 0 ? c : new i.constructor(s), this.sampleValues = i, this.valueSize = s, this.settings = null, this.DefaultSettings_ = {};
    }
    evaluate(t) {
      const i = this.parameterPositions;
      let s = this._cachedIndex, c = i[s], u = i[s - 1];
      n: {
        e: {
          let f;
          t: {
            r:
              if (!(t < c)) {
                for (let b = s + 2; ; ) {
                  if (c === void 0) {
                    if (t < u)
                      break r;
                    return s = i.length, this._cachedIndex = s, this.copySampleValue_(s - 1);
                  }
                  if (s === b)
                    break;
                  if (u = c, c = i[++s], t < c)
                    break e;
                }
                f = i.length;
                break t;
              }
            if (!(t >= u)) {
              const b = i[1];
              t < b && (s = 2, u = b);
              for (let C = s - 2; ; ) {
                if (u === void 0)
                  return this._cachedIndex = 0, this.copySampleValue_(0);
                if (s === C)
                  break;
                if (c = u, u = i[--s - 1], t >= u)
                  break e;
              }
              f = s, s = 0;
              break t;
            }
            break n;
          }
          for (; s < f; ) {
            const b = s + f >>> 1;
            t < i[b] ? f = b : s = b + 1;
          }
          if (c = i[s], u = i[s - 1], u === void 0)
            return this._cachedIndex = 0, this.copySampleValue_(0);
          if (c === void 0)
            return s = i.length, this._cachedIndex = s, this.copySampleValue_(s - 1);
        }
        this._cachedIndex = s, this.intervalChanged_(s, u, c);
      }
      return this.interpolate_(s, u, t, c);
    }
    getSettings_() {
      return this.settings || this.DefaultSettings_;
    }
    copySampleValue_(t) {
      const i = this.resultBuffer, s = this.sampleValues, c = this.valueSize, u = t * c;
      for (let f = 0; f !== c; ++f)
        i[f] = s[u + f];
      return i;
    }
    // Template methods for derived classes:
    interpolate_() {
      throw new Error("call to abstract method");
    }
    intervalChanged_() {
    }
  }
  class dw extends wm {
    constructor(t, i, s, c) {
      super(t, i, s, c), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0, this.DefaultSettings_ = {
        endingStart: Sa,
        endingEnd: Sa
      };
    }
    intervalChanged_(t, i, s) {
      const c = this.parameterPositions;
      let u = t - 2, f = t + 1, b = c[u], C = c[f];
      if (b === void 0)
        switch (this.getSettings_().endingStart) {
          case Yo:
            u = t, b = 2 * i - s;
            break;
          case ws:
            u = c.length - 2, b = i + c[u] - c[u + 1];
            break;
          default:
            u = t, b = s;
        }
      if (C === void 0)
        switch (this.getSettings_().endingEnd) {
          case Yo:
            f = t, C = 2 * s - i;
            break;
          case ws:
            f = 1, C = s + c[1] - c[0];
            break;
          default:
            f = t - 1, C = i;
        }
      const _ = (s - i) * 0.5, N = this.valueSize;
      this._weightPrev = _ / (i - b), this._weightNext = _ / (C - s), this._offsetPrev = u * N, this._offsetNext = f * N;
    }
    interpolate_(t, i, s, c) {
      const u = this.resultBuffer, f = this.sampleValues, b = this.valueSize, C = t * b, _ = C - b, N = this._offsetPrev, I = this._offsetNext, A = this._weightPrev, E = this._weightNext, R = (s - i) / (c - i), j = R * R, O = j * R, P = -A * O + 2 * A * j - A * R, U = (1 + A) * O + (-1.5 - 2 * A) * j + (-0.5 + A) * R + 1, k = (-1 - E) * O + (1.5 + E) * j + 0.5 * R, V = E * O - E * j;
      for (let me = 0; me !== b; ++me)
        u[me] = P * f[N + me] + U * f[_ + me] + k * f[C + me] + V * f[I + me];
      return u;
    }
  }
  class gv extends wm {
    constructor(t, i, s, c) {
      super(t, i, s, c);
    }
    interpolate_(t, i, s, c) {
      const u = this.resultBuffer, f = this.sampleValues, b = this.valueSize, C = t * b, _ = C - b, N = (s - i) / (c - i), I = 1 - N;
      for (let A = 0; A !== b; ++A)
        u[A] = f[_ + A] * I + f[C + A] * N;
      return u;
    }
  }
  class mw extends wm {
    constructor(t, i, s, c) {
      super(t, i, s, c);
    }
    interpolate_(t) {
      return this.copySampleValue_(t - 1);
    }
  }
  class Ao {
    constructor(t, i, s, c) {
      if (t === void 0)
        throw new Error("THREE.KeyframeTrack: track name is undefined");
      if (i === void 0 || i.length === 0)
        throw new Error("THREE.KeyframeTrack: no keyframes in track named " + t);
      this.name = t, this.times = vc(i, this.TimeBufferType), this.values = vc(s, this.ValueBufferType), this.setInterpolation(c || this.DefaultInterpolation);
    }
    // Serialization (in static context, because of constructor invocation
    // and automatic invocation of .toJSON):
    static toJSON(t) {
      const i = t.constructor;
      let s;
      if (i.toJSON !== this.toJSON)
        s = i.toJSON(t);
      else {
        s = {
          name: t.name,
          times: vc(t.times, Array),
          values: vc(t.values, Array)
        };
        const c = t.getInterpolation();
        c !== t.DefaultInterpolation && (s.interpolation = c);
      }
      return s.type = t.ValueTypeName, s;
    }
    InterpolantFactoryMethodDiscrete(t) {
      return new mw(this.times, this.values, this.getValueSize(), t);
    }
    InterpolantFactoryMethodLinear(t) {
      return new gv(this.times, this.values, this.getValueSize(), t);
    }
    InterpolantFactoryMethodSmooth(t) {
      return new dw(this.times, this.values, this.getValueSize(), t);
    }
    setInterpolation(t) {
      let i;
      switch (t) {
        case Fl:
          i = this.InterpolantFactoryMethodDiscrete;
          break;
        case kl:
          i = this.InterpolantFactoryMethodLinear;
          break;
        case dh:
          i = this.InterpolantFactoryMethodSmooth;
          break;
      }
      if (i === void 0) {
        const s = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
        if (this.createInterpolant === void 0)
          if (t !== this.DefaultInterpolation)
            this.setInterpolation(this.DefaultInterpolation);
          else
            throw new Error(s);
        return console.warn("THREE.KeyframeTrack:", s), this;
      }
      return this.createInterpolant = i, this;
    }
    getInterpolation() {
      switch (this.createInterpolant) {
        case this.InterpolantFactoryMethodDiscrete:
          return Fl;
        case this.InterpolantFactoryMethodLinear:
          return kl;
        case this.InterpolantFactoryMethodSmooth:
          return dh;
      }
    }
    getValueSize() {
      return this.values.length / this.times.length;
    }
    // move all keyframes either forwards or backwards in time
    shift(t) {
      if (t !== 0) {
        const i = this.times;
        for (let s = 0, c = i.length; s !== c; ++s)
          i[s] += t;
      }
      return this;
    }
    // scale all keyframe times by a factor (useful for frame <-> seconds conversions)
    scale(t) {
      if (t !== 1) {
        const i = this.times;
        for (let s = 0, c = i.length; s !== c; ++s)
          i[s] *= t;
      }
      return this;
    }
    // removes keyframes before and after animation without changing any values within the range [startTime, endTime].
    // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values
    trim(t, i) {
      const s = this.times, c = s.length;
      let u = 0, f = c - 1;
      for (; u !== c && s[u] < t; )
        ++u;
      for (; f !== -1 && s[f] > i; )
        --f;
      if (++f, u !== 0 || f !== c) {
        u >= f && (f = Math.max(f, 1), u = f - 1);
        const b = this.getValueSize();
        this.times = s.slice(u, f), this.values = this.values.slice(u * b, f * b);
      }
      return this;
    }
    // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable
    validate() {
      let t = !0;
      const i = this.getValueSize();
      i - Math.floor(i) !== 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), t = !1);
      const s = this.times, c = this.values, u = s.length;
      u === 0 && (console.error("THREE.KeyframeTrack: Track is empty.", this), t = !1);
      let f = null;
      for (let b = 0; b !== u; b++) {
        const C = s[b];
        if (typeof C == "number" && isNaN(C)) {
          console.error("THREE.KeyframeTrack: Time is not a valid number.", this, b, C), t = !1;
          break;
        }
        if (f !== null && f > C) {
          console.error("THREE.KeyframeTrack: Out of order keys.", this, b, C, f), t = !1;
          break;
        }
        f = C;
      }
      if (c !== void 0 && hw(c))
        for (let b = 0, C = c.length; b !== C; ++b) {
          const _ = c[b];
          if (isNaN(_)) {
            console.error("THREE.KeyframeTrack: Value is not a valid number.", this, b, _), t = !1;
            break;
          }
        }
      return t;
    }
    // removes equivalent sequential keys as common in morph target sequences
    // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)
    optimize() {
      const t = this.times.slice(), i = this.values.slice(), s = this.getValueSize(), c = this.getInterpolation() === dh, u = t.length - 1;
      let f = 1;
      for (let b = 1; b < u; ++b) {
        let C = !1;
        const _ = t[b], N = t[b + 1];
        if (_ !== N && (b !== 1 || _ !== t[0]))
          if (c)
            C = !0;
          else {
            const I = b * s, A = I - s, E = I + s;
            for (let R = 0; R !== s; ++R) {
              const j = i[I + R];
              if (j !== i[A + R] || j !== i[E + R]) {
                C = !0;
                break;
              }
            }
          }
        if (C) {
          if (b !== f) {
            t[f] = t[b];
            const I = b * s, A = f * s;
            for (let E = 0; E !== s; ++E)
              i[A + E] = i[I + E];
          }
          ++f;
        }
      }
      if (u > 0) {
        t[f] = t[u];
        for (let b = u * s, C = f * s, _ = 0; _ !== s; ++_)
          i[C + _] = i[b + _];
        ++f;
      }
      return f !== t.length ? (this.times = t.slice(0, f), this.values = i.slice(0, f * s)) : (this.times = t, this.values = i), this;
    }
    clone() {
      const t = this.times.slice(), i = this.values.slice(), s = this.constructor, c = new s(this.name, t, i);
      return c.createInterpolant = this.createInterpolant, c;
    }
  }
  Ao.prototype.TimeBufferType = Float32Array, Ao.prototype.ValueBufferType = Float32Array, Ao.prototype.DefaultInterpolation = kl;
  class yc extends Ao {
  }
  yc.prototype.ValueTypeName = "bool", yc.prototype.ValueBufferType = Array, yc.prototype.DefaultInterpolation = Fl, yc.prototype.InterpolantFactoryMethodLinear = void 0, yc.prototype.InterpolantFactoryMethodSmooth = void 0;
  class bv extends Ao {
  }
  bv.prototype.ValueTypeName = "color";
  class Tm extends Ao {
  }
  Tm.prototype.ValueTypeName = "number";
  class pw extends wm {
    constructor(t, i, s, c) {
      super(t, i, s, c);
    }
    interpolate_(t, i, s, c) {
      const u = this.resultBuffer, f = this.sampleValues, b = this.valueSize, C = (s - i) / (c - i);
      let _ = t * b;
      for (let N = _ + b; _ !== N; _ += 4)
        Kr.slerpFlat(u, 0, f, _ - b, f, _, C);
      return u;
    }
  }
  class $h extends Ao {
    InterpolantFactoryMethodLinear(t) {
      return new pw(this.times, this.values, this.getValueSize(), t);
    }
  }
  $h.prototype.ValueTypeName = "quaternion", $h.prototype.DefaultInterpolation = kl, $h.prototype.InterpolantFactoryMethodSmooth = void 0;
  class xc extends Ao {
  }
  xc.prototype.ValueTypeName = "string", xc.prototype.ValueBufferType = Array, xc.prototype.DefaultInterpolation = Fl, xc.prototype.InterpolantFactoryMethodLinear = void 0, xc.prototype.InterpolantFactoryMethodSmooth = void 0;
  class Nm extends Ao {
  }
  Nm.prototype.ValueTypeName = "vector";
  class Mm {
    constructor(t = "", i = -1, s = [], c = mh) {
      this.name = t, this.tracks = s, this.duration = i, this.blendMode = c, this.uuid = ui(), this.duration < 0 && this.resetDuration();
    }
    static parse(t) {
      const i = [], s = t.tracks, c = 1 / (t.fps || 1);
      for (let f = 0, b = s.length; f !== b; ++f)
        i.push(f6(s[f]).scale(c));
      const u = new this(t.name, t.duration, i, t.blendMode);
      return u.uuid = t.uuid, u;
    }
    static toJSON(t) {
      const i = [], s = t.tracks, c = {
        name: t.name,
        duration: t.duration,
        tracks: i,
        uuid: t.uuid,
        blendMode: t.blendMode
      };
      for (let u = 0, f = s.length; u !== f; ++u)
        i.push(Ao.toJSON(s[u]));
      return c;
    }
    static CreateFromMorphTargetSequence(t, i, s, c) {
      const u = i.length, f = [];
      for (let b = 0; b < u; b++) {
        let C = [], _ = [];
        C.push(
          (b + u - 1) % u,
          b,
          (b + 1) % u
        ), _.push(0, 1, 0);
        const N = uw(C);
        C = pv(C, 1, N), _ = pv(_, 1, N), !c && C[0] === 0 && (C.push(u), _.push(_[0])), f.push(
          new Tm(
            ".morphTargetInfluences[" + i[b].name + "]",
            C,
            _
          ).scale(1 / s)
        );
      }
      return new this(t, -1, f);
    }
    static findByName(t, i) {
      let s = t;
      if (!Array.isArray(t)) {
        const c = t;
        s = c.geometry && c.geometry.animations || c.animations;
      }
      for (let c = 0; c < s.length; c++)
        if (s[c].name === i)
          return s[c];
      return null;
    }
    static CreateClipsFromMorphTargetSequences(t, i, s) {
      const c = {}, u = /^([\w-]*?)([\d]+)$/;
      for (let b = 0, C = t.length; b < C; b++) {
        const _ = t[b], N = _.name.match(u);
        if (N && N.length > 1) {
          const I = N[1];
          let A = c[I];
          A || (c[I] = A = []), A.push(_);
        }
      }
      const f = [];
      for (const b in c)
        f.push(this.CreateFromMorphTargetSequence(b, c[b], i, s));
      return f;
    }
    // parse the animation.hierarchy format
    static parseAnimation(t, i) {
      if (!t)
        return console.error("THREE.AnimationClip: No animation in JSONLoader data."), null;
      const s = function(I, A, E, R, j) {
        if (E.length !== 0) {
          const O = [], P = [];
          fv(E, O, P, R), O.length !== 0 && j.push(new I(A, O, P));
        }
      }, c = [], u = t.name || "default", f = t.fps || 30, b = t.blendMode;
      let C = t.length || -1;
      const _ = t.hierarchy || [];
      for (let I = 0; I < _.length; I++) {
        const A = _[I].keys;
        if (!(!A || A.length === 0))
          if (A[0].morphTargets) {
            const E = {};
            let R;
            for (R = 0; R < A.length; R++)
              if (A[R].morphTargets)
                for (let j = 0; j < A[R].morphTargets.length; j++)
                  E[A[R].morphTargets[j]] = -1;
            for (const j in E) {
              const O = [], P = [];
              for (let U = 0; U !== A[R].morphTargets.length; ++U) {
                const k = A[R];
                O.push(k.time), P.push(k.morphTarget === j ? 1 : 0);
              }
              c.push(new Tm(".morphTargetInfluence[" + j + "]", O, P));
            }
            C = E.length * f;
          } else {
            const E = ".bones[" + i[I].name + "]";
            s(
              Nm,
              E + ".position",
              A,
              "pos",
              c
            ), s(
              $h,
              E + ".quaternion",
              A,
              "rot",
              c
            ), s(
              Nm,
              E + ".scale",
              A,
              "scl",
              c
            );
          }
      }
      return c.length === 0 ? null : new this(u, C, c, b);
    }
    resetDuration() {
      const t = this.tracks;
      let i = 0;
      for (let s = 0, c = t.length; s !== c; ++s) {
        const u = this.tracks[s];
        i = Math.max(i, u.times[u.times.length - 1]);
      }
      return this.duration = i, this;
    }
    trim() {
      for (let t = 0; t < this.tracks.length; t++)
        this.tracks[t].trim(0, this.duration);
      return this;
    }
    validate() {
      let t = !0;
      for (let i = 0; i < this.tracks.length; i++)
        t = t && this.tracks[i].validate();
      return t;
    }
    optimize() {
      for (let t = 0; t < this.tracks.length; t++)
        this.tracks[t].optimize();
      return this;
    }
    clone() {
      const t = [];
      for (let i = 0; i < this.tracks.length; i++)
        t.push(this.tracks[i].clone());
      return new this.constructor(this.name, this.duration, t, this.blendMode);
    }
    toJSON() {
      return this.constructor.toJSON(this);
    }
  }
  function p6(m) {
    switch (m.toLowerCase()) {
      case "scalar":
      case "double":
      case "float":
      case "number":
      case "integer":
        return Tm;
      case "vector":
      case "vector2":
      case "vector3":
      case "vector4":
        return Nm;
      case "color":
        return bv;
      case "quaternion":
        return $h;
      case "bool":
      case "boolean":
        return yc;
      case "string":
        return xc;
    }
    throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + m);
  }
  function f6(m) {
    if (m.type === void 0)
      throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
    const t = p6(m.type);
    if (m.times === void 0) {
      const i = [], s = [];
      fv(m.keys, i, s, "value"), m.times = i, m.values = s;
    }
    return t.parse !== void 0 ? t.parse(m) : new t(m.name, m.times, m.values, m.interpolation);
  }
  const Wa = {
    enabled: !1,
    files: {},
    add: function(m, t) {
      this.enabled !== !1 && (this.files[m] = t);
    },
    get: function(m) {
      if (this.enabled !== !1)
        return this.files[m];
    },
    remove: function(m) {
      delete this.files[m];
    },
    clear: function() {
      this.files = {};
    }
  };
  class vv {
    constructor(t, i, s) {
      const c = this;
      let u = !1, f = 0, b = 0, C;
      const _ = [];
      this.onStart = void 0, this.onLoad = t, this.onProgress = i, this.onError = s, this.itemStart = function(N) {
        b++, u === !1 && c.onStart !== void 0 && c.onStart(N, f, b), u = !0;
      }, this.itemEnd = function(N) {
        f++, c.onProgress !== void 0 && c.onProgress(N, f, b), f === b && (u = !1, c.onLoad !== void 0 && c.onLoad());
      }, this.itemError = function(N) {
        c.onError !== void 0 && c.onError(N);
      }, this.resolveURL = function(N) {
        return C ? C(N) : N;
      }, this.setURLModifier = function(N) {
        return C = N, this;
      }, this.addHandler = function(N, I) {
        return _.push(N, I), this;
      }, this.removeHandler = function(N) {
        const I = _.indexOf(N);
        return I !== -1 && _.splice(I, 2), this;
      }, this.getHandler = function(N) {
        for (let I = 0, A = _.length; I < A; I += 2) {
          const E = _[I], R = _[I + 1];
          if (E.global && (E.lastIndex = 0), E.test(N))
            return R;
        }
        return null;
      };
    }
  }
  const fw = /* @__PURE__ */ new vv();
  class Ni {
    constructor(t) {
      this.manager = t !== void 0 ? t : fw, this.crossOrigin = "anonymous", this.withCredentials = !1, this.path = "", this.resourcePath = "", this.requestHeader = {};
    }
    load() {
    }
    loadAsync(t, i) {
      const s = this;
      return new Promise(function(c, u) {
        s.load(t, c, i, u);
      });
    }
    parse() {
    }
    setCrossOrigin(t) {
      return this.crossOrigin = t, this;
    }
    setWithCredentials(t) {
      return this.withCredentials = t, this;
    }
    setPath(t) {
      return this.path = t, this;
    }
    setResourcePath(t) {
      return this.resourcePath = t, this;
    }
    setRequestHeader(t) {
      return this.requestHeader = t, this;
    }
  }
  Ni.DEFAULT_MATERIAL_NAME = "__DEFAULT";
  const Va = {};
  class g6 extends Error {
    constructor(t, i) {
      super(t), this.response = i;
    }
  }
  class Ha extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      t === void 0 && (t = ""), this.path !== void 0 && (t = this.path + t), t = this.manager.resolveURL(t);
      const u = Wa.get(t);
      if (u !== void 0)
        return this.manager.itemStart(t), setTimeout(() => {
          i && i(u), this.manager.itemEnd(t);
        }, 0), u;
      if (Va[t] !== void 0) {
        Va[t].push({
          onLoad: i,
          onProgress: s,
          onError: c
        });
        return;
      }
      Va[t] = [], Va[t].push({
        onLoad: i,
        onProgress: s,
        onError: c
      });
      const f = new Request(t, {
        headers: new Headers(this.requestHeader),
        credentials: this.withCredentials ? "include" : "same-origin"
        // An abort controller could be added within a future PR
      }), b = this.mimeType, C = this.responseType;
      fetch(f).then((_) => {
        if (_.status === 200 || _.status === 0) {
          if (_.status === 0 && console.warn("THREE.FileLoader: HTTP Status 0 received."), typeof ReadableStream > "u" || _.body === void 0 || _.body.getReader === void 0)
            return _;
          const N = Va[t], I = _.body.getReader(), A = _.headers.get("X-File-Size") || _.headers.get("Content-Length"), E = A ? parseInt(A) : 0, R = E !== 0;
          let j = 0;
          const O = new ReadableStream({
            start(P) {
              U();
              function U() {
                I.read().then(({ done: k, value: V }) => {
                  if (k)
                    P.close();
                  else {
                    j += V.byteLength;
                    const me = new ProgressEvent("progress", { lengthComputable: R, loaded: j, total: E });
                    for (let ee = 0, le = N.length; ee < le; ee++) {
                      const ye = N[ee];
                      ye.onProgress && ye.onProgress(me);
                    }
                    P.enqueue(V), U();
                  }
                });
              }
            }
          });
          return new Response(O);
        } else
          throw new g6(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`, _);
      }).then((_) => {
        switch (C) {
          case "arraybuffer":
            return _.arrayBuffer();
          case "blob":
            return _.blob();
          case "document":
            return _.text().then((N) => new DOMParser().parseFromString(N, b));
          case "json":
            return _.json();
          default:
            if (b === void 0)
              return _.text();
            {
              const I = /charset="?([^;"\s]*)"?/i.exec(b), A = I && I[1] ? I[1].toLowerCase() : void 0, E = new TextDecoder(A);
              return _.arrayBuffer().then((R) => E.decode(R));
            }
        }
      }).then((_) => {
        Wa.add(t, _);
        const N = Va[t];
        delete Va[t];
        for (let I = 0, A = N.length; I < A; I++) {
          const E = N[I];
          E.onLoad && E.onLoad(_);
        }
      }).catch((_) => {
        const N = Va[t];
        if (N === void 0)
          throw this.manager.itemError(t), _;
        delete Va[t];
        for (let I = 0, A = N.length; I < A; I++) {
          const E = N[I];
          E.onError && E.onError(_);
        }
        this.manager.itemError(t);
      }).finally(() => {
        this.manager.itemEnd(t);
      }), this.manager.itemStart(t);
    }
    setResponseType(t) {
      return this.responseType = t, this;
    }
    setMimeType(t) {
      return this.mimeType = t, this;
    }
  }
  class b6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = this, f = new Ha(this.manager);
      f.setPath(this.path), f.setRequestHeader(this.requestHeader), f.setWithCredentials(this.withCredentials), f.load(t, function(b) {
        try {
          i(u.parse(JSON.parse(b)));
        } catch (C) {
          c ? c(C) : console.error(C), u.manager.itemError(t);
        }
      }, s, c);
    }
    parse(t) {
      const i = [];
      for (let s = 0; s < t.length; s++) {
        const c = Mm.parse(t[s]);
        i.push(c);
      }
      return i;
    }
  }
  class v6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = this, f = [], b = new Zf(), C = new Ha(this.manager);
      C.setPath(this.path), C.setResponseType("arraybuffer"), C.setRequestHeader(this.requestHeader), C.setWithCredentials(u.withCredentials);
      let _ = 0;
      function N(I) {
        C.load(t[I], function(A) {
          const E = u.parse(A, !0);
          f[I] = {
            width: E.width,
            height: E.height,
            format: E.format,
            mipmaps: E.mipmaps
          }, _ += 1, _ === 6 && (E.mipmapCount === 1 && (b.minFilter = pr), b.image = f, b.format = E.format, b.needsUpdate = !0, i && i(b));
        }, s, c);
      }
      if (Array.isArray(t))
        for (let I = 0, A = t.length; I < A; ++I)
          N(I);
      else
        C.load(t, function(I) {
          const A = u.parse(I, !0);
          if (A.isCubemap) {
            const E = A.mipmaps.length / A.mipmapCount;
            for (let R = 0; R < E; R++) {
              f[R] = { mipmaps: [] };
              for (let j = 0; j < A.mipmapCount; j++)
                f[R].mipmaps.push(A.mipmaps[R * A.mipmapCount + j]), f[R].format = A.format, f[R].width = A.width, f[R].height = A.height;
            }
            b.image = f;
          } else
            b.image.width = A.width, b.image.height = A.height, b.mipmaps = A.mipmaps;
          A.mipmapCount === 1 && (b.minFilter = pr), b.format = A.format, b.needsUpdate = !0, i && i(b);
        }, s, c);
      return b;
    }
  }
  class Sm extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      this.path !== void 0 && (t = this.path + t), t = this.manager.resolveURL(t);
      const u = this, f = Wa.get(t);
      if (f !== void 0)
        return u.manager.itemStart(t), setTimeout(function() {
          i && i(f), u.manager.itemEnd(t);
        }, 0), f;
      const b = Ba("img");
      function C() {
        N(), Wa.add(t, this), i && i(this), u.manager.itemEnd(t);
      }
      function _(I) {
        N(), c && c(I), u.manager.itemError(t), u.manager.itemEnd(t);
      }
      function N() {
        b.removeEventListener("load", C, !1), b.removeEventListener("error", _, !1);
      }
      return b.addEventListener("load", C, !1), b.addEventListener("error", _, !1), t.slice(0, 5) !== "data:" && this.crossOrigin !== void 0 && (b.crossOrigin = this.crossOrigin), u.manager.itemStart(t), b.src = t, b;
    }
  }
  class y6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = new za();
      u.colorSpace = Pr;
      const f = new Sm(this.manager);
      f.setCrossOrigin(this.crossOrigin), f.setPath(this.path);
      let b = 0;
      function C(_) {
        f.load(t[_], function(N) {
          u.images[_] = N, b++, b === 6 && (u.needsUpdate = !0, i && i(u));
        }, void 0, c);
      }
      for (let _ = 0; _ < t.length; ++_)
        C(_);
      return u;
    }
  }
  class x6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = this, f = new Ys(), b = new Ha(this.manager);
      return b.setResponseType("arraybuffer"), b.setRequestHeader(this.requestHeader), b.setPath(this.path), b.setWithCredentials(u.withCredentials), b.load(t, function(C) {
        let _;
        try {
          _ = u.parse(C);
        } catch (N) {
          if (c !== void 0)
            c(N);
          else {
            console.error(N);
            return;
          }
        }
        _.image !== void 0 ? f.image = _.image : _.data !== void 0 && (f.image.width = _.width, f.image.height = _.height, f.image.data = _.data), f.wrapS = _.wrapS !== void 0 ? _.wrapS : Ci, f.wrapT = _.wrapT !== void 0 ? _.wrapT : Ci, f.magFilter = _.magFilter !== void 0 ? _.magFilter : pr, f.minFilter = _.minFilter !== void 0 ? _.minFilter : pr, f.anisotropy = _.anisotropy !== void 0 ? _.anisotropy : 1, _.colorSpace !== void 0 && (f.colorSpace = _.colorSpace), _.flipY !== void 0 && (f.flipY = _.flipY), _.format !== void 0 && (f.format = _.format), _.type !== void 0 && (f.type = _.type), _.mipmaps !== void 0 && (f.mipmaps = _.mipmaps, f.minFilter = Vi), _.mipmapCount === 1 && (f.minFilter = pr), _.generateMipmaps !== void 0 && (f.generateMipmaps = _.generateMipmaps), f.needsUpdate = !0, i && i(f, _);
      }, s, c), f;
    }
  }
  class C6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = new lr(), f = new Sm(this.manager);
      return f.setCrossOrigin(this.crossOrigin), f.setPath(this.path), f.load(t, function(b) {
        u.image = b, u.needsUpdate = !0, i !== void 0 && i(u);
      }, s, c), u;
    }
  }
  class Qs extends An {
    constructor(t, i = 1) {
      super(), this.isLight = !0, this.type = "Light", this.color = new Tt(t), this.intensity = i;
    }
    dispose() {
    }
    copy(t, i) {
      return super.copy(t, i), this.color.copy(t.color), this.intensity = t.intensity, this;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return i.object.color = this.color.getHex(), i.object.intensity = this.intensity, this.groundColor !== void 0 && (i.object.groundColor = this.groundColor.getHex()), this.distance !== void 0 && (i.object.distance = this.distance), this.angle !== void 0 && (i.object.angle = this.angle), this.decay !== void 0 && (i.object.decay = this.decay), this.penumbra !== void 0 && (i.object.penumbra = this.penumbra), this.shadow !== void 0 && (i.object.shadow = this.shadow.toJSON()), i;
    }
  }
  class gw extends Qs {
    constructor(t, i, s) {
      super(t, s), this.isHemisphereLight = !0, this.type = "HemisphereLight", this.position.copy(An.DEFAULT_UP), this.updateMatrix(), this.groundColor = new Tt(i);
    }
    copy(t, i) {
      return super.copy(t, i), this.groundColor.copy(t.groundColor), this;
    }
  }
  const yv = /* @__PURE__ */ new Wt(), bw = /* @__PURE__ */ new ie(), vw = /* @__PURE__ */ new ie();
  class xv {
    constructor(t) {
      this.camera = t, this.bias = 0, this.normalBias = 0, this.radius = 1, this.blurSamples = 8, this.mapSize = new $e(512, 512), this.map = null, this.mapPass = null, this.matrix = new Wt(), this.autoUpdate = !0, this.needsUpdate = !1, this._frustum = new W(), this._frameExtents = new $e(1, 1), this._viewportCount = 1, this._viewports = [
        new kn(0, 0, 1, 1)
      ];
    }
    getViewportCount() {
      return this._viewportCount;
    }
    getFrustum() {
      return this._frustum;
    }
    updateMatrices(t) {
      const i = this.camera, s = this.matrix;
      bw.setFromMatrixPosition(t.matrixWorld), i.position.copy(bw), vw.setFromMatrixPosition(t.target.matrixWorld), i.lookAt(vw), i.updateMatrixWorld(), yv.multiplyMatrices(i.projectionMatrix, i.matrixWorldInverse), this._frustum.setFromProjectionMatrix(yv), s.set(
        0.5,
        0,
        0,
        0.5,
        0,
        0.5,
        0,
        0.5,
        0,
        0,
        0.5,
        0.5,
        0,
        0,
        0,
        1
      ), s.multiply(yv);
    }
    getViewport(t) {
      return this._viewports[t];
    }
    getFrameExtents() {
      return this._frameExtents;
    }
    dispose() {
      this.map && this.map.dispose(), this.mapPass && this.mapPass.dispose();
    }
    copy(t) {
      return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this;
    }
    clone() {
      return new this.constructor().copy(this);
    }
    toJSON() {
      const t = {};
      return this.bias !== 0 && (t.bias = this.bias), this.normalBias !== 0 && (t.normalBias = this.normalBias), this.radius !== 1 && (t.radius = this.radius), (this.mapSize.x !== 512 || this.mapSize.y !== 512) && (t.mapSize = this.mapSize.toArray()), t.camera = this.camera.toJSON(!1).object, delete t.camera.matrix, t;
    }
  }
  class _6 extends xv {
    constructor() {
      super(new Tr(50, 1, 0.5, 500)), this.isSpotLightShadow = !0, this.focus = 1;
    }
    updateMatrices(t) {
      const i = this.camera, s = Ra * 2 * t.angle * this.focus, c = this.mapSize.width / this.mapSize.height, u = t.distance || i.far;
      (s !== i.fov || c !== i.aspect || u !== i.far) && (i.fov = s, i.aspect = c, i.far = u, i.updateProjectionMatrix()), super.updateMatrices(t);
    }
    copy(t) {
      return super.copy(t), this.focus = t.focus, this;
    }
  }
  class yw extends Qs {
    constructor(t, i, s = 0, c = Math.PI / 3, u = 0, f = 2) {
      super(t, i), this.isSpotLight = !0, this.type = "SpotLight", this.position.copy(An.DEFAULT_UP), this.updateMatrix(), this.target = new An(), this.distance = s, this.angle = c, this.penumbra = u, this.decay = f, this.map = null, this.shadow = new _6();
    }
    get power() {
      return this.intensity * Math.PI;
    }
    set power(t) {
      this.intensity = t / Math.PI;
    }
    dispose() {
      this.shadow.dispose();
    }
    copy(t, i) {
      return super.copy(t, i), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this;
    }
  }
  const xw = /* @__PURE__ */ new Wt(), Im = /* @__PURE__ */ new ie(), Cv = /* @__PURE__ */ new ie();
  class w6 extends xv {
    constructor() {
      super(new Tr(90, 1, 0.5, 500)), this.isPointLightShadow = !0, this._frameExtents = new $e(4, 2), this._viewportCount = 6, this._viewports = [
        // These viewports map a cube-map onto a 2D texture with the
        // following orientation:
        //
        //  xzXZ
        //   y Y
        //
        // X - Positive x direction
        // x - Negative x direction
        // Y - Positive y direction
        // y - Negative y direction
        // Z - Positive z direction
        // z - Negative z direction
        // positive X
        new kn(2, 1, 1, 1),
        // negative X
        new kn(0, 1, 1, 1),
        // positive Z
        new kn(3, 1, 1, 1),
        // negative Z
        new kn(1, 1, 1, 1),
        // positive Y
        new kn(3, 0, 1, 1),
        // negative Y
        new kn(1, 0, 1, 1)
      ], this._cubeDirections = [
        new ie(1, 0, 0),
        new ie(-1, 0, 0),
        new ie(0, 0, 1),
        new ie(0, 0, -1),
        new ie(0, 1, 0),
        new ie(0, -1, 0)
      ], this._cubeUps = [
        new ie(0, 1, 0),
        new ie(0, 1, 0),
        new ie(0, 1, 0),
        new ie(0, 1, 0),
        new ie(0, 0, 1),
        new ie(0, 0, -1)
      ];
    }
    updateMatrices(t, i = 0) {
      const s = this.camera, c = this.matrix, u = t.distance || s.far;
      u !== s.far && (s.far = u, s.updateProjectionMatrix()), Im.setFromMatrixPosition(t.matrixWorld), s.position.copy(Im), Cv.copy(s.position), Cv.add(this._cubeDirections[i]), s.up.copy(this._cubeUps[i]), s.lookAt(Cv), s.updateMatrixWorld(), c.makeTranslation(-Im.x, -Im.y, -Im.z), xw.multiplyMatrices(s.projectionMatrix, s.matrixWorldInverse), this._frustum.setFromProjectionMatrix(xw);
    }
  }
  class Cw extends Qs {
    constructor(t, i, s = 0, c = 2) {
      super(t, i), this.isPointLight = !0, this.type = "PointLight", this.distance = s, this.decay = c, this.shadow = new w6();
    }
    get power() {
      return this.intensity * 4 * Math.PI;
    }
    set power(t) {
      this.intensity = t / (4 * Math.PI);
    }
    dispose() {
      this.shadow.dispose();
    }
    copy(t, i) {
      return super.copy(t, i), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this;
    }
  }
  class T6 extends xv {
    constructor() {
      super(new Af(-5, 5, 5, -5, 0.5, 500)), this.isDirectionalLightShadow = !0;
    }
  }
  class _w extends Qs {
    constructor(t, i) {
      super(t, i), this.isDirectionalLight = !0, this.type = "DirectionalLight", this.position.copy(An.DEFAULT_UP), this.updateMatrix(), this.target = new An(), this.shadow = new T6();
    }
    dispose() {
      this.shadow.dispose();
    }
    copy(t) {
      return super.copy(t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this;
    }
  }
  class ww extends Qs {
    constructor(t, i) {
      super(t, i), this.isAmbientLight = !0, this.type = "AmbientLight";
    }
  }
  class Tw extends Qs {
    constructor(t, i, s = 10, c = 10) {
      super(t, i), this.isRectAreaLight = !0, this.type = "RectAreaLight", this.width = s, this.height = c;
    }
    get power() {
      return this.intensity * this.width * this.height * Math.PI;
    }
    set power(t) {
      this.intensity = t / (this.width * this.height * Math.PI);
    }
    copy(t) {
      return super.copy(t), this.width = t.width, this.height = t.height, this;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return i.object.width = this.width, i.object.height = this.height, i;
    }
  }
  class Nw {
    constructor() {
      this.isSphericalHarmonics3 = !0, this.coefficients = [];
      for (let t = 0; t < 9; t++)
        this.coefficients.push(new ie());
    }
    set(t) {
      for (let i = 0; i < 9; i++)
        this.coefficients[i].copy(t[i]);
      return this;
    }
    zero() {
      for (let t = 0; t < 9; t++)
        this.coefficients[t].set(0, 0, 0);
      return this;
    }
    // get the radiance in the direction of the normal
    // target is a Vector3
    getAt(t, i) {
      const s = t.x, c = t.y, u = t.z, f = this.coefficients;
      return i.copy(f[0]).multiplyScalar(0.282095), i.addScaledVector(f[1], 0.488603 * c), i.addScaledVector(f[2], 0.488603 * u), i.addScaledVector(f[3], 0.488603 * s), i.addScaledVector(f[4], 1.092548 * (s * c)), i.addScaledVector(f[5], 1.092548 * (c * u)), i.addScaledVector(f[6], 0.315392 * (3 * u * u - 1)), i.addScaledVector(f[7], 1.092548 * (s * u)), i.addScaledVector(f[8], 0.546274 * (s * s - c * c)), i;
    }
    // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal
    // target is a Vector3
    // https://graphics.stanford.edu/papers/envmap/envmap.pdf
    getIrradianceAt(t, i) {
      const s = t.x, c = t.y, u = t.z, f = this.coefficients;
      return i.copy(f[0]).multiplyScalar(0.886227), i.addScaledVector(f[1], 2 * 0.511664 * c), i.addScaledVector(f[2], 2 * 0.511664 * u), i.addScaledVector(f[3], 2 * 0.511664 * s), i.addScaledVector(f[4], 2 * 0.429043 * s * c), i.addScaledVector(f[5], 2 * 0.429043 * c * u), i.addScaledVector(f[6], 0.743125 * u * u - 0.247708), i.addScaledVector(f[7], 2 * 0.429043 * s * u), i.addScaledVector(f[8], 0.429043 * (s * s - c * c)), i;
    }
    add(t) {
      for (let i = 0; i < 9; i++)
        this.coefficients[i].add(t.coefficients[i]);
      return this;
    }
    addScaledSH(t, i) {
      for (let s = 0; s < 9; s++)
        this.coefficients[s].addScaledVector(t.coefficients[s], i);
      return this;
    }
    scale(t) {
      for (let i = 0; i < 9; i++)
        this.coefficients[i].multiplyScalar(t);
      return this;
    }
    lerp(t, i) {
      for (let s = 0; s < 9; s++)
        this.coefficients[s].lerp(t.coefficients[s], i);
      return this;
    }
    equals(t) {
      for (let i = 0; i < 9; i++)
        if (!this.coefficients[i].equals(t.coefficients[i]))
          return !1;
      return !0;
    }
    copy(t) {
      return this.set(t.coefficients);
    }
    clone() {
      return new this.constructor().copy(this);
    }
    fromArray(t, i = 0) {
      const s = this.coefficients;
      for (let c = 0; c < 9; c++)
        s[c].fromArray(t, i + c * 3);
      return this;
    }
    toArray(t = [], i = 0) {
      const s = this.coefficients;
      for (let c = 0; c < 9; c++)
        s[c].toArray(t, i + c * 3);
      return t;
    }
    // evaluate the basis functions
    // shBasis is an Array[ 9 ]
    static getBasisAt(t, i) {
      const s = t.x, c = t.y, u = t.z;
      i[0] = 0.282095, i[1] = 0.488603 * c, i[2] = 0.488603 * u, i[3] = 0.488603 * s, i[4] = 1.092548 * s * c, i[5] = 1.092548 * c * u, i[6] = 0.315392 * (3 * u * u - 1), i[7] = 1.092548 * s * u, i[8] = 0.546274 * (s * s - c * c);
    }
  }
  class Mw extends Qs {
    constructor(t = new Nw(), i = 1) {
      super(void 0, i), this.isLightProbe = !0, this.sh = t;
    }
    copy(t) {
      return super.copy(t), this.sh.copy(t.sh), this;
    }
    fromJSON(t) {
      return this.intensity = t.intensity, this.sh.fromArray(t.sh), this;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return i.object.sh = this.sh.toArray(), i;
    }
  }
  class y1 extends Ni {
    constructor(t) {
      super(t), this.textures = {};
    }
    load(t, i, s, c) {
      const u = this, f = new Ha(u.manager);
      f.setPath(u.path), f.setRequestHeader(u.requestHeader), f.setWithCredentials(u.withCredentials), f.load(t, function(b) {
        try {
          i(u.parse(JSON.parse(b)));
        } catch (C) {
          c ? c(C) : console.error(C), u.manager.itemError(t);
        }
      }, s, c);
    }
    parse(t) {
      const i = this.textures;
      function s(u) {
        return i[u] === void 0 && console.warn("THREE.MaterialLoader: Undefined texture", u), i[u];
      }
      const c = y1.createMaterialFromType(t.type);
      if (t.uuid !== void 0 && (c.uuid = t.uuid), t.name !== void 0 && (c.name = t.name), t.color !== void 0 && c.color !== void 0 && c.color.setHex(t.color), t.roughness !== void 0 && (c.roughness = t.roughness), t.metalness !== void 0 && (c.metalness = t.metalness), t.sheen !== void 0 && (c.sheen = t.sheen), t.sheenColor !== void 0 && (c.sheenColor = new Tt().setHex(t.sheenColor)), t.sheenRoughness !== void 0 && (c.sheenRoughness = t.sheenRoughness), t.emissive !== void 0 && c.emissive !== void 0 && c.emissive.setHex(t.emissive), t.specular !== void 0 && c.specular !== void 0 && c.specular.setHex(t.specular), t.specularIntensity !== void 0 && (c.specularIntensity = t.specularIntensity), t.specularColor !== void 0 && c.specularColor !== void 0 && c.specularColor.setHex(t.specularColor), t.shininess !== void 0 && (c.shininess = t.shininess), t.clearcoat !== void 0 && (c.clearcoat = t.clearcoat), t.clearcoatRoughness !== void 0 && (c.clearcoatRoughness = t.clearcoatRoughness), t.dispersion !== void 0 && (c.dispersion = t.dispersion), t.iridescence !== void 0 && (c.iridescence = t.iridescence), t.iridescenceIOR !== void 0 && (c.iridescenceIOR = t.iridescenceIOR), t.iridescenceThicknessRange !== void 0 && (c.iridescenceThicknessRange = t.iridescenceThicknessRange), t.transmission !== void 0 && (c.transmission = t.transmission), t.thickness !== void 0 && (c.thickness = t.thickness), t.attenuationDistance !== void 0 && (c.attenuationDistance = t.attenuationDistance), t.attenuationColor !== void 0 && c.attenuationColor !== void 0 && c.attenuationColor.setHex(t.attenuationColor), t.anisotropy !== void 0 && (c.anisotropy = t.anisotropy), t.anisotropyRotation !== void 0 && (c.anisotropyRotation = t.anisotropyRotation), t.fog !== void 0 && (c.fog = t.fog), t.flatShading !== void 0 && (c.flatShading = t.flatShading), t.blending !== void 0 && (c.blending = t.blending), t.combine !== void 0 && (c.combine = t.combine), t.side !== void 0 && (c.side = t.side), t.shadowSide !== void 0 && (c.shadowSide = t.shadowSide), t.opacity !== void 0 && (c.opacity = t.opacity), t.transparent !== void 0 && (c.transparent = t.transparent), t.alphaTest !== void 0 && (c.alphaTest = t.alphaTest), t.alphaHash !== void 0 && (c.alphaHash = t.alphaHash), t.depthFunc !== void 0 && (c.depthFunc = t.depthFunc), t.depthTest !== void 0 && (c.depthTest = t.depthTest), t.depthWrite !== void 0 && (c.depthWrite = t.depthWrite), t.colorWrite !== void 0 && (c.colorWrite = t.colorWrite), t.blendSrc !== void 0 && (c.blendSrc = t.blendSrc), t.blendDst !== void 0 && (c.blendDst = t.blendDst), t.blendEquation !== void 0 && (c.blendEquation = t.blendEquation), t.blendSrcAlpha !== void 0 && (c.blendSrcAlpha = t.blendSrcAlpha), t.blendDstAlpha !== void 0 && (c.blendDstAlpha = t.blendDstAlpha), t.blendEquationAlpha !== void 0 && (c.blendEquationAlpha = t.blendEquationAlpha), t.blendColor !== void 0 && c.blendColor !== void 0 && c.blendColor.setHex(t.blendColor), t.blendAlpha !== void 0 && (c.blendAlpha = t.blendAlpha), t.stencilWriteMask !== void 0 && (c.stencilWriteMask = t.stencilWriteMask), t.stencilFunc !== void 0 && (c.stencilFunc = t.stencilFunc), t.stencilRef !== void 0 && (c.stencilRef = t.stencilRef), t.stencilFuncMask !== void 0 && (c.stencilFuncMask = t.stencilFuncMask), t.stencilFail !== void 0 && (c.stencilFail = t.stencilFail), t.stencilZFail !== void 0 && (c.stencilZFail = t.stencilZFail), t.stencilZPass !== void 0 && (c.stencilZPass = t.stencilZPass), t.stencilWrite !== void 0 && (c.stencilWrite = t.stencilWrite), t.wireframe !== void 0 && (c.wireframe = t.wireframe), t.wireframeLinewidth !== void 0 && (c.wireframeLinewidth = t.wireframeLinewidth), t.wireframeLinecap !== void 0 && (c.wireframeLinecap = t.wireframeLinecap), t.wireframeLinejoin !== void 0 && (c.wireframeLinejoin = t.wireframeLinejoin), t.rotation !== void 0 && (c.rotation = t.rotation), t.linewidth !== void 0 && (c.linewidth = t.linewidth), t.dashSize !== void 0 && (c.dashSize = t.dashSize), t.gapSize !== void 0 && (c.gapSize = t.gapSize), t.scale !== void 0 && (c.scale = t.scale), t.polygonOffset !== void 0 && (c.polygonOffset = t.polygonOffset), t.polygonOffsetFactor !== void 0 && (c.polygonOffsetFactor = t.polygonOffsetFactor), t.polygonOffsetUnits !== void 0 && (c.polygonOffsetUnits = t.polygonOffsetUnits), t.dithering !== void 0 && (c.dithering = t.dithering), t.alphaToCoverage !== void 0 && (c.alphaToCoverage = t.alphaToCoverage), t.premultipliedAlpha !== void 0 && (c.premultipliedAlpha = t.premultipliedAlpha), t.forceSinglePass !== void 0 && (c.forceSinglePass = t.forceSinglePass), t.visible !== void 0 && (c.visible = t.visible), t.toneMapped !== void 0 && (c.toneMapped = t.toneMapped), t.userData !== void 0 && (c.userData = t.userData), t.vertexColors !== void 0 && (typeof t.vertexColors == "number" ? c.vertexColors = t.vertexColors > 0 : c.vertexColors = t.vertexColors), t.uniforms !== void 0)
        for (const u in t.uniforms) {
          const f = t.uniforms[u];
          switch (c.uniforms[u] = {}, f.type) {
            case "t":
              c.uniforms[u].value = s(f.value);
              break;
            case "c":
              c.uniforms[u].value = new Tt().setHex(f.value);
              break;
            case "v2":
              c.uniforms[u].value = new $e().fromArray(f.value);
              break;
            case "v3":
              c.uniforms[u].value = new ie().fromArray(f.value);
              break;
            case "v4":
              c.uniforms[u].value = new kn().fromArray(f.value);
              break;
            case "m3":
              c.uniforms[u].value = new en().fromArray(f.value);
              break;
            case "m4":
              c.uniforms[u].value = new Wt().fromArray(f.value);
              break;
            default:
              c.uniforms[u].value = f.value;
          }
        }
      if (t.defines !== void 0 && (c.defines = t.defines), t.vertexShader !== void 0 && (c.vertexShader = t.vertexShader), t.fragmentShader !== void 0 && (c.fragmentShader = t.fragmentShader), t.glslVersion !== void 0 && (c.glslVersion = t.glslVersion), t.extensions !== void 0)
        for (const u in t.extensions)
          c.extensions[u] = t.extensions[u];
      if (t.lights !== void 0 && (c.lights = t.lights), t.clipping !== void 0 && (c.clipping = t.clipping), t.size !== void 0 && (c.size = t.size), t.sizeAttenuation !== void 0 && (c.sizeAttenuation = t.sizeAttenuation), t.map !== void 0 && (c.map = s(t.map)), t.matcap !== void 0 && (c.matcap = s(t.matcap)), t.alphaMap !== void 0 && (c.alphaMap = s(t.alphaMap)), t.bumpMap !== void 0 && (c.bumpMap = s(t.bumpMap)), t.bumpScale !== void 0 && (c.bumpScale = t.bumpScale), t.normalMap !== void 0 && (c.normalMap = s(t.normalMap)), t.normalMapType !== void 0 && (c.normalMapType = t.normalMapType), t.normalScale !== void 0) {
        let u = t.normalScale;
        Array.isArray(u) === !1 && (u = [u, u]), c.normalScale = new $e().fromArray(u);
      }
      return t.displacementMap !== void 0 && (c.displacementMap = s(t.displacementMap)), t.displacementScale !== void 0 && (c.displacementScale = t.displacementScale), t.displacementBias !== void 0 && (c.displacementBias = t.displacementBias), t.roughnessMap !== void 0 && (c.roughnessMap = s(t.roughnessMap)), t.metalnessMap !== void 0 && (c.metalnessMap = s(t.metalnessMap)), t.emissiveMap !== void 0 && (c.emissiveMap = s(t.emissiveMap)), t.emissiveIntensity !== void 0 && (c.emissiveIntensity = t.emissiveIntensity), t.specularMap !== void 0 && (c.specularMap = s(t.specularMap)), t.specularIntensityMap !== void 0 && (c.specularIntensityMap = s(t.specularIntensityMap)), t.specularColorMap !== void 0 && (c.specularColorMap = s(t.specularColorMap)), t.envMap !== void 0 && (c.envMap = s(t.envMap)), t.envMapRotation !== void 0 && c.envMapRotation.fromArray(t.envMapRotation), t.envMapIntensity !== void 0 && (c.envMapIntensity = t.envMapIntensity), t.reflectivity !== void 0 && (c.reflectivity = t.reflectivity), t.refractionRatio !== void 0 && (c.refractionRatio = t.refractionRatio), t.lightMap !== void 0 && (c.lightMap = s(t.lightMap)), t.lightMapIntensity !== void 0 && (c.lightMapIntensity = t.lightMapIntensity), t.aoMap !== void 0 && (c.aoMap = s(t.aoMap)), t.aoMapIntensity !== void 0 && (c.aoMapIntensity = t.aoMapIntensity), t.gradientMap !== void 0 && (c.gradientMap = s(t.gradientMap)), t.clearcoatMap !== void 0 && (c.clearcoatMap = s(t.clearcoatMap)), t.clearcoatRoughnessMap !== void 0 && (c.clearcoatRoughnessMap = s(t.clearcoatRoughnessMap)), t.clearcoatNormalMap !== void 0 && (c.clearcoatNormalMap = s(t.clearcoatNormalMap)), t.clearcoatNormalScale !== void 0 && (c.clearcoatNormalScale = new $e().fromArray(t.clearcoatNormalScale)), t.iridescenceMap !== void 0 && (c.iridescenceMap = s(t.iridescenceMap)), t.iridescenceThicknessMap !== void 0 && (c.iridescenceThicknessMap = s(t.iridescenceThicknessMap)), t.transmissionMap !== void 0 && (c.transmissionMap = s(t.transmissionMap)), t.thicknessMap !== void 0 && (c.thicknessMap = s(t.thicknessMap)), t.anisotropyMap !== void 0 && (c.anisotropyMap = s(t.anisotropyMap)), t.sheenColorMap !== void 0 && (c.sheenColorMap = s(t.sheenColorMap)), t.sheenRoughnessMap !== void 0 && (c.sheenRoughnessMap = s(t.sheenRoughnessMap)), c;
    }
    setTextures(t) {
      return this.textures = t, this;
    }
    static createMaterialFromType(t) {
      const i = {
        ShadowMaterial: tw,
        SpriteMaterial: Vb,
        RawShaderMaterial: nw,
        ShaderMaterial: Oi,
        PointsMaterial: Qb,
        MeshPhysicalMaterial: rw,
        MeshStandardMaterial: mv,
        MeshPhongMaterial: iw,
        MeshToonMaterial: ow,
        MeshNormalMaterial: aw,
        MeshLambertMaterial: sw,
        MeshDepthMaterial: Ub,
        MeshDistanceMaterial: Gb,
        MeshBasicMaterial: Ji,
        MeshMatcapMaterial: lw,
        LineDashedMaterial: cw,
        LineBasicMaterial: gi,
        Material: zr
      };
      return new i[t]();
    }
  }
  class _v {
    static decodeText(t) {
      if (typeof TextDecoder < "u")
        return new TextDecoder().decode(t);
      let i = "";
      for (let s = 0, c = t.length; s < c; s++)
        i += String.fromCharCode(t[s]);
      try {
        return decodeURIComponent(escape(i));
      } catch {
        return i;
      }
    }
    static extractUrlBase(t) {
      const i = t.lastIndexOf("/");
      return i === -1 ? "./" : t.slice(0, i + 1);
    }
    static resolveURL(t, i) {
      return typeof t != "string" || t === "" ? "" : (/^https?:\/\//i.test(i) && /^\//.test(t) && (i = i.replace(/(^https?:\/\/[^\/]+).*/i, "$1")), /^(https?:)?\/\//i.test(t) || /^data:.*,.*$/i.test(t) || /^blob:.*$/i.test(t) ? t : i + t);
    }
  }
  class Sw extends tn {
    constructor() {
      super(), this.isInstancedBufferGeometry = !0, this.type = "InstancedBufferGeometry", this.instanceCount = 1 / 0;
    }
    copy(t) {
      return super.copy(t), this.instanceCount = t.instanceCount, this;
    }
    toJSON() {
      const t = super.toJSON();
      return t.instanceCount = this.instanceCount, t.isInstancedBufferGeometry = !0, t;
    }
  }
  class Iw extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = this, f = new Ha(u.manager);
      f.setPath(u.path), f.setRequestHeader(u.requestHeader), f.setWithCredentials(u.withCredentials), f.load(t, function(b) {
        try {
          i(u.parse(JSON.parse(b)));
        } catch (C) {
          c ? c(C) : console.error(C), u.manager.itemError(t);
        }
      }, s, c);
    }
    parse(t) {
      const i = {}, s = {};
      function c(E, R) {
        if (i[R] !== void 0)
          return i[R];
        const O = E.interleavedBuffers[R], P = u(E, O.buffer), U = Ss(O.type, P), k = new Lf(U, O.stride);
        return k.uuid = O.uuid, i[R] = k, k;
      }
      function u(E, R) {
        if (s[R] !== void 0)
          return s[R];
        const O = E.arrayBuffers[R], P = new Uint32Array(O).buffer;
        return s[R] = P, P;
      }
      const f = t.isInstancedBufferGeometry ? new Sw() : new tn(), b = t.data.index;
      if (b !== void 0) {
        const E = Ss(b.type, b.array);
        f.setIndex(new on(E, 1));
      }
      const C = t.data.attributes;
      for (const E in C) {
        const R = C[E];
        let j;
        if (R.isInterleavedBufferAttribute) {
          const O = c(t.data, R.data);
          j = new pc(O, R.itemSize, R.offset, R.normalized);
        } else {
          const O = Ss(R.type, R.array), P = R.isInstancedBufferAttribute ? Uh : on;
          j = new P(O, R.itemSize, R.normalized);
        }
        R.name !== void 0 && (j.name = R.name), R.usage !== void 0 && j.setUsage(R.usage), f.setAttribute(E, j);
      }
      const _ = t.data.morphAttributes;
      if (_)
        for (const E in _) {
          const R = _[E], j = [];
          for (let O = 0, P = R.length; O < P; O++) {
            const U = R[O];
            let k;
            if (U.isInterleavedBufferAttribute) {
              const V = c(t.data, U.data);
              k = new pc(V, U.itemSize, U.offset, U.normalized);
            } else {
              const V = Ss(U.type, U.array);
              k = new on(V, U.itemSize, U.normalized);
            }
            U.name !== void 0 && (k.name = U.name), j.push(k);
          }
          f.morphAttributes[E] = j;
        }
      t.data.morphTargetsRelative && (f.morphTargetsRelative = !0);
      const I = t.data.groups || t.data.drawcalls || t.data.offsets;
      if (I !== void 0)
        for (let E = 0, R = I.length; E !== R; ++E) {
          const j = I[E];
          f.addGroup(j.start, j.count, j.materialIndex);
        }
      const A = t.data.boundingSphere;
      if (A !== void 0) {
        const E = new ie();
        A.center !== void 0 && E.fromArray(A.center), f.boundingSphere = new Xr(E, A.radius);
      }
      return t.name && (f.name = t.name), t.userData && (f.userData = t.userData), f;
    }
  }
  class N6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = this, f = this.path === "" ? _v.extractUrlBase(t) : this.path;
      this.resourcePath = this.resourcePath || f;
      const b = new Ha(this.manager);
      b.setPath(this.path), b.setRequestHeader(this.requestHeader), b.setWithCredentials(this.withCredentials), b.load(t, function(C) {
        let _ = null;
        try {
          _ = JSON.parse(C);
        } catch (I) {
          c !== void 0 && c(I), console.error("THREE:ObjectLoader: Can't parse " + t + ".", I.message);
          return;
        }
        const N = _.metadata;
        if (N === void 0 || N.type === void 0 || N.type.toLowerCase() === "geometry") {
          c !== void 0 && c(new Error("THREE.ObjectLoader: Can't load " + t)), console.error("THREE.ObjectLoader: Can't load " + t);
          return;
        }
        u.parse(_, i);
      }, s, c);
    }
    async loadAsync(t, i) {
      const s = this, c = this.path === "" ? _v.extractUrlBase(t) : this.path;
      this.resourcePath = this.resourcePath || c;
      const u = new Ha(this.manager);
      u.setPath(this.path), u.setRequestHeader(this.requestHeader), u.setWithCredentials(this.withCredentials);
      const f = await u.loadAsync(t, i), b = JSON.parse(f), C = b.metadata;
      if (C === void 0 || C.type === void 0 || C.type.toLowerCase() === "geometry")
        throw new Error("THREE.ObjectLoader: Can't load " + t);
      return await s.parseAsync(b);
    }
    parse(t, i) {
      const s = this.parseAnimations(t.animations), c = this.parseShapes(t.shapes), u = this.parseGeometries(t.geometries, c), f = this.parseImages(t.images, function() {
        i !== void 0 && i(_);
      }), b = this.parseTextures(t.textures, f), C = this.parseMaterials(t.materials, b), _ = this.parseObject(t.object, u, C, b, s), N = this.parseSkeletons(t.skeletons, _);
      if (this.bindSkeletons(_, N), i !== void 0) {
        let I = !1;
        for (const A in f)
          if (f[A].data instanceof HTMLImageElement) {
            I = !0;
            break;
          }
        I === !1 && i(_);
      }
      return _;
    }
    async parseAsync(t) {
      const i = this.parseAnimations(t.animations), s = this.parseShapes(t.shapes), c = this.parseGeometries(t.geometries, s), u = await this.parseImagesAsync(t.images), f = this.parseTextures(t.textures, u), b = this.parseMaterials(t.materials, f), C = this.parseObject(t.object, c, b, f, i), _ = this.parseSkeletons(t.skeletons, C);
      return this.bindSkeletons(C, _), C;
    }
    parseShapes(t) {
      const i = {};
      if (t !== void 0)
        for (let s = 0, c = t.length; s < c; s++) {
          const u = new gc().fromJSON(t[s]);
          i[u.uuid] = u;
        }
      return i;
    }
    parseSkeletons(t, i) {
      const s = {}, c = {};
      if (i.traverse(function(u) {
        u.isBone && (c[u.uuid] = u);
      }), t !== void 0)
        for (let u = 0, f = t.length; u < f; u++) {
          const b = new zf().fromJSON(t[u], c);
          s[b.uuid] = b;
        }
      return s;
    }
    parseGeometries(t, i) {
      const s = {};
      if (t !== void 0) {
        const c = new Iw();
        for (let u = 0, f = t.length; u < f; u++) {
          let b;
          const C = t[u];
          switch (C.type) {
            case "BufferGeometry":
            case "InstancedBufferGeometry":
              b = c.parse(C);
              break;
            default:
              C.type in ew ? b = ew[C.type].fromJSON(C, i) : console.warn(`THREE.ObjectLoader: Unsupported geometry type "${C.type}"`);
          }
          b.uuid = C.uuid, C.name !== void 0 && (b.name = C.name), C.userData !== void 0 && (b.userData = C.userData), s[C.uuid] = b;
        }
      }
      return s;
    }
    parseMaterials(t, i) {
      const s = {}, c = {};
      if (t !== void 0) {
        const u = new y1();
        u.setTextures(i);
        for (let f = 0, b = t.length; f < b; f++) {
          const C = t[f];
          s[C.uuid] === void 0 && (s[C.uuid] = u.parse(C)), c[C.uuid] = s[C.uuid];
        }
      }
      return c;
    }
    parseAnimations(t) {
      const i = {};
      if (t !== void 0)
        for (let s = 0; s < t.length; s++) {
          const c = t[s], u = Mm.parse(c);
          i[u.uuid] = u;
        }
      return i;
    }
    parseImages(t, i) {
      const s = this, c = {};
      let u;
      function f(C) {
        return s.manager.itemStart(C), u.load(C, function() {
          s.manager.itemEnd(C);
        }, void 0, function() {
          s.manager.itemError(C), s.manager.itemEnd(C);
        });
      }
      function b(C) {
        if (typeof C == "string") {
          const _ = C, N = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(_) ? _ : s.resourcePath + _;
          return f(N);
        } else
          return C.data ? {
            data: Ss(C.type, C.data),
            width: C.width,
            height: C.height
          } : null;
      }
      if (t !== void 0 && t.length > 0) {
        const C = new vv(i);
        u = new Sm(C), u.setCrossOrigin(this.crossOrigin);
        for (let _ = 0, N = t.length; _ < N; _++) {
          const I = t[_], A = I.url;
          if (Array.isArray(A)) {
            const E = [];
            for (let R = 0, j = A.length; R < j; R++) {
              const O = A[R], P = b(O);
              P !== null && (P instanceof HTMLImageElement ? E.push(P) : E.push(new Ys(P.data, P.width, P.height)));
            }
            c[I.uuid] = new La(E);
          } else {
            const E = b(I.url);
            c[I.uuid] = new La(E);
          }
        }
      }
      return c;
    }
    async parseImagesAsync(t) {
      const i = this, s = {};
      let c;
      async function u(f) {
        if (typeof f == "string") {
          const b = f, C = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(b) ? b : i.resourcePath + b;
          return await c.loadAsync(C);
        } else
          return f.data ? {
            data: Ss(f.type, f.data),
            width: f.width,
            height: f.height
          } : null;
      }
      if (t !== void 0 && t.length > 0) {
        c = new Sm(this.manager), c.setCrossOrigin(this.crossOrigin);
        for (let f = 0, b = t.length; f < b; f++) {
          const C = t[f], _ = C.url;
          if (Array.isArray(_)) {
            const N = [];
            for (let I = 0, A = _.length; I < A; I++) {
              const E = _[I], R = await u(E);
              R !== null && (R instanceof HTMLImageElement ? N.push(R) : N.push(new Ys(R.data, R.width, R.height)));
            }
            s[C.uuid] = new La(N);
          } else {
            const N = await u(C.url);
            s[C.uuid] = new La(N);
          }
        }
      }
      return s;
    }
    parseTextures(t, i) {
      function s(u, f) {
        return typeof u == "number" ? u : (console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.", u), f[u]);
      }
      const c = {};
      if (t !== void 0)
        for (let u = 0, f = t.length; u < f; u++) {
          const b = t[u];
          b.image === void 0 && console.warn('THREE.ObjectLoader: No "image" specified for', b.uuid), i[b.image] === void 0 && console.warn("THREE.ObjectLoader: Undefined image", b.image);
          const C = i[b.image], _ = C.data;
          let N;
          Array.isArray(_) ? (N = new za(), _.length === 6 && (N.needsUpdate = !0)) : (_ && _.data ? N = new Ys() : N = new lr(), _ && (N.needsUpdate = !0)), N.source = C, N.uuid = b.uuid, b.name !== void 0 && (N.name = b.name), b.mapping !== void 0 && (N.mapping = s(b.mapping, M6)), b.channel !== void 0 && (N.channel = b.channel), b.offset !== void 0 && N.offset.fromArray(b.offset), b.repeat !== void 0 && N.repeat.fromArray(b.repeat), b.center !== void 0 && N.center.fromArray(b.center), b.rotation !== void 0 && (N.rotation = b.rotation), b.wrap !== void 0 && (N.wrapS = s(b.wrap[0], Aw), N.wrapT = s(b.wrap[1], Aw)), b.format !== void 0 && (N.format = b.format), b.internalFormat !== void 0 && (N.internalFormat = b.internalFormat), b.type !== void 0 && (N.type = b.type), b.colorSpace !== void 0 && (N.colorSpace = b.colorSpace), b.minFilter !== void 0 && (N.minFilter = s(b.minFilter, Ew)), b.magFilter !== void 0 && (N.magFilter = s(b.magFilter, Ew)), b.anisotropy !== void 0 && (N.anisotropy = b.anisotropy), b.flipY !== void 0 && (N.flipY = b.flipY), b.generateMipmaps !== void 0 && (N.generateMipmaps = b.generateMipmaps), b.premultiplyAlpha !== void 0 && (N.premultiplyAlpha = b.premultiplyAlpha), b.unpackAlignment !== void 0 && (N.unpackAlignment = b.unpackAlignment), b.compareFunction !== void 0 && (N.compareFunction = b.compareFunction), b.userData !== void 0 && (N.userData = b.userData), c[b.uuid] = N;
        }
      return c;
    }
    parseObject(t, i, s, c, u) {
      let f;
      function b(A) {
        return i[A] === void 0 && console.warn("THREE.ObjectLoader: Undefined geometry", A), i[A];
      }
      function C(A) {
        if (A !== void 0) {
          if (Array.isArray(A)) {
            const E = [];
            for (let R = 0, j = A.length; R < j; R++) {
              const O = A[R];
              s[O] === void 0 && console.warn("THREE.ObjectLoader: Undefined material", O), E.push(s[O]);
            }
            return E;
          }
          return s[A] === void 0 && console.warn("THREE.ObjectLoader: Undefined material", A), s[A];
        }
      }
      function _(A) {
        return c[A] === void 0 && console.warn("THREE.ObjectLoader: Undefined texture", A), c[A];
      }
      let N, I;
      switch (t.type) {
        case "Scene":
          f = new u_(), t.background !== void 0 && (Number.isInteger(t.background) ? f.background = new Tt(t.background) : f.background = _(t.background)), t.environment !== void 0 && (f.environment = _(t.environment)), t.fog !== void 0 && (t.fog.type === "Fog" ? f.fog = new Of(t.fog.color, t.fog.near, t.fog.far) : t.fog.type === "FogExp2" && (f.fog = new Bf(t.fog.color, t.fog.density)), t.fog.name !== "" && (f.fog.name = t.fog.name)), t.backgroundBlurriness !== void 0 && (f.backgroundBlurriness = t.backgroundBlurriness), t.backgroundIntensity !== void 0 && (f.backgroundIntensity = t.backgroundIntensity), t.backgroundRotation !== void 0 && f.backgroundRotation.fromArray(t.backgroundRotation), t.environmentIntensity !== void 0 && (f.environmentIntensity = t.environmentIntensity), t.environmentRotation !== void 0 && f.environmentRotation.fromArray(t.environmentRotation);
          break;
        case "PerspectiveCamera":
          f = new Tr(t.fov, t.aspect, t.near, t.far), t.focus !== void 0 && (f.focus = t.focus), t.zoom !== void 0 && (f.zoom = t.zoom), t.filmGauge !== void 0 && (f.filmGauge = t.filmGauge), t.filmOffset !== void 0 && (f.filmOffset = t.filmOffset), t.view !== void 0 && (f.view = Object.assign({}, t.view));
          break;
        case "OrthographicCamera":
          f = new Af(t.left, t.right, t.top, t.bottom, t.near, t.far), t.zoom !== void 0 && (f.zoom = t.zoom), t.view !== void 0 && (f.view = Object.assign({}, t.view));
          break;
        case "AmbientLight":
          f = new ww(t.color, t.intensity);
          break;
        case "DirectionalLight":
          f = new _w(t.color, t.intensity);
          break;
        case "PointLight":
          f = new Cw(t.color, t.intensity, t.distance, t.decay);
          break;
        case "RectAreaLight":
          f = new Tw(t.color, t.intensity, t.width, t.height);
          break;
        case "SpotLight":
          f = new yw(t.color, t.intensity, t.distance, t.angle, t.penumbra, t.decay);
          break;
        case "HemisphereLight":
          f = new gw(t.color, t.groundColor, t.intensity);
          break;
        case "LightProbe":
          f = new Mw().fromJSON(t);
          break;
        case "SkinnedMesh":
          N = b(t.geometry), I = C(t.material), f = new w_(N, I), t.bindMode !== void 0 && (f.bindMode = t.bindMode), t.bindMatrix !== void 0 && f.bindMatrix.fromArray(t.bindMatrix), t.skeleton !== void 0 && (f.skeleton = t.skeleton);
          break;
        case "Mesh":
          N = b(t.geometry), I = C(t.material), f = new ur(N, I);
          break;
        case "InstancedMesh":
          N = b(t.geometry), I = C(t.material);
          const A = t.count, E = t.instanceMatrix, R = t.instanceColor;
          f = new S_(N, I, A), f.instanceMatrix = new Uh(new Float32Array(E.array), 16), R !== void 0 && (f.instanceColor = new Uh(new Float32Array(R.array), R.itemSize));
          break;
        case "BatchedMesh":
          N = b(t.geometry), I = C(t.material), f = new E_(t.maxGeometryCount, t.maxVertexCount, t.maxIndexCount, I), f.geometry = N, f.perObjectFrustumCulled = t.perObjectFrustumCulled, f.sortObjects = t.sortObjects, f._drawRanges = t.drawRanges, f._reservedRanges = t.reservedRanges, f._visibility = t.visibility, f._active = t.active, f._bounds = t.bounds.map((j) => {
            const O = new Hr();
            O.min.fromArray(j.boxMin), O.max.fromArray(j.boxMax);
            const P = new Xr();
            return P.radius = j.sphereRadius, P.center.fromArray(j.sphereCenter), {
              boxInitialized: j.boxInitialized,
              box: O,
              sphereInitialized: j.sphereInitialized,
              sphere: P
            };
          }), f._maxGeometryCount = t.maxGeometryCount, f._maxVertexCount = t.maxVertexCount, f._maxIndexCount = t.maxIndexCount, f._geometryInitialized = t.geometryInitialized, f._geometryCount = t.geometryCount, f._matricesTexture = _(t.matricesTexture.uuid);
          break;
        case "LOD":
          f = new b_();
          break;
        case "Line":
          f = new Zs(b(t.geometry), C(t.material));
          break;
        case "LineLoop":
          f = new L_(b(t.geometry), C(t.material));
          break;
        case "LineSegments":
          f = new ra(b(t.geometry), C(t.material));
          break;
        case "PointCloud":
        case "Points":
          f = new D_(b(t.geometry), C(t.material));
          break;
        case "Sprite":
          f = new f_(C(t.material));
          break;
        case "Group":
          f = new Dh();
          break;
        case "Bone":
          f = new Yb();
          break;
        default:
          f = new An();
      }
      if (f.uuid = t.uuid, t.name !== void 0 && (f.name = t.name), t.matrix !== void 0 ? (f.matrix.fromArray(t.matrix), t.matrixAutoUpdate !== void 0 && (f.matrixAutoUpdate = t.matrixAutoUpdate), f.matrixAutoUpdate && f.matrix.decompose(f.position, f.quaternion, f.scale)) : (t.position !== void 0 && f.position.fromArray(t.position), t.rotation !== void 0 && f.rotation.fromArray(t.rotation), t.quaternion !== void 0 && f.quaternion.fromArray(t.quaternion), t.scale !== void 0 && f.scale.fromArray(t.scale)), t.up !== void 0 && f.up.fromArray(t.up), t.castShadow !== void 0 && (f.castShadow = t.castShadow), t.receiveShadow !== void 0 && (f.receiveShadow = t.receiveShadow), t.shadow && (t.shadow.bias !== void 0 && (f.shadow.bias = t.shadow.bias), t.shadow.normalBias !== void 0 && (f.shadow.normalBias = t.shadow.normalBias), t.shadow.radius !== void 0 && (f.shadow.radius = t.shadow.radius), t.shadow.mapSize !== void 0 && f.shadow.mapSize.fromArray(t.shadow.mapSize), t.shadow.camera !== void 0 && (f.shadow.camera = this.parseObject(t.shadow.camera))), t.visible !== void 0 && (f.visible = t.visible), t.frustumCulled !== void 0 && (f.frustumCulled = t.frustumCulled), t.renderOrder !== void 0 && (f.renderOrder = t.renderOrder), t.userData !== void 0 && (f.userData = t.userData), t.layers !== void 0 && (f.layers.mask = t.layers), t.children !== void 0) {
        const A = t.children;
        for (let E = 0; E < A.length; E++)
          f.add(this.parseObject(A[E], i, s, c, u));
      }
      if (t.animations !== void 0) {
        const A = t.animations;
        for (let E = 0; E < A.length; E++) {
          const R = A[E];
          f.animations.push(u[R]);
        }
      }
      if (t.type === "LOD") {
        t.autoUpdate !== void 0 && (f.autoUpdate = t.autoUpdate);
        const A = t.levels;
        for (let E = 0; E < A.length; E++) {
          const R = A[E], j = f.getObjectByProperty("uuid", R.object);
          j !== void 0 && f.addLevel(j, R.distance, R.hysteresis);
        }
      }
      return f;
    }
    bindSkeletons(t, i) {
      Object.keys(i).length !== 0 && t.traverse(function(s) {
        if (s.isSkinnedMesh === !0 && s.skeleton !== void 0) {
          const c = i[s.skeleton];
          c === void 0 ? console.warn("THREE.ObjectLoader: No skeleton found with UUID:", s.skeleton) : s.bind(c, s.bindMatrix);
        }
      });
    }
  }
  const M6 = {
    UVMapping: _a,
    CubeReflectionMapping: xi,
    CubeRefractionMapping: Ei,
    EquirectangularReflectionMapping: Vo,
    EquirectangularRefractionMapping: Ho,
    CubeUVReflectionMapping: wa
  }, Aw = {
    RepeatWrapping: El,
    ClampToEdgeWrapping: Ci,
    MirroredRepeatWrapping: xs
  }, Ew = {
    NearestFilter: yr,
    NearestMipmapNearestFilter: od,
    NearestMipmapLinearFilter: Ta,
    LinearFilter: pr,
    LinearMipmapNearestFilter: Pl,
    LinearMipmapLinearFilter: Vi
  };
  class S6 extends Ni {
    constructor(t) {
      super(t), this.isImageBitmapLoader = !0, typeof createImageBitmap > "u" && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."), typeof fetch > "u" && console.warn("THREE.ImageBitmapLoader: fetch() not supported."), this.options = { premultiplyAlpha: "none" };
    }
    setOptions(t) {
      return this.options = t, this;
    }
    load(t, i, s, c) {
      t === void 0 && (t = ""), this.path !== void 0 && (t = this.path + t), t = this.manager.resolveURL(t);
      const u = this, f = Wa.get(t);
      if (f !== void 0) {
        if (u.manager.itemStart(t), f.then) {
          f.then((_) => {
            i && i(_), u.manager.itemEnd(t);
          }).catch((_) => {
            c && c(_);
          });
          return;
        }
        return setTimeout(function() {
          i && i(f), u.manager.itemEnd(t);
        }, 0), f;
      }
      const b = {};
      b.credentials = this.crossOrigin === "anonymous" ? "same-origin" : "include", b.headers = this.requestHeader;
      const C = fetch(t, b).then(function(_) {
        return _.blob();
      }).then(function(_) {
        return createImageBitmap(_, Object.assign(u.options, { colorSpaceConversion: "none" }));
      }).then(function(_) {
        return Wa.add(t, _), i && i(_), u.manager.itemEnd(t), _;
      }).catch(function(_) {
        c && c(_), Wa.remove(t), u.manager.itemError(t), u.manager.itemEnd(t);
      });
      Wa.add(t, C), u.manager.itemStart(t);
    }
  }
  let x1;
  class wv {
    static getContext() {
      return x1 === void 0 && (x1 = new (window.AudioContext || window.webkitAudioContext)()), x1;
    }
    static setContext(t) {
      x1 = t;
    }
  }
  class I6 extends Ni {
    constructor(t) {
      super(t);
    }
    load(t, i, s, c) {
      const u = this, f = new Ha(this.manager);
      f.setResponseType("arraybuffer"), f.setPath(this.path), f.setRequestHeader(this.requestHeader), f.setWithCredentials(this.withCredentials), f.load(t, function(C) {
        try {
          const _ = C.slice(0);
          wv.getContext().decodeAudioData(_, function(I) {
            i(I);
          }).catch(b);
        } catch (_) {
          b(_);
        }
      }, s, c);
      function b(C) {
        c ? c(C) : console.error(C), u.manager.itemError(t);
      }
    }
  }
  const Pw = /* @__PURE__ */ new Wt(), Rw = /* @__PURE__ */ new Wt(), Cc = /* @__PURE__ */ new Wt();
  class A6 {
    constructor() {
      this.type = "StereoCamera", this.aspect = 1, this.eyeSep = 0.064, this.cameraL = new Tr(), this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new Tr(), this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1, this._cache = {
        focus: null,
        fov: null,
        aspect: null,
        near: null,
        far: null,
        zoom: null,
        eyeSep: null
      };
    }
    update(t) {
      const i = this._cache;
      if (i.focus !== t.focus || i.fov !== t.fov || i.aspect !== t.aspect * this.aspect || i.near !== t.near || i.far !== t.far || i.zoom !== t.zoom || i.eyeSep !== this.eyeSep) {
        i.focus = t.focus, i.fov = t.fov, i.aspect = t.aspect * this.aspect, i.near = t.near, i.far = t.far, i.zoom = t.zoom, i.eyeSep = this.eyeSep, Cc.copy(t.projectionMatrix);
        const c = i.eyeSep / 2, u = c * i.near / i.focus, f = i.near * Math.tan(Pa * i.fov * 0.5) / i.zoom;
        let b, C;
        Rw.elements[12] = -c, Pw.elements[12] = c, b = -f * i.aspect + u, C = f * i.aspect + u, Cc.elements[0] = 2 * i.near / (C - b), Cc.elements[8] = (C + b) / (C - b), this.cameraL.projectionMatrix.copy(Cc), b = -f * i.aspect - u, C = f * i.aspect - u, Cc.elements[0] = 2 * i.near / (C - b), Cc.elements[8] = (C + b) / (C - b), this.cameraR.projectionMatrix.copy(Cc);
      }
      this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Rw), this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Pw);
    }
  }
  class Bw {
    constructor(t = !0) {
      this.autoStart = t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1;
    }
    start() {
      this.startTime = Ow(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0;
    }
    stop() {
      this.getElapsedTime(), this.running = !1, this.autoStart = !1;
    }
    getElapsedTime() {
      return this.getDelta(), this.elapsedTime;
    }
    getDelta() {
      let t = 0;
      if (this.autoStart && !this.running)
        return this.start(), 0;
      if (this.running) {
        const i = Ow();
        t = (i - this.oldTime) / 1e3, this.oldTime = i, this.elapsedTime += t;
      }
      return t;
    }
  }
  function Ow() {
    return (typeof performance > "u" ? Date : performance).now();
  }
  const _c = /* @__PURE__ */ new ie(), Lw = /* @__PURE__ */ new Kr(), E6 = /* @__PURE__ */ new ie(), wc = /* @__PURE__ */ new ie();
  class P6 extends An {
    constructor() {
      super(), this.type = "AudioListener", this.context = wv.getContext(), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null, this.timeDelta = 0, this._clock = new Bw();
    }
    getInput() {
      return this.gain;
    }
    removeFilter() {
      return this.filter !== null && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null), this;
    }
    getFilter() {
      return this.filter;
    }
    setFilter(t) {
      return this.filter !== null ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination), this;
    }
    getMasterVolume() {
      return this.gain.gain.value;
    }
    setMasterVolume(t) {
      return this.gain.gain.setTargetAtTime(t, this.context.currentTime, 0.01), this;
    }
    updateMatrixWorld(t) {
      super.updateMatrixWorld(t);
      const i = this.context.listener, s = this.up;
      if (this.timeDelta = this._clock.getDelta(), this.matrixWorld.decompose(_c, Lw, E6), wc.set(0, 0, -1).applyQuaternion(Lw), i.positionX) {
        const c = this.context.currentTime + this.timeDelta;
        i.positionX.linearRampToValueAtTime(_c.x, c), i.positionY.linearRampToValueAtTime(_c.y, c), i.positionZ.linearRampToValueAtTime(_c.z, c), i.forwardX.linearRampToValueAtTime(wc.x, c), i.forwardY.linearRampToValueAtTime(wc.y, c), i.forwardZ.linearRampToValueAtTime(wc.z, c), i.upX.linearRampToValueAtTime(s.x, c), i.upY.linearRampToValueAtTime(s.y, c), i.upZ.linearRampToValueAtTime(s.z, c);
      } else
        i.setPosition(_c.x, _c.y, _c.z), i.setOrientation(wc.x, wc.y, wc.z, s.x, s.y, s.z);
    }
  }
  class jw extends An {
    constructor(t) {
      super(), this.type = "Audio", this.listener = t, this.context = t.context, this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.buffer = null, this.detune = 0, this.loop = !1, this.loopStart = 0, this.loopEnd = 0, this.offset = 0, this.duration = void 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.source = null, this.sourceType = "empty", this._startedAt = 0, this._progress = 0, this._connected = !1, this.filters = [];
    }
    getOutput() {
      return this.gain;
    }
    setNodeSource(t) {
      return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this;
    }
    setMediaElementSource(t) {
      return this.hasPlaybackControl = !1, this.sourceType = "mediaNode", this.source = this.context.createMediaElementSource(t), this.connect(), this;
    }
    setMediaStreamSource(t) {
      return this.hasPlaybackControl = !1, this.sourceType = "mediaStreamNode", this.source = this.context.createMediaStreamSource(t), this.connect(), this;
    }
    setBuffer(t) {
      return this.buffer = t, this.sourceType = "buffer", this.autoplay && this.play(), this;
    }
    play(t = 0) {
      if (this.isPlaying === !0) {
        console.warn("THREE.Audio: Audio is already playing.");
        return;
      }
      if (this.hasPlaybackControl === !1) {
        console.warn("THREE.Audio: this Audio has no playback control.");
        return;
      }
      this._startedAt = this.context.currentTime + t;
      const i = this.context.createBufferSource();
      return i.buffer = this.buffer, i.loop = this.loop, i.loopStart = this.loopStart, i.loopEnd = this.loopEnd, i.onended = this.onEnded.bind(this), i.start(this._startedAt, this._progress + this.offset, this.duration), this.isPlaying = !0, this.source = i, this.setDetune(this.detune), this.setPlaybackRate(this.playbackRate), this.connect();
    }
    pause() {
      if (this.hasPlaybackControl === !1) {
        console.warn("THREE.Audio: this Audio has no playback control.");
        return;
      }
      return this.isPlaying === !0 && (this._progress += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate, this.loop === !0 && (this._progress = this._progress % (this.duration || this.buffer.duration)), this.source.stop(), this.source.onended = null, this.isPlaying = !1), this;
    }
    stop() {
      if (this.hasPlaybackControl === !1) {
        console.warn("THREE.Audio: this Audio has no playback control.");
        return;
      }
      return this._progress = 0, this.source !== null && (this.source.stop(), this.source.onended = null), this.isPlaying = !1, this;
    }
    connect() {
      if (this.filters.length > 0) {
        this.source.connect(this.filters[0]);
        for (let t = 1, i = this.filters.length; t < i; t++)
          this.filters[t - 1].connect(this.filters[t]);
        this.filters[this.filters.length - 1].connect(this.getOutput());
      } else
        this.source.connect(this.getOutput());
      return this._connected = !0, this;
    }
    disconnect() {
      if (this._connected !== !1) {
        if (this.filters.length > 0) {
          this.source.disconnect(this.filters[0]);
          for (let t = 1, i = this.filters.length; t < i; t++)
            this.filters[t - 1].disconnect(this.filters[t]);
          this.filters[this.filters.length - 1].disconnect(this.getOutput());
        } else
          this.source.disconnect(this.getOutput());
        return this._connected = !1, this;
      }
    }
    getFilters() {
      return this.filters;
    }
    setFilters(t) {
      return t || (t = []), this._connected === !0 ? (this.disconnect(), this.filters = t.slice(), this.connect()) : this.filters = t.slice(), this;
    }
    setDetune(t) {
      return this.detune = t, this.isPlaying === !0 && this.source.detune !== void 0 && this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01), this;
    }
    getDetune() {
      return this.detune;
    }
    getFilter() {
      return this.getFilters()[0];
    }
    setFilter(t) {
      return this.setFilters(t ? [t] : []);
    }
    setPlaybackRate(t) {
      if (this.hasPlaybackControl === !1) {
        console.warn("THREE.Audio: this Audio has no playback control.");
        return;
      }
      return this.playbackRate = t, this.isPlaying === !0 && this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01), this;
    }
    getPlaybackRate() {
      return this.playbackRate;
    }
    onEnded() {
      this.isPlaying = !1;
    }
    getLoop() {
      return this.hasPlaybackControl === !1 ? (console.warn("THREE.Audio: this Audio has no playback control."), !1) : this.loop;
    }
    setLoop(t) {
      if (this.hasPlaybackControl === !1) {
        console.warn("THREE.Audio: this Audio has no playback control.");
        return;
      }
      return this.loop = t, this.isPlaying === !0 && (this.source.loop = this.loop), this;
    }
    setLoopStart(t) {
      return this.loopStart = t, this;
    }
    setLoopEnd(t) {
      return this.loopEnd = t, this;
    }
    getVolume() {
      return this.gain.gain.value;
    }
    setVolume(t) {
      return this.gain.gain.setTargetAtTime(t, this.context.currentTime, 0.01), this;
    }
  }
  const Tc = /* @__PURE__ */ new ie(), Dw = /* @__PURE__ */ new Kr(), R6 = /* @__PURE__ */ new ie(), Nc = /* @__PURE__ */ new ie();
  class B6 extends jw {
    constructor(t) {
      super(t), this.panner = this.context.createPanner(), this.panner.panningModel = "HRTF", this.panner.connect(this.gain);
    }
    connect() {
      super.connect(), this.panner.connect(this.gain);
    }
    disconnect() {
      super.disconnect(), this.panner.disconnect(this.gain);
    }
    getOutput() {
      return this.panner;
    }
    getRefDistance() {
      return this.panner.refDistance;
    }
    setRefDistance(t) {
      return this.panner.refDistance = t, this;
    }
    getRolloffFactor() {
      return this.panner.rolloffFactor;
    }
    setRolloffFactor(t) {
      return this.panner.rolloffFactor = t, this;
    }
    getDistanceModel() {
      return this.panner.distanceModel;
    }
    setDistanceModel(t) {
      return this.panner.distanceModel = t, this;
    }
    getMaxDistance() {
      return this.panner.maxDistance;
    }
    setMaxDistance(t) {
      return this.panner.maxDistance = t, this;
    }
    setDirectionalCone(t, i, s) {
      return this.panner.coneInnerAngle = t, this.panner.coneOuterAngle = i, this.panner.coneOuterGain = s, this;
    }
    updateMatrixWorld(t) {
      if (super.updateMatrixWorld(t), this.hasPlaybackControl === !0 && this.isPlaying === !1)
        return;
      this.matrixWorld.decompose(Tc, Dw, R6), Nc.set(0, 0, 1).applyQuaternion(Dw);
      const i = this.panner;
      if (i.positionX) {
        const s = this.context.currentTime + this.listener.timeDelta;
        i.positionX.linearRampToValueAtTime(Tc.x, s), i.positionY.linearRampToValueAtTime(Tc.y, s), i.positionZ.linearRampToValueAtTime(Tc.z, s), i.orientationX.linearRampToValueAtTime(Nc.x, s), i.orientationY.linearRampToValueAtTime(Nc.y, s), i.orientationZ.linearRampToValueAtTime(Nc.z, s);
      } else
        i.setPosition(Tc.x, Tc.y, Tc.z), i.setOrientation(Nc.x, Nc.y, Nc.z);
    }
  }
  class O6 {
    constructor(t, i = 2048) {
      this.analyser = t.context.createAnalyser(), this.analyser.fftSize = i, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser);
    }
    getFrequencyData() {
      return this.analyser.getByteFrequencyData(this.data), this.data;
    }
    getAverageFrequency() {
      let t = 0;
      const i = this.getFrequencyData();
      for (let s = 0; s < i.length; s++)
        t += i[s];
      return t / i.length;
    }
  }
  class Fw {
    constructor(t, i, s) {
      this.binding = t, this.valueSize = s;
      let c, u, f;
      switch (i) {
        case "quaternion":
          c = this._slerp, u = this._slerpAdditive, f = this._setAdditiveIdentityQuaternion, this.buffer = new Float64Array(s * 6), this._workIndex = 5;
          break;
        case "string":
        case "bool":
          c = this._select, u = this._select, f = this._setAdditiveIdentityOther, this.buffer = new Array(s * 5);
          break;
        default:
          c = this._lerp, u = this._lerpAdditive, f = this._setAdditiveIdentityNumeric, this.buffer = new Float64Array(s * 5);
      }
      this._mixBufferRegion = c, this._mixBufferRegionAdditive = u, this._setIdentity = f, this._origIndex = 3, this._addIndex = 4, this.cumulativeWeight = 0, this.cumulativeWeightAdditive = 0, this.useCount = 0, this.referenceCount = 0;
    }
    // accumulate data in the 'incoming' region into 'accu<i>'
    accumulate(t, i) {
      const s = this.buffer, c = this.valueSize, u = t * c + c;
      let f = this.cumulativeWeight;
      if (f === 0) {
        for (let b = 0; b !== c; ++b)
          s[u + b] = s[b];
        f = i;
      } else {
        f += i;
        const b = i / f;
        this._mixBufferRegion(s, u, 0, b, c);
      }
      this.cumulativeWeight = f;
    }
    // accumulate data in the 'incoming' region into 'add'
    accumulateAdditive(t) {
      const i = this.buffer, s = this.valueSize, c = s * this._addIndex;
      this.cumulativeWeightAdditive === 0 && this._setIdentity(), this._mixBufferRegionAdditive(i, c, 0, t, s), this.cumulativeWeightAdditive += t;
    }
    // apply the state of 'accu<i>' to the binding when accus differ
    apply(t) {
      const i = this.valueSize, s = this.buffer, c = t * i + i, u = this.cumulativeWeight, f = this.cumulativeWeightAdditive, b = this.binding;
      if (this.cumulativeWeight = 0, this.cumulativeWeightAdditive = 0, u < 1) {
        const C = i * this._origIndex;
        this._mixBufferRegion(
          s,
          c,
          C,
          1 - u,
          i
        );
      }
      f > 0 && this._mixBufferRegionAdditive(s, c, this._addIndex * i, 1, i);
      for (let C = i, _ = i + i; C !== _; ++C)
        if (s[C] !== s[C + i]) {
          b.setValue(s, c);
          break;
        }
    }
    // remember the state of the bound property and copy it to both accus
    saveOriginalState() {
      const t = this.binding, i = this.buffer, s = this.valueSize, c = s * this._origIndex;
      t.getValue(i, c);
      for (let u = s, f = c; u !== f; ++u)
        i[u] = i[c + u % s];
      this._setIdentity(), this.cumulativeWeight = 0, this.cumulativeWeightAdditive = 0;
    }
    // apply the state previously taken via 'saveOriginalState' to the binding
    restoreOriginalState() {
      const t = this.valueSize * 3;
      this.binding.setValue(this.buffer, t);
    }
    _setAdditiveIdentityNumeric() {
      const t = this._addIndex * this.valueSize, i = t + this.valueSize;
      for (let s = t; s < i; s++)
        this.buffer[s] = 0;
    }
    _setAdditiveIdentityQuaternion() {
      this._setAdditiveIdentityNumeric(), this.buffer[this._addIndex * this.valueSize + 3] = 1;
    }
    _setAdditiveIdentityOther() {
      const t = this._origIndex * this.valueSize, i = this._addIndex * this.valueSize;
      for (let s = 0; s < this.valueSize; s++)
        this.buffer[i + s] = this.buffer[t + s];
    }
    // mix functions
    _select(t, i, s, c, u) {
      if (c >= 0.5)
        for (let f = 0; f !== u; ++f)
          t[i + f] = t[s + f];
    }
    _slerp(t, i, s, c) {
      Kr.slerpFlat(t, i, t, i, t, s, c);
    }
    _slerpAdditive(t, i, s, c, u) {
      const f = this._workIndex * u;
      Kr.multiplyQuaternionsFlat(t, f, t, i, t, s), Kr.slerpFlat(t, i, t, i, t, f, c);
    }
    _lerp(t, i, s, c, u) {
      const f = 1 - c;
      for (let b = 0; b !== u; ++b) {
        const C = i + b;
        t[C] = t[C] * f + t[s + b] * c;
      }
    }
    _lerpAdditive(t, i, s, c, u) {
      for (let f = 0; f !== u; ++f) {
        const b = i + f;
        t[b] = t[b] + t[s + f] * c;
      }
    }
  }
  const Tv = "\\[\\]\\.:\\/", L6 = new RegExp("[" + Tv + "]", "g"), Nv = "[^" + Tv + "]", j6 = "[^" + Tv.replace("\\.", "") + "]", D6 = /* @__PURE__ */ /((?:WC+[\/:])*)/.source.replace("WC", Nv), F6 = /* @__PURE__ */ /(WCOD+)?/.source.replace("WCOD", j6), k6 = /* @__PURE__ */ /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", Nv), X6 = /* @__PURE__ */ /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", Nv), z6 = new RegExp(
    "^" + D6 + F6 + k6 + X6 + "$"
  ), U6 = ["material", "materials", "bones", "map"];
  class G6 {
    constructor(t, i, s) {
      const c = s || Bn.parseTrackName(i);
      this._targetGroup = t, this._bindings = t.subscribe_(i, c);
    }
    getValue(t, i) {
      this.bind();
      const s = this._targetGroup.nCachedObjects_, c = this._bindings[s];
      c !== void 0 && c.getValue(t, i);
    }
    setValue(t, i) {
      const s = this._bindings;
      for (let c = this._targetGroup.nCachedObjects_, u = s.length; c !== u; ++c)
        s[c].setValue(t, i);
    }
    bind() {
      const t = this._bindings;
      for (let i = this._targetGroup.nCachedObjects_, s = t.length; i !== s; ++i)
        t[i].bind();
    }
    unbind() {
      const t = this._bindings;
      for (let i = this._targetGroup.nCachedObjects_, s = t.length; i !== s; ++i)
        t[i].unbind();
    }
  }
  class Bn {
    constructor(t, i, s) {
      this.path = i, this.parsedPath = s || Bn.parseTrackName(i), this.node = Bn.findNode(t, this.parsedPath.nodeName), this.rootNode = t, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
    }
    static create(t, i, s) {
      return t && t.isAnimationObjectGroup ? new Bn.Composite(t, i, s) : new Bn(t, i, s);
    }
    /**
     * Replaces spaces with underscores and removes unsupported characters from
     * node names, to ensure compatibility with parseTrackName().
     *
     * @param {string} name Node name to be sanitized.
     * @return {string}
     */
    static sanitizeNodeName(t) {
      return t.replace(/\s/g, "_").replace(L6, "");
    }
    static parseTrackName(t) {
      const i = z6.exec(t);
      if (i === null)
        throw new Error("PropertyBinding: Cannot parse trackName: " + t);
      const s = {
        // directoryName: matches[ 1 ], // (tschw) currently unused
        nodeName: i[2],
        objectName: i[3],
        objectIndex: i[4],
        propertyName: i[5],
        // required
        propertyIndex: i[6]
      }, c = s.nodeName && s.nodeName.lastIndexOf(".");
      if (c !== void 0 && c !== -1) {
        const u = s.nodeName.substring(c + 1);
        U6.indexOf(u) !== -1 && (s.nodeName = s.nodeName.substring(0, c), s.objectName = u);
      }
      if (s.propertyName === null || s.propertyName.length === 0)
        throw new Error("PropertyBinding: can not parse propertyName from trackName: " + t);
      return s;
    }
    static findNode(t, i) {
      if (i === void 0 || i === "" || i === "." || i === -1 || i === t.name || i === t.uuid)
        return t;
      if (t.skeleton) {
        const s = t.skeleton.getBoneByName(i);
        if (s !== void 0)
          return s;
      }
      if (t.children) {
        const s = function(u) {
          for (let f = 0; f < u.length; f++) {
            const b = u[f];
            if (b.name === i || b.uuid === i)
              return b;
            const C = s(b.children);
            if (C)
              return C;
          }
          return null;
        }, c = s(t.children);
        if (c)
          return c;
      }
      return null;
    }
    // these are used to "bind" a nonexistent property
    _getValue_unavailable() {
    }
    _setValue_unavailable() {
    }
    // Getters
    _getValue_direct(t, i) {
      t[i] = this.targetObject[this.propertyName];
    }
    _getValue_array(t, i) {
      const s = this.resolvedProperty;
      for (let c = 0, u = s.length; c !== u; ++c)
        t[i++] = s[c];
    }
    _getValue_arrayElement(t, i) {
      t[i] = this.resolvedProperty[this.propertyIndex];
    }
    _getValue_toArray(t, i) {
      this.resolvedProperty.toArray(t, i);
    }
    // Direct
    _setValue_direct(t, i) {
      this.targetObject[this.propertyName] = t[i];
    }
    _setValue_direct_setNeedsUpdate(t, i) {
      this.targetObject[this.propertyName] = t[i], this.targetObject.needsUpdate = !0;
    }
    _setValue_direct_setMatrixWorldNeedsUpdate(t, i) {
      this.targetObject[this.propertyName] = t[i], this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    // EntireArray
    _setValue_array(t, i) {
      const s = this.resolvedProperty;
      for (let c = 0, u = s.length; c !== u; ++c)
        s[c] = t[i++];
    }
    _setValue_array_setNeedsUpdate(t, i) {
      const s = this.resolvedProperty;
      for (let c = 0, u = s.length; c !== u; ++c)
        s[c] = t[i++];
      this.targetObject.needsUpdate = !0;
    }
    _setValue_array_setMatrixWorldNeedsUpdate(t, i) {
      const s = this.resolvedProperty;
      for (let c = 0, u = s.length; c !== u; ++c)
        s[c] = t[i++];
      this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    // ArrayElement
    _setValue_arrayElement(t, i) {
      this.resolvedProperty[this.propertyIndex] = t[i];
    }
    _setValue_arrayElement_setNeedsUpdate(t, i) {
      this.resolvedProperty[this.propertyIndex] = t[i], this.targetObject.needsUpdate = !0;
    }
    _setValue_arrayElement_setMatrixWorldNeedsUpdate(t, i) {
      this.resolvedProperty[this.propertyIndex] = t[i], this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    // HasToFromArray
    _setValue_fromArray(t, i) {
      this.resolvedProperty.fromArray(t, i);
    }
    _setValue_fromArray_setNeedsUpdate(t, i) {
      this.resolvedProperty.fromArray(t, i), this.targetObject.needsUpdate = !0;
    }
    _setValue_fromArray_setMatrixWorldNeedsUpdate(t, i) {
      this.resolvedProperty.fromArray(t, i), this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    _getValue_unbound(t, i) {
      this.bind(), this.getValue(t, i);
    }
    _setValue_unbound(t, i) {
      this.bind(), this.setValue(t, i);
    }
    // create getter / setter pair for a property in the scene graph
    bind() {
      let t = this.node;
      const i = this.parsedPath, s = i.objectName, c = i.propertyName;
      let u = i.propertyIndex;
      if (t || (t = Bn.findNode(this.rootNode, i.nodeName), this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !t) {
        console.warn("THREE.PropertyBinding: No target node found for track: " + this.path + ".");
        return;
      }
      if (s) {
        let _ = i.objectIndex;
        switch (s) {
          case "materials":
            if (!t.material) {
              console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
              return;
            }
            if (!t.material.materials) {
              console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
              return;
            }
            t = t.material.materials;
            break;
          case "bones":
            if (!t.skeleton) {
              console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
              return;
            }
            t = t.skeleton.bones;
            for (let N = 0; N < t.length; N++)
              if (t[N].name === _) {
                _ = N;
                break;
              }
            break;
          case "map":
            if ("map" in t) {
              t = t.map;
              break;
            }
            if (!t.material) {
              console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
              return;
            }
            if (!t.material.map) {
              console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.", this);
              return;
            }
            t = t.material.map;
            break;
          default:
            if (t[s] === void 0) {
              console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
              return;
            }
            t = t[s];
        }
        if (_ !== void 0) {
          if (t[_] === void 0) {
            console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, t);
            return;
          }
          t = t[_];
        }
      }
      const f = t[c];
      if (f === void 0) {
        const _ = i.nodeName;
        console.error("THREE.PropertyBinding: Trying to update property for track: " + _ + "." + c + " but it wasn't found.", t);
        return;
      }
      let b = this.Versioning.None;
      this.targetObject = t, t.needsUpdate !== void 0 ? b = this.Versioning.NeedsUpdate : t.matrixWorldNeedsUpdate !== void 0 && (b = this.Versioning.MatrixWorldNeedsUpdate);
      let C = this.BindingType.Direct;
      if (u !== void 0) {
        if (c === "morphTargetInfluences") {
          if (!t.geometry) {
            console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
            return;
          }
          if (!t.geometry.morphAttributes) {
            console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
            return;
          }
          t.morphTargetDictionary[u] !== void 0 && (u = t.morphTargetDictionary[u]);
        }
        C = this.BindingType.ArrayElement, this.resolvedProperty = f, this.propertyIndex = u;
      } else
        f.fromArray !== void 0 && f.toArray !== void 0 ? (C = this.BindingType.HasFromToArray, this.resolvedProperty = f) : Array.isArray(f) ? (C = this.BindingType.EntireArray, this.resolvedProperty = f) : this.propertyName = c;
      this.getValue = this.GetterByBindingType[C], this.setValue = this.SetterByBindingTypeAndVersioning[C][b];
    }
    unbind() {
      this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
    }
  }
  Bn.Composite = G6, Bn.prototype.BindingType = {
    Direct: 0,
    EntireArray: 1,
    ArrayElement: 2,
    HasFromToArray: 3
  }, Bn.prototype.Versioning = {
    None: 0,
    NeedsUpdate: 1,
    MatrixWorldNeedsUpdate: 2
  }, Bn.prototype.GetterByBindingType = [
    Bn.prototype._getValue_direct,
    Bn.prototype._getValue_array,
    Bn.prototype._getValue_arrayElement,
    Bn.prototype._getValue_toArray
  ], Bn.prototype.SetterByBindingTypeAndVersioning = [
    [
      // Direct
      Bn.prototype._setValue_direct,
      Bn.prototype._setValue_direct_setNeedsUpdate,
      Bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate
    ],
    [
      // EntireArray
      Bn.prototype._setValue_array,
      Bn.prototype._setValue_array_setNeedsUpdate,
      Bn.prototype._setValue_array_setMatrixWorldNeedsUpdate
    ],
    [
      // ArrayElement
      Bn.prototype._setValue_arrayElement,
      Bn.prototype._setValue_arrayElement_setNeedsUpdate,
      Bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate
    ],
    [
      // HasToFromArray
      Bn.prototype._setValue_fromArray,
      Bn.prototype._setValue_fromArray_setNeedsUpdate,
      Bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate
    ]
  ];
  class W6 {
    constructor() {
      this.isAnimationObjectGroup = !0, this.uuid = ui(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0;
      const t = {};
      this._indicesByUUID = t;
      for (let s = 0, c = arguments.length; s !== c; ++s)
        t[arguments[s].uuid] = s;
      this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {};
      const i = this;
      this.stats = {
        objects: {
          get total() {
            return i._objects.length;
          },
          get inUse() {
            return this.total - i.nCachedObjects_;
          }
        },
        get bindingsPerObject() {
          return i._bindings.length;
        }
      };
    }
    add() {
      const t = this._objects, i = this._indicesByUUID, s = this._paths, c = this._parsedPaths, u = this._bindings, f = u.length;
      let b, C = t.length, _ = this.nCachedObjects_;
      for (let N = 0, I = arguments.length; N !== I; ++N) {
        const A = arguments[N], E = A.uuid;
        let R = i[E];
        if (R === void 0) {
          R = C++, i[E] = R, t.push(A);
          for (let j = 0, O = f; j !== O; ++j)
            u[j].push(new Bn(A, s[j], c[j]));
        } else if (R < _) {
          b = t[R];
          const j = --_, O = t[j];
          i[O.uuid] = R, t[R] = O, i[E] = j, t[j] = A;
          for (let P = 0, U = f; P !== U; ++P) {
            const k = u[P], V = k[j];
            let me = k[R];
            k[R] = V, me === void 0 && (me = new Bn(A, s[P], c[P])), k[j] = me;
          }
        } else
          t[R] !== b && console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.");
      }
      this.nCachedObjects_ = _;
    }
    remove() {
      const t = this._objects, i = this._indicesByUUID, s = this._bindings, c = s.length;
      let u = this.nCachedObjects_;
      for (let f = 0, b = arguments.length; f !== b; ++f) {
        const C = arguments[f], _ = C.uuid, N = i[_];
        if (N !== void 0 && N >= u) {
          const I = u++, A = t[I];
          i[A.uuid] = N, t[N] = A, i[_] = I, t[I] = C;
          for (let E = 0, R = c; E !== R; ++E) {
            const j = s[E], O = j[I], P = j[N];
            j[N] = O, j[I] = P;
          }
        }
      }
      this.nCachedObjects_ = u;
    }
    // remove & forget
    uncache() {
      const t = this._objects, i = this._indicesByUUID, s = this._bindings, c = s.length;
      let u = this.nCachedObjects_, f = t.length;
      for (let b = 0, C = arguments.length; b !== C; ++b) {
        const _ = arguments[b], N = _.uuid, I = i[N];
        if (I !== void 0)
          if (delete i[N], I < u) {
            const A = --u, E = t[A], R = --f, j = t[R];
            i[E.uuid] = I, t[I] = E, i[j.uuid] = A, t[A] = j, t.pop();
            for (let O = 0, P = c; O !== P; ++O) {
              const U = s[O], k = U[A], V = U[R];
              U[I] = k, U[A] = V, U.pop();
            }
          } else {
            const A = --f, E = t[A];
            A > 0 && (i[E.uuid] = I), t[I] = E, t.pop();
            for (let R = 0, j = c; R !== j; ++R) {
              const O = s[R];
              O[I] = O[A], O.pop();
            }
          }
      }
      this.nCachedObjects_ = u;
    }
    // Internal interface used by befriended PropertyBinding.Composite:
    subscribe_(t, i) {
      const s = this._bindingsIndicesByPath;
      let c = s[t];
      const u = this._bindings;
      if (c !== void 0)
        return u[c];
      const f = this._paths, b = this._parsedPaths, C = this._objects, _ = C.length, N = this.nCachedObjects_, I = new Array(_);
      c = u.length, s[t] = c, f.push(t), b.push(i), u.push(I);
      for (let A = N, E = C.length; A !== E; ++A) {
        const R = C[A];
        I[A] = new Bn(R, t, i);
      }
      return I;
    }
    unsubscribe_(t) {
      const i = this._bindingsIndicesByPath, s = i[t];
      if (s !== void 0) {
        const c = this._paths, u = this._parsedPaths, f = this._bindings, b = f.length - 1, C = f[b], _ = t[b];
        i[_] = s, f[s] = C, f.pop(), u[s] = u[b], u.pop(), c[s] = c[b], c.pop();
      }
    }
  }
  class kw {
    constructor(t, i, s = null, c = i.blendMode) {
      this._mixer = t, this._clip = i, this._localRoot = s, this.blendMode = c;
      const u = i.tracks, f = u.length, b = new Array(f), C = {
        endingStart: Sa,
        endingEnd: Sa
      };
      for (let _ = 0; _ !== f; ++_) {
        const N = u[_].createInterpolant(null);
        b[_] = N, N.settings = C;
      }
      this._interpolantSettings = C, this._interpolants = b, this._propertyBindings = new Array(f), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = Up, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0;
    }
    // State & Scheduling
    play() {
      return this._mixer._activateAction(this), this;
    }
    stop() {
      return this._mixer._deactivateAction(this), this.reset();
    }
    reset() {
      return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping();
    }
    isRunning() {
      return this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);
    }
    // return true when play has been called
    isScheduled() {
      return this._mixer._isActiveAction(this);
    }
    startAt(t) {
      return this._startTime = t, this;
    }
    setLoop(t, i) {
      return this.loop = t, this.repetitions = i, this;
    }
    // Weight
    // set the weight stopping any scheduled fading
    // although .enabled = false yields an effective weight of zero, this
    // method does *not* change .enabled, because it would be confusing
    setEffectiveWeight(t) {
      return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading();
    }
    // return the weight considering fading and .enabled
    getEffectiveWeight() {
      return this._effectiveWeight;
    }
    fadeIn(t) {
      return this._scheduleFading(t, 0, 1);
    }
    fadeOut(t) {
      return this._scheduleFading(t, 1, 0);
    }
    crossFadeFrom(t, i, s) {
      if (t.fadeOut(i), this.fadeIn(i), s) {
        const c = this._clip.duration, u = t._clip.duration, f = u / c, b = c / u;
        t.warp(1, f, i), this.warp(b, 1, i);
      }
      return this;
    }
    crossFadeTo(t, i, s) {
      return t.crossFadeFrom(this, i, s);
    }
    stopFading() {
      const t = this._weightInterpolant;
      return t !== null && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this;
    }
    // Time Scale Control
    // set the time scale stopping any scheduled warping
    // although .paused = true yields an effective time scale of zero, this
    // method does *not* change .paused, because it would be confusing
    setEffectiveTimeScale(t) {
      return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping();
    }
    // return the time scale considering warping and .paused
    getEffectiveTimeScale() {
      return this._effectiveTimeScale;
    }
    setDuration(t) {
      return this.timeScale = this._clip.duration / t, this.stopWarping();
    }
    syncWith(t) {
      return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping();
    }
    halt(t) {
      return this.warp(this._effectiveTimeScale, 0, t);
    }
    warp(t, i, s) {
      const c = this._mixer, u = c.time, f = this.timeScale;
      let b = this._timeScaleInterpolant;
      b === null && (b = c._lendControlInterpolant(), this._timeScaleInterpolant = b);
      const C = b.parameterPositions, _ = b.sampleValues;
      return C[0] = u, C[1] = u + s, _[0] = t / f, _[1] = i / f, this;
    }
    stopWarping() {
      const t = this._timeScaleInterpolant;
      return t !== null && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this;
    }
    // Object Accessors
    getMixer() {
      return this._mixer;
    }
    getClip() {
      return this._clip;
    }
    getRoot() {
      return this._localRoot || this._mixer._root;
    }
    // Interna
    _update(t, i, s, c) {
      if (!this.enabled) {
        this._updateWeight(t);
        return;
      }
      const u = this._startTime;
      if (u !== null) {
        const C = (t - u) * s;
        C < 0 || s === 0 ? i = 0 : (this._startTime = null, i = s * C);
      }
      i *= this._updateTimeScale(t);
      const f = this._updateTime(i), b = this._updateWeight(t);
      if (b > 0) {
        const C = this._interpolants, _ = this._propertyBindings;
        switch (this.blendMode) {
          case Ts:
            for (let N = 0, I = C.length; N !== I; ++N)
              C[N].evaluate(f), _[N].accumulateAdditive(b);
            break;
          case mh:
          default:
            for (let N = 0, I = C.length; N !== I; ++N)
              C[N].evaluate(f), _[N].accumulate(c, b);
        }
      }
    }
    _updateWeight(t) {
      let i = 0;
      if (this.enabled) {
        i = this.weight;
        const s = this._weightInterpolant;
        if (s !== null) {
          const c = s.evaluate(t)[0];
          i *= c, t > s.parameterPositions[1] && (this.stopFading(), c === 0 && (this.enabled = !1));
        }
      }
      return this._effectiveWeight = i, i;
    }
    _updateTimeScale(t) {
      let i = 0;
      if (!this.paused) {
        i = this.timeScale;
        const s = this._timeScaleInterpolant;
        if (s !== null) {
          const c = s.evaluate(t)[0];
          i *= c, t > s.parameterPositions[1] && (this.stopWarping(), i === 0 ? this.paused = !0 : this.timeScale = i);
        }
      }
      return this._effectiveTimeScale = i, i;
    }
    _updateTime(t) {
      const i = this._clip.duration, s = this.loop;
      let c = this.time + t, u = this._loopCount;
      const f = s === Gp;
      if (t === 0)
        return u === -1 ? c : f && (u & 1) === 1 ? i - c : c;
      if (s === zp) {
        u === -1 && (this._loopCount = 0, this._setEndings(!0, !0, !1));
        n: {
          if (c >= i)
            c = i;
          else if (c < 0)
            c = 0;
          else {
            this.time = c;
            break n;
          }
          this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, this.time = c, this._mixer.dispatchEvent({
            type: "finished",
            action: this,
            direction: t < 0 ? -1 : 1
          });
        }
      } else {
        if (u === -1 && (t >= 0 ? (u = 0, this._setEndings(!0, this.repetitions === 0, f)) : this._setEndings(this.repetitions === 0, !0, f)), c >= i || c < 0) {
          const b = Math.floor(c / i);
          c -= i * b, u += Math.abs(b);
          const C = this.repetitions - u;
          if (C <= 0)
            this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, c = t > 0 ? i : 0, this.time = c, this._mixer.dispatchEvent({
              type: "finished",
              action: this,
              direction: t > 0 ? 1 : -1
            });
          else {
            if (C === 1) {
              const _ = t < 0;
              this._setEndings(_, !_, f);
            } else
              this._setEndings(!1, !1, f);
            this._loopCount = u, this.time = c, this._mixer.dispatchEvent({
              type: "loop",
              action: this,
              loopDelta: b
            });
          }
        } else
          this.time = c;
        if (f && (u & 1) === 1)
          return i - c;
      }
      return c;
    }
    _setEndings(t, i, s) {
      const c = this._interpolantSettings;
      s ? (c.endingStart = Yo, c.endingEnd = Yo) : (t ? c.endingStart = this.zeroSlopeAtStart ? Yo : Sa : c.endingStart = ws, i ? c.endingEnd = this.zeroSlopeAtEnd ? Yo : Sa : c.endingEnd = ws);
    }
    _scheduleFading(t, i, s) {
      const c = this._mixer, u = c.time;
      let f = this._weightInterpolant;
      f === null && (f = c._lendControlInterpolant(), this._weightInterpolant = f);
      const b = f.parameterPositions, C = f.sampleValues;
      return b[0] = u, C[0] = i, b[1] = u + t, C[1] = s, this;
    }
  }
  const V6 = new Float32Array(1);
  class H6 extends qi {
    constructor(t) {
      super(), this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1;
    }
    _bindAction(t, i) {
      const s = t._localRoot || this._root, c = t._clip.tracks, u = c.length, f = t._propertyBindings, b = t._interpolants, C = s.uuid, _ = this._bindingsByRootAndName;
      let N = _[C];
      N === void 0 && (N = {}, _[C] = N);
      for (let I = 0; I !== u; ++I) {
        const A = c[I], E = A.name;
        let R = N[E];
        if (R !== void 0)
          ++R.referenceCount, f[I] = R;
        else {
          if (R = f[I], R !== void 0) {
            R._cacheIndex === null && (++R.referenceCount, this._addInactiveBinding(R, C, E));
            continue;
          }
          const j = i && i._propertyBindings[I].binding.parsedPath;
          R = new Fw(
            Bn.create(s, E, j),
            A.ValueTypeName,
            A.getValueSize()
          ), ++R.referenceCount, this._addInactiveBinding(R, C, E), f[I] = R;
        }
        b[I].resultBuffer = R.buffer;
      }
    }
    _activateAction(t) {
      if (!this._isActiveAction(t)) {
        if (t._cacheIndex === null) {
          const s = (t._localRoot || this._root).uuid, c = t._clip.uuid, u = this._actionsByClip[c];
          this._bindAction(
            t,
            u && u.knownActions[0]
          ), this._addInactiveAction(t, c, s);
        }
        const i = t._propertyBindings;
        for (let s = 0, c = i.length; s !== c; ++s) {
          const u = i[s];
          u.useCount++ === 0 && (this._lendBinding(u), u.saveOriginalState());
        }
        this._lendAction(t);
      }
    }
    _deactivateAction(t) {
      if (this._isActiveAction(t)) {
        const i = t._propertyBindings;
        for (let s = 0, c = i.length; s !== c; ++s) {
          const u = i[s];
          --u.useCount === 0 && (u.restoreOriginalState(), this._takeBackBinding(u));
        }
        this._takeBackAction(t);
      }
    }
    // Memory manager
    _initMemoryManager() {
      this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0;
      const t = this;
      this.stats = {
        actions: {
          get total() {
            return t._actions.length;
          },
          get inUse() {
            return t._nActiveActions;
          }
        },
        bindings: {
          get total() {
            return t._bindings.length;
          },
          get inUse() {
            return t._nActiveBindings;
          }
        },
        controlInterpolants: {
          get total() {
            return t._controlInterpolants.length;
          },
          get inUse() {
            return t._nActiveControlInterpolants;
          }
        }
      };
    }
    // Memory management for AnimationAction objects
    _isActiveAction(t) {
      const i = t._cacheIndex;
      return i !== null && i < this._nActiveActions;
    }
    _addInactiveAction(t, i, s) {
      const c = this._actions, u = this._actionsByClip;
      let f = u[i];
      if (f === void 0)
        f = {
          knownActions: [t],
          actionByRoot: {}
        }, t._byClipCacheIndex = 0, u[i] = f;
      else {
        const b = f.knownActions;
        t._byClipCacheIndex = b.length, b.push(t);
      }
      t._cacheIndex = c.length, c.push(t), f.actionByRoot[s] = t;
    }
    _removeInactiveAction(t) {
      const i = this._actions, s = i[i.length - 1], c = t._cacheIndex;
      s._cacheIndex = c, i[c] = s, i.pop(), t._cacheIndex = null;
      const u = t._clip.uuid, f = this._actionsByClip, b = f[u], C = b.knownActions, _ = C[C.length - 1], N = t._byClipCacheIndex;
      _._byClipCacheIndex = N, C[N] = _, C.pop(), t._byClipCacheIndex = null;
      const I = b.actionByRoot, A = (t._localRoot || this._root).uuid;
      delete I[A], C.length === 0 && delete f[u], this._removeInactiveBindingsForAction(t);
    }
    _removeInactiveBindingsForAction(t) {
      const i = t._propertyBindings;
      for (let s = 0, c = i.length; s !== c; ++s) {
        const u = i[s];
        --u.referenceCount === 0 && this._removeInactiveBinding(u);
      }
    }
    _lendAction(t) {
      const i = this._actions, s = t._cacheIndex, c = this._nActiveActions++, u = i[c];
      t._cacheIndex = c, i[c] = t, u._cacheIndex = s, i[s] = u;
    }
    _takeBackAction(t) {
      const i = this._actions, s = t._cacheIndex, c = --this._nActiveActions, u = i[c];
      t._cacheIndex = c, i[c] = t, u._cacheIndex = s, i[s] = u;
    }
    // Memory management for PropertyMixer objects
    _addInactiveBinding(t, i, s) {
      const c = this._bindingsByRootAndName, u = this._bindings;
      let f = c[i];
      f === void 0 && (f = {}, c[i] = f), f[s] = t, t._cacheIndex = u.length, u.push(t);
    }
    _removeInactiveBinding(t) {
      const i = this._bindings, s = t.binding, c = s.rootNode.uuid, u = s.path, f = this._bindingsByRootAndName, b = f[c], C = i[i.length - 1], _ = t._cacheIndex;
      C._cacheIndex = _, i[_] = C, i.pop(), delete b[u], Object.keys(b).length === 0 && delete f[c];
    }
    _lendBinding(t) {
      const i = this._bindings, s = t._cacheIndex, c = this._nActiveBindings++, u = i[c];
      t._cacheIndex = c, i[c] = t, u._cacheIndex = s, i[s] = u;
    }
    _takeBackBinding(t) {
      const i = this._bindings, s = t._cacheIndex, c = --this._nActiveBindings, u = i[c];
      t._cacheIndex = c, i[c] = t, u._cacheIndex = s, i[s] = u;
    }
    // Memory management of Interpolants for weight and time scale
    _lendControlInterpolant() {
      const t = this._controlInterpolants, i = this._nActiveControlInterpolants++;
      let s = t[i];
      return s === void 0 && (s = new gv(
        new Float32Array(2),
        new Float32Array(2),
        1,
        V6
      ), s.__cacheIndex = i, t[i] = s), s;
    }
    _takeBackControlInterpolant(t) {
      const i = this._controlInterpolants, s = t.__cacheIndex, c = --this._nActiveControlInterpolants, u = i[c];
      t.__cacheIndex = c, i[c] = t, u.__cacheIndex = s, i[s] = u;
    }
    // return an action for a clip optionally using a custom root target
    // object (this method allocates a lot of dynamic memory in case a
    // previously unknown clip/root combination is specified)
    clipAction(t, i, s) {
      const c = i || this._root, u = c.uuid;
      let f = typeof t == "string" ? Mm.findByName(c, t) : t;
      const b = f !== null ? f.uuid : t, C = this._actionsByClip[b];
      let _ = null;
      if (s === void 0 && (f !== null ? s = f.blendMode : s = mh), C !== void 0) {
        const I = C.actionByRoot[u];
        if (I !== void 0 && I.blendMode === s)
          return I;
        _ = C.knownActions[0], f === null && (f = _._clip);
      }
      if (f === null)
        return null;
      const N = new kw(this, f, i, s);
      return this._bindAction(N, _), this._addInactiveAction(N, b, u), N;
    }
    // get an existing action
    existingAction(t, i) {
      const s = i || this._root, c = s.uuid, u = typeof t == "string" ? Mm.findByName(s, t) : t, f = u ? u.uuid : t, b = this._actionsByClip[f];
      return b !== void 0 && b.actionByRoot[c] || null;
    }
    // deactivates all previously scheduled actions
    stopAllAction() {
      const t = this._actions, i = this._nActiveActions;
      for (let s = i - 1; s >= 0; --s)
        t[s].stop();
      return this;
    }
    // advance the time and update apply the animation
    update(t) {
      t *= this.timeScale;
      const i = this._actions, s = this._nActiveActions, c = this.time += t, u = Math.sign(t), f = this._accuIndex ^= 1;
      for (let _ = 0; _ !== s; ++_)
        i[_]._update(c, t, u, f);
      const b = this._bindings, C = this._nActiveBindings;
      for (let _ = 0; _ !== C; ++_)
        b[_].apply(f);
      return this;
    }
    // Allows you to seek to a specific time in an animation.
    setTime(t) {
      this.time = 0;
      for (let i = 0; i < this._actions.length; i++)
        this._actions[i].time = 0;
      return this.update(t);
    }
    // return this mixer's root target object
    getRoot() {
      return this._root;
    }
    // free all resources specific to a particular clip
    uncacheClip(t) {
      const i = this._actions, s = t.uuid, c = this._actionsByClip, u = c[s];
      if (u !== void 0) {
        const f = u.knownActions;
        for (let b = 0, C = f.length; b !== C; ++b) {
          const _ = f[b];
          this._deactivateAction(_);
          const N = _._cacheIndex, I = i[i.length - 1];
          _._cacheIndex = null, _._byClipCacheIndex = null, I._cacheIndex = N, i[N] = I, i.pop(), this._removeInactiveBindingsForAction(_);
        }
        delete c[s];
      }
    }
    // free all resources specific to a particular root target object
    uncacheRoot(t) {
      const i = t.uuid, s = this._actionsByClip;
      for (const f in s) {
        const b = s[f].actionByRoot, C = b[i];
        C !== void 0 && (this._deactivateAction(C), this._removeInactiveAction(C));
      }
      const c = this._bindingsByRootAndName, u = c[i];
      if (u !== void 0)
        for (const f in u) {
          const b = u[f];
          b.restoreOriginalState(), this._removeInactiveBinding(b);
        }
    }
    // remove a targeted clip from the cache
    uncacheAction(t, i) {
      const s = this.existingAction(t, i);
      s !== null && (this._deactivateAction(s), this._removeInactiveAction(s));
    }
  }
  class Mv {
    constructor(t) {
      this.value = t;
    }
    clone() {
      return new Mv(this.value.clone === void 0 ? this.value : this.value.clone());
    }
  }
  let $6 = 0;
  class q6 extends qi {
    constructor() {
      super(), this.isUniformsGroup = !0, Object.defineProperty(this, "id", { value: $6++ }), this.name = "", this.usage = Ul, this.uniforms = [];
    }
    add(t) {
      return this.uniforms.push(t), this;
    }
    remove(t) {
      const i = this.uniforms.indexOf(t);
      return i !== -1 && this.uniforms.splice(i, 1), this;
    }
    setName(t) {
      return this.name = t, this;
    }
    setUsage(t) {
      return this.usage = t, this;
    }
    dispose() {
      return this.dispatchEvent({ type: "dispose" }), this;
    }
    copy(t) {
      this.name = t.name, this.usage = t.usage;
      const i = t.uniforms;
      this.uniforms.length = 0;
      for (let s = 0, c = i.length; s < c; s++) {
        const u = Array.isArray(i[s]) ? i[s] : [i[s]];
        for (let f = 0; f < u.length; f++)
          this.uniforms.push(u[f].clone());
      }
      return this;
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  class Y6 extends Lf {
    constructor(t, i, s = 1) {
      super(t, i), this.isInstancedInterleavedBuffer = !0, this.meshPerAttribute = s;
    }
    copy(t) {
      return super.copy(t), this.meshPerAttribute = t.meshPerAttribute, this;
    }
    clone(t) {
      const i = super.clone(t);
      return i.meshPerAttribute = this.meshPerAttribute, i;
    }
    toJSON(t) {
      const i = super.toJSON(t);
      return i.isInstancedInterleavedBuffer = !0, i.meshPerAttribute = this.meshPerAttribute, i;
    }
  }
  class K6 {
    constructor(t, i, s, c, u) {
      this.isGLBufferAttribute = !0, this.name = "", this.buffer = t, this.type = i, this.itemSize = s, this.elementSize = c, this.count = u, this.version = 0;
    }
    set needsUpdate(t) {
      t === !0 && this.version++;
    }
    setBuffer(t) {
      return this.buffer = t, this;
    }
    setType(t, i) {
      return this.type = t, this.elementSize = i, this;
    }
    setItemSize(t) {
      return this.itemSize = t, this;
    }
    setCount(t) {
      return this.count = t, this;
    }
  }
  const Xw = /* @__PURE__ */ new Wt();
  class Z6 {
    constructor(t, i, s = 0, c = 1 / 0) {
      this.ray = new yo(t, i), this.near = s, this.far = c, this.camera = null, this.layers = new Bs(), this.params = {
        Mesh: {},
        Line: { threshold: 1 },
        LOD: {},
        Points: { threshold: 1 },
        Sprite: {}
      };
    }
    set(t, i) {
      this.ray.set(t, i);
    }
    setFromCamera(t, i) {
      i.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(i.matrixWorld), this.ray.direction.set(t.x, t.y, 0.5).unproject(i).sub(this.ray.origin).normalize(), this.camera = i) : i.isOrthographicCamera ? (this.ray.origin.set(t.x, t.y, (i.near + i.far) / (i.near - i.far)).unproject(i), this.ray.direction.set(0, 0, -1).transformDirection(i.matrixWorld), this.camera = i) : console.error("THREE.Raycaster: Unsupported camera type: " + i.type);
    }
    setFromXRController(t) {
      return Xw.identity().extractRotation(t.matrixWorld), this.ray.origin.setFromMatrixPosition(t.matrixWorld), this.ray.direction.set(0, 0, -1).applyMatrix4(Xw), this;
    }
    intersectObject(t, i = !0, s = []) {
      return Sv(t, this, s, i), s.sort(zw), s;
    }
    intersectObjects(t, i = !0, s = []) {
      for (let c = 0, u = t.length; c < u; c++)
        Sv(t[c], this, s, i);
      return s.sort(zw), s;
    }
  }
  function zw(m, t) {
    return m.distance - t.distance;
  }
  function Sv(m, t, i, s) {
    if (m.layers.test(t.layers) && m.raycast(t, i), s === !0) {
      const c = m.children;
      for (let u = 0, f = c.length; u < f; u++)
        Sv(c[u], t, i, !0);
    }
  }
  class J6 {
    constructor(t = 1, i = 0, s = 0) {
      return this.radius = t, this.phi = i, this.theta = s, this;
    }
    set(t, i, s) {
      return this.radius = t, this.phi = i, this.theta = s, this;
    }
    copy(t) {
      return this.radius = t.radius, this.phi = t.phi, this.theta = t.theta, this;
    }
    // restrict phi to be between EPS and PI-EPS
    makeSafe() {
      return this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi)), this;
    }
    setFromVector3(t) {
      return this.setFromCartesianCoords(t.x, t.y, t.z);
    }
    setFromCartesianCoords(t, i, s) {
      return this.radius = Math.sqrt(t * t + i * i + s * s), this.radius === 0 ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t, s), this.phi = Math.acos(Yn(i / this.radius, -1, 1))), this;
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  class Q6 {
    constructor(t = 1, i = 0, s = 0) {
      return this.radius = t, this.theta = i, this.y = s, this;
    }
    set(t, i, s) {
      return this.radius = t, this.theta = i, this.y = s, this;
    }
    copy(t) {
      return this.radius = t.radius, this.theta = t.theta, this.y = t.y, this;
    }
    setFromVector3(t) {
      return this.setFromCartesianCoords(t.x, t.y, t.z);
    }
    setFromCartesianCoords(t, i, s) {
      return this.radius = Math.sqrt(t * t + s * s), this.theta = Math.atan2(t, s), this.y = i, this;
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  const Uw = /* @__PURE__ */ new $e();
  class e8 {
    constructor(t = new $e(1 / 0, 1 / 0), i = new $e(-1 / 0, -1 / 0)) {
      this.isBox2 = !0, this.min = t, this.max = i;
    }
    set(t, i) {
      return this.min.copy(t), this.max.copy(i), this;
    }
    setFromPoints(t) {
      this.makeEmpty();
      for (let i = 0, s = t.length; i < s; i++)
        this.expandByPoint(t[i]);
      return this;
    }
    setFromCenterAndSize(t, i) {
      const s = Uw.copy(i).multiplyScalar(0.5);
      return this.min.copy(t).sub(s), this.max.copy(t).add(s), this;
    }
    clone() {
      return new this.constructor().copy(this);
    }
    copy(t) {
      return this.min.copy(t.min), this.max.copy(t.max), this;
    }
    makeEmpty() {
      return this.min.x = this.min.y = 1 / 0, this.max.x = this.max.y = -1 / 0, this;
    }
    isEmpty() {
      return this.max.x < this.min.x || this.max.y < this.min.y;
    }
    getCenter(t) {
      return this.isEmpty() ? t.set(0, 0) : t.addVectors(this.min, this.max).multiplyScalar(0.5);
    }
    getSize(t) {
      return this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min);
    }
    expandByPoint(t) {
      return this.min.min(t), this.max.max(t), this;
    }
    expandByVector(t) {
      return this.min.sub(t), this.max.add(t), this;
    }
    expandByScalar(t) {
      return this.min.addScalar(-t), this.max.addScalar(t), this;
    }
    containsPoint(t) {
      return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y);
    }
    containsBox(t) {
      return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y;
    }
    getParameter(t, i) {
      return i.set(
        (t.x - this.min.x) / (this.max.x - this.min.x),
        (t.y - this.min.y) / (this.max.y - this.min.y)
      );
    }
    intersectsBox(t) {
      return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y);
    }
    clampPoint(t, i) {
      return i.copy(t).clamp(this.min, this.max);
    }
    distanceToPoint(t) {
      return this.clampPoint(t, Uw).distanceTo(t);
    }
    intersect(t) {
      return this.min.max(t.min), this.max.min(t.max), this.isEmpty() && this.makeEmpty(), this;
    }
    union(t) {
      return this.min.min(t.min), this.max.max(t.max), this;
    }
    translate(t) {
      return this.min.add(t), this.max.add(t), this;
    }
    equals(t) {
      return t.min.equals(this.min) && t.max.equals(this.max);
    }
  }
  const Gw = /* @__PURE__ */ new ie(), C1 = /* @__PURE__ */ new ie();
  class t8 {
    constructor(t = new ie(), i = new ie()) {
      this.start = t, this.end = i;
    }
    set(t, i) {
      return this.start.copy(t), this.end.copy(i), this;
    }
    copy(t) {
      return this.start.copy(t.start), this.end.copy(t.end), this;
    }
    getCenter(t) {
      return t.addVectors(this.start, this.end).multiplyScalar(0.5);
    }
    delta(t) {
      return t.subVectors(this.end, this.start);
    }
    distanceSq() {
      return this.start.distanceToSquared(this.end);
    }
    distance() {
      return this.start.distanceTo(this.end);
    }
    at(t, i) {
      return this.delta(i).multiplyScalar(t).add(this.start);
    }
    closestPointToPointParameter(t, i) {
      Gw.subVectors(t, this.start), C1.subVectors(this.end, this.start);
      const s = C1.dot(C1);
      let u = C1.dot(Gw) / s;
      return i && (u = Yn(u, 0, 1)), u;
    }
    closestPointToPoint(t, i, s) {
      const c = this.closestPointToPointParameter(t, i);
      return this.delta(s).multiplyScalar(c).add(this.start);
    }
    applyMatrix4(t) {
      return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this;
    }
    equals(t) {
      return t.start.equals(this.start) && t.end.equals(this.end);
    }
    clone() {
      return new this.constructor().copy(this);
    }
  }
  const Ww = /* @__PURE__ */ new ie();
  class n8 extends An {
    constructor(t, i) {
      super(), this.light = t, this.matrixAutoUpdate = !1, this.color = i, this.type = "SpotLightHelper";
      const s = new tn(), c = [
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1,
        0,
        1,
        0,
        0,
        0,
        -1,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        1,
        0,
        0,
        0,
        0,
        -1,
        1
      ];
      for (let f = 0, b = 1, C = 32; f < C; f++, b++) {
        const _ = f / C * Math.PI * 2, N = b / C * Math.PI * 2;
        c.push(
          Math.cos(_),
          Math.sin(_),
          1,
          Math.cos(N),
          Math.sin(N),
          1
        );
      }
      s.setAttribute("position", new Rt(c, 3));
      const u = new gi({ fog: !1, toneMapped: !1 });
      this.cone = new ra(s, u), this.add(this.cone), this.update();
    }
    dispose() {
      this.cone.geometry.dispose(), this.cone.material.dispose();
    }
    update() {
      this.light.updateWorldMatrix(!0, !1), this.light.target.updateWorldMatrix(!0, !1), this.parent ? (this.parent.updateWorldMatrix(!0), this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)) : this.matrix.copy(this.light.matrixWorld), this.matrixWorld.copy(this.light.matrixWorld);
      const t = this.light.distance ? this.light.distance : 1e3, i = t * Math.tan(this.light.angle);
      this.cone.scale.set(i, i, t), Ww.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(Ww), this.color !== void 0 ? this.cone.material.color.set(this.color) : this.cone.material.color.copy(this.light.color);
    }
  }
  const el = /* @__PURE__ */ new ie(), _1 = /* @__PURE__ */ new Wt(), Iv = /* @__PURE__ */ new Wt();
  class r8 extends ra {
    constructor(t) {
      const i = Vw(t), s = new tn(), c = [], u = [], f = new Tt(0, 0, 1), b = new Tt(0, 1, 0);
      for (let _ = 0; _ < i.length; _++) {
        const N = i[_];
        N.parent && N.parent.isBone && (c.push(0, 0, 0), c.push(0, 0, 0), u.push(f.r, f.g, f.b), u.push(b.r, b.g, b.b));
      }
      s.setAttribute("position", new Rt(c, 3)), s.setAttribute("color", new Rt(u, 3));
      const C = new gi({ vertexColors: !0, depthTest: !1, depthWrite: !1, toneMapped: !1, transparent: !0 });
      super(s, C), this.isSkeletonHelper = !0, this.type = "SkeletonHelper", this.root = t, this.bones = i, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1;
    }
    updateMatrixWorld(t) {
      const i = this.bones, s = this.geometry, c = s.getAttribute("position");
      Iv.copy(this.root.matrixWorld).invert();
      for (let u = 0, f = 0; u < i.length; u++) {
        const b = i[u];
        b.parent && b.parent.isBone && (_1.multiplyMatrices(Iv, b.matrixWorld), el.setFromMatrixPosition(_1), c.setXYZ(f, el.x, el.y, el.z), _1.multiplyMatrices(Iv, b.parent.matrixWorld), el.setFromMatrixPosition(_1), c.setXYZ(f + 1, el.x, el.y, el.z), f += 2);
      }
      s.getAttribute("position").needsUpdate = !0, super.updateMatrixWorld(t);
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  function Vw(m) {
    const t = [];
    m.isBone === !0 && t.push(m);
    for (let i = 0; i < m.children.length; i++)
      t.push.apply(t, Vw(m.children[i]));
    return t;
  }
  class i8 extends ur {
    constructor(t, i, s) {
      const c = new _m(i, 4, 2), u = new Ji({ wireframe: !0, fog: !1, toneMapped: !1 });
      super(c, u), this.light = t, this.color = s, this.type = "PointLightHelper", this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1, this.update();
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
    update() {
      this.light.updateWorldMatrix(!0, !1), this.color !== void 0 ? this.material.color.set(this.color) : this.material.color.copy(this.light.color);
    }
  }
  const o8 = /* @__PURE__ */ new ie(), Hw = /* @__PURE__ */ new Tt(), $w = /* @__PURE__ */ new Tt();
  class a8 extends An {
    constructor(t, i, s) {
      super(), this.light = t, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = s, this.type = "HemisphereLightHelper";
      const c = new Cm(i);
      c.rotateY(Math.PI * 0.5), this.material = new Ji({ wireframe: !0, fog: !1, toneMapped: !1 }), this.color === void 0 && (this.material.vertexColors = !0);
      const u = c.getAttribute("position"), f = new Float32Array(u.count * 3);
      c.setAttribute("color", new on(f, 3)), this.add(new ur(c, this.material)), this.update();
    }
    dispose() {
      this.children[0].geometry.dispose(), this.children[0].material.dispose();
    }
    update() {
      const t = this.children[0];
      if (this.color !== void 0)
        this.material.color.set(this.color);
      else {
        const i = t.geometry.getAttribute("color");
        Hw.copy(this.light.color), $w.copy(this.light.groundColor);
        for (let s = 0, c = i.count; s < c; s++) {
          const u = s < c / 2 ? Hw : $w;
          i.setXYZ(s, u.r, u.g, u.b);
        }
        i.needsUpdate = !0;
      }
      this.light.updateWorldMatrix(!0, !1), t.lookAt(o8.setFromMatrixPosition(this.light.matrixWorld).negate());
    }
  }
  class s8 extends ra {
    constructor(t = 10, i = 10, s = 4473924, c = 8947848) {
      s = new Tt(s), c = new Tt(c);
      const u = i / 2, f = t / i, b = t / 2, C = [], _ = [];
      for (let A = 0, E = 0, R = -b; A <= i; A++, R += f) {
        C.push(-b, 0, R, b, 0, R), C.push(R, 0, -b, R, 0, b);
        const j = A === u ? s : c;
        j.toArray(_, E), E += 3, j.toArray(_, E), E += 3, j.toArray(_, E), E += 3, j.toArray(_, E), E += 3;
      }
      const N = new tn();
      N.setAttribute("position", new Rt(C, 3)), N.setAttribute("color", new Rt(_, 3));
      const I = new gi({ vertexColors: !0, toneMapped: !1 });
      super(N, I), this.type = "GridHelper";
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  class l8 extends ra {
    constructor(t = 10, i = 16, s = 8, c = 64, u = 4473924, f = 8947848) {
      u = new Tt(u), f = new Tt(f);
      const b = [], C = [];
      if (i > 1)
        for (let I = 0; I < i; I++) {
          const A = I / i * (Math.PI * 2), E = Math.sin(A) * t, R = Math.cos(A) * t;
          b.push(0, 0, 0), b.push(E, 0, R);
          const j = I & 1 ? u : f;
          C.push(j.r, j.g, j.b), C.push(j.r, j.g, j.b);
        }
      for (let I = 0; I < s; I++) {
        const A = I & 1 ? u : f, E = t - t / s * I;
        for (let R = 0; R < c; R++) {
          let j = R / c * (Math.PI * 2), O = Math.sin(j) * E, P = Math.cos(j) * E;
          b.push(O, 0, P), C.push(A.r, A.g, A.b), j = (R + 1) / c * (Math.PI * 2), O = Math.sin(j) * E, P = Math.cos(j) * E, b.push(O, 0, P), C.push(A.r, A.g, A.b);
        }
      }
      const _ = new tn();
      _.setAttribute("position", new Rt(b, 3)), _.setAttribute("color", new Rt(C, 3));
      const N = new gi({ vertexColors: !0, toneMapped: !1 });
      super(_, N), this.type = "PolarGridHelper";
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  const qw = /* @__PURE__ */ new ie(), w1 = /* @__PURE__ */ new ie(), Yw = /* @__PURE__ */ new ie();
  class c8 extends An {
    constructor(t, i, s) {
      super(), this.light = t, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.color = s, this.type = "DirectionalLightHelper", i === void 0 && (i = 1);
      let c = new tn();
      c.setAttribute("position", new Rt([
        -i,
        i,
        0,
        i,
        i,
        0,
        i,
        -i,
        0,
        -i,
        -i,
        0,
        -i,
        i,
        0
      ], 3));
      const u = new gi({ fog: !1, toneMapped: !1 });
      this.lightPlane = new Zs(c, u), this.add(this.lightPlane), c = new tn(), c.setAttribute("position", new Rt([0, 0, 0, 0, 0, 1], 3)), this.targetLine = new Zs(c, u), this.add(this.targetLine), this.update();
    }
    dispose() {
      this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose();
    }
    update() {
      this.light.updateWorldMatrix(!0, !1), this.light.target.updateWorldMatrix(!0, !1), qw.setFromMatrixPosition(this.light.matrixWorld), w1.setFromMatrixPosition(this.light.target.matrixWorld), Yw.subVectors(w1, qw), this.lightPlane.lookAt(w1), this.color !== void 0 ? (this.lightPlane.material.color.set(this.color), this.targetLine.material.color.set(this.color)) : (this.lightPlane.material.color.copy(this.light.color), this.targetLine.material.color.copy(this.light.color)), this.targetLine.lookAt(w1), this.targetLine.scale.z = Yw.length();
    }
  }
  const T1 = /* @__PURE__ */ new ie(), gr = /* @__PURE__ */ new sc();
  class h8 extends ra {
    constructor(t) {
      const i = new tn(), s = new gi({ color: 16777215, vertexColors: !0, toneMapped: !1 }), c = [], u = [], f = {};
      b("n1", "n2"), b("n2", "n4"), b("n4", "n3"), b("n3", "n1"), b("f1", "f2"), b("f2", "f4"), b("f4", "f3"), b("f3", "f1"), b("n1", "f1"), b("n2", "f2"), b("n3", "f3"), b("n4", "f4"), b("p", "n1"), b("p", "n2"), b("p", "n3"), b("p", "n4"), b("u1", "u2"), b("u2", "u3"), b("u3", "u1"), b("c", "t"), b("p", "c"), b("cn1", "cn2"), b("cn3", "cn4"), b("cf1", "cf2"), b("cf3", "cf4");
      function b(R, j) {
        C(R), C(j);
      }
      function C(R) {
        c.push(0, 0, 0), u.push(0, 0, 0), f[R] === void 0 && (f[R] = []), f[R].push(c.length / 3 - 1);
      }
      i.setAttribute("position", new Rt(c, 3)), i.setAttribute("color", new Rt(u, 3)), super(i, s), this.type = "CameraHelper", this.camera = t, this.camera.updateProjectionMatrix && this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = f, this.update();
      const _ = new Tt(16755200), N = new Tt(16711680), I = new Tt(43775), A = new Tt(16777215), E = new Tt(3355443);
      this.setColors(_, N, I, A, E);
    }
    setColors(t, i, s, c, u) {
      const b = this.geometry.getAttribute("color");
      b.setXYZ(0, t.r, t.g, t.b), b.setXYZ(1, t.r, t.g, t.b), b.setXYZ(2, t.r, t.g, t.b), b.setXYZ(3, t.r, t.g, t.b), b.setXYZ(4, t.r, t.g, t.b), b.setXYZ(5, t.r, t.g, t.b), b.setXYZ(6, t.r, t.g, t.b), b.setXYZ(7, t.r, t.g, t.b), b.setXYZ(8, t.r, t.g, t.b), b.setXYZ(9, t.r, t.g, t.b), b.setXYZ(10, t.r, t.g, t.b), b.setXYZ(11, t.r, t.g, t.b), b.setXYZ(12, t.r, t.g, t.b), b.setXYZ(13, t.r, t.g, t.b), b.setXYZ(14, t.r, t.g, t.b), b.setXYZ(15, t.r, t.g, t.b), b.setXYZ(16, t.r, t.g, t.b), b.setXYZ(17, t.r, t.g, t.b), b.setXYZ(18, t.r, t.g, t.b), b.setXYZ(19, t.r, t.g, t.b), b.setXYZ(20, t.r, t.g, t.b), b.setXYZ(21, t.r, t.g, t.b), b.setXYZ(22, t.r, t.g, t.b), b.setXYZ(23, t.r, t.g, t.b), b.setXYZ(24, i.r, i.g, i.b), b.setXYZ(25, i.r, i.g, i.b), b.setXYZ(26, i.r, i.g, i.b), b.setXYZ(27, i.r, i.g, i.b), b.setXYZ(28, i.r, i.g, i.b), b.setXYZ(29, i.r, i.g, i.b), b.setXYZ(30, i.r, i.g, i.b), b.setXYZ(31, i.r, i.g, i.b), b.setXYZ(32, s.r, s.g, s.b), b.setXYZ(33, s.r, s.g, s.b), b.setXYZ(34, s.r, s.g, s.b), b.setXYZ(35, s.r, s.g, s.b), b.setXYZ(36, s.r, s.g, s.b), b.setXYZ(37, s.r, s.g, s.b), b.setXYZ(38, c.r, c.g, c.b), b.setXYZ(39, c.r, c.g, c.b), b.setXYZ(40, u.r, u.g, u.b), b.setXYZ(41, u.r, u.g, u.b), b.setXYZ(42, u.r, u.g, u.b), b.setXYZ(43, u.r, u.g, u.b), b.setXYZ(44, u.r, u.g, u.b), b.setXYZ(45, u.r, u.g, u.b), b.setXYZ(46, u.r, u.g, u.b), b.setXYZ(47, u.r, u.g, u.b), b.setXYZ(48, u.r, u.g, u.b), b.setXYZ(49, u.r, u.g, u.b), b.needsUpdate = !0;
    }
    update() {
      const t = this.geometry, i = this.pointMap, s = 1, c = 1;
      gr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse), xr("c", i, t, gr, 0, 0, -1), xr("t", i, t, gr, 0, 0, 1), xr("n1", i, t, gr, -s, -c, -1), xr("n2", i, t, gr, s, -c, -1), xr("n3", i, t, gr, -s, c, -1), xr("n4", i, t, gr, s, c, -1), xr("f1", i, t, gr, -s, -c, 1), xr("f2", i, t, gr, s, -c, 1), xr("f3", i, t, gr, -s, c, 1), xr("f4", i, t, gr, s, c, 1), xr("u1", i, t, gr, s * 0.7, c * 1.1, -1), xr("u2", i, t, gr, -s * 0.7, c * 1.1, -1), xr("u3", i, t, gr, 0, c * 2, -1), xr("cf1", i, t, gr, -s, 0, 1), xr("cf2", i, t, gr, s, 0, 1), xr("cf3", i, t, gr, 0, -c, 1), xr("cf4", i, t, gr, 0, c, 1), xr("cn1", i, t, gr, -s, 0, -1), xr("cn2", i, t, gr, s, 0, -1), xr("cn3", i, t, gr, 0, -c, -1), xr("cn4", i, t, gr, 0, c, -1), t.getAttribute("position").needsUpdate = !0;
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  function xr(m, t, i, s, c, u, f) {
    T1.set(c, u, f).unproject(s);
    const b = t[m];
    if (b !== void 0) {
      const C = i.getAttribute("position");
      for (let _ = 0, N = b.length; _ < N; _++)
        C.setXYZ(b[_], T1.x, T1.y, T1.z);
    }
  }
  const N1 = /* @__PURE__ */ new Hr();
  class u8 extends ra {
    constructor(t, i = 16776960) {
      const s = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]), c = new Float32Array(8 * 3), u = new tn();
      u.setIndex(new on(s, 1)), u.setAttribute("position", new on(c, 3)), super(u, new gi({ color: i, toneMapped: !1 })), this.object = t, this.type = "BoxHelper", this.matrixAutoUpdate = !1, this.update();
    }
    update(t) {
      if (t !== void 0 && console.warn("THREE.BoxHelper: .update() has no longer arguments."), this.object !== void 0 && N1.setFromObject(this.object), N1.isEmpty())
        return;
      const i = N1.min, s = N1.max, c = this.geometry.attributes.position, u = c.array;
      u[0] = s.x, u[1] = s.y, u[2] = s.z, u[3] = i.x, u[4] = s.y, u[5] = s.z, u[6] = i.x, u[7] = i.y, u[8] = s.z, u[9] = s.x, u[10] = i.y, u[11] = s.z, u[12] = s.x, u[13] = s.y, u[14] = i.z, u[15] = i.x, u[16] = s.y, u[17] = i.z, u[18] = i.x, u[19] = i.y, u[20] = i.z, u[21] = s.x, u[22] = i.y, u[23] = i.z, c.needsUpdate = !0, this.geometry.computeBoundingSphere();
    }
    setFromObject(t) {
      return this.object = t, this.update(), this;
    }
    copy(t, i) {
      return super.copy(t, i), this.object = t.object, this;
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  class d8 extends ra {
    constructor(t, i = 16776960) {
      const s = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]), c = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1], u = new tn();
      u.setIndex(new on(s, 1)), u.setAttribute("position", new Rt(c, 3)), super(u, new gi({ color: i, toneMapped: !1 })), this.box = t, this.type = "Box3Helper", this.geometry.computeBoundingSphere();
    }
    updateMatrixWorld(t) {
      const i = this.box;
      i.isEmpty() || (i.getCenter(this.position), i.getSize(this.scale), this.scale.multiplyScalar(0.5), super.updateMatrixWorld(t));
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  class m8 extends Zs {
    constructor(t, i = 1, s = 16776960) {
      const c = s, u = [1, -1, 0, -1, 1, 0, -1, -1, 0, 1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0, 1, 1, 0], f = new tn();
      f.setAttribute("position", new Rt(u, 3)), f.computeBoundingSphere(), super(f, new gi({ color: c, toneMapped: !1 })), this.type = "PlaneHelper", this.plane = t, this.size = i;
      const b = [1, 1, 0, -1, 1, 0, -1, -1, 0, 1, 1, 0, -1, -1, 0, 1, -1, 0], C = new tn();
      C.setAttribute("position", new Rt(b, 3)), C.computeBoundingSphere(), this.add(new ur(C, new Ji({ color: c, opacity: 0.2, transparent: !0, depthWrite: !1, toneMapped: !1 })));
    }
    updateMatrixWorld(t) {
      this.position.set(0, 0, 0), this.scale.set(0.5 * this.size, 0.5 * this.size, 1), this.lookAt(this.plane.normal), this.translateZ(-this.plane.constant), super.updateMatrixWorld(t);
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose(), this.children[0].geometry.dispose(), this.children[0].material.dispose();
    }
  }
  const Kw = /* @__PURE__ */ new ie();
  let M1, Av;
  class p8 extends An {
    // dir is assumed to be normalized
    constructor(t = new ie(0, 0, 1), i = new ie(0, 0, 0), s = 1, c = 16776960, u = s * 0.2, f = u * 0.2) {
      super(), this.type = "ArrowHelper", M1 === void 0 && (M1 = new tn(), M1.setAttribute("position", new Rt([0, 0, 0, 0, 1, 0], 3)), Av = new Vh(0, 0.5, 1, 5, 1), Av.translate(0, -0.5, 0)), this.position.copy(i), this.line = new Zs(M1, new gi({ color: c, toneMapped: !1 })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new ur(Av, new Ji({ color: c, toneMapped: !1 })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(t), this.setLength(s, u, f);
    }
    setDirection(t) {
      if (t.y > 0.99999)
        this.quaternion.set(0, 0, 0, 1);
      else if (t.y < -0.99999)
        this.quaternion.set(1, 0, 0, 0);
      else {
        Kw.set(t.z, 0, -t.x).normalize();
        const i = Math.acos(t.y);
        this.quaternion.setFromAxisAngle(Kw, i);
      }
    }
    setLength(t, i = t * 0.2, s = i * 0.2) {
      this.line.scale.set(1, Math.max(1e-4, t - i), 1), this.line.updateMatrix(), this.cone.scale.set(s, i, s), this.cone.position.y = t, this.cone.updateMatrix();
    }
    setColor(t) {
      this.line.material.color.set(t), this.cone.material.color.set(t);
    }
    copy(t) {
      return super.copy(t, !1), this.line.copy(t.line), this.cone.copy(t.cone), this;
    }
    dispose() {
      this.line.geometry.dispose(), this.line.material.dispose(), this.cone.geometry.dispose(), this.cone.material.dispose();
    }
  }
  class f8 extends ra {
    constructor(t = 1) {
      const i = [
        0,
        0,
        0,
        t,
        0,
        0,
        0,
        0,
        0,
        0,
        t,
        0,
        0,
        0,
        0,
        0,
        0,
        t
      ], s = [
        1,
        0,
        0,
        1,
        0.6,
        0,
        0,
        1,
        0,
        0.6,
        1,
        0,
        0,
        0,
        1,
        0,
        0.6,
        1
      ], c = new tn();
      c.setAttribute("position", new Rt(i, 3)), c.setAttribute("color", new Rt(s, 3));
      const u = new gi({ vertexColors: !0, toneMapped: !1 });
      super(c, u), this.type = "AxesHelper";
    }
    setColors(t, i, s) {
      const c = new Tt(), u = this.geometry.attributes.color.array;
      return c.set(t), c.toArray(u, 0), c.toArray(u, 3), c.set(i), c.toArray(u, 6), c.toArray(u, 9), c.set(s), c.toArray(u, 12), c.toArray(u, 15), this.geometry.attributes.color.needsUpdate = !0, this;
    }
    dispose() {
      this.geometry.dispose(), this.material.dispose();
    }
  }
  class g8 {
    constructor() {
      this.type = "ShapePath", this.color = new Tt(), this.subPaths = [], this.currentPath = null;
    }
    moveTo(t, i) {
      return this.currentPath = new gm(), this.subPaths.push(this.currentPath), this.currentPath.moveTo(t, i), this;
    }
    lineTo(t, i) {
      return this.currentPath.lineTo(t, i), this;
    }
    quadraticCurveTo(t, i, s, c) {
      return this.currentPath.quadraticCurveTo(t, i, s, c), this;
    }
    bezierCurveTo(t, i, s, c, u, f) {
      return this.currentPath.bezierCurveTo(t, i, s, c, u, f), this;
    }
    splineThru(t) {
      return this.currentPath.splineThru(t), this;
    }
    toShapes(t) {
      function i(P) {
        const U = [];
        for (let k = 0, V = P.length; k < V; k++) {
          const me = P[k], ee = new gc();
          ee.curves = me.curves, U.push(ee);
        }
        return U;
      }
      function s(P, U) {
        const k = U.length;
        let V = !1;
        for (let me = k - 1, ee = 0; ee < k; me = ee++) {
          let le = U[me], ye = U[ee], Z = ye.x - le.x, H = ye.y - le.y;
          if (Math.abs(H) > Number.EPSILON) {
            if (H < 0 && (le = U[ee], Z = -Z, ye = U[me], H = -H), P.y < le.y || P.y > ye.y)
              continue;
            if (P.y === le.y) {
              if (P.x === le.x)
                return !0;
            } else {
              const Te = H * (P.x - le.x) - Z * (P.y - le.y);
              if (Te === 0)
                return !0;
              if (Te < 0)
                continue;
              V = !V;
            }
          } else {
            if (P.y !== le.y)
              continue;
            if (ye.x <= P.x && P.x <= le.x || le.x <= P.x && P.x <= ye.x)
              return !0;
          }
        }
        return V;
      }
      const c = ia.isClockWise, u = this.subPaths;
      if (u.length === 0)
        return [];
      let f, b, C;
      const _ = [];
      if (u.length === 1)
        return b = u[0], C = new gc(), C.curves = b.curves, _.push(C), _;
      let N = !c(u[0].getPoints());
      N = t ? !N : N;
      const I = [], A = [];
      let E = [], R = 0, j;
      A[R] = void 0, E[R] = [];
      for (let P = 0, U = u.length; P < U; P++)
        b = u[P], j = b.getPoints(), f = c(j), f = t ? !f : f, f ? (!N && A[R] && R++, A[R] = { s: new gc(), p: j }, A[R].s.curves = b.curves, N && R++, E[R] = []) : E[R].push({ h: b, p: j[0] });
      if (!A[0])
        return i(u);
      if (A.length > 1) {
        let P = !1, U = 0;
        for (let k = 0, V = A.length; k < V; k++)
          I[k] = [];
        for (let k = 0, V = A.length; k < V; k++) {
          const me = E[k];
          for (let ee = 0; ee < me.length; ee++) {
            const le = me[ee];
            let ye = !0;
            for (let Z = 0; Z < A.length; Z++)
              s(le.p, A[Z].p) && (k !== Z && U++, ye ? (ye = !1, I[Z].push(le)) : P = !0);
            ye && I[k].push(le);
          }
        }
        U > 0 && P === !1 && (E = I);
      }
      let O;
      for (let P = 0, U = A.length; P < U; P++) {
        C = A[P].s, _.push(C), O = E[P];
        for (let k = 0, V = O.length; k < V; k++)
          C.holes.push(O[k].h);
      }
      return _;
    }
  }
  class b8 extends wi {
    // @deprecated, r162
    constructor(t = 1, i = 1, s = 1, c = {}) {
      console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'), super(t, i, { ...c, count: s }), this.isWebGLMultipleRenderTargets = !0;
    }
    get texture() {
      return this.textures;
    }
  }
  return typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", { detail: {
    revision: a
  } })), typeof window < "u" && (window.__THREE__ ? console.warn("WARNING: Multiple instances of Three.js being imported.") : window.__THREE__ = a), z.ACESFilmicToneMapping = ys, z.AddEquation = $, z.AddOperation = _r, z.AdditiveAnimationBlendMode = Ts, z.AdditiveBlending = S, z.AgXToneMapping = Il, z.AlphaFormat = Fp, z.AlwaysCompare = tf, z.AlwaysDepth = Lt, z.AlwaysStencilFunc = Pd, z.AmbientLight = ww, z.AnimationAction = kw, z.AnimationClip = Mm, z.AnimationLoader = b6, z.AnimationMixer = H6, z.AnimationObjectGroup = W6, z.AnimationUtils = m6, z.ArcCurve = k_, z.ArrayCamera = h_, z.ArrowHelper = p8, z.AttachedBindMode = uo, z.Audio = jw, z.AudioAnalyser = O6, z.AudioContext = wv, z.AudioListener = P6, z.AudioLoader = I6, z.AxesHelper = f8, z.BackSide = x, z.BasicDepthPacking = Vp, z.BasicShadowMap = d, z.BatchedMesh = E_, z.Bone = Yb, z.BooleanKeyframeTrack = yc, z.Box2 = e8, z.Box3 = Hr, z.Box3Helper = d8, z.BoxGeometry = ka, z.BoxHelper = u8, z.BufferAttribute = on, z.BufferGeometry = tn, z.BufferGeometryLoader = Iw, z.ByteType = Lp, z.Cache = Wa, z.Camera = sc, z.CameraHelper = h8, z.CanvasTexture = DR, z.CapsuleGeometry = t1, z.CatmullRomCurve3 = X_, z.CineonToneMapping = vs, z.CircleGeometry = n1, z.ClampToEdgeWrapping = Ci, z.Clock = Bw, z.Color = Tt, z.ColorKeyframeTrack = bv, z.ColorManagement = Fn, z.CompressedArrayTexture = LR, z.CompressedCubeTexture = jR, z.CompressedTexture = Zf, z.CompressedTextureLoader = v6, z.ConeGeometry = r1, z.ConstantAlphaFactor = De, z.ConstantColorFactor = _e, z.CubeCamera = lc, z.CubeReflectionMapping = xi, z.CubeRefractionMapping = Ei, z.CubeTexture = za, z.CubeTextureLoader = y6, z.CubeUVReflectionMapping = wa, z.CubicBezierCurve = ov, z.CubicBezierCurve3 = U_, z.CubicInterpolant = dw, z.CullFaceBack = o, z.CullFaceFront = l, z.CullFaceFrontBack = h, z.CullFaceNone = r, z.Curve = Io, z.CurvePath = W_, z.CustomBlending = G, z.CustomToneMapping = xa, z.CylinderGeometry = Vh, z.Cylindrical = Q6, z.Data3DTexture = kd, z.DataArrayTexture = $l, z.DataTexture = Ys, z.DataTextureLoader = x6, z.DataUtils = Tb, z.DecrementStencilOp = z0, z.DecrementWrapStencilOp = G0, z.DefaultLoadingManager = fw, z.DepthFormat = Ma, z.DepthStencilFormat = _s, z.DepthTexture = kb, z.DetachedBindMode = Al, z.DirectionalLight = _w, z.DirectionalLightHelper = c8, z.DiscreteInterpolant = mw, z.DisplayP3ColorSpace = fh, z.DodecahedronGeometry = i1, z.DoubleSide = w, z.DstAlphaFactor = be, z.DstColorFactor = de, z.DynamicCopyUsage = nb, z.DynamicDrawUsage = Z0, z.DynamicReadUsage = Q0, z.EdgesGeometry = V_, z.EllipseCurve = Jf, z.EqualCompare = Jp, z.EqualDepth = qt, z.EqualStencilFunc = $0, z.EquirectangularReflectionMapping = Vo, z.EquirectangularRefractionMapping = Ho, z.Euler = mi, z.EventDispatcher = qi, z.ExtrudeGeometry = u1, z.FileLoader = Ha, z.Float16BufferAttribute = Ib, z.Float32BufferAttribute = Rt, z.FloatType = _i, z.Fog = Of, z.FogExp2 = Bf, z.FramebufferTexture = OR, z.FrontSide = y, z.Frustum = W, z.GLBufferAttribute = K6, z.GLSL1 = ib, z.GLSL3 = gh, z.GreaterCompare = Qp, z.GreaterDepth = Gt, z.GreaterEqualCompare = Bd, z.GreaterEqualDepth = Xt, z.GreaterEqualStencilFunc = K0, z.GreaterStencilFunc = q0, z.GridHelper = s8, z.Group = Dh, z.HalfFloatType = Rl, z.HemisphereLight = gw, z.HemisphereLightHelper = a8, z.IcosahedronGeometry = d1, z.ImageBitmapLoader = S6, z.ImageLoader = Sm, z.ImageUtils = Hl, z.IncrementStencilOp = qp, z.IncrementWrapStencilOp = U0, z.InstancedBufferAttribute = Uh, z.InstancedBufferGeometry = Sw, z.InstancedInterleavedBuffer = Y6, z.InstancedMesh = S_, z.Int16BufferAttribute = Mb, z.Int32BufferAttribute = Sb, z.Int8BufferAttribute = Zo, z.IntType = sd, z.InterleavedBuffer = Lf, z.InterleavedBufferAttribute = pc, z.Interpolant = wm, z.InterpolateDiscrete = Fl, z.InterpolateLinear = kl, z.InterpolateSmooth = dh, z.InvertStencilOp = W0, z.KeepStencilOp = Aa, z.KeyframeTrack = Ao, z.LOD = b_, z.LatheGeometry = bm, z.Layers = Bs, z.LessCompare = Zp, z.LessDepth = Nt, z.LessEqualCompare = Rd, z.LessEqualDepth = Mt, z.LessEqualStencilFunc = Yp, z.LessStencilFunc = H0, z.Light = Qs, z.LightProbe = Mw, z.Line = Zs, z.Line3 = t8, z.LineBasicMaterial = gi, z.LineCurve = av, z.LineCurve3 = G_, z.LineDashedMaterial = cw, z.LineLoop = L_, z.LineSegments = ra, z.LinearDisplayP3ColorSpace = Xl, z.LinearFilter = pr, z.LinearInterpolant = gv, z.LinearMipMapLinearFilter = F0, z.LinearMipMapNearestFilter = D0, z.LinearMipmapLinearFilter = Vi, z.LinearMipmapNearestFilter = Pl, z.LinearSRGBColorSpace = po, z.LinearToneMapping = th, z.LinearTransfer = Ia, z.Loader = Ni, z.LoaderUtils = _v, z.LoadingManager = vv, z.LoopOnce = zp, z.LoopPingPong = Gp, z.LoopRepeat = Up, z.LuminanceAlphaFormat = kp, z.LuminanceFormat = ld, z.MOUSE = e, z.Material = zr, z.MaterialLoader = y1, z.MathUtils = fb, z.Matrix3 = en, z.Matrix4 = Wt, z.MaxEquation = ae, z.Mesh = ur, z.MeshBasicMaterial = Ji, z.MeshDepthMaterial = Ub, z.MeshDistanceMaterial = Gb, z.MeshLambertMaterial = sw, z.MeshMatcapMaterial = lw, z.MeshNormalMaterial = aw, z.MeshPhongMaterial = iw, z.MeshPhysicalMaterial = rw, z.MeshStandardMaterial = mv, z.MeshToonMaterial = ow, z.MinEquation = he, z.MirroredRepeatWrapping = xs, z.MixOperation = sr, z.MultiplyBlending = F, z.MultiplyOperation = at, z.NearestFilter = yr, z.NearestMipMapLinearFilter = Op, z.NearestMipMapNearestFilter = j0, z.NearestMipmapLinearFilter = Ta, z.NearestMipmapNearestFilter = od, z.NeutralToneMapping = Ca, z.NeverCompare = Kp, z.NeverDepth = gt, z.NeverStencilFunc = V0, z.NoBlending = T, z.NoColorSpace = $i, z.NoToneMapping = Er, z.NormalAnimationBlendMode = mh, z.NormalBlending = M, z.NotEqualCompare = ef, z.NotEqualDepth = Pn, z.NotEqualStencilFunc = Y0, z.NumberKeyframeTrack = Tm, z.Object3D = An, z.ObjectLoader = N6, z.ObjectSpaceNormalMap = Hp, z.OctahedronGeometry = Cm, z.OneFactor = ne, z.OneMinusConstantAlphaFactor = ft, z.OneMinusConstantColorFactor = Xe, z.OneMinusDstAlphaFactor = fe, z.OneMinusDstColorFactor = Fe, z.OneMinusSrcAlphaFactor = pe, z.OneMinusSrcColorFactor = oe, z.OrthographicCamera = Af, z.P3Primaries = zl, z.PCFShadowMap = p, z.PCFSoftShadowMap = g, z.PMREMGenerator = Db, z.Path = gm, z.PerspectiveCamera = Tr, z.Plane = ea, z.PlaneGeometry = xe, z.PlaneHelper = m8, z.PointLight = Cw, z.PointLightHelper = i8, z.Points = D_, z.PointsMaterial = Qb, z.PolarGridHelper = l8, z.PolyhedronGeometry = Js, z.PositionalAudio = B6, z.PropertyBinding = Bn, z.PropertyMixer = Fw, z.QuadraticBezierCurve = sv, z.QuadraticBezierCurve3 = lv, z.Quaternion = Kr, z.QuaternionKeyframeTrack = $h, z.QuaternionLinearInterpolant = pw, z.RED_GREEN_RGTC2_Format = Ad, z.RED_RGTC1_Format = Xp, z.REVISION = a, z.RGBADepthPacking = ph, z.RGBAFormat = ci, z.RGBAIntegerFormat = oh, z.RGBA_ASTC_10x10_Format = Td, z.RGBA_ASTC_10x5_Format = hh, z.RGBA_ASTC_10x6_Format = _d, z.RGBA_ASTC_10x8_Format = wd, z.RGBA_ASTC_12x10_Format = Nd, z.RGBA_ASTC_12x12_Format = uh, z.RGBA_ASTC_4x4_Format = jl, z.RGBA_ASTC_5x4_Format = qo, z.RGBA_ASTC_5x5_Format = bd, z.RGBA_ASTC_6x5_Format = vd, z.RGBA_ASTC_6x6_Format = yd, z.RGBA_ASTC_8x5_Format = xd, z.RGBA_ASTC_8x6_Format = Cd, z.RGBA_ASTC_8x8_Format = ch, z.RGBA_BPTC_Format = Dl, z.RGBA_ETC2_EAC_Format = $o, z.RGBA_PVRTC_2BPPV1_Format = fd, z.RGBA_PVRTC_4BPPV1_Format = pd, z.RGBA_S3TC_DXT1_Format = sh, z.RGBA_S3TC_DXT3_Format = Ol, z.RGBA_S3TC_DXT5_Format = lh, z.RGBFormat = Bl, z.RGB_BPTC_SIGNED_Format = Md, z.RGB_BPTC_UNSIGNED_Format = Sd, z.RGB_ETC1_Format = gd, z.RGB_ETC2_Format = Ll, z.RGB_PVRTC_2BPPV1_Format = md, z.RGB_PVRTC_4BPPV1_Format = dd, z.RGB_S3TC_DXT1_Format = ah, z.RGFormat = hd, z.RGIntegerFormat = ud, z.RawShaderMaterial = nw, z.Ray = yo, z.Raycaster = Z6, z.Rec709Primaries = Ms, z.RectAreaLight = Tw, z.RedFormat = ih, z.RedIntegerFormat = cd, z.ReinhardToneMapping = Wo, z.RenderTarget = df, z.RepeatWrapping = El, z.ReplaceStencilOp = $p, z.ReverseSubtractEquation = q, z.RingGeometry = m1, z.SIGNED_RED_GREEN_RGTC2_Format = Ed, z.SIGNED_RED_RGTC1_Format = Id, z.SRGBColorSpace = Pr, z.SRGBTransfer = zn, z.Scene = u_, z.ShaderChunk = ln, z.ShaderLib = So, z.ShaderMaterial = Oi, z.ShadowMaterial = tw, z.Shape = gc, z.ShapeGeometry = p1, z.ShapePath = g8, z.ShapeUtils = ia, z.ShortType = jp, z.Skeleton = zf, z.SkeletonHelper = r8, z.SkinnedMesh = w_, z.Source = La, z.Sphere = Xr, z.SphereGeometry = _m, z.Spherical = J6, z.SphericalHarmonics3 = Nw, z.SplineCurve = cv, z.SpotLight = yw, z.SpotLightHelper = n8, z.Sprite = f_, z.SpriteMaterial = Vb, z.SrcAlphaFactor = J, z.SrcAlphaSaturateFactor = Be, z.SrcColorFactor = se, z.StaticCopyUsage = tb, z.StaticDrawUsage = Ul, z.StaticReadUsage = nf, z.StereoCamera = A6, z.StreamCopyUsage = rb, z.StreamDrawUsage = J0, z.StreamReadUsage = eb, z.StringKeyframeTrack = xc, z.SubtractEquation = K, z.SubtractiveBlending = L, z.TOUCH = n, z.TangentSpaceNormalMap = Hi, z.TetrahedronGeometry = f1, z.Texture = lr, z.TextureLoader = C6, z.TorusGeometry = g1, z.TorusKnotGeometry = b1, z.Triangle = qr, z.TriangleFanDrawMode = Wp, z.TriangleStripDrawMode = k0, z.TrianglesDrawMode = Ns, z.TubeGeometry = v1, z.UVMapping = _a, z.Uint16BufferAttribute = Kd, z.Uint32BufferAttribute = Zd, z.Uint8BufferAttribute = Jo, z.Uint8ClampedBufferAttribute = Nb, z.Uniform = Mv, z.UniformsGroup = q6, z.UniformsLib = bt, z.UniformsUtils = nm, z.UnsignedByteType = mo, z.UnsignedInt248Type = Cs, z.UnsignedInt5999Type = Dp, z.UnsignedIntType = Na, z.UnsignedShort4444Type = nh, z.UnsignedShort5551Type = rh, z.UnsignedShortType = ad, z.VSMShadowMap = v, z.Vector2 = $e, z.Vector3 = ie, z.Vector4 = kn, z.VectorKeyframeTrack = Nm, z.VideoTexture = BR, z.WebGL3DRenderTarget = xb, z.WebGLArrayRenderTarget = yb, z.WebGLCoordinateSystem = hi, z.WebGLCubeRenderTarget = rm, z.WebGLMultipleRenderTargets = b8, z.WebGLRenderTarget = wi, z.WebGLRenderer = TR, z.WebGLUtils = c_, z.WebGPUCoordinateSystem = Ea, z.WireframeGeometry = J_, z.WrapAroundEnding = ws, z.ZeroCurvatureEnding = Sa, z.ZeroFactor = ve, z.ZeroSlopeEnding = Yo, z.ZeroStencilOp = X0, z.createCanvasElement = Wl, z;
}
var Sy = {}, zm = {}, n3;
function yC() {
  return n3 || (n3 = 1, Object.defineProperty(zm, "__esModule", {
    value: !0
  }), zm.CameraType = void 0, zm.CameraType = /* @__PURE__ */ function(a) {
    return a[a.perspective = 0] = "perspective", a[a.orthographic = 1] = "orthographic", a;
  }({})), zm;
}
var r3;
function Nl() {
  return r3 || (r3 = 1, function(a) {
    var e = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.sky = a.renderer = a.physics = a.light = a.default = a.controls = a.camera = a.GLBLoaderConfig = void 0;
    var n = l(ps()), r = yC();
    function o(M) {
      if (typeof WeakMap != "function")
        return null;
      var S = /* @__PURE__ */ new WeakMap(), L = /* @__PURE__ */ new WeakMap();
      return (o = function(G) {
        return G ? L : S;
      })(M);
    }
    function l(M, S) {
      if (M && M.__esModule)
        return M;
      if (M === null || e(M) != "object" && typeof M != "function")
        return { default: M };
      var L = o(S);
      if (L && L.has(M))
        return L.get(M);
      var F = { __proto__: null }, G = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var $ in M)
        if ($ !== "default" && {}.hasOwnProperty.call(M, $)) {
          var K = G ? Object.getOwnPropertyDescriptor(M, $) : null;
          K && (K.get || K.set) ? Object.defineProperty(F, $, K) : F[$] = M[$];
        }
      return F.default = M, L && L.set(M, F), F;
    }
    var h = 0, d = a.camera = {
      fov: 70,
      far: 1e3,
      type: r.CameraType.perspective,
      dom: void 0
    }, p = a.sky = {
      enabled: !0,
      turbidity: 0,
      rayleigh: 0.079,
      mieCoefficient: 0.023,
      mieDirectionalG: 0.226,
      inclination: 70,
      azimuth: -102.7
    }, g = a.controls = {
      distance: {
        min: 3,
        max: 100
      },
      polar: {
        min: -90,
        max: 90
      },
      azimuth: {
        min: -1 / 0,
        max: 1 / 0
      },
      default: {
        polar: 0,
        azimuth: 0,
        distance: 50
      },
      offsetAzimuth: 0,
      enabled: !0,
      panEasing: 100,
      damping: !1,
      dampingFactor: 1
    }, v = a.light = {
      ambient: {
        enabled: !0,
        color: 12035183,
        intensity: 0.6
      },
      lights: [{
        type: "point",
        enabled: !0,
        castShadow: !0,
        bias: 0,
        blurSamples: 1,
        color: 10066329,
        intensity: 0.9,
        distance: 3,
        decay: 0.5,
        position: {
          x: 0,
          y: 3,
          z: 0
        }
      }, {
        type: "spot",
        enabled: !1,
        castShadow: !0,
        bias: 0,
        blurSamples: 1,
        color: 10066329,
        intensity: 0.9,
        distance: 3,
        decay: 0.5,
        angle: Math.PI * 0.12,
        penumbra: 1,
        position: {
          x: 0,
          y: 3,
          z: 3
        }
      }],
      shadowMapSize: 256,
      debug: !1
    }, y = a.renderer = {
      alpha: !1,
      preserveDrawingBuffer: !1,
      shadowType: n.PCFSoftShadowMap,
      exposure: 0.5,
      outputEncoding: n.SRGBColorSpace,
      background: {
        color: 0,
        alpha: 1
      }
    }, x = a.physics = !1, w = !1, T = {
      fps: h,
      camera: d,
      sky: p,
      controls: g,
      light: v,
      renderer: y,
      physics: x,
      stats: w
    };
    a.GLBLoaderConfig = {
      onProcess: function(S, L) {
        return "".concat(S / L * 100, "% loaded");
      },
      loop: !0,
      castShadow: !0,
      receiveShadow: !1,
      material: {
        metalness: 0,
        roughness: 1,
        clearcoat: 0,
        clearcoatRoughness: 0.5
      }
    }, a.default = T;
  }(Sy)), Sy;
}
var Iy = {}, i3;
function are() {
  return i3 || (i3 = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(Tl()), o = e(wl()), l = e(ga()), h = yC(), d = v(ps()), p = Nl();
    function g(S) {
      if (typeof WeakMap != "function")
        return null;
      var L = /* @__PURE__ */ new WeakMap(), F = /* @__PURE__ */ new WeakMap();
      return (g = function($) {
        return $ ? F : L;
      })(S);
    }
    function v(S, L) {
      if (S && S.__esModule)
        return S;
      if (S === null || n(S) != "object" && typeof S != "function")
        return { default: S };
      var F = g(L);
      if (F && F.has(S))
        return F.get(S);
      var G = { __proto__: null }, $ = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var K in S)
        if (K !== "default" && {}.hasOwnProperty.call(S, K)) {
          var q = $ ? Object.getOwnPropertyDescriptor(S, K) : null;
          q && (q.get || q.set) ? Object.defineProperty(G, K, q) : G[K] = S[K];
        }
      return G.default = S, F && F.set(S, G), G;
    }
    function y(S, L) {
      var F = Object.keys(S);
      if (Object.getOwnPropertySymbols) {
        var G = Object.getOwnPropertySymbols(S);
        L && (G = G.filter(function($) {
          return Object.getOwnPropertyDescriptor(S, $).enumerable;
        })), F.push.apply(F, G);
      }
      return F;
    }
    function x(S) {
      for (var L = 1; L < arguments.length; L++) {
        var F = arguments[L] != null ? arguments[L] : {};
        L % 2 ? y(Object(F), !0).forEach(function(G) {
          (0, l.default)(S, G, F[G]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(S, Object.getOwnPropertyDescriptors(F)) : y(Object(F)).forEach(function(G) {
          Object.defineProperty(S, G, Object.getOwnPropertyDescriptor(F, G));
        });
      }
      return S;
    }
    var w = window, T = w.innerWidth, M = w.innerHeight;
    a.default = /* @__PURE__ */ (0, r.default)(function S(L) {
      (0, o.default)(this, S), (0, l.default)(this, "options", void 0), (0, l.default)(this, "camera", void 0), this.options = x(x({}, p.camera), L);
      var F = this.options, G = F.fov, $ = F.far, K = F.dom, q = F.type, he = K instanceof HTMLElement ? K.clientWidth : T, ae = K instanceof HTMLElement ? K.clientHeight : M;
      q === h.CameraType.orthographic ? (this.camera = new d.OrthographicCamera(Number(he) / -2, Number(he) / 2, Number(ae) / 2, Number(ae) / -2, 0.01, $), this.camera.zoom = G) : this.camera = new d.PerspectiveCamera(G, Number(he) / Number(ae), 0.01, $), this.camera.position.set(0, 0, -10);
    });
  }(Iy)), Iy;
}
var Ay = {}, o3;
function sre() {
  return o3 || (o3 = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(Tl()), o = e(wl()), l = e(ga()), h = g(ps()), d = Nl();
    function p(x) {
      if (typeof WeakMap != "function")
        return null;
      var w = /* @__PURE__ */ new WeakMap(), T = /* @__PURE__ */ new WeakMap();
      return (p = function(S) {
        return S ? T : w;
      })(x);
    }
    function g(x, w) {
      if (x && x.__esModule)
        return x;
      if (x === null || n(x) != "object" && typeof x != "function")
        return { default: x };
      var T = p(w);
      if (T && T.has(x))
        return T.get(x);
      var M = { __proto__: null }, S = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var L in x)
        if (L !== "default" && {}.hasOwnProperty.call(x, L)) {
          var F = S ? Object.getOwnPropertyDescriptor(x, L) : null;
          F && (F.get || F.set) ? Object.defineProperty(M, L, F) : M[L] = x[L];
        }
      return M.default = x, T && T.set(x, M), M;
    }
    function v(x, w) {
      var T = Object.keys(x);
      if (Object.getOwnPropertySymbols) {
        var M = Object.getOwnPropertySymbols(x);
        w && (M = M.filter(function(S) {
          return Object.getOwnPropertyDescriptor(x, S).enumerable;
        })), T.push.apply(T, M);
      }
      return T;
    }
    function y(x) {
      for (var w = 1; w < arguments.length; w++) {
        var T = arguments[w] != null ? arguments[w] : {};
        w % 2 ? v(Object(T), !0).forEach(function(M) {
          (0, l.default)(x, M, T[M]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(x, Object.getOwnPropertyDescriptors(T)) : v(Object(T)).forEach(function(M) {
          Object.defineProperty(x, M, Object.getOwnPropertyDescriptor(T, M));
        });
      }
      return x;
    }
    new h.Mesh(), d.light.lights[0].position.y, a.default = /* @__PURE__ */ (0, r.default)(function x(w, T) {
      var M = this;
      (0, o.default)(this, x), (0, l.default)(this, "options", void 0), (0, l.default)(this, "lights", void 0), (0, l.default)(this, "target", void 0), this.options = y(y({}, d.light), T), this.lights = [], this.target = void 0;
      var S = this.options, L = S.ambient, F = S.lights, G = S.shadowMapSize, $ = S.debug;
      if (L.enabled) {
        var K = new h.AmbientLight(L.color, L.intensity);
        w.add(K);
      }
      this.lights = F.map(function(q) {
        switch (q.type) {
          case "spot":
            if (!q.enabled)
              return;
            var he = new h.SpotLight(q.color, q.intensity, q.distance);
            he.castShadow = q.castShadow, he.angle = q.angle, he.penumbra = q.penumbra, he.decay = q.decay, he.shadow.mapSize.width = G, he.shadow.mapSize.height = G, he.shadow.bias = q.bias, he.shadow.blurSamples = q.blurSamples;
            var ae = q.position, ve = ae.x, ne = ae.y, se = ae.z;
            if (he.position.set(ve, ne, se), w.add(he), M.target = he.target, $) {
              var oe = new h.SpotLightHelper(he);
              w.add(oe);
            }
            return he;
          case "hemisphere":
            if (!q.enabled)
              return;
            var J = new h.HemisphereLight(q.color, q.groundColor, q.intensity);
            if (J.position.set(q.position.x, q.position.y, q.position.z), w.add(J), $) {
              var pe = new h.HemisphereLightHelper(J, 5);
              w.add(pe);
            }
            return J;
          case "direct":
            if (!q.enabled)
              return;
            var be = new h.DirectionalLight(q.color, q.intensity);
            if (be.position.set(q.position.x, q.position.y, q.position.z), be.castShadow = q.castShadow, w.add(be), $) {
              var fe = new h.DirectionalLightHelper(be);
              w.add(fe);
            }
            return be;
          default:
          case "point":
            if (!q.enabled)
              return;
            var de = new h.PointLight(q.color, q.intensity, q.distance);
            if (de.castShadow = q.castShadow, de.decay = q.decay, de.shadow.bias = q.bias, de.shadow.blurSamples = q.blurSamples, de.shadow.mapSize.width = G, de.shadow.mapSize.height = G, de.position.set(q.position.x, q.position.y, q.position.z), w.add(de), $) {
              var Fe = new h.PointLightHelper(de);
              w.add(Fe);
            }
            return de;
        }
      });
    });
  }(Ay)), Ay;
}
var Ey = {}, Py = {}, Ry, a3;
function lre() {
  return a3 || (a3 = 1, Ry = function(a) {
    a.MOUSE;
    function e(r) {
      this.object = r, this.target = new a.Vector3(), this.minDistance = 0, this.maxDistance = 1 / 0, this.minZoom = 0, this.maxZoom = 1 / 0, this.minPolarAngle = 0, this.maxPolarAngle = Math.PI, this.minAzimuthAngle = -1 / 0, this.maxAzimuthAngle = 1 / 0, this.enableDamping = !1, this.dampingFactor = 0.25;
      var o = this, l = 1e-6, h = 0, d = 0, p = 0, g = 0, v = 1, y = new a.Vector3(), x = !1;
      this.getPolarAngle = function() {
        return d;
      }, this.getAzimuthalAngle = function() {
        return h;
      }, this.setPolarAngle = function(w) {
        d = w, this.forceUpdate();
      }, this.setAzimuthalAngle = function(w) {
        h = w, this.forceUpdate();
      }, this.rotateLeft = function(w) {
        g -= w;
      }, this.rotateUp = function(w) {
        p -= w;
      }, this.panLeft = function() {
        var w = new a.Vector3();
        return function(M) {
          var S = this.object.matrix.elements;
          w.set(S[0], S[1], S[2]), w.multiplyScalar(-M), y.add(w);
        };
      }(), this.panUp = function() {
        var w = new a.Vector3();
        return function(M) {
          var S = this.object.matrix.elements;
          w.set(S[4], S[5], S[6]), w.multiplyScalar(M), y.add(w);
        };
      }(), this.pan = function(w, T, M, S) {
        if (o.object instanceof a.PerspectiveCamera) {
          var L = o.object.position, F = L.clone().sub(o.target), G = F.length();
          G *= Math.tan(o.object.fov / 2 * Math.PI / 180), o.panLeft(2 * w * G / S), o.panUp(2 * T * G / S);
        } else
          o.object instanceof a.OrthographicCamera ? (o.panLeft(w * (o.object.right - o.object.left) / M), o.panUp(T * (o.object.top - o.object.bottom) / S)) : console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.");
      }, this.dollyIn = function(w) {
        o.object instanceof a.PerspectiveCamera ? v /= w : o.object instanceof a.OrthographicCamera ? (o.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom * w)), o.object.updateProjectionMatrix(), x = !0) : console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");
      }, this.dollyOut = function(w) {
        o.object instanceof a.PerspectiveCamera ? v *= w : o.object instanceof a.OrthographicCamera ? (o.object.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, this.object.zoom / w)), o.object.updateProjectionMatrix(), x = !0) : console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");
      }, this.forceUpdate = function() {
        var w = new a.Vector3(), T = new a.Quaternion().setFromUnitVectors(r.up, new a.Vector3(0, 1, 0)), M = T.clone().invert(), S = new a.Vector3(), L = new a.Quaternion();
        return function() {
          var F = this.object.position;
          w.copy(F).sub(this.target), w.applyQuaternion(T), h = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, h)), d = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, d)), d = Math.max(l, Math.min(Math.PI - l, d));
          var G = w.length() * v;
          return G = Math.max(this.minDistance, Math.min(this.maxDistance, G)), this.target.add(y), w.x = G * Math.sin(d) * Math.sin(h), w.y = G * Math.cos(d), w.z = G * Math.sin(d) * Math.cos(h), w.applyQuaternion(M), F.copy(this.target).add(w), this.object.lookAt(this.target), this.enableDamping === !0 ? (g *= 1 - this.dampingFactor, p *= 1 - this.dampingFactor) : (g = 0, p = 0), v = 1, y.set(0, 0, 0), x || S.distanceToSquared(this.object.position) > l || 8 * (1 - L.dot(this.object.quaternion)) > l ? (S.copy(this.object.position), L.copy(this.object.quaternion), x = !1, !0) : !1;
        };
      }(), this.update = function() {
        var w = new a.Vector3(), T = new a.Quaternion().setFromUnitVectors(r.up, new a.Vector3(0, 1, 0)), M = T.clone().invert(), S = new a.Vector3(), L = new a.Quaternion();
        return function() {
          var F = this.object.position;
          w.copy(F).sub(this.target), w.applyQuaternion(T), h = Math.atan2(w.x, w.z), d = Math.atan2(Math.sqrt(w.x * w.x + w.z * w.z), w.y), h += g, d += p, h = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, h)), d = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, d)), d = Math.max(l, Math.min(Math.PI - l, d));
          var G = w.length() * v;
          return G = Math.max(this.minDistance, Math.min(this.maxDistance, G)), this.target.add(y), w.x = G * Math.sin(d) * Math.sin(h), w.y = G * Math.cos(d), w.z = G * Math.sin(d) * Math.cos(h), w.applyQuaternion(M), F.copy(this.target).add(w), this.object.lookAt(this.target), this.enableDamping === !0 ? (g *= 1 - this.dampingFactor, p *= 1 - this.dampingFactor) : (g = 0, p = 0), v = 1, y.set(0, 0, 0), x || S.distanceToSquared(this.object.position) > l || 8 * (1 - L.dot(this.object.quaternion)) > l ? (S.copy(this.object.position), L.copy(this.object.quaternion), x = !1, !0) : !1;
        };
      }();
    }
    function n(r, o) {
      var l = new e(r);
      this.domElement = o !== void 0 ? o : document, Object.defineProperty(this, "constraint", {
        get: function() {
          return l;
        }
      }), this.getPolarAngle = function() {
        return l.getPolarAngle();
      }, this.getAzimuthalAngle = function() {
        return l.getAzimuthalAngle();
      }, this.setPolarAngle = function(de) {
        return l.setPolarAngle(de);
      }, this.setAzimuthalAngle = function(de) {
        return l.setAzimuthalAngle(de);
      }, this.enabled = !0, this.center = this.target, this.enableZoom = !0, this.zoomSpeed = 1, this.enableRotate = !0, this.rotateSpeed = 1, this.enablePan = !0, this.keyPanSpeed = 7, this.autoRotate = !1, this.autoRotateSpeed = 2, this.enableKeys = !0, this.keys = {
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        BOTTOM: 40
      }, this.mouseButtons = {
        ORBIT: a.MOUSE.LEFT,
        ZOOM: a.MOUSE.MIDDLE,
        PAN: a.MOUSE.RIGHT
      };
      var h = this, d = new a.Vector2(), p = new a.Vector2(), g = new a.Vector2(), v = new a.Vector2(), y = new a.Vector2(), x = new a.Vector2(), w = new a.Vector2(), T = new a.Vector2(), M = new a.Vector2(), S = {
        NONE: -1,
        ROTATE: 0,
        DOLLY: 1,
        PAN: 2,
        TOUCH_ROTATE: 3,
        TOUCH_DOLLY: 4,
        TOUCH_PAN: 5
      }, L = S.NONE;
      this.target0 = this.target.clone(), this.position0 = this.object.position.clone(), this.zoom0 = this.object.zoom;
      var F = {
        type: "change"
      }, G = {
        type: "start"
      }, $ = {
        type: "end"
      };
      function K(de, Fe) {
        var Be = h.domElement === document ? h.domElement.body : h.domElement;
        l.pan(de, Fe, Be.clientWidth, Be.clientHeight);
      }
      this.update = function() {
        this.autoRotate && L === S.NONE && l.rotateLeft(q()), l.update() === !0 && this.dispatchEvent(F);
      }, this.reset = function() {
        L = S.NONE, this.target.copy(this.target0), this.object.position.copy(this.position0), this.object.zoom = this.zoom0, this.object.updateProjectionMatrix(), this.dispatchEvent(F), this.update();
      };
      function q() {
        return 2 * Math.PI / 60 / 60 * h.autoRotateSpeed;
      }
      function he() {
        return Math.pow(0.95, h.zoomSpeed);
      }
      function ae(de) {
        if (h.enabled !== !1) {
          if (de.preventDefault(), de.button === h.mouseButtons.ORBIT) {
            if (h.enableRotate === !1)
              return;
            L = S.ROTATE, d.set(de.clientX, de.clientY);
          } else if (de.button === h.mouseButtons.ZOOM) {
            if (h.enableZoom === !1)
              return;
            L = S.DOLLY, w.set(de.clientX, de.clientY);
          } else if (de.button === h.mouseButtons.PAN) {
            if (h.enablePan === !1)
              return;
            L = S.PAN, v.set(de.clientX, de.clientY);
          }
          L !== S.NONE && (document.addEventListener("mousemove", ve, !1), document.addEventListener("mouseup", ne, !1), h.dispatchEvent(G));
        }
      }
      function ve(de) {
        var Fe;
        if (de == null || (Fe = de.preventDefault) === null || Fe === void 0 || Fe.call(de), h.enabled !== !1) {
          var Be = h.domElement === document ? h.domElement.body : h.domElement;
          if (L === S.ROTATE) {
            if (h.enableRotate === !1)
              return;
            p.set(de.clientX, de.clientY), g.subVectors(p, d), l.rotateLeft(2 * Math.PI * g.x / Be.clientWidth * h.rotateSpeed), l.rotateUp(2 * Math.PI * g.y / Be.clientHeight * h.rotateSpeed), d.copy(p);
          } else if (L === S.DOLLY) {
            if (h.enableZoom === !1)
              return;
            T.set(de.clientX, de.clientY), M.subVectors(T, w), M.y > 0 ? l.dollyIn(he()) : M.y < 0 && l.dollyOut(he()), w.copy(T);
          } else if (L === S.PAN) {
            if (h.enablePan === !1)
              return;
            y.set(de.clientX, de.clientY), x.subVectors(y, v), K(x.x, x.y), v.copy(y);
          }
          L !== S.NONE && h.update();
        }
      }
      function ne() {
        h.enabled !== !1 && (document.removeEventListener("mousemove", ve), document.removeEventListener("mouseup", ne), h.dispatchEvent($), L = S.NONE);
      }
      function se(de) {
        if (!(h.enabled === !1 || h.enableZoom === !1 || L !== S.NONE)) {
          de.stopPropagation();
          var Fe = 0;
          de.wheelDelta !== void 0 ? Fe = de.wheelDelta : de.detail !== void 0 && (Fe = -de.detail), Fe > 0 ? l.dollyOut(he()) : Fe < 0 && l.dollyIn(he()), h.update(), h.dispatchEvent(G), h.dispatchEvent($);
        }
      }
      function oe(de) {
        if (!(h.enabled === !1 || h.enableKeys === !1 || h.enablePan === !1))
          switch (de.keyCode) {
            case h.keys.UP:
              K(0, h.keyPanSpeed), h.update();
              break;
            case h.keys.BOTTOM:
              K(0, -h.keyPanSpeed), h.update();
              break;
            case h.keys.LEFT:
              K(h.keyPanSpeed, 0), h.update();
              break;
            case h.keys.RIGHT:
              K(-h.keyPanSpeed, 0), h.update();
              break;
          }
      }
      function J(de) {
        if (h.enabled !== !1) {
          switch (de.touches.length) {
            case 1:
              if (h.enableRotate === !1)
                return;
              L = S.TOUCH_ROTATE, d.set(de.touches[0].pageX, de.touches[0].pageY);
              break;
            case 2:
              if (h.enableZoom === !1)
                return;
              L = S.TOUCH_DOLLY;
              var Fe = de.touches[0].pageX - de.touches[1].pageX, Be = de.touches[0].pageY - de.touches[1].pageY, _e = Math.sqrt(Fe * Fe + Be * Be);
              w.set(0, _e);
              break;
            case 3:
              if (h.enablePan === !1)
                return;
              L = S.TOUCH_PAN, v.set(de.touches[0].pageX, de.touches[0].pageY);
              break;
            default:
              L = S.NONE;
          }
          L !== S.NONE && h.dispatchEvent(G);
        }
      }
      function pe(de) {
        if (de.stopPropagation(), h.enabled !== !1) {
          var Fe = h.domElement === document ? h.domElement.body : h.domElement;
          switch (de.touches.length) {
            case 1:
              if (h.enableRotate === !1 || L !== S.TOUCH_ROTATE)
                return;
              p.set(de.touches[0].pageX, de.touches[0].pageY), g.subVectors(p, d), l.rotateLeft(2 * Math.PI * g.x / Fe.clientWidth * h.rotateSpeed), l.rotateUp(2 * Math.PI * g.y / Fe.clientHeight * h.rotateSpeed), d.copy(p), h.update();
              break;
            case 2:
              if (h.enableZoom === !1 || L !== S.TOUCH_DOLLY)
                return;
              var Be = de.touches[0].pageX - de.touches[1].pageX, _e = de.touches[0].pageY - de.touches[1].pageY, Xe = Math.sqrt(Be * Be + _e * _e);
              T.set(0, Xe), M.subVectors(T, w), M.y > 0 ? l.dollyOut(he()) : M.y < 0 && l.dollyIn(he()), w.copy(T), h.update();
              break;
            case 3:
              if (h.enablePan === !1 || L !== S.TOUCH_PAN)
                return;
              y.set(de.touches[0].pageX, de.touches[0].pageY), x.subVectors(y, v), K(x.x, x.y), v.copy(y), h.update();
              break;
            default:
              L = S.NONE;
          }
        }
      }
      function be() {
        h.enabled !== !1 && (h.dispatchEvent($), L = S.NONE);
      }
      function fe(de) {
        de.preventDefault();
      }
      this.dispose = function() {
        this.domElement.removeEventListener("contextmenu", fe, !1), this.domElement.removeEventListener("mousedown", ae, !1), this.domElement.removeEventListener("mousewheel", se, !1), this.domElement.removeEventListener("MozMousePixelScroll", se, !1), this.domElement.removeEventListener("touchstart", J, !1), this.domElement.removeEventListener("touchend", be, !1), this.domElement.removeEventListener("touchmove", pe, !1), document.removeEventListener("mousemove", ve, !1), document.removeEventListener("mouseup", ne, !1), window.removeEventListener("keydown", oe, !1);
      }, this.domElement.addEventListener("contextmenu", fe, !1), this.domElement.addEventListener("mousedown", ae, !1), this.domElement.addEventListener("mousewheel", se, {
        passive: !0
      }), this.domElement.addEventListener("MozMousePixelScroll", se, !1), this.domElement.addEventListener("touchstart", J, {
        passive: !0
      }), this.domElement.addEventListener("touchend", be, !1), this.domElement.addEventListener("touchmove", pe, {
        passive: !0
      }), window.addEventListener("keydown", oe, !1), this.update();
    }
    return n.prototype = Object.create(a.EventDispatcher.prototype), n.prototype.constructor = n, Object.defineProperties(n.prototype, {
      object: {
        get: function() {
          return this.constraint.object;
        }
      },
      target: {
        get: function() {
          return this.constraint.target;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."), this.constraint.target.copy(o);
        }
      },
      minDistance: {
        get: function() {
          return this.constraint.minDistance;
        },
        set: function(o) {
          this.constraint.minDistance = o;
        }
      },
      maxDistance: {
        get: function() {
          return this.constraint.maxDistance;
        },
        set: function(o) {
          this.constraint.maxDistance = o;
        }
      },
      minZoom: {
        get: function() {
          return this.constraint.minZoom;
        },
        set: function(o) {
          this.constraint.minZoom = o;
        }
      },
      maxZoom: {
        get: function() {
          return this.constraint.maxZoom;
        },
        set: function(o) {
          this.constraint.maxZoom = o;
        }
      },
      minPolarAngle: {
        get: function() {
          return this.constraint.minPolarAngle;
        },
        set: function(o) {
          this.constraint.minPolarAngle = o;
        }
      },
      maxPolarAngle: {
        get: function() {
          return this.constraint.maxPolarAngle;
        },
        set: function(o) {
          this.constraint.maxPolarAngle = o;
        }
      },
      minAzimuthAngle: {
        get: function() {
          return this.constraint.minAzimuthAngle;
        },
        set: function(o) {
          this.constraint.minAzimuthAngle = o;
        }
      },
      maxAzimuthAngle: {
        get: function() {
          return this.constraint.maxAzimuthAngle;
        },
        set: function(o) {
          this.constraint.maxAzimuthAngle = o;
        }
      },
      enableDamping: {
        get: function() {
          return this.constraint.enableDamping;
        },
        set: function(o) {
          this.constraint.enableDamping = o;
        }
      },
      dampingFactor: {
        get: function() {
          return this.constraint.dampingFactor;
        },
        set: function(o) {
          this.constraint.dampingFactor = o;
        }
      },
      // backward compatibility
      noZoom: {
        get: function() {
          return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."), !this.enableZoom;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."), this.enableZoom = !o;
        }
      },
      noRotate: {
        get: function() {
          return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."), !this.enableRotate;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."), this.enableRotate = !o;
        }
      },
      noPan: {
        get: function() {
          return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."), !this.enablePan;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."), this.enablePan = !o;
        }
      },
      noKeys: {
        get: function() {
          return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."), !this.enableKeys;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."), this.enableKeys = !o;
        }
      },
      staticMoving: {
        get: function() {
          return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."), !this.constraint.enableDamping;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."), this.constraint.enableDamping = !o;
        }
      },
      dynamicDampingFactor: {
        get: function() {
          return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."), this.constraint.dampingFactor;
        },
        set: function(o) {
          console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."), this.constraint.dampingFactor = o;
        }
      }
    }), n;
  }), Ry;
}
var s3;
function cre() {
  return s3 || (s3 = 1, function(a) {
    var e = Go;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), Object.defineProperty(a, "OrbitControls", {
      enumerable: !0,
      get: function() {
        return n.default;
      }
    }), a.default = void 0;
    var n = e(lre()), r = n.default;
    a.default = r;
  }(Py)), Py;
}
var l3;
function hre() {
  return l3 || (l3 = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(wl()), o = e(Tl()), l = e(ga()), h = g(ps()), d = Nl();
    function p(S) {
      if (typeof WeakMap != "function")
        return null;
      var L = /* @__PURE__ */ new WeakMap(), F = /* @__PURE__ */ new WeakMap();
      return (p = function($) {
        return $ ? F : L;
      })(S);
    }
    function g(S, L) {
      if (S && S.__esModule)
        return S;
      if (S === null || n(S) != "object" && typeof S != "function")
        return { default: S };
      var F = p(L);
      if (F && F.has(S))
        return F.get(S);
      var G = { __proto__: null }, $ = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var K in S)
        if (K !== "default" && {}.hasOwnProperty.call(S, K)) {
          var q = $ ? Object.getOwnPropertyDescriptor(S, K) : null;
          q && (q.get || q.set) ? Object.defineProperty(G, K, q) : G[K] = S[K];
        }
      return G.default = S, F && F.set(S, G), G;
    }
    function v(S, L) {
      var F = Object.keys(S);
      if (Object.getOwnPropertySymbols) {
        var G = Object.getOwnPropertySymbols(S);
        L && (G = G.filter(function($) {
          return Object.getOwnPropertyDescriptor(S, $).enumerable;
        })), F.push.apply(F, G);
      }
      return F;
    }
    function y(S) {
      for (var L = 1; L < arguments.length; L++) {
        var F = arguments[L] != null ? arguments[L] : {};
        L % 2 ? v(Object(F), !0).forEach(function(G) {
          (0, l.default)(S, G, F[G]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(S, Object.getOwnPropertyDescriptors(F)) : v(Object(F)).forEach(function(G) {
          Object.defineProperty(S, G, Object.getOwnPropertyDescriptor(F, G));
        });
      }
      return S;
    }
    var x = cre().OrbitControls, w = new x(h), T = function(L) {
      return Math.PI / 180 * L;
    }, M = function(L) {
      return L / (Math.PI / 180);
    };
    a.default = /* @__PURE__ */ function() {
      function S(L, F, G) {
        (0, r.default)(this, S), (0, l.default)(this, "options", void 0), (0, l.default)(this, "controls", void 0), (0, l.default)(this, "azimuthAngle", void 0), (0, l.default)(this, "camera", void 0), this.options = y(y({}, d.controls), G);
        var $ = this.options, K = $.polar, q = $.azimuth, he = $.enabled, ae = $.damping, ve = $.dampingFactor;
        this.controls = new w(L, F.domElement), this.camera = L, this.controls.enabled = he, this.controls.maxPolarAngle = T(90 - K.min), this.controls.minPolarAngle = T(90 - K.max), this.controls.maxAzimuthAngle = T(q.max), this.controls.minAzimuthAngle = T(q.min), this.azimuthAngle = this.controls.getPolarAngle(), this.controls.setPolarAngle(T(90 - this.options.default.polar)), this.controls.setAzimuthalAngle(T(this.options.default.azimuth)), this.setDistance(this.options.default.distance), ae && (this.controls.enablePan = !1, this.controls.enableDamping = !0, this.controls.dampingFactor = Math.max(0.05 - (ve - 1) * 0.05, 1e-3), this.controls.rotateSpeed = 0.07);
      }
      return (0, o.default)(S, [{
        key: "setDistance",
        value: function(F) {
          var G = this, $ = this.options.distance;
          this.controls.minDistance = F, this.controls.maxDistance = F, requestAnimationFrame(function() {
            G.controls.minDistance = $.min, G.controls.minZoom = $.min, G.controls.maxDistance = $.max, G.controls.maxZoom = $.max;
          });
        }
      }, {
        key: "fixed",
        value: function() {
          var F = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {
            target: new h.Vector3(0, 0, 0)
          }, G = F.polar, $ = F.azimuth, K = F.target;
          G != null && (this.controls.maxPolarAngle = T(90 + Number(G)), this.controls.minPolarAngle = T(90 - Number(G))), $ != null && (this.controls.maxAzimuthAngle = T(Number($)), this.controls.minAzimuthAngle = T(Number($))), this.lookAt(K);
        }
      }, {
        key: "getDistance",
        value: function() {
          var F = this.controls.target, G = F.x, $ = F.y, K = F.z, q = this.camera.position, he = q.x, ae = q.y, ve = q.z;
          return Math.sqrt(Math.pow(he - G, 2) + Math.pow(ae - $, 2) + Math.pow(ve - K, 2));
        }
      }, {
        key: "get",
        value: function() {
          var F = 90 - M(this.controls.getPolarAngle()), G = M(this.controls.getAzimuthalAngle()), $ = this.getDistance();
          return {
            polar: F,
            azimuth: G,
            distance: $
          };
        }
      }, {
        key: "set",
        value: function(F) {
          var G = F.polar, $ = F.azimuth, K = F.distance;
          G && (this.controls.maxPolarAngle = T(90 - G), this.controls.minPolarAngle = T(90 - G)), $ && (this.controls.maxAzimuthAngle = T($), this.controls.minAzimuthAngle = T($)), K && (this.controls.minDistance = K, this.controls.maxDistance = K);
        }
      }, {
        key: "lookAt",
        value: function() {
          var F = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : new h.Vector3(0, 0, 0);
          this.controls.target.set(F.x, F.y, F.z);
        }
      }, {
        key: "chase",
        value: function(F) {
          var G = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, $ = this.options, K = $.offsetAzimuth, q = $.panEasing;
          this.controls.target.set(F.position.x, F.position.y + G, F.position.z), this.azimuthAngle += (F.rotation.y + T(K) - this.azimuthAngle) / q, this.controls.maxAzimuthAngle = this.azimuthAngle, this.controls.minAzimuthAngle = this.azimuthAngle;
        }
      }, {
        key: "lock",
        value: function() {
          var F = this.controls.getPolarAngle();
          this.controls.maxPolarAngle = F, this.controls.minPolarAngle = F;
        }
      }, {
        key: "unlock",
        value: function() {
          var F = this.options.polar;
          this.controls.maxPolarAngle = T(90 - F.min), this.controls.minPolarAngle = T(90 - F.max);
        }
      }]);
    }();
  }(Ey)), Ey;
}
var By = {};
class ure {
  /**
   * The matrix storage.
   */
  /**
   * @todo Remove useless constructor
   */
  constructor() {
    this.matrix = {};
  }
  /**
   * get
   */
  get(e, n) {
    let {
      id: r
    } = e, {
      id: o
    } = n;
    if (o > r) {
      const l = o;
      o = r, r = l;
    }
    return `${r}-${o}` in this.matrix;
  }
  /**
   * set
   */
  set(e, n, r) {
    let {
      id: o
    } = e, {
      id: l
    } = n;
    if (l > o) {
      const h = l;
      l = o, o = h;
    }
    r ? this.matrix[`${o}-${l}`] = !0 : delete this.matrix[`${o}-${l}`];
  }
  /**
   * Empty the matrix
   */
  reset() {
    this.matrix = {};
  }
  /**
   * Set max number of objects
   */
  setNumObjects(e) {
  }
}
class io {
  /**
   * A vector of length 9, containing all matrix elements.
   */
  /**
   * @param elements A vector of length 9, containing all matrix elements.
   */
  constructor(e) {
    e === void 0 && (e = [0, 0, 0, 0, 0, 0, 0, 0, 0]), this.elements = e;
  }
  /**
   * Sets the matrix to identity
   * @todo Should perhaps be renamed to `setIdentity()` to be more clear.
   * @todo Create another function that immediately creates an identity matrix eg. `eye()`
   */
  identity() {
    const e = this.elements;
    e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 1, e[5] = 0, e[6] = 0, e[7] = 0, e[8] = 1;
  }
  /**
   * Set all elements to zero
   */
  setZero() {
    const e = this.elements;
    e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 0, e[4] = 0, e[5] = 0, e[6] = 0, e[7] = 0, e[8] = 0;
  }
  /**
   * Sets the matrix diagonal elements from a Vec3
   */
  setTrace(e) {
    const n = this.elements;
    n[0] = e.x, n[4] = e.y, n[8] = e.z;
  }
  /**
   * Gets the matrix diagonal elements
   */
  getTrace(e) {
    e === void 0 && (e = new X());
    const n = this.elements;
    return e.x = n[0], e.y = n[4], e.z = n[8], e;
  }
  /**
   * Matrix-Vector multiplication
   * @param v The vector to multiply with
   * @param target Optional, target to save the result in.
   */
  vmult(e, n) {
    n === void 0 && (n = new X());
    const r = this.elements, o = e.x, l = e.y, h = e.z;
    return n.x = r[0] * o + r[1] * l + r[2] * h, n.y = r[3] * o + r[4] * l + r[5] * h, n.z = r[6] * o + r[7] * l + r[8] * h, n;
  }
  /**
   * Matrix-scalar multiplication
   */
  smult(e) {
    for (let n = 0; n < this.elements.length; n++)
      this.elements[n] *= e;
  }
  /**
   * Matrix multiplication
   * @param matrix Matrix to multiply with from left side.
   */
  mmult(e, n) {
    n === void 0 && (n = new io());
    const r = this.elements, o = e.elements, l = n.elements, h = r[0], d = r[1], p = r[2], g = r[3], v = r[4], y = r[5], x = r[6], w = r[7], T = r[8], M = o[0], S = o[1], L = o[2], F = o[3], G = o[4], $ = o[5], K = o[6], q = o[7], he = o[8];
    return l[0] = h * M + d * F + p * K, l[1] = h * S + d * G + p * q, l[2] = h * L + d * $ + p * he, l[3] = g * M + v * F + y * K, l[4] = g * S + v * G + y * q, l[5] = g * L + v * $ + y * he, l[6] = x * M + w * F + T * K, l[7] = x * S + w * G + T * q, l[8] = x * L + w * $ + T * he, n;
  }
  /**
   * Scale each column of the matrix
   */
  scale(e, n) {
    n === void 0 && (n = new io());
    const r = this.elements, o = n.elements;
    for (let l = 0; l !== 3; l++)
      o[3 * l + 0] = e.x * r[3 * l + 0], o[3 * l + 1] = e.y * r[3 * l + 1], o[3 * l + 2] = e.z * r[3 * l + 2];
    return n;
  }
  /**
   * Solve Ax=b
   * @param b The right hand side
   * @param target Optional. Target vector to save in.
   * @return The solution x
   * @todo should reuse arrays
   */
  solve(e, n) {
    n === void 0 && (n = new X());
    const r = 3, o = 4, l = [];
    let h, d;
    for (h = 0; h < r * o; h++)
      l.push(0);
    for (h = 0; h < 3; h++)
      for (d = 0; d < 3; d++)
        l[h + o * d] = this.elements[h + 3 * d];
    l[3 + 4 * 0] = e.x, l[3 + 4 * 1] = e.y, l[3 + 4 * 2] = e.z;
    let p = 3;
    const g = p;
    let v;
    const y = 4;
    let x;
    do {
      if (h = g - p, l[h + o * h] === 0) {
        for (d = h + 1; d < g; d++)
          if (l[h + o * d] !== 0) {
            v = y;
            do
              x = y - v, l[x + o * h] += l[x + o * d];
            while (--v);
            break;
          }
      }
      if (l[h + o * h] !== 0)
        for (d = h + 1; d < g; d++) {
          const w = l[h + o * d] / l[h + o * h];
          v = y;
          do
            x = y - v, l[x + o * d] = x <= h ? 0 : l[x + o * d] - l[x + o * h] * w;
          while (--v);
        }
    } while (--p);
    if (n.z = l[2 * o + 3] / l[2 * o + 2], n.y = (l[1 * o + 3] - l[1 * o + 2] * n.z) / l[1 * o + 1], n.x = (l[0 * o + 3] - l[0 * o + 2] * n.z - l[0 * o + 1] * n.y) / l[0 * o + 0], isNaN(n.x) || isNaN(n.y) || isNaN(n.z) || n.x === 1 / 0 || n.y === 1 / 0 || n.z === 1 / 0)
      throw `Could not solve equation! Got x=[${n.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;
    return n;
  }
  /**
   * Get an element in the matrix by index. Index starts at 0, not 1!!!
   * @param value If provided, the matrix element will be set to this value.
   */
  e(e, n, r) {
    if (r === void 0)
      return this.elements[n + 3 * e];
    this.elements[n + 3 * e] = r;
  }
  /**
   * Copy another matrix into this matrix object.
   */
  copy(e) {
    for (let n = 0; n < e.elements.length; n++)
      this.elements[n] = e.elements[n];
    return this;
  }
  /**
   * Returns a string representation of the matrix.
   */
  toString() {
    let e = "";
    const n = ",";
    for (let r = 0; r < 9; r++)
      e += this.elements[r] + n;
    return e;
  }
  /**
   * reverse the matrix
   * @param target Target matrix to save in.
   * @return The solution x
   */
  reverse(e) {
    e === void 0 && (e = new io());
    const n = 3, r = 6, o = dre;
    let l, h;
    for (l = 0; l < 3; l++)
      for (h = 0; h < 3; h++)
        o[l + r * h] = this.elements[l + 3 * h];
    o[3 + 6 * 0] = 1, o[3 + 6 * 1] = 0, o[3 + 6 * 2] = 0, o[4 + 6 * 0] = 0, o[4 + 6 * 1] = 1, o[4 + 6 * 2] = 0, o[5 + 6 * 0] = 0, o[5 + 6 * 1] = 0, o[5 + 6 * 2] = 1;
    let d = 3;
    const p = d;
    let g;
    const v = r;
    let y;
    do {
      if (l = p - d, o[l + r * l] === 0) {
        for (h = l + 1; h < p; h++)
          if (o[l + r * h] !== 0) {
            g = v;
            do
              y = v - g, o[y + r * l] += o[y + r * h];
            while (--g);
            break;
          }
      }
      if (o[l + r * l] !== 0)
        for (h = l + 1; h < p; h++) {
          const x = o[l + r * h] / o[l + r * l];
          g = v;
          do
            y = v - g, o[y + r * h] = y <= l ? 0 : o[y + r * h] - o[y + r * l] * x;
          while (--g);
        }
    } while (--d);
    l = 2;
    do {
      h = l - 1;
      do {
        const x = o[l + r * h] / o[l + r * l];
        g = r;
        do
          y = r - g, o[y + r * h] = o[y + r * h] - o[y + r * l] * x;
        while (--g);
      } while (h--);
    } while (--l);
    l = 2;
    do {
      const x = 1 / o[l + r * l];
      g = r;
      do
        y = r - g, o[y + r * l] = o[y + r * l] * x;
      while (--g);
    } while (l--);
    l = 2;
    do {
      h = 2;
      do {
        if (y = o[n + h + r * l], isNaN(y) || y === 1 / 0)
          throw `Could not reverse! A=[${this.toString()}]`;
        e.e(l, h, y);
      } while (h--);
    } while (l--);
    return e;
  }
  /**
   * Set the matrix from a quaterion
   */
  setRotationFromQuaternion(e) {
    const n = e.x, r = e.y, o = e.z, l = e.w, h = n + n, d = r + r, p = o + o, g = n * h, v = n * d, y = n * p, x = r * d, w = r * p, T = o * p, M = l * h, S = l * d, L = l * p, F = this.elements;
    return F[3 * 0 + 0] = 1 - (x + T), F[3 * 0 + 1] = v - L, F[3 * 0 + 2] = y + S, F[3 * 1 + 0] = v + L, F[3 * 1 + 1] = 1 - (g + T), F[3 * 1 + 2] = w - M, F[3 * 2 + 0] = y - S, F[3 * 2 + 1] = w + M, F[3 * 2 + 2] = 1 - (g + x), this;
  }
  /**
   * Transpose the matrix
   * @param target Optional. Where to store the result.
   * @return The target Mat3, or a new Mat3 if target was omitted.
   */
  transpose(e) {
    e === void 0 && (e = new io());
    const n = this.elements, r = e.elements;
    let o;
    return r[0] = n[0], r[4] = n[4], r[8] = n[8], o = n[1], r[1] = n[3], r[3] = o, o = n[2], r[2] = n[6], r[6] = o, o = n[5], r[5] = n[7], r[7] = o, e;
  }
}
const dre = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
class X {
  constructor(e, n, r) {
    e === void 0 && (e = 0), n === void 0 && (n = 0), r === void 0 && (r = 0), this.x = e, this.y = n, this.z = r;
  }
  /**
   * Vector cross product
   * @param target Optional target to save in.
   */
  cross(e, n) {
    n === void 0 && (n = new X());
    const r = e.x, o = e.y, l = e.z, h = this.x, d = this.y, p = this.z;
    return n.x = d * l - p * o, n.y = p * r - h * l, n.z = h * o - d * r, n;
  }
  /**
   * Set the vectors' 3 elements
   */
  set(e, n, r) {
    return this.x = e, this.y = n, this.z = r, this;
  }
  /**
   * Set all components of the vector to zero.
   */
  setZero() {
    this.x = this.y = this.z = 0;
  }
  /**
   * Vector addition
   */
  vadd(e, n) {
    if (n)
      n.x = e.x + this.x, n.y = e.y + this.y, n.z = e.z + this.z;
    else
      return new X(this.x + e.x, this.y + e.y, this.z + e.z);
  }
  /**
   * Vector subtraction
   * @param target Optional target to save in.
   */
  vsub(e, n) {
    if (n)
      n.x = this.x - e.x, n.y = this.y - e.y, n.z = this.z - e.z;
    else
      return new X(this.x - e.x, this.y - e.y, this.z - e.z);
  }
  /**
   * Get the cross product matrix a_cross from a vector, such that a x b = a_cross * b = c
   *
   * See {@link https://www8.cs.umu.se/kurser/TDBD24/VT06/lectures/Lecture6.pdf Umeå University Lecture}
   */
  crossmat() {
    return new io([0, -this.z, this.y, this.z, 0, -this.x, -this.y, this.x, 0]);
  }
  /**
   * Normalize the vector. Note that this changes the values in the vector.
    * @return Returns the norm of the vector
   */
  normalize() {
    const e = this.x, n = this.y, r = this.z, o = Math.sqrt(e * e + n * n + r * r);
    if (o > 0) {
      const l = 1 / o;
      this.x *= l, this.y *= l, this.z *= l;
    } else
      this.x = 0, this.y = 0, this.z = 0;
    return o;
  }
  /**
   * Get the version of this vector that is of length 1.
   * @param target Optional target to save in
   * @return Returns the unit vector
   */
  unit(e) {
    e === void 0 && (e = new X());
    const n = this.x, r = this.y, o = this.z;
    let l = Math.sqrt(n * n + r * r + o * o);
    return l > 0 ? (l = 1 / l, e.x = n * l, e.y = r * l, e.z = o * l) : (e.x = 1, e.y = 0, e.z = 0), e;
  }
  /**
   * Get the length of the vector
   */
  length() {
    const e = this.x, n = this.y, r = this.z;
    return Math.sqrt(e * e + n * n + r * r);
  }
  /**
   * Get the squared length of the vector.
   */
  lengthSquared() {
    return this.dot(this);
  }
  /**
   * Get distance from this point to another point
   */
  distanceTo(e) {
    const n = this.x, r = this.y, o = this.z, l = e.x, h = e.y, d = e.z;
    return Math.sqrt((l - n) * (l - n) + (h - r) * (h - r) + (d - o) * (d - o));
  }
  /**
   * Get squared distance from this point to another point
   */
  distanceSquared(e) {
    const n = this.x, r = this.y, o = this.z, l = e.x, h = e.y, d = e.z;
    return (l - n) * (l - n) + (h - r) * (h - r) + (d - o) * (d - o);
  }
  /**
   * Multiply all the components of the vector with a scalar.
   * @param target The vector to save the result in.
   */
  scale(e, n) {
    n === void 0 && (n = new X());
    const r = this.x, o = this.y, l = this.z;
    return n.x = e * r, n.y = e * o, n.z = e * l, n;
  }
  /**
   * Multiply the vector with an other vector, component-wise.
   * @param target The vector to save the result in.
   */
  vmul(e, n) {
    return n === void 0 && (n = new X()), n.x = e.x * this.x, n.y = e.y * this.y, n.z = e.z * this.z, n;
  }
  /**
   * Scale a vector and add it to this vector. Save the result in "target". (target = this + vector * scalar)
   * @param target The vector to save the result in.
   */
  addScaledVector(e, n, r) {
    return r === void 0 && (r = new X()), r.x = this.x + e * n.x, r.y = this.y + e * n.y, r.z = this.z + e * n.z, r;
  }
  /**
   * Calculate dot product
   * @param vector
   */
  dot(e) {
    return this.x * e.x + this.y * e.y + this.z * e.z;
  }
  isZero() {
    return this.x === 0 && this.y === 0 && this.z === 0;
  }
  /**
   * Make the vector point in the opposite direction.
   * @param target Optional target to save in
   */
  negate(e) {
    return e === void 0 && (e = new X()), e.x = -this.x, e.y = -this.y, e.z = -this.z, e;
  }
  /**
   * Compute two artificial tangents to the vector
   * @param t1 Vector object to save the first tangent in
   * @param t2 Vector object to save the second tangent in
   */
  tangents(e, n) {
    const r = this.length();
    if (r > 0) {
      const o = mre, l = 1 / r;
      o.set(this.x * l, this.y * l, this.z * l);
      const h = pre;
      Math.abs(o.x) < 0.9 ? (h.set(1, 0, 0), o.cross(h, e)) : (h.set(0, 1, 0), o.cross(h, e)), o.cross(e, n);
    } else
      e.set(1, 0, 0), n.set(0, 1, 0);
  }
  /**
   * Converts to a more readable format
   */
  toString() {
    return `${this.x},${this.y},${this.z}`;
  }
  /**
   * Converts to an array
   */
  toArray() {
    return [this.x, this.y, this.z];
  }
  /**
   * Copies value of source to this vector.
   */
  copy(e) {
    return this.x = e.x, this.y = e.y, this.z = e.z, this;
  }
  /**
   * Do a linear interpolation between two vectors
   * @param t A number between 0 and 1. 0 will make this function return u, and 1 will make it return v. Numbers in between will generate a vector in between them.
   */
  lerp(e, n, r) {
    const o = this.x, l = this.y, h = this.z;
    r.x = o + (e.x - o) * n, r.y = l + (e.y - l) * n, r.z = h + (e.z - h) * n;
  }
  /**
   * Check if a vector equals is almost equal to another one.
   */
  almostEquals(e, n) {
    return n === void 0 && (n = 1e-6), !(Math.abs(this.x - e.x) > n || Math.abs(this.y - e.y) > n || Math.abs(this.z - e.z) > n);
  }
  /**
   * Check if a vector is almost zero
   */
  almostZero(e) {
    return e === void 0 && (e = 1e-6), !(Math.abs(this.x) > e || Math.abs(this.y) > e || Math.abs(this.z) > e);
  }
  /**
   * Check if the vector is anti-parallel to another vector.
   * @param precision Set to zero for exact comparisons
   */
  isAntiparallelTo(e, n) {
    return this.negate(c3), c3.almostEquals(e, n);
  }
  /**
   * Clone the vector
   */
  clone() {
    return new X(this.x, this.y, this.z);
  }
}
X.ZERO = new X(0, 0, 0);
X.UNIT_X = new X(1, 0, 0);
X.UNIT_Y = new X(0, 1, 0);
X.UNIT_Z = new X(0, 0, 1);
const mre = new X(), pre = new X(), c3 = new X();
class ar {
  /**
   * The lower bound of the bounding box
   */
  /**
   * The upper bound of the bounding box
   */
  constructor(e) {
    e === void 0 && (e = {}), this.lowerBound = new X(), this.upperBound = new X(), e.lowerBound && this.lowerBound.copy(e.lowerBound), e.upperBound && this.upperBound.copy(e.upperBound);
  }
  /**
   * Set the AABB bounds from a set of points.
   * @param points An array of Vec3's.
   * @return The self object
   */
  setFromPoints(e, n, r, o) {
    const l = this.lowerBound, h = this.upperBound, d = r;
    l.copy(e[0]), d && d.vmult(l, l), h.copy(l);
    for (let p = 1; p < e.length; p++) {
      let g = e[p];
      d && (d.vmult(g, h3), g = h3), g.x > h.x && (h.x = g.x), g.x < l.x && (l.x = g.x), g.y > h.y && (h.y = g.y), g.y < l.y && (l.y = g.y), g.z > h.z && (h.z = g.z), g.z < l.z && (l.z = g.z);
    }
    return n && (n.vadd(l, l), n.vadd(h, h)), o && (l.x -= o, l.y -= o, l.z -= o, h.x += o, h.y += o, h.z += o), this;
  }
  /**
   * Copy bounds from an AABB to this AABB
   * @param aabb Source to copy from
   * @return The this object, for chainability
   */
  copy(e) {
    return this.lowerBound.copy(e.lowerBound), this.upperBound.copy(e.upperBound), this;
  }
  /**
   * Clone an AABB
   */
  clone() {
    return new ar().copy(this);
  }
  /**
   * Extend this AABB so that it covers the given AABB too.
   */
  extend(e) {
    this.lowerBound.x = Math.min(this.lowerBound.x, e.lowerBound.x), this.upperBound.x = Math.max(this.upperBound.x, e.upperBound.x), this.lowerBound.y = Math.min(this.lowerBound.y, e.lowerBound.y), this.upperBound.y = Math.max(this.upperBound.y, e.upperBound.y), this.lowerBound.z = Math.min(this.lowerBound.z, e.lowerBound.z), this.upperBound.z = Math.max(this.upperBound.z, e.upperBound.z);
  }
  /**
   * Returns true if the given AABB overlaps this AABB.
   */
  overlaps(e) {
    const n = this.lowerBound, r = this.upperBound, o = e.lowerBound, l = e.upperBound, h = o.x <= r.x && r.x <= l.x || n.x <= l.x && l.x <= r.x, d = o.y <= r.y && r.y <= l.y || n.y <= l.y && l.y <= r.y, p = o.z <= r.z && r.z <= l.z || n.z <= l.z && l.z <= r.z;
    return h && d && p;
  }
  // Mostly for debugging
  volume() {
    const e = this.lowerBound, n = this.upperBound;
    return (n.x - e.x) * (n.y - e.y) * (n.z - e.z);
  }
  /**
   * Returns true if the given AABB is fully contained in this AABB.
   */
  contains(e) {
    const n = this.lowerBound, r = this.upperBound, o = e.lowerBound, l = e.upperBound;
    return n.x <= o.x && r.x >= l.x && n.y <= o.y && r.y >= l.y && n.z <= o.z && r.z >= l.z;
  }
  getCorners(e, n, r, o, l, h, d, p) {
    const g = this.lowerBound, v = this.upperBound;
    e.copy(g), n.set(v.x, g.y, g.z), r.set(v.x, v.y, g.z), o.set(g.x, v.y, v.z), l.set(v.x, g.y, v.z), h.set(g.x, v.y, g.z), d.set(g.x, g.y, v.z), p.copy(v);
  }
  /**
   * Get the representation of an AABB in another frame.
   * @return The "target" AABB object.
   */
  toLocalFrame(e, n) {
    const r = u3, o = r[0], l = r[1], h = r[2], d = r[3], p = r[4], g = r[5], v = r[6], y = r[7];
    this.getCorners(o, l, h, d, p, g, v, y);
    for (let x = 0; x !== 8; x++) {
      const w = r[x];
      e.pointToLocal(w, w);
    }
    return n.setFromPoints(r);
  }
  /**
   * Get the representation of an AABB in the global frame.
   * @return The "target" AABB object.
   */
  toWorldFrame(e, n) {
    const r = u3, o = r[0], l = r[1], h = r[2], d = r[3], p = r[4], g = r[5], v = r[6], y = r[7];
    this.getCorners(o, l, h, d, p, g, v, y);
    for (let x = 0; x !== 8; x++) {
      const w = r[x];
      e.pointToWorld(w, w);
    }
    return n.setFromPoints(r);
  }
  /**
   * Check if the AABB is hit by a ray.
   */
  overlapsRay(e) {
    const {
      direction: n,
      from: r
    } = e, o = 1 / n.x, l = 1 / n.y, h = 1 / n.z, d = (this.lowerBound.x - r.x) * o, p = (this.upperBound.x - r.x) * o, g = (this.lowerBound.y - r.y) * l, v = (this.upperBound.y - r.y) * l, y = (this.lowerBound.z - r.z) * h, x = (this.upperBound.z - r.z) * h, w = Math.max(Math.max(Math.min(d, p), Math.min(g, v)), Math.min(y, x)), T = Math.min(Math.min(Math.max(d, p), Math.max(g, v)), Math.max(y, x));
    return !(T < 0 || w > T);
  }
}
const h3 = new X(), u3 = [new X(), new X(), new X(), new X(), new X(), new X(), new X(), new X()];
class Kx {
  /**
   * The matrix storage.
   */
  constructor() {
    this.matrix = [];
  }
  /**
   * Get an element
   */
  get(e, n) {
    let {
      index: r
    } = e, {
      index: o
    } = n;
    if (o > r) {
      const l = o;
      o = r, r = l;
    }
    return this.matrix[(r * (r + 1) >> 1) + o - 1];
  }
  /**
   * Set an element
   */
  set(e, n, r) {
    let {
      index: o
    } = e, {
      index: l
    } = n;
    if (l > o) {
      const h = l;
      l = o, o = h;
    }
    this.matrix[(o * (o + 1) >> 1) + l - 1] = r ? 1 : 0;
  }
  /**
   * Sets all elements to zero
   */
  reset() {
    for (let e = 0, n = this.matrix.length; e !== n; e++)
      this.matrix[e] = 0;
  }
  /**
   * Sets the max number of objects
   */
  setNumObjects(e) {
    this.matrix.length = e * (e - 1) >> 1;
  }
}
class xC {
  /**
   * Add an event listener
   * @return The self object, for chainability.
   */
  addEventListener(e, n) {
    this._listeners === void 0 && (this._listeners = {});
    const r = this._listeners;
    return r[e] === void 0 && (r[e] = []), r[e].includes(n) || r[e].push(n), this;
  }
  /**
   * Check if an event listener is added
   */
  hasEventListener(e, n) {
    if (this._listeners === void 0)
      return !1;
    const r = this._listeners;
    return !!(r[e] !== void 0 && r[e].includes(n));
  }
  /**
   * Check if any event listener of the given type is added
   */
  hasAnyEventListener(e) {
    return this._listeners === void 0 ? !1 : this._listeners[e] !== void 0;
  }
  /**
   * Remove an event listener
   * @return The self object, for chainability.
   */
  removeEventListener(e, n) {
    if (this._listeners === void 0)
      return this;
    const r = this._listeners;
    if (r[e] === void 0)
      return this;
    const o = r[e].indexOf(n);
    return o !== -1 && r[e].splice(o, 1), this;
  }
  /**
   * Emit an event.
   * @return The self object, for chainability.
   */
  dispatchEvent(e) {
    if (this._listeners === void 0)
      return this;
    const r = this._listeners[e.type];
    if (r !== void 0) {
      e.target = this;
      for (let o = 0, l = r.length; o < l; o++)
        r[o].call(this, e);
    }
    return this;
  }
}
let Yr = class jc {
  constructor(e, n, r, o) {
    e === void 0 && (e = 0), n === void 0 && (n = 0), r === void 0 && (r = 0), o === void 0 && (o = 1), this.x = e, this.y = n, this.z = r, this.w = o;
  }
  /**
   * Set the value of the quaternion.
   */
  set(e, n, r, o) {
    return this.x = e, this.y = n, this.z = r, this.w = o, this;
  }
  /**
   * Convert to a readable format
   * @return "x,y,z,w"
   */
  toString() {
    return `${this.x},${this.y},${this.z},${this.w}`;
  }
  /**
   * Convert to an Array
   * @return [x, y, z, w]
   */
  toArray() {
    return [this.x, this.y, this.z, this.w];
  }
  /**
   * Set the quaternion components given an axis and an angle in radians.
   */
  setFromAxisAngle(e, n) {
    const r = Math.sin(n * 0.5);
    return this.x = e.x * r, this.y = e.y * r, this.z = e.z * r, this.w = Math.cos(n * 0.5), this;
  }
  /**
   * Converts the quaternion to [ axis, angle ] representation.
   * @param targetAxis A vector object to reuse for storing the axis.
   * @return An array, first element is the axis and the second is the angle in radians.
   */
  toAxisAngle(e) {
    e === void 0 && (e = new X()), this.normalize();
    const n = 2 * Math.acos(this.w), r = Math.sqrt(1 - this.w * this.w);
    return r < 1e-3 ? (e.x = this.x, e.y = this.y, e.z = this.z) : (e.x = this.x / r, e.y = this.y / r, e.z = this.z / r), [e, n];
  }
  /**
   * Set the quaternion value given two vectors. The resulting rotation will be the needed rotation to rotate u to v.
   */
  setFromVectors(e, n) {
    if (e.isAntiparallelTo(n)) {
      const r = fre, o = gre;
      e.tangents(r, o), this.setFromAxisAngle(r, Math.PI);
    } else {
      const r = e.cross(n);
      this.x = r.x, this.y = r.y, this.z = r.z, this.w = Math.sqrt(e.length() ** 2 * n.length() ** 2) + e.dot(n), this.normalize();
    }
    return this;
  }
  /**
   * Multiply the quaternion with an other quaternion.
   */
  mult(e, n) {
    n === void 0 && (n = new jc());
    const r = this.x, o = this.y, l = this.z, h = this.w, d = e.x, p = e.y, g = e.z, v = e.w;
    return n.x = r * v + h * d + o * g - l * p, n.y = o * v + h * p + l * d - r * g, n.z = l * v + h * g + r * p - o * d, n.w = h * v - r * d - o * p - l * g, n;
  }
  /**
   * Get the inverse quaternion rotation.
   */
  inverse(e) {
    e === void 0 && (e = new jc());
    const n = this.x, r = this.y, o = this.z, l = this.w;
    this.conjugate(e);
    const h = 1 / (n * n + r * r + o * o + l * l);
    return e.x *= h, e.y *= h, e.z *= h, e.w *= h, e;
  }
  /**
   * Get the quaternion conjugate
   */
  conjugate(e) {
    return e === void 0 && (e = new jc()), e.x = -this.x, e.y = -this.y, e.z = -this.z, e.w = this.w, e;
  }
  /**
   * Normalize the quaternion. Note that this changes the values of the quaternion.
   */
  normalize() {
    let e = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
    return e === 0 ? (this.x = 0, this.y = 0, this.z = 0, this.w = 0) : (e = 1 / e, this.x *= e, this.y *= e, this.z *= e, this.w *= e), this;
  }
  /**
   * Approximation of quaternion normalization. Works best when quat is already almost-normalized.
   * @author unphased, https://github.com/unphased
   */
  normalizeFast() {
    const e = (3 - (this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w)) / 2;
    return e === 0 ? (this.x = 0, this.y = 0, this.z = 0, this.w = 0) : (this.x *= e, this.y *= e, this.z *= e, this.w *= e), this;
  }
  /**
   * Multiply the quaternion by a vector
   */
  vmult(e, n) {
    n === void 0 && (n = new X());
    const r = e.x, o = e.y, l = e.z, h = this.x, d = this.y, p = this.z, g = this.w, v = g * r + d * l - p * o, y = g * o + p * r - h * l, x = g * l + h * o - d * r, w = -h * r - d * o - p * l;
    return n.x = v * g + w * -h + y * -p - x * -d, n.y = y * g + w * -d + x * -h - v * -p, n.z = x * g + w * -p + v * -d - y * -h, n;
  }
  /**
   * Copies value of source to this quaternion.
   * @return this
   */
  copy(e) {
    return this.x = e.x, this.y = e.y, this.z = e.z, this.w = e.w, this;
  }
  /**
   * Convert the quaternion to euler angle representation. Order: YZX, as this page describes: https://www.euclideanspace.com/maths/standards/index.htm
   * @param order Three-character string, defaults to "YZX"
   */
  toEuler(e, n) {
    n === void 0 && (n = "YZX");
    let r, o, l;
    const h = this.x, d = this.y, p = this.z, g = this.w;
    switch (n) {
      case "YZX":
        const v = h * d + p * g;
        if (v > 0.499 && (r = 2 * Math.atan2(h, g), o = Math.PI / 2, l = 0), v < -0.499 && (r = -2 * Math.atan2(h, g), o = -Math.PI / 2, l = 0), r === void 0) {
          const y = h * h, x = d * d, w = p * p;
          r = Math.atan2(2 * d * g - 2 * h * p, 1 - 2 * x - 2 * w), o = Math.asin(2 * v), l = Math.atan2(2 * h * g - 2 * d * p, 1 - 2 * y - 2 * w);
        }
        break;
      default:
        throw new Error(`Euler order ${n} not supported yet.`);
    }
    e.y = r, e.z = o, e.x = l;
  }
  /**
   * Set the quaternion components given Euler angle representation.
   *
   * @param order The order to apply angles: 'XYZ' or 'YXZ' or any other combination.
   *
   * See {@link https://www.mathworks.com/matlabcentral/fileexchange/20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors MathWorks} reference
   */
  setFromEuler(e, n, r, o) {
    o === void 0 && (o = "XYZ");
    const l = Math.cos(e / 2), h = Math.cos(n / 2), d = Math.cos(r / 2), p = Math.sin(e / 2), g = Math.sin(n / 2), v = Math.sin(r / 2);
    return o === "XYZ" ? (this.x = p * h * d + l * g * v, this.y = l * g * d - p * h * v, this.z = l * h * v + p * g * d, this.w = l * h * d - p * g * v) : o === "YXZ" ? (this.x = p * h * d + l * g * v, this.y = l * g * d - p * h * v, this.z = l * h * v - p * g * d, this.w = l * h * d + p * g * v) : o === "ZXY" ? (this.x = p * h * d - l * g * v, this.y = l * g * d + p * h * v, this.z = l * h * v + p * g * d, this.w = l * h * d - p * g * v) : o === "ZYX" ? (this.x = p * h * d - l * g * v, this.y = l * g * d + p * h * v, this.z = l * h * v - p * g * d, this.w = l * h * d + p * g * v) : o === "YZX" ? (this.x = p * h * d + l * g * v, this.y = l * g * d + p * h * v, this.z = l * h * v - p * g * d, this.w = l * h * d - p * g * v) : o === "XZY" && (this.x = p * h * d - l * g * v, this.y = l * g * d - p * h * v, this.z = l * h * v + p * g * d, this.w = l * h * d + p * g * v), this;
  }
  clone() {
    return new jc(this.x, this.y, this.z, this.w);
  }
  /**
   * Performs a spherical linear interpolation between two quat
   *
   * @param toQuat second operand
   * @param t interpolation amount between the self quaternion and toQuat
   * @param target A quaternion to store the result in. If not provided, a new one will be created.
   * @returns {Quaternion} The "target" object
   */
  slerp(e, n, r) {
    r === void 0 && (r = new jc());
    const o = this.x, l = this.y, h = this.z, d = this.w;
    let p = e.x, g = e.y, v = e.z, y = e.w, x, w, T, M, S;
    return w = o * p + l * g + h * v + d * y, w < 0 && (w = -w, p = -p, g = -g, v = -v, y = -y), 1 - w > 1e-6 ? (x = Math.acos(w), T = Math.sin(x), M = Math.sin((1 - n) * x) / T, S = Math.sin(n * x) / T) : (M = 1 - n, S = n), r.x = M * o + S * p, r.y = M * l + S * g, r.z = M * h + S * v, r.w = M * d + S * y, r;
  }
  /**
   * Rotate an absolute orientation quaternion given an angular velocity and a time step.
   */
  integrate(e, n, r, o) {
    o === void 0 && (o = new jc());
    const l = e.x * r.x, h = e.y * r.y, d = e.z * r.z, p = this.x, g = this.y, v = this.z, y = this.w, x = n * 0.5;
    return o.x += x * (l * y + h * v - d * g), o.y += x * (h * y + d * p - l * v), o.z += x * (d * y + l * g - h * p), o.w += x * (-l * p - h * g - d * v), o;
  }
};
const fre = new X(), gre = new X(), TE = {
  /** SPHERE */
  SPHERE: 1,
  /** PLANE */
  PLANE: 2,
  /** BOX */
  BOX: 4,
  /** COMPOUND */
  COMPOUND: 8,
  /** CONVEXPOLYHEDRON */
  CONVEXPOLYHEDRON: 16,
  /** HEIGHTFIELD */
  HEIGHTFIELD: 32,
  /** PARTICLE */
  PARTICLE: 64,
  /** CYLINDER */
  CYLINDER: 128,
  /** TRIMESH */
  TRIMESH: 256
};
class ct {
  /**
   * Identifier of the Shape.
   */
  /**
   * The type of this shape. Must be set to an int > 0 by subclasses.
   */
  /**
   * The local bounding sphere radius of this shape.
   */
  /**
   * Whether to produce contact forces when in contact with other bodies. Note that contacts will be generated, but they will be disabled.
   * @default true
   */
  /**
   * @default 1
   */
  /**
   * @default -1
   */
  /**
   * Optional material of the shape that regulates contact properties.
   */
  /**
   * The body to which the shape is added to.
   */
  /**
   * All the Shape types.
   */
  constructor(e) {
    e === void 0 && (e = {}), this.id = ct.idCounter++, this.type = e.type || 0, this.boundingSphereRadius = 0, this.collisionResponse = e.collisionResponse ? e.collisionResponse : !0, this.collisionFilterGroup = e.collisionFilterGroup !== void 0 ? e.collisionFilterGroup : 1, this.collisionFilterMask = e.collisionFilterMask !== void 0 ? e.collisionFilterMask : -1, this.material = e.material ? e.material : null, this.body = null;
  }
  /**
   * Computes the bounding sphere radius.
   * The result is stored in the property `.boundingSphereRadius`
   */
  updateBoundingSphereRadius() {
    throw `computeBoundingSphereRadius() not implemented for shape type ${this.type}`;
  }
  /**
   * Get the volume of this shape
   */
  volume() {
    throw `volume() not implemented for shape type ${this.type}`;
  }
  /**
   * Calculates the inertia in the local frame for this shape.
   * @see http://en.wikipedia.org/wiki/List_of_moments_of_inertia
   */
  calculateLocalInertia(e, n) {
    throw `calculateLocalInertia() not implemented for shape type ${this.type}`;
  }
  /**
   * @todo use abstract for these kind of methods
   */
  calculateWorldAABB(e, n, r, o) {
    throw `calculateWorldAABB() not implemented for shape type ${this.type}`;
  }
}
ct.idCounter = 0;
ct.types = TE;
class En {
  /**
   * position
   */
  /**
   * quaternion
   */
  constructor(e) {
    e === void 0 && (e = {}), this.position = new X(), this.quaternion = new Yr(), e.position && this.position.copy(e.position), e.quaternion && this.quaternion.copy(e.quaternion);
  }
  /**
   * Get a global point in local transform coordinates.
   */
  pointToLocal(e, n) {
    return En.pointToLocalFrame(this.position, this.quaternion, e, n);
  }
  /**
   * Get a local point in global transform coordinates.
   */
  pointToWorld(e, n) {
    return En.pointToWorldFrame(this.position, this.quaternion, e, n);
  }
  /**
   * vectorToWorldFrame
   */
  vectorToWorldFrame(e, n) {
    return n === void 0 && (n = new X()), this.quaternion.vmult(e, n), n;
  }
  /**
   * pointToLocalFrame
   */
  static pointToLocalFrame(e, n, r, o) {
    return o === void 0 && (o = new X()), r.vsub(e, o), n.conjugate(d3), d3.vmult(o, o), o;
  }
  /**
   * pointToWorldFrame
   */
  static pointToWorldFrame(e, n, r, o) {
    return o === void 0 && (o = new X()), n.vmult(r, o), o.vadd(e, o), o;
  }
  /**
   * vectorToWorldFrame
   */
  static vectorToWorldFrame(e, n, r) {
    return r === void 0 && (r = new X()), e.vmult(n, r), r;
  }
  /**
   * vectorToLocalFrame
   */
  static vectorToLocalFrame(e, n, r, o) {
    return o === void 0 && (o = new X()), n.w *= -1, n.vmult(r, o), n.w *= -1, o;
  }
}
const d3 = new Yr();
class ss extends ct {
  /** vertices */
  /**
   * Array of integer arrays, indicating which vertices each face consists of
   */
  /** faceNormals */
  /** worldVertices */
  /** worldVerticesNeedsUpdate */
  /** worldFaceNormals */
  /** worldFaceNormalsNeedsUpdate */
  /**
   * If given, these locally defined, normalized axes are the only ones being checked when doing separating axis check.
   */
  /** uniqueEdges */
  /**
   * @param vertices An array of Vec3's
   * @param faces Array of integer arrays, describing which vertices that is included in each face.
   */
  constructor(e) {
    e === void 0 && (e = {});
    const {
      vertices: n = [],
      faces: r = [],
      normals: o = [],
      axes: l,
      boundingSphereRadius: h
    } = e;
    super({
      type: ct.types.CONVEXPOLYHEDRON
    }), this.vertices = n, this.faces = r, this.faceNormals = o, this.faceNormals.length === 0 && this.computeNormals(), h ? this.boundingSphereRadius = h : this.updateBoundingSphereRadius(), this.worldVertices = [], this.worldVerticesNeedsUpdate = !0, this.worldFaceNormals = [], this.worldFaceNormalsNeedsUpdate = !0, this.uniqueAxes = l ? l.slice() : null, this.uniqueEdges = [], this.computeEdges();
  }
  /**
   * Computes uniqueEdges
   */
  computeEdges() {
    const e = this.faces, n = this.vertices, r = this.uniqueEdges;
    r.length = 0;
    const o = new X();
    for (let l = 0; l !== e.length; l++) {
      const h = e[l], d = h.length;
      for (let p = 0; p !== d; p++) {
        const g = (p + 1) % d;
        n[h[p]].vsub(n[h[g]], o), o.normalize();
        let v = !1;
        for (let y = 0; y !== r.length; y++)
          if (r[y].almostEquals(o) || r[y].almostEquals(o)) {
            v = !0;
            break;
          }
        v || r.push(o.clone());
      }
    }
  }
  /**
   * Compute the normals of the faces.
   * Will reuse existing Vec3 objects in the `faceNormals` array if they exist.
   */
  computeNormals() {
    this.faceNormals.length = this.faces.length;
    for (let e = 0; e < this.faces.length; e++) {
      for (let o = 0; o < this.faces[e].length; o++)
        if (!this.vertices[this.faces[e][o]])
          throw new Error(`Vertex ${this.faces[e][o]} not found!`);
      const n = this.faceNormals[e] || new X();
      this.getFaceNormal(e, n), n.negate(n), this.faceNormals[e] = n;
      const r = this.vertices[this.faces[e][0]];
      if (n.dot(r) < 0) {
        console.error(`.faceNormals[${e}] = Vec3(${n.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);
        for (let o = 0; o < this.faces[e].length; o++)
          console.warn(`.vertices[${this.faces[e][o]}] = Vec3(${this.vertices[this.faces[e][o]].toString()})`);
      }
    }
  }
  /**
   * Compute the normal of a face from its vertices
   */
  getFaceNormal(e, n) {
    const r = this.faces[e], o = this.vertices[r[0]], l = this.vertices[r[1]], h = this.vertices[r[2]];
    ss.computeNormal(o, l, h, n);
  }
  /**
   * Get face normal given 3 vertices
   */
  static computeNormal(e, n, r, o) {
    const l = new X(), h = new X();
    n.vsub(e, h), r.vsub(n, l), l.cross(h, o), o.isZero() || o.normalize();
  }
  /**
   * @param minDist Clamp distance
   * @param result The an array of contact point objects, see clipFaceAgainstHull
   */
  clipAgainstHull(e, n, r, o, l, h, d, p, g) {
    const v = new X();
    let y = -1, x = -Number.MAX_VALUE;
    for (let T = 0; T < r.faces.length; T++) {
      v.copy(r.faceNormals[T]), l.vmult(v, v);
      const M = v.dot(h);
      M > x && (x = M, y = T);
    }
    const w = [];
    for (let T = 0; T < r.faces[y].length; T++) {
      const M = r.vertices[r.faces[y][T]], S = new X();
      S.copy(M), l.vmult(S, S), o.vadd(S, S), w.push(S);
    }
    y >= 0 && this.clipFaceAgainstHull(h, e, n, w, d, p, g);
  }
  /**
   * Find the separating axis between this hull and another
   * @param target The target vector to save the axis in
   * @return Returns false if a separation is found, else true
   */
  findSeparatingAxis(e, n, r, o, l, h, d, p) {
    const g = new X(), v = new X(), y = new X(), x = new X(), w = new X(), T = new X();
    let M = Number.MAX_VALUE;
    const S = this;
    if (S.uniqueAxes)
      for (let L = 0; L !== S.uniqueAxes.length; L++) {
        r.vmult(S.uniqueAxes[L], g);
        const F = S.testSepAxis(g, e, n, r, o, l);
        if (F === !1)
          return !1;
        F < M && (M = F, h.copy(g));
      }
    else {
      const L = d ? d.length : S.faces.length;
      for (let F = 0; F < L; F++) {
        const G = d ? d[F] : F;
        g.copy(S.faceNormals[G]), r.vmult(g, g);
        const $ = S.testSepAxis(g, e, n, r, o, l);
        if ($ === !1)
          return !1;
        $ < M && (M = $, h.copy(g));
      }
    }
    if (e.uniqueAxes)
      for (let L = 0; L !== e.uniqueAxes.length; L++) {
        l.vmult(e.uniqueAxes[L], v);
        const F = S.testSepAxis(v, e, n, r, o, l);
        if (F === !1)
          return !1;
        F < M && (M = F, h.copy(v));
      }
    else {
      const L = p ? p.length : e.faces.length;
      for (let F = 0; F < L; F++) {
        const G = p ? p[F] : F;
        v.copy(e.faceNormals[G]), l.vmult(v, v);
        const $ = S.testSepAxis(v, e, n, r, o, l);
        if ($ === !1)
          return !1;
        $ < M && (M = $, h.copy(v));
      }
    }
    for (let L = 0; L !== S.uniqueEdges.length; L++) {
      r.vmult(S.uniqueEdges[L], x);
      for (let F = 0; F !== e.uniqueEdges.length; F++)
        if (l.vmult(e.uniqueEdges[F], w), x.cross(w, T), !T.almostZero()) {
          T.normalize();
          const G = S.testSepAxis(T, e, n, r, o, l);
          if (G === !1)
            return !1;
          G < M && (M = G, h.copy(T));
        }
    }
    return o.vsub(n, y), y.dot(h) > 0 && h.negate(h), !0;
  }
  /**
   * Test separating axis against two hulls. Both hulls are projected onto the axis and the overlap size is returned if there is one.
   * @return The overlap depth, or FALSE if no penetration.
   */
  testSepAxis(e, n, r, o, l, h) {
    const d = this;
    ss.project(d, e, r, o, Oy), ss.project(n, e, l, h, Ly);
    const p = Oy[0], g = Oy[1], v = Ly[0], y = Ly[1];
    if (p < y || v < g)
      return !1;
    const x = p - y, w = v - g;
    return x < w ? x : w;
  }
  /**
   * calculateLocalInertia
   */
  calculateLocalInertia(e, n) {
    const r = new X(), o = new X();
    this.computeLocalAABB(o, r);
    const l = r.x - o.x, h = r.y - o.y, d = r.z - o.z;
    n.x = 1 / 12 * e * (2 * h * 2 * h + 2 * d * 2 * d), n.y = 1 / 12 * e * (2 * l * 2 * l + 2 * d * 2 * d), n.z = 1 / 12 * e * (2 * h * 2 * h + 2 * l * 2 * l);
  }
  /**
   * @param face_i Index of the face
   */
  getPlaneConstantOfFace(e) {
    const n = this.faces[e], r = this.faceNormals[e], o = this.vertices[n[0]];
    return -r.dot(o);
  }
  /**
   * Clip a face against a hull.
   * @param worldVertsB1 An array of Vec3 with vertices in the world frame.
   * @param minDist Distance clamping
   * @param Array result Array to store resulting contact points in. Will be objects with properties: point, depth, normal. These are represented in world coordinates.
   */
  clipFaceAgainstHull(e, n, r, o, l, h, d) {
    const p = new X(), g = new X(), v = new X(), y = new X(), x = new X(), w = new X(), T = new X(), M = new X(), S = this, L = [], F = o, G = L;
    let $ = -1, K = Number.MAX_VALUE;
    for (let ne = 0; ne < S.faces.length; ne++) {
      p.copy(S.faceNormals[ne]), r.vmult(p, p);
      const se = p.dot(e);
      se < K && (K = se, $ = ne);
    }
    if ($ < 0)
      return;
    const q = S.faces[$];
    q.connectedFaces = [];
    for (let ne = 0; ne < S.faces.length; ne++)
      for (let se = 0; se < S.faces[ne].length; se++)
        /* Sharing a vertex*/
        q.indexOf(S.faces[ne][se]) !== -1 && /* Not the one we are looking for connections from */
        ne !== $ && /* Not already added */
        q.connectedFaces.indexOf(ne) === -1 && q.connectedFaces.push(ne);
    const he = q.length;
    for (let ne = 0; ne < he; ne++) {
      const se = S.vertices[q[ne]], oe = S.vertices[q[(ne + 1) % he]];
      se.vsub(oe, g), v.copy(g), r.vmult(v, v), n.vadd(v, v), y.copy(this.faceNormals[$]), r.vmult(y, y), n.vadd(y, y), v.cross(y, x), x.negate(x), w.copy(se), r.vmult(w, w), n.vadd(w, w);
      const J = q.connectedFaces[ne];
      T.copy(this.faceNormals[J]);
      const pe = this.getPlaneConstantOfFace(J);
      M.copy(T), r.vmult(M, M);
      const be = pe - M.dot(n);
      for (this.clipFaceAgainstPlane(F, G, M, be); F.length; )
        F.shift();
      for (; G.length; )
        F.push(G.shift());
    }
    T.copy(this.faceNormals[$]);
    const ae = this.getPlaneConstantOfFace($);
    M.copy(T), r.vmult(M, M);
    const ve = ae - M.dot(n);
    for (let ne = 0; ne < F.length; ne++) {
      let se = M.dot(F[ne]) + ve;
      if (se <= l && (console.log(`clamped: depth=${se} to minDist=${l}`), se = l), se <= h) {
        const oe = F[ne];
        if (se <= 1e-6) {
          const J = {
            point: oe,
            normal: M,
            depth: se
          };
          d.push(J);
        }
      }
    }
  }
  /**
   * Clip a face in a hull against the back of a plane.
   * @param planeConstant The constant in the mathematical plane equation
   */
  clipFaceAgainstPlane(e, n, r, o) {
    let l, h;
    const d = e.length;
    if (d < 2)
      return n;
    let p = e[e.length - 1], g = e[0];
    l = r.dot(p) + o;
    for (let v = 0; v < d; v++) {
      if (g = e[v], h = r.dot(g) + o, l < 0)
        if (h < 0) {
          const y = new X();
          y.copy(g), n.push(y);
        } else {
          const y = new X();
          p.lerp(g, l / (l - h), y), n.push(y);
        }
      else if (h < 0) {
        const y = new X();
        p.lerp(g, l / (l - h), y), n.push(y), n.push(g);
      }
      p = g, l = h;
    }
    return n;
  }
  /**
   * Updates `.worldVertices` and sets `.worldVerticesNeedsUpdate` to false.
   */
  computeWorldVertices(e, n) {
    for (; this.worldVertices.length < this.vertices.length; )
      this.worldVertices.push(new X());
    const r = this.vertices, o = this.worldVertices;
    for (let l = 0; l !== this.vertices.length; l++)
      n.vmult(r[l], o[l]), e.vadd(o[l], o[l]);
    this.worldVerticesNeedsUpdate = !1;
  }
  computeLocalAABB(e, n) {
    const r = this.vertices;
    e.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE), n.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);
    for (let o = 0; o < this.vertices.length; o++) {
      const l = r[o];
      l.x < e.x ? e.x = l.x : l.x > n.x && (n.x = l.x), l.y < e.y ? e.y = l.y : l.y > n.y && (n.y = l.y), l.z < e.z ? e.z = l.z : l.z > n.z && (n.z = l.z);
    }
  }
  /**
   * Updates `worldVertices` and sets `worldVerticesNeedsUpdate` to false.
   */
  computeWorldFaceNormals(e) {
    const n = this.faceNormals.length;
    for (; this.worldFaceNormals.length < n; )
      this.worldFaceNormals.push(new X());
    const r = this.faceNormals, o = this.worldFaceNormals;
    for (let l = 0; l !== n; l++)
      e.vmult(r[l], o[l]);
    this.worldFaceNormalsNeedsUpdate = !1;
  }
  /**
   * updateBoundingSphereRadius
   */
  updateBoundingSphereRadius() {
    let e = 0;
    const n = this.vertices;
    for (let r = 0; r !== n.length; r++) {
      const o = n[r].lengthSquared();
      o > e && (e = o);
    }
    this.boundingSphereRadius = Math.sqrt(e);
  }
  /**
   * calculateWorldAABB
   */
  calculateWorldAABB(e, n, r, o) {
    const l = this.vertices;
    let h, d, p, g, v, y, x = new X();
    for (let w = 0; w < l.length; w++) {
      x.copy(l[w]), n.vmult(x, x), e.vadd(x, x);
      const T = x;
      (h === void 0 || T.x < h) && (h = T.x), (g === void 0 || T.x > g) && (g = T.x), (d === void 0 || T.y < d) && (d = T.y), (v === void 0 || T.y > v) && (v = T.y), (p === void 0 || T.z < p) && (p = T.z), (y === void 0 || T.z > y) && (y = T.z);
    }
    r.set(h, d, p), o.set(g, v, y);
  }
  /**
   * Get approximate convex volume
   */
  volume() {
    return 4 * Math.PI * this.boundingSphereRadius / 3;
  }
  /**
   * Get an average of all the vertices positions
   */
  getAveragePointLocal(e) {
    e === void 0 && (e = new X());
    const n = this.vertices;
    for (let r = 0; r < n.length; r++)
      e.vadd(n[r], e);
    return e.scale(1 / n.length, e), e;
  }
  /**
   * Transform all local points. Will change the .vertices
   */
  transformAllPoints(e, n) {
    const r = this.vertices.length, o = this.vertices;
    if (n) {
      for (let l = 0; l < r; l++) {
        const h = o[l];
        n.vmult(h, h);
      }
      for (let l = 0; l < this.faceNormals.length; l++) {
        const h = this.faceNormals[l];
        n.vmult(h, h);
      }
    }
    if (e)
      for (let l = 0; l < r; l++) {
        const h = o[l];
        h.vadd(e, h);
      }
  }
  /**
   * Checks whether p is inside the polyhedra. Must be in local coords.
   * The point lies outside of the convex hull of the other points if and only if the direction
   * of all the vectors from it to those other points are on less than one half of a sphere around it.
   * @param p A point given in local coordinates
   */
  pointIsInside(e) {
    const n = this.vertices, r = this.faces, o = this.faceNormals, l = null, h = new X();
    this.getAveragePointLocal(h);
    for (let d = 0; d < this.faces.length; d++) {
      let p = o[d];
      const g = n[r[d][0]], v = new X();
      e.vsub(g, v);
      const y = p.dot(v), x = new X();
      h.vsub(g, x);
      const w = p.dot(x);
      if (y < 0 && w > 0 || y > 0 && w < 0)
        return !1;
    }
    return l ? 1 : -1;
  }
  /**
   * Get max and min dot product of a convex hull at position (pos,quat) projected onto an axis.
   * Results are saved in the array maxmin.
   * @param result result[0] and result[1] will be set to maximum and minimum, respectively.
   */
  static project(e, n, r, o, l) {
    const h = e.vertices.length, d = vre;
    let p = 0, g = 0;
    const v = yre, y = e.vertices;
    v.setZero(), En.vectorToLocalFrame(r, o, n, d), En.pointToLocalFrame(r, o, v, v);
    const x = v.dot(d);
    g = p = y[0].dot(d);
    for (let w = 1; w < h; w++) {
      const T = y[w].dot(d);
      T > p && (p = T), T < g && (g = T);
    }
    if (g -= x, p -= x, g > p) {
      const w = g;
      g = p, p = w;
    }
    l[0] = p, l[1] = g;
  }
}
const Oy = [], Ly = [], bre = new X(), vre = new X(), yre = new X();
class Pp extends ct {
  /**
   * The half extents of the box.
   */
  /**
   * Used by the contact generator to make contacts with other convex polyhedra for example.
   */
  constructor(e) {
    super({
      type: ct.types.BOX
    }), this.halfExtents = e, this.convexPolyhedronRepresentation = null, this.updateConvexPolyhedronRepresentation(), this.updateBoundingSphereRadius();
  }
  /**
   * Updates the local convex polyhedron representation used for some collisions.
   */
  updateConvexPolyhedronRepresentation() {
    const e = this.halfExtents.x, n = this.halfExtents.y, r = this.halfExtents.z, o = X, l = [new o(-e, -n, -r), new o(e, -n, -r), new o(e, n, -r), new o(-e, n, -r), new o(-e, -n, r), new o(e, -n, r), new o(e, n, r), new o(-e, n, r)], h = [
      [3, 2, 1, 0],
      // -z
      [4, 5, 6, 7],
      // +z
      [5, 4, 0, 1],
      // -y
      [2, 3, 7, 6],
      // +y
      [0, 4, 7, 3],
      // -x
      [1, 2, 6, 5]
      // +x
    ], d = [new o(0, 0, 1), new o(0, 1, 0), new o(1, 0, 0)], p = new ss({
      vertices: l,
      faces: h,
      axes: d
    });
    this.convexPolyhedronRepresentation = p, p.material = this.material;
  }
  /**
   * Calculate the inertia of the box.
   */
  calculateLocalInertia(e, n) {
    return n === void 0 && (n = new X()), Pp.calculateInertia(this.halfExtents, e, n), n;
  }
  static calculateInertia(e, n, r) {
    const o = e;
    r.x = 1 / 12 * n * (2 * o.y * 2 * o.y + 2 * o.z * 2 * o.z), r.y = 1 / 12 * n * (2 * o.x * 2 * o.x + 2 * o.z * 2 * o.z), r.z = 1 / 12 * n * (2 * o.y * 2 * o.y + 2 * o.x * 2 * o.x);
  }
  /**
   * Get the box 6 side normals
   * @param sixTargetVectors An array of 6 vectors, to store the resulting side normals in.
   * @param quat Orientation to apply to the normal vectors. If not provided, the vectors will be in respect to the local frame.
   */
  getSideNormals(e, n) {
    const r = e, o = this.halfExtents;
    if (r[0].set(o.x, 0, 0), r[1].set(0, o.y, 0), r[2].set(0, 0, o.z), r[3].set(-o.x, 0, 0), r[4].set(0, -o.y, 0), r[5].set(0, 0, -o.z), n !== void 0)
      for (let l = 0; l !== r.length; l++)
        n.vmult(r[l], r[l]);
    return r;
  }
  /**
   * Returns the volume of the box.
   */
  volume() {
    return 8 * this.halfExtents.x * this.halfExtents.y * this.halfExtents.z;
  }
  /**
   * updateBoundingSphereRadius
   */
  updateBoundingSphereRadius() {
    this.boundingSphereRadius = this.halfExtents.length();
  }
  /**
   * forEachWorldCorner
   */
  forEachWorldCorner(e, n, r) {
    const o = this.halfExtents, l = [[o.x, o.y, o.z], [-o.x, o.y, o.z], [-o.x, -o.y, o.z], [-o.x, -o.y, -o.z], [o.x, -o.y, -o.z], [o.x, o.y, -o.z], [-o.x, o.y, -o.z], [o.x, -o.y, o.z]];
    for (let h = 0; h < l.length; h++)
      il.set(l[h][0], l[h][1], l[h][2]), n.vmult(il, il), e.vadd(il, il), r(il.x, il.y, il.z);
  }
  /**
   * calculateWorldAABB
   */
  calculateWorldAABB(e, n, r, o) {
    const l = this.halfExtents;
    sa[0].set(l.x, l.y, l.z), sa[1].set(-l.x, l.y, l.z), sa[2].set(-l.x, -l.y, l.z), sa[3].set(-l.x, -l.y, -l.z), sa[4].set(l.x, -l.y, -l.z), sa[5].set(l.x, l.y, -l.z), sa[6].set(-l.x, l.y, -l.z), sa[7].set(l.x, -l.y, l.z);
    const h = sa[0];
    n.vmult(h, h), e.vadd(h, h), o.copy(h), r.copy(h);
    for (let d = 1; d < 8; d++) {
      const p = sa[d];
      n.vmult(p, p), e.vadd(p, p);
      const g = p.x, v = p.y, y = p.z;
      g > o.x && (o.x = g), v > o.y && (o.y = v), y > o.z && (o.z = y), g < r.x && (r.x = g), v < r.y && (r.y = v), y < r.z && (r.z = y);
    }
  }
}
const il = new X(), sa = [new X(), new X(), new X(), new X(), new X(), new X(), new X(), new X()], M0 = {
  /** DYNAMIC */
  DYNAMIC: 1,
  /** STATIC */
  STATIC: 2,
  /** KINEMATIC */
  KINEMATIC: 4
}, S0 = {
  /** AWAKE */
  AWAKE: 0,
  /** SLEEPY */
  SLEEPY: 1,
  /** SLEEPING */
  SLEEPING: 2
};
class Et extends xC {
  /**
   * Dispatched after two bodies collide. This event is dispatched on each
   * of the two bodies involved in the collision.
   * @event collide
   * @param body The body that was involved in the collision.
   * @param contact The details of the collision.
   */
  /**
   * A dynamic body is fully simulated. Can be moved manually by the user, but normally they move according to forces. A dynamic body can collide with all body types. A dynamic body always has finite, non-zero mass.
   */
  /**
   * A static body does not move during simulation and behaves as if it has infinite mass. Static bodies can be moved manually by setting the position of the body. The velocity of a static body is always zero. Static bodies do not collide with other static or kinematic bodies.
   */
  /**
   * A kinematic body moves under simulation according to its velocity. They do not respond to forces. They can be moved manually, but normally a kinematic body is moved by setting its velocity. A kinematic body behaves as if it has infinite mass. Kinematic bodies do not collide with other static or kinematic bodies.
   */
  /**
   * AWAKE
   */
  /**
   * SLEEPY
   */
  /**
   * SLEEPING
   */
  /**
   * Dispatched after a sleeping body has woken up.
   * @event wakeup
   */
  /**
   * Dispatched after a body has gone in to the sleepy state.
   * @event sleepy
   */
  /**
   * Dispatched after a body has fallen asleep.
   * @event sleep
   */
  constructor(e) {
    e === void 0 && (e = {}), super(), this.id = Et.idCounter++, this.index = -1, this.world = null, this.vlambda = new X(), this.collisionFilterGroup = typeof e.collisionFilterGroup == "number" ? e.collisionFilterGroup : 1, this.collisionFilterMask = typeof e.collisionFilterMask == "number" ? e.collisionFilterMask : -1, this.collisionResponse = typeof e.collisionResponse == "boolean" ? e.collisionResponse : !0, this.position = new X(), this.previousPosition = new X(), this.interpolatedPosition = new X(), this.initPosition = new X(), e.position && (this.position.copy(e.position), this.previousPosition.copy(e.position), this.interpolatedPosition.copy(e.position), this.initPosition.copy(e.position)), this.velocity = new X(), e.velocity && this.velocity.copy(e.velocity), this.initVelocity = new X(), this.force = new X();
    const n = typeof e.mass == "number" ? e.mass : 0;
    this.mass = n, this.invMass = n > 0 ? 1 / n : 0, this.material = e.material || null, this.linearDamping = typeof e.linearDamping == "number" ? e.linearDamping : 0.01, this.type = n <= 0 ? Et.STATIC : Et.DYNAMIC, typeof e.type == typeof Et.STATIC && (this.type = e.type), this.allowSleep = typeof e.allowSleep < "u" ? e.allowSleep : !0, this.sleepState = Et.AWAKE, this.sleepSpeedLimit = typeof e.sleepSpeedLimit < "u" ? e.sleepSpeedLimit : 0.1, this.sleepTimeLimit = typeof e.sleepTimeLimit < "u" ? e.sleepTimeLimit : 1, this.timeLastSleepy = 0, this.wakeUpAfterNarrowphase = !1, this.torque = new X(), this.quaternion = new Yr(), this.initQuaternion = new Yr(), this.previousQuaternion = new Yr(), this.interpolatedQuaternion = new Yr(), e.quaternion && (this.quaternion.copy(e.quaternion), this.initQuaternion.copy(e.quaternion), this.previousQuaternion.copy(e.quaternion), this.interpolatedQuaternion.copy(e.quaternion)), this.angularVelocity = new X(), e.angularVelocity && this.angularVelocity.copy(e.angularVelocity), this.initAngularVelocity = new X(), this.shapes = [], this.shapeOffsets = [], this.shapeOrientations = [], this.inertia = new X(), this.invInertia = new X(), this.invInertiaWorld = new io(), this.invMassSolve = 0, this.invInertiaSolve = new X(), this.invInertiaWorldSolve = new io(), this.fixedRotation = typeof e.fixedRotation < "u" ? e.fixedRotation : !1, this.angularDamping = typeof e.angularDamping < "u" ? e.angularDamping : 0.01, this.linearFactor = new X(1, 1, 1), e.linearFactor && this.linearFactor.copy(e.linearFactor), this.angularFactor = new X(1, 1, 1), e.angularFactor && this.angularFactor.copy(e.angularFactor), this.aabb = new ar(), this.aabbNeedsUpdate = !0, this.boundingRadius = 0, this.wlambda = new X(), this.isTrigger = !!e.isTrigger, e.shape && this.addShape(e.shape), this.updateMassProperties();
  }
  /**
   * Wake the body up.
   */
  wakeUp() {
    const e = this.sleepState;
    this.sleepState = Et.AWAKE, this.wakeUpAfterNarrowphase = !1, e === Et.SLEEPING && this.dispatchEvent(Et.wakeupEvent);
  }
  /**
   * Force body sleep
   */
  sleep() {
    this.sleepState = Et.SLEEPING, this.velocity.set(0, 0, 0), this.angularVelocity.set(0, 0, 0), this.wakeUpAfterNarrowphase = !1;
  }
  /**
   * Called every timestep to update internal sleep timer and change sleep state if needed.
   * @param time The world time in seconds
   */
  sleepTick(e) {
    if (this.allowSleep) {
      const n = this.sleepState, r = this.velocity.lengthSquared() + this.angularVelocity.lengthSquared(), o = this.sleepSpeedLimit ** 2;
      n === Et.AWAKE && r < o ? (this.sleepState = Et.SLEEPY, this.timeLastSleepy = e, this.dispatchEvent(Et.sleepyEvent)) : n === Et.SLEEPY && r > o ? this.wakeUp() : n === Et.SLEEPY && e - this.timeLastSleepy > this.sleepTimeLimit && (this.sleep(), this.dispatchEvent(Et.sleepEvent));
    }
  }
  /**
   * If the body is sleeping, it should be immovable / have infinite mass during solve. We solve it by having a separate "solve mass".
   */
  updateSolveMassProperties() {
    this.sleepState === Et.SLEEPING || this.type === Et.KINEMATIC ? (this.invMassSolve = 0, this.invInertiaSolve.setZero(), this.invInertiaWorldSolve.setZero()) : (this.invMassSolve = this.invMass, this.invInertiaSolve.copy(this.invInertia), this.invInertiaWorldSolve.copy(this.invInertiaWorld));
  }
  /**
   * Convert a world point to local body frame.
   */
  pointToLocalFrame(e, n) {
    return n === void 0 && (n = new X()), e.vsub(this.position, n), this.quaternion.conjugate().vmult(n, n), n;
  }
  /**
   * Convert a world vector to local body frame.
   */
  vectorToLocalFrame(e, n) {
    return n === void 0 && (n = new X()), this.quaternion.conjugate().vmult(e, n), n;
  }
  /**
   * Convert a local body point to world frame.
   */
  pointToWorldFrame(e, n) {
    return n === void 0 && (n = new X()), this.quaternion.vmult(e, n), n.vadd(this.position, n), n;
  }
  /**
   * Convert a local body point to world frame.
   */
  vectorToWorldFrame(e, n) {
    return n === void 0 && (n = new X()), this.quaternion.vmult(e, n), n;
  }
  /**
   * Add a shape to the body with a local offset and orientation.
   * @return The body object, for chainability.
   */
  addShape(e, n, r) {
    const o = new X(), l = new Yr();
    return n && o.copy(n), r && l.copy(r), this.shapes.push(e), this.shapeOffsets.push(o), this.shapeOrientations.push(l), this.updateMassProperties(), this.updateBoundingRadius(), this.aabbNeedsUpdate = !0, e.body = this, this;
  }
  /**
   * Remove a shape from the body.
   * @return The body object, for chainability.
   */
  removeShape(e) {
    const n = this.shapes.indexOf(e);
    return n === -1 ? (console.warn("Shape does not belong to the body"), this) : (this.shapes.splice(n, 1), this.shapeOffsets.splice(n, 1), this.shapeOrientations.splice(n, 1), this.updateMassProperties(), this.updateBoundingRadius(), this.aabbNeedsUpdate = !0, e.body = null, this);
  }
  /**
   * Update the bounding radius of the body. Should be done if any of the shapes are changed.
   */
  updateBoundingRadius() {
    const e = this.shapes, n = this.shapeOffsets, r = e.length;
    let o = 0;
    for (let l = 0; l !== r; l++) {
      const h = e[l];
      h.updateBoundingSphereRadius();
      const d = n[l].length(), p = h.boundingSphereRadius;
      d + p > o && (o = d + p);
    }
    this.boundingRadius = o;
  }
  /**
   * Updates the .aabb
   */
  updateAABB() {
    const e = this.shapes, n = this.shapeOffsets, r = this.shapeOrientations, o = e.length, l = xre, h = Cre, d = this.quaternion, p = this.aabb, g = _re;
    for (let v = 0; v !== o; v++) {
      const y = e[v];
      d.vmult(n[v], l), l.vadd(this.position, l), d.mult(r[v], h), y.calculateWorldAABB(l, h, g.lowerBound, g.upperBound), v === 0 ? p.copy(g) : p.extend(g);
    }
    this.aabbNeedsUpdate = !1;
  }
  /**
   * Update `.inertiaWorld` and `.invInertiaWorld`
   */
  updateInertiaWorld(e) {
    const n = this.invInertia;
    if (!(n.x === n.y && n.y === n.z && !e)) {
      const r = wre, o = Tre;
      r.setRotationFromQuaternion(this.quaternion), r.transpose(o), r.scale(n, r), r.mmult(o, this.invInertiaWorld);
    }
  }
  /**
   * Apply force to a point of the body. This could for example be a point on the Body surface.
   * Applying force this way will add to Body.force and Body.torque.
   * @param force The amount of force to add.
   * @param relativePoint A point relative to the center of mass to apply the force on.
   */
  applyForce(e, n) {
    if (n === void 0 && (n = new X()), this.type !== Et.DYNAMIC)
      return;
    this.sleepState === Et.SLEEPING && this.wakeUp();
    const r = Mre;
    n.cross(e, r), this.force.vadd(e, this.force), this.torque.vadd(r, this.torque);
  }
  /**
   * Apply force to a local point in the body.
   * @param force The force vector to apply, defined locally in the body frame.
   * @param localPoint A local point in the body to apply the force on.
   */
  applyLocalForce(e, n) {
    if (n === void 0 && (n = new X()), this.type !== Et.DYNAMIC)
      return;
    const r = Sre, o = Ire;
    this.vectorToWorldFrame(e, r), this.vectorToWorldFrame(n, o), this.applyForce(r, o);
  }
  /**
   * Apply torque to the body.
   * @param torque The amount of torque to add.
   */
  applyTorque(e) {
    this.type === Et.DYNAMIC && (this.sleepState === Et.SLEEPING && this.wakeUp(), this.torque.vadd(e, this.torque));
  }
  /**
   * Apply impulse to a point of the body. This could for example be a point on the Body surface.
   * An impulse is a force added to a body during a short period of time (impulse = force * time).
   * Impulses will be added to Body.velocity and Body.angularVelocity.
   * @param impulse The amount of impulse to add.
   * @param relativePoint A point relative to the center of mass to apply the force on.
   */
  applyImpulse(e, n) {
    if (n === void 0 && (n = new X()), this.type !== Et.DYNAMIC)
      return;
    this.sleepState === Et.SLEEPING && this.wakeUp();
    const r = n, o = Are;
    o.copy(e), o.scale(this.invMass, o), this.velocity.vadd(o, this.velocity);
    const l = Ere;
    r.cross(e, l), this.invInertiaWorld.vmult(l, l), this.angularVelocity.vadd(l, this.angularVelocity);
  }
  /**
   * Apply locally-defined impulse to a local point in the body.
   * @param force The force vector to apply, defined locally in the body frame.
   * @param localPoint A local point in the body to apply the force on.
   */
  applyLocalImpulse(e, n) {
    if (n === void 0 && (n = new X()), this.type !== Et.DYNAMIC)
      return;
    const r = Pre, o = Rre;
    this.vectorToWorldFrame(e, r), this.vectorToWorldFrame(n, o), this.applyImpulse(r, o);
  }
  /**
   * Should be called whenever you change the body shape or mass.
   */
  updateMassProperties() {
    const e = Bre;
    this.invMass = this.mass > 0 ? 1 / this.mass : 0;
    const n = this.inertia, r = this.fixedRotation;
    this.updateAABB(), e.set((this.aabb.upperBound.x - this.aabb.lowerBound.x) / 2, (this.aabb.upperBound.y - this.aabb.lowerBound.y) / 2, (this.aabb.upperBound.z - this.aabb.lowerBound.z) / 2), Pp.calculateInertia(e, this.mass, n), this.invInertia.set(n.x > 0 && !r ? 1 / n.x : 0, n.y > 0 && !r ? 1 / n.y : 0, n.z > 0 && !r ? 1 / n.z : 0), this.updateInertiaWorld(!0);
  }
  /**
   * Get world velocity of a point in the body.
   * @param worldPoint
   * @param result
   * @return The result vector.
   */
  getVelocityAtWorldPoint(e, n) {
    const r = new X();
    return e.vsub(this.position, r), this.angularVelocity.cross(r, n), this.velocity.vadd(n, n), n;
  }
  /**
   * Move the body forward in time.
   * @param dt Time step
   * @param quatNormalize Set to true to normalize the body quaternion
   * @param quatNormalizeFast If the quaternion should be normalized using "fast" quaternion normalization
   */
  integrate(e, n, r) {
    if (this.previousPosition.copy(this.position), this.previousQuaternion.copy(this.quaternion), !(this.type === Et.DYNAMIC || this.type === Et.KINEMATIC) || this.sleepState === Et.SLEEPING)
      return;
    const o = this.velocity, l = this.angularVelocity, h = this.position, d = this.force, p = this.torque, g = this.quaternion, v = this.invMass, y = this.invInertiaWorld, x = this.linearFactor, w = v * e;
    o.x += d.x * w * x.x, o.y += d.y * w * x.y, o.z += d.z * w * x.z;
    const T = y.elements, M = this.angularFactor, S = p.x * M.x, L = p.y * M.y, F = p.z * M.z;
    l.x += e * (T[0] * S + T[1] * L + T[2] * F), l.y += e * (T[3] * S + T[4] * L + T[5] * F), l.z += e * (T[6] * S + T[7] * L + T[8] * F), h.x += o.x * e, h.y += o.y * e, h.z += o.z * e, g.integrate(this.angularVelocity, e, this.angularFactor, g), n && (r ? g.normalizeFast() : g.normalize()), this.aabbNeedsUpdate = !0, this.updateInertiaWorld();
  }
}
Et.idCounter = 0;
Et.COLLIDE_EVENT_NAME = "collide";
Et.DYNAMIC = M0.DYNAMIC;
Et.STATIC = M0.STATIC;
Et.KINEMATIC = M0.KINEMATIC;
Et.AWAKE = S0.AWAKE;
Et.SLEEPY = S0.SLEEPY;
Et.SLEEPING = S0.SLEEPING;
Et.wakeupEvent = {
  type: "wakeup"
};
Et.sleepyEvent = {
  type: "sleepy"
};
Et.sleepEvent = {
  type: "sleep"
};
const xre = new X(), Cre = new Yr(), _re = new ar(), wre = new io(), Tre = new io(), Nre = new io(), Mre = new X(), Sre = new X(), Ire = new X(), Are = new X(), Ere = new X(), Pre = new X(), Rre = new X(), Bre = new X();
class I0 {
  /**
   * The world to search for collisions in.
   */
  /**
   * If set to true, the broadphase uses bounding boxes for intersection tests, else it uses bounding spheres.
   */
  /**
   * Set to true if the objects in the world moved.
   */
  constructor() {
    this.world = null, this.useBoundingBoxes = !1, this.dirty = !0;
  }
  /**
   * Get the collision pairs from the world
   * @param world The world to search in
   * @param p1 Empty array to be filled with body objects
   * @param p2 Empty array to be filled with body objects
   */
  collisionPairs(e, n, r) {
    throw new Error("collisionPairs not implemented for this BroadPhase class!");
  }
  /**
   * Check if a body pair needs to be intersection tested at all.
   */
  needBroadphaseCollision(e, n) {
    return !(!(e.collisionFilterGroup & n.collisionFilterMask) || !(n.collisionFilterGroup & e.collisionFilterMask) || (e.type & Et.STATIC || e.sleepState === Et.SLEEPING) && (n.type & Et.STATIC || n.sleepState === Et.SLEEPING));
  }
  /**
   * Check if the bounding volumes of two bodies intersect.
   */
  intersectionTest(e, n, r, o) {
    this.useBoundingBoxes ? this.doBoundingBoxBroadphase(e, n, r, o) : this.doBoundingSphereBroadphase(e, n, r, o);
  }
  /**
   * Check if the bounding spheres of two bodies are intersecting.
   * @param pairs1 bodyA is appended to this array if intersection
   * @param pairs2 bodyB is appended to this array if intersection
   */
  doBoundingSphereBroadphase(e, n, r, o) {
    const l = Ore;
    n.position.vsub(e.position, l);
    const h = (e.boundingRadius + n.boundingRadius) ** 2;
    l.lengthSquared() < h && (r.push(e), o.push(n));
  }
  /**
   * Check if the bounding boxes of two bodies are intersecting.
   */
  doBoundingBoxBroadphase(e, n, r, o) {
    e.aabbNeedsUpdate && e.updateAABB(), n.aabbNeedsUpdate && n.updateAABB(), e.aabb.overlaps(n.aabb) && (r.push(e), o.push(n));
  }
  /**
   * Removes duplicate pairs from the pair arrays.
   */
  makePairsUnique(e, n) {
    const r = Lre, o = jre, l = Dre, h = e.length;
    for (let d = 0; d !== h; d++)
      o[d] = e[d], l[d] = n[d];
    e.length = 0, n.length = 0;
    for (let d = 0; d !== h; d++) {
      const p = o[d].id, g = l[d].id, v = p < g ? `${p},${g}` : `${g},${p}`;
      r[v] = d, r.keys.push(v);
    }
    for (let d = 0; d !== r.keys.length; d++) {
      const p = r.keys.pop(), g = r[p];
      e.push(o[g]), n.push(l[g]), delete r[p];
    }
  }
  /**
   * To be implemented by subcasses
   */
  setWorld(e) {
  }
  /**
   * Check if the bounding spheres of two bodies overlap.
   */
  static boundingSphereCheck(e, n) {
    const r = new X();
    e.position.vsub(n.position, r);
    const o = e.shapes[0], l = n.shapes[0];
    return Math.pow(o.boundingSphereRadius + l.boundingSphereRadius, 2) > r.lengthSquared();
  }
  /**
   * Returns all the bodies within the AABB.
   */
  aabbQuery(e, n, r) {
    return console.warn(".aabbQuery is not implemented in this Broadphase subclass."), [];
  }
}
const Ore = new X();
new X();
new Yr();
new X();
const Lre = {
  keys: []
}, jre = [], Dre = [];
new X();
class Fre extends I0 {
  /**
   * Number of boxes along x
   */
  /**
   * Number of boxes along y
   */
  /**
   * Number of boxes along z
   */
  /**
   * aabbMin
   */
  /**
   * aabbMax
   */
  /**
   * bins
   */
  /**
   * binLengths
   */
  /**
   * @param nx Number of boxes along x.
   * @param ny Number of boxes along y.
   * @param nz Number of boxes along z.
   */
  constructor(e, n, r, o, l) {
    e === void 0 && (e = new X(100, 100, 100)), n === void 0 && (n = new X(-100, -100, -100)), r === void 0 && (r = 10), o === void 0 && (o = 10), l === void 0 && (l = 10), super(), this.nx = r, this.ny = o, this.nz = l, this.aabbMin = e, this.aabbMax = n;
    const h = this.nx * this.ny * this.nz;
    if (h <= 0)
      throw "GridBroadphase: Each dimension's n must be >0";
    this.bins = [], this.binLengths = [], this.bins.length = h, this.binLengths.length = h;
    for (let d = 0; d < h; d++)
      this.bins[d] = [], this.binLengths[d] = 0;
  }
  /**
   * Get all the collision pairs in the physics world
   */
  collisionPairs(e, n, r) {
    const o = e.bodies.length, l = e.bodies, h = this.aabbMax, d = this.aabbMin, p = this.nx, g = this.ny, v = this.nz, y = g * v, x = v, w = 1, T = h.x, M = h.y, S = h.z, L = d.x, F = d.y, G = d.z, $ = p / (T - L), K = g / (M - F), q = v / (S - G), he = (T - L) / p, ae = (M - F) / g, ve = (S - G) / v, ne = Math.sqrt(he * he + ae * ae + ve * ve) * 0.5, se = ct.types, oe = se.SPHERE, J = se.PLANE;
    se.BOX, se.COMPOUND, se.CONVEXPOLYHEDRON;
    const pe = this.bins, be = this.binLengths, fe = this.bins.length;
    for (let Be = 0; Be !== fe; Be++)
      be[Be] = 0;
    const de = Math.ceil;
    function Fe(Be, _e, Xe, De, ft, gt, Lt) {
      let Nt = (Be - L) * $ | 0, Mt = (_e - F) * K | 0, qt = (Xe - G) * q | 0, Xt = de((De - L) * $), Gt = de((ft - F) * K), Pn = de((gt - G) * q);
      Nt < 0 ? Nt = 0 : Nt >= p && (Nt = p - 1), Mt < 0 ? Mt = 0 : Mt >= g && (Mt = g - 1), qt < 0 ? qt = 0 : qt >= v && (qt = v - 1), Xt < 0 ? Xt = 0 : Xt >= p && (Xt = p - 1), Gt < 0 ? Gt = 0 : Gt >= g && (Gt = g - 1), Pn < 0 ? Pn = 0 : Pn >= v && (Pn = v - 1), Nt *= y, Mt *= x, qt *= w, Xt *= y, Gt *= x, Pn *= w;
      for (let at = Nt; at <= Xt; at += y)
        for (let sr = Mt; sr <= Gt; sr += x)
          for (let _r = qt; _r <= Pn; _r += w) {
            const Er = at + sr + _r;
            pe[Er][be[Er]++] = Lt;
          }
    }
    for (let Be = 0; Be !== o; Be++) {
      const _e = l[Be], Xe = _e.shapes[0];
      switch (Xe.type) {
        case oe: {
          const De = Xe, ft = _e.position.x, gt = _e.position.y, Lt = _e.position.z, Nt = De.radius;
          Fe(ft - Nt, gt - Nt, Lt - Nt, ft + Nt, gt + Nt, Lt + Nt, _e);
          break;
        }
        case J: {
          const De = Xe;
          De.worldNormalNeedsUpdate && De.computeWorldNormal(_e.quaternion);
          const ft = De.worldNormal, gt = L + he * 0.5 - _e.position.x, Lt = F + ae * 0.5 - _e.position.y, Nt = G + ve * 0.5 - _e.position.z, Mt = kre;
          Mt.set(gt, Lt, Nt);
          for (let qt = 0, Xt = 0; qt !== p; qt++, Xt += y, Mt.y = Lt, Mt.x += he)
            for (let Gt = 0, Pn = 0; Gt !== g; Gt++, Pn += x, Mt.z = Nt, Mt.y += ae)
              for (let at = 0, sr = 0; at !== v; at++, sr += w, Mt.z += ve)
                if (Mt.dot(ft) < ne) {
                  const _r = Xt + Pn + sr;
                  pe[_r][be[_r]++] = _e;
                }
          break;
        }
        default: {
          _e.aabbNeedsUpdate && _e.updateAABB(), Fe(_e.aabb.lowerBound.x, _e.aabb.lowerBound.y, _e.aabb.lowerBound.z, _e.aabb.upperBound.x, _e.aabb.upperBound.y, _e.aabb.upperBound.z, _e);
          break;
        }
      }
    }
    for (let Be = 0; Be !== fe; Be++) {
      const _e = be[Be];
      if (_e > 1) {
        const Xe = pe[Be];
        for (let De = 0; De !== _e; De++) {
          const ft = Xe[De];
          for (let gt = 0; gt !== De; gt++) {
            const Lt = Xe[gt];
            this.needBroadphaseCollision(ft, Lt) && this.intersectionTest(ft, Lt, n, r);
          }
        }
      }
    }
    this.makePairsUnique(n, r);
  }
}
const kre = new X();
new X();
class NE extends I0 {
  /**
   * @todo Remove useless constructor
   */
  constructor() {
    super();
  }
  /**
   * Get all the collision pairs in the physics world
   */
  collisionPairs(e, n, r) {
    const o = e.bodies, l = o.length;
    let h, d;
    for (let p = 0; p !== l; p++)
      for (let g = 0; g !== p; g++)
        h = o[p], d = o[g], this.needBroadphaseCollision(h, d) && this.intersectionTest(h, d, n, r);
  }
  /**
   * Returns all the bodies within an AABB.
   * @param result An array to store resulting bodies in.
   */
  aabbQuery(e, n, r) {
    r === void 0 && (r = []);
    for (let o = 0; o < e.bodies.length; o++) {
      const l = e.bodies[o];
      l.aabbNeedsUpdate && l.updateAABB(), l.aabb.overlaps(n) && r.push(l);
    }
    return r;
  }
}
class Du {
  /**
   * rayFromWorld
   */
  /**
   * rayToWorld
   */
  /**
   * hitNormalWorld
   */
  /**
   * hitPointWorld
   */
  /**
   * hasHit
   */
  /**
   * shape
   */
  /**
   * body
   */
  /**
   * The index of the hit triangle, if the hit shape was a trimesh
   */
  /**
   * Distance to the hit. Will be set to -1 if there was no hit
   */
  /**
   * If the ray should stop traversing the bodies
   */
  constructor() {
    this.rayFromWorld = new X(), this.rayToWorld = new X(), this.hitNormalWorld = new X(), this.hitPointWorld = new X(), this.hasHit = !1, this.shape = null, this.body = null, this.hitFaceIndex = -1, this.distance = -1, this.shouldStop = !1;
  }
  /**
   * Reset all result data.
   */
  reset() {
    this.rayFromWorld.setZero(), this.rayToWorld.setZero(), this.hitNormalWorld.setZero(), this.hitPointWorld.setZero(), this.hasHit = !1, this.shape = null, this.body = null, this.hitFaceIndex = -1, this.distance = -1, this.shouldStop = !1;
  }
  /**
   * abort
   */
  abort() {
    this.shouldStop = !0;
  }
  /**
   * Set result data.
   */
  set(e, n, r, o, l, h, d) {
    this.rayFromWorld.copy(e), this.rayToWorld.copy(n), this.hitNormalWorld.copy(r), this.hitPointWorld.copy(o), this.shape = l, this.body = h, this.distance = d;
  }
}
let ME, SE, IE, AE, EE, PE, RE;
const A0 = {
  /** CLOSEST */
  CLOSEST: 1,
  /** ANY */
  ANY: 2,
  /** ALL */
  ALL: 4
};
ME = ct.types.SPHERE;
SE = ct.types.PLANE;
IE = ct.types.BOX;
AE = ct.types.CYLINDER;
EE = ct.types.CONVEXPOLYHEDRON;
PE = ct.types.HEIGHTFIELD;
RE = ct.types.TRIMESH;
let Fo = class ha {
  /**
   * from
   */
  /**
   * to
   */
  /**
   * direction
   */
  /**
   * The precision of the ray. Used when checking parallelity etc.
   * @default 0.0001
   */
  /**
   * Set to `false` if you don't want the Ray to take `collisionResponse` flags into account on bodies and shapes.
   * @default true
   */
  /**
   * If set to `true`, the ray skips any hits with normal.dot(rayDirection) < 0.
   * @default false
   */
  /**
   * collisionFilterMask
   * @default -1
   */
  /**
   * collisionFilterGroup
   * @default -1
   */
  /**
   * The intersection mode. Should be Ray.ANY, Ray.ALL or Ray.CLOSEST.
   * @default RAY.ANY
   */
  /**
   * Current result object.
   */
  /**
   * Will be set to `true` during intersectWorld() if the ray hit anything.
   */
  /**
   * User-provided result callback. Will be used if mode is Ray.ALL.
   */
  /**
   * CLOSEST
   */
  /**
   * ANY
   */
  /**
   * ALL
   */
  get [ME]() {
    return this._intersectSphere;
  }
  get [SE]() {
    return this._intersectPlane;
  }
  get [IE]() {
    return this._intersectBox;
  }
  get [AE]() {
    return this._intersectConvex;
  }
  get [EE]() {
    return this._intersectConvex;
  }
  get [PE]() {
    return this._intersectHeightfield;
  }
  get [RE]() {
    return this._intersectTrimesh;
  }
  constructor(e, n) {
    e === void 0 && (e = new X()), n === void 0 && (n = new X()), this.from = e.clone(), this.to = n.clone(), this.direction = new X(), this.precision = 1e-4, this.checkCollisionResponse = !0, this.skipBackfaces = !1, this.collisionFilterMask = -1, this.collisionFilterGroup = -1, this.mode = ha.ANY, this.result = new Du(), this.hasHit = !1, this.callback = (r) => {
    };
  }
  /**
   * Do itersection against all bodies in the given World.
   * @return True if the ray hit anything, otherwise false.
   */
  intersectWorld(e, n) {
    return this.mode = n.mode || ha.ANY, this.result = n.result || new Du(), this.skipBackfaces = !!n.skipBackfaces, this.collisionFilterMask = typeof n.collisionFilterMask < "u" ? n.collisionFilterMask : -1, this.collisionFilterGroup = typeof n.collisionFilterGroup < "u" ? n.collisionFilterGroup : -1, this.checkCollisionResponse = typeof n.checkCollisionResponse < "u" ? n.checkCollisionResponse : !0, n.from && this.from.copy(n.from), n.to && this.to.copy(n.to), this.callback = n.callback || (() => {
    }), this.hasHit = !1, this.result.reset(), this.updateDirection(), this.getAABB(m3), jy.length = 0, e.broadphase.aabbQuery(e, m3, jy), this.intersectBodies(jy), this.hasHit;
  }
  /**
   * Shoot a ray at a body, get back information about the hit.
   * @deprecated @param result set the result property of the Ray instead.
   */
  intersectBody(e, n) {
    n && (this.result = n, this.updateDirection());
    const r = this.checkCollisionResponse;
    if (r && !e.collisionResponse || !(this.collisionFilterGroup & e.collisionFilterMask) || !(e.collisionFilterGroup & this.collisionFilterMask))
      return;
    const o = Xre, l = zre;
    for (let h = 0, d = e.shapes.length; h < d; h++) {
      const p = e.shapes[h];
      if (!(r && !p.collisionResponse) && (e.quaternion.mult(e.shapeOrientations[h], l), e.quaternion.vmult(e.shapeOffsets[h], o), o.vadd(e.position, o), this.intersectShape(p, l, o, e), this.result.shouldStop))
        break;
    }
  }
  /**
   * Shoot a ray at an array bodies, get back information about the hit.
   * @param bodies An array of Body objects.
   * @deprecated @param result set the result property of the Ray instead.
   *
   */
  intersectBodies(e, n) {
    n && (this.result = n, this.updateDirection());
    for (let r = 0, o = e.length; !this.result.shouldStop && r < o; r++)
      this.intersectBody(e[r]);
  }
  /**
   * Updates the direction vector.
   */
  updateDirection() {
    this.to.vsub(this.from, this.direction), this.direction.normalize();
  }
  intersectShape(e, n, r, o) {
    const l = this.from;
    if (rie(l, this.direction, r) > e.boundingSphereRadius)
      return;
    const d = this[e.type];
    d && d.call(this, e, n, r, o, e);
  }
  _intersectBox(e, n, r, o, l) {
    return this._intersectConvex(e.convexPolyhedronRepresentation, n, r, o, l);
  }
  _intersectPlane(e, n, r, o, l) {
    const h = this.from, d = this.to, p = this.direction, g = new X(0, 0, 1);
    n.vmult(g, g);
    const v = new X();
    h.vsub(r, v);
    const y = v.dot(g);
    d.vsub(r, v);
    const x = v.dot(g);
    if (y * x > 0 || h.distanceTo(d) < y)
      return;
    const w = g.dot(p);
    if (Math.abs(w) < this.precision)
      return;
    const T = new X(), M = new X(), S = new X();
    h.vsub(r, T);
    const L = -g.dot(T) / w;
    p.scale(L, M), h.vadd(M, S), this.reportIntersection(g, S, l, o, -1);
  }
  /**
   * Get the world AABB of the ray.
   */
  getAABB(e) {
    const {
      lowerBound: n,
      upperBound: r
    } = e, o = this.to, l = this.from;
    n.x = Math.min(o.x, l.x), n.y = Math.min(o.y, l.y), n.z = Math.min(o.z, l.z), r.x = Math.max(o.x, l.x), r.y = Math.max(o.y, l.y), r.z = Math.max(o.z, l.z);
  }
  _intersectHeightfield(e, n, r, o, l) {
    e.data, e.elementSize;
    const h = Ure;
    h.from.copy(this.from), h.to.copy(this.to), En.pointToLocalFrame(r, n, h.from, h.from), En.pointToLocalFrame(r, n, h.to, h.to), h.updateDirection();
    const d = Gre;
    let p, g, v, y;
    p = g = 0, v = y = e.data.length - 1;
    const x = new ar();
    h.getAABB(x), e.getIndexOfPosition(x.lowerBound.x, x.lowerBound.y, d, !0), p = Math.max(p, d[0]), g = Math.max(g, d[1]), e.getIndexOfPosition(x.upperBound.x, x.upperBound.y, d, !0), v = Math.min(v, d[0] + 1), y = Math.min(y, d[1] + 1);
    for (let w = p; w < v; w++)
      for (let T = g; T < y; T++) {
        if (this.result.shouldStop)
          return;
        if (e.getAabbAtIndex(w, T, x), !!x.overlapsRay(h)) {
          if (e.getConvexTrianglePillar(w, T, !1), En.pointToWorldFrame(r, n, e.pillarOffset, Y1), this._intersectConvex(e.pillarConvex, n, Y1, o, l, p3), this.result.shouldStop)
            return;
          e.getConvexTrianglePillar(w, T, !0), En.pointToWorldFrame(r, n, e.pillarOffset, Y1), this._intersectConvex(e.pillarConvex, n, Y1, o, l, p3);
        }
      }
  }
  _intersectSphere(e, n, r, o, l) {
    const h = this.from, d = this.to, p = e.radius, g = (d.x - h.x) ** 2 + (d.y - h.y) ** 2 + (d.z - h.z) ** 2, v = 2 * ((d.x - h.x) * (h.x - r.x) + (d.y - h.y) * (h.y - r.y) + (d.z - h.z) * (h.z - r.z)), y = (h.x - r.x) ** 2 + (h.y - r.y) ** 2 + (h.z - r.z) ** 2 - p ** 2, x = v ** 2 - 4 * g * y, w = Wre, T = Vre;
    if (!(x < 0))
      if (x === 0)
        h.lerp(d, x, w), w.vsub(r, T), T.normalize(), this.reportIntersection(T, w, l, o, -1);
      else {
        const M = (-v - Math.sqrt(x)) / (2 * g), S = (-v + Math.sqrt(x)) / (2 * g);
        if (M >= 0 && M <= 1 && (h.lerp(d, M, w), w.vsub(r, T), T.normalize(), this.reportIntersection(T, w, l, o, -1)), this.result.shouldStop)
          return;
        S >= 0 && S <= 1 && (h.lerp(d, S, w), w.vsub(r, T), T.normalize(), this.reportIntersection(T, w, l, o, -1));
      }
  }
  _intersectConvex(e, n, r, o, l, h) {
    const d = Hre, p = f3, g = h && h.faceList || null, v = e.faces, y = e.vertices, x = e.faceNormals, w = this.direction, T = this.from, M = this.to, S = T.distanceTo(M), L = g ? g.length : v.length, F = this.result;
    for (let G = 0; !F.shouldStop && G < L; G++) {
      const $ = g ? g[G] : G, K = v[$], q = x[$], he = n, ae = r;
      p.copy(y[K[0]]), he.vmult(p, p), p.vadd(ae, p), p.vsub(T, p), he.vmult(q, d);
      const ve = w.dot(d);
      if (Math.abs(ve) < this.precision)
        continue;
      const ne = d.dot(p) / ve;
      if (!(ne < 0)) {
        w.scale(ne, Mi), Mi.vadd(T, Mi), Eo.copy(y[K[0]]), he.vmult(Eo, Eo), ae.vadd(Eo, Eo);
        for (let se = 1; !F.shouldStop && se < K.length - 1; se++) {
          la.copy(y[K[se]]), ca.copy(y[K[se + 1]]), he.vmult(la, la), he.vmult(ca, ca), ae.vadd(la, la), ae.vadd(ca, ca);
          const oe = Mi.distanceTo(T);
          !(ha.pointInTriangle(Mi, Eo, la, ca) || ha.pointInTriangle(Mi, la, Eo, ca)) || oe > S || this.reportIntersection(d, Mi, l, o, $);
        }
      }
    }
  }
  /**
   * @todo Optimize by transforming the world to local space first.
   * @todo Use Octree lookup
   */
  _intersectTrimesh(e, n, r, o, l, h) {
    const d = Yre, p = tie, g = nie, v = f3, y = Kre, x = Zre, w = Jre, T = eie, M = Qre, S = e.indices;
    e.vertices;
    const L = this.from, F = this.to, G = this.direction;
    g.position.copy(r), g.quaternion.copy(n), En.vectorToLocalFrame(r, n, G, y), En.pointToLocalFrame(r, n, L, x), En.pointToLocalFrame(r, n, F, w), w.x *= e.scale.x, w.y *= e.scale.y, w.z *= e.scale.z, x.x *= e.scale.x, x.y *= e.scale.y, x.z *= e.scale.z, w.vsub(x, y), y.normalize();
    const $ = x.distanceSquared(w);
    e.tree.rayQuery(this, g, p);
    for (let K = 0, q = p.length; !this.result.shouldStop && K !== q; K++) {
      const he = p[K];
      e.getNormal(he, d), e.getVertex(S[he * 3], Eo), Eo.vsub(x, v);
      const ae = y.dot(d), ve = d.dot(v) / ae;
      if (ve < 0)
        continue;
      y.scale(ve, Mi), Mi.vadd(x, Mi), e.getVertex(S[he * 3 + 1], la), e.getVertex(S[he * 3 + 2], ca);
      const ne = Mi.distanceSquared(x);
      !(ha.pointInTriangle(Mi, la, Eo, ca) || ha.pointInTriangle(Mi, Eo, la, ca)) || ne > $ || (En.vectorToWorldFrame(n, d, M), En.pointToWorldFrame(r, n, Mi, T), this.reportIntersection(M, T, l, o, he));
    }
    p.length = 0;
  }
  /**
   * @return True if the intersections should continue
   */
  reportIntersection(e, n, r, o, l) {
    const h = this.from, d = this.to, p = h.distanceTo(n), g = this.result;
    if (!(this.skipBackfaces && e.dot(this.direction) > 0))
      switch (g.hitFaceIndex = typeof l < "u" ? l : -1, this.mode) {
        case ha.ALL:
          this.hasHit = !0, g.set(h, d, e, n, r, o, p), g.hasHit = !0, this.callback(g);
          break;
        case ha.CLOSEST:
          (p < g.distance || !g.hasHit) && (this.hasHit = !0, g.hasHit = !0, g.set(h, d, e, n, r, o, p));
          break;
        case ha.ANY:
          this.hasHit = !0, g.hasHit = !0, g.set(h, d, e, n, r, o, p), g.shouldStop = !0;
          break;
      }
  }
  /**
   * As per "Barycentric Technique" as named
   * {@link https://www.blackpawn.com/texts/pointinpoly/default.html here} but without the division
   */
  static pointInTriangle(e, n, r, o) {
    o.vsub(n, Dc), r.vsub(n, Um), e.vsub(n, Dy);
    const l = Dc.dot(Dc), h = Dc.dot(Um), d = Dc.dot(Dy), p = Um.dot(Um), g = Um.dot(Dy);
    let v, y;
    return (v = p * d - h * g) >= 0 && (y = l * g - h * d) >= 0 && v + y < l * p - h * h;
  }
};
Fo.CLOSEST = A0.CLOSEST;
Fo.ANY = A0.ANY;
Fo.ALL = A0.ALL;
const m3 = new ar(), jy = [], Um = new X(), Dy = new X(), Xre = new X(), zre = new Yr(), Mi = new X(), Eo = new X(), la = new X(), ca = new X();
new X();
new Du();
const p3 = {
  faceList: [0]
}, Y1 = new X(), Ure = new Fo(), Gre = [], Wre = new X(), Vre = new X(), Hre = new X(), $re = new X(), qre = new X(), f3 = new X(), Yre = new X(), Kre = new X(), Zre = new X(), Jre = new X(), Qre = new X(), eie = new X();
new ar();
const tie = [], nie = new En(), Dc = new X(), K1 = new X();
function rie(a, e, n) {
  n.vsub(a, Dc);
  const r = Dc.dot(e);
  return e.scale(r, K1), K1.vadd(a, K1), n.distanceTo(K1);
}
class Ru extends I0 {
  /**
   * List of bodies currently in the broadphase.
   */
  /**
   * The world to search in.
   */
  /**
   * Axis to sort the bodies along.
   * Set to 0 for x axis, and 1 for y axis.
   * For best performance, pick the axis where bodies are most distributed.
   */
  /**
   * Check if the bounds of two bodies overlap, along the given SAP axis.
   */
  static checkBounds(e, n, r) {
    let o, l;
    r === 0 ? (o = e.position.x, l = n.position.x) : r === 1 ? (o = e.position.y, l = n.position.y) : r === 2 && (o = e.position.z, l = n.position.z);
    const h = e.boundingRadius, d = n.boundingRadius, p = o + h;
    return l - d < p;
  }
  // Note: these are identical, save for x/y/z lowerbound
  /**
   * insertionSortX
   */
  static insertionSortX(e) {
    for (let n = 1, r = e.length; n < r; n++) {
      const o = e[n];
      let l;
      for (l = n - 1; l >= 0 && !(e[l].aabb.lowerBound.x <= o.aabb.lowerBound.x); l--)
        e[l + 1] = e[l];
      e[l + 1] = o;
    }
    return e;
  }
  /**
   * insertionSortY
   */
  static insertionSortY(e) {
    for (let n = 1, r = e.length; n < r; n++) {
      const o = e[n];
      let l;
      for (l = n - 1; l >= 0 && !(e[l].aabb.lowerBound.y <= o.aabb.lowerBound.y); l--)
        e[l + 1] = e[l];
      e[l + 1] = o;
    }
    return e;
  }
  /**
   * insertionSortZ
   */
  static insertionSortZ(e) {
    for (let n = 1, r = e.length; n < r; n++) {
      const o = e[n];
      let l;
      for (l = n - 1; l >= 0 && !(e[l].aabb.lowerBound.z <= o.aabb.lowerBound.z); l--)
        e[l + 1] = e[l];
      e[l + 1] = o;
    }
    return e;
  }
  constructor(e) {
    super(), this.axisList = [], this.world = null, this.axisIndex = 0;
    const n = this.axisList;
    this._addBodyHandler = (r) => {
      n.push(r.body);
    }, this._removeBodyHandler = (r) => {
      const o = n.indexOf(r.body);
      o !== -1 && n.splice(o, 1);
    }, e && this.setWorld(e);
  }
  /**
   * Change the world
   */
  setWorld(e) {
    this.axisList.length = 0;
    for (let n = 0; n < e.bodies.length; n++)
      this.axisList.push(e.bodies[n]);
    e.removeEventListener("addBody", this._addBodyHandler), e.removeEventListener("removeBody", this._removeBodyHandler), e.addEventListener("addBody", this._addBodyHandler), e.addEventListener("removeBody", this._removeBodyHandler), this.world = e, this.dirty = !0;
  }
  /**
   * Collect all collision pairs
   */
  collisionPairs(e, n, r) {
    const o = this.axisList, l = o.length, h = this.axisIndex;
    let d, p;
    for (this.dirty && (this.sortList(), this.dirty = !1), d = 0; d !== l; d++) {
      const g = o[d];
      for (p = d + 1; p < l; p++) {
        const v = o[p];
        if (this.needBroadphaseCollision(g, v)) {
          if (!Ru.checkBounds(g, v, h))
            break;
          this.intersectionTest(g, v, n, r);
        }
      }
    }
  }
  sortList() {
    const e = this.axisList, n = this.axisIndex, r = e.length;
    for (let o = 0; o !== r; o++) {
      const l = e[o];
      l.aabbNeedsUpdate && l.updateAABB();
    }
    n === 0 ? Ru.insertionSortX(e) : n === 1 ? Ru.insertionSortY(e) : n === 2 && Ru.insertionSortZ(e);
  }
  /**
   * Computes the variance of the body positions and estimates the best axis to use.
   * Will automatically set property `axisIndex`.
   */
  autoDetectAxis() {
    let e = 0, n = 0, r = 0, o = 0, l = 0, h = 0;
    const d = this.axisList, p = d.length, g = 1 / p;
    for (let w = 0; w !== p; w++) {
      const T = d[w], M = T.position.x;
      e += M, n += M * M;
      const S = T.position.y;
      r += S, o += S * S;
      const L = T.position.z;
      l += L, h += L * L;
    }
    const v = n - e * e * g, y = o - r * r * g, x = h - l * l * g;
    v > y ? v > x ? this.axisIndex = 0 : this.axisIndex = 2 : y > x ? this.axisIndex = 1 : this.axisIndex = 2;
  }
  /**
   * Returns all the bodies within an AABB.
   * @param result An array to store resulting bodies in.
   */
  aabbQuery(e, n, r) {
    r === void 0 && (r = []), this.dirty && (this.sortList(), this.dirty = !1);
    const o = this.axisIndex;
    let l = "x";
    o === 1 && (l = "y"), o === 2 && (l = "z");
    const h = this.axisList;
    n.lowerBound[l], n.upperBound[l];
    for (let d = 0; d < h.length; d++) {
      const p = h[d];
      p.aabbNeedsUpdate && p.updateAABB(), p.aabb.overlaps(n) && r.push(p);
    }
    return r;
  }
}
class E0 {
  /**
   * Extend an options object with default values.
   * @param options The options object. May be falsy: in this case, a new object is created and returned.
   * @param defaults An object containing default values.
   * @return The modified options object.
   */
  static defaults(e, n) {
    e === void 0 && (e = {});
    for (let r in n)
      r in e || (e[r] = n[r]);
    return e;
  }
}
class nd {
  /**
   * Equations to be solved in this constraint.
   */
  /**
   * Body A.
   */
  /**
   * Body B.
   */
  /**
   * Set to false if you don't want the bodies to collide when they are connected.
   */
  constructor(e, n, r) {
    r === void 0 && (r = {}), r = E0.defaults(r, {
      collideConnected: !0,
      wakeUpBodies: !0
    }), this.equations = [], this.bodyA = e, this.bodyB = n, this.id = nd.idCounter++, this.collideConnected = r.collideConnected, r.wakeUpBodies && (e && e.wakeUp(), n && n.wakeUp());
  }
  /**
   * Update all the equations with data.
   */
  update() {
    throw new Error("method update() not implmemented in this Constraint subclass!");
  }
  /**
   * Enables all equations in the constraint.
   */
  enable() {
    const e = this.equations;
    for (let n = 0; n < e.length; n++)
      e[n].enabled = !0;
  }
  /**
   * Disables all equations in the constraint.
   */
  disable() {
    const e = this.equations;
    for (let n = 0; n < e.length; n++)
      e[n].enabled = !1;
  }
}
nd.idCounter = 0;
class Zx {
  /**
   * spatial
   */
  /**
   * rotational
   */
  constructor() {
    this.spatial = new X(), this.rotational = new X();
  }
  /**
   * Multiply with other JacobianElement
   */
  multiplyElement(e) {
    return e.spatial.dot(this.spatial) + e.rotational.dot(this.rotational);
  }
  /**
   * Multiply with two vectors
   */
  multiplyVectors(e, n) {
    return e.dot(this.spatial) + n.dot(this.rotational);
  }
}
class fs {
  /**
   * Minimum (read: negative max) force to be applied by the constraint.
   */
  /**
   * Maximum (read: positive max) force to be applied by the constraint.
   */
  /**
   * SPOOK parameter
   */
  /**
   * SPOOK parameter
   */
  /**
   * SPOOK parameter
   */
  /**
   * A number, proportional to the force added to the bodies.
   */
  constructor(e, n, r, o) {
    r === void 0 && (r = -1e6), o === void 0 && (o = 1e6), this.id = fs.idCounter++, this.minForce = r, this.maxForce = o, this.bi = e, this.bj = n, this.a = 0, this.b = 0, this.eps = 0, this.jacobianElementA = new Zx(), this.jacobianElementB = new Zx(), this.enabled = !0, this.multiplier = 0, this.setSpookParams(1e7, 4, 1 / 60);
  }
  /**
   * Recalculates a, b, and eps.
   *
   * The Equation constructor sets typical SPOOK parameters as such:
   * * `stiffness` = 1e7
   * * `relaxation` = 4
   * * `timeStep`= 1 / 60, _note the hardcoded refresh rate._
   */
  setSpookParams(e, n, r) {
    const o = n, l = e, h = r;
    this.a = 4 / (h * (1 + 4 * o)), this.b = 4 * o / (1 + 4 * o), this.eps = 4 / (h * h * l * (1 + 4 * o));
  }
  /**
   * Computes the right hand side of the SPOOK equation
   */
  computeB(e, n, r) {
    const o = this.computeGW(), l = this.computeGq(), h = this.computeGiMf();
    return -l * e - o * n - h * r;
  }
  /**
   * Computes G*q, where q are the generalized body coordinates
   */
  computeGq() {
    const e = this.jacobianElementA, n = this.jacobianElementB, r = this.bi, o = this.bj, l = r.position, h = o.position;
    return e.spatial.dot(l) + n.spatial.dot(h);
  }
  /**
   * Computes G*W, where W are the body velocities
   */
  computeGW() {
    const e = this.jacobianElementA, n = this.jacobianElementB, r = this.bi, o = this.bj, l = r.velocity, h = o.velocity, d = r.angularVelocity, p = o.angularVelocity;
    return e.multiplyVectors(l, d) + n.multiplyVectors(h, p);
  }
  /**
   * Computes G*Wlambda, where W are the body velocities
   */
  computeGWlambda() {
    const e = this.jacobianElementA, n = this.jacobianElementB, r = this.bi, o = this.bj, l = r.vlambda, h = o.vlambda, d = r.wlambda, p = o.wlambda;
    return e.multiplyVectors(l, d) + n.multiplyVectors(h, p);
  }
  /**
   * Computes G*inv(M)*f, where M is the mass matrix with diagonal blocks for each body, and f are the forces on the bodies.
   */
  computeGiMf() {
    const e = this.jacobianElementA, n = this.jacobianElementB, r = this.bi, o = this.bj, l = r.force, h = r.torque, d = o.force, p = o.torque, g = r.invMassSolve, v = o.invMassSolve;
    return l.scale(g, g3), d.scale(v, b3), r.invInertiaWorldSolve.vmult(h, v3), o.invInertiaWorldSolve.vmult(p, y3), e.multiplyVectors(g3, v3) + n.multiplyVectors(b3, y3);
  }
  /**
   * Computes G*inv(M)*G'
   */
  computeGiMGt() {
    const e = this.jacobianElementA, n = this.jacobianElementB, r = this.bi, o = this.bj, l = r.invMassSolve, h = o.invMassSolve, d = r.invInertiaWorldSolve, p = o.invInertiaWorldSolve;
    let g = l + h;
    return d.vmult(e.rotational, Z1), g += Z1.dot(e.rotational), p.vmult(n.rotational, Z1), g += Z1.dot(n.rotational), g;
  }
  /**
   * Add constraint velocity to the bodies.
   */
  addToWlambda(e) {
    const n = this.jacobianElementA, r = this.jacobianElementB, o = this.bi, l = this.bj, h = iie;
    o.vlambda.addScaledVector(o.invMassSolve * e, n.spatial, o.vlambda), l.vlambda.addScaledVector(l.invMassSolve * e, r.spatial, l.vlambda), o.invInertiaWorldSolve.vmult(n.rotational, h), o.wlambda.addScaledVector(e, h, o.wlambda), l.invInertiaWorldSolve.vmult(r.rotational, h), l.wlambda.addScaledVector(e, h, l.wlambda);
  }
  /**
   * Compute the denominator part of the SPOOK equation: C = G*inv(M)*G' + eps
   */
  computeC() {
    return this.computeGiMGt() + this.eps;
  }
}
fs.idCounter = 0;
const g3 = new X(), b3 = new X(), v3 = new X(), y3 = new X(), Z1 = new X(), iie = new X();
class Bu extends fs {
  /**
   * "bounciness": u1 = -e*u0
   */
  /**
   * World-oriented vector that goes from the center of bi to the contact point.
   */
  /**
   * World-oriented vector that starts in body j position and goes to the contact point.
   */
  /**
   * Contact normal, pointing out of body i.
   */
  constructor(e, n, r) {
    r === void 0 && (r = 1e6), super(e, n, 0, r), this.restitution = 0, this.ri = new X(), this.rj = new X(), this.ni = new X();
  }
  computeB(e) {
    const n = this.a, r = this.b, o = this.bi, l = this.bj, h = this.ri, d = this.rj, p = oie, g = aie, v = o.velocity, y = o.angularVelocity;
    o.force, o.torque;
    const x = l.velocity, w = l.angularVelocity;
    l.force, l.torque;
    const T = sie, M = this.jacobianElementA, S = this.jacobianElementB, L = this.ni;
    h.cross(L, p), d.cross(L, g), L.negate(M.spatial), p.negate(M.rotational), S.spatial.copy(L), S.rotational.copy(g), T.copy(l.position), T.vadd(d, T), T.vsub(o.position, T), T.vsub(h, T);
    const F = L.dot(T), G = this.restitution + 1, $ = G * x.dot(L) - G * v.dot(L) + w.dot(g) - y.dot(p), K = this.computeGiMf();
    return -F * n - $ * r - e * K;
  }
  /**
   * Get the current relative velocity in the contact point.
   */
  getImpactVelocityAlongNormal() {
    const e = lie, n = cie, r = hie, o = uie, l = die;
    return this.bi.position.vadd(this.ri, r), this.bj.position.vadd(this.rj, o), this.bi.getVelocityAtWorldPoint(r, e), this.bj.getVelocityAtWorldPoint(o, n), e.vsub(n, l), this.ni.dot(l);
  }
}
const oie = new X(), aie = new X(), sie = new X(), lie = new X(), cie = new X(), hie = new X(), uie = new X(), die = new X();
class P0 extends nd {
  /**
   * Pivot, defined locally in bodyA.
   */
  /**
   * Pivot, defined locally in bodyB.
   */
  /**
   * @param pivotA The point relative to the center of mass of bodyA which bodyA is constrained to.
   * @param bodyB Body that will be constrained in a similar way to the same point as bodyA. We will therefore get a link between bodyA and bodyB. If not specified, bodyA will be constrained to a static point.
   * @param pivotB The point relative to the center of mass of bodyB which bodyB is constrained to.
   * @param maxForce The maximum force that should be applied to constrain the bodies.
   */
  constructor(e, n, r, o, l) {
    n === void 0 && (n = new X()), o === void 0 && (o = new X()), l === void 0 && (l = 1e6), super(e, r), this.pivotA = n.clone(), this.pivotB = o.clone();
    const h = this.equationX = new Bu(e, r), d = this.equationY = new Bu(e, r), p = this.equationZ = new Bu(e, r);
    this.equations.push(h, d, p), h.minForce = d.minForce = p.minForce = -l, h.maxForce = d.maxForce = p.maxForce = l, h.ni.set(1, 0, 0), d.ni.set(0, 1, 0), p.ni.set(0, 0, 1);
  }
  update() {
    const e = this.bodyA, n = this.bodyB, r = this.equationX, o = this.equationY, l = this.equationZ;
    e.quaternion.vmult(this.pivotA, r.ri), n.quaternion.vmult(this.pivotB, r.rj), o.ri.copy(r.ri), o.rj.copy(r.rj), l.ri.copy(r.ri), l.rj.copy(r.rj);
  }
}
class mie extends fs {
  /**
   * Local axis in A
   */
  /**
   * Local axis in B
   */
  /**
   * The "cone angle" to keep
   */
  constructor(e, n, r) {
    r === void 0 && (r = {});
    const o = typeof r.maxForce < "u" ? r.maxForce : 1e6;
    super(e, n, -o, o), this.axisA = r.axisA ? r.axisA.clone() : new X(1, 0, 0), this.axisB = r.axisB ? r.axisB.clone() : new X(0, 1, 0), this.angle = typeof r.angle < "u" ? r.angle : 0;
  }
  computeB(e) {
    const n = this.a, r = this.b, o = this.axisA, l = this.axisB, h = pie, d = fie, p = this.jacobianElementA, g = this.jacobianElementB;
    o.cross(l, h), l.cross(o, d), p.rotational.copy(d), g.rotational.copy(h);
    const v = Math.cos(this.angle) - o.dot(l), y = this.computeGW(), x = this.computeGiMf();
    return -v * n - y * r - e * x;
  }
}
const pie = new X(), fie = new X();
class Uc extends fs {
  /**
   * World oriented rotational axis.
   */
  /**
   * World oriented rotational axis.
   */
  /**
   * maxAngle
   */
  constructor(e, n, r) {
    r === void 0 && (r = {});
    const o = typeof r.maxForce < "u" ? r.maxForce : 1e6;
    super(e, n, -o, o), this.axisA = r.axisA ? r.axisA.clone() : new X(1, 0, 0), this.axisB = r.axisB ? r.axisB.clone() : new X(0, 1, 0), this.maxAngle = Math.PI / 2;
  }
  computeB(e) {
    const n = this.a, r = this.b, o = this.axisA, l = this.axisB, h = gie, d = bie, p = this.jacobianElementA, g = this.jacobianElementB;
    o.cross(l, h), l.cross(o, d), p.rotational.copy(d), g.rotational.copy(h);
    const v = Math.cos(this.maxAngle) - o.dot(l), y = this.computeGW(), x = this.computeGiMf();
    return -v * n - y * r - e * x;
  }
}
const gie = new X(), bie = new X();
class vie extends P0 {
  /**
   * The axis direction for the constraint of the body A.
   */
  /**
   * The axis direction for the constraint of the body B.
   */
  /**
   * The aperture angle of the cone.
   */
  /**
   * The twist angle of the joint.
   */
  constructor(e, n, r) {
    r === void 0 && (r = {});
    const o = typeof r.maxForce < "u" ? r.maxForce : 1e6, l = r.pivotA ? r.pivotA.clone() : new X(), h = r.pivotB ? r.pivotB.clone() : new X();
    super(e, l, n, h, o), this.axisA = r.axisA ? r.axisA.clone() : new X(), this.axisB = r.axisB ? r.axisB.clone() : new X(), this.collideConnected = !!r.collideConnected, this.angle = typeof r.angle < "u" ? r.angle : 0;
    const d = this.coneEquation = new mie(e, n, r), p = this.twistEquation = new Uc(e, n, r);
    this.twistAngle = typeof r.twistAngle < "u" ? r.twistAngle : 0, d.maxForce = 0, d.minForce = -o, p.maxForce = 0, p.minForce = -o, this.equations.push(d, p);
  }
  update() {
    const e = this.bodyA, n = this.bodyB, r = this.coneEquation, o = this.twistEquation;
    super.update(), e.vectorToWorldFrame(this.axisA, r.axisA), n.vectorToWorldFrame(this.axisB, r.axisB), this.axisA.tangents(o.axisA, o.axisA), e.vectorToWorldFrame(o.axisA, o.axisA), this.axisB.tangents(o.axisB, o.axisB), n.vectorToWorldFrame(o.axisB, o.axisB), r.angle = this.angle, o.maxAngle = this.twistAngle;
  }
}
new X();
new X();
class yie extends nd {
  /**
   * The distance to keep. If undefined, it will be set to the current distance between bodyA and bodyB
   */
  /**
   * @param distance The distance to keep. If undefined, it will be set to the current distance between bodyA and bodyB.
   * @param maxForce The maximum force that should be applied to constrain the bodies.
   */
  constructor(e, n, r, o) {
    o === void 0 && (o = 1e6), super(e, n), typeof r > "u" && (r = e.position.distanceTo(n.position)), this.distance = r;
    const l = this.distanceEquation = new Bu(e, n);
    this.equations.push(l), l.minForce = -o, l.maxForce = o;
  }
  /**
   * update
   */
  update() {
    const e = this.bodyA, n = this.bodyB, r = this.distanceEquation, o = this.distance * 0.5, l = r.ni;
    n.position.vsub(e.position, l), l.normalize(), l.scale(o, r.ri), l.scale(-o, r.rj);
  }
}
class xie extends P0 {
  constructor(e, n, r) {
    r === void 0 && (r = {});
    const o = typeof r.maxForce < "u" ? r.maxForce : 1e6, l = new X(), h = new X(), d = new X();
    e.position.vadd(n.position, d), d.scale(0.5, d), n.pointToLocalFrame(d, h), e.pointToLocalFrame(d, l), super(e, l, n, h, o), this.xA = e.vectorToLocalFrame(X.UNIT_X), this.xB = n.vectorToLocalFrame(X.UNIT_X), this.yA = e.vectorToLocalFrame(X.UNIT_Y), this.yB = n.vectorToLocalFrame(X.UNIT_Y), this.zA = e.vectorToLocalFrame(X.UNIT_Z), this.zB = n.vectorToLocalFrame(X.UNIT_Z);
    const p = this.rotationalEquation1 = new Uc(e, n, r), g = this.rotationalEquation2 = new Uc(e, n, r), v = this.rotationalEquation3 = new Uc(e, n, r);
    this.equations.push(p, g, v);
  }
  /**
   * update
   */
  update() {
    const e = this.bodyA, n = this.bodyB;
    this.motorEquation;
    const r = this.rotationalEquation1, o = this.rotationalEquation2, l = this.rotationalEquation3;
    super.update(), e.vectorToWorldFrame(this.xA, r.axisA), n.vectorToWorldFrame(this.yB, r.axisB), e.vectorToWorldFrame(this.yA, o.axisA), n.vectorToWorldFrame(this.zB, o.axisB), e.vectorToWorldFrame(this.zA, l.axisA), n.vectorToWorldFrame(this.xB, l.axisB);
  }
}
const Cie = new X(), _ie = new X();
class BE extends fs {
  /**
   * World oriented rotational axis.
   */
  /**
   * World oriented rotational axis.
   */
  /**
   * Motor velocity.
   */
  constructor(e, n, r) {
    r === void 0 && (r = 1e6), super(e, n, -r, r), this.axisA = new X(), this.axisB = new X(), this.targetVelocity = 0;
  }
  computeB(e) {
    this.a;
    const n = this.b;
    this.bi, this.bj;
    const r = this.axisA, o = this.axisB, l = this.jacobianElementA, h = this.jacobianElementB;
    l.rotational.copy(r), o.negate(h.rotational);
    const d = this.computeGW() - this.targetVelocity, p = this.computeGiMf();
    return -d * n - e * p;
  }
}
class OE extends P0 {
  /**
   * Rotation axis, defined locally in bodyA.
   */
  /**
   * Rotation axis, defined locally in bodyB.
   */
  constructor(e, n, r) {
    r === void 0 && (r = {});
    const o = typeof r.maxForce < "u" ? r.maxForce : 1e6, l = r.pivotA ? r.pivotA.clone() : new X(), h = r.pivotB ? r.pivotB.clone() : new X();
    super(e, l, n, h, o), (this.axisA = r.axisA ? r.axisA.clone() : new X(1, 0, 0)).normalize(), (this.axisB = r.axisB ? r.axisB.clone() : new X(1, 0, 0)).normalize(), this.collideConnected = !!r.collideConnected;
    const g = this.rotationalEquation1 = new Uc(e, n, r), v = this.rotationalEquation2 = new Uc(e, n, r), y = this.motorEquation = new BE(e, n, o);
    y.enabled = !1, this.equations.push(g, v, y);
  }
  /**
   * enableMotor
   */
  enableMotor() {
    this.motorEquation.enabled = !0;
  }
  /**
   * disableMotor
   */
  disableMotor() {
    this.motorEquation.enabled = !1;
  }
  /**
   * setMotorSpeed
   */
  setMotorSpeed(e) {
    this.motorEquation.targetVelocity = e;
  }
  /**
   * setMotorMaxForce
   */
  setMotorMaxForce(e) {
    this.motorEquation.maxForce = e, this.motorEquation.minForce = -e;
  }
  /**
   * update
   */
  update() {
    const e = this.bodyA, n = this.bodyB, r = this.motorEquation, o = this.rotationalEquation1, l = this.rotationalEquation2, h = wie, d = Tie, p = this.axisA, g = this.axisB;
    super.update(), e.quaternion.vmult(p, h), n.quaternion.vmult(g, d), h.tangents(o.axisA, l.axisA), o.axisB.copy(d), l.axisB.copy(d), this.motorEquation.enabled && (e.quaternion.vmult(this.axisA, r.axisA), n.quaternion.vmult(this.axisB, r.axisB));
  }
}
const wie = new X(), Tie = new X();
class Jx extends fs {
  // Tangent
  /**
   * @param slipForce should be +-F_friction = +-mu * F_normal = +-mu * m * g
   */
  constructor(e, n, r) {
    super(e, n, -r, r), this.ri = new X(), this.rj = new X(), this.t = new X();
  }
  computeB(e) {
    this.a;
    const n = this.b;
    this.bi, this.bj;
    const r = this.ri, o = this.rj, l = Nie, h = Mie, d = this.t;
    r.cross(d, l), o.cross(d, h);
    const p = this.jacobianElementA, g = this.jacobianElementB;
    d.negate(p.spatial), l.negate(p.rotational), g.spatial.copy(d), g.rotational.copy(h);
    const v = this.computeGW(), y = this.computeGiMf();
    return -v * n - e * y;
  }
}
const Nie = new X(), Mie = new X();
class Rp {
  /**
   * Identifier of this material.
   */
  /**
   * Participating materials.
   */
  /**
   * Friction coefficient.
   * @default 0.3
   */
  /**
   * Restitution coefficient.
   * @default 0.3
   */
  /**
   * Stiffness of the produced contact equations.
   * @default 1e7
   */
  /**
   * Relaxation time of the produced contact equations.
   * @default 3
   */
  /**
   * Stiffness of the produced friction equations.
   * @default 1e7
   */
  /**
   * Relaxation time of the produced friction equations
   * @default 3
   */
  constructor(e, n, r) {
    r = E0.defaults(r, {
      friction: 0.3,
      restitution: 0.3,
      contactEquationStiffness: 1e7,
      contactEquationRelaxation: 3,
      frictionEquationStiffness: 1e7,
      frictionEquationRelaxation: 3
    }), this.id = Rp.idCounter++, this.materials = [e, n], this.friction = r.friction, this.restitution = r.restitution, this.contactEquationStiffness = r.contactEquationStiffness, this.contactEquationRelaxation = r.contactEquationRelaxation, this.frictionEquationStiffness = r.frictionEquationStiffness, this.frictionEquationRelaxation = r.frictionEquationRelaxation;
  }
}
Rp.idCounter = 0;
let CC = class LE {
  /**
   * Material name.
   * If options is a string, name will be set to that string.
   * @todo Deprecate this
   */
  /** Material id. */
  /**
   * Friction for this material.
   * If non-negative, it will be used instead of the friction given by ContactMaterials. If there's no matching ContactMaterial, the value from `defaultContactMaterial` in the World will be used.
   */
  /**
   * Restitution for this material.
   * If non-negative, it will be used instead of the restitution given by ContactMaterials. If there's no matching ContactMaterial, the value from `defaultContactMaterial` in the World will be used.
   */
  constructor(e) {
    e === void 0 && (e = {});
    let n = "";
    typeof e == "string" && (n = e, e = {}), this.name = n, this.id = LE.idCounter++, this.friction = typeof e.friction < "u" ? e.friction : -1, this.restitution = typeof e.restitution < "u" ? e.restitution : -1;
  }
};
CC.idCounter = 0;
class Sie {
  /**
   * Rest length of the spring. A number > 0.
   * @default 1
   */
  /**
   * Stiffness of the spring. A number >= 0.
   * @default 100
   */
  /**
   * Damping of the spring. A number >= 0.
   * @default 1
   */
  /**
   * First connected body.
   */
  /**
   * Second connected body.
   */
  /**
   * Anchor for bodyA in local bodyA coordinates.
   * Where to hook the spring to body A, in local body coordinates.
   * @default new Vec3()
   */
  /**
   * Anchor for bodyB in local bodyB coordinates.
   * Where to hook the spring to body B, in local body coordinates.
   * @default new Vec3()
   */
  constructor(e, n, r) {
    r === void 0 && (r = {}), this.restLength = typeof r.restLength == "number" ? r.restLength : 1, this.stiffness = r.stiffness || 100, this.damping = r.damping || 1, this.bodyA = e, this.bodyB = n, this.localAnchorA = new X(), this.localAnchorB = new X(), r.localAnchorA && this.localAnchorA.copy(r.localAnchorA), r.localAnchorB && this.localAnchorB.copy(r.localAnchorB), r.worldAnchorA && this.setWorldAnchorA(r.worldAnchorA), r.worldAnchorB && this.setWorldAnchorB(r.worldAnchorB);
  }
  /**
   * Set the anchor point on body A, using world coordinates.
   */
  setWorldAnchorA(e) {
    this.bodyA.pointToLocalFrame(e, this.localAnchorA);
  }
  /**
   * Set the anchor point on body B, using world coordinates.
   */
  setWorldAnchorB(e) {
    this.bodyB.pointToLocalFrame(e, this.localAnchorB);
  }
  /**
   * Get the anchor point on body A, in world coordinates.
   * @param result The vector to store the result in.
   */
  getWorldAnchorA(e) {
    this.bodyA.pointToWorldFrame(this.localAnchorA, e);
  }
  /**
   * Get the anchor point on body B, in world coordinates.
   * @param result The vector to store the result in.
   */
  getWorldAnchorB(e) {
    this.bodyB.pointToWorldFrame(this.localAnchorB, e);
  }
  /**
   * Apply the spring force to the connected bodies.
   */
  applyForce() {
    const e = this.stiffness, n = this.damping, r = this.restLength, o = this.bodyA, l = this.bodyB, h = Iie, d = Aie, p = Eie, g = Pie, v = Fie, y = Rie, x = Bie, w = Oie, T = Lie, M = jie, S = Die;
    this.getWorldAnchorA(y), this.getWorldAnchorB(x), y.vsub(o.position, w), x.vsub(l.position, T), x.vsub(y, h);
    const L = h.length();
    d.copy(h), d.normalize(), l.velocity.vsub(o.velocity, p), l.angularVelocity.cross(T, v), p.vadd(v, p), o.angularVelocity.cross(w, v), p.vsub(v, p), d.scale(-e * (L - r) - n * p.dot(d), g), o.force.vsub(g, o.force), l.force.vadd(g, l.force), w.cross(g, M), T.cross(g, S), o.torque.vsub(M, o.torque), l.torque.vadd(S, l.torque);
  }
}
const Iie = new X(), Aie = new X(), Eie = new X(), Pie = new X(), Rie = new X(), Bie = new X(), Oie = new X(), Lie = new X(), jie = new X(), Die = new X(), Fie = new X();
class jE {
  /**
   * Max travel distance of the suspension, in meters.
   * @default 1
   */
  /**
   * Speed to apply to the wheel rotation when the wheel is sliding.
   * @default -0.1
   */
  /**
   * If the customSlidingRotationalSpeed should be used.
   * @default false
   */
  /**
   * sliding
   */
  /**
   * Connection point, defined locally in the chassis body frame.
   */
  /**
   * chassisConnectionPointWorld
   */
  /**
   * directionLocal
   */
  /**
   * directionWorld
   */
  /**
   * axleLocal
   */
  /**
   * axleWorld
   */
  /**
   * suspensionRestLength
   * @default 1
   */
  /**
   * suspensionMaxLength
   * @default 2
   */
  /**
   * radius
   * @default 1
   */
  /**
   * suspensionStiffness
   * @default 100
   */
  /**
   * dampingCompression
   * @default 10
   */
  /**
   * dampingRelaxation
   * @default 10
   */
  /**
   * frictionSlip
   * @default 10.5
   */
  /** forwardAcceleration */
  /** sideAcceleration */
  /**
   * steering
   * @default 0
   */
  /**
   * Rotation value, in radians.
   * @default 0
   */
  /**
   * deltaRotation
   * @default 0
   */
  /**
   * rollInfluence
   * @default 0.01
   */
  /**
   * maxSuspensionForce
   */
  /**
   * engineForce
   */
  /**
   * brake
   */
  /**
   * isFrontWheel
   * @default true
   */
  /**
   * clippedInvContactDotSuspension
   * @default 1
   */
  /**
   * suspensionRelativeVelocity
   * @default 0
   */
  /**
   * suspensionForce
   * @default 0
   */
  /**
   * slipInfo
   */
  /**
   * skidInfo
   * @default 0
   */
  /**
   * suspensionLength
   * @default 0
   */
  /**
   * sideImpulse
   */
  /**
   * forwardImpulse
   */
  /**
   * The result from raycasting.
   */
  /**
   * Wheel world transform.
   */
  /**
   * isInContact
   */
  constructor(e) {
    e === void 0 && (e = {}), e = E0.defaults(e, {
      chassisConnectionPointLocal: new X(),
      chassisConnectionPointWorld: new X(),
      directionLocal: new X(),
      directionWorld: new X(),
      axleLocal: new X(),
      axleWorld: new X(),
      suspensionRestLength: 1,
      suspensionMaxLength: 2,
      radius: 1,
      suspensionStiffness: 100,
      dampingCompression: 10,
      dampingRelaxation: 10,
      frictionSlip: 10.5,
      forwardAcceleration: 1,
      sideAcceleration: 1,
      steering: 0,
      rotation: 0,
      deltaRotation: 0,
      rollInfluence: 0.01,
      maxSuspensionForce: Number.MAX_VALUE,
      isFrontWheel: !0,
      clippedInvContactDotSuspension: 1,
      suspensionRelativeVelocity: 0,
      suspensionForce: 0,
      slipInfo: 0,
      skidInfo: 0,
      suspensionLength: 0,
      maxSuspensionTravel: 1,
      useCustomSlidingRotationalSpeed: !1,
      customSlidingRotationalSpeed: -0.1
    }), this.maxSuspensionTravel = e.maxSuspensionTravel, this.customSlidingRotationalSpeed = e.customSlidingRotationalSpeed, this.useCustomSlidingRotationalSpeed = e.useCustomSlidingRotationalSpeed, this.sliding = !1, this.chassisConnectionPointLocal = e.chassisConnectionPointLocal.clone(), this.chassisConnectionPointWorld = e.chassisConnectionPointWorld.clone(), this.directionLocal = e.directionLocal.clone(), this.directionWorld = e.directionWorld.clone(), this.axleLocal = e.axleLocal.clone(), this.axleWorld = e.axleWorld.clone(), this.suspensionRestLength = e.suspensionRestLength, this.suspensionMaxLength = e.suspensionMaxLength, this.radius = e.radius, this.suspensionStiffness = e.suspensionStiffness, this.dampingCompression = e.dampingCompression, this.dampingRelaxation = e.dampingRelaxation, this.frictionSlip = e.frictionSlip, this.forwardAcceleration = e.forwardAcceleration, this.sideAcceleration = e.sideAcceleration, this.steering = 0, this.rotation = 0, this.deltaRotation = 0, this.rollInfluence = e.rollInfluence, this.maxSuspensionForce = e.maxSuspensionForce, this.engineForce = 0, this.brake = 0, this.isFrontWheel = e.isFrontWheel, this.clippedInvContactDotSuspension = 1, this.suspensionRelativeVelocity = 0, this.suspensionForce = 0, this.slipInfo = 0, this.skidInfo = 0, this.suspensionLength = 0, this.sideImpulse = 0, this.forwardImpulse = 0, this.raycastResult = new Du(), this.worldTransform = new En(), this.isInContact = !1;
  }
  updateWheel(e) {
    const n = this.raycastResult;
    if (this.isInContact) {
      const r = n.hitNormalWorld.dot(n.directionWorld);
      n.hitPointWorld.vsub(e.position, C3), e.getVelocityAtWorldPoint(C3, x3);
      const o = n.hitNormalWorld.dot(x3);
      if (r >= -0.1)
        this.suspensionRelativeVelocity = 0, this.clippedInvContactDotSuspension = 1 / 0.1;
      else {
        const l = -1 / r;
        this.suspensionRelativeVelocity = o * l, this.clippedInvContactDotSuspension = l;
      }
    } else
      n.suspensionLength = this.suspensionRestLength, this.suspensionRelativeVelocity = 0, n.directionWorld.scale(-1, n.hitNormalWorld), this.clippedInvContactDotSuspension = 1;
  }
}
const x3 = new X(), C3 = new X();
class kie {
  /** The car chassis body. */
  /** The wheels. */
  /** Will be set to true if the car is sliding. */
  /** Index of the right axis. x=0, y=1, z=2 */
  /** Index of the forward axis. x=0, y=1, z=2 */
  /** Index of the up axis. x=0, y=1, z=2 */
  /** The constraints. */
  /** Optional pre-step callback. */
  /** Number of wheels on the ground. */
  constructor(e) {
    this.chassisBody = e.chassisBody, this.wheelInfos = [], this.sliding = !1, this.world = null, this.indexRightAxis = typeof e.indexRightAxis < "u" ? e.indexRightAxis : 2, this.indexForwardAxis = typeof e.indexForwardAxis < "u" ? e.indexForwardAxis : 0, this.indexUpAxis = typeof e.indexUpAxis < "u" ? e.indexUpAxis : 1, this.constraints = [], this.preStepCallback = () => {
    }, this.currentVehicleSpeedKmHour = 0, this.numWheelsOnGround = 0;
  }
  /**
   * Add a wheel. For information about the options, see `WheelInfo`.
   */
  addWheel(e) {
    e === void 0 && (e = {});
    const n = new jE(e), r = this.wheelInfos.length;
    return this.wheelInfos.push(n), r;
  }
  /**
   * Set the steering value of a wheel.
   */
  setSteeringValue(e, n) {
    const r = this.wheelInfos[n];
    r.steering = e;
  }
  /**
   * Set the wheel force to apply on one of the wheels each time step
   */
  applyEngineForce(e, n) {
    this.wheelInfos[n].engineForce = e;
  }
  /**
   * Set the braking force of a wheel
   */
  setBrake(e, n) {
    this.wheelInfos[n].brake = e;
  }
  /**
   * Add the vehicle including its constraints to the world.
   */
  addToWorld(e) {
    e.addBody(this.chassisBody);
    const n = this;
    this.preStepCallback = () => {
      n.updateVehicle(e.dt);
    }, e.addEventListener("preStep", this.preStepCallback), this.world = e;
  }
  /**
   * Get one of the wheel axles, world-oriented.
   */
  getVehicleAxisWorld(e, n) {
    n.set(e === 0 ? 1 : 0, e === 1 ? 1 : 0, e === 2 ? 1 : 0), this.chassisBody.vectorToWorldFrame(n, n);
  }
  updateVehicle(e) {
    const n = this.wheelInfos, r = n.length, o = this.chassisBody;
    for (let y = 0; y < r; y++)
      this.updateWheelTransform(y);
    this.currentVehicleSpeedKmHour = 3.6 * o.velocity.length();
    const l = new X();
    this.getVehicleAxisWorld(this.indexForwardAxis, l), l.dot(o.velocity) < 0 && (this.currentVehicleSpeedKmHour *= -1);
    for (let y = 0; y < r; y++)
      this.castRay(n[y]);
    this.updateSuspension(e);
    const h = new X(), d = new X();
    for (let y = 0; y < r; y++) {
      const x = n[y];
      let w = x.suspensionForce;
      w > x.maxSuspensionForce && (w = x.maxSuspensionForce), x.raycastResult.hitNormalWorld.scale(w * e, h), x.raycastResult.hitPointWorld.vsub(o.position, d), o.applyImpulse(h, d);
    }
    this.updateFriction(e);
    const p = new X(), g = new X(), v = new X();
    for (let y = 0; y < r; y++) {
      const x = n[y];
      o.getVelocityAtWorldPoint(x.chassisConnectionPointWorld, v);
      let w = 1;
      switch (this.indexUpAxis) {
        case 1:
          w = -1;
          break;
      }
      if (x.isInContact) {
        this.getVehicleAxisWorld(this.indexForwardAxis, g);
        const T = g.dot(x.raycastResult.hitNormalWorld);
        x.raycastResult.hitNormalWorld.scale(T, p), g.vsub(p, g);
        const M = g.dot(v);
        x.deltaRotation = w * M * e / x.radius;
      }
      (x.sliding || !x.isInContact) && x.engineForce !== 0 && x.useCustomSlidingRotationalSpeed && (x.deltaRotation = (x.engineForce > 0 ? 1 : -1) * x.customSlidingRotationalSpeed * e), Math.abs(x.brake) > Math.abs(x.engineForce) && (x.deltaRotation = 0), x.rotation += x.deltaRotation, x.deltaRotation *= 0.99;
    }
  }
  updateSuspension(e) {
    const r = this.chassisBody.mass, o = this.wheelInfos, l = o.length;
    for (let h = 0; h < l; h++) {
      const d = o[h];
      if (d.isInContact) {
        let p;
        const g = d.suspensionRestLength, v = d.suspensionLength, y = g - v;
        p = d.suspensionStiffness * y * d.clippedInvContactDotSuspension;
        const x = d.suspensionRelativeVelocity;
        let w;
        x < 0 ? w = d.dampingCompression : w = d.dampingRelaxation, p -= w * x, d.suspensionForce = p * r, d.suspensionForce < 0 && (d.suspensionForce = 0);
      } else
        d.suspensionForce = 0;
    }
  }
  /**
   * Remove the vehicle including its constraints from the world.
   */
  removeFromWorld(e) {
    this.constraints, e.removeBody(this.chassisBody), e.removeEventListener("preStep", this.preStepCallback), this.world = null;
  }
  castRay(e) {
    const n = Gie, r = Wie;
    this.updateWheelTransformWorld(e);
    const o = this.chassisBody;
    let l = -1;
    const h = e.suspensionRestLength + e.radius;
    e.directionWorld.scale(h, n);
    const d = e.chassisConnectionPointWorld;
    d.vadd(n, r);
    const p = e.raycastResult;
    p.reset();
    const g = o.collisionResponse;
    o.collisionResponse = !1, this.world.rayTest(d, r, p), o.collisionResponse = g;
    const v = p.body;
    if (e.raycastResult.groundObject = 0, v) {
      l = p.distance, e.raycastResult.hitNormalWorld = p.hitNormalWorld, e.isInContact = !0;
      const y = p.distance;
      e.suspensionLength = y - e.radius;
      const x = e.suspensionRestLength - e.maxSuspensionTravel, w = e.suspensionRestLength + e.maxSuspensionTravel;
      e.suspensionLength < x && (e.suspensionLength = x), e.suspensionLength > w && (e.suspensionLength = w, e.raycastResult.reset());
      const T = e.raycastResult.hitNormalWorld.dot(e.directionWorld), M = new X();
      o.getVelocityAtWorldPoint(e.raycastResult.hitPointWorld, M);
      const S = e.raycastResult.hitNormalWorld.dot(M);
      if (T >= -0.1)
        e.suspensionRelativeVelocity = 0, e.clippedInvContactDotSuspension = 1 / 0.1;
      else {
        const L = -1 / T;
        e.suspensionRelativeVelocity = S * L, e.clippedInvContactDotSuspension = L;
      }
    } else
      e.suspensionLength = e.suspensionRestLength + 0 * e.maxSuspensionTravel, e.suspensionRelativeVelocity = 0, e.directionWorld.scale(-1, e.raycastResult.hitNormalWorld), e.clippedInvContactDotSuspension = 1;
    return l;
  }
  updateWheelTransformWorld(e) {
    e.isInContact = !1;
    const n = this.chassisBody;
    n.pointToWorldFrame(e.chassisConnectionPointLocal, e.chassisConnectionPointWorld), n.vectorToWorldFrame(e.directionLocal, e.directionWorld), n.vectorToWorldFrame(e.axleLocal, e.axleWorld);
  }
  /**
   * Update one of the wheel transform.
   * Note when rendering wheels: during each step, wheel transforms are updated BEFORE the chassis; ie. their position becomes invalid after the step. Thus when you render wheels, you must update wheel transforms before rendering them. See raycastVehicle demo for an example.
   * @param wheelIndex The wheel index to update.
   */
  updateWheelTransform(e) {
    const n = Xie, r = zie, o = Uie, l = this.wheelInfos[e];
    this.updateWheelTransformWorld(l), l.directionLocal.scale(-1, n), r.copy(l.axleLocal), n.cross(r, o), o.normalize(), r.normalize();
    const h = l.steering, d = new Yr();
    d.setFromAxisAngle(n, h);
    const p = new Yr();
    p.setFromAxisAngle(r, l.rotation);
    const g = l.worldTransform.quaternion;
    this.chassisBody.quaternion.mult(d, g), g.mult(p, g), g.normalize();
    const v = l.worldTransform.position;
    v.copy(l.directionWorld), v.scale(l.suspensionLength, v), v.vadd(l.chassisConnectionPointWorld, v);
  }
  /**
   * Get the world transform of one of the wheels
   */
  getWheelTransformWorld(e) {
    return this.wheelInfos[e].worldTransform;
  }
  updateFriction(e) {
    const n = Hie, r = this.wheelInfos, o = r.length, l = this.chassisBody, h = qie, d = $ie;
    this.numWheelsOnGround = 0;
    for (let v = 0; v < o; v++) {
      const y = r[v];
      y.raycastResult.body && this.numWheelsOnGround++, y.sideImpulse = 0, y.forwardImpulse = 0, h[v] || (h[v] = new X()), d[v] || (d[v] = new X());
    }
    for (let v = 0; v < o; v++) {
      const y = r[v], x = y.raycastResult.body;
      if (x) {
        const w = d[v];
        this.getWheelTransformWorld(v).vectorToWorldFrame(Vie[this.indexRightAxis], w);
        const M = y.raycastResult.hitNormalWorld, S = w.dot(M);
        M.scale(S, n), w.vsub(n, w), w.normalize(), M.cross(w, h[v]), h[v].normalize(), y.sideImpulse = soe(l, y.raycastResult.hitPointWorld, x, y.raycastResult.hitPointWorld, w), y.sideImpulse *= Yie;
      }
    }
    const p = 1, g = 0.5;
    this.sliding = !1;
    for (let v = 0; v < o; v++) {
      const y = r[v], x = y.raycastResult.body;
      let w = 0;
      if (y.slipInfo = 1, x) {
        const M = y.brake ? y.brake : 0;
        w = Qie(l, x, y.raycastResult.hitPointWorld, h[v], M), w += y.engineForce * e;
        const S = M / w;
        y.slipInfo *= S;
      }
      if (y.forwardImpulse = 0, y.skidInfo = 1, x) {
        y.skidInfo = 1;
        const T = y.suspensionForce * e * y.frictionSlip, S = T * T;
        y.forwardImpulse = w;
        const L = y.forwardImpulse * g / y.forwardAcceleration, F = y.sideImpulse * p / y.sideAcceleration, G = L * L + F * F;
        if (y.sliding = !1, G > S) {
          this.sliding = !0, y.sliding = !0;
          const $ = T / Math.sqrt(G);
          y.skidInfo *= $;
        }
      }
    }
    if (this.sliding)
      for (let v = 0; v < o; v++) {
        const y = r[v];
        y.sideImpulse !== 0 && y.skidInfo < 1 && (y.forwardImpulse *= y.skidInfo, y.sideImpulse *= y.skidInfo);
      }
    for (let v = 0; v < o; v++) {
      const y = r[v], x = new X();
      if (y.raycastResult.hitPointWorld.vsub(l.position, x), y.forwardImpulse !== 0) {
        const w = new X();
        h[v].scale(y.forwardImpulse, w), l.applyImpulse(w, x);
      }
      if (y.sideImpulse !== 0) {
        const w = y.raycastResult.body, T = new X();
        y.raycastResult.hitPointWorld.vsub(w.position, T);
        const M = new X();
        d[v].scale(y.sideImpulse, M), l.vectorToLocalFrame(x, x), x["xyz"[this.indexUpAxis]] *= y.rollInfluence, l.vectorToWorldFrame(x, x), l.applyImpulse(M, x), M.scale(-1, M), w.applyImpulse(M, T);
      }
    }
  }
}
new X();
new X();
new X();
const Xie = new X(), zie = new X(), Uie = new X();
new Fo();
new X();
const Gie = new X(), Wie = new X(), Vie = [new X(1, 0, 0), new X(0, 1, 0), new X(0, 0, 1)], Hie = new X(), $ie = [], qie = [], Yie = 1, Kie = new X(), Zie = new X(), Jie = new X();
function Qie(a, e, n, r, o) {
  let l = 0;
  const h = n, d = Kie, p = Zie, g = Jie;
  a.getVelocityAtWorldPoint(h, d), e.getVelocityAtWorldPoint(h, p), d.vsub(p, g);
  const v = r.dot(g), y = _3(a, n, r), x = _3(e, n, r), T = 1 / (y + x);
  return l = -v * T, o < l && (l = o), l < -o && (l = -o), l;
}
const eoe = new X(), toe = new X(), noe = new X(), roe = new X();
function _3(a, e, n) {
  const r = eoe, o = toe, l = noe, h = roe;
  return e.vsub(a.position, r), r.cross(n, o), a.invInertiaWorld.vmult(o, h), h.cross(r, l), a.invMass + n.dot(l);
}
const ioe = new X(), ooe = new X(), aoe = new X();
function soe(a, e, n, r, o) {
  if (o.lengthSquared() > 1.1)
    return 0;
  const h = ioe, d = ooe, p = aoe;
  a.getVelocityAtWorldPoint(e, h), n.getVelocityAtWorldPoint(r, d), h.vsub(d, p);
  const g = o.dot(p), v = 0.2, y = 1 / (a.invMass + n.invMass);
  return -v * g * y;
}
let DE = class extends ct {
  /**
   * The radius of the sphere.
   */
  /**
   *
   * @param radius The radius of the sphere, a non-negative number.
   */
  constructor(e) {
    if (super({
      type: ct.types.SPHERE
    }), this.radius = e !== void 0 ? e : 1, this.radius < 0)
      throw new Error("The sphere radius cannot be negative.");
    this.updateBoundingSphereRadius();
  }
  /** calculateLocalInertia */
  calculateLocalInertia(e, n) {
    n === void 0 && (n = new X());
    const r = 2 * e * this.radius * this.radius / 5;
    return n.x = r, n.y = r, n.z = r, n;
  }
  /** volume */
  volume() {
    return 4 * Math.PI * Math.pow(this.radius, 3) / 3;
  }
  updateBoundingSphereRadius() {
    this.boundingSphereRadius = this.radius;
  }
  calculateWorldAABB(e, n, r, o) {
    const l = this.radius, h = ["x", "y", "z"];
    for (let d = 0; d < h.length; d++) {
      const p = h[d];
      r[p] = e[p] - l, o[p] = e[p] + l;
    }
  }
};
class loe {
  /**
   * The bodies of the wheels.
   */
  /**
   * The chassis body.
   */
  /**
   * The constraints.
   */
  /**
   * The wheel axes.
   */
  /**
   * The wheel forces.
   */
  constructor(e) {
    e === void 0 && (e = {}), this.wheelBodies = [], this.coordinateSystem = typeof e.coordinateSystem < "u" ? e.coordinateSystem.clone() : new X(1, 2, 3), e.chassisBody ? this.chassisBody = e.chassisBody : this.chassisBody = new Et({
      mass: 1,
      shape: new Pp(new X(5, 0.5, 2))
    }), this.constraints = [], this.wheelAxes = [], this.wheelForces = [];
  }
  /**
   * Add a wheel
   */
  addWheel(e) {
    e === void 0 && (e = {});
    let n;
    e.body ? n = e.body : n = new Et({
      mass: 1,
      shape: new DE(1.2)
    }), this.wheelBodies.push(n), this.wheelForces.push(0);
    const r = typeof e.position < "u" ? e.position.clone() : new X(), o = new X();
    this.chassisBody.pointToWorldFrame(r, o), n.position.set(o.x, o.y, o.z);
    const l = typeof e.axis < "u" ? e.axis.clone() : new X(0, 0, 1);
    this.wheelAxes.push(l);
    const h = new OE(this.chassisBody, n, {
      pivotA: r,
      axisA: l,
      pivotB: X.ZERO,
      axisB: l,
      collideConnected: !1
    });
    return this.constraints.push(h), this.wheelBodies.length - 1;
  }
  /**
   * Set the steering value of a wheel.
   * @todo check coordinateSystem
   */
  setSteeringValue(e, n) {
    const r = this.wheelAxes[n], o = Math.cos(e), l = Math.sin(e), h = r.x, d = r.z;
    this.constraints[n].axisA.set(-o * h + l * d, 0, l * h + o * d);
  }
  /**
   * Set the target rotational speed of the hinge constraint.
   */
  setMotorSpeed(e, n) {
    const r = this.constraints[n];
    r.enableMotor(), r.motorTargetVelocity = e;
  }
  /**
   * Set the target rotational speed of the hinge constraint.
   */
  disableMotor(e) {
    this.constraints[e].disableMotor();
  }
  /**
   * Set the wheel force to apply on one of the wheels each time step
   */
  setWheelForce(e, n) {
    this.wheelForces[n] = e;
  }
  /**
   * Apply a torque on one of the wheels.
   */
  applyWheelForce(e, n) {
    const r = this.wheelAxes[n], o = this.wheelBodies[n], l = o.torque;
    r.scale(e, J1), o.vectorToWorldFrame(J1, J1), l.vadd(J1, l);
  }
  /**
   * Add the vehicle including its constraints to the world.
   */
  addToWorld(e) {
    const n = this.constraints, r = this.wheelBodies.concat([this.chassisBody]);
    for (let o = 0; o < r.length; o++)
      e.addBody(r[o]);
    for (let o = 0; o < n.length; o++)
      e.addConstraint(n[o]);
    e.addEventListener("preStep", this._update.bind(this));
  }
  _update() {
    const e = this.wheelForces;
    for (let n = 0; n < e.length; n++)
      this.applyWheelForce(e[n], n);
  }
  /**
   * Remove the vehicle including its constraints from the world.
   */
  removeFromWorld(e) {
    const n = this.constraints, r = this.wheelBodies.concat([this.chassisBody]);
    for (let o = 0; o < r.length; o++)
      e.removeBody(r[o]);
    for (let o = 0; o < n.length; o++)
      e.removeConstraint(n[o]);
  }
  /**
   * Get current rotational velocity of a wheel
   */
  getWheelSpeed(e) {
    const n = this.wheelAxes[e], o = this.wheelBodies[e].angularVelocity;
    return this.chassisBody.vectorToWorldFrame(n, w3), o.dot(w3);
  }
}
const J1 = new X(), w3 = new X();
class coe {
  /**
   * The particles array.
   */
  /**
   * Density of the system (kg/m3).
   * @default 1
   */
  /**
   * Distance below which two particles are considered to be neighbors.
   * It should be adjusted so there are about 15-20 neighbor particles within this radius.
   * @default 1
   */
  /**
   * @default 1
   */
  /**
   * Viscosity of the system.
   * @default 0.01
   */
  /**
   * @default 0.000001
   */
  constructor() {
    this.particles = [], this.density = 1, this.smoothingRadius = 1, this.speedOfSound = 1, this.viscosity = 0.01, this.eps = 1e-6, this.pressures = [], this.densities = [], this.neighbors = [];
  }
  /**
   * Add a particle to the system.
   */
  add(e) {
    this.particles.push(e), this.neighbors.length < this.particles.length && this.neighbors.push([]);
  }
  /**
   * Remove a particle from the system.
   */
  remove(e) {
    const n = this.particles.indexOf(e);
    n !== -1 && (this.particles.splice(n, 1), this.neighbors.length > this.particles.length && this.neighbors.pop());
  }
  /**
   * Get neighbors within smoothing volume, save in the array neighbors
   */
  getNeighbors(e, n) {
    const r = this.particles.length, o = e.id, l = this.smoothingRadius * this.smoothingRadius, h = hoe;
    for (let d = 0; d !== r; d++) {
      const p = this.particles[d];
      p.position.vsub(e.position, h), o !== p.id && h.lengthSquared() < l && n.push(p);
    }
  }
  update() {
    const e = this.particles.length, n = uoe, r = this.speedOfSound, o = this.eps;
    for (let v = 0; v !== e; v++) {
      const y = this.particles[v], x = this.neighbors[v];
      x.length = 0, this.getNeighbors(y, x), x.push(this.particles[v]);
      const w = x.length;
      let T = 0;
      for (let M = 0; M !== w; M++) {
        y.position.vsub(x[M].position, n);
        const S = n.length(), L = this.w(S);
        T += x[M].mass * L;
      }
      this.densities[v] = T, this.pressures[v] = r * r * (this.densities[v] - this.density);
    }
    const l = doe, h = moe, d = poe, p = foe, g = goe;
    for (let v = 0; v !== e; v++) {
      const y = this.particles[v];
      l.set(0, 0, 0), h.set(0, 0, 0);
      let x, w;
      const T = this.neighbors[v], M = T.length;
      for (let S = 0; S !== M; S++) {
        const L = T[S];
        y.position.vsub(L.position, p);
        const F = p.length();
        x = -L.mass * (this.pressures[v] / (this.densities[v] * this.densities[v] + o) + this.pressures[S] / (this.densities[S] * this.densities[S] + o)), this.gradw(p, d), d.scale(x, d), l.vadd(d, l), L.velocity.vsub(y.velocity, g), g.scale(1 / (1e-4 + this.densities[v] * this.densities[S]) * this.viscosity * L.mass, g), w = this.nablaw(F), g.scale(w, g), h.vadd(g, h);
      }
      h.scale(y.mass, h), l.scale(y.mass, l), y.force.vadd(h, y.force), y.force.vadd(l, y.force);
    }
  }
  // Calculate the weight using the W(r) weightfunction
  w(e) {
    const n = this.smoothingRadius;
    return 315 / (64 * Math.PI * n ** 9) * (n * n - e * e) ** 3;
  }
  // calculate gradient of the weight function
  gradw(e, n) {
    const r = e.length(), o = this.smoothingRadius;
    e.scale(945 / (32 * Math.PI * o ** 9) * (o * o - r * r) ** 2, n);
  }
  // Calculate nabla(W)
  nablaw(e) {
    const n = this.smoothingRadius;
    return 945 / (32 * Math.PI * n ** 9) * (n * n - e * e) * (7 * e * e - 3 * n * n);
  }
}
const hoe = new X(), uoe = new X(), doe = new X(), moe = new X(), poe = new X(), foe = new X(), goe = new X();
class boe extends ss {
  /** The radius of the top of the Cylinder. */
  /** The radius of the bottom of the Cylinder. */
  /** The height of the Cylinder. */
  /** The number of segments to build the cylinder out of. */
  /**
   * @param radiusTop The radius of the top of the Cylinder.
   * @param radiusBottom The radius of the bottom of the Cylinder.
   * @param height The height of the Cylinder.
   * @param numSegments The number of segments to build the cylinder out of.
   */
  constructor(e, n, r, o) {
    if (e === void 0 && (e = 1), n === void 0 && (n = 1), r === void 0 && (r = 1), o === void 0 && (o = 8), e < 0)
      throw new Error("The cylinder radiusTop cannot be negative.");
    if (n < 0)
      throw new Error("The cylinder radiusBottom cannot be negative.");
    const l = o, h = [], d = [], p = [], g = [], v = [], y = Math.cos, x = Math.sin;
    h.push(new X(-n * x(0), -r * 0.5, n * y(0))), g.push(0), h.push(new X(-e * x(0), r * 0.5, e * y(0))), v.push(1);
    for (let T = 0; T < l; T++) {
      const M = 2 * Math.PI / l * (T + 1), S = 2 * Math.PI / l * (T + 0.5);
      T < l - 1 ? (h.push(new X(-n * x(M), -r * 0.5, n * y(M))), g.push(2 * T + 2), h.push(new X(-e * x(M), r * 0.5, e * y(M))), v.push(2 * T + 3), p.push([2 * T, 2 * T + 1, 2 * T + 3, 2 * T + 2])) : p.push([2 * T, 2 * T + 1, 1, 0]), (l % 2 === 1 || T < l / 2) && d.push(new X(-x(S), 0, y(S)));
    }
    p.push(g), d.push(new X(0, 1, 0));
    const w = [];
    for (let T = 0; T < v.length; T++)
      w.push(v[v.length - T - 1]);
    p.push(w), super({
      vertices: h,
      faces: p,
      axes: d
    }), this.type = ct.types.CYLINDER, this.radiusTop = e, this.radiusBottom = n, this.height = r, this.numSegments = o;
  }
}
class voe extends ct {
  constructor() {
    super({
      type: ct.types.PARTICLE
    });
  }
  /**
   * calculateLocalInertia
   */
  calculateLocalInertia(e, n) {
    return n === void 0 && (n = new X()), n.set(0, 0, 0), n;
  }
  volume() {
    return 0;
  }
  updateBoundingSphereRadius() {
    this.boundingSphereRadius = 0;
  }
  calculateWorldAABB(e, n, r, o) {
    r.copy(e), o.copy(e);
  }
}
let yoe = class extends ct {
  /** worldNormal */
  /** worldNormalNeedsUpdate */
  constructor() {
    super({
      type: ct.types.PLANE
    }), this.worldNormal = new X(), this.worldNormalNeedsUpdate = !0, this.boundingSphereRadius = Number.MAX_VALUE;
  }
  /** computeWorldNormal */
  computeWorldNormal(e) {
    const n = this.worldNormal;
    n.set(0, 0, 1), e.vmult(n, n), this.worldNormalNeedsUpdate = !1;
  }
  calculateLocalInertia(e, n) {
    return n === void 0 && (n = new X()), n;
  }
  volume() {
    return (
      // The plane is infinite...
      Number.MAX_VALUE
    );
  }
  calculateWorldAABB(e, n, r, o) {
    Ka.set(0, 0, 1), n.vmult(Ka, Ka);
    const l = Number.MAX_VALUE;
    r.set(-l, -l, -l), o.set(l, l, l), Ka.x === 1 ? o.x = e.x : Ka.x === -1 && (r.x = e.x), Ka.y === 1 ? o.y = e.y : Ka.y === -1 && (r.y = e.y), Ka.z === 1 ? o.z = e.z : Ka.z === -1 && (r.z = e.z);
  }
  updateBoundingSphereRadius() {
    this.boundingSphereRadius = Number.MAX_VALUE;
  }
};
const Ka = new X();
class xoe extends ct {
  /**
   * An array of numbers, or height values, that are spread out along the x axis.
   */
  /**
   * Max value of the data points in the data array.
   */
  /**
   * Minimum value of the data points in the data array.
   */
  /**
   * World spacing between the data points in X and Y direction.
   * @todo elementSizeX and Y
   * @default 1
   */
  /**
   * @default true
   */
  /**
   * @param data An array of numbers, or height values, that are spread out along the x axis.
   */
  constructor(e, n) {
    n === void 0 && (n = {}), n = E0.defaults(n, {
      maxValue: null,
      minValue: null,
      elementSize: 1
    }), super({
      type: ct.types.HEIGHTFIELD
    }), this.data = e, this.maxValue = n.maxValue, this.minValue = n.minValue, this.elementSize = n.elementSize, n.minValue === null && this.updateMinValue(), n.maxValue === null && this.updateMaxValue(), this.cacheEnabled = !0, this.pillarConvex = new ss(), this.pillarOffset = new X(), this.updateBoundingSphereRadius(), this._cachedPillars = {};
  }
  /**
   * Call whenever you change the data array.
   */
  update() {
    this._cachedPillars = {};
  }
  /**
   * Update the `minValue` property
   */
  updateMinValue() {
    const e = this.data;
    let n = e[0][0];
    for (let r = 0; r !== e.length; r++)
      for (let o = 0; o !== e[r].length; o++) {
        const l = e[r][o];
        l < n && (n = l);
      }
    this.minValue = n;
  }
  /**
   * Update the `maxValue` property
   */
  updateMaxValue() {
    const e = this.data;
    let n = e[0][0];
    for (let r = 0; r !== e.length; r++)
      for (let o = 0; o !== e[r].length; o++) {
        const l = e[r][o];
        l > n && (n = l);
      }
    this.maxValue = n;
  }
  /**
   * Set the height value at an index. Don't forget to update maxValue and minValue after you're done.
   */
  setHeightValueAtIndex(e, n, r) {
    const o = this.data;
    o[e][n] = r, this.clearCachedConvexTrianglePillar(e, n, !1), e > 0 && (this.clearCachedConvexTrianglePillar(e - 1, n, !0), this.clearCachedConvexTrianglePillar(e - 1, n, !1)), n > 0 && (this.clearCachedConvexTrianglePillar(e, n - 1, !0), this.clearCachedConvexTrianglePillar(e, n - 1, !1)), n > 0 && e > 0 && this.clearCachedConvexTrianglePillar(e - 1, n - 1, !0);
  }
  /**
   * Get max/min in a rectangle in the matrix data
   * @param result An array to store the results in.
   * @return The result array, if it was passed in. Minimum will be at position 0 and max at 1.
   */
  getRectMinMax(e, n, r, o, l) {
    l === void 0 && (l = []);
    const h = this.data;
    let d = this.minValue;
    for (let p = e; p <= r; p++)
      for (let g = n; g <= o; g++) {
        const v = h[p][g];
        v > d && (d = v);
      }
    l[0] = this.minValue, l[1] = d;
  }
  /**
   * Get the index of a local position on the heightfield. The indexes indicate the rectangles, so if your terrain is made of N x N height data points, you will have rectangle indexes ranging from 0 to N-1.
   * @param result Two-element array
   * @param clamp If the position should be clamped to the heightfield edge.
   */
  getIndexOfPosition(e, n, r, o) {
    const l = this.elementSize, h = this.data;
    let d = Math.floor(e / l), p = Math.floor(n / l);
    return r[0] = d, r[1] = p, o && (d < 0 && (d = 0), p < 0 && (p = 0), d >= h.length - 1 && (d = h.length - 1), p >= h[0].length - 1 && (p = h[0].length - 1)), !(d < 0 || p < 0 || d >= h.length - 1 || p >= h[0].length - 1);
  }
  getTriangleAt(e, n, r, o, l, h) {
    const d = T3;
    this.getIndexOfPosition(e, n, d, r);
    let p = d[0], g = d[1];
    const v = this.data;
    r && (p = Math.min(v.length - 2, Math.max(0, p)), g = Math.min(v[0].length - 2, Math.max(0, g)));
    const y = this.elementSize, x = (e / y - p) ** 2 + (n / y - g) ** 2, w = (e / y - (p + 1)) ** 2 + (n / y - (g + 1)) ** 2, T = x > w;
    return this.getTriangle(p, g, T, o, l, h), T;
  }
  getNormalAt(e, n, r, o) {
    const l = Toe, h = Noe, d = Moe, p = Soe, g = Ioe;
    this.getTriangleAt(e, n, r, l, h, d), h.vsub(l, p), d.vsub(l, g), p.cross(g, o), o.normalize();
  }
  /**
   * Get an AABB of a square in the heightfield
   * @param xi
   * @param yi
   * @param result
   */
  getAabbAtIndex(e, n, r) {
    let {
      lowerBound: o,
      upperBound: l
    } = r;
    const h = this.data, d = this.elementSize;
    o.set(e * d, n * d, h[e][n]), l.set((e + 1) * d, (n + 1) * d, h[e + 1][n + 1]);
  }
  /**
   * Get the height in the heightfield at a given position
   */
  getHeightAt(e, n, r) {
    const o = this.data, l = Coe, h = _oe, d = woe, p = T3;
    this.getIndexOfPosition(e, n, p, r);
    let g = p[0], v = p[1];
    r && (g = Math.min(o.length - 2, Math.max(0, g)), v = Math.min(o[0].length - 2, Math.max(0, v)));
    const y = this.getTriangleAt(e, n, r, l, h, d);
    Aoe(e, n, l.x, l.y, h.x, h.y, d.x, d.y, N3);
    const x = N3;
    return y ? o[g + 1][v + 1] * x.x + o[g][v + 1] * x.y + o[g + 1][v] * x.z : o[g][v] * x.x + o[g + 1][v] * x.y + o[g][v + 1] * x.z;
  }
  getCacheConvexTrianglePillarKey(e, n, r) {
    return `${e}_${n}_${r ? 1 : 0}`;
  }
  getCachedConvexTrianglePillar(e, n, r) {
    return this._cachedPillars[this.getCacheConvexTrianglePillarKey(e, n, r)];
  }
  setCachedConvexTrianglePillar(e, n, r, o, l) {
    this._cachedPillars[this.getCacheConvexTrianglePillarKey(e, n, r)] = {
      convex: o,
      offset: l
    };
  }
  clearCachedConvexTrianglePillar(e, n, r) {
    delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(e, n, r)];
  }
  /**
   * Get a triangle from the heightfield
   */
  getTriangle(e, n, r, o, l, h) {
    const d = this.data, p = this.elementSize;
    r ? (o.set((e + 1) * p, (n + 1) * p, d[e + 1][n + 1]), l.set(e * p, (n + 1) * p, d[e][n + 1]), h.set((e + 1) * p, n * p, d[e + 1][n])) : (o.set(e * p, n * p, d[e][n]), l.set((e + 1) * p, n * p, d[e + 1][n]), h.set(e * p, (n + 1) * p, d[e][n + 1]));
  }
  /**
   * Get a triangle in the terrain in the form of a triangular convex shape.
   */
  getConvexTrianglePillar(e, n, r) {
    let o = this.pillarConvex, l = this.pillarOffset;
    if (this.cacheEnabled) {
      const y = this.getCachedConvexTrianglePillar(e, n, r);
      if (y) {
        this.pillarConvex = y.convex, this.pillarOffset = y.offset;
        return;
      }
      o = new ss(), l = new X(), this.pillarConvex = o, this.pillarOffset = l;
    }
    const h = this.data, d = this.elementSize, p = o.faces;
    o.vertices.length = 6;
    for (let y = 0; y < 6; y++)
      o.vertices[y] || (o.vertices[y] = new X());
    p.length = 5;
    for (let y = 0; y < 5; y++)
      p[y] || (p[y] = []);
    const g = o.vertices, v = (Math.min(h[e][n], h[e + 1][n], h[e][n + 1], h[e + 1][n + 1]) - this.minValue) / 2 + this.minValue;
    r ? (l.set(
      (e + 0.75) * d,
      // sort of center of a triangle
      (n + 0.75) * d,
      v
      // vertical center
    ), g[0].set(0.25 * d, 0.25 * d, h[e + 1][n + 1] - v), g[1].set(-0.75 * d, 0.25 * d, h[e][n + 1] - v), g[2].set(0.25 * d, -0.75 * d, h[e + 1][n] - v), g[3].set(0.25 * d, 0.25 * d, -Math.abs(v) - 1), g[4].set(-0.75 * d, 0.25 * d, -Math.abs(v) - 1), g[5].set(0.25 * d, -0.75 * d, -Math.abs(v) - 1), p[0][0] = 0, p[0][1] = 1, p[0][2] = 2, p[1][0] = 5, p[1][1] = 4, p[1][2] = 3, p[2][0] = 2, p[2][1] = 5, p[2][2] = 3, p[2][3] = 0, p[3][0] = 3, p[3][1] = 4, p[3][2] = 1, p[3][3] = 0, p[4][0] = 1, p[4][1] = 4, p[4][2] = 5, p[4][3] = 2) : (l.set(
      (e + 0.25) * d,
      // sort of center of a triangle
      (n + 0.25) * d,
      v
      // vertical center
    ), g[0].set(-0.25 * d, -0.25 * d, h[e][n] - v), g[1].set(0.75 * d, -0.25 * d, h[e + 1][n] - v), g[2].set(-0.25 * d, 0.75 * d, h[e][n + 1] - v), g[3].set(-0.25 * d, -0.25 * d, -Math.abs(v) - 1), g[4].set(0.75 * d, -0.25 * d, -Math.abs(v) - 1), g[5].set(-0.25 * d, 0.75 * d, -Math.abs(v) - 1), p[0][0] = 0, p[0][1] = 1, p[0][2] = 2, p[1][0] = 5, p[1][1] = 4, p[1][2] = 3, p[2][0] = 0, p[2][1] = 2, p[2][2] = 5, p[2][3] = 3, p[3][0] = 1, p[3][1] = 0, p[3][2] = 3, p[3][3] = 4, p[4][0] = 4, p[4][1] = 5, p[4][2] = 2, p[4][3] = 1), o.computeNormals(), o.computeEdges(), o.updateBoundingSphereRadius(), this.setCachedConvexTrianglePillar(e, n, r, o, l);
  }
  calculateLocalInertia(e, n) {
    return n === void 0 && (n = new X()), n.set(0, 0, 0), n;
  }
  volume() {
    return (
      // The terrain is infinite
      Number.MAX_VALUE
    );
  }
  calculateWorldAABB(e, n, r, o) {
    r.set(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE), o.set(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);
  }
  updateBoundingSphereRadius() {
    const e = this.data, n = this.elementSize;
    this.boundingSphereRadius = new X(e.length * n, e[0].length * n, Math.max(Math.abs(this.maxValue), Math.abs(this.minValue))).length();
  }
  /**
   * Sets the height values from an image. Currently only supported in browser.
   */
  setHeightsFromImage(e, n) {
    const {
      x: r,
      z: o,
      y: l
    } = n, h = document.createElement("canvas");
    h.width = e.width, h.height = e.height;
    const d = h.getContext("2d");
    d.drawImage(e, 0, 0);
    const p = d.getImageData(0, 0, e.width, e.height), g = this.data;
    g.length = 0, this.elementSize = Math.abs(r) / p.width;
    for (let v = 0; v < p.height; v++) {
      const y = [];
      for (let x = 0; x < p.width; x++) {
        const w = p.data[(v * p.height + x) * 4], T = p.data[(v * p.height + x) * 4 + 1], M = p.data[(v * p.height + x) * 4 + 2], S = (w + T + M) / 4 / 255 * o;
        r < 0 ? y.push(S) : y.unshift(S);
      }
      l < 0 ? g.unshift(y) : g.push(y);
    }
    this.updateMaxValue(), this.updateMinValue(), this.update();
  }
}
const T3 = [], N3 = new X(), Coe = new X(), _oe = new X(), woe = new X(), Toe = new X(), Noe = new X(), Moe = new X(), Soe = new X(), Ioe = new X();
function Aoe(a, e, n, r, o, l, h, d, p) {
  p.x = ((l - d) * (a - h) + (h - o) * (e - d)) / ((l - d) * (n - h) + (h - o) * (r - d)), p.y = ((d - r) * (a - h) + (n - h) * (e - d)) / ((l - d) * (n - h) + (h - o) * (r - d)), p.z = 1 - p.x - p.y;
}
class ua {
  /** The root node */
  /** Boundary of this node */
  /** Contained data at the current node level */
  /** Children to this node */
  constructor(e) {
    e === void 0 && (e = {}), this.root = e.root || null, this.aabb = e.aabb ? e.aabb.clone() : new ar(), this.data = [], this.children = [];
  }
  /**
   * reset
   */
  reset() {
    this.children.length = this.data.length = 0;
  }
  /**
   * Insert data into this node
   * @return True if successful, otherwise false
   */
  insert(e, n, r) {
    r === void 0 && (r = 0);
    const o = this.data;
    if (!this.aabb.contains(e))
      return !1;
    const l = this.children, h = this.maxDepth || this.root.maxDepth;
    if (r < h) {
      let d = !1;
      l.length || (this.subdivide(), d = !0);
      for (let p = 0; p !== 8; p++)
        if (l[p].insert(e, n, r + 1))
          return !0;
      d && (l.length = 0);
    }
    return o.push(n), !0;
  }
  /**
   * Create 8 equally sized children nodes and put them in the `children` array.
   */
  subdivide() {
    const e = this.aabb, n = e.lowerBound, r = e.upperBound, o = this.children;
    o.push(new ua({
      aabb: new ar({
        lowerBound: new X(0, 0, 0)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(1, 0, 0)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(1, 1, 0)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(1, 1, 1)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(0, 1, 1)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(0, 0, 1)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(1, 0, 1)
      })
    }), new ua({
      aabb: new ar({
        lowerBound: new X(0, 1, 0)
      })
    })), r.vsub(n, Sc), Sc.scale(0.5, Sc);
    const l = this.root || this;
    for (let h = 0; h !== 8; h++) {
      const d = o[h];
      d.root = l;
      const p = d.aabb.lowerBound;
      p.x *= Sc.x, p.y *= Sc.y, p.z *= Sc.z, p.vadd(n, p), p.vadd(Sc, d.aabb.upperBound);
    }
  }
  /**
   * Get all data, potentially within an AABB
   * @return The "result" object
   */
  aabbQuery(e, n) {
    this.data, this.children;
    const r = [this];
    for (; r.length; ) {
      const o = r.pop();
      o.aabb.overlaps(e) && Array.prototype.push.apply(n, o.data), Array.prototype.push.apply(r, o.children);
    }
    return n;
  }
  /**
   * Get all data, potentially intersected by a ray.
   * @return The "result" object
   */
  rayQuery(e, n, r) {
    return e.getAABB(Q1), Q1.toLocalFrame(n, Q1), this.aabbQuery(Q1, r), r;
  }
  /**
   * removeEmptyNodes
   */
  removeEmptyNodes() {
    for (let e = this.children.length - 1; e >= 0; e--)
      this.children[e].removeEmptyNodes(), !this.children[e].children.length && !this.children[e].data.length && this.children.splice(e, 1);
  }
}
class Eoe extends ua {
  /**
   * Maximum subdivision depth
   * @default 8
   */
  /**
   * @param aabb The total AABB of the tree
   */
  constructor(e, n) {
    n === void 0 && (n = {}), super({
      root: null,
      aabb: e
    }), this.maxDepth = typeof n.maxDepth < "u" ? n.maxDepth : 8;
  }
}
const Sc = new X(), Q1 = new ar();
class Qg extends ct {
  /**
   * vertices
   */
  /**
   * Array of integers, indicating which vertices each triangle consists of. The length of this array is thus 3 times the number of triangles.
   */
  /**
   * The normals data.
   */
  /**
   * The local AABB of the mesh.
   */
  /**
   * References to vertex pairs, making up all unique edges in the trimesh.
   */
  /**
   * Local scaling of the mesh. Use .setScale() to set it.
   */
  /**
   * The indexed triangles. Use .updateTree() to update it.
   */
  constructor(e, n) {
    super({
      type: ct.types.TRIMESH
    }), this.vertices = new Float32Array(e), this.indices = new Int16Array(n), this.normals = new Float32Array(n.length), this.aabb = new ar(), this.edges = null, this.scale = new X(1, 1, 1), this.tree = new Eoe(), this.updateEdges(), this.updateNormals(), this.updateAABB(), this.updateBoundingSphereRadius(), this.updateTree();
  }
  /**
   * updateTree
   */
  updateTree() {
    const e = this.tree;
    e.reset(), e.aabb.copy(this.aabb);
    const n = this.scale;
    e.aabb.lowerBound.x *= 1 / n.x, e.aabb.lowerBound.y *= 1 / n.y, e.aabb.lowerBound.z *= 1 / n.z, e.aabb.upperBound.x *= 1 / n.x, e.aabb.upperBound.y *= 1 / n.y, e.aabb.upperBound.z *= 1 / n.z;
    const r = new ar(), o = new X(), l = new X(), h = new X(), d = [o, l, h];
    for (let p = 0; p < this.indices.length / 3; p++) {
      const g = p * 3;
      this._getUnscaledVertex(this.indices[g], o), this._getUnscaledVertex(this.indices[g + 1], l), this._getUnscaledVertex(this.indices[g + 2], h), r.setFromPoints(d), e.insert(r, p);
    }
    e.removeEmptyNodes();
  }
  /**
   * Get triangles in a local AABB from the trimesh.
   * @param result An array of integers, referencing the queried triangles.
   */
  getTrianglesInAABB(e, n) {
    eg.copy(e);
    const r = this.scale, o = r.x, l = r.y, h = r.z, d = eg.lowerBound, p = eg.upperBound;
    return d.x /= o, d.y /= l, d.z /= h, p.x /= o, p.y /= l, p.z /= h, this.tree.aabbQuery(eg, n);
  }
  /**
   * setScale
   */
  setScale(e) {
    const n = this.scale.x === this.scale.y && this.scale.y === this.scale.z, r = e.x === e.y && e.y === e.z;
    n && r || this.updateNormals(), this.scale.copy(e), this.updateAABB(), this.updateBoundingSphereRadius();
  }
  /**
   * Compute the normals of the faces. Will save in the `.normals` array.
   */
  updateNormals() {
    const e = Poe, n = this.normals;
    for (let r = 0; r < this.indices.length / 3; r++) {
      const o = r * 3, l = this.indices[o], h = this.indices[o + 1], d = this.indices[o + 2];
      this.getVertex(l, I3), this.getVertex(h, A3), this.getVertex(d, E3), Qg.computeNormal(A3, I3, E3, e), n[o] = e.x, n[o + 1] = e.y, n[o + 2] = e.z;
    }
  }
  /**
   * Update the `.edges` property
   */
  updateEdges() {
    const e = {}, n = (o, l) => {
      const h = o < l ? `${o}_${l}` : `${l}_${o}`;
      e[h] = !0;
    };
    for (let o = 0; o < this.indices.length / 3; o++) {
      const l = o * 3, h = this.indices[l], d = this.indices[l + 1], p = this.indices[l + 2];
      n(h, d), n(d, p), n(p, h);
    }
    const r = Object.keys(e);
    this.edges = new Int16Array(r.length * 2);
    for (let o = 0; o < r.length; o++) {
      const l = r[o].split("_");
      this.edges[2 * o] = parseInt(l[0], 10), this.edges[2 * o + 1] = parseInt(l[1], 10);
    }
  }
  /**
   * Get an edge vertex
   * @param firstOrSecond 0 or 1, depending on which one of the vertices you need.
   * @param vertexStore Where to store the result
   */
  getEdgeVertex(e, n, r) {
    const o = this.edges[e * 2 + (n ? 1 : 0)];
    this.getVertex(o, r);
  }
  /**
   * Get a vector along an edge.
   */
  getEdgeVector(e, n) {
    const r = Roe, o = Boe;
    this.getEdgeVertex(e, 0, r), this.getEdgeVertex(e, 1, o), o.vsub(r, n);
  }
  /**
   * Get face normal given 3 vertices
   */
  static computeNormal(e, n, r, o) {
    n.vsub(e, S3), r.vsub(n, M3), M3.cross(S3, o), o.isZero() || o.normalize();
  }
  /**
   * Get vertex i.
   * @return The "out" vector object
   */
  getVertex(e, n) {
    const r = this.scale;
    return this._getUnscaledVertex(e, n), n.x *= r.x, n.y *= r.y, n.z *= r.z, n;
  }
  /**
   * Get raw vertex i
   * @return The "out" vector object
   */
  _getUnscaledVertex(e, n) {
    const r = e * 3, o = this.vertices;
    return n.set(o[r], o[r + 1], o[r + 2]);
  }
  /**
   * Get a vertex from the trimesh,transformed by the given position and quaternion.
   * @return The "out" vector object
   */
  getWorldVertex(e, n, r, o) {
    return this.getVertex(e, o), En.pointToWorldFrame(n, r, o, o), o;
  }
  /**
   * Get the three vertices for triangle i.
   */
  getTriangleVertices(e, n, r, o) {
    const l = e * 3;
    this.getVertex(this.indices[l], n), this.getVertex(this.indices[l + 1], r), this.getVertex(this.indices[l + 2], o);
  }
  /**
   * Compute the normal of triangle i.
   * @return The "target" vector object
   */
  getNormal(e, n) {
    const r = e * 3;
    return n.set(this.normals[r], this.normals[r + 1], this.normals[r + 2]);
  }
  /**
   * @return The "target" vector object
   */
  calculateLocalInertia(e, n) {
    this.computeLocalAABB(Ic);
    const r = Ic.upperBound.x - Ic.lowerBound.x, o = Ic.upperBound.y - Ic.lowerBound.y, l = Ic.upperBound.z - Ic.lowerBound.z;
    return n.set(1 / 12 * e * (2 * o * 2 * o + 2 * l * 2 * l), 1 / 12 * e * (2 * r * 2 * r + 2 * l * 2 * l), 1 / 12 * e * (2 * o * 2 * o + 2 * r * 2 * r));
  }
  /**
   * Compute the local AABB for the trimesh
   */
  computeLocalAABB(e) {
    const n = e.lowerBound, r = e.upperBound, o = this.vertices.length;
    this.vertices;
    const l = Ooe;
    this.getVertex(0, l), n.copy(l), r.copy(l);
    for (let h = 0; h !== o; h++)
      this.getVertex(h, l), l.x < n.x ? n.x = l.x : l.x > r.x && (r.x = l.x), l.y < n.y ? n.y = l.y : l.y > r.y && (r.y = l.y), l.z < n.z ? n.z = l.z : l.z > r.z && (r.z = l.z);
  }
  /**
   * Update the `.aabb` property
   */
  updateAABB() {
    this.computeLocalAABB(this.aabb);
  }
  /**
   * Will update the `.boundingSphereRadius` property
   */
  updateBoundingSphereRadius() {
    let e = 0;
    const n = this.vertices, r = new X();
    for (let o = 0, l = n.length / 3; o !== l; o++) {
      this.getVertex(o, r);
      const h = r.lengthSquared();
      h > e && (e = h);
    }
    this.boundingSphereRadius = Math.sqrt(e);
  }
  /**
   * calculateWorldAABB
   */
  calculateWorldAABB(e, n, r, o) {
    const l = Loe, h = joe;
    l.position = e, l.quaternion = n, this.aabb.toWorldFrame(l, h), r.copy(h.lowerBound), o.copy(h.upperBound);
  }
  /**
   * Get approximate volume
   */
  volume() {
    return 4 * Math.PI * this.boundingSphereRadius / 3;
  }
  /**
   * Create a Trimesh instance, shaped as a torus.
   */
  static createTorus(e, n, r, o, l) {
    e === void 0 && (e = 1), n === void 0 && (n = 0.5), r === void 0 && (r = 8), o === void 0 && (o = 6), l === void 0 && (l = Math.PI * 2);
    const h = [], d = [];
    for (let p = 0; p <= r; p++)
      for (let g = 0; g <= o; g++) {
        const v = g / o * l, y = p / r * Math.PI * 2, x = (e + n * Math.cos(y)) * Math.cos(v), w = (e + n * Math.cos(y)) * Math.sin(v), T = n * Math.sin(y);
        h.push(x, w, T);
      }
    for (let p = 1; p <= r; p++)
      for (let g = 1; g <= o; g++) {
        const v = (o + 1) * p + g - 1, y = (o + 1) * (p - 1) + g - 1, x = (o + 1) * (p - 1) + g, w = (o + 1) * p + g;
        d.push(v, y, w), d.push(y, x, w);
      }
    return new Qg(h, d);
  }
}
const Poe = new X(), eg = new ar(), Roe = new X(), Boe = new X(), M3 = new X(), S3 = new X(), I3 = new X(), A3 = new X(), E3 = new X(), Ic = new ar(), Ooe = new X(), Loe = new En(), joe = new ar();
class _C {
  /**
   * All equations to be solved
   */
  /**
   * @todo remove useless constructor
   */
  constructor() {
    this.equations = [];
  }
  /**
   * Should be implemented in subclasses!
   * @todo use abstract
   * @return number of iterations performed
   */
  solve(e, n) {
    return (
      // Should return the number of iterations done!
      0
    );
  }
  /**
   * Add an equation
   */
  addEquation(e) {
    e.enabled && !e.bi.isTrigger && !e.bj.isTrigger && this.equations.push(e);
  }
  /**
   * Remove an equation
   */
  removeEquation(e) {
    const n = this.equations, r = n.indexOf(e);
    r !== -1 && n.splice(r, 1);
  }
  /**
   * Add all equations
   */
  removeAllEquations() {
    this.equations.length = 0;
  }
}
class FE extends _C {
  /**
   * The number of solver iterations determines quality of the constraints in the world.
   * The more iterations, the more correct simulation. More iterations need more computations though. If you have a large gravity force in your world, you will need more iterations.
   */
  /**
   * When tolerance is reached, the system is assumed to be converged.
   */
  /**
   * @todo remove useless constructor
   */
  constructor() {
    super(), this.iterations = 10, this.tolerance = 1e-7;
  }
  /**
   * Solve
   * @return number of iterations performed
   */
  solve(e, n) {
    let r = 0;
    const o = this.iterations, l = this.tolerance * this.tolerance, h = this.equations, d = h.length, p = n.bodies, g = p.length, v = e;
    let y, x, w, T, M, S;
    if (d !== 0)
      for (let $ = 0; $ !== g; $++)
        p[$].updateSolveMassProperties();
    const L = Foe, F = koe, G = Doe;
    L.length = d, F.length = d, G.length = d;
    for (let $ = 0; $ !== d; $++) {
      const K = h[$];
      G[$] = 0, F[$] = K.computeB(v), L[$] = 1 / K.computeC();
    }
    if (d !== 0) {
      for (let q = 0; q !== g; q++) {
        const he = p[q], ae = he.vlambda, ve = he.wlambda;
        ae.set(0, 0, 0), ve.set(0, 0, 0);
      }
      for (r = 0; r !== o; r++) {
        T = 0;
        for (let q = 0; q !== d; q++) {
          const he = h[q];
          y = F[q], x = L[q], S = G[q], M = he.computeGWlambda(), w = x * (y - M - he.eps * S), S + w < he.minForce ? w = he.minForce - S : S + w > he.maxForce && (w = he.maxForce - S), G[q] += w, T += w > 0 ? w : -w, he.addToWlambda(w);
        }
        if (T * T < l)
          break;
      }
      for (let q = 0; q !== g; q++) {
        const he = p[q], ae = he.velocity, ve = he.angularVelocity;
        he.vlambda.vmul(he.linearFactor, he.vlambda), ae.vadd(he.vlambda, ae), he.wlambda.vmul(he.angularFactor, he.wlambda), ve.vadd(he.wlambda, ve);
      }
      let $ = h.length;
      const K = 1 / v;
      for (; $--; )
        h[$].multiplier = G[$] * K;
    }
    return r;
  }
}
const Doe = [], Foe = [], koe = [];
class Xoe extends _C {
  /**
   * The number of solver iterations determines quality of the constraints in the world. The more iterations, the more correct simulation. More iterations need more computations though. If you have a large gravity force in your world, you will need more iterations.
   */
  /**
   * When tolerance is reached, the system is assumed to be converged.
   */
  /** subsolver */
  constructor(e) {
    for (super(), this.iterations = 10, this.tolerance = 1e-7, this.subsolver = e, this.nodes = [], this.nodePool = []; this.nodePool.length < 128; )
      this.nodePool.push(this.createNode());
  }
  /**
   * createNode
   */
  createNode() {
    return {
      body: null,
      children: [],
      eqs: [],
      visited: !1
    };
  }
  /**
   * Solve the subsystems
   * @return number of iterations performed
   */
  solve(e, n) {
    const r = zoe, o = this.nodePool, l = n.bodies, h = this.equations, d = h.length, p = l.length, g = this.subsolver;
    for (; o.length < p; )
      o.push(this.createNode());
    r.length = p;
    for (let T = 0; T < p; T++)
      r[T] = o[T];
    for (let T = 0; T !== p; T++) {
      const M = r[T];
      M.body = l[T], M.children.length = 0, M.eqs.length = 0, M.visited = !1;
    }
    for (let T = 0; T !== d; T++) {
      const M = h[T], S = l.indexOf(M.bi), L = l.indexOf(M.bj), F = r[S], G = r[L];
      F.children.push(G), F.eqs.push(M), G.children.push(F), G.eqs.push(M);
    }
    let v, y = 0, x = Uoe;
    g.tolerance = this.tolerance, g.iterations = this.iterations;
    const w = Goe;
    for (; v = kE(r); ) {
      x.length = 0, w.bodies.length = 0, Voe(v, Hoe, w.bodies, x);
      const T = x.length;
      x = x.sort($oe);
      for (let M = 0; M !== T; M++)
        g.addEquation(x[M]);
      g.solve(e, w), g.removeAllEquations(), y++;
    }
    return y;
  }
}
const zoe = [], Uoe = [], Goe = {
  bodies: []
}, Woe = Et.STATIC;
function kE(a) {
  const e = a.length;
  for (let n = 0; n !== e; n++) {
    const r = a[n];
    if (!r.visited && !(r.body.type & Woe))
      return r;
  }
  return !1;
}
const tg = [];
function Voe(a, e, n, r) {
  for (tg.push(a), a.visited = !0, e(a, n, r); tg.length; ) {
    const o = tg.pop();
    let l;
    for (; l = kE(o.children); )
      l.visited = !0, e(l, n, r), tg.push(l);
  }
}
function Hoe(a, e, n) {
  e.push(a.body);
  const r = a.eqs.length;
  for (let o = 0; o !== r; o++) {
    const l = a.eqs[o];
    n.includes(l) || n.push(l);
  }
}
function $oe(a, e) {
  return e.id - a.id;
}
class XE {
  constructor() {
    this.objects = [], this.type = Object;
  }
  /**
   * Release an object after use
   */
  release() {
    const e = arguments.length;
    for (let n = 0; n !== e; n++)
      this.objects.push(n < 0 || arguments.length <= n ? void 0 : arguments[n]);
    return this;
  }
  /**
   * Get an object
   */
  get() {
    return this.objects.length === 0 ? this.constructObject() : this.objects.pop();
  }
  /**
   * Construct an object. Should be implemented in each subclass.
   */
  constructObject() {
    throw new Error("constructObject() not implemented in this Pool subclass yet!");
  }
  /**
   * @return Self, for chaining
   */
  resize(e) {
    const n = this.objects;
    for (; n.length > e; )
      n.pop();
    for (; n.length < e; )
      n.push(this.constructObject());
    return this;
  }
}
class zE extends XE {
  constructor() {
    super(...arguments), this.type = X;
  }
  /**
   * Construct a vector
   */
  constructObject() {
    return new X();
  }
}
const Qn = {
  sphereSphere: ct.types.SPHERE,
  spherePlane: ct.types.SPHERE | ct.types.PLANE,
  boxBox: ct.types.BOX | ct.types.BOX,
  sphereBox: ct.types.SPHERE | ct.types.BOX,
  planeBox: ct.types.PLANE | ct.types.BOX,
  convexConvex: ct.types.CONVEXPOLYHEDRON,
  sphereConvex: ct.types.SPHERE | ct.types.CONVEXPOLYHEDRON,
  planeConvex: ct.types.PLANE | ct.types.CONVEXPOLYHEDRON,
  boxConvex: ct.types.BOX | ct.types.CONVEXPOLYHEDRON,
  sphereHeightfield: ct.types.SPHERE | ct.types.HEIGHTFIELD,
  boxHeightfield: ct.types.BOX | ct.types.HEIGHTFIELD,
  convexHeightfield: ct.types.CONVEXPOLYHEDRON | ct.types.HEIGHTFIELD,
  sphereParticle: ct.types.PARTICLE | ct.types.SPHERE,
  planeParticle: ct.types.PLANE | ct.types.PARTICLE,
  boxParticle: ct.types.BOX | ct.types.PARTICLE,
  convexParticle: ct.types.PARTICLE | ct.types.CONVEXPOLYHEDRON,
  cylinderCylinder: ct.types.CYLINDER,
  sphereCylinder: ct.types.SPHERE | ct.types.CYLINDER,
  planeCylinder: ct.types.PLANE | ct.types.CYLINDER,
  boxCylinder: ct.types.BOX | ct.types.CYLINDER,
  convexCylinder: ct.types.CONVEXPOLYHEDRON | ct.types.CYLINDER,
  heightfieldCylinder: ct.types.HEIGHTFIELD | ct.types.CYLINDER,
  particleCylinder: ct.types.PARTICLE | ct.types.CYLINDER,
  sphereTrimesh: ct.types.SPHERE | ct.types.TRIMESH,
  planeTrimesh: ct.types.PLANE | ct.types.TRIMESH
};
class UE {
  /**
   * Internal storage of pooled contact points.
   */
  /**
   * Pooled vectors.
   */
  get [Qn.sphereSphere]() {
    return this.sphereSphere;
  }
  get [Qn.spherePlane]() {
    return this.spherePlane;
  }
  get [Qn.boxBox]() {
    return this.boxBox;
  }
  get [Qn.sphereBox]() {
    return this.sphereBox;
  }
  get [Qn.planeBox]() {
    return this.planeBox;
  }
  get [Qn.convexConvex]() {
    return this.convexConvex;
  }
  get [Qn.sphereConvex]() {
    return this.sphereConvex;
  }
  get [Qn.planeConvex]() {
    return this.planeConvex;
  }
  get [Qn.boxConvex]() {
    return this.boxConvex;
  }
  get [Qn.sphereHeightfield]() {
    return this.sphereHeightfield;
  }
  get [Qn.boxHeightfield]() {
    return this.boxHeightfield;
  }
  get [Qn.convexHeightfield]() {
    return this.convexHeightfield;
  }
  get [Qn.sphereParticle]() {
    return this.sphereParticle;
  }
  get [Qn.planeParticle]() {
    return this.planeParticle;
  }
  get [Qn.boxParticle]() {
    return this.boxParticle;
  }
  get [Qn.convexParticle]() {
    return this.convexParticle;
  }
  get [Qn.cylinderCylinder]() {
    return this.convexConvex;
  }
  get [Qn.sphereCylinder]() {
    return this.sphereConvex;
  }
  get [Qn.planeCylinder]() {
    return this.planeConvex;
  }
  get [Qn.boxCylinder]() {
    return this.boxConvex;
  }
  get [Qn.convexCylinder]() {
    return this.convexConvex;
  }
  get [Qn.heightfieldCylinder]() {
    return this.heightfieldCylinder;
  }
  get [Qn.particleCylinder]() {
    return this.particleCylinder;
  }
  get [Qn.sphereTrimesh]() {
    return this.sphereTrimesh;
  }
  get [Qn.planeTrimesh]() {
    return this.planeTrimesh;
  }
  // get [COLLISION_TYPES.convexTrimesh]() {
  //   return this.convexTrimesh
  // }
  constructor(e) {
    this.contactPointPool = [], this.frictionEquationPool = [], this.result = [], this.frictionResult = [], this.v3pool = new zE(), this.world = e, this.currentContactMaterial = e.defaultContactMaterial, this.enableFrictionReduction = !1;
  }
  /**
   * Make a contact object, by using the internal pool or creating a new one.
   */
  createContactEquation(e, n, r, o, l, h) {
    let d;
    this.contactPointPool.length ? (d = this.contactPointPool.pop(), d.bi = e, d.bj = n) : d = new Bu(e, n), d.enabled = e.collisionResponse && n.collisionResponse && r.collisionResponse && o.collisionResponse;
    const p = this.currentContactMaterial;
    d.restitution = p.restitution, d.setSpookParams(p.contactEquationStiffness, p.contactEquationRelaxation, this.world.dt);
    const g = r.material || e.material, v = o.material || n.material;
    return g && v && g.restitution >= 0 && v.restitution >= 0 && (d.restitution = g.restitution * v.restitution), d.si = l || r, d.sj = h || o, d;
  }
  createFrictionEquationsFromContact(e, n) {
    const r = e.bi, o = e.bj, l = e.si, h = e.sj, d = this.world, p = this.currentContactMaterial;
    let g = p.friction;
    const v = l.material || r.material, y = h.material || o.material;
    if (v && y && v.friction >= 0 && y.friction >= 0 && (g = v.friction * y.friction), g > 0) {
      const x = g * (d.frictionGravity || d.gravity).length();
      let w = r.invMass + o.invMass;
      w > 0 && (w = 1 / w);
      const T = this.frictionEquationPool, M = T.length ? T.pop() : new Jx(r, o, x * w), S = T.length ? T.pop() : new Jx(r, o, x * w);
      return M.bi = S.bi = r, M.bj = S.bj = o, M.minForce = S.minForce = -x * w, M.maxForce = S.maxForce = x * w, M.ri.copy(e.ri), M.rj.copy(e.rj), S.ri.copy(e.ri), S.rj.copy(e.rj), e.ni.tangents(M.t, S.t), M.setSpookParams(p.frictionEquationStiffness, p.frictionEquationRelaxation, d.dt), S.setSpookParams(p.frictionEquationStiffness, p.frictionEquationRelaxation, d.dt), M.enabled = S.enabled = e.enabled, n.push(M, S), !0;
    }
    return !1;
  }
  /**
   * Take the average N latest contact point on the plane.
   */
  createFrictionFromAverage(e) {
    let n = this.result[this.result.length - 1];
    if (!this.createFrictionEquationsFromContact(n, this.frictionResult) || e === 1)
      return;
    const r = this.frictionResult[this.frictionResult.length - 2], o = this.frictionResult[this.frictionResult.length - 1];
    Ac.setZero(), Yh.setZero(), Kh.setZero();
    const l = n.bi;
    n.bj;
    for (let d = 0; d !== e; d++)
      n = this.result[this.result.length - 1 - d], n.bi !== l ? (Ac.vadd(n.ni, Ac), Yh.vadd(n.ri, Yh), Kh.vadd(n.rj, Kh)) : (Ac.vsub(n.ni, Ac), Yh.vadd(n.rj, Yh), Kh.vadd(n.ri, Kh));
    const h = 1 / e;
    Yh.scale(h, r.ri), Kh.scale(h, r.rj), o.ri.copy(r.ri), o.rj.copy(r.rj), Ac.normalize(), Ac.tangents(r.t, o.t);
  }
  /**
   * Generate all contacts between a list of body pairs
   * @param p1 Array of body indices
   * @param p2 Array of body indices
   * @param result Array to store generated contacts
   * @param oldcontacts Optional. Array of reusable contact objects
   */
  getContacts(e, n, r, o, l, h, d) {
    this.contactPointPool = l, this.frictionEquationPool = d, this.result = o, this.frictionResult = h;
    const p = Koe, g = Zoe, v = qoe, y = Yoe;
    for (let x = 0, w = e.length; x !== w; x++) {
      const T = e[x], M = n[x];
      let S = null;
      T.material && M.material && (S = r.getContactMaterial(T.material, M.material) || null);
      const L = T.type & Et.KINEMATIC && M.type & Et.STATIC || T.type & Et.STATIC && M.type & Et.KINEMATIC || T.type & Et.KINEMATIC && M.type & Et.KINEMATIC;
      for (let F = 0; F < T.shapes.length; F++) {
        T.quaternion.mult(T.shapeOrientations[F], p), T.quaternion.vmult(T.shapeOffsets[F], v), v.vadd(T.position, v);
        const G = T.shapes[F];
        for (let $ = 0; $ < M.shapes.length; $++) {
          M.quaternion.mult(M.shapeOrientations[$], g), M.quaternion.vmult(M.shapeOffsets[$], y), y.vadd(M.position, y);
          const K = M.shapes[$];
          if (!(G.collisionFilterMask & K.collisionFilterGroup && K.collisionFilterMask & G.collisionFilterGroup) || v.distanceTo(y) > G.boundingSphereRadius + K.boundingSphereRadius)
            continue;
          let q = null;
          G.material && K.material && (q = r.getContactMaterial(G.material, K.material) || null), this.currentContactMaterial = q || S || r.defaultContactMaterial;
          const he = G.type | K.type, ae = this[he];
          if (ae) {
            let ve = !1;
            G.type < K.type ? ve = ae.call(this, G, K, v, y, p, g, T, M, G, K, L) : ve = ae.call(this, K, G, y, v, g, p, M, T, G, K, L), ve && L && (r.shapeOverlapKeeper.set(G.id, K.id), r.bodyOverlapKeeper.set(T.id, M.id));
          }
        }
      }
    }
  }
  sphereSphere(e, n, r, o, l, h, d, p, g, v, y) {
    if (y)
      return r.distanceSquared(o) < (e.radius + n.radius) ** 2;
    const x = this.createContactEquation(d, p, e, n, g, v);
    o.vsub(r, x.ni), x.ni.normalize(), x.ri.copy(x.ni), x.rj.copy(x.ni), x.ri.scale(e.radius, x.ri), x.rj.scale(-n.radius, x.rj), x.ri.vadd(r, x.ri), x.ri.vsub(d.position, x.ri), x.rj.vadd(o, x.rj), x.rj.vsub(p.position, x.rj), this.result.push(x), this.createFrictionEquationsFromContact(x, this.frictionResult);
  }
  spherePlane(e, n, r, o, l, h, d, p, g, v, y) {
    const x = this.createContactEquation(d, p, e, n, g, v);
    if (x.ni.set(0, 0, 1), h.vmult(x.ni, x.ni), x.ni.negate(x.ni), x.ni.normalize(), x.ni.scale(e.radius, x.ri), r.vsub(o, ng), x.ni.scale(x.ni.dot(ng), P3), ng.vsub(P3, x.rj), -ng.dot(x.ni) <= e.radius) {
      if (y)
        return !0;
      const w = x.ri, T = x.rj;
      w.vadd(r, w), w.vsub(d.position, w), T.vadd(o, T), T.vsub(p.position, T), this.result.push(x), this.createFrictionEquationsFromContact(x, this.frictionResult);
    }
  }
  boxBox(e, n, r, o, l, h, d, p, g, v, y) {
    return e.convexPolyhedronRepresentation.material = e.material, n.convexPolyhedronRepresentation.material = n.material, e.convexPolyhedronRepresentation.collisionResponse = e.collisionResponse, n.convexPolyhedronRepresentation.collisionResponse = n.collisionResponse, this.convexConvex(e.convexPolyhedronRepresentation, n.convexPolyhedronRepresentation, r, o, l, h, d, p, e, n, y);
  }
  sphereBox(e, n, r, o, l, h, d, p, g, v, y) {
    const x = this.v3pool, w = wae;
    r.vsub(o, rg), n.getSideNormals(w, h);
    const T = e.radius;
    let M = !1;
    const S = Nae, L = Mae, F = Sae;
    let G = null, $ = 0, K = 0, q = 0, he = null;
    for (let fe = 0, de = w.length; fe !== de && M === !1; fe++) {
      const Fe = xae;
      Fe.copy(w[fe]);
      const Be = Fe.length();
      Fe.normalize();
      const _e = rg.dot(Fe);
      if (_e < Be + T && _e > 0) {
        const Xe = Cae, De = _ae;
        Xe.copy(w[(fe + 1) % 3]), De.copy(w[(fe + 2) % 3]);
        const ft = Xe.length(), gt = De.length();
        Xe.normalize(), De.normalize();
        const Lt = rg.dot(Xe), Nt = rg.dot(De);
        if (Lt < ft && Lt > -ft && Nt < gt && Nt > -gt) {
          const Mt = Math.abs(_e - Be - T);
          if ((he === null || Mt < he) && (he = Mt, K = Lt, q = Nt, G = Be, S.copy(Fe), L.copy(Xe), F.copy(De), $++, y))
            return !0;
        }
      }
    }
    if ($) {
      M = !0;
      const fe = this.createContactEquation(d, p, e, n, g, v);
      S.scale(-T, fe.ri), fe.ni.copy(S), fe.ni.negate(fe.ni), S.scale(G, S), L.scale(K, L), S.vadd(L, S), F.scale(q, F), S.vadd(F, fe.rj), fe.ri.vadd(r, fe.ri), fe.ri.vsub(d.position, fe.ri), fe.rj.vadd(o, fe.rj), fe.rj.vsub(p.position, fe.rj), this.result.push(fe), this.createFrictionEquationsFromContact(fe, this.frictionResult);
    }
    let ae = x.get();
    const ve = Tae;
    for (let fe = 0; fe !== 2 && !M; fe++)
      for (let de = 0; de !== 2 && !M; de++)
        for (let Fe = 0; Fe !== 2 && !M; Fe++)
          if (ae.set(0, 0, 0), fe ? ae.vadd(w[0], ae) : ae.vsub(w[0], ae), de ? ae.vadd(w[1], ae) : ae.vsub(w[1], ae), Fe ? ae.vadd(w[2], ae) : ae.vsub(w[2], ae), o.vadd(ae, ve), ve.vsub(r, ve), ve.lengthSquared() < T * T) {
            if (y)
              return !0;
            M = !0;
            const Be = this.createContactEquation(d, p, e, n, g, v);
            Be.ri.copy(ve), Be.ri.normalize(), Be.ni.copy(Be.ri), Be.ri.scale(T, Be.ri), Be.rj.copy(ae), Be.ri.vadd(r, Be.ri), Be.ri.vsub(d.position, Be.ri), Be.rj.vadd(o, Be.rj), Be.rj.vsub(p.position, Be.rj), this.result.push(Be), this.createFrictionEquationsFromContact(Be, this.frictionResult);
          }
    x.release(ae), ae = null;
    const ne = x.get(), se = x.get(), oe = x.get(), J = x.get(), pe = x.get(), be = w.length;
    for (let fe = 0; fe !== be && !M; fe++)
      for (let de = 0; de !== be && !M; de++)
        if (fe % 3 !== de % 3) {
          w[de].cross(w[fe], ne), ne.normalize(), w[fe].vadd(w[de], se), oe.copy(r), oe.vsub(se, oe), oe.vsub(o, oe);
          const Fe = oe.dot(ne);
          ne.scale(Fe, J);
          let Be = 0;
          for (; Be === fe % 3 || Be === de % 3; )
            Be++;
          pe.copy(r), pe.vsub(J, pe), pe.vsub(se, pe), pe.vsub(o, pe);
          const _e = Math.abs(Fe), Xe = pe.length();
          if (_e < w[Be].length() && Xe < T) {
            if (y)
              return !0;
            M = !0;
            const De = this.createContactEquation(d, p, e, n, g, v);
            se.vadd(J, De.rj), De.rj.copy(De.rj), pe.negate(De.ni), De.ni.normalize(), De.ri.copy(De.rj), De.ri.vadd(o, De.ri), De.ri.vsub(r, De.ri), De.ri.normalize(), De.ri.scale(T, De.ri), De.ri.vadd(r, De.ri), De.ri.vsub(d.position, De.ri), De.rj.vadd(o, De.rj), De.rj.vsub(p.position, De.rj), this.result.push(De), this.createFrictionEquationsFromContact(De, this.frictionResult);
          }
        }
    x.release(ne, se, oe, J, pe);
  }
  planeBox(e, n, r, o, l, h, d, p, g, v, y) {
    return n.convexPolyhedronRepresentation.material = n.material, n.convexPolyhedronRepresentation.collisionResponse = n.collisionResponse, n.convexPolyhedronRepresentation.id = n.id, this.planeConvex(e, n.convexPolyhedronRepresentation, r, o, l, h, d, p, e, n, y);
  }
  convexConvex(e, n, r, o, l, h, d, p, g, v, y, x, w) {
    const T = Uae;
    if (!(r.distanceTo(o) > e.boundingSphereRadius + n.boundingSphereRadius) && e.findSeparatingAxis(n, r, l, o, h, T, x, w)) {
      const M = [], S = Gae;
      e.clipAgainstHull(r, l, n, o, h, T, -100, 100, M);
      let L = 0;
      for (let F = 0; F !== M.length; F++) {
        if (y)
          return !0;
        const G = this.createContactEquation(d, p, e, n, g, v), $ = G.ri, K = G.rj;
        T.negate(G.ni), M[F].normal.negate(S), S.scale(M[F].depth, S), M[F].point.vadd(S, $), K.copy(M[F].point), $.vsub(r, $), K.vsub(o, K), $.vadd(r, $), $.vsub(d.position, $), K.vadd(o, K), K.vsub(p.position, K), this.result.push(G), L++, this.enableFrictionReduction || this.createFrictionEquationsFromContact(G, this.frictionResult);
      }
      this.enableFrictionReduction && L && this.createFrictionFromAverage(L);
    }
  }
  sphereConvex(e, n, r, o, l, h, d, p, g, v, y) {
    const x = this.v3pool;
    r.vsub(o, Iae);
    const w = n.faceNormals, T = n.faces, M = n.vertices, S = e.radius;
    let L = !1;
    for (let F = 0; F !== M.length; F++) {
      const G = M[F], $ = Rae;
      h.vmult(G, $), o.vadd($, $);
      const K = Pae;
      if ($.vsub(r, K), K.lengthSquared() < S * S) {
        if (y)
          return !0;
        L = !0;
        const q = this.createContactEquation(d, p, e, n, g, v);
        q.ri.copy(K), q.ri.normalize(), q.ni.copy(q.ri), q.ri.scale(S, q.ri), $.vsub(o, q.rj), q.ri.vadd(r, q.ri), q.ri.vsub(d.position, q.ri), q.rj.vadd(o, q.rj), q.rj.vsub(p.position, q.rj), this.result.push(q), this.createFrictionEquationsFromContact(q, this.frictionResult);
        return;
      }
    }
    for (let F = 0, G = T.length; F !== G && L === !1; F++) {
      const $ = w[F], K = T[F], q = Bae;
      h.vmult($, q);
      const he = Oae;
      h.vmult(M[K[0]], he), he.vadd(o, he);
      const ae = Lae;
      q.scale(-S, ae), r.vadd(ae, ae);
      const ve = jae;
      ae.vsub(he, ve);
      const ne = ve.dot(q), se = Dae;
      if (r.vsub(he, se), ne < 0 && se.dot(q) > 0) {
        const oe = [];
        for (let J = 0, pe = K.length; J !== pe; J++) {
          const be = x.get();
          h.vmult(M[K[J]], be), o.vadd(be, be), oe.push(be);
        }
        if (yae(oe, q, r)) {
          if (y)
            return !0;
          L = !0;
          const J = this.createContactEquation(d, p, e, n, g, v);
          q.scale(-S, J.ri), q.negate(J.ni);
          const pe = x.get();
          q.scale(-ne, pe);
          const be = x.get();
          q.scale(-S, be), r.vsub(o, J.rj), J.rj.vadd(be, J.rj), J.rj.vadd(pe, J.rj), J.rj.vadd(o, J.rj), J.rj.vsub(p.position, J.rj), J.ri.vadd(r, J.ri), J.ri.vsub(d.position, J.ri), x.release(pe), x.release(be), this.result.push(J), this.createFrictionEquationsFromContact(J, this.frictionResult);
          for (let fe = 0, de = oe.length; fe !== de; fe++)
            x.release(oe[fe]);
          return;
        } else
          for (let J = 0; J !== K.length; J++) {
            const pe = x.get(), be = x.get();
            h.vmult(M[K[(J + 1) % K.length]], pe), h.vmult(M[K[(J + 2) % K.length]], be), o.vadd(pe, pe), o.vadd(be, be);
            const fe = Aae;
            be.vsub(pe, fe);
            const de = Eae;
            fe.unit(de);
            const Fe = x.get(), Be = x.get();
            r.vsub(pe, Be);
            const _e = Be.dot(de);
            de.scale(_e, Fe), Fe.vadd(pe, Fe);
            const Xe = x.get();
            if (Fe.vsub(r, Xe), _e > 0 && _e * _e < fe.lengthSquared() && Xe.lengthSquared() < S * S) {
              if (y)
                return !0;
              const De = this.createContactEquation(d, p, e, n, g, v);
              Fe.vsub(o, De.rj), Fe.vsub(r, De.ni), De.ni.normalize(), De.ni.scale(S, De.ri), De.rj.vadd(o, De.rj), De.rj.vsub(p.position, De.rj), De.ri.vadd(r, De.ri), De.ri.vsub(d.position, De.ri), this.result.push(De), this.createFrictionEquationsFromContact(De, this.frictionResult);
              for (let ft = 0, gt = oe.length; ft !== gt; ft++)
                x.release(oe[ft]);
              x.release(pe), x.release(be), x.release(Fe), x.release(Xe), x.release(Be);
              return;
            }
            x.release(pe), x.release(be), x.release(Fe), x.release(Xe), x.release(Be);
          }
        for (let J = 0, pe = oe.length; J !== pe; J++)
          x.release(oe[J]);
      }
    }
  }
  planeConvex(e, n, r, o, l, h, d, p, g, v, y) {
    const x = Fae, w = kae;
    w.set(0, 0, 1), l.vmult(w, w);
    let T = 0;
    const M = Xae;
    for (let S = 0; S !== n.vertices.length; S++)
      if (x.copy(n.vertices[S]), h.vmult(x, x), o.vadd(x, x), x.vsub(r, M), w.dot(M) <= 0) {
        if (y)
          return !0;
        const F = this.createContactEquation(d, p, e, n, g, v), G = zae;
        w.scale(w.dot(M), G), x.vsub(G, G), G.vsub(r, F.ri), F.ni.copy(w), x.vsub(o, F.rj), F.ri.vadd(r, F.ri), F.ri.vsub(d.position, F.ri), F.rj.vadd(o, F.rj), F.rj.vsub(p.position, F.rj), this.result.push(F), T++, this.enableFrictionReduction || this.createFrictionEquationsFromContact(F, this.frictionResult);
      }
    this.enableFrictionReduction && T && this.createFrictionFromAverage(T);
  }
  boxConvex(e, n, r, o, l, h, d, p, g, v, y) {
    return e.convexPolyhedronRepresentation.material = e.material, e.convexPolyhedronRepresentation.collisionResponse = e.collisionResponse, this.convexConvex(e.convexPolyhedronRepresentation, n, r, o, l, h, d, p, e, n, y);
  }
  sphereHeightfield(e, n, r, o, l, h, d, p, g, v, y) {
    const x = n.data, w = e.radius, T = n.elementSize, M = tse, S = ese;
    En.pointToLocalFrame(o, h, r, S);
    let L = Math.floor((S.x - w) / T) - 1, F = Math.ceil((S.x + w) / T) + 1, G = Math.floor((S.y - w) / T) - 1, $ = Math.ceil((S.y + w) / T) + 1;
    if (F < 0 || $ < 0 || L > x.length || G > x[0].length)
      return;
    L < 0 && (L = 0), F < 0 && (F = 0), G < 0 && (G = 0), $ < 0 && ($ = 0), L >= x.length && (L = x.length - 1), F >= x.length && (F = x.length - 1), $ >= x[0].length && ($ = x[0].length - 1), G >= x[0].length && (G = x[0].length - 1);
    const K = [];
    n.getRectMinMax(L, G, F, $, K);
    const q = K[0], he = K[1];
    if (S.z - w > he || S.z + w < q)
      return;
    const ae = this.result;
    for (let ve = L; ve < F; ve++)
      for (let ne = G; ne < $; ne++) {
        const se = ae.length;
        let oe = !1;
        if (n.getConvexTrianglePillar(ve, ne, !1), En.pointToWorldFrame(o, h, n.pillarOffset, M), r.distanceTo(M) < n.pillarConvex.boundingSphereRadius + e.boundingSphereRadius && (oe = this.sphereConvex(e, n.pillarConvex, r, M, l, h, d, p, e, n, y)), y && oe || (n.getConvexTrianglePillar(ve, ne, !0), En.pointToWorldFrame(o, h, n.pillarOffset, M), r.distanceTo(M) < n.pillarConvex.boundingSphereRadius + e.boundingSphereRadius && (oe = this.sphereConvex(e, n.pillarConvex, r, M, l, h, d, p, e, n, y)), y && oe))
          return !0;
        if (ae.length - se > 2)
          return;
      }
  }
  boxHeightfield(e, n, r, o, l, h, d, p, g, v, y) {
    return e.convexPolyhedronRepresentation.material = e.material, e.convexPolyhedronRepresentation.collisionResponse = e.collisionResponse, this.convexHeightfield(e.convexPolyhedronRepresentation, n, r, o, l, h, d, p, e, n, y);
  }
  convexHeightfield(e, n, r, o, l, h, d, p, g, v, y) {
    const x = n.data, w = n.elementSize, T = e.boundingSphereRadius, M = Jae, S = Qae, L = Zae;
    En.pointToLocalFrame(o, h, r, L);
    let F = Math.floor((L.x - T) / w) - 1, G = Math.ceil((L.x + T) / w) + 1, $ = Math.floor((L.y - T) / w) - 1, K = Math.ceil((L.y + T) / w) + 1;
    if (G < 0 || K < 0 || F > x.length || $ > x[0].length)
      return;
    F < 0 && (F = 0), G < 0 && (G = 0), $ < 0 && ($ = 0), K < 0 && (K = 0), F >= x.length && (F = x.length - 1), G >= x.length && (G = x.length - 1), K >= x[0].length && (K = x[0].length - 1), $ >= x[0].length && ($ = x[0].length - 1);
    const q = [];
    n.getRectMinMax(F, $, G, K, q);
    const he = q[0], ae = q[1];
    if (!(L.z - T > ae || L.z + T < he))
      for (let ve = F; ve < G; ve++)
        for (let ne = $; ne < K; ne++) {
          let se = !1;
          if (n.getConvexTrianglePillar(ve, ne, !1), En.pointToWorldFrame(o, h, n.pillarOffset, M), r.distanceTo(M) < n.pillarConvex.boundingSphereRadius + e.boundingSphereRadius && (se = this.convexConvex(e, n.pillarConvex, r, M, l, h, d, p, null, null, y, S, null)), y && se || (n.getConvexTrianglePillar(ve, ne, !0), En.pointToWorldFrame(o, h, n.pillarOffset, M), r.distanceTo(M) < n.pillarConvex.boundingSphereRadius + e.boundingSphereRadius && (se = this.convexConvex(e, n.pillarConvex, r, M, l, h, d, p, null, null, y, S, null)), y && se))
            return !0;
        }
  }
  sphereParticle(e, n, r, o, l, h, d, p, g, v, y) {
    const x = $ae;
    if (x.set(0, 0, 1), o.vsub(r, x), x.lengthSquared() <= e.radius * e.radius) {
      if (y)
        return !0;
      const T = this.createContactEquation(p, d, n, e, g, v);
      x.normalize(), T.rj.copy(x), T.rj.scale(e.radius, T.rj), T.ni.copy(x), T.ni.negate(T.ni), T.ri.set(0, 0, 0), this.result.push(T), this.createFrictionEquationsFromContact(T, this.frictionResult);
    }
  }
  planeParticle(e, n, r, o, l, h, d, p, g, v, y) {
    const x = Wae;
    x.set(0, 0, 1), d.quaternion.vmult(x, x);
    const w = Vae;
    if (o.vsub(d.position, w), x.dot(w) <= 0) {
      if (y)
        return !0;
      const M = this.createContactEquation(p, d, n, e, g, v);
      M.ni.copy(x), M.ni.negate(M.ni), M.ri.set(0, 0, 0);
      const S = Hae;
      x.scale(x.dot(o), S), o.vsub(S, S), M.rj.copy(S), this.result.push(M), this.createFrictionEquationsFromContact(M, this.frictionResult);
    }
  }
  boxParticle(e, n, r, o, l, h, d, p, g, v, y) {
    return e.convexPolyhedronRepresentation.material = e.material, e.convexPolyhedronRepresentation.collisionResponse = e.collisionResponse, this.convexParticle(e.convexPolyhedronRepresentation, n, r, o, l, h, d, p, e, n, y);
  }
  convexParticle(e, n, r, o, l, h, d, p, g, v, y) {
    let x = -1;
    const w = Yae, T = Kae;
    let M = null;
    const S = qae;
    if (S.copy(o), S.vsub(r, S), l.conjugate(R3), R3.vmult(S, S), e.pointIsInside(S)) {
      e.worldVerticesNeedsUpdate && e.computeWorldVertices(r, l), e.worldFaceNormalsNeedsUpdate && e.computeWorldFaceNormals(l);
      for (let L = 0, F = e.faces.length; L !== F; L++) {
        const G = [e.worldVertices[e.faces[L][0]]], $ = e.worldFaceNormals[L];
        o.vsub(G[0], B3);
        const K = -$.dot(B3);
        if (M === null || Math.abs(K) < Math.abs(M)) {
          if (y)
            return !0;
          M = K, x = L, w.copy($);
        }
      }
      if (x !== -1) {
        const L = this.createContactEquation(p, d, n, e, g, v);
        w.scale(M, T), T.vadd(o, T), T.vsub(r, T), L.rj.copy(T), w.negate(L.ni), L.ri.set(0, 0, 0);
        const F = L.ri, G = L.rj;
        F.vadd(o, F), F.vsub(p.position, F), G.vadd(r, G), G.vsub(d.position, G), this.result.push(L), this.createFrictionEquationsFromContact(L, this.frictionResult);
      } else
        console.warn("Point found inside convex, but did not find penetrating face!");
    }
  }
  heightfieldCylinder(e, n, r, o, l, h, d, p, g, v, y) {
    return this.convexHeightfield(n, e, o, r, h, l, p, d, g, v, y);
  }
  particleCylinder(e, n, r, o, l, h, d, p, g, v, y) {
    return this.convexParticle(n, e, o, r, h, l, p, d, g, v, y);
  }
  sphereTrimesh(e, n, r, o, l, h, d, p, g, v, y) {
    const x = oae, w = aae, T = sae, M = lae, S = cae, L = hae, F = pae, G = iae, $ = nae, K = fae;
    En.pointToLocalFrame(o, h, r, S);
    const q = e.radius;
    F.lowerBound.set(S.x - q, S.y - q, S.z - q), F.upperBound.set(S.x + q, S.y + q, S.z + q), n.getTrianglesInAABB(F, K);
    const he = rae, ae = e.radius * e.radius;
    for (let J = 0; J < K.length; J++)
      for (let pe = 0; pe < 3; pe++)
        if (n.getVertex(n.indices[K[J] * 3 + pe], he), he.vsub(S, $), $.lengthSquared() <= ae) {
          if (G.copy(he), En.pointToWorldFrame(o, h, G, he), he.vsub(r, $), y)
            return !0;
          let be = this.createContactEquation(d, p, e, n, g, v);
          be.ni.copy($), be.ni.normalize(), be.ri.copy(be.ni), be.ri.scale(e.radius, be.ri), be.ri.vadd(r, be.ri), be.ri.vsub(d.position, be.ri), be.rj.copy(he), be.rj.vsub(p.position, be.rj), this.result.push(be), this.createFrictionEquationsFromContact(be, this.frictionResult);
        }
    for (let J = 0; J < K.length; J++)
      for (let pe = 0; pe < 3; pe++) {
        n.getVertex(n.indices[K[J] * 3 + pe], x), n.getVertex(n.indices[K[J] * 3 + (pe + 1) % 3], w), w.vsub(x, T), S.vsub(w, L);
        const be = L.dot(T);
        S.vsub(x, L);
        let fe = L.dot(T);
        if (fe > 0 && be < 0 && (S.vsub(x, L), M.copy(T), M.normalize(), fe = L.dot(M), M.scale(fe, L), L.vadd(x, L), L.distanceTo(S) < e.radius)) {
          if (y)
            return !0;
          const Fe = this.createContactEquation(d, p, e, n, g, v);
          L.vsub(S, Fe.ni), Fe.ni.normalize(), Fe.ni.scale(e.radius, Fe.ri), Fe.ri.vadd(r, Fe.ri), Fe.ri.vsub(d.position, Fe.ri), En.pointToWorldFrame(o, h, L, L), L.vsub(p.position, Fe.rj), En.vectorToWorldFrame(h, Fe.ni, Fe.ni), En.vectorToWorldFrame(h, Fe.ri, Fe.ri), this.result.push(Fe), this.createFrictionEquationsFromContact(Fe, this.frictionResult);
        }
      }
    const ve = uae, ne = dae, se = mae, oe = tae;
    for (let J = 0, pe = K.length; J !== pe; J++) {
      n.getTriangleVertices(K[J], ve, ne, se), n.getNormal(K[J], oe), S.vsub(ve, L);
      let be = L.dot(oe);
      if (oe.scale(be, L), S.vsub(L, L), be = L.distanceTo(S), Fo.pointInTriangle(L, ve, ne, se) && be < e.radius) {
        if (y)
          return !0;
        let fe = this.createContactEquation(d, p, e, n, g, v);
        L.vsub(S, fe.ni), fe.ni.normalize(), fe.ni.scale(e.radius, fe.ri), fe.ri.vadd(r, fe.ri), fe.ri.vsub(d.position, fe.ri), En.pointToWorldFrame(o, h, L, L), L.vsub(p.position, fe.rj), En.vectorToWorldFrame(h, fe.ni, fe.ni), En.vectorToWorldFrame(h, fe.ri, fe.ri), this.result.push(fe), this.createFrictionEquationsFromContact(fe, this.frictionResult);
      }
    }
    K.length = 0;
  }
  planeTrimesh(e, n, r, o, l, h, d, p, g, v, y) {
    const x = new X(), w = Joe;
    w.set(0, 0, 1), l.vmult(w, w);
    for (let T = 0; T < n.vertices.length / 3; T++) {
      n.getVertex(T, x);
      const M = new X();
      M.copy(x), En.pointToWorldFrame(o, h, M, x);
      const S = Qoe;
      if (x.vsub(r, S), w.dot(S) <= 0) {
        if (y)
          return !0;
        const F = this.createContactEquation(d, p, e, n, g, v);
        F.ni.copy(w);
        const G = eae;
        w.scale(S.dot(w), G), x.vsub(G, G), F.ri.copy(G), F.ri.vsub(d.position, F.ri), F.rj.copy(x), F.rj.vsub(p.position, F.rj), this.result.push(F), this.createFrictionEquationsFromContact(F, this.frictionResult);
      }
    }
  }
  // convexTrimesh(
  //   si: ConvexPolyhedron, sj: Trimesh, xi: Vec3, xj: Vec3, qi: Quaternion, qj: Quaternion,
  //   bi: Body, bj: Body, rsi?: Shape | null, rsj?: Shape | null,
  //   faceListA?: number[] | null, faceListB?: number[] | null,
  // ) {
  //   const sepAxis = convexConvex_sepAxis;
  //   if(xi.distanceTo(xj) > si.boundingSphereRadius + sj.boundingSphereRadius){
  //       return;
  //   }
  //   // Construct a temp hull for each triangle
  //   const hullB = new ConvexPolyhedron();
  //   hullB.faces = [[0,1,2]];
  //   const va = new Vec3();
  //   const vb = new Vec3();
  //   const vc = new Vec3();
  //   hullB.vertices = [
  //       va,
  //       vb,
  //       vc
  //   ];
  //   for (let i = 0; i < sj.indices.length / 3; i++) {
  //       const triangleNormal = new Vec3();
  //       sj.getNormal(i, triangleNormal);
  //       hullB.faceNormals = [triangleNormal];
  //       sj.getTriangleVertices(i, va, vb, vc);
  //       let d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);
  //       if(!d){
  //           triangleNormal.scale(-1, triangleNormal);
  //           d = si.testSepAxis(triangleNormal, hullB, xi, qi, xj, qj);
  //           if(!d){
  //               continue;
  //           }
  //       }
  //       const res: ConvexPolyhedronContactPoint[] = [];
  //       const q = convexConvex_q;
  //       si.clipAgainstHull(xi,qi,hullB,xj,qj,triangleNormal,-100,100,res);
  //       for(let j = 0; j !== res.length; j++){
  //           const r = this.createContactEquation(bi,bj,si,sj,rsi,rsj),
  //               ri = r.ri,
  //               rj = r.rj;
  //           r.ni.copy(triangleNormal);
  //           r.ni.negate(r.ni);
  //           res[j].normal.negate(q);
  //           q.mult(res[j].depth, q);
  //           res[j].point.vadd(q, ri);
  //           rj.copy(res[j].point);
  //           // Contact points are in world coordinates. Transform back to relative
  //           ri.vsub(xi,ri);
  //           rj.vsub(xj,rj);
  //           // Make relative to bodies
  //           ri.vadd(xi, ri);
  //           ri.vsub(bi.position, ri);
  //           rj.vadd(xj, rj);
  //           rj.vsub(bj.position, rj);
  //           result.push(r);
  //       }
  //   }
  // }
}
const Ac = new X(), Yh = new X(), Kh = new X(), qoe = new X(), Yoe = new X(), Koe = new Yr(), Zoe = new Yr(), Joe = new X(), Qoe = new X(), eae = new X(), tae = new X(), nae = new X();
new X();
const rae = new X(), iae = new X(), oae = new X(), aae = new X(), sae = new X(), lae = new X(), cae = new X(), hae = new X(), uae = new X(), dae = new X(), mae = new X(), pae = new ar(), fae = [], ng = new X(), P3 = new X(), gae = new X(), bae = new X(), vae = new X();
function yae(a, e, n) {
  let r = null;
  const o = a.length;
  for (let l = 0; l !== o; l++) {
    const h = a[l], d = gae;
    a[(l + 1) % o].vsub(h, d);
    const p = bae;
    d.cross(e, p);
    const g = vae;
    n.vsub(h, g);
    const v = p.dot(g);
    if (r === null || v > 0 && r === !0 || v <= 0 && r === !1) {
      r === null && (r = v > 0);
      continue;
    } else
      return !1;
  }
  return !0;
}
const rg = new X(), xae = new X(), Cae = new X(), _ae = new X(), wae = [new X(), new X(), new X(), new X(), new X(), new X()], Tae = new X(), Nae = new X(), Mae = new X(), Sae = new X(), Iae = new X(), Aae = new X(), Eae = new X(), Pae = new X(), Rae = new X(), Bae = new X(), Oae = new X(), Lae = new X(), jae = new X(), Dae = new X();
new X();
new X();
const Fae = new X(), kae = new X(), Xae = new X(), zae = new X(), Uae = new X(), Gae = new X(), Wae = new X(), Vae = new X(), Hae = new X(), $ae = new X(), R3 = new Yr(), qae = new X();
new X();
const Yae = new X(), B3 = new X(), Kae = new X(), Zae = new X(), Jae = new X(), Qae = [0], ese = new X(), tse = new X();
class O3 {
  /**
   * @todo Remove useless constructor
   */
  constructor() {
    this.current = [], this.previous = [];
  }
  /**
   * getKey
   */
  getKey(e, n) {
    if (n < e) {
      const r = n;
      n = e, e = r;
    }
    return e << 16 | n;
  }
  /**
   * set
   */
  set(e, n) {
    const r = this.getKey(e, n), o = this.current;
    let l = 0;
    for (; r > o[l]; )
      l++;
    if (r !== o[l]) {
      for (let h = o.length - 1; h >= l; h--)
        o[h + 1] = o[h];
      o[l] = r;
    }
  }
  /**
   * tick
   */
  tick() {
    const e = this.current;
    this.current = this.previous, this.previous = e, this.current.length = 0;
  }
  /**
   * getDiff
   */
  getDiff(e, n) {
    const r = this.current, o = this.previous, l = r.length, h = o.length;
    let d = 0;
    for (let p = 0; p < l; p++) {
      let g = !1;
      const v = r[p];
      for (; v > o[d]; )
        d++;
      g = v === o[d], g || L3(e, v);
    }
    d = 0;
    for (let p = 0; p < h; p++) {
      let g = !1;
      const v = o[p];
      for (; v > r[d]; )
        d++;
      g = r[d] === v, g || L3(n, v);
    }
  }
}
function L3(a, e) {
  a.push((e & 4294901760) >> 16, e & 65535);
}
const Fy = (a, e) => a < e ? `${a}-${e}` : `${e}-${a}`;
class nse {
  constructor() {
    this.data = {
      keys: []
    };
  }
  /** get */
  get(e, n) {
    const r = Fy(e, n);
    return this.data[r];
  }
  /** set */
  set(e, n, r) {
    const o = Fy(e, n);
    this.get(e, n) || this.data.keys.push(o), this.data[o] = r;
  }
  /** delete */
  delete(e, n) {
    const r = Fy(e, n), o = this.data.keys.indexOf(r);
    o !== -1 && this.data.keys.splice(o, 1), delete this.data[r];
  }
  /** reset */
  reset() {
    const e = this.data, n = e.keys;
    for (; n.length > 0; ) {
      const r = n.pop();
      delete e[r];
    }
  }
}
class rse extends xC {
  /**
   * Currently / last used timestep. Is set to -1 if not available. This value is updated before each internal step, which means that it is "fresh" inside event callbacks.
   */
  /**
   * Makes bodies go to sleep when they've been inactive.
   * @default false
   */
  /**
   * All the current contacts (instances of ContactEquation) in the world.
   */
  /**
   * How often to normalize quaternions. Set to 0 for every step, 1 for every second etc.. A larger value increases performance. If bodies tend to explode, set to a smaller value (zero to be sure nothing can go wrong).
   * @default 0
   */
  /**
   * Set to true to use fast quaternion normalization. It is often enough accurate to use.
   * If bodies tend to explode, set to false.
   * @default false
   */
  /**
   * The wall-clock time since simulation start.
   */
  /**
   * Number of timesteps taken since start.
   */
  /**
   * Default and last timestep sizes.
   */
  /**
   * The gravity of the world.
   */
  /**
   * Gravity to use when approximating the friction max force (mu*mass*gravity).
   * If undefined, global gravity will be used.
   * Use to enable friction in a World with a null gravity vector (no gravity).
   */
  /**
   * The broadphase algorithm to use.
   * @default NaiveBroadphase
   */
  /**
   * All bodies in this world
   */
  /**
   * True if any bodies are not sleeping, false if every body is sleeping.
   */
  /**
   * The solver algorithm to use.
   * @default GSSolver
   */
  /**
   * collisionMatrix
   */
  /**
   * CollisionMatrix from the previous step.
   */
  /**
   * All added contactmaterials.
   */
  /**
   * Used to look up a ContactMaterial given two instances of Material.
   */
  /**
   * The default material of the bodies.
   */
  /**
   * This contact material is used if no suitable contactmaterial is found for a contact.
   */
  /**
   * Time accumulator for interpolation.
   * @see https://gafferongames.com/game-physics/fix-your-timestep/
   */
  /**
   * Dispatched after a body has been added to the world.
   */
  /**
   * Dispatched after a body has been removed from the world.
   */
  constructor(e) {
    e === void 0 && (e = {}), super(), this.dt = -1, this.allowSleep = !!e.allowSleep, this.contacts = [], this.frictionEquations = [], this.quatNormalizeSkip = e.quatNormalizeSkip !== void 0 ? e.quatNormalizeSkip : 0, this.quatNormalizeFast = e.quatNormalizeFast !== void 0 ? e.quatNormalizeFast : !1, this.time = 0, this.stepnumber = 0, this.default_dt = 1 / 60, this.nextId = 0, this.gravity = new X(), e.gravity && this.gravity.copy(e.gravity), e.frictionGravity && (this.frictionGravity = new X(), this.frictionGravity.copy(e.frictionGravity)), this.broadphase = e.broadphase !== void 0 ? e.broadphase : new NE(), this.bodies = [], this.hasActiveBodies = !1, this.solver = e.solver !== void 0 ? e.solver : new FE(), this.constraints = [], this.narrowphase = new UE(this), this.collisionMatrix = new Kx(), this.collisionMatrixPrevious = new Kx(), this.bodyOverlapKeeper = new O3(), this.shapeOverlapKeeper = new O3(), this.contactmaterials = [], this.contactMaterialTable = new nse(), this.defaultMaterial = new CC("default"), this.defaultContactMaterial = new Rp(this.defaultMaterial, this.defaultMaterial, {
      friction: 0.3,
      restitution: 0
    }), this.doProfiling = !1, this.profile = {
      solve: 0,
      makeContactConstraints: 0,
      broadphase: 0,
      integrate: 0,
      narrowphase: 0
    }, this.accumulator = 0, this.subsystems = [], this.addBodyEvent = {
      type: "addBody",
      body: null
    }, this.removeBodyEvent = {
      type: "removeBody",
      body: null
    }, this.idToBodyMap = {}, this.broadphase.setWorld(this);
  }
  /**
   * Get the contact material between materials m1 and m2
   * @return The contact material if it was found.
   */
  getContactMaterial(e, n) {
    return this.contactMaterialTable.get(e.id, n.id);
  }
  /**
   * Store old collision state info
   */
  collisionMatrixTick() {
    const e = this.collisionMatrixPrevious;
    this.collisionMatrixPrevious = this.collisionMatrix, this.collisionMatrix = e, this.collisionMatrix.reset(), this.bodyOverlapKeeper.tick(), this.shapeOverlapKeeper.tick();
  }
  /**
   * Add a constraint to the simulation.
   */
  addConstraint(e) {
    this.constraints.push(e);
  }
  /**
   * Removes a constraint
   */
  removeConstraint(e) {
    const n = this.constraints.indexOf(e);
    n !== -1 && this.constraints.splice(n, 1);
  }
  /**
   * Raycast test
   * @deprecated Use .raycastAll, .raycastClosest or .raycastAny instead.
   */
  rayTest(e, n, r) {
    r instanceof Du ? this.raycastClosest(e, n, {
      skipBackfaces: !0
    }, r) : this.raycastAll(e, n, {
      skipBackfaces: !0
    }, r);
  }
  /**
   * Ray cast against all bodies. The provided callback will be executed for each hit with a RaycastResult as single argument.
   * @return True if any body was hit.
   */
  raycastAll(e, n, r, o) {
    return r === void 0 && (r = {}), r.mode = Fo.ALL, r.from = e, r.to = n, r.callback = o, ky.intersectWorld(this, r);
  }
  /**
   * Ray cast, and stop at the first result. Note that the order is random - but the method is fast.
   * @return True if any body was hit.
   */
  raycastAny(e, n, r, o) {
    return r === void 0 && (r = {}), r.mode = Fo.ANY, r.from = e, r.to = n, r.result = o, ky.intersectWorld(this, r);
  }
  /**
   * Ray cast, and return information of the closest hit.
   * @return True if any body was hit.
   */
  raycastClosest(e, n, r, o) {
    return r === void 0 && (r = {}), r.mode = Fo.CLOSEST, r.from = e, r.to = n, r.result = o, ky.intersectWorld(this, r);
  }
  /**
   * Add a rigid body to the simulation.
   * @todo If the simulation has not yet started, why recrete and copy arrays for each body? Accumulate in dynamic arrays in this case.
   * @todo Adding an array of bodies should be possible. This would save some loops too
   */
  addBody(e) {
    this.bodies.includes(e) || (e.index = this.bodies.length, this.bodies.push(e), e.world = this, e.initPosition.copy(e.position), e.initVelocity.copy(e.velocity), e.timeLastSleepy = this.time, e instanceof Et && (e.initAngularVelocity.copy(e.angularVelocity), e.initQuaternion.copy(e.quaternion)), this.collisionMatrix.setNumObjects(this.bodies.length), this.addBodyEvent.body = e, this.idToBodyMap[e.id] = e, this.dispatchEvent(this.addBodyEvent));
  }
  /**
   * Remove a rigid body from the simulation.
   */
  removeBody(e) {
    e.world = null;
    const n = this.bodies.length - 1, r = this.bodies, o = r.indexOf(e);
    if (o !== -1) {
      r.splice(o, 1);
      for (let l = 0; l !== r.length; l++)
        r[l].index = l;
      this.collisionMatrix.setNumObjects(n), this.removeBodyEvent.body = e, delete this.idToBodyMap[e.id], this.dispatchEvent(this.removeBodyEvent);
    }
  }
  getBodyById(e) {
    return this.idToBodyMap[e];
  }
  /**
   * @todo Make a faster map
   */
  getShapeById(e) {
    const n = this.bodies;
    for (let r = 0; r < n.length; r++) {
      const o = n[r].shapes;
      for (let l = 0; l < o.length; l++) {
        const h = o[l];
        if (h.id === e)
          return h;
      }
    }
    return null;
  }
  /**
   * Adds a contact material to the World
   */
  addContactMaterial(e) {
    this.contactmaterials.push(e), this.contactMaterialTable.set(e.materials[0].id, e.materials[1].id, e);
  }
  /**
   * Removes a contact material from the World.
   */
  removeContactMaterial(e) {
    const n = this.contactmaterials.indexOf(e);
    n !== -1 && (this.contactmaterials.splice(n, 1), this.contactMaterialTable.delete(e.materials[0].id, e.materials[1].id));
  }
  /**
   * Step the simulation forward keeping track of last called time
   * to be able to step the world at a fixed rate, independently of framerate.
   *
   * @param dt The fixed time step size to use (default: 1 / 60).
   * @param maxSubSteps Maximum number of fixed steps to take per function call (default: 10).
   * @see https://gafferongames.com/post/fix_your_timestep/
   * @example
   *     // Run the simulation independently of framerate every 1 / 60 ms
   *     world.fixedStep()
   */
  fixedStep(e, n) {
    e === void 0 && (e = 1 / 60), n === void 0 && (n = 10);
    const r = jr.now() / 1e3;
    if (!this.lastCallTime)
      this.step(e, void 0, n);
    else {
      const o = r - this.lastCallTime;
      this.step(e, o, n);
    }
    this.lastCallTime = r;
  }
  /**
   * Step the physics world forward in time.
   *
   * There are two modes. The simple mode is fixed timestepping without interpolation. In this case you only use the first argument. The second case uses interpolation. In that you also provide the time since the function was last used, as well as the maximum fixed timesteps to take.
   *
   * @param dt The fixed time step size to use.
   * @param timeSinceLastCalled The time elapsed since the function was last called.
   * @param maxSubSteps Maximum number of fixed steps to take per function call (default: 10).
   * @see https://web.archive.org/web/20180426154531/http://bulletphysics.org/mediawiki-1.5.8/index.php/Stepping_The_World#What_do_the_parameters_to_btDynamicsWorld::stepSimulation_mean.3F
   * @example
   *     // fixed timestepping without interpolation
   *     world.step(1 / 60)
   */
  step(e, n, r) {
    if (r === void 0 && (r = 10), n === void 0)
      this.internalStep(e), this.time += e;
    else {
      this.accumulator += n;
      const o = jr.now();
      let l = 0;
      for (; this.accumulator >= e && l < r && (this.internalStep(e), this.accumulator -= e, l++, !(jr.now() - o > e * 1e3)); )
        ;
      this.accumulator = this.accumulator % e;
      const h = this.accumulator / e;
      for (let d = 0; d !== this.bodies.length; d++) {
        const p = this.bodies[d];
        p.previousPosition.lerp(p.position, h, p.interpolatedPosition), p.previousQuaternion.slerp(p.quaternion, h, p.interpolatedQuaternion), p.previousQuaternion.normalize();
      }
      this.time += n;
    }
  }
  internalStep(e) {
    this.dt = e;
    const n = this.contacts, r = lse, o = cse, l = this.bodies.length, h = this.bodies, d = this.solver, p = this.gravity, g = this.doProfiling, v = this.profile, y = Et.DYNAMIC;
    let x = -1 / 0;
    const w = this.constraints, T = sse;
    p.length();
    const M = p.x, S = p.y, L = p.z;
    let F = 0;
    for (g && (x = jr.now()), F = 0; F !== l; F++) {
      const J = h[F];
      if (J.type === y) {
        const pe = J.force, be = J.mass;
        pe.x += be * M, pe.y += be * S, pe.z += be * L;
      }
    }
    for (let J = 0, pe = this.subsystems.length; J !== pe; J++)
      this.subsystems[J].update();
    g && (x = jr.now()), r.length = 0, o.length = 0, this.broadphase.collisionPairs(this, r, o), g && (v.broadphase = jr.now() - x);
    let G = w.length;
    for (F = 0; F !== G; F++) {
      const J = w[F];
      if (!J.collideConnected)
        for (let pe = r.length - 1; pe >= 0; pe -= 1)
          (J.bodyA === r[pe] && J.bodyB === o[pe] || J.bodyB === r[pe] && J.bodyA === o[pe]) && (r.splice(pe, 1), o.splice(pe, 1));
    }
    this.collisionMatrixTick(), g && (x = jr.now());
    const $ = ase, K = n.length;
    for (F = 0; F !== K; F++)
      $.push(n[F]);
    n.length = 0;
    const q = this.frictionEquations.length;
    for (F = 0; F !== q; F++)
      T.push(this.frictionEquations[F]);
    for (this.frictionEquations.length = 0, this.narrowphase.getContacts(
      r,
      o,
      this,
      n,
      $,
      // To be reused
      this.frictionEquations,
      T
    ), g && (v.narrowphase = jr.now() - x), g && (x = jr.now()), F = 0; F < this.frictionEquations.length; F++)
      d.addEquation(this.frictionEquations[F]);
    const he = n.length;
    for (let J = 0; J !== he; J++) {
      const pe = n[J], be = pe.bi, fe = pe.bj, de = pe.si, Fe = pe.sj;
      let Be;
      if (be.material && fe.material ? Be = this.getContactMaterial(be.material, fe.material) || this.defaultContactMaterial : Be = this.defaultContactMaterial, Be.friction, be.material && fe.material && (be.material.friction >= 0 && fe.material.friction >= 0 && be.material.friction * fe.material.friction, be.material.restitution >= 0 && fe.material.restitution >= 0 && (pe.restitution = be.material.restitution * fe.material.restitution)), d.addEquation(pe), be.allowSleep && be.type === Et.DYNAMIC && be.sleepState === Et.SLEEPING && fe.sleepState === Et.AWAKE && fe.type !== Et.STATIC) {
        const _e = fe.velocity.lengthSquared() + fe.angularVelocity.lengthSquared(), Xe = fe.sleepSpeedLimit ** 2;
        _e >= Xe * 2 && (be.wakeUpAfterNarrowphase = !0);
      }
      if (fe.allowSleep && fe.type === Et.DYNAMIC && fe.sleepState === Et.SLEEPING && be.sleepState === Et.AWAKE && be.type !== Et.STATIC) {
        const _e = be.velocity.lengthSquared() + be.angularVelocity.lengthSquared(), Xe = be.sleepSpeedLimit ** 2;
        _e >= Xe * 2 && (fe.wakeUpAfterNarrowphase = !0);
      }
      this.collisionMatrix.set(be, fe, !0), this.collisionMatrixPrevious.get(be, fe) || (Gm.body = fe, Gm.contact = pe, be.dispatchEvent(Gm), Gm.body = be, fe.dispatchEvent(Gm)), this.bodyOverlapKeeper.set(be.id, fe.id), this.shapeOverlapKeeper.set(de.id, Fe.id);
    }
    for (this.emitContactEvents(), g && (v.makeContactConstraints = jr.now() - x, x = jr.now()), F = 0; F !== l; F++) {
      const J = h[F];
      J.wakeUpAfterNarrowphase && (J.wakeUp(), J.wakeUpAfterNarrowphase = !1);
    }
    for (G = w.length, F = 0; F !== G; F++) {
      const J = w[F];
      J.update();
      for (let pe = 0, be = J.equations.length; pe !== be; pe++) {
        const fe = J.equations[pe];
        d.addEquation(fe);
      }
    }
    d.solve(e, this), g && (v.solve = jr.now() - x), d.removeAllEquations();
    const ae = Math.pow;
    for (F = 0; F !== l; F++) {
      const J = h[F];
      if (J.type & y) {
        const pe = ae(1 - J.linearDamping, e), be = J.velocity;
        be.scale(pe, be);
        const fe = J.angularVelocity;
        if (fe) {
          const de = ae(1 - J.angularDamping, e);
          fe.scale(de, fe);
        }
      }
    }
    this.dispatchEvent(ose), g && (x = jr.now());
    const ne = this.stepnumber % (this.quatNormalizeSkip + 1) === 0, se = this.quatNormalizeFast;
    for (F = 0; F !== l; F++)
      h[F].integrate(e, ne, se);
    this.clearForces(), this.broadphase.dirty = !0, g && (v.integrate = jr.now() - x), this.stepnumber += 1, this.dispatchEvent(ise);
    let oe = !0;
    if (this.allowSleep)
      for (oe = !1, F = 0; F !== l; F++) {
        const J = h[F];
        J.sleepTick(this.time), J.sleepState !== Et.SLEEPING && (oe = !0);
      }
    this.hasActiveBodies = oe;
  }
  emitContactEvents() {
    const e = this.hasAnyEventListener("beginContact"), n = this.hasAnyEventListener("endContact");
    if ((e || n) && this.bodyOverlapKeeper.getDiff(Za, Ja), e) {
      for (let l = 0, h = Za.length; l < h; l += 2)
        Wm.bodyA = this.getBodyById(Za[l]), Wm.bodyB = this.getBodyById(Za[l + 1]), this.dispatchEvent(Wm);
      Wm.bodyA = Wm.bodyB = null;
    }
    if (n) {
      for (let l = 0, h = Ja.length; l < h; l += 2)
        Vm.bodyA = this.getBodyById(Ja[l]), Vm.bodyB = this.getBodyById(Ja[l + 1]), this.dispatchEvent(Vm);
      Vm.bodyA = Vm.bodyB = null;
    }
    Za.length = Ja.length = 0;
    const r = this.hasAnyEventListener("beginShapeContact"), o = this.hasAnyEventListener("endShapeContact");
    if ((r || o) && this.shapeOverlapKeeper.getDiff(Za, Ja), r) {
      for (let l = 0, h = Za.length; l < h; l += 2) {
        const d = this.getShapeById(Za[l]), p = this.getShapeById(Za[l + 1]);
        Qa.shapeA = d, Qa.shapeB = p, d && (Qa.bodyA = d.body), p && (Qa.bodyB = p.body), this.dispatchEvent(Qa);
      }
      Qa.bodyA = Qa.bodyB = Qa.shapeA = Qa.shapeB = null;
    }
    if (o) {
      for (let l = 0, h = Ja.length; l < h; l += 2) {
        const d = this.getShapeById(Ja[l]), p = this.getShapeById(Ja[l + 1]);
        es.shapeA = d, es.shapeB = p, d && (es.bodyA = d.body), p && (es.bodyB = p.body), this.dispatchEvent(es);
      }
      es.bodyA = es.bodyB = es.shapeA = es.shapeB = null;
    }
  }
  /**
   * Sets all body forces in the world to zero.
   */
  clearForces() {
    const e = this.bodies, n = e.length;
    for (let r = 0; r !== n; r++) {
      const o = e[r];
      o.force, o.torque, o.force.set(0, 0, 0), o.torque.set(0, 0, 0);
    }
  }
}
new ar();
const ky = new Fo(), jr = globalThis.performance || {};
if (!jr.now) {
  let a = Date.now();
  jr.timing && jr.timing.navigationStart && (a = jr.timing.navigationStart), jr.now = () => Date.now() - a;
}
new X();
const ise = {
  type: "postStep"
}, ose = {
  type: "preStep"
}, Gm = {
  type: Et.COLLIDE_EVENT_NAME,
  body: null,
  contact: null
}, ase = [], sse = [], lse = [], cse = [], Za = [], Ja = [], Wm = {
  type: "beginContact",
  bodyA: null,
  bodyB: null
}, Vm = {
  type: "endContact",
  bodyA: null,
  bodyB: null
}, Qa = {
  type: "beginShapeContact",
  bodyA: null,
  bodyB: null,
  shapeA: null,
  shapeB: null
}, es = {
  type: "endShapeContact",
  bodyA: null,
  bodyB: null,
  shapeA: null,
  shapeB: null
}, hse = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  AABB: ar,
  ArrayCollisionMatrix: Kx,
  BODY_SLEEP_STATES: S0,
  BODY_TYPES: M0,
  Body: Et,
  Box: Pp,
  Broadphase: I0,
  COLLISION_TYPES: Qn,
  ConeTwistConstraint: vie,
  Constraint: nd,
  ContactEquation: Bu,
  ContactMaterial: Rp,
  ConvexPolyhedron: ss,
  Cylinder: boe,
  DistanceConstraint: yie,
  Equation: fs,
  EventTarget: xC,
  FrictionEquation: Jx,
  GSSolver: FE,
  GridBroadphase: Fre,
  Heightfield: xoe,
  HingeConstraint: OE,
  JacobianElement: Zx,
  LockConstraint: xie,
  Mat3: io,
  Material: CC,
  NaiveBroadphase: NE,
  Narrowphase: UE,
  ObjectCollisionMatrix: ure,
  Particle: voe,
  Plane: yoe,
  PointToPointConstraint: P0,
  Pool: XE,
  Quaternion: Yr,
  RAY_MODES: A0,
  Ray: Fo,
  RaycastResult: Du,
  RaycastVehicle: kie,
  RigidVehicle: loe,
  RotationalEquation: Uc,
  RotationalMotorEquation: BE,
  SAPBroadphase: Ru,
  SHAPE_TYPES: TE,
  SPHSystem: coe,
  Shape: ct,
  Solver: _C,
  Sphere: DE,
  SplitSolver: Xoe,
  Spring: Sie,
  Transform: En,
  Trimesh: Qg,
  Vec3: X,
  Vec3Pool: zE,
  WheelInfo: jE,
  World: rse
}, Symbol.toStringTag, { value: "Module" })), GE = /* @__PURE__ */ Gu(hse);
var j3;
function use() {
  return j3 || (j3 = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(Tl()), o = e(wl()), l = e(ga()), h = p(GE);
    function d(g) {
      if (typeof WeakMap != "function")
        return null;
      var v = /* @__PURE__ */ new WeakMap(), y = /* @__PURE__ */ new WeakMap();
      return (d = function(w) {
        return w ? y : v;
      })(g);
    }
    function p(g, v) {
      if (g && g.__esModule)
        return g;
      if (g === null || n(g) != "object" && typeof g != "function")
        return { default: g };
      var y = d(v);
      if (y && y.has(g))
        return y.get(g);
      var x = { __proto__: null }, w = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var T in g)
        if (T !== "default" && {}.hasOwnProperty.call(g, T)) {
          var M = w ? Object.getOwnPropertyDescriptor(g, T) : null;
          M && (M.get || M.set) ? Object.defineProperty(x, T, M) : x[T] = g[T];
        }
      return x.default = g, y && y.set(g, x), x;
    }
    a.default = /* @__PURE__ */ (0, r.default)(function g() {
      (0, o.default)(this, g), (0, l.default)(this, "material", void 0), (0, l.default)(this, "Impact", void 0), (0, l.default)(this, "Static", void 0), this.Impact = new h.Material("Impact"), this.Static = new h.Material("Static"), this.material = new h.ContactMaterial(this.Impact, this.Static, {
        friction: 0.1,
        restitution: 0.1
      });
    });
  }(By)), By;
}
var Xy = {}, D3;
function dse() {
  return D3 || (D3 = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(Tl()), o = e(wl()), l = e(ga()), h = p(GE);
    function d(g) {
      if (typeof WeakMap != "function")
        return null;
      var v = /* @__PURE__ */ new WeakMap(), y = /* @__PURE__ */ new WeakMap();
      return (d = function(w) {
        return w ? y : v;
      })(g);
    }
    function p(g, v) {
      if (g && g.__esModule)
        return g;
      if (g === null || n(g) != "object" && typeof g != "function")
        return { default: g };
      var y = d(v);
      if (y && y.has(g))
        return y.get(g);
      var x = { __proto__: null }, w = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var T in g)
        if (T !== "default" && {}.hasOwnProperty.call(g, T)) {
          var M = w ? Object.getOwnPropertyDescriptor(g, T) : null;
          M && (M.get || M.set) ? Object.defineProperty(x, T, M) : x[T] = g[T];
        }
      return x.default = g, y && y.set(g, x), x;
    }
    a.default = /* @__PURE__ */ (0, r.default)(function g() {
      (0, o.default)(this, g), (0, l.default)(this, "world", void 0), this.world = new h.World({
        gravity: new h.Vec3(0, -9.82 * 2, 0)
      });
    });
  }(Xy)), Xy;
}
var zy = {}, F3;
function mse() {
  return F3 || (F3 = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(Tl()), o = e(wl()), l = e(ga()), h = g(ps()), d = Nl();
    function p(T) {
      if (typeof WeakMap != "function")
        return null;
      var M = /* @__PURE__ */ new WeakMap(), S = /* @__PURE__ */ new WeakMap();
      return (p = function(F) {
        return F ? S : M;
      })(T);
    }
    function g(T, M) {
      if (T && T.__esModule)
        return T;
      if (T === null || n(T) != "object" && typeof T != "function")
        return { default: T };
      var S = p(M);
      if (S && S.has(T))
        return S.get(T);
      var L = { __proto__: null }, F = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var G in T)
        if (G !== "default" && {}.hasOwnProperty.call(T, G)) {
          var $ = F ? Object.getOwnPropertyDescriptor(T, G) : null;
          $ && ($.get || $.set) ? Object.defineProperty(L, G, $) : L[G] = T[G];
        }
      return L.default = T, S && S.set(T, L), L;
    }
    function v(T, M) {
      var S = Object.keys(T);
      if (Object.getOwnPropertySymbols) {
        var L = Object.getOwnPropertySymbols(T);
        M && (L = L.filter(function(F) {
          return Object.getOwnPropertyDescriptor(T, F).enumerable;
        })), S.push.apply(S, L);
      }
      return S;
    }
    function y(T) {
      for (var M = 1; M < arguments.length; M++) {
        var S = arguments[M] != null ? arguments[M] : {};
        M % 2 ? v(Object(S), !0).forEach(function(L) {
          (0, l.default)(T, L, S[L]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(T, Object.getOwnPropertyDescriptors(S)) : v(Object(S)).forEach(function(L) {
          Object.defineProperty(T, L, Object.getOwnPropertyDescriptor(S, L));
        });
      }
      return T;
    }
    var x = window, w = x.devicePixelRatio;
    a.default = /* @__PURE__ */ (0, r.default)(function T(M) {
      var S = this, L = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null, F = arguments.length > 2 ? arguments[2] : void 0;
      (0, o.default)(this, T), (0, l.default)(this, "dom", void 0), (0, l.default)(this, "options", void 0), (0, l.default)(this, "renderer", void 0), (0, l.default)(this, "camera", void 0), (0, l.default)(this, "update", void 0), (0, l.default)(this, "addListeners", void 0), (0, l.default)(this, "removeListeners", void 0), (0, l.default)(this, "updateDom", void 0), this.options = y(y({}, d.renderer), M);
      var G = this.options, $ = G.alpha, K = G.shadowType, q = G.exposure, he = G.outputEncoding, ae = G.preserveDrawingBuffer, ve = new h.WebGLRenderer({
        alpha: $,
        preserveDrawingBuffer: ae,
        antialias: !0
      });
      ve.setPixelRatio(w), ve.toneMapping = h.ACESFilmicToneMapping, ve.shadowMap.enabled = !0, ve.shadowMap.type = K, ve.toneMappingExposure = q, ve.outputColorSpace = he, ve.setClearColor(this.options.background.color, this.options.background.alpha), this.dom = L, this.camera = F, this.update = function() {
        var ne = window, se = ne.innerWidth, oe = ne.innerHeight, J = S.dom instanceof HTMLElement ? S.dom.clientWidth : se, pe = S.dom instanceof HTMLElement ? S.dom.clientHeight : oe;
        S.camera instanceof h.PerspectiveCamera ? S.camera.aspect = J / pe : (S.camera.left = J / -2, S.camera.right = J / 2, S.camera.top = pe / 2, S.camera.bottom = pe / -2), S.camera.updateProjectionMatrix(), ve.setSize(J, pe);
      }, this.updateDom = function(ne) {
        S.dom = ne;
      }, this.addListeners = function() {
        S.update(), window.addEventListener("resize", S.update);
      }, this.removeListeners = function() {
        window.removeEventListener("resize", S.update);
      }, this.renderer = ve;
    });
  }(zy)), zy;
}
var Uy = {};
/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const WE = "164", e0 = 0, wC = 1, pse = 2, k3 = 1, X3 = 100, z3 = 204, U3 = 205, G3 = 3, fse = 0, W3 = "attached", gse = "detached", VE = 300, pp = 1e3, op = 1001, Qx = 1002, fp = 1003, bse = 1004, vse = 1005, TC = 1006, yse = 1007, NC = 1008, xse = 1009, Cse = 1014, MC = 1015, _se = 1020, HE = 1023, Gy = 1026, V3 = 1027, wse = 1028, gp = 2300, Fu = 2301, Wy = 2302, H3 = 2400, $3 = 2401, q3 = 2402, Tse = 2500, Nse = 0, $E = 1, e2 = 2, Mse = 0, qE = "", yi = "srgb", Wi = "srgb-linear", Sse = "display-p3", YE = "display-p3-linear", t2 = "linear", Y3 = "srgb", K3 = "rec709", Z3 = "p3", Zh = 7680, J3 = 519, Ise = 515, n2 = 35044, kc = 2e3, r2 = 2001;
class R0 {
  addEventListener(e, n) {
    this._listeners === void 0 && (this._listeners = {});
    const r = this._listeners;
    r[e] === void 0 && (r[e] = []), r[e].indexOf(n) === -1 && r[e].push(n);
  }
  hasEventListener(e, n) {
    if (this._listeners === void 0)
      return !1;
    const r = this._listeners;
    return r[e] !== void 0 && r[e].indexOf(n) !== -1;
  }
  removeEventListener(e, n) {
    if (this._listeners === void 0)
      return;
    const o = this._listeners[e];
    if (o !== void 0) {
      const l = o.indexOf(n);
      l !== -1 && o.splice(l, 1);
    }
  }
  dispatchEvent(e) {
    if (this._listeners === void 0)
      return;
    const r = this._listeners[e.type];
    if (r !== void 0) {
      e.target = this;
      const o = r.slice(0);
      for (let l = 0, h = o.length; l < h; l++)
        o[l].call(this, e);
      e.target = null;
    }
  }
}
const ii = ["00", "01", "02", "03", "04", "05", "06", "07", "08", "09", "0a", "0b", "0c", "0d", "0e", "0f", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "1a", "1b", "1c", "1d", "1e", "1f", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "2a", "2b", "2c", "2d", "2e", "2f", "30", "31", "32", "33", "34", "35", "36", "37", "38", "39", "3a", "3b", "3c", "3d", "3e", "3f", "40", "41", "42", "43", "44", "45", "46", "47", "48", "49", "4a", "4b", "4c", "4d", "4e", "4f", "50", "51", "52", "53", "54", "55", "56", "57", "58", "59", "5a", "5b", "5c", "5d", "5e", "5f", "60", "61", "62", "63", "64", "65", "66", "67", "68", "69", "6a", "6b", "6c", "6d", "6e", "6f", "70", "71", "72", "73", "74", "75", "76", "77", "78", "79", "7a", "7b", "7c", "7d", "7e", "7f", "80", "81", "82", "83", "84", "85", "86", "87", "88", "89", "8a", "8b", "8c", "8d", "8e", "8f", "90", "91", "92", "93", "94", "95", "96", "97", "98", "99", "9a", "9b", "9c", "9d", "9e", "9f", "a0", "a1", "a2", "a3", "a4", "a5", "a6", "a7", "a8", "a9", "aa", "ab", "ac", "ad", "ae", "af", "b0", "b1", "b2", "b3", "b4", "b5", "b6", "b7", "b8", "b9", "ba", "bb", "bc", "bd", "be", "bf", "c0", "c1", "c2", "c3", "c4", "c5", "c6", "c7", "c8", "c9", "ca", "cb", "cc", "cd", "ce", "cf", "d0", "d1", "d2", "d3", "d4", "d5", "d6", "d7", "d8", "d9", "da", "db", "dc", "dd", "de", "df", "e0", "e1", "e2", "e3", "e4", "e5", "e6", "e7", "e8", "e9", "ea", "eb", "ec", "ed", "ee", "ef", "f0", "f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8", "f9", "fa", "fb", "fc", "fd", "fe", "ff"];
let Q3 = 1234567;
const sp = Math.PI / 180, bp = 180 / Math.PI;
function ko() {
  const a = Math.random() * 4294967295 | 0, e = Math.random() * 4294967295 | 0, n = Math.random() * 4294967295 | 0, r = Math.random() * 4294967295 | 0;
  return (ii[a & 255] + ii[a >> 8 & 255] + ii[a >> 16 & 255] + ii[a >> 24 & 255] + "-" + ii[e & 255] + ii[e >> 8 & 255] + "-" + ii[e >> 16 & 15 | 64] + ii[e >> 24 & 255] + "-" + ii[n & 63 | 128] + ii[n >> 8 & 255] + "-" + ii[n >> 16 & 255] + ii[n >> 24 & 255] + ii[r & 255] + ii[r >> 8 & 255] + ii[r >> 16 & 255] + ii[r >> 24 & 255]).toLowerCase();
}
function ai(a, e, n) {
  return Math.max(e, Math.min(n, a));
}
function SC(a, e) {
  return (a % e + e) % e;
}
function Ase(a, e, n, r, o) {
  return r + (a - e) * (o - r) / (n - e);
}
function Ese(a, e, n) {
  return a !== e ? (n - a) / (e - a) : 0;
}
function lp(a, e, n) {
  return (1 - n) * a + n * e;
}
function Pse(a, e, n, r) {
  return lp(a, e, 1 - Math.exp(-n * r));
}
function Rse(a, e = 1) {
  return e - Math.abs(SC(a, e * 2) - e);
}
function Bse(a, e, n) {
  return a <= e ? 0 : a >= n ? 1 : (a = (a - e) / (n - e), a * a * (3 - 2 * a));
}
function Ose(a, e, n) {
  return a <= e ? 0 : a >= n ? 1 : (a = (a - e) / (n - e), a * a * a * (a * (a * 6 - 15) + 10));
}
function Lse(a, e) {
  return a + Math.floor(Math.random() * (e - a + 1));
}
function jse(a, e) {
  return a + Math.random() * (e - a);
}
function Dse(a) {
  return a * (0.5 - Math.random());
}
function Fse(a) {
  a !== void 0 && (Q3 = a);
  let e = Q3 += 1831565813;
  return e = Math.imul(e ^ e >>> 15, e | 1), e ^= e + Math.imul(e ^ e >>> 7, e | 61), ((e ^ e >>> 14) >>> 0) / 4294967296;
}
function kse(a) {
  return a * sp;
}
function Xse(a) {
  return a * bp;
}
function zse(a) {
  return (a & a - 1) === 0 && a !== 0;
}
function Use(a) {
  return Math.pow(2, Math.ceil(Math.log(a) / Math.LN2));
}
function Gse(a) {
  return Math.pow(2, Math.floor(Math.log(a) / Math.LN2));
}
function Wse(a, e, n, r, o) {
  const l = Math.cos, h = Math.sin, d = l(n / 2), p = h(n / 2), g = l((e + r) / 2), v = h((e + r) / 2), y = l((e - r) / 2), x = h((e - r) / 2), w = l((r - e) / 2), T = h((r - e) / 2);
  switch (o) {
    case "XYX":
      a.set(d * v, p * y, p * x, d * g);
      break;
    case "YZY":
      a.set(p * x, d * v, p * y, d * g);
      break;
    case "ZXZ":
      a.set(p * y, p * x, d * v, d * g);
      break;
    case "XZX":
      a.set(d * v, p * T, p * w, d * g);
      break;
    case "YXY":
      a.set(p * w, d * v, p * T, d * g);
      break;
    case "ZYZ":
      a.set(p * T, p * w, d * v, d * g);
      break;
    default:
      console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: " + o);
  }
}
function jo(a, e) {
  switch (e.constructor) {
    case Float32Array:
      return a;
    case Uint32Array:
      return a / 4294967295;
    case Uint16Array:
      return a / 65535;
    case Uint8Array:
      return a / 255;
    case Int32Array:
      return Math.max(a / 2147483647, -1);
    case Int16Array:
      return Math.max(a / 32767, -1);
    case Int8Array:
      return Math.max(a / 127, -1);
    default:
      throw new Error("Invalid component type.");
  }
}
function $n(a, e) {
  switch (e.constructor) {
    case Float32Array:
      return a;
    case Uint32Array:
      return Math.round(a * 4294967295);
    case Uint16Array:
      return Math.round(a * 65535);
    case Uint8Array:
      return Math.round(a * 255);
    case Int32Array:
      return Math.round(a * 2147483647);
    case Int16Array:
      return Math.round(a * 32767);
    case Int8Array:
      return Math.round(a * 127);
    default:
      throw new Error("Invalid component type.");
  }
}
const Vse = {
  DEG2RAD: sp,
  RAD2DEG: bp,
  generateUUID: ko,
  clamp: ai,
  euclideanModulo: SC,
  mapLinear: Ase,
  inverseLerp: Ese,
  lerp: lp,
  damp: Pse,
  pingpong: Rse,
  smoothstep: Bse,
  smootherstep: Ose,
  randInt: Lse,
  randFloat: jse,
  randFloatSpread: Dse,
  seededRandom: Fse,
  degToRad: kse,
  radToDeg: Xse,
  isPowerOfTwo: zse,
  ceilPowerOfTwo: Use,
  floorPowerOfTwo: Gse,
  setQuaternionFromProperEuler: Wse,
  normalize: $n,
  denormalize: jo
};
class mr {
  constructor(e = 0, n = 0) {
    mr.prototype.isVector2 = !0, this.x = e, this.y = n;
  }
  get width() {
    return this.x;
  }
  set width(e) {
    this.x = e;
  }
  get height() {
    return this.y;
  }
  set height(e) {
    this.y = e;
  }
  set(e, n) {
    return this.x = e, this.y = n, this;
  }
  setScalar(e) {
    return this.x = e, this.y = e, this;
  }
  setX(e) {
    return this.x = e, this;
  }
  setY(e) {
    return this.y = e, this;
  }
  setComponent(e, n) {
    switch (e) {
      case 0:
        this.x = n;
        break;
      case 1:
        this.y = n;
        break;
      default:
        throw new Error("index is out of range: " + e);
    }
    return this;
  }
  getComponent(e) {
    switch (e) {
      case 0:
        return this.x;
      case 1:
        return this.y;
      default:
        throw new Error("index is out of range: " + e);
    }
  }
  clone() {
    return new this.constructor(this.x, this.y);
  }
  copy(e) {
    return this.x = e.x, this.y = e.y, this;
  }
  add(e) {
    return this.x += e.x, this.y += e.y, this;
  }
  addScalar(e) {
    return this.x += e, this.y += e, this;
  }
  addVectors(e, n) {
    return this.x = e.x + n.x, this.y = e.y + n.y, this;
  }
  addScaledVector(e, n) {
    return this.x += e.x * n, this.y += e.y * n, this;
  }
  sub(e) {
    return this.x -= e.x, this.y -= e.y, this;
  }
  subScalar(e) {
    return this.x -= e, this.y -= e, this;
  }
  subVectors(e, n) {
    return this.x = e.x - n.x, this.y = e.y - n.y, this;
  }
  multiply(e) {
    return this.x *= e.x, this.y *= e.y, this;
  }
  multiplyScalar(e) {
    return this.x *= e, this.y *= e, this;
  }
  divide(e) {
    return this.x /= e.x, this.y /= e.y, this;
  }
  divideScalar(e) {
    return this.multiplyScalar(1 / e);
  }
  applyMatrix3(e) {
    const n = this.x, r = this.y, o = e.elements;
    return this.x = o[0] * n + o[3] * r + o[6], this.y = o[1] * n + o[4] * r + o[7], this;
  }
  min(e) {
    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this;
  }
  max(e) {
    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this;
  }
  clamp(e, n) {
    return this.x = Math.max(e.x, Math.min(n.x, this.x)), this.y = Math.max(e.y, Math.min(n.y, this.y)), this;
  }
  clampScalar(e, n) {
    return this.x = Math.max(e, Math.min(n, this.x)), this.y = Math.max(e, Math.min(n, this.y)), this;
  }
  clampLength(e, n) {
    const r = this.length();
    return this.divideScalar(r || 1).multiplyScalar(Math.max(e, Math.min(n, r)));
  }
  floor() {
    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
  }
  ceil() {
    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this;
  }
  round() {
    return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
  }
  roundToZero() {
    return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this;
  }
  negate() {
    return this.x = -this.x, this.y = -this.y, this;
  }
  dot(e) {
    return this.x * e.x + this.y * e.y;
  }
  cross(e) {
    return this.x * e.y - this.y * e.x;
  }
  lengthSq() {
    return this.x * this.x + this.y * this.y;
  }
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y);
  }
  manhattanLength() {
    return Math.abs(this.x) + Math.abs(this.y);
  }
  normalize() {
    return this.divideScalar(this.length() || 1);
  }
  angle() {
    return Math.atan2(-this.y, -this.x) + Math.PI;
  }
  angleTo(e) {
    const n = Math.sqrt(this.lengthSq() * e.lengthSq());
    if (n === 0)
      return Math.PI / 2;
    const r = this.dot(e) / n;
    return Math.acos(ai(r, -1, 1));
  }
  distanceTo(e) {
    return Math.sqrt(this.distanceToSquared(e));
  }
  distanceToSquared(e) {
    const n = this.x - e.x, r = this.y - e.y;
    return n * n + r * r;
  }
  manhattanDistanceTo(e) {
    return Math.abs(this.x - e.x) + Math.abs(this.y - e.y);
  }
  setLength(e) {
    return this.normalize().multiplyScalar(e);
  }
  lerp(e, n) {
    return this.x += (e.x - this.x) * n, this.y += (e.y - this.y) * n, this;
  }
  lerpVectors(e, n, r) {
    return this.x = e.x + (n.x - e.x) * r, this.y = e.y + (n.y - e.y) * r, this;
  }
  equals(e) {
    return e.x === this.x && e.y === this.y;
  }
  fromArray(e, n = 0) {
    return this.x = e[n], this.y = e[n + 1], this;
  }
  toArray(e = [], n = 0) {
    return e[n] = this.x, e[n + 1] = this.y, e;
  }
  fromBufferAttribute(e, n) {
    return this.x = e.getX(n), this.y = e.getY(n), this;
  }
  rotateAround(e, n) {
    const r = Math.cos(n), o = Math.sin(n), l = this.x - e.x, h = this.y - e.y;
    return this.x = l * r - h * o + e.x, this.y = l * o + h * r + e.y, this;
  }
  random() {
    return this.x = Math.random(), this.y = Math.random(), this;
  }
  *[Symbol.iterator]() {
    yield this.x, yield this.y;
  }
}
class gs {
  constructor(e, n, r, o, l, h, d, p, g) {
    gs.prototype.isMatrix3 = !0, this.elements = [
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1
    ], e !== void 0 && this.set(e, n, r, o, l, h, d, p, g);
  }
  set(e, n, r, o, l, h, d, p, g) {
    const v = this.elements;
    return v[0] = e, v[1] = o, v[2] = d, v[3] = n, v[4] = l, v[5] = p, v[6] = r, v[7] = h, v[8] = g, this;
  }
  identity() {
    return this.set(
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1
    ), this;
  }
  copy(e) {
    const n = this.elements, r = e.elements;
    return n[0] = r[0], n[1] = r[1], n[2] = r[2], n[3] = r[3], n[4] = r[4], n[5] = r[5], n[6] = r[6], n[7] = r[7], n[8] = r[8], this;
  }
  extractBasis(e, n, r) {
    return e.setFromMatrix3Column(this, 0), n.setFromMatrix3Column(this, 1), r.setFromMatrix3Column(this, 2), this;
  }
  setFromMatrix4(e) {
    const n = e.elements;
    return this.set(
      n[0],
      n[4],
      n[8],
      n[1],
      n[5],
      n[9],
      n[2],
      n[6],
      n[10]
    ), this;
  }
  multiply(e) {
    return this.multiplyMatrices(this, e);
  }
  premultiply(e) {
    return this.multiplyMatrices(e, this);
  }
  multiplyMatrices(e, n) {
    const r = e.elements, o = n.elements, l = this.elements, h = r[0], d = r[3], p = r[6], g = r[1], v = r[4], y = r[7], x = r[2], w = r[5], T = r[8], M = o[0], S = o[3], L = o[6], F = o[1], G = o[4], $ = o[7], K = o[2], q = o[5], he = o[8];
    return l[0] = h * M + d * F + p * K, l[3] = h * S + d * G + p * q, l[6] = h * L + d * $ + p * he, l[1] = g * M + v * F + y * K, l[4] = g * S + v * G + y * q, l[7] = g * L + v * $ + y * he, l[2] = x * M + w * F + T * K, l[5] = x * S + w * G + T * q, l[8] = x * L + w * $ + T * he, this;
  }
  multiplyScalar(e) {
    const n = this.elements;
    return n[0] *= e, n[3] *= e, n[6] *= e, n[1] *= e, n[4] *= e, n[7] *= e, n[2] *= e, n[5] *= e, n[8] *= e, this;
  }
  determinant() {
    const e = this.elements, n = e[0], r = e[1], o = e[2], l = e[3], h = e[4], d = e[5], p = e[6], g = e[7], v = e[8];
    return n * h * v - n * d * g - r * l * v + r * d * p + o * l * g - o * h * p;
  }
  invert() {
    const e = this.elements, n = e[0], r = e[1], o = e[2], l = e[3], h = e[4], d = e[5], p = e[6], g = e[7], v = e[8], y = v * h - d * g, x = d * p - v * l, w = g * l - h * p, T = n * y + r * x + o * w;
    if (T === 0)
      return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);
    const M = 1 / T;
    return e[0] = y * M, e[1] = (o * g - v * r) * M, e[2] = (d * r - o * h) * M, e[3] = x * M, e[4] = (v * n - o * p) * M, e[5] = (o * l - d * n) * M, e[6] = w * M, e[7] = (r * p - g * n) * M, e[8] = (h * n - r * l) * M, this;
  }
  transpose() {
    let e;
    const n = this.elements;
    return e = n[1], n[1] = n[3], n[3] = e, e = n[2], n[2] = n[6], n[6] = e, e = n[5], n[5] = n[7], n[7] = e, this;
  }
  getNormalMatrix(e) {
    return this.setFromMatrix4(e).invert().transpose();
  }
  transposeIntoArray(e) {
    const n = this.elements;
    return e[0] = n[0], e[1] = n[3], e[2] = n[6], e[3] = n[1], e[4] = n[4], e[5] = n[7], e[6] = n[2], e[7] = n[5], e[8] = n[8], this;
  }
  setUvTransform(e, n, r, o, l, h, d) {
    const p = Math.cos(l), g = Math.sin(l);
    return this.set(
      r * p,
      r * g,
      -r * (p * h + g * d) + h + e,
      -o * g,
      o * p,
      -o * (-g * h + p * d) + d + n,
      0,
      0,
      1
    ), this;
  }
  //
  scale(e, n) {
    return this.premultiply(Vy.makeScale(e, n)), this;
  }
  rotate(e) {
    return this.premultiply(Vy.makeRotation(-e)), this;
  }
  translate(e, n) {
    return this.premultiply(Vy.makeTranslation(e, n)), this;
  }
  // for 2D Transforms
  makeTranslation(e, n) {
    return e.isVector2 ? this.set(
      1,
      0,
      e.x,
      0,
      1,
      e.y,
      0,
      0,
      1
    ) : this.set(
      1,
      0,
      e,
      0,
      1,
      n,
      0,
      0,
      1
    ), this;
  }
  makeRotation(e) {
    const n = Math.cos(e), r = Math.sin(e);
    return this.set(
      n,
      -r,
      0,
      r,
      n,
      0,
      0,
      0,
      1
    ), this;
  }
  makeScale(e, n) {
    return this.set(
      e,
      0,
      0,
      0,
      n,
      0,
      0,
      0,
      1
    ), this;
  }
  //
  equals(e) {
    const n = this.elements, r = e.elements;
    for (let o = 0; o < 9; o++)
      if (n[o] !== r[o])
        return !1;
    return !0;
  }
  fromArray(e, n = 0) {
    for (let r = 0; r < 9; r++)
      this.elements[r] = e[r + n];
    return this;
  }
  toArray(e = [], n = 0) {
    const r = this.elements;
    return e[n] = r[0], e[n + 1] = r[1], e[n + 2] = r[2], e[n + 3] = r[3], e[n + 4] = r[4], e[n + 5] = r[5], e[n + 6] = r[6], e[n + 7] = r[7], e[n + 8] = r[8], e;
  }
  clone() {
    return new this.constructor().fromArray(this.elements);
  }
}
const Vy = /* @__PURE__ */ new gs();
function Hse(a) {
  for (let e = a.length - 1; e >= 0; --e)
    if (a[e] >= 65535)
      return !0;
  return !1;
}
function i2(a) {
  return document.createElementNS("http://www.w3.org/1999/xhtml", a);
}
const eS = {};
function KE(a) {
  a in eS || (eS[a] = !0, console.warn(a));
}
const tS = /* @__PURE__ */ new gs().set(
  0.8224621,
  0.177538,
  0,
  0.0331941,
  0.9668058,
  0,
  0.0170827,
  0.0723974,
  0.9105199
), nS = /* @__PURE__ */ new gs().set(
  1.2249401,
  -0.2249404,
  0,
  -0.0420569,
  1.0420571,
  0,
  -0.0196376,
  -0.0786361,
  1.0982735
), ig = {
  [Wi]: {
    transfer: t2,
    primaries: K3,
    toReference: (a) => a,
    fromReference: (a) => a
  },
  [yi]: {
    transfer: Y3,
    primaries: K3,
    toReference: (a) => a.convertSRGBToLinear(),
    fromReference: (a) => a.convertLinearToSRGB()
  },
  [YE]: {
    transfer: t2,
    primaries: Z3,
    toReference: (a) => a.applyMatrix3(nS),
    fromReference: (a) => a.applyMatrix3(tS)
  },
  [Sse]: {
    transfer: Y3,
    primaries: Z3,
    toReference: (a) => a.convertSRGBToLinear().applyMatrix3(nS),
    fromReference: (a) => a.applyMatrix3(tS).convertLinearToSRGB()
  }
}, $se = /* @__PURE__ */ new Set([Wi, YE]), zi = {
  enabled: !0,
  _workingColorSpace: Wi,
  get workingColorSpace() {
    return this._workingColorSpace;
  },
  set workingColorSpace(a) {
    if (!$se.has(a))
      throw new Error(`Unsupported working color space, "${a}".`);
    this._workingColorSpace = a;
  },
  convert: function(a, e, n) {
    if (this.enabled === !1 || e === n || !e || !n)
      return a;
    const r = ig[e].toReference, o = ig[n].fromReference;
    return o(r(a));
  },
  fromWorkingColorSpace: function(a, e) {
    return this.convert(a, this._workingColorSpace, e);
  },
  toWorkingColorSpace: function(a, e) {
    return this.convert(a, e, this._workingColorSpace);
  },
  getPrimaries: function(a) {
    return ig[a].primaries;
  },
  getTransfer: function(a) {
    return a === qE ? t2 : ig[a].transfer;
  }
};
function Ou(a) {
  return a < 0.04045 ? a * 0.0773993808 : Math.pow(a * 0.9478672986 + 0.0521327014, 2.4);
}
function Hy(a) {
  return a < 31308e-7 ? a * 12.92 : 1.055 * Math.pow(a, 0.41666) - 0.055;
}
let Jh;
class qse {
  static getDataURL(e) {
    if (/^data:/i.test(e.src) || typeof HTMLCanvasElement > "u")
      return e.src;
    let n;
    if (e instanceof HTMLCanvasElement)
      n = e;
    else {
      Jh === void 0 && (Jh = i2("canvas")), Jh.width = e.width, Jh.height = e.height;
      const r = Jh.getContext("2d");
      e instanceof ImageData ? r.putImageData(e, 0, 0) : r.drawImage(e, 0, 0, e.width, e.height), n = Jh;
    }
    return n.width > 2048 || n.height > 2048 ? (console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons", e), n.toDataURL("image/jpeg", 0.6)) : n.toDataURL("image/png");
  }
  static sRGBToLinear(e) {
    if (typeof HTMLImageElement < "u" && e instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && e instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && e instanceof ImageBitmap) {
      const n = i2("canvas");
      n.width = e.width, n.height = e.height;
      const r = n.getContext("2d");
      r.drawImage(e, 0, 0, e.width, e.height);
      const o = r.getImageData(0, 0, e.width, e.height), l = o.data;
      for (let h = 0; h < l.length; h++)
        l[h] = Ou(l[h] / 255) * 255;
      return r.putImageData(o, 0, 0), n;
    } else if (e.data) {
      const n = e.data.slice(0);
      for (let r = 0; r < n.length; r++)
        n instanceof Uint8Array || n instanceof Uint8ClampedArray ? n[r] = Math.floor(Ou(n[r] / 255) * 255) : n[r] = Ou(n[r]);
      return {
        data: n,
        width: e.width,
        height: e.height
      };
    } else
      return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."), e;
  }
}
let Yse = 0;
class Kse {
  constructor(e = null) {
    this.isSource = !0, Object.defineProperty(this, "id", { value: Yse++ }), this.uuid = ko(), this.data = e, this.dataReady = !0, this.version = 0;
  }
  set needsUpdate(e) {
    e === !0 && this.version++;
  }
  toJSON(e) {
    const n = e === void 0 || typeof e == "string";
    if (!n && e.images[this.uuid] !== void 0)
      return e.images[this.uuid];
    const r = {
      uuid: this.uuid,
      url: ""
    }, o = this.data;
    if (o !== null) {
      let l;
      if (Array.isArray(o)) {
        l = [];
        for (let h = 0, d = o.length; h < d; h++)
          o[h].isDataTexture ? l.push($y(o[h].image)) : l.push($y(o[h]));
      } else
        l = $y(o);
      r.url = l;
    }
    return n || (e.images[this.uuid] = r), r;
  }
}
function $y(a) {
  return typeof HTMLImageElement < "u" && a instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && a instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && a instanceof ImageBitmap ? qse.getDataURL(a) : a.data ? {
    data: Array.from(a.data),
    width: a.width,
    height: a.height,
    type: a.data.constructor.name
  } : (console.warn("THREE.Texture: Unable to serialize Texture."), {});
}
let Zse = 0;
class ao extends R0 {
  constructor(e = ao.DEFAULT_IMAGE, n = ao.DEFAULT_MAPPING, r = op, o = op, l = TC, h = NC, d = HE, p = xse, g = ao.DEFAULT_ANISOTROPY, v = qE) {
    super(), this.isTexture = !0, Object.defineProperty(this, "id", { value: Zse++ }), this.uuid = ko(), this.name = "", this.source = new Kse(e), this.mipmaps = [], this.mapping = n, this.channel = 0, this.wrapS = r, this.wrapT = o, this.magFilter = l, this.minFilter = h, this.anisotropy = g, this.format = d, this.internalFormat = null, this.type = p, this.offset = new mr(0, 0), this.repeat = new mr(1, 1), this.center = new mr(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new gs(), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.colorSpace = v, this.userData = {}, this.version = 0, this.onUpdate = null, this.isRenderTargetTexture = !1, this.pmremVersion = 0;
  }
  get image() {
    return this.source.data;
  }
  set image(e = null) {
    this.source.data = e;
  }
  updateMatrix() {
    this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(e) {
    return this.name = e.name, this.source = e.source, this.mipmaps = e.mipmaps.slice(0), this.mapping = e.mapping, this.channel = e.channel, this.wrapS = e.wrapS, this.wrapT = e.wrapT, this.magFilter = e.magFilter, this.minFilter = e.minFilter, this.anisotropy = e.anisotropy, this.format = e.format, this.internalFormat = e.internalFormat, this.type = e.type, this.offset.copy(e.offset), this.repeat.copy(e.repeat), this.center.copy(e.center), this.rotation = e.rotation, this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrix.copy(e.matrix), this.generateMipmaps = e.generateMipmaps, this.premultiplyAlpha = e.premultiplyAlpha, this.flipY = e.flipY, this.unpackAlignment = e.unpackAlignment, this.colorSpace = e.colorSpace, this.userData = JSON.parse(JSON.stringify(e.userData)), this.needsUpdate = !0, this;
  }
  toJSON(e) {
    const n = e === void 0 || typeof e == "string";
    if (!n && e.textures[this.uuid] !== void 0)
      return e.textures[this.uuid];
    const r = {
      metadata: {
        version: 4.6,
        type: "Texture",
        generator: "Texture.toJSON"
      },
      uuid: this.uuid,
      name: this.name,
      image: this.source.toJSON(e).uuid,
      mapping: this.mapping,
      channel: this.channel,
      repeat: [this.repeat.x, this.repeat.y],
      offset: [this.offset.x, this.offset.y],
      center: [this.center.x, this.center.y],
      rotation: this.rotation,
      wrap: [this.wrapS, this.wrapT],
      format: this.format,
      internalFormat: this.internalFormat,
      type: this.type,
      colorSpace: this.colorSpace,
      minFilter: this.minFilter,
      magFilter: this.magFilter,
      anisotropy: this.anisotropy,
      flipY: this.flipY,
      generateMipmaps: this.generateMipmaps,
      premultiplyAlpha: this.premultiplyAlpha,
      unpackAlignment: this.unpackAlignment
    };
    return Object.keys(this.userData).length > 0 && (r.userData = this.userData), n || (e.textures[this.uuid] = r), r;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
  transformUv(e) {
    if (this.mapping !== VE)
      return e;
    if (e.applyMatrix3(this.matrix), e.x < 0 || e.x > 1)
      switch (this.wrapS) {
        case pp:
          e.x = e.x - Math.floor(e.x);
          break;
        case op:
          e.x = e.x < 0 ? 0 : 1;
          break;
        case Qx:
          Math.abs(Math.floor(e.x) % 2) === 1 ? e.x = Math.ceil(e.x) - e.x : e.x = e.x - Math.floor(e.x);
          break;
      }
    if (e.y < 0 || e.y > 1)
      switch (this.wrapT) {
        case pp:
          e.y = e.y - Math.floor(e.y);
          break;
        case op:
          e.y = e.y < 0 ? 0 : 1;
          break;
        case Qx:
          Math.abs(Math.floor(e.y) % 2) === 1 ? e.y = Math.ceil(e.y) - e.y : e.y = e.y - Math.floor(e.y);
          break;
      }
    return this.flipY && (e.y = 1 - e.y), e;
  }
  set needsUpdate(e) {
    e === !0 && (this.version++, this.source.needsUpdate = !0);
  }
  set needsPMREMUpdate(e) {
    e === !0 && this.pmremVersion++;
  }
}
ao.DEFAULT_IMAGE = null;
ao.DEFAULT_MAPPING = VE;
ao.DEFAULT_ANISOTROPY = 1;
class no {
  constructor(e = 0, n = 0, r = 0, o = 1) {
    no.prototype.isVector4 = !0, this.x = e, this.y = n, this.z = r, this.w = o;
  }
  get width() {
    return this.z;
  }
  set width(e) {
    this.z = e;
  }
  get height() {
    return this.w;
  }
  set height(e) {
    this.w = e;
  }
  set(e, n, r, o) {
    return this.x = e, this.y = n, this.z = r, this.w = o, this;
  }
  setScalar(e) {
    return this.x = e, this.y = e, this.z = e, this.w = e, this;
  }
  setX(e) {
    return this.x = e, this;
  }
  setY(e) {
    return this.y = e, this;
  }
  setZ(e) {
    return this.z = e, this;
  }
  setW(e) {
    return this.w = e, this;
  }
  setComponent(e, n) {
    switch (e) {
      case 0:
        this.x = n;
        break;
      case 1:
        this.y = n;
        break;
      case 2:
        this.z = n;
        break;
      case 3:
        this.w = n;
        break;
      default:
        throw new Error("index is out of range: " + e);
    }
    return this;
  }
  getComponent(e) {
    switch (e) {
      case 0:
        return this.x;
      case 1:
        return this.y;
      case 2:
        return this.z;
      case 3:
        return this.w;
      default:
        throw new Error("index is out of range: " + e);
    }
  }
  clone() {
    return new this.constructor(this.x, this.y, this.z, this.w);
  }
  copy(e) {
    return this.x = e.x, this.y = e.y, this.z = e.z, this.w = e.w !== void 0 ? e.w : 1, this;
  }
  add(e) {
    return this.x += e.x, this.y += e.y, this.z += e.z, this.w += e.w, this;
  }
  addScalar(e) {
    return this.x += e, this.y += e, this.z += e, this.w += e, this;
  }
  addVectors(e, n) {
    return this.x = e.x + n.x, this.y = e.y + n.y, this.z = e.z + n.z, this.w = e.w + n.w, this;
  }
  addScaledVector(e, n) {
    return this.x += e.x * n, this.y += e.y * n, this.z += e.z * n, this.w += e.w * n, this;
  }
  sub(e) {
    return this.x -= e.x, this.y -= e.y, this.z -= e.z, this.w -= e.w, this;
  }
  subScalar(e) {
    return this.x -= e, this.y -= e, this.z -= e, this.w -= e, this;
  }
  subVectors(e, n) {
    return this.x = e.x - n.x, this.y = e.y - n.y, this.z = e.z - n.z, this.w = e.w - n.w, this;
  }
  multiply(e) {
    return this.x *= e.x, this.y *= e.y, this.z *= e.z, this.w *= e.w, this;
  }
  multiplyScalar(e) {
    return this.x *= e, this.y *= e, this.z *= e, this.w *= e, this;
  }
  applyMatrix4(e) {
    const n = this.x, r = this.y, o = this.z, l = this.w, h = e.elements;
    return this.x = h[0] * n + h[4] * r + h[8] * o + h[12] * l, this.y = h[1] * n + h[5] * r + h[9] * o + h[13] * l, this.z = h[2] * n + h[6] * r + h[10] * o + h[14] * l, this.w = h[3] * n + h[7] * r + h[11] * o + h[15] * l, this;
  }
  divideScalar(e) {
    return this.multiplyScalar(1 / e);
  }
  setAxisAngleFromQuaternion(e) {
    this.w = 2 * Math.acos(e.w);
    const n = Math.sqrt(1 - e.w * e.w);
    return n < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = e.x / n, this.y = e.y / n, this.z = e.z / n), this;
  }
  setAxisAngleFromRotationMatrix(e) {
    let n, r, o, l;
    const p = e.elements, g = p[0], v = p[4], y = p[8], x = p[1], w = p[5], T = p[9], M = p[2], S = p[6], L = p[10];
    if (Math.abs(v - x) < 0.01 && Math.abs(y - M) < 0.01 && Math.abs(T - S) < 0.01) {
      if (Math.abs(v + x) < 0.1 && Math.abs(y + M) < 0.1 && Math.abs(T + S) < 0.1 && Math.abs(g + w + L - 3) < 0.1)
        return this.set(1, 0, 0, 0), this;
      n = Math.PI;
      const G = (g + 1) / 2, $ = (w + 1) / 2, K = (L + 1) / 2, q = (v + x) / 4, he = (y + M) / 4, ae = (T + S) / 4;
      return G > $ && G > K ? G < 0.01 ? (r = 0, o = 0.707106781, l = 0.707106781) : (r = Math.sqrt(G), o = q / r, l = he / r) : $ > K ? $ < 0.01 ? (r = 0.707106781, o = 0, l = 0.707106781) : (o = Math.sqrt($), r = q / o, l = ae / o) : K < 0.01 ? (r = 0.707106781, o = 0.707106781, l = 0) : (l = Math.sqrt(K), r = he / l, o = ae / l), this.set(r, o, l, n), this;
    }
    let F = Math.sqrt((S - T) * (S - T) + (y - M) * (y - M) + (x - v) * (x - v));
    return Math.abs(F) < 1e-3 && (F = 1), this.x = (S - T) / F, this.y = (y - M) / F, this.z = (x - v) / F, this.w = Math.acos((g + w + L - 1) / 2), this;
  }
  min(e) {
    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this.z = Math.min(this.z, e.z), this.w = Math.min(this.w, e.w), this;
  }
  max(e) {
    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this.z = Math.max(this.z, e.z), this.w = Math.max(this.w, e.w), this;
  }
  clamp(e, n) {
    return this.x = Math.max(e.x, Math.min(n.x, this.x)), this.y = Math.max(e.y, Math.min(n.y, this.y)), this.z = Math.max(e.z, Math.min(n.z, this.z)), this.w = Math.max(e.w, Math.min(n.w, this.w)), this;
  }
  clampScalar(e, n) {
    return this.x = Math.max(e, Math.min(n, this.x)), this.y = Math.max(e, Math.min(n, this.y)), this.z = Math.max(e, Math.min(n, this.z)), this.w = Math.max(e, Math.min(n, this.w)), this;
  }
  clampLength(e, n) {
    const r = this.length();
    return this.divideScalar(r || 1).multiplyScalar(Math.max(e, Math.min(n, r)));
  }
  floor() {
    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this;
  }
  ceil() {
    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this;
  }
  round() {
    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this;
  }
  roundToZero() {
    return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this.z = Math.trunc(this.z), this.w = Math.trunc(this.w), this;
  }
  negate() {
    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this;
  }
  dot(e) {
    return this.x * e.x + this.y * e.y + this.z * e.z + this.w * e.w;
  }
  lengthSq() {
    return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
  }
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
  }
  manhattanLength() {
    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
  }
  normalize() {
    return this.divideScalar(this.length() || 1);
  }
  setLength(e) {
    return this.normalize().multiplyScalar(e);
  }
  lerp(e, n) {
    return this.x += (e.x - this.x) * n, this.y += (e.y - this.y) * n, this.z += (e.z - this.z) * n, this.w += (e.w - this.w) * n, this;
  }
  lerpVectors(e, n, r) {
    return this.x = e.x + (n.x - e.x) * r, this.y = e.y + (n.y - e.y) * r, this.z = e.z + (n.z - e.z) * r, this.w = e.w + (n.w - e.w) * r, this;
  }
  equals(e) {
    return e.x === this.x && e.y === this.y && e.z === this.z && e.w === this.w;
  }
  fromArray(e, n = 0) {
    return this.x = e[n], this.y = e[n + 1], this.z = e[n + 2], this.w = e[n + 3], this;
  }
  toArray(e = [], n = 0) {
    return e[n] = this.x, e[n + 1] = this.y, e[n + 2] = this.z, e[n + 3] = this.w, e;
  }
  fromBufferAttribute(e, n) {
    return this.x = e.getX(n), this.y = e.getY(n), this.z = e.getZ(n), this.w = e.getW(n), this;
  }
  random() {
    return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this.w = Math.random(), this;
  }
  *[Symbol.iterator]() {
    yield this.x, yield this.y, yield this.z, yield this.w;
  }
}
class Ml {
  constructor(e = 0, n = 0, r = 0, o = 1) {
    this.isQuaternion = !0, this._x = e, this._y = n, this._z = r, this._w = o;
  }
  static slerpFlat(e, n, r, o, l, h, d) {
    let p = r[o + 0], g = r[o + 1], v = r[o + 2], y = r[o + 3];
    const x = l[h + 0], w = l[h + 1], T = l[h + 2], M = l[h + 3];
    if (d === 0) {
      e[n + 0] = p, e[n + 1] = g, e[n + 2] = v, e[n + 3] = y;
      return;
    }
    if (d === 1) {
      e[n + 0] = x, e[n + 1] = w, e[n + 2] = T, e[n + 3] = M;
      return;
    }
    if (y !== M || p !== x || g !== w || v !== T) {
      let S = 1 - d;
      const L = p * x + g * w + v * T + y * M, F = L >= 0 ? 1 : -1, G = 1 - L * L;
      if (G > Number.EPSILON) {
        const K = Math.sqrt(G), q = Math.atan2(K, L * F);
        S = Math.sin(S * q) / K, d = Math.sin(d * q) / K;
      }
      const $ = d * F;
      if (p = p * S + x * $, g = g * S + w * $, v = v * S + T * $, y = y * S + M * $, S === 1 - d) {
        const K = 1 / Math.sqrt(p * p + g * g + v * v + y * y);
        p *= K, g *= K, v *= K, y *= K;
      }
    }
    e[n] = p, e[n + 1] = g, e[n + 2] = v, e[n + 3] = y;
  }
  static multiplyQuaternionsFlat(e, n, r, o, l, h) {
    const d = r[o], p = r[o + 1], g = r[o + 2], v = r[o + 3], y = l[h], x = l[h + 1], w = l[h + 2], T = l[h + 3];
    return e[n] = d * T + v * y + p * w - g * x, e[n + 1] = p * T + v * x + g * y - d * w, e[n + 2] = g * T + v * w + d * x - p * y, e[n + 3] = v * T - d * y - p * x - g * w, e;
  }
  get x() {
    return this._x;
  }
  set x(e) {
    this._x = e, this._onChangeCallback();
  }
  get y() {
    return this._y;
  }
  set y(e) {
    this._y = e, this._onChangeCallback();
  }
  get z() {
    return this._z;
  }
  set z(e) {
    this._z = e, this._onChangeCallback();
  }
  get w() {
    return this._w;
  }
  set w(e) {
    this._w = e, this._onChangeCallback();
  }
  set(e, n, r, o) {
    return this._x = e, this._y = n, this._z = r, this._w = o, this._onChangeCallback(), this;
  }
  clone() {
    return new this.constructor(this._x, this._y, this._z, this._w);
  }
  copy(e) {
    return this._x = e.x, this._y = e.y, this._z = e.z, this._w = e.w, this._onChangeCallback(), this;
  }
  setFromEuler(e, n = !0) {
    const r = e._x, o = e._y, l = e._z, h = e._order, d = Math.cos, p = Math.sin, g = d(r / 2), v = d(o / 2), y = d(l / 2), x = p(r / 2), w = p(o / 2), T = p(l / 2);
    switch (h) {
      case "XYZ":
        this._x = x * v * y + g * w * T, this._y = g * w * y - x * v * T, this._z = g * v * T + x * w * y, this._w = g * v * y - x * w * T;
        break;
      case "YXZ":
        this._x = x * v * y + g * w * T, this._y = g * w * y - x * v * T, this._z = g * v * T - x * w * y, this._w = g * v * y + x * w * T;
        break;
      case "ZXY":
        this._x = x * v * y - g * w * T, this._y = g * w * y + x * v * T, this._z = g * v * T + x * w * y, this._w = g * v * y - x * w * T;
        break;
      case "ZYX":
        this._x = x * v * y - g * w * T, this._y = g * w * y + x * v * T, this._z = g * v * T - x * w * y, this._w = g * v * y + x * w * T;
        break;
      case "YZX":
        this._x = x * v * y + g * w * T, this._y = g * w * y + x * v * T, this._z = g * v * T - x * w * y, this._w = g * v * y - x * w * T;
        break;
      case "XZY":
        this._x = x * v * y - g * w * T, this._y = g * w * y - x * v * T, this._z = g * v * T + x * w * y, this._w = g * v * y + x * w * T;
        break;
      default:
        console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: " + h);
    }
    return n === !0 && this._onChangeCallback(), this;
  }
  setFromAxisAngle(e, n) {
    const r = n / 2, o = Math.sin(r);
    return this._x = e.x * o, this._y = e.y * o, this._z = e.z * o, this._w = Math.cos(r), this._onChangeCallback(), this;
  }
  setFromRotationMatrix(e) {
    const n = e.elements, r = n[0], o = n[4], l = n[8], h = n[1], d = n[5], p = n[9], g = n[2], v = n[6], y = n[10], x = r + d + y;
    if (x > 0) {
      const w = 0.5 / Math.sqrt(x + 1);
      this._w = 0.25 / w, this._x = (v - p) * w, this._y = (l - g) * w, this._z = (h - o) * w;
    } else if (r > d && r > y) {
      const w = 2 * Math.sqrt(1 + r - d - y);
      this._w = (v - p) / w, this._x = 0.25 * w, this._y = (o + h) / w, this._z = (l + g) / w;
    } else if (d > y) {
      const w = 2 * Math.sqrt(1 + d - r - y);
      this._w = (l - g) / w, this._x = (o + h) / w, this._y = 0.25 * w, this._z = (p + v) / w;
    } else {
      const w = 2 * Math.sqrt(1 + y - r - d);
      this._w = (h - o) / w, this._x = (l + g) / w, this._y = (p + v) / w, this._z = 0.25 * w;
    }
    return this._onChangeCallback(), this;
  }
  setFromUnitVectors(e, n) {
    let r = e.dot(n) + 1;
    return r < Number.EPSILON ? (r = 0, Math.abs(e.x) > Math.abs(e.z) ? (this._x = -e.y, this._y = e.x, this._z = 0, this._w = r) : (this._x = 0, this._y = -e.z, this._z = e.y, this._w = r)) : (this._x = e.y * n.z - e.z * n.y, this._y = e.z * n.x - e.x * n.z, this._z = e.x * n.y - e.y * n.x, this._w = r), this.normalize();
  }
  angleTo(e) {
    return 2 * Math.acos(Math.abs(ai(this.dot(e), -1, 1)));
  }
  rotateTowards(e, n) {
    const r = this.angleTo(e);
    if (r === 0)
      return this;
    const o = Math.min(1, n / r);
    return this.slerp(e, o), this;
  }
  identity() {
    return this.set(0, 0, 0, 1);
  }
  invert() {
    return this.conjugate();
  }
  conjugate() {
    return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this;
  }
  dot(e) {
    return this._x * e._x + this._y * e._y + this._z * e._z + this._w * e._w;
  }
  lengthSq() {
    return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;
  }
  length() {
    return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);
  }
  normalize() {
    let e = this.length();
    return e === 0 ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (e = 1 / e, this._x = this._x * e, this._y = this._y * e, this._z = this._z * e, this._w = this._w * e), this._onChangeCallback(), this;
  }
  multiply(e) {
    return this.multiplyQuaternions(this, e);
  }
  premultiply(e) {
    return this.multiplyQuaternions(e, this);
  }
  multiplyQuaternions(e, n) {
    const r = e._x, o = e._y, l = e._z, h = e._w, d = n._x, p = n._y, g = n._z, v = n._w;
    return this._x = r * v + h * d + o * g - l * p, this._y = o * v + h * p + l * d - r * g, this._z = l * v + h * g + r * p - o * d, this._w = h * v - r * d - o * p - l * g, this._onChangeCallback(), this;
  }
  slerp(e, n) {
    if (n === 0)
      return this;
    if (n === 1)
      return this.copy(e);
    const r = this._x, o = this._y, l = this._z, h = this._w;
    let d = h * e._w + r * e._x + o * e._y + l * e._z;
    if (d < 0 ? (this._w = -e._w, this._x = -e._x, this._y = -e._y, this._z = -e._z, d = -d) : this.copy(e), d >= 1)
      return this._w = h, this._x = r, this._y = o, this._z = l, this;
    const p = 1 - d * d;
    if (p <= Number.EPSILON) {
      const w = 1 - n;
      return this._w = w * h + n * this._w, this._x = w * r + n * this._x, this._y = w * o + n * this._y, this._z = w * l + n * this._z, this.normalize(), this;
    }
    const g = Math.sqrt(p), v = Math.atan2(g, d), y = Math.sin((1 - n) * v) / g, x = Math.sin(n * v) / g;
    return this._w = h * y + this._w * x, this._x = r * y + this._x * x, this._y = o * y + this._y * x, this._z = l * y + this._z * x, this._onChangeCallback(), this;
  }
  slerpQuaternions(e, n, r) {
    return this.copy(e).slerp(n, r);
  }
  random() {
    const e = 2 * Math.PI * Math.random(), n = 2 * Math.PI * Math.random(), r = Math.random(), o = Math.sqrt(1 - r), l = Math.sqrt(r);
    return this.set(
      o * Math.sin(e),
      o * Math.cos(e),
      l * Math.sin(n),
      l * Math.cos(n)
    );
  }
  equals(e) {
    return e._x === this._x && e._y === this._y && e._z === this._z && e._w === this._w;
  }
  fromArray(e, n = 0) {
    return this._x = e[n], this._y = e[n + 1], this._z = e[n + 2], this._w = e[n + 3], this._onChangeCallback(), this;
  }
  toArray(e = [], n = 0) {
    return e[n] = this._x, e[n + 1] = this._y, e[n + 2] = this._z, e[n + 3] = this._w, e;
  }
  fromBufferAttribute(e, n) {
    return this._x = e.getX(n), this._y = e.getY(n), this._z = e.getZ(n), this._w = e.getW(n), this._onChangeCallback(), this;
  }
  toJSON() {
    return this.toArray();
  }
  _onChange(e) {
    return this._onChangeCallback = e, this;
  }
  _onChangeCallback() {
  }
  *[Symbol.iterator]() {
    yield this._x, yield this._y, yield this._z, yield this._w;
  }
}
class Re {
  constructor(e = 0, n = 0, r = 0) {
    Re.prototype.isVector3 = !0, this.x = e, this.y = n, this.z = r;
  }
  set(e, n, r) {
    return r === void 0 && (r = this.z), this.x = e, this.y = n, this.z = r, this;
  }
  setScalar(e) {
    return this.x = e, this.y = e, this.z = e, this;
  }
  setX(e) {
    return this.x = e, this;
  }
  setY(e) {
    return this.y = e, this;
  }
  setZ(e) {
    return this.z = e, this;
  }
  setComponent(e, n) {
    switch (e) {
      case 0:
        this.x = n;
        break;
      case 1:
        this.y = n;
        break;
      case 2:
        this.z = n;
        break;
      default:
        throw new Error("index is out of range: " + e);
    }
    return this;
  }
  getComponent(e) {
    switch (e) {
      case 0:
        return this.x;
      case 1:
        return this.y;
      case 2:
        return this.z;
      default:
        throw new Error("index is out of range: " + e);
    }
  }
  clone() {
    return new this.constructor(this.x, this.y, this.z);
  }
  copy(e) {
    return this.x = e.x, this.y = e.y, this.z = e.z, this;
  }
  add(e) {
    return this.x += e.x, this.y += e.y, this.z += e.z, this;
  }
  addScalar(e) {
    return this.x += e, this.y += e, this.z += e, this;
  }
  addVectors(e, n) {
    return this.x = e.x + n.x, this.y = e.y + n.y, this.z = e.z + n.z, this;
  }
  addScaledVector(e, n) {
    return this.x += e.x * n, this.y += e.y * n, this.z += e.z * n, this;
  }
  sub(e) {
    return this.x -= e.x, this.y -= e.y, this.z -= e.z, this;
  }
  subScalar(e) {
    return this.x -= e, this.y -= e, this.z -= e, this;
  }
  subVectors(e, n) {
    return this.x = e.x - n.x, this.y = e.y - n.y, this.z = e.z - n.z, this;
  }
  multiply(e) {
    return this.x *= e.x, this.y *= e.y, this.z *= e.z, this;
  }
  multiplyScalar(e) {
    return this.x *= e, this.y *= e, this.z *= e, this;
  }
  multiplyVectors(e, n) {
    return this.x = e.x * n.x, this.y = e.y * n.y, this.z = e.z * n.z, this;
  }
  applyEuler(e) {
    return this.applyQuaternion(rS.setFromEuler(e));
  }
  applyAxisAngle(e, n) {
    return this.applyQuaternion(rS.setFromAxisAngle(e, n));
  }
  applyMatrix3(e) {
    const n = this.x, r = this.y, o = this.z, l = e.elements;
    return this.x = l[0] * n + l[3] * r + l[6] * o, this.y = l[1] * n + l[4] * r + l[7] * o, this.z = l[2] * n + l[5] * r + l[8] * o, this;
  }
  applyNormalMatrix(e) {
    return this.applyMatrix3(e).normalize();
  }
  applyMatrix4(e) {
    const n = this.x, r = this.y, o = this.z, l = e.elements, h = 1 / (l[3] * n + l[7] * r + l[11] * o + l[15]);
    return this.x = (l[0] * n + l[4] * r + l[8] * o + l[12]) * h, this.y = (l[1] * n + l[5] * r + l[9] * o + l[13]) * h, this.z = (l[2] * n + l[6] * r + l[10] * o + l[14]) * h, this;
  }
  applyQuaternion(e) {
    const n = this.x, r = this.y, o = this.z, l = e.x, h = e.y, d = e.z, p = e.w, g = 2 * (h * o - d * r), v = 2 * (d * n - l * o), y = 2 * (l * r - h * n);
    return this.x = n + p * g + h * y - d * v, this.y = r + p * v + d * g - l * y, this.z = o + p * y + l * v - h * g, this;
  }
  project(e) {
    return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix);
  }
  unproject(e) {
    return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld);
  }
  transformDirection(e) {
    const n = this.x, r = this.y, o = this.z, l = e.elements;
    return this.x = l[0] * n + l[4] * r + l[8] * o, this.y = l[1] * n + l[5] * r + l[9] * o, this.z = l[2] * n + l[6] * r + l[10] * o, this.normalize();
  }
  divide(e) {
    return this.x /= e.x, this.y /= e.y, this.z /= e.z, this;
  }
  divideScalar(e) {
    return this.multiplyScalar(1 / e);
  }
  min(e) {
    return this.x = Math.min(this.x, e.x), this.y = Math.min(this.y, e.y), this.z = Math.min(this.z, e.z), this;
  }
  max(e) {
    return this.x = Math.max(this.x, e.x), this.y = Math.max(this.y, e.y), this.z = Math.max(this.z, e.z), this;
  }
  clamp(e, n) {
    return this.x = Math.max(e.x, Math.min(n.x, this.x)), this.y = Math.max(e.y, Math.min(n.y, this.y)), this.z = Math.max(e.z, Math.min(n.z, this.z)), this;
  }
  clampScalar(e, n) {
    return this.x = Math.max(e, Math.min(n, this.x)), this.y = Math.max(e, Math.min(n, this.y)), this.z = Math.max(e, Math.min(n, this.z)), this;
  }
  clampLength(e, n) {
    const r = this.length();
    return this.divideScalar(r || 1).multiplyScalar(Math.max(e, Math.min(n, r)));
  }
  floor() {
    return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this;
  }
  ceil() {
    return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this;
  }
  round() {
    return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this;
  }
  roundToZero() {
    return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this.z = Math.trunc(this.z), this;
  }
  negate() {
    return this.x = -this.x, this.y = -this.y, this.z = -this.z, this;
  }
  dot(e) {
    return this.x * e.x + this.y * e.y + this.z * e.z;
  }
  // TODO lengthSquared?
  lengthSq() {
    return this.x * this.x + this.y * this.y + this.z * this.z;
  }
  length() {
    return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
  }
  manhattanLength() {
    return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
  }
  normalize() {
    return this.divideScalar(this.length() || 1);
  }
  setLength(e) {
    return this.normalize().multiplyScalar(e);
  }
  lerp(e, n) {
    return this.x += (e.x - this.x) * n, this.y += (e.y - this.y) * n, this.z += (e.z - this.z) * n, this;
  }
  lerpVectors(e, n, r) {
    return this.x = e.x + (n.x - e.x) * r, this.y = e.y + (n.y - e.y) * r, this.z = e.z + (n.z - e.z) * r, this;
  }
  cross(e) {
    return this.crossVectors(this, e);
  }
  crossVectors(e, n) {
    const r = e.x, o = e.y, l = e.z, h = n.x, d = n.y, p = n.z;
    return this.x = o * p - l * d, this.y = l * h - r * p, this.z = r * d - o * h, this;
  }
  projectOnVector(e) {
    const n = e.lengthSq();
    if (n === 0)
      return this.set(0, 0, 0);
    const r = e.dot(this) / n;
    return this.copy(e).multiplyScalar(r);
  }
  projectOnPlane(e) {
    return qy.copy(this).projectOnVector(e), this.sub(qy);
  }
  reflect(e) {
    return this.sub(qy.copy(e).multiplyScalar(2 * this.dot(e)));
  }
  angleTo(e) {
    const n = Math.sqrt(this.lengthSq() * e.lengthSq());
    if (n === 0)
      return Math.PI / 2;
    const r = this.dot(e) / n;
    return Math.acos(ai(r, -1, 1));
  }
  distanceTo(e) {
    return Math.sqrt(this.distanceToSquared(e));
  }
  distanceToSquared(e) {
    const n = this.x - e.x, r = this.y - e.y, o = this.z - e.z;
    return n * n + r * r + o * o;
  }
  manhattanDistanceTo(e) {
    return Math.abs(this.x - e.x) + Math.abs(this.y - e.y) + Math.abs(this.z - e.z);
  }
  setFromSpherical(e) {
    return this.setFromSphericalCoords(e.radius, e.phi, e.theta);
  }
  setFromSphericalCoords(e, n, r) {
    const o = Math.sin(n) * e;
    return this.x = o * Math.sin(r), this.y = Math.cos(n) * e, this.z = o * Math.cos(r), this;
  }
  setFromCylindrical(e) {
    return this.setFromCylindricalCoords(e.radius, e.theta, e.y);
  }
  setFromCylindricalCoords(e, n, r) {
    return this.x = e * Math.sin(n), this.y = r, this.z = e * Math.cos(n), this;
  }
  setFromMatrixPosition(e) {
    const n = e.elements;
    return this.x = n[12], this.y = n[13], this.z = n[14], this;
  }
  setFromMatrixScale(e) {
    const n = this.setFromMatrixColumn(e, 0).length(), r = this.setFromMatrixColumn(e, 1).length(), o = this.setFromMatrixColumn(e, 2).length();
    return this.x = n, this.y = r, this.z = o, this;
  }
  setFromMatrixColumn(e, n) {
    return this.fromArray(e.elements, n * 4);
  }
  setFromMatrix3Column(e, n) {
    return this.fromArray(e.elements, n * 3);
  }
  setFromEuler(e) {
    return this.x = e._x, this.y = e._y, this.z = e._z, this;
  }
  setFromColor(e) {
    return this.x = e.r, this.y = e.g, this.z = e.b, this;
  }
  equals(e) {
    return e.x === this.x && e.y === this.y && e.z === this.z;
  }
  fromArray(e, n = 0) {
    return this.x = e[n], this.y = e[n + 1], this.z = e[n + 2], this;
  }
  toArray(e = [], n = 0) {
    return e[n] = this.x, e[n + 1] = this.y, e[n + 2] = this.z, e;
  }
  fromBufferAttribute(e, n) {
    return this.x = e.getX(n), this.y = e.getY(n), this.z = e.getZ(n), this;
  }
  random() {
    return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this;
  }
  randomDirection() {
    const e = Math.random() * Math.PI * 2, n = Math.random() * 2 - 1, r = Math.sqrt(1 - n * n);
    return this.x = r * Math.cos(e), this.y = n, this.z = r * Math.sin(e), this;
  }
  *[Symbol.iterator]() {
    yield this.x, yield this.y, yield this.z;
  }
}
const qy = /* @__PURE__ */ new Re(), rS = /* @__PURE__ */ new Ml();
class bs {
  constructor(e = new Re(1 / 0, 1 / 0, 1 / 0), n = new Re(-1 / 0, -1 / 0, -1 / 0)) {
    this.isBox3 = !0, this.min = e, this.max = n;
  }
  set(e, n) {
    return this.min.copy(e), this.max.copy(n), this;
  }
  setFromArray(e) {
    this.makeEmpty();
    for (let n = 0, r = e.length; n < r; n += 3)
      this.expandByPoint(Po.fromArray(e, n));
    return this;
  }
  setFromBufferAttribute(e) {
    this.makeEmpty();
    for (let n = 0, r = e.count; n < r; n++)
      this.expandByPoint(Po.fromBufferAttribute(e, n));
    return this;
  }
  setFromPoints(e) {
    this.makeEmpty();
    for (let n = 0, r = e.length; n < r; n++)
      this.expandByPoint(e[n]);
    return this;
  }
  setFromCenterAndSize(e, n) {
    const r = Po.copy(n).multiplyScalar(0.5);
    return this.min.copy(e).sub(r), this.max.copy(e).add(r), this;
  }
  setFromObject(e, n = !1) {
    return this.makeEmpty(), this.expandByObject(e, n);
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(e) {
    return this.min.copy(e.min), this.max.copy(e.max), this;
  }
  makeEmpty() {
    return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this;
  }
  isEmpty() {
    return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;
  }
  getCenter(e) {
    return this.isEmpty() ? e.set(0, 0, 0) : e.addVectors(this.min, this.max).multiplyScalar(0.5);
  }
  getSize(e) {
    return this.isEmpty() ? e.set(0, 0, 0) : e.subVectors(this.max, this.min);
  }
  expandByPoint(e) {
    return this.min.min(e), this.max.max(e), this;
  }
  expandByVector(e) {
    return this.min.sub(e), this.max.add(e), this;
  }
  expandByScalar(e) {
    return this.min.addScalar(-e), this.max.addScalar(e), this;
  }
  expandByObject(e, n = !1) {
    e.updateWorldMatrix(!1, !1);
    const r = e.geometry;
    if (r !== void 0) {
      const l = r.getAttribute("position");
      if (n === !0 && l !== void 0 && e.isInstancedMesh !== !0)
        for (let h = 0, d = l.count; h < d; h++)
          e.isMesh === !0 ? e.getVertexPosition(h, Po) : Po.fromBufferAttribute(l, h), Po.applyMatrix4(e.matrixWorld), this.expandByPoint(Po);
      else
        e.boundingBox !== void 0 ? (e.boundingBox === null && e.computeBoundingBox(), og.copy(e.boundingBox)) : (r.boundingBox === null && r.computeBoundingBox(), og.copy(r.boundingBox)), og.applyMatrix4(e.matrixWorld), this.union(og);
    }
    const o = e.children;
    for (let l = 0, h = o.length; l < h; l++)
      this.expandByObject(o[l], n);
    return this;
  }
  containsPoint(e) {
    return !(e.x < this.min.x || e.x > this.max.x || e.y < this.min.y || e.y > this.max.y || e.z < this.min.z || e.z > this.max.z);
  }
  containsBox(e) {
    return this.min.x <= e.min.x && e.max.x <= this.max.x && this.min.y <= e.min.y && e.max.y <= this.max.y && this.min.z <= e.min.z && e.max.z <= this.max.z;
  }
  getParameter(e, n) {
    return n.set(
      (e.x - this.min.x) / (this.max.x - this.min.x),
      (e.y - this.min.y) / (this.max.y - this.min.y),
      (e.z - this.min.z) / (this.max.z - this.min.z)
    );
  }
  intersectsBox(e) {
    return !(e.max.x < this.min.x || e.min.x > this.max.x || e.max.y < this.min.y || e.min.y > this.max.y || e.max.z < this.min.z || e.min.z > this.max.z);
  }
  intersectsSphere(e) {
    return this.clampPoint(e.center, Po), Po.distanceToSquared(e.center) <= e.radius * e.radius;
  }
  intersectsPlane(e) {
    let n, r;
    return e.normal.x > 0 ? (n = e.normal.x * this.min.x, r = e.normal.x * this.max.x) : (n = e.normal.x * this.max.x, r = e.normal.x * this.min.x), e.normal.y > 0 ? (n += e.normal.y * this.min.y, r += e.normal.y * this.max.y) : (n += e.normal.y * this.max.y, r += e.normal.y * this.min.y), e.normal.z > 0 ? (n += e.normal.z * this.min.z, r += e.normal.z * this.max.z) : (n += e.normal.z * this.max.z, r += e.normal.z * this.min.z), n <= -e.constant && r >= -e.constant;
  }
  intersectsTriangle(e) {
    if (this.isEmpty())
      return !1;
    this.getCenter(Hm), ag.subVectors(this.max, Hm), Qh.subVectors(e.a, Hm), eu.subVectors(e.b, Hm), tu.subVectors(e.c, Hm), ol.subVectors(eu, Qh), al.subVectors(tu, eu), Ec.subVectors(Qh, tu);
    let n = [
      0,
      -ol.z,
      ol.y,
      0,
      -al.z,
      al.y,
      0,
      -Ec.z,
      Ec.y,
      ol.z,
      0,
      -ol.x,
      al.z,
      0,
      -al.x,
      Ec.z,
      0,
      -Ec.x,
      -ol.y,
      ol.x,
      0,
      -al.y,
      al.x,
      0,
      -Ec.y,
      Ec.x,
      0
    ];
    return !Yy(n, Qh, eu, tu, ag) || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1], !Yy(n, Qh, eu, tu, ag)) ? !1 : (sg.crossVectors(ol, al), n = [sg.x, sg.y, sg.z], Yy(n, Qh, eu, tu, ag));
  }
  clampPoint(e, n) {
    return n.copy(e).clamp(this.min, this.max);
  }
  distanceToPoint(e) {
    return this.clampPoint(e, Po).distanceTo(e);
  }
  getBoundingSphere(e) {
    return this.isEmpty() ? e.makeEmpty() : (this.getCenter(e.center), e.radius = this.getSize(Po).length() * 0.5), e;
  }
  intersect(e) {
    return this.min.max(e.min), this.max.min(e.max), this.isEmpty() && this.makeEmpty(), this;
  }
  union(e) {
    return this.min.min(e.min), this.max.max(e.max), this;
  }
  applyMatrix4(e) {
    return this.isEmpty() ? this : (ts[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), ts[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), ts[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), ts[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), ts[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), ts[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), ts[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), ts[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.setFromPoints(ts), this);
  }
  translate(e) {
    return this.min.add(e), this.max.add(e), this;
  }
  equals(e) {
    return e.min.equals(this.min) && e.max.equals(this.max);
  }
}
const ts = [
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re(),
  /* @__PURE__ */ new Re()
], Po = /* @__PURE__ */ new Re(), og = /* @__PURE__ */ new bs(), Qh = /* @__PURE__ */ new Re(), eu = /* @__PURE__ */ new Re(), tu = /* @__PURE__ */ new Re(), ol = /* @__PURE__ */ new Re(), al = /* @__PURE__ */ new Re(), Ec = /* @__PURE__ */ new Re(), Hm = /* @__PURE__ */ new Re(), ag = /* @__PURE__ */ new Re(), sg = /* @__PURE__ */ new Re(), Pc = /* @__PURE__ */ new Re();
function Yy(a, e, n, r, o) {
  for (let l = 0, h = a.length - 3; l <= h; l += 3) {
    Pc.fromArray(a, l);
    const d = o.x * Math.abs(Pc.x) + o.y * Math.abs(Pc.y) + o.z * Math.abs(Pc.z), p = e.dot(Pc), g = n.dot(Pc), v = r.dot(Pc);
    if (Math.max(-Math.max(p, g, v), Math.min(p, g, v)) > d)
      return !1;
  }
  return !0;
}
const Jse = /* @__PURE__ */ new bs(), $m = /* @__PURE__ */ new Re(), Ky = /* @__PURE__ */ new Re();
class ba {
  constructor(e = new Re(), n = -1) {
    this.isSphere = !0, this.center = e, this.radius = n;
  }
  set(e, n) {
    return this.center.copy(e), this.radius = n, this;
  }
  setFromPoints(e, n) {
    const r = this.center;
    n !== void 0 ? r.copy(n) : Jse.setFromPoints(e).getCenter(r);
    let o = 0;
    for (let l = 0, h = e.length; l < h; l++)
      o = Math.max(o, r.distanceToSquared(e[l]));
    return this.radius = Math.sqrt(o), this;
  }
  copy(e) {
    return this.center.copy(e.center), this.radius = e.radius, this;
  }
  isEmpty() {
    return this.radius < 0;
  }
  makeEmpty() {
    return this.center.set(0, 0, 0), this.radius = -1, this;
  }
  containsPoint(e) {
    return e.distanceToSquared(this.center) <= this.radius * this.radius;
  }
  distanceToPoint(e) {
    return e.distanceTo(this.center) - this.radius;
  }
  intersectsSphere(e) {
    const n = this.radius + e.radius;
    return e.center.distanceToSquared(this.center) <= n * n;
  }
  intersectsBox(e) {
    return e.intersectsSphere(this);
  }
  intersectsPlane(e) {
    return Math.abs(e.distanceToPoint(this.center)) <= this.radius;
  }
  clampPoint(e, n) {
    const r = this.center.distanceToSquared(e);
    return n.copy(e), r > this.radius * this.radius && (n.sub(this.center).normalize(), n.multiplyScalar(this.radius).add(this.center)), n;
  }
  getBoundingBox(e) {
    return this.isEmpty() ? (e.makeEmpty(), e) : (e.set(this.center, this.center), e.expandByScalar(this.radius), e);
  }
  applyMatrix4(e) {
    return this.center.applyMatrix4(e), this.radius = this.radius * e.getMaxScaleOnAxis(), this;
  }
  translate(e) {
    return this.center.add(e), this;
  }
  expandByPoint(e) {
    if (this.isEmpty())
      return this.center.copy(e), this.radius = 0, this;
    $m.subVectors(e, this.center);
    const n = $m.lengthSq();
    if (n > this.radius * this.radius) {
      const r = Math.sqrt(n), o = (r - this.radius) * 0.5;
      this.center.addScaledVector($m, o / r), this.radius += o;
    }
    return this;
  }
  union(e) {
    return e.isEmpty() ? this : this.isEmpty() ? (this.copy(e), this) : (this.center.equals(e.center) === !0 ? this.radius = Math.max(this.radius, e.radius) : (Ky.subVectors(e.center, this.center).setLength(e.radius), this.expandByPoint($m.copy(e.center).add(Ky)), this.expandByPoint($m.copy(e.center).sub(Ky))), this);
  }
  equals(e) {
    return e.center.equals(this.center) && e.radius === this.radius;
  }
  clone() {
    return new this.constructor().copy(this);
  }
}
const ns = /* @__PURE__ */ new Re(), Zy = /* @__PURE__ */ new Re(), lg = /* @__PURE__ */ new Re(), sl = /* @__PURE__ */ new Re(), Jy = /* @__PURE__ */ new Re(), cg = /* @__PURE__ */ new Re(), Qy = /* @__PURE__ */ new Re();
class B0 {
  constructor(e = new Re(), n = new Re(0, 0, -1)) {
    this.origin = e, this.direction = n;
  }
  set(e, n) {
    return this.origin.copy(e), this.direction.copy(n), this;
  }
  copy(e) {
    return this.origin.copy(e.origin), this.direction.copy(e.direction), this;
  }
  at(e, n) {
    return n.copy(this.origin).addScaledVector(this.direction, e);
  }
  lookAt(e) {
    return this.direction.copy(e).sub(this.origin).normalize(), this;
  }
  recast(e) {
    return this.origin.copy(this.at(e, ns)), this;
  }
  closestPointToPoint(e, n) {
    n.subVectors(e, this.origin);
    const r = n.dot(this.direction);
    return r < 0 ? n.copy(this.origin) : n.copy(this.origin).addScaledVector(this.direction, r);
  }
  distanceToPoint(e) {
    return Math.sqrt(this.distanceSqToPoint(e));
  }
  distanceSqToPoint(e) {
    const n = ns.subVectors(e, this.origin).dot(this.direction);
    return n < 0 ? this.origin.distanceToSquared(e) : (ns.copy(this.origin).addScaledVector(this.direction, n), ns.distanceToSquared(e));
  }
  distanceSqToSegment(e, n, r, o) {
    Zy.copy(e).add(n).multiplyScalar(0.5), lg.copy(n).sub(e).normalize(), sl.copy(this.origin).sub(Zy);
    const l = e.distanceTo(n) * 0.5, h = -this.direction.dot(lg), d = sl.dot(this.direction), p = -sl.dot(lg), g = sl.lengthSq(), v = Math.abs(1 - h * h);
    let y, x, w, T;
    if (v > 0)
      if (y = h * p - d, x = h * d - p, T = l * v, y >= 0)
        if (x >= -T)
          if (x <= T) {
            const M = 1 / v;
            y *= M, x *= M, w = y * (y + h * x + 2 * d) + x * (h * y + x + 2 * p) + g;
          } else
            x = l, y = Math.max(0, -(h * x + d)), w = -y * y + x * (x + 2 * p) + g;
        else
          x = -l, y = Math.max(0, -(h * x + d)), w = -y * y + x * (x + 2 * p) + g;
      else
        x <= -T ? (y = Math.max(0, -(-h * l + d)), x = y > 0 ? -l : Math.min(Math.max(-l, -p), l), w = -y * y + x * (x + 2 * p) + g) : x <= T ? (y = 0, x = Math.min(Math.max(-l, -p), l), w = x * (x + 2 * p) + g) : (y = Math.max(0, -(h * l + d)), x = y > 0 ? l : Math.min(Math.max(-l, -p), l), w = -y * y + x * (x + 2 * p) + g);
    else
      x = h > 0 ? -l : l, y = Math.max(0, -(h * x + d)), w = -y * y + x * (x + 2 * p) + g;
    return r && r.copy(this.origin).addScaledVector(this.direction, y), o && o.copy(Zy).addScaledVector(lg, x), w;
  }
  intersectSphere(e, n) {
    ns.subVectors(e.center, this.origin);
    const r = ns.dot(this.direction), o = ns.dot(ns) - r * r, l = e.radius * e.radius;
    if (o > l)
      return null;
    const h = Math.sqrt(l - o), d = r - h, p = r + h;
    return p < 0 ? null : d < 0 ? this.at(p, n) : this.at(d, n);
  }
  intersectsSphere(e) {
    return this.distanceSqToPoint(e.center) <= e.radius * e.radius;
  }
  distanceToPlane(e) {
    const n = e.normal.dot(this.direction);
    if (n === 0)
      return e.distanceToPoint(this.origin) === 0 ? 0 : null;
    const r = -(this.origin.dot(e.normal) + e.constant) / n;
    return r >= 0 ? r : null;
  }
  intersectPlane(e, n) {
    const r = this.distanceToPlane(e);
    return r === null ? null : this.at(r, n);
  }
  intersectsPlane(e) {
    const n = e.distanceToPoint(this.origin);
    return n === 0 || e.normal.dot(this.direction) * n < 0;
  }
  intersectBox(e, n) {
    let r, o, l, h, d, p;
    const g = 1 / this.direction.x, v = 1 / this.direction.y, y = 1 / this.direction.z, x = this.origin;
    return g >= 0 ? (r = (e.min.x - x.x) * g, o = (e.max.x - x.x) * g) : (r = (e.max.x - x.x) * g, o = (e.min.x - x.x) * g), v >= 0 ? (l = (e.min.y - x.y) * v, h = (e.max.y - x.y) * v) : (l = (e.max.y - x.y) * v, h = (e.min.y - x.y) * v), r > h || l > o || ((l > r || isNaN(r)) && (r = l), (h < o || isNaN(o)) && (o = h), y >= 0 ? (d = (e.min.z - x.z) * y, p = (e.max.z - x.z) * y) : (d = (e.max.z - x.z) * y, p = (e.min.z - x.z) * y), r > p || d > o) || ((d > r || r !== r) && (r = d), (p < o || o !== o) && (o = p), o < 0) ? null : this.at(r >= 0 ? r : o, n);
  }
  intersectsBox(e) {
    return this.intersectBox(e, ns) !== null;
  }
  intersectTriangle(e, n, r, o, l) {
    Jy.subVectors(n, e), cg.subVectors(r, e), Qy.crossVectors(Jy, cg);
    let h = this.direction.dot(Qy), d;
    if (h > 0) {
      if (o)
        return null;
      d = 1;
    } else if (h < 0)
      d = -1, h = -h;
    else
      return null;
    sl.subVectors(this.origin, e);
    const p = d * this.direction.dot(cg.crossVectors(sl, cg));
    if (p < 0)
      return null;
    const g = d * this.direction.dot(Jy.cross(sl));
    if (g < 0 || p + g > h)
      return null;
    const v = -d * sl.dot(Qy);
    return v < 0 ? null : this.at(v / h, l);
  }
  applyMatrix4(e) {
    return this.origin.applyMatrix4(e), this.direction.transformDirection(e), this;
  }
  equals(e) {
    return e.origin.equals(this.origin) && e.direction.equals(this.direction);
  }
  clone() {
    return new this.constructor().copy(this);
  }
}
class In {
  constructor(e, n, r, o, l, h, d, p, g, v, y, x, w, T, M, S) {
    In.prototype.isMatrix4 = !0, this.elements = [
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ], e !== void 0 && this.set(e, n, r, o, l, h, d, p, g, v, y, x, w, T, M, S);
  }
  set(e, n, r, o, l, h, d, p, g, v, y, x, w, T, M, S) {
    const L = this.elements;
    return L[0] = e, L[4] = n, L[8] = r, L[12] = o, L[1] = l, L[5] = h, L[9] = d, L[13] = p, L[2] = g, L[6] = v, L[10] = y, L[14] = x, L[3] = w, L[7] = T, L[11] = M, L[15] = S, this;
  }
  identity() {
    return this.set(
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  clone() {
    return new In().fromArray(this.elements);
  }
  copy(e) {
    const n = this.elements, r = e.elements;
    return n[0] = r[0], n[1] = r[1], n[2] = r[2], n[3] = r[3], n[4] = r[4], n[5] = r[5], n[6] = r[6], n[7] = r[7], n[8] = r[8], n[9] = r[9], n[10] = r[10], n[11] = r[11], n[12] = r[12], n[13] = r[13], n[14] = r[14], n[15] = r[15], this;
  }
  copyPosition(e) {
    const n = this.elements, r = e.elements;
    return n[12] = r[12], n[13] = r[13], n[14] = r[14], this;
  }
  setFromMatrix3(e) {
    const n = e.elements;
    return this.set(
      n[0],
      n[3],
      n[6],
      0,
      n[1],
      n[4],
      n[7],
      0,
      n[2],
      n[5],
      n[8],
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  extractBasis(e, n, r) {
    return e.setFromMatrixColumn(this, 0), n.setFromMatrixColumn(this, 1), r.setFromMatrixColumn(this, 2), this;
  }
  makeBasis(e, n, r) {
    return this.set(
      e.x,
      n.x,
      r.x,
      0,
      e.y,
      n.y,
      r.y,
      0,
      e.z,
      n.z,
      r.z,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  extractRotation(e) {
    const n = this.elements, r = e.elements, o = 1 / nu.setFromMatrixColumn(e, 0).length(), l = 1 / nu.setFromMatrixColumn(e, 1).length(), h = 1 / nu.setFromMatrixColumn(e, 2).length();
    return n[0] = r[0] * o, n[1] = r[1] * o, n[2] = r[2] * o, n[3] = 0, n[4] = r[4] * l, n[5] = r[5] * l, n[6] = r[6] * l, n[7] = 0, n[8] = r[8] * h, n[9] = r[9] * h, n[10] = r[10] * h, n[11] = 0, n[12] = 0, n[13] = 0, n[14] = 0, n[15] = 1, this;
  }
  makeRotationFromEuler(e) {
    const n = this.elements, r = e.x, o = e.y, l = e.z, h = Math.cos(r), d = Math.sin(r), p = Math.cos(o), g = Math.sin(o), v = Math.cos(l), y = Math.sin(l);
    if (e.order === "XYZ") {
      const x = h * v, w = h * y, T = d * v, M = d * y;
      n[0] = p * v, n[4] = -p * y, n[8] = g, n[1] = w + T * g, n[5] = x - M * g, n[9] = -d * p, n[2] = M - x * g, n[6] = T + w * g, n[10] = h * p;
    } else if (e.order === "YXZ") {
      const x = p * v, w = p * y, T = g * v, M = g * y;
      n[0] = x + M * d, n[4] = T * d - w, n[8] = h * g, n[1] = h * y, n[5] = h * v, n[9] = -d, n[2] = w * d - T, n[6] = M + x * d, n[10] = h * p;
    } else if (e.order === "ZXY") {
      const x = p * v, w = p * y, T = g * v, M = g * y;
      n[0] = x - M * d, n[4] = -h * y, n[8] = T + w * d, n[1] = w + T * d, n[5] = h * v, n[9] = M - x * d, n[2] = -h * g, n[6] = d, n[10] = h * p;
    } else if (e.order === "ZYX") {
      const x = h * v, w = h * y, T = d * v, M = d * y;
      n[0] = p * v, n[4] = T * g - w, n[8] = x * g + M, n[1] = p * y, n[5] = M * g + x, n[9] = w * g - T, n[2] = -g, n[6] = d * p, n[10] = h * p;
    } else if (e.order === "YZX") {
      const x = h * p, w = h * g, T = d * p, M = d * g;
      n[0] = p * v, n[4] = M - x * y, n[8] = T * y + w, n[1] = y, n[5] = h * v, n[9] = -d * v, n[2] = -g * v, n[6] = w * y + T, n[10] = x - M * y;
    } else if (e.order === "XZY") {
      const x = h * p, w = h * g, T = d * p, M = d * g;
      n[0] = p * v, n[4] = -y, n[8] = g * v, n[1] = x * y + M, n[5] = h * v, n[9] = w * y - T, n[2] = T * y - w, n[6] = d * v, n[10] = M * y + x;
    }
    return n[3] = 0, n[7] = 0, n[11] = 0, n[12] = 0, n[13] = 0, n[14] = 0, n[15] = 1, this;
  }
  makeRotationFromQuaternion(e) {
    return this.compose(Qse, e, ele);
  }
  lookAt(e, n, r) {
    const o = this.elements;
    return Fi.subVectors(e, n), Fi.lengthSq() === 0 && (Fi.z = 1), Fi.normalize(), ll.crossVectors(r, Fi), ll.lengthSq() === 0 && (Math.abs(r.z) === 1 ? Fi.x += 1e-4 : Fi.z += 1e-4, Fi.normalize(), ll.crossVectors(r, Fi)), ll.normalize(), hg.crossVectors(Fi, ll), o[0] = ll.x, o[4] = hg.x, o[8] = Fi.x, o[1] = ll.y, o[5] = hg.y, o[9] = Fi.y, o[2] = ll.z, o[6] = hg.z, o[10] = Fi.z, this;
  }
  multiply(e) {
    return this.multiplyMatrices(this, e);
  }
  premultiply(e) {
    return this.multiplyMatrices(e, this);
  }
  multiplyMatrices(e, n) {
    const r = e.elements, o = n.elements, l = this.elements, h = r[0], d = r[4], p = r[8], g = r[12], v = r[1], y = r[5], x = r[9], w = r[13], T = r[2], M = r[6], S = r[10], L = r[14], F = r[3], G = r[7], $ = r[11], K = r[15], q = o[0], he = o[4], ae = o[8], ve = o[12], ne = o[1], se = o[5], oe = o[9], J = o[13], pe = o[2], be = o[6], fe = o[10], de = o[14], Fe = o[3], Be = o[7], _e = o[11], Xe = o[15];
    return l[0] = h * q + d * ne + p * pe + g * Fe, l[4] = h * he + d * se + p * be + g * Be, l[8] = h * ae + d * oe + p * fe + g * _e, l[12] = h * ve + d * J + p * de + g * Xe, l[1] = v * q + y * ne + x * pe + w * Fe, l[5] = v * he + y * se + x * be + w * Be, l[9] = v * ae + y * oe + x * fe + w * _e, l[13] = v * ve + y * J + x * de + w * Xe, l[2] = T * q + M * ne + S * pe + L * Fe, l[6] = T * he + M * se + S * be + L * Be, l[10] = T * ae + M * oe + S * fe + L * _e, l[14] = T * ve + M * J + S * de + L * Xe, l[3] = F * q + G * ne + $ * pe + K * Fe, l[7] = F * he + G * se + $ * be + K * Be, l[11] = F * ae + G * oe + $ * fe + K * _e, l[15] = F * ve + G * J + $ * de + K * Xe, this;
  }
  multiplyScalar(e) {
    const n = this.elements;
    return n[0] *= e, n[4] *= e, n[8] *= e, n[12] *= e, n[1] *= e, n[5] *= e, n[9] *= e, n[13] *= e, n[2] *= e, n[6] *= e, n[10] *= e, n[14] *= e, n[3] *= e, n[7] *= e, n[11] *= e, n[15] *= e, this;
  }
  determinant() {
    const e = this.elements, n = e[0], r = e[4], o = e[8], l = e[12], h = e[1], d = e[5], p = e[9], g = e[13], v = e[2], y = e[6], x = e[10], w = e[14], T = e[3], M = e[7], S = e[11], L = e[15];
    return T * (+l * p * y - o * g * y - l * d * x + r * g * x + o * d * w - r * p * w) + M * (+n * p * w - n * g * x + l * h * x - o * h * w + o * g * v - l * p * v) + S * (+n * g * y - n * d * w - l * h * y + r * h * w + l * d * v - r * g * v) + L * (-o * d * v - n * p * y + n * d * x + o * h * y - r * h * x + r * p * v);
  }
  transpose() {
    const e = this.elements;
    let n;
    return n = e[1], e[1] = e[4], e[4] = n, n = e[2], e[2] = e[8], e[8] = n, n = e[6], e[6] = e[9], e[9] = n, n = e[3], e[3] = e[12], e[12] = n, n = e[7], e[7] = e[13], e[13] = n, n = e[11], e[11] = e[14], e[14] = n, this;
  }
  setPosition(e, n, r) {
    const o = this.elements;
    return e.isVector3 ? (o[12] = e.x, o[13] = e.y, o[14] = e.z) : (o[12] = e, o[13] = n, o[14] = r), this;
  }
  invert() {
    const e = this.elements, n = e[0], r = e[1], o = e[2], l = e[3], h = e[4], d = e[5], p = e[6], g = e[7], v = e[8], y = e[9], x = e[10], w = e[11], T = e[12], M = e[13], S = e[14], L = e[15], F = y * S * g - M * x * g + M * p * w - d * S * w - y * p * L + d * x * L, G = T * x * g - v * S * g - T * p * w + h * S * w + v * p * L - h * x * L, $ = v * M * g - T * y * g + T * d * w - h * M * w - v * d * L + h * y * L, K = T * y * p - v * M * p - T * d * x + h * M * x + v * d * S - h * y * S, q = n * F + r * G + o * $ + l * K;
    if (q === 0)
      return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    const he = 1 / q;
    return e[0] = F * he, e[1] = (M * x * l - y * S * l - M * o * w + r * S * w + y * o * L - r * x * L) * he, e[2] = (d * S * l - M * p * l + M * o * g - r * S * g - d * o * L + r * p * L) * he, e[3] = (y * p * l - d * x * l - y * o * g + r * x * g + d * o * w - r * p * w) * he, e[4] = G * he, e[5] = (v * S * l - T * x * l + T * o * w - n * S * w - v * o * L + n * x * L) * he, e[6] = (T * p * l - h * S * l - T * o * g + n * S * g + h * o * L - n * p * L) * he, e[7] = (h * x * l - v * p * l + v * o * g - n * x * g - h * o * w + n * p * w) * he, e[8] = $ * he, e[9] = (T * y * l - v * M * l - T * r * w + n * M * w + v * r * L - n * y * L) * he, e[10] = (h * M * l - T * d * l + T * r * g - n * M * g - h * r * L + n * d * L) * he, e[11] = (v * d * l - h * y * l - v * r * g + n * y * g + h * r * w - n * d * w) * he, e[12] = K * he, e[13] = (v * M * o - T * y * o + T * r * x - n * M * x - v * r * S + n * y * S) * he, e[14] = (T * d * o - h * M * o - T * r * p + n * M * p + h * r * S - n * d * S) * he, e[15] = (h * y * o - v * d * o + v * r * p - n * y * p - h * r * x + n * d * x) * he, this;
  }
  scale(e) {
    const n = this.elements, r = e.x, o = e.y, l = e.z;
    return n[0] *= r, n[4] *= o, n[8] *= l, n[1] *= r, n[5] *= o, n[9] *= l, n[2] *= r, n[6] *= o, n[10] *= l, n[3] *= r, n[7] *= o, n[11] *= l, this;
  }
  getMaxScaleOnAxis() {
    const e = this.elements, n = e[0] * e[0] + e[1] * e[1] + e[2] * e[2], r = e[4] * e[4] + e[5] * e[5] + e[6] * e[6], o = e[8] * e[8] + e[9] * e[9] + e[10] * e[10];
    return Math.sqrt(Math.max(n, r, o));
  }
  makeTranslation(e, n, r) {
    return e.isVector3 ? this.set(
      1,
      0,
      0,
      e.x,
      0,
      1,
      0,
      e.y,
      0,
      0,
      1,
      e.z,
      0,
      0,
      0,
      1
    ) : this.set(
      1,
      0,
      0,
      e,
      0,
      1,
      0,
      n,
      0,
      0,
      1,
      r,
      0,
      0,
      0,
      1
    ), this;
  }
  makeRotationX(e) {
    const n = Math.cos(e), r = Math.sin(e);
    return this.set(
      1,
      0,
      0,
      0,
      0,
      n,
      -r,
      0,
      0,
      r,
      n,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  makeRotationY(e) {
    const n = Math.cos(e), r = Math.sin(e);
    return this.set(
      n,
      0,
      r,
      0,
      0,
      1,
      0,
      0,
      -r,
      0,
      n,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  makeRotationZ(e) {
    const n = Math.cos(e), r = Math.sin(e);
    return this.set(
      n,
      -r,
      0,
      0,
      r,
      n,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  makeRotationAxis(e, n) {
    const r = Math.cos(n), o = Math.sin(n), l = 1 - r, h = e.x, d = e.y, p = e.z, g = l * h, v = l * d;
    return this.set(
      g * h + r,
      g * d - o * p,
      g * p + o * d,
      0,
      g * d + o * p,
      v * d + r,
      v * p - o * h,
      0,
      g * p - o * d,
      v * p + o * h,
      l * p * p + r,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  makeScale(e, n, r) {
    return this.set(
      e,
      0,
      0,
      0,
      0,
      n,
      0,
      0,
      0,
      0,
      r,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  makeShear(e, n, r, o, l, h) {
    return this.set(
      1,
      r,
      l,
      0,
      e,
      1,
      h,
      0,
      n,
      o,
      1,
      0,
      0,
      0,
      0,
      1
    ), this;
  }
  compose(e, n, r) {
    const o = this.elements, l = n._x, h = n._y, d = n._z, p = n._w, g = l + l, v = h + h, y = d + d, x = l * g, w = l * v, T = l * y, M = h * v, S = h * y, L = d * y, F = p * g, G = p * v, $ = p * y, K = r.x, q = r.y, he = r.z;
    return o[0] = (1 - (M + L)) * K, o[1] = (w + $) * K, o[2] = (T - G) * K, o[3] = 0, o[4] = (w - $) * q, o[5] = (1 - (x + L)) * q, o[6] = (S + F) * q, o[7] = 0, o[8] = (T + G) * he, o[9] = (S - F) * he, o[10] = (1 - (x + M)) * he, o[11] = 0, o[12] = e.x, o[13] = e.y, o[14] = e.z, o[15] = 1, this;
  }
  decompose(e, n, r) {
    const o = this.elements;
    let l = nu.set(o[0], o[1], o[2]).length();
    const h = nu.set(o[4], o[5], o[6]).length(), d = nu.set(o[8], o[9], o[10]).length();
    this.determinant() < 0 && (l = -l), e.x = o[12], e.y = o[13], e.z = o[14], Ro.copy(this);
    const g = 1 / l, v = 1 / h, y = 1 / d;
    return Ro.elements[0] *= g, Ro.elements[1] *= g, Ro.elements[2] *= g, Ro.elements[4] *= v, Ro.elements[5] *= v, Ro.elements[6] *= v, Ro.elements[8] *= y, Ro.elements[9] *= y, Ro.elements[10] *= y, n.setFromRotationMatrix(Ro), r.x = l, r.y = h, r.z = d, this;
  }
  makePerspective(e, n, r, o, l, h, d = kc) {
    const p = this.elements, g = 2 * l / (n - e), v = 2 * l / (r - o), y = (n + e) / (n - e), x = (r + o) / (r - o);
    let w, T;
    if (d === kc)
      w = -(h + l) / (h - l), T = -2 * h * l / (h - l);
    else if (d === r2)
      w = -h / (h - l), T = -h * l / (h - l);
    else
      throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: " + d);
    return p[0] = g, p[4] = 0, p[8] = y, p[12] = 0, p[1] = 0, p[5] = v, p[9] = x, p[13] = 0, p[2] = 0, p[6] = 0, p[10] = w, p[14] = T, p[3] = 0, p[7] = 0, p[11] = -1, p[15] = 0, this;
  }
  makeOrthographic(e, n, r, o, l, h, d = kc) {
    const p = this.elements, g = 1 / (n - e), v = 1 / (r - o), y = 1 / (h - l), x = (n + e) * g, w = (r + o) * v;
    let T, M;
    if (d === kc)
      T = (h + l) * y, M = -2 * y;
    else if (d === r2)
      T = l * y, M = -1 * y;
    else
      throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: " + d);
    return p[0] = 2 * g, p[4] = 0, p[8] = 0, p[12] = -x, p[1] = 0, p[5] = 2 * v, p[9] = 0, p[13] = -w, p[2] = 0, p[6] = 0, p[10] = M, p[14] = -T, p[3] = 0, p[7] = 0, p[11] = 0, p[15] = 1, this;
  }
  equals(e) {
    const n = this.elements, r = e.elements;
    for (let o = 0; o < 16; o++)
      if (n[o] !== r[o])
        return !1;
    return !0;
  }
  fromArray(e, n = 0) {
    for (let r = 0; r < 16; r++)
      this.elements[r] = e[r + n];
    return this;
  }
  toArray(e = [], n = 0) {
    const r = this.elements;
    return e[n] = r[0], e[n + 1] = r[1], e[n + 2] = r[2], e[n + 3] = r[3], e[n + 4] = r[4], e[n + 5] = r[5], e[n + 6] = r[6], e[n + 7] = r[7], e[n + 8] = r[8], e[n + 9] = r[9], e[n + 10] = r[10], e[n + 11] = r[11], e[n + 12] = r[12], e[n + 13] = r[13], e[n + 14] = r[14], e[n + 15] = r[15], e;
  }
}
const nu = /* @__PURE__ */ new Re(), Ro = /* @__PURE__ */ new In(), Qse = /* @__PURE__ */ new Re(0, 0, 0), ele = /* @__PURE__ */ new Re(1, 1, 1), ll = /* @__PURE__ */ new Re(), hg = /* @__PURE__ */ new Re(), Fi = /* @__PURE__ */ new Re(), iS = /* @__PURE__ */ new In(), oS = /* @__PURE__ */ new Ml();
class vl {
  constructor(e = 0, n = 0, r = 0, o = vl.DEFAULT_ORDER) {
    this.isEuler = !0, this._x = e, this._y = n, this._z = r, this._order = o;
  }
  get x() {
    return this._x;
  }
  set x(e) {
    this._x = e, this._onChangeCallback();
  }
  get y() {
    return this._y;
  }
  set y(e) {
    this._y = e, this._onChangeCallback();
  }
  get z() {
    return this._z;
  }
  set z(e) {
    this._z = e, this._onChangeCallback();
  }
  get order() {
    return this._order;
  }
  set order(e) {
    this._order = e, this._onChangeCallback();
  }
  set(e, n, r, o = this._order) {
    return this._x = e, this._y = n, this._z = r, this._order = o, this._onChangeCallback(), this;
  }
  clone() {
    return new this.constructor(this._x, this._y, this._z, this._order);
  }
  copy(e) {
    return this._x = e._x, this._y = e._y, this._z = e._z, this._order = e._order, this._onChangeCallback(), this;
  }
  setFromRotationMatrix(e, n = this._order, r = !0) {
    const o = e.elements, l = o[0], h = o[4], d = o[8], p = o[1], g = o[5], v = o[9], y = o[2], x = o[6], w = o[10];
    switch (n) {
      case "XYZ":
        this._y = Math.asin(ai(d, -1, 1)), Math.abs(d) < 0.9999999 ? (this._x = Math.atan2(-v, w), this._z = Math.atan2(-h, l)) : (this._x = Math.atan2(x, g), this._z = 0);
        break;
      case "YXZ":
        this._x = Math.asin(-ai(v, -1, 1)), Math.abs(v) < 0.9999999 ? (this._y = Math.atan2(d, w), this._z = Math.atan2(p, g)) : (this._y = Math.atan2(-y, l), this._z = 0);
        break;
      case "ZXY":
        this._x = Math.asin(ai(x, -1, 1)), Math.abs(x) < 0.9999999 ? (this._y = Math.atan2(-y, w), this._z = Math.atan2(-h, g)) : (this._y = 0, this._z = Math.atan2(p, l));
        break;
      case "ZYX":
        this._y = Math.asin(-ai(y, -1, 1)), Math.abs(y) < 0.9999999 ? (this._x = Math.atan2(x, w), this._z = Math.atan2(p, l)) : (this._x = 0, this._z = Math.atan2(-h, g));
        break;
      case "YZX":
        this._z = Math.asin(ai(p, -1, 1)), Math.abs(p) < 0.9999999 ? (this._x = Math.atan2(-v, g), this._y = Math.atan2(-y, l)) : (this._x = 0, this._y = Math.atan2(d, w));
        break;
      case "XZY":
        this._z = Math.asin(-ai(h, -1, 1)), Math.abs(h) < 0.9999999 ? (this._x = Math.atan2(x, g), this._y = Math.atan2(d, l)) : (this._x = Math.atan2(-v, w), this._y = 0);
        break;
      default:
        console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: " + n);
    }
    return this._order = n, r === !0 && this._onChangeCallback(), this;
  }
  setFromQuaternion(e, n, r) {
    return iS.makeRotationFromQuaternion(e), this.setFromRotationMatrix(iS, n, r);
  }
  setFromVector3(e, n = this._order) {
    return this.set(e.x, e.y, e.z, n);
  }
  reorder(e) {
    return oS.setFromEuler(this), this.setFromQuaternion(oS, e);
  }
  equals(e) {
    return e._x === this._x && e._y === this._y && e._z === this._z && e._order === this._order;
  }
  fromArray(e) {
    return this._x = e[0], this._y = e[1], this._z = e[2], e[3] !== void 0 && (this._order = e[3]), this._onChangeCallback(), this;
  }
  toArray(e = [], n = 0) {
    return e[n] = this._x, e[n + 1] = this._y, e[n + 2] = this._z, e[n + 3] = this._order, e;
  }
  _onChange(e) {
    return this._onChangeCallback = e, this;
  }
  _onChangeCallback() {
  }
  *[Symbol.iterator]() {
    yield this._x, yield this._y, yield this._z, yield this._order;
  }
}
vl.DEFAULT_ORDER = "XYZ";
class tle {
  constructor() {
    this.mask = 1;
  }
  set(e) {
    this.mask = (1 << e | 0) >>> 0;
  }
  enable(e) {
    this.mask |= 1 << e | 0;
  }
  enableAll() {
    this.mask = -1;
  }
  toggle(e) {
    this.mask ^= 1 << e | 0;
  }
  disable(e) {
    this.mask &= ~(1 << e | 0);
  }
  disableAll() {
    this.mask = 0;
  }
  test(e) {
    return (this.mask & e.mask) !== 0;
  }
  isEnabled(e) {
    return (this.mask & (1 << e | 0)) !== 0;
  }
}
let nle = 0;
const aS = /* @__PURE__ */ new Re(), ru = /* @__PURE__ */ new Ml(), rs = /* @__PURE__ */ new In(), ug = /* @__PURE__ */ new Re(), qm = /* @__PURE__ */ new Re(), rle = /* @__PURE__ */ new Re(), ile = /* @__PURE__ */ new Ml(), sS = /* @__PURE__ */ new Re(1, 0, 0), lS = /* @__PURE__ */ new Re(0, 1, 0), cS = /* @__PURE__ */ new Re(0, 0, 1), hS = { type: "added" }, ole = { type: "removed" }, iu = { type: "childadded", child: null }, ex = { type: "childremoved", child: null };
let Vr = class Og extends R0 {
  constructor() {
    super(), this.isObject3D = !0, Object.defineProperty(this, "id", { value: nle++ }), this.uuid = ko(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = Og.DEFAULT_UP.clone();
    const e = new Re(), n = new vl(), r = new Ml(), o = new Re(1, 1, 1);
    function l() {
      r.setFromEuler(n, !1);
    }
    function h() {
      n.setFromQuaternion(r, void 0, !1);
    }
    n._onChange(l), r._onChange(h), Object.defineProperties(this, {
      position: {
        configurable: !0,
        enumerable: !0,
        value: e
      },
      rotation: {
        configurable: !0,
        enumerable: !0,
        value: n
      },
      quaternion: {
        configurable: !0,
        enumerable: !0,
        value: r
      },
      scale: {
        configurable: !0,
        enumerable: !0,
        value: o
      },
      modelViewMatrix: {
        value: new In()
      },
      normalMatrix: {
        value: new gs()
      }
    }), this.matrix = new In(), this.matrixWorld = new In(), this.matrixAutoUpdate = Og.DEFAULT_MATRIX_AUTO_UPDATE, this.matrixWorldAutoUpdate = Og.DEFAULT_MATRIX_WORLD_AUTO_UPDATE, this.matrixWorldNeedsUpdate = !1, this.layers = new tle(), this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.animations = [], this.userData = {};
  }
  onBeforeShadow() {
  }
  onAfterShadow() {
  }
  onBeforeRender() {
  }
  onAfterRender() {
  }
  applyMatrix4(e) {
    this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(e), this.matrix.decompose(this.position, this.quaternion, this.scale);
  }
  applyQuaternion(e) {
    return this.quaternion.premultiply(e), this;
  }
  setRotationFromAxisAngle(e, n) {
    this.quaternion.setFromAxisAngle(e, n);
  }
  setRotationFromEuler(e) {
    this.quaternion.setFromEuler(e, !0);
  }
  setRotationFromMatrix(e) {
    this.quaternion.setFromRotationMatrix(e);
  }
  setRotationFromQuaternion(e) {
    this.quaternion.copy(e);
  }
  rotateOnAxis(e, n) {
    return ru.setFromAxisAngle(e, n), this.quaternion.multiply(ru), this;
  }
  rotateOnWorldAxis(e, n) {
    return ru.setFromAxisAngle(e, n), this.quaternion.premultiply(ru), this;
  }
  rotateX(e) {
    return this.rotateOnAxis(sS, e);
  }
  rotateY(e) {
    return this.rotateOnAxis(lS, e);
  }
  rotateZ(e) {
    return this.rotateOnAxis(cS, e);
  }
  translateOnAxis(e, n) {
    return aS.copy(e).applyQuaternion(this.quaternion), this.position.add(aS.multiplyScalar(n)), this;
  }
  translateX(e) {
    return this.translateOnAxis(sS, e);
  }
  translateY(e) {
    return this.translateOnAxis(lS, e);
  }
  translateZ(e) {
    return this.translateOnAxis(cS, e);
  }
  localToWorld(e) {
    return this.updateWorldMatrix(!0, !1), e.applyMatrix4(this.matrixWorld);
  }
  worldToLocal(e) {
    return this.updateWorldMatrix(!0, !1), e.applyMatrix4(rs.copy(this.matrixWorld).invert());
  }
  lookAt(e, n, r) {
    e.isVector3 ? ug.copy(e) : ug.set(e, n, r);
    const o = this.parent;
    this.updateWorldMatrix(!0, !1), qm.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? rs.lookAt(qm, ug, this.up) : rs.lookAt(ug, qm, this.up), this.quaternion.setFromRotationMatrix(rs), o && (rs.extractRotation(o.matrixWorld), ru.setFromRotationMatrix(rs), this.quaternion.premultiply(ru.invert()));
  }
  add(e) {
    if (arguments.length > 1) {
      for (let n = 0; n < arguments.length; n++)
        this.add(arguments[n]);
      return this;
    }
    return e === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", e), this) : (e && e.isObject3D ? (e.removeFromParent(), e.parent = this, this.children.push(e), e.dispatchEvent(hS), iu.child = e, this.dispatchEvent(iu), iu.child = null) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", e), this);
  }
  remove(e) {
    if (arguments.length > 1) {
      for (let r = 0; r < arguments.length; r++)
        this.remove(arguments[r]);
      return this;
    }
    const n = this.children.indexOf(e);
    return n !== -1 && (e.parent = null, this.children.splice(n, 1), e.dispatchEvent(ole), ex.child = e, this.dispatchEvent(ex), ex.child = null), this;
  }
  removeFromParent() {
    const e = this.parent;
    return e !== null && e.remove(this), this;
  }
  clear() {
    return this.remove(...this.children);
  }
  attach(e) {
    return this.updateWorldMatrix(!0, !1), rs.copy(this.matrixWorld).invert(), e.parent !== null && (e.parent.updateWorldMatrix(!0, !1), rs.multiply(e.parent.matrixWorld)), e.applyMatrix4(rs), e.removeFromParent(), e.parent = this, this.children.push(e), e.updateWorldMatrix(!1, !0), e.dispatchEvent(hS), iu.child = e, this.dispatchEvent(iu), iu.child = null, this;
  }
  getObjectById(e) {
    return this.getObjectByProperty("id", e);
  }
  getObjectByName(e) {
    return this.getObjectByProperty("name", e);
  }
  getObjectByProperty(e, n) {
    if (this[e] === n)
      return this;
    for (let r = 0, o = this.children.length; r < o; r++) {
      const h = this.children[r].getObjectByProperty(e, n);
      if (h !== void 0)
        return h;
    }
  }
  getObjectsByProperty(e, n, r = []) {
    this[e] === n && r.push(this);
    const o = this.children;
    for (let l = 0, h = o.length; l < h; l++)
      o[l].getObjectsByProperty(e, n, r);
    return r;
  }
  getWorldPosition(e) {
    return this.updateWorldMatrix(!0, !1), e.setFromMatrixPosition(this.matrixWorld);
  }
  getWorldQuaternion(e) {
    return this.updateWorldMatrix(!0, !1), this.matrixWorld.decompose(qm, e, rle), e;
  }
  getWorldScale(e) {
    return this.updateWorldMatrix(!0, !1), this.matrixWorld.decompose(qm, ile, e), e;
  }
  getWorldDirection(e) {
    this.updateWorldMatrix(!0, !1);
    const n = this.matrixWorld.elements;
    return e.set(n[8], n[9], n[10]).normalize();
  }
  raycast() {
  }
  traverse(e) {
    e(this);
    const n = this.children;
    for (let r = 0, o = n.length; r < o; r++)
      n[r].traverse(e);
  }
  traverseVisible(e) {
    if (this.visible === !1)
      return;
    e(this);
    const n = this.children;
    for (let r = 0, o = n.length; r < o; r++)
      n[r].traverseVisible(e);
  }
  traverseAncestors(e) {
    const n = this.parent;
    n !== null && (e(n), n.traverseAncestors(e));
  }
  updateMatrix() {
    this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0;
  }
  updateMatrixWorld(e) {
    this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || e) && (this.parent === null ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, e = !0);
    const n = this.children;
    for (let r = 0, o = n.length; r < o; r++) {
      const l = n[r];
      (l.matrixWorldAutoUpdate === !0 || e === !0) && l.updateMatrixWorld(e);
    }
  }
  updateWorldMatrix(e, n) {
    const r = this.parent;
    if (e === !0 && r !== null && r.matrixWorldAutoUpdate === !0 && r.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), this.parent === null ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), n === !0) {
      const o = this.children;
      for (let l = 0, h = o.length; l < h; l++) {
        const d = o[l];
        d.matrixWorldAutoUpdate === !0 && d.updateWorldMatrix(!1, !0);
      }
    }
  }
  toJSON(e) {
    const n = e === void 0 || typeof e == "string", r = {};
    n && (e = {
      geometries: {},
      materials: {},
      textures: {},
      images: {},
      shapes: {},
      skeletons: {},
      animations: {},
      nodes: {}
    }, r.metadata = {
      version: 4.6,
      type: "Object",
      generator: "Object3D.toJSON"
    });
    const o = {};
    o.uuid = this.uuid, o.type = this.type, this.name !== "" && (o.name = this.name), this.castShadow === !0 && (o.castShadow = !0), this.receiveShadow === !0 && (o.receiveShadow = !0), this.visible === !1 && (o.visible = !1), this.frustumCulled === !1 && (o.frustumCulled = !1), this.renderOrder !== 0 && (o.renderOrder = this.renderOrder), Object.keys(this.userData).length > 0 && (o.userData = this.userData), o.layers = this.layers.mask, o.matrix = this.matrix.toArray(), o.up = this.up.toArray(), this.matrixAutoUpdate === !1 && (o.matrixAutoUpdate = !1), this.isInstancedMesh && (o.type = "InstancedMesh", o.count = this.count, o.instanceMatrix = this.instanceMatrix.toJSON(), this.instanceColor !== null && (o.instanceColor = this.instanceColor.toJSON())), this.isBatchedMesh && (o.type = "BatchedMesh", o.perObjectFrustumCulled = this.perObjectFrustumCulled, o.sortObjects = this.sortObjects, o.drawRanges = this._drawRanges, o.reservedRanges = this._reservedRanges, o.visibility = this._visibility, o.active = this._active, o.bounds = this._bounds.map((d) => ({
      boxInitialized: d.boxInitialized,
      boxMin: d.box.min.toArray(),
      boxMax: d.box.max.toArray(),
      sphereInitialized: d.sphereInitialized,
      sphereRadius: d.sphere.radius,
      sphereCenter: d.sphere.center.toArray()
    })), o.maxGeometryCount = this._maxGeometryCount, o.maxVertexCount = this._maxVertexCount, o.maxIndexCount = this._maxIndexCount, o.geometryInitialized = this._geometryInitialized, o.geometryCount = this._geometryCount, o.matricesTexture = this._matricesTexture.toJSON(e), this.boundingSphere !== null && (o.boundingSphere = {
      center: o.boundingSphere.center.toArray(),
      radius: o.boundingSphere.radius
    }), this.boundingBox !== null && (o.boundingBox = {
      min: o.boundingBox.min.toArray(),
      max: o.boundingBox.max.toArray()
    }));
    function l(d, p) {
      return d[p.uuid] === void 0 && (d[p.uuid] = p.toJSON(e)), p.uuid;
    }
    if (this.isScene)
      this.background && (this.background.isColor ? o.background = this.background.toJSON() : this.background.isTexture && (o.background = this.background.toJSON(e).uuid)), this.environment && this.environment.isTexture && this.environment.isRenderTargetTexture !== !0 && (o.environment = this.environment.toJSON(e).uuid);
    else if (this.isMesh || this.isLine || this.isPoints) {
      o.geometry = l(e.geometries, this.geometry);
      const d = this.geometry.parameters;
      if (d !== void 0 && d.shapes !== void 0) {
        const p = d.shapes;
        if (Array.isArray(p))
          for (let g = 0, v = p.length; g < v; g++) {
            const y = p[g];
            l(e.shapes, y);
          }
        else
          l(e.shapes, p);
      }
    }
    if (this.isSkinnedMesh && (o.bindMode = this.bindMode, o.bindMatrix = this.bindMatrix.toArray(), this.skeleton !== void 0 && (l(e.skeletons, this.skeleton), o.skeleton = this.skeleton.uuid)), this.material !== void 0)
      if (Array.isArray(this.material)) {
        const d = [];
        for (let p = 0, g = this.material.length; p < g; p++)
          d.push(l(e.materials, this.material[p]));
        o.material = d;
      } else
        o.material = l(e.materials, this.material);
    if (this.children.length > 0) {
      o.children = [];
      for (let d = 0; d < this.children.length; d++)
        o.children.push(this.children[d].toJSON(e).object);
    }
    if (this.animations.length > 0) {
      o.animations = [];
      for (let d = 0; d < this.animations.length; d++) {
        const p = this.animations[d];
        o.animations.push(l(e.animations, p));
      }
    }
    if (n) {
      const d = h(e.geometries), p = h(e.materials), g = h(e.textures), v = h(e.images), y = h(e.shapes), x = h(e.skeletons), w = h(e.animations), T = h(e.nodes);
      d.length > 0 && (r.geometries = d), p.length > 0 && (r.materials = p), g.length > 0 && (r.textures = g), v.length > 0 && (r.images = v), y.length > 0 && (r.shapes = y), x.length > 0 && (r.skeletons = x), w.length > 0 && (r.animations = w), T.length > 0 && (r.nodes = T);
    }
    return r.object = o, r;
    function h(d) {
      const p = [];
      for (const g in d) {
        const v = d[g];
        delete v.metadata, p.push(v);
      }
      return p;
    }
  }
  clone(e) {
    return new this.constructor().copy(this, e);
  }
  copy(e, n = !0) {
    if (this.name = e.name, this.up.copy(e.up), this.position.copy(e.position), this.rotation.order = e.rotation.order, this.quaternion.copy(e.quaternion), this.scale.copy(e.scale), this.matrix.copy(e.matrix), this.matrixWorld.copy(e.matrixWorld), this.matrixAutoUpdate = e.matrixAutoUpdate, this.matrixWorldAutoUpdate = e.matrixWorldAutoUpdate, this.matrixWorldNeedsUpdate = e.matrixWorldNeedsUpdate, this.layers.mask = e.layers.mask, this.visible = e.visible, this.castShadow = e.castShadow, this.receiveShadow = e.receiveShadow, this.frustumCulled = e.frustumCulled, this.renderOrder = e.renderOrder, this.animations = e.animations.slice(), this.userData = JSON.parse(JSON.stringify(e.userData)), n === !0)
      for (let r = 0; r < e.children.length; r++) {
        const o = e.children[r];
        this.add(o.clone());
      }
    return this;
  }
};
Vr.DEFAULT_UP = /* @__PURE__ */ new Re(0, 1, 0);
Vr.DEFAULT_MATRIX_AUTO_UPDATE = !0;
Vr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = !0;
const Bo = /* @__PURE__ */ new Re(), is = /* @__PURE__ */ new Re(), tx = /* @__PURE__ */ new Re(), os = /* @__PURE__ */ new Re(), ou = /* @__PURE__ */ new Re(), au = /* @__PURE__ */ new Re(), uS = /* @__PURE__ */ new Re(), nx = /* @__PURE__ */ new Re(), rx = /* @__PURE__ */ new Re(), ix = /* @__PURE__ */ new Re();
class da {
  constructor(e = new Re(), n = new Re(), r = new Re()) {
    this.a = e, this.b = n, this.c = r;
  }
  static getNormal(e, n, r, o) {
    o.subVectors(r, n), Bo.subVectors(e, n), o.cross(Bo);
    const l = o.lengthSq();
    return l > 0 ? o.multiplyScalar(1 / Math.sqrt(l)) : o.set(0, 0, 0);
  }
  // static/instance method to calculate barycentric coordinates
  // based on: http://www.blackpawn.com/texts/pointinpoly/default.html
  static getBarycoord(e, n, r, o, l) {
    Bo.subVectors(o, n), is.subVectors(r, n), tx.subVectors(e, n);
    const h = Bo.dot(Bo), d = Bo.dot(is), p = Bo.dot(tx), g = is.dot(is), v = is.dot(tx), y = h * g - d * d;
    if (y === 0)
      return l.set(0, 0, 0), null;
    const x = 1 / y, w = (g * p - d * v) * x, T = (h * v - d * p) * x;
    return l.set(1 - w - T, T, w);
  }
  static containsPoint(e, n, r, o) {
    return this.getBarycoord(e, n, r, o, os) === null ? !1 : os.x >= 0 && os.y >= 0 && os.x + os.y <= 1;
  }
  static getInterpolation(e, n, r, o, l, h, d, p) {
    return this.getBarycoord(e, n, r, o, os) === null ? (p.x = 0, p.y = 0, "z" in p && (p.z = 0), "w" in p && (p.w = 0), null) : (p.setScalar(0), p.addScaledVector(l, os.x), p.addScaledVector(h, os.y), p.addScaledVector(d, os.z), p);
  }
  static isFrontFacing(e, n, r, o) {
    return Bo.subVectors(r, n), is.subVectors(e, n), Bo.cross(is).dot(o) < 0;
  }
  set(e, n, r) {
    return this.a.copy(e), this.b.copy(n), this.c.copy(r), this;
  }
  setFromPointsAndIndices(e, n, r, o) {
    return this.a.copy(e[n]), this.b.copy(e[r]), this.c.copy(e[o]), this;
  }
  setFromAttributeAndIndices(e, n, r, o) {
    return this.a.fromBufferAttribute(e, n), this.b.fromBufferAttribute(e, r), this.c.fromBufferAttribute(e, o), this;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(e) {
    return this.a.copy(e.a), this.b.copy(e.b), this.c.copy(e.c), this;
  }
  getArea() {
    return Bo.subVectors(this.c, this.b), is.subVectors(this.a, this.b), Bo.cross(is).length() * 0.5;
  }
  getMidpoint(e) {
    return e.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);
  }
  getNormal(e) {
    return da.getNormal(this.a, this.b, this.c, e);
  }
  getPlane(e) {
    return e.setFromCoplanarPoints(this.a, this.b, this.c);
  }
  getBarycoord(e, n) {
    return da.getBarycoord(e, this.a, this.b, this.c, n);
  }
  getInterpolation(e, n, r, o, l) {
    return da.getInterpolation(e, this.a, this.b, this.c, n, r, o, l);
  }
  containsPoint(e) {
    return da.containsPoint(e, this.a, this.b, this.c);
  }
  isFrontFacing(e) {
    return da.isFrontFacing(this.a, this.b, this.c, e);
  }
  intersectsBox(e) {
    return e.intersectsTriangle(this);
  }
  closestPointToPoint(e, n) {
    const r = this.a, o = this.b, l = this.c;
    let h, d;
    ou.subVectors(o, r), au.subVectors(l, r), nx.subVectors(e, r);
    const p = ou.dot(nx), g = au.dot(nx);
    if (p <= 0 && g <= 0)
      return n.copy(r);
    rx.subVectors(e, o);
    const v = ou.dot(rx), y = au.dot(rx);
    if (v >= 0 && y <= v)
      return n.copy(o);
    const x = p * y - v * g;
    if (x <= 0 && p >= 0 && v <= 0)
      return h = p / (p - v), n.copy(r).addScaledVector(ou, h);
    ix.subVectors(e, l);
    const w = ou.dot(ix), T = au.dot(ix);
    if (T >= 0 && w <= T)
      return n.copy(l);
    const M = w * g - p * T;
    if (M <= 0 && g >= 0 && T <= 0)
      return d = g / (g - T), n.copy(r).addScaledVector(au, d);
    const S = v * T - w * y;
    if (S <= 0 && y - v >= 0 && w - T >= 0)
      return uS.subVectors(l, o), d = (y - v) / (y - v + (w - T)), n.copy(o).addScaledVector(uS, d);
    const L = 1 / (S + M + x);
    return h = M * L, d = x * L, n.copy(r).addScaledVector(ou, h).addScaledVector(au, d);
  }
  equals(e) {
    return e.a.equals(this.a) && e.b.equals(this.b) && e.c.equals(this.c);
  }
}
const ZE = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
}, cl = { h: 0, s: 0, l: 0 }, dg = { h: 0, s: 0, l: 0 };
function ox(a, e, n) {
  return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? a + (e - a) * 6 * n : n < 1 / 2 ? e : n < 2 / 3 ? a + (e - a) * 6 * (2 / 3 - n) : a;
}
class Ar {
  constructor(e, n, r) {
    return this.isColor = !0, this.r = 1, this.g = 1, this.b = 1, this.set(e, n, r);
  }
  set(e, n, r) {
    if (n === void 0 && r === void 0) {
      const o = e;
      o && o.isColor ? this.copy(o) : typeof o == "number" ? this.setHex(o) : typeof o == "string" && this.setStyle(o);
    } else
      this.setRGB(e, n, r);
    return this;
  }
  setScalar(e) {
    return this.r = e, this.g = e, this.b = e, this;
  }
  setHex(e, n = yi) {
    return e = Math.floor(e), this.r = (e >> 16 & 255) / 255, this.g = (e >> 8 & 255) / 255, this.b = (e & 255) / 255, zi.toWorkingColorSpace(this, n), this;
  }
  setRGB(e, n, r, o = zi.workingColorSpace) {
    return this.r = e, this.g = n, this.b = r, zi.toWorkingColorSpace(this, o), this;
  }
  setHSL(e, n, r, o = zi.workingColorSpace) {
    if (e = SC(e, 1), n = ai(n, 0, 1), r = ai(r, 0, 1), n === 0)
      this.r = this.g = this.b = r;
    else {
      const l = r <= 0.5 ? r * (1 + n) : r + n - r * n, h = 2 * r - l;
      this.r = ox(h, l, e + 1 / 3), this.g = ox(h, l, e), this.b = ox(h, l, e - 1 / 3);
    }
    return zi.toWorkingColorSpace(this, o), this;
  }
  setStyle(e, n = yi) {
    function r(l) {
      l !== void 0 && parseFloat(l) < 1 && console.warn("THREE.Color: Alpha component of " + e + " will be ignored.");
    }
    let o;
    if (o = /^(\w+)\(([^\)]*)\)/.exec(e)) {
      let l;
      const h = o[1], d = o[2];
      switch (h) {
        case "rgb":
        case "rgba":
          if (l = /^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))
            return r(l[4]), this.setRGB(
              Math.min(255, parseInt(l[1], 10)) / 255,
              Math.min(255, parseInt(l[2], 10)) / 255,
              Math.min(255, parseInt(l[3], 10)) / 255,
              n
            );
          if (l = /^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))
            return r(l[4]), this.setRGB(
              Math.min(100, parseInt(l[1], 10)) / 100,
              Math.min(100, parseInt(l[2], 10)) / 100,
              Math.min(100, parseInt(l[3], 10)) / 100,
              n
            );
          break;
        case "hsl":
        case "hsla":
          if (l = /^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))
            return r(l[4]), this.setHSL(
              parseFloat(l[1]) / 360,
              parseFloat(l[2]) / 100,
              parseFloat(l[3]) / 100,
              n
            );
          break;
        default:
          console.warn("THREE.Color: Unknown color model " + e);
      }
    } else if (o = /^\#([A-Fa-f\d]+)$/.exec(e)) {
      const l = o[1], h = l.length;
      if (h === 3)
        return this.setRGB(
          parseInt(l.charAt(0), 16) / 15,
          parseInt(l.charAt(1), 16) / 15,
          parseInt(l.charAt(2), 16) / 15,
          n
        );
      if (h === 6)
        return this.setHex(parseInt(l, 16), n);
      console.warn("THREE.Color: Invalid hex color " + e);
    } else if (e && e.length > 0)
      return this.setColorName(e, n);
    return this;
  }
  setColorName(e, n = yi) {
    const r = ZE[e.toLowerCase()];
    return r !== void 0 ? this.setHex(r, n) : console.warn("THREE.Color: Unknown color " + e), this;
  }
  clone() {
    return new this.constructor(this.r, this.g, this.b);
  }
  copy(e) {
    return this.r = e.r, this.g = e.g, this.b = e.b, this;
  }
  copySRGBToLinear(e) {
    return this.r = Ou(e.r), this.g = Ou(e.g), this.b = Ou(e.b), this;
  }
  copyLinearToSRGB(e) {
    return this.r = Hy(e.r), this.g = Hy(e.g), this.b = Hy(e.b), this;
  }
  convertSRGBToLinear() {
    return this.copySRGBToLinear(this), this;
  }
  convertLinearToSRGB() {
    return this.copyLinearToSRGB(this), this;
  }
  getHex(e = yi) {
    return zi.fromWorkingColorSpace(oi.copy(this), e), Math.round(ai(oi.r * 255, 0, 255)) * 65536 + Math.round(ai(oi.g * 255, 0, 255)) * 256 + Math.round(ai(oi.b * 255, 0, 255));
  }
  getHexString(e = yi) {
    return ("000000" + this.getHex(e).toString(16)).slice(-6);
  }
  getHSL(e, n = zi.workingColorSpace) {
    zi.fromWorkingColorSpace(oi.copy(this), n);
    const r = oi.r, o = oi.g, l = oi.b, h = Math.max(r, o, l), d = Math.min(r, o, l);
    let p, g;
    const v = (d + h) / 2;
    if (d === h)
      p = 0, g = 0;
    else {
      const y = h - d;
      switch (g = v <= 0.5 ? y / (h + d) : y / (2 - h - d), h) {
        case r:
          p = (o - l) / y + (o < l ? 6 : 0);
          break;
        case o:
          p = (l - r) / y + 2;
          break;
        case l:
          p = (r - o) / y + 4;
          break;
      }
      p /= 6;
    }
    return e.h = p, e.s = g, e.l = v, e;
  }
  getRGB(e, n = zi.workingColorSpace) {
    return zi.fromWorkingColorSpace(oi.copy(this), n), e.r = oi.r, e.g = oi.g, e.b = oi.b, e;
  }
  getStyle(e = yi) {
    zi.fromWorkingColorSpace(oi.copy(this), e);
    const n = oi.r, r = oi.g, o = oi.b;
    return e !== yi ? `color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})` : `rgb(${Math.round(n * 255)},${Math.round(r * 255)},${Math.round(o * 255)})`;
  }
  offsetHSL(e, n, r) {
    return this.getHSL(cl), this.setHSL(cl.h + e, cl.s + n, cl.l + r);
  }
  add(e) {
    return this.r += e.r, this.g += e.g, this.b += e.b, this;
  }
  addColors(e, n) {
    return this.r = e.r + n.r, this.g = e.g + n.g, this.b = e.b + n.b, this;
  }
  addScalar(e) {
    return this.r += e, this.g += e, this.b += e, this;
  }
  sub(e) {
    return this.r = Math.max(0, this.r - e.r), this.g = Math.max(0, this.g - e.g), this.b = Math.max(0, this.b - e.b), this;
  }
  multiply(e) {
    return this.r *= e.r, this.g *= e.g, this.b *= e.b, this;
  }
  multiplyScalar(e) {
    return this.r *= e, this.g *= e, this.b *= e, this;
  }
  lerp(e, n) {
    return this.r += (e.r - this.r) * n, this.g += (e.g - this.g) * n, this.b += (e.b - this.b) * n, this;
  }
  lerpColors(e, n, r) {
    return this.r = e.r + (n.r - e.r) * r, this.g = e.g + (n.g - e.g) * r, this.b = e.b + (n.b - e.b) * r, this;
  }
  lerpHSL(e, n) {
    this.getHSL(cl), e.getHSL(dg);
    const r = lp(cl.h, dg.h, n), o = lp(cl.s, dg.s, n), l = lp(cl.l, dg.l, n);
    return this.setHSL(r, o, l), this;
  }
  setFromVector3(e) {
    return this.r = e.x, this.g = e.y, this.b = e.z, this;
  }
  applyMatrix3(e) {
    const n = this.r, r = this.g, o = this.b, l = e.elements;
    return this.r = l[0] * n + l[3] * r + l[6] * o, this.g = l[1] * n + l[4] * r + l[7] * o, this.b = l[2] * n + l[5] * r + l[8] * o, this;
  }
  equals(e) {
    return e.r === this.r && e.g === this.g && e.b === this.b;
  }
  fromArray(e, n = 0) {
    return this.r = e[n], this.g = e[n + 1], this.b = e[n + 2], this;
  }
  toArray(e = [], n = 0) {
    return e[n] = this.r, e[n + 1] = this.g, e[n + 2] = this.b, e;
  }
  fromBufferAttribute(e, n) {
    return this.r = e.getX(n), this.g = e.getY(n), this.b = e.getZ(n), this;
  }
  toJSON() {
    return this.getHex();
  }
  *[Symbol.iterator]() {
    yield this.r, yield this.g, yield this.b;
  }
}
const oi = /* @__PURE__ */ new Ar();
Ar.NAMES = ZE;
let ale = 0;
class fl extends R0 {
  constructor() {
    super(), this.isMaterial = !0, Object.defineProperty(this, "id", { value: ale++ }), this.uuid = ko(), this.name = "", this.type = "Material", this.blending = k3, this.side = e0, this.vertexColors = !1, this.opacity = 1, this.transparent = !1, this.alphaHash = !1, this.blendSrc = z3, this.blendDst = U3, this.blendEquation = X3, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.blendColor = new Ar(0, 0, 0), this.blendAlpha = 0, this.depthFunc = G3, this.depthTest = !0, this.depthWrite = !0, this.stencilWriteMask = 255, this.stencilFunc = J3, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = Zh, this.stencilZFail = Zh, this.stencilZPass = Zh, this.stencilWrite = !1, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaToCoverage = !1, this.premultipliedAlpha = !1, this.forceSinglePass = !1, this.visible = !0, this.toneMapped = !0, this.userData = {}, this.version = 0, this._alphaTest = 0;
  }
  get alphaTest() {
    return this._alphaTest;
  }
  set alphaTest(e) {
    this._alphaTest > 0 != e > 0 && this.version++, this._alphaTest = e;
  }
  onBuild() {
  }
  onBeforeRender() {
  }
  onBeforeCompile() {
  }
  customProgramCacheKey() {
    return this.onBeforeCompile.toString();
  }
  setValues(e) {
    if (e !== void 0)
      for (const n in e) {
        const r = e[n];
        if (r === void 0) {
          console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);
          continue;
        }
        const o = this[n];
        if (o === void 0) {
          console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);
          continue;
        }
        o && o.isColor ? o.set(r) : o && o.isVector3 && r && r.isVector3 ? o.copy(r) : this[n] = r;
      }
  }
  toJSON(e) {
    const n = e === void 0 || typeof e == "string";
    n && (e = {
      textures: {},
      images: {}
    });
    const r = {
      metadata: {
        version: 4.6,
        type: "Material",
        generator: "Material.toJSON"
      }
    };
    r.uuid = this.uuid, r.type = this.type, this.name !== "" && (r.name = this.name), this.color && this.color.isColor && (r.color = this.color.getHex()), this.roughness !== void 0 && (r.roughness = this.roughness), this.metalness !== void 0 && (r.metalness = this.metalness), this.sheen !== void 0 && (r.sheen = this.sheen), this.sheenColor && this.sheenColor.isColor && (r.sheenColor = this.sheenColor.getHex()), this.sheenRoughness !== void 0 && (r.sheenRoughness = this.sheenRoughness), this.emissive && this.emissive.isColor && (r.emissive = this.emissive.getHex()), this.emissiveIntensity !== void 0 && this.emissiveIntensity !== 1 && (r.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (r.specular = this.specular.getHex()), this.specularIntensity !== void 0 && (r.specularIntensity = this.specularIntensity), this.specularColor && this.specularColor.isColor && (r.specularColor = this.specularColor.getHex()), this.shininess !== void 0 && (r.shininess = this.shininess), this.clearcoat !== void 0 && (r.clearcoat = this.clearcoat), this.clearcoatRoughness !== void 0 && (r.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatMap && this.clearcoatMap.isTexture && (r.clearcoatMap = this.clearcoatMap.toJSON(e).uuid), this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture && (r.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(e).uuid), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (r.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(e).uuid, r.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), this.dispersion !== void 0 && (r.dispersion = this.dispersion), this.iridescence !== void 0 && (r.iridescence = this.iridescence), this.iridescenceIOR !== void 0 && (r.iridescenceIOR = this.iridescenceIOR), this.iridescenceThicknessRange !== void 0 && (r.iridescenceThicknessRange = this.iridescenceThicknessRange), this.iridescenceMap && this.iridescenceMap.isTexture && (r.iridescenceMap = this.iridescenceMap.toJSON(e).uuid), this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture && (r.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON(e).uuid), this.anisotropy !== void 0 && (r.anisotropy = this.anisotropy), this.anisotropyRotation !== void 0 && (r.anisotropyRotation = this.anisotropyRotation), this.anisotropyMap && this.anisotropyMap.isTexture && (r.anisotropyMap = this.anisotropyMap.toJSON(e).uuid), this.map && this.map.isTexture && (r.map = this.map.toJSON(e).uuid), this.matcap && this.matcap.isTexture && (r.matcap = this.matcap.toJSON(e).uuid), this.alphaMap && this.alphaMap.isTexture && (r.alphaMap = this.alphaMap.toJSON(e).uuid), this.lightMap && this.lightMap.isTexture && (r.lightMap = this.lightMap.toJSON(e).uuid, r.lightMapIntensity = this.lightMapIntensity), this.aoMap && this.aoMap.isTexture && (r.aoMap = this.aoMap.toJSON(e).uuid, r.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (r.bumpMap = this.bumpMap.toJSON(e).uuid, r.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (r.normalMap = this.normalMap.toJSON(e).uuid, r.normalMapType = this.normalMapType, r.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (r.displacementMap = this.displacementMap.toJSON(e).uuid, r.displacementScale = this.displacementScale, r.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (r.roughnessMap = this.roughnessMap.toJSON(e).uuid), this.metalnessMap && this.metalnessMap.isTexture && (r.metalnessMap = this.metalnessMap.toJSON(e).uuid), this.emissiveMap && this.emissiveMap.isTexture && (r.emissiveMap = this.emissiveMap.toJSON(e).uuid), this.specularMap && this.specularMap.isTexture && (r.specularMap = this.specularMap.toJSON(e).uuid), this.specularIntensityMap && this.specularIntensityMap.isTexture && (r.specularIntensityMap = this.specularIntensityMap.toJSON(e).uuid), this.specularColorMap && this.specularColorMap.isTexture && (r.specularColorMap = this.specularColorMap.toJSON(e).uuid), this.envMap && this.envMap.isTexture && (r.envMap = this.envMap.toJSON(e).uuid, this.combine !== void 0 && (r.combine = this.combine)), this.envMapRotation !== void 0 && (r.envMapRotation = this.envMapRotation.toArray()), this.envMapIntensity !== void 0 && (r.envMapIntensity = this.envMapIntensity), this.reflectivity !== void 0 && (r.reflectivity = this.reflectivity), this.refractionRatio !== void 0 && (r.refractionRatio = this.refractionRatio), this.gradientMap && this.gradientMap.isTexture && (r.gradientMap = this.gradientMap.toJSON(e).uuid), this.transmission !== void 0 && (r.transmission = this.transmission), this.transmissionMap && this.transmissionMap.isTexture && (r.transmissionMap = this.transmissionMap.toJSON(e).uuid), this.thickness !== void 0 && (r.thickness = this.thickness), this.thicknessMap && this.thicknessMap.isTexture && (r.thicknessMap = this.thicknessMap.toJSON(e).uuid), this.attenuationDistance !== void 0 && this.attenuationDistance !== 1 / 0 && (r.attenuationDistance = this.attenuationDistance), this.attenuationColor !== void 0 && (r.attenuationColor = this.attenuationColor.getHex()), this.size !== void 0 && (r.size = this.size), this.shadowSide !== null && (r.shadowSide = this.shadowSide), this.sizeAttenuation !== void 0 && (r.sizeAttenuation = this.sizeAttenuation), this.blending !== k3 && (r.blending = this.blending), this.side !== e0 && (r.side = this.side), this.vertexColors === !0 && (r.vertexColors = !0), this.opacity < 1 && (r.opacity = this.opacity), this.transparent === !0 && (r.transparent = !0), this.blendSrc !== z3 && (r.blendSrc = this.blendSrc), this.blendDst !== U3 && (r.blendDst = this.blendDst), this.blendEquation !== X3 && (r.blendEquation = this.blendEquation), this.blendSrcAlpha !== null && (r.blendSrcAlpha = this.blendSrcAlpha), this.blendDstAlpha !== null && (r.blendDstAlpha = this.blendDstAlpha), this.blendEquationAlpha !== null && (r.blendEquationAlpha = this.blendEquationAlpha), this.blendColor && this.blendColor.isColor && (r.blendColor = this.blendColor.getHex()), this.blendAlpha !== 0 && (r.blendAlpha = this.blendAlpha), this.depthFunc !== G3 && (r.depthFunc = this.depthFunc), this.depthTest === !1 && (r.depthTest = this.depthTest), this.depthWrite === !1 && (r.depthWrite = this.depthWrite), this.colorWrite === !1 && (r.colorWrite = this.colorWrite), this.stencilWriteMask !== 255 && (r.stencilWriteMask = this.stencilWriteMask), this.stencilFunc !== J3 && (r.stencilFunc = this.stencilFunc), this.stencilRef !== 0 && (r.stencilRef = this.stencilRef), this.stencilFuncMask !== 255 && (r.stencilFuncMask = this.stencilFuncMask), this.stencilFail !== Zh && (r.stencilFail = this.stencilFail), this.stencilZFail !== Zh && (r.stencilZFail = this.stencilZFail), this.stencilZPass !== Zh && (r.stencilZPass = this.stencilZPass), this.stencilWrite === !0 && (r.stencilWrite = this.stencilWrite), this.rotation !== void 0 && this.rotation !== 0 && (r.rotation = this.rotation), this.polygonOffset === !0 && (r.polygonOffset = !0), this.polygonOffsetFactor !== 0 && (r.polygonOffsetFactor = this.polygonOffsetFactor), this.polygonOffsetUnits !== 0 && (r.polygonOffsetUnits = this.polygonOffsetUnits), this.linewidth !== void 0 && this.linewidth !== 1 && (r.linewidth = this.linewidth), this.dashSize !== void 0 && (r.dashSize = this.dashSize), this.gapSize !== void 0 && (r.gapSize = this.gapSize), this.scale !== void 0 && (r.scale = this.scale), this.dithering === !0 && (r.dithering = !0), this.alphaTest > 0 && (r.alphaTest = this.alphaTest), this.alphaHash === !0 && (r.alphaHash = !0), this.alphaToCoverage === !0 && (r.alphaToCoverage = !0), this.premultipliedAlpha === !0 && (r.premultipliedAlpha = !0), this.forceSinglePass === !0 && (r.forceSinglePass = !0), this.wireframe === !0 && (r.wireframe = !0), this.wireframeLinewidth > 1 && (r.wireframeLinewidth = this.wireframeLinewidth), this.wireframeLinecap !== "round" && (r.wireframeLinecap = this.wireframeLinecap), this.wireframeLinejoin !== "round" && (r.wireframeLinejoin = this.wireframeLinejoin), this.flatShading === !0 && (r.flatShading = !0), this.visible === !1 && (r.visible = !1), this.toneMapped === !1 && (r.toneMapped = !1), this.fog === !1 && (r.fog = !1), Object.keys(this.userData).length > 0 && (r.userData = this.userData);
    function o(l) {
      const h = [];
      for (const d in l) {
        const p = l[d];
        delete p.metadata, h.push(p);
      }
      return h;
    }
    if (n) {
      const l = o(e.textures), h = o(e.images);
      l.length > 0 && (r.textures = l), h.length > 0 && (r.images = h);
    }
    return r;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(e) {
    this.name = e.name, this.blending = e.blending, this.side = e.side, this.vertexColors = e.vertexColors, this.opacity = e.opacity, this.transparent = e.transparent, this.blendSrc = e.blendSrc, this.blendDst = e.blendDst, this.blendEquation = e.blendEquation, this.blendSrcAlpha = e.blendSrcAlpha, this.blendDstAlpha = e.blendDstAlpha, this.blendEquationAlpha = e.blendEquationAlpha, this.blendColor.copy(e.blendColor), this.blendAlpha = e.blendAlpha, this.depthFunc = e.depthFunc, this.depthTest = e.depthTest, this.depthWrite = e.depthWrite, this.stencilWriteMask = e.stencilWriteMask, this.stencilFunc = e.stencilFunc, this.stencilRef = e.stencilRef, this.stencilFuncMask = e.stencilFuncMask, this.stencilFail = e.stencilFail, this.stencilZFail = e.stencilZFail, this.stencilZPass = e.stencilZPass, this.stencilWrite = e.stencilWrite;
    const n = e.clippingPlanes;
    let r = null;
    if (n !== null) {
      const o = n.length;
      r = new Array(o);
      for (let l = 0; l !== o; ++l)
        r[l] = n[l].clone();
    }
    return this.clippingPlanes = r, this.clipIntersection = e.clipIntersection, this.clipShadows = e.clipShadows, this.shadowSide = e.shadowSide, this.colorWrite = e.colorWrite, this.precision = e.precision, this.polygonOffset = e.polygonOffset, this.polygonOffsetFactor = e.polygonOffsetFactor, this.polygonOffsetUnits = e.polygonOffsetUnits, this.dithering = e.dithering, this.alphaTest = e.alphaTest, this.alphaHash = e.alphaHash, this.alphaToCoverage = e.alphaToCoverage, this.premultipliedAlpha = e.premultipliedAlpha, this.forceSinglePass = e.forceSinglePass, this.visible = e.visible, this.toneMapped = e.toneMapped, this.userData = JSON.parse(JSON.stringify(e.userData)), this;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
  set needsUpdate(e) {
    e === !0 && this.version++;
  }
}
class Xc extends fl {
  constructor(e) {
    super(), this.isMeshBasicMaterial = !0, this.type = "MeshBasicMaterial", this.color = new Ar(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new vl(), this.combine = fse, this.reflectivity = 1, this.refractionRatio = 0.98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.fog = !0, this.setValues(e);
  }
  copy(e) {
    return super.copy(e), this.color.copy(e.color), this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.specularMap = e.specularMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.envMapRotation.copy(e.envMapRotation), this.combine = e.combine, this.reflectivity = e.reflectivity, this.refractionRatio = e.refractionRatio, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.fog = e.fog, this;
  }
}
const Ir = /* @__PURE__ */ new Re(), mg = /* @__PURE__ */ new mr();
class Ui {
  constructor(e, n, r = !1) {
    if (Array.isArray(e))
      throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
    this.isBufferAttribute = !0, this.name = "", this.array = e, this.itemSize = n, this.count = e !== void 0 ? e.length / n : 0, this.normalized = r, this.usage = n2, this._updateRange = { offset: 0, count: -1 }, this.updateRanges = [], this.gpuType = MC, this.version = 0;
  }
  onUploadCallback() {
  }
  set needsUpdate(e) {
    e === !0 && this.version++;
  }
  get updateRange() {
    return KE("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."), this._updateRange;
  }
  setUsage(e) {
    return this.usage = e, this;
  }
  addUpdateRange(e, n) {
    this.updateRanges.push({ start: e, count: n });
  }
  clearUpdateRanges() {
    this.updateRanges.length = 0;
  }
  copy(e) {
    return this.name = e.name, this.array = new e.array.constructor(e.array), this.itemSize = e.itemSize, this.count = e.count, this.normalized = e.normalized, this.usage = e.usage, this.gpuType = e.gpuType, this;
  }
  copyAt(e, n, r) {
    e *= this.itemSize, r *= n.itemSize;
    for (let o = 0, l = this.itemSize; o < l; o++)
      this.array[e + o] = n.array[r + o];
    return this;
  }
  copyArray(e) {
    return this.array.set(e), this;
  }
  applyMatrix3(e) {
    if (this.itemSize === 2)
      for (let n = 0, r = this.count; n < r; n++)
        mg.fromBufferAttribute(this, n), mg.applyMatrix3(e), this.setXY(n, mg.x, mg.y);
    else if (this.itemSize === 3)
      for (let n = 0, r = this.count; n < r; n++)
        Ir.fromBufferAttribute(this, n), Ir.applyMatrix3(e), this.setXYZ(n, Ir.x, Ir.y, Ir.z);
    return this;
  }
  applyMatrix4(e) {
    for (let n = 0, r = this.count; n < r; n++)
      Ir.fromBufferAttribute(this, n), Ir.applyMatrix4(e), this.setXYZ(n, Ir.x, Ir.y, Ir.z);
    return this;
  }
  applyNormalMatrix(e) {
    for (let n = 0, r = this.count; n < r; n++)
      Ir.fromBufferAttribute(this, n), Ir.applyNormalMatrix(e), this.setXYZ(n, Ir.x, Ir.y, Ir.z);
    return this;
  }
  transformDirection(e) {
    for (let n = 0, r = this.count; n < r; n++)
      Ir.fromBufferAttribute(this, n), Ir.transformDirection(e), this.setXYZ(n, Ir.x, Ir.y, Ir.z);
    return this;
  }
  set(e, n = 0) {
    return this.array.set(e, n), this;
  }
  getComponent(e, n) {
    let r = this.array[e * this.itemSize + n];
    return this.normalized && (r = jo(r, this.array)), r;
  }
  setComponent(e, n, r) {
    return this.normalized && (r = $n(r, this.array)), this.array[e * this.itemSize + n] = r, this;
  }
  getX(e) {
    let n = this.array[e * this.itemSize];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  setX(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.array[e * this.itemSize] = n, this;
  }
  getY(e) {
    let n = this.array[e * this.itemSize + 1];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  setY(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.array[e * this.itemSize + 1] = n, this;
  }
  getZ(e) {
    let n = this.array[e * this.itemSize + 2];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  setZ(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.array[e * this.itemSize + 2] = n, this;
  }
  getW(e) {
    let n = this.array[e * this.itemSize + 3];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  setW(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.array[e * this.itemSize + 3] = n, this;
  }
  setXY(e, n, r) {
    return e *= this.itemSize, this.normalized && (n = $n(n, this.array), r = $n(r, this.array)), this.array[e + 0] = n, this.array[e + 1] = r, this;
  }
  setXYZ(e, n, r, o) {
    return e *= this.itemSize, this.normalized && (n = $n(n, this.array), r = $n(r, this.array), o = $n(o, this.array)), this.array[e + 0] = n, this.array[e + 1] = r, this.array[e + 2] = o, this;
  }
  setXYZW(e, n, r, o, l) {
    return e *= this.itemSize, this.normalized && (n = $n(n, this.array), r = $n(r, this.array), o = $n(o, this.array), l = $n(l, this.array)), this.array[e + 0] = n, this.array[e + 1] = r, this.array[e + 2] = o, this.array[e + 3] = l, this;
  }
  onUpload(e) {
    return this.onUploadCallback = e, this;
  }
  clone() {
    return new this.constructor(this.array, this.itemSize).copy(this);
  }
  toJSON() {
    const e = {
      itemSize: this.itemSize,
      type: this.array.constructor.name,
      array: Array.from(this.array),
      normalized: this.normalized
    };
    return this.name !== "" && (e.name = this.name), this.usage !== n2 && (e.usage = this.usage), e;
  }
}
class sle extends Ui {
  constructor(e, n, r) {
    super(new Uint16Array(e), n, r);
  }
}
class lle extends Ui {
  constructor(e, n, r) {
    super(new Uint32Array(e), n, r);
  }
}
class Lu extends Ui {
  constructor(e, n, r) {
    super(new Float32Array(e), n, r);
  }
}
let cle = 0;
const eo = /* @__PURE__ */ new In(), ax = /* @__PURE__ */ new Vr(), su = /* @__PURE__ */ new Re(), ki = /* @__PURE__ */ new bs(), Ym = /* @__PURE__ */ new bs(), Gr = /* @__PURE__ */ new Re();
class Sl extends R0 {
  constructor() {
    super(), this.isBufferGeometry = !0, Object.defineProperty(this, "id", { value: cle++ }), this.uuid = ko(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.morphTargetsRelative = !1, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = { start: 0, count: 1 / 0 }, this.userData = {};
  }
  getIndex() {
    return this.index;
  }
  setIndex(e) {
    return Array.isArray(e) ? this.index = new (Hse(e) ? lle : sle)(e, 1) : this.index = e, this;
  }
  getAttribute(e) {
    return this.attributes[e];
  }
  setAttribute(e, n) {
    return this.attributes[e] = n, this;
  }
  deleteAttribute(e) {
    return delete this.attributes[e], this;
  }
  hasAttribute(e) {
    return this.attributes[e] !== void 0;
  }
  addGroup(e, n, r = 0) {
    this.groups.push({
      start: e,
      count: n,
      materialIndex: r
    });
  }
  clearGroups() {
    this.groups = [];
  }
  setDrawRange(e, n) {
    this.drawRange.start = e, this.drawRange.count = n;
  }
  applyMatrix4(e) {
    const n = this.attributes.position;
    n !== void 0 && (n.applyMatrix4(e), n.needsUpdate = !0);
    const r = this.attributes.normal;
    if (r !== void 0) {
      const l = new gs().getNormalMatrix(e);
      r.applyNormalMatrix(l), r.needsUpdate = !0;
    }
    const o = this.attributes.tangent;
    return o !== void 0 && (o.transformDirection(e), o.needsUpdate = !0), this.boundingBox !== null && this.computeBoundingBox(), this.boundingSphere !== null && this.computeBoundingSphere(), this;
  }
  applyQuaternion(e) {
    return eo.makeRotationFromQuaternion(e), this.applyMatrix4(eo), this;
  }
  rotateX(e) {
    return eo.makeRotationX(e), this.applyMatrix4(eo), this;
  }
  rotateY(e) {
    return eo.makeRotationY(e), this.applyMatrix4(eo), this;
  }
  rotateZ(e) {
    return eo.makeRotationZ(e), this.applyMatrix4(eo), this;
  }
  translate(e, n, r) {
    return eo.makeTranslation(e, n, r), this.applyMatrix4(eo), this;
  }
  scale(e, n, r) {
    return eo.makeScale(e, n, r), this.applyMatrix4(eo), this;
  }
  lookAt(e) {
    return ax.lookAt(e), ax.updateMatrix(), this.applyMatrix4(ax.matrix), this;
  }
  center() {
    return this.computeBoundingBox(), this.boundingBox.getCenter(su).negate(), this.translate(su.x, su.y, su.z), this;
  }
  setFromPoints(e) {
    const n = [];
    for (let r = 0, o = e.length; r < o; r++) {
      const l = e[r];
      n.push(l.x, l.y, l.z || 0);
    }
    return this.setAttribute("position", new Lu(n, 3)), this;
  }
  computeBoundingBox() {
    this.boundingBox === null && (this.boundingBox = new bs());
    const e = this.attributes.position, n = this.morphAttributes.position;
    if (e && e.isGLBufferAttribute) {
      console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.", this), this.boundingBox.set(
        new Re(-1 / 0, -1 / 0, -1 / 0),
        new Re(1 / 0, 1 / 0, 1 / 0)
      );
      return;
    }
    if (e !== void 0) {
      if (this.boundingBox.setFromBufferAttribute(e), n)
        for (let r = 0, o = n.length; r < o; r++) {
          const l = n[r];
          ki.setFromBufferAttribute(l), this.morphTargetsRelative ? (Gr.addVectors(this.boundingBox.min, ki.min), this.boundingBox.expandByPoint(Gr), Gr.addVectors(this.boundingBox.max, ki.max), this.boundingBox.expandByPoint(Gr)) : (this.boundingBox.expandByPoint(ki.min), this.boundingBox.expandByPoint(ki.max));
        }
    } else
      this.boundingBox.makeEmpty();
    (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this);
  }
  computeBoundingSphere() {
    this.boundingSphere === null && (this.boundingSphere = new ba());
    const e = this.attributes.position, n = this.morphAttributes.position;
    if (e && e.isGLBufferAttribute) {
      console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.", this), this.boundingSphere.set(new Re(), 1 / 0);
      return;
    }
    if (e) {
      const r = this.boundingSphere.center;
      if (ki.setFromBufferAttribute(e), n)
        for (let l = 0, h = n.length; l < h; l++) {
          const d = n[l];
          Ym.setFromBufferAttribute(d), this.morphTargetsRelative ? (Gr.addVectors(ki.min, Ym.min), ki.expandByPoint(Gr), Gr.addVectors(ki.max, Ym.max), ki.expandByPoint(Gr)) : (ki.expandByPoint(Ym.min), ki.expandByPoint(Ym.max));
        }
      ki.getCenter(r);
      let o = 0;
      for (let l = 0, h = e.count; l < h; l++)
        Gr.fromBufferAttribute(e, l), o = Math.max(o, r.distanceToSquared(Gr));
      if (n)
        for (let l = 0, h = n.length; l < h; l++) {
          const d = n[l], p = this.morphTargetsRelative;
          for (let g = 0, v = d.count; g < v; g++)
            Gr.fromBufferAttribute(d, g), p && (su.fromBufferAttribute(e, g), Gr.add(su)), o = Math.max(o, r.distanceToSquared(Gr));
        }
      this.boundingSphere.radius = Math.sqrt(o), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this);
    }
  }
  computeTangents() {
    const e = this.index, n = this.attributes;
    if (e === null || n.position === void 0 || n.normal === void 0 || n.uv === void 0) {
      console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");
      return;
    }
    const r = n.position, o = n.normal, l = n.uv;
    this.hasAttribute("tangent") === !1 && this.setAttribute("tangent", new Ui(new Float32Array(4 * r.count), 4));
    const h = this.getAttribute("tangent"), d = [], p = [];
    for (let ae = 0; ae < r.count; ae++)
      d[ae] = new Re(), p[ae] = new Re();
    const g = new Re(), v = new Re(), y = new Re(), x = new mr(), w = new mr(), T = new mr(), M = new Re(), S = new Re();
    function L(ae, ve, ne) {
      g.fromBufferAttribute(r, ae), v.fromBufferAttribute(r, ve), y.fromBufferAttribute(r, ne), x.fromBufferAttribute(l, ae), w.fromBufferAttribute(l, ve), T.fromBufferAttribute(l, ne), v.sub(g), y.sub(g), w.sub(x), T.sub(x);
      const se = 1 / (w.x * T.y - T.x * w.y);
      isFinite(se) && (M.copy(v).multiplyScalar(T.y).addScaledVector(y, -w.y).multiplyScalar(se), S.copy(y).multiplyScalar(w.x).addScaledVector(v, -T.x).multiplyScalar(se), d[ae].add(M), d[ve].add(M), d[ne].add(M), p[ae].add(S), p[ve].add(S), p[ne].add(S));
    }
    let F = this.groups;
    F.length === 0 && (F = [{
      start: 0,
      count: e.count
    }]);
    for (let ae = 0, ve = F.length; ae < ve; ++ae) {
      const ne = F[ae], se = ne.start, oe = ne.count;
      for (let J = se, pe = se + oe; J < pe; J += 3)
        L(
          e.getX(J + 0),
          e.getX(J + 1),
          e.getX(J + 2)
        );
    }
    const G = new Re(), $ = new Re(), K = new Re(), q = new Re();
    function he(ae) {
      K.fromBufferAttribute(o, ae), q.copy(K);
      const ve = d[ae];
      G.copy(ve), G.sub(K.multiplyScalar(K.dot(ve))).normalize(), $.crossVectors(q, ve);
      const se = $.dot(p[ae]) < 0 ? -1 : 1;
      h.setXYZW(ae, G.x, G.y, G.z, se);
    }
    for (let ae = 0, ve = F.length; ae < ve; ++ae) {
      const ne = F[ae], se = ne.start, oe = ne.count;
      for (let J = se, pe = se + oe; J < pe; J += 3)
        he(e.getX(J + 0)), he(e.getX(J + 1)), he(e.getX(J + 2));
    }
  }
  computeVertexNormals() {
    const e = this.index, n = this.getAttribute("position");
    if (n !== void 0) {
      let r = this.getAttribute("normal");
      if (r === void 0)
        r = new Ui(new Float32Array(n.count * 3), 3), this.setAttribute("normal", r);
      else
        for (let x = 0, w = r.count; x < w; x++)
          r.setXYZ(x, 0, 0, 0);
      const o = new Re(), l = new Re(), h = new Re(), d = new Re(), p = new Re(), g = new Re(), v = new Re(), y = new Re();
      if (e)
        for (let x = 0, w = e.count; x < w; x += 3) {
          const T = e.getX(x + 0), M = e.getX(x + 1), S = e.getX(x + 2);
          o.fromBufferAttribute(n, T), l.fromBufferAttribute(n, M), h.fromBufferAttribute(n, S), v.subVectors(h, l), y.subVectors(o, l), v.cross(y), d.fromBufferAttribute(r, T), p.fromBufferAttribute(r, M), g.fromBufferAttribute(r, S), d.add(v), p.add(v), g.add(v), r.setXYZ(T, d.x, d.y, d.z), r.setXYZ(M, p.x, p.y, p.z), r.setXYZ(S, g.x, g.y, g.z);
        }
      else
        for (let x = 0, w = n.count; x < w; x += 3)
          o.fromBufferAttribute(n, x + 0), l.fromBufferAttribute(n, x + 1), h.fromBufferAttribute(n, x + 2), v.subVectors(h, l), y.subVectors(o, l), v.cross(y), r.setXYZ(x + 0, v.x, v.y, v.z), r.setXYZ(x + 1, v.x, v.y, v.z), r.setXYZ(x + 2, v.x, v.y, v.z);
      this.normalizeNormals(), r.needsUpdate = !0;
    }
  }
  normalizeNormals() {
    const e = this.attributes.normal;
    for (let n = 0, r = e.count; n < r; n++)
      Gr.fromBufferAttribute(e, n), Gr.normalize(), e.setXYZ(n, Gr.x, Gr.y, Gr.z);
  }
  toNonIndexed() {
    function e(d, p) {
      const g = d.array, v = d.itemSize, y = d.normalized, x = new g.constructor(p.length * v);
      let w = 0, T = 0;
      for (let M = 0, S = p.length; M < S; M++) {
        d.isInterleavedBufferAttribute ? w = p[M] * d.data.stride + d.offset : w = p[M] * v;
        for (let L = 0; L < v; L++)
          x[T++] = g[w++];
      }
      return new Ui(x, v, y);
    }
    if (this.index === null)
      return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."), this;
    const n = new Sl(), r = this.index.array, o = this.attributes;
    for (const d in o) {
      const p = o[d], g = e(p, r);
      n.setAttribute(d, g);
    }
    const l = this.morphAttributes;
    for (const d in l) {
      const p = [], g = l[d];
      for (let v = 0, y = g.length; v < y; v++) {
        const x = g[v], w = e(x, r);
        p.push(w);
      }
      n.morphAttributes[d] = p;
    }
    n.morphTargetsRelative = this.morphTargetsRelative;
    const h = this.groups;
    for (let d = 0, p = h.length; d < p; d++) {
      const g = h[d];
      n.addGroup(g.start, g.count, g.materialIndex);
    }
    return n;
  }
  toJSON() {
    const e = {
      metadata: {
        version: 4.6,
        type: "BufferGeometry",
        generator: "BufferGeometry.toJSON"
      }
    };
    if (e.uuid = this.uuid, e.type = this.type, this.name !== "" && (e.name = this.name), Object.keys(this.userData).length > 0 && (e.userData = this.userData), this.parameters !== void 0) {
      const p = this.parameters;
      for (const g in p)
        p[g] !== void 0 && (e[g] = p[g]);
      return e;
    }
    e.data = { attributes: {} };
    const n = this.index;
    n !== null && (e.data.index = {
      type: n.array.constructor.name,
      array: Array.prototype.slice.call(n.array)
    });
    const r = this.attributes;
    for (const p in r) {
      const g = r[p];
      e.data.attributes[p] = g.toJSON(e.data);
    }
    const o = {};
    let l = !1;
    for (const p in this.morphAttributes) {
      const g = this.morphAttributes[p], v = [];
      for (let y = 0, x = g.length; y < x; y++) {
        const w = g[y];
        v.push(w.toJSON(e.data));
      }
      v.length > 0 && (o[p] = v, l = !0);
    }
    l && (e.data.morphAttributes = o, e.data.morphTargetsRelative = this.morphTargetsRelative);
    const h = this.groups;
    h.length > 0 && (e.data.groups = JSON.parse(JSON.stringify(h)));
    const d = this.boundingSphere;
    return d !== null && (e.data.boundingSphere = {
      center: d.center.toArray(),
      radius: d.radius
    }), e;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  copy(e) {
    this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null;
    const n = {};
    this.name = e.name;
    const r = e.index;
    r !== null && this.setIndex(r.clone(n));
    const o = e.attributes;
    for (const g in o) {
      const v = o[g];
      this.setAttribute(g, v.clone(n));
    }
    const l = e.morphAttributes;
    for (const g in l) {
      const v = [], y = l[g];
      for (let x = 0, w = y.length; x < w; x++)
        v.push(y[x].clone(n));
      this.morphAttributes[g] = v;
    }
    this.morphTargetsRelative = e.morphTargetsRelative;
    const h = e.groups;
    for (let g = 0, v = h.length; g < v; g++) {
      const y = h[g];
      this.addGroup(y.start, y.count, y.materialIndex);
    }
    const d = e.boundingBox;
    d !== null && (this.boundingBox = d.clone());
    const p = e.boundingSphere;
    return p !== null && (this.boundingSphere = p.clone()), this.drawRange.start = e.drawRange.start, this.drawRange.count = e.drawRange.count, this.userData = e.userData, this;
  }
  dispose() {
    this.dispatchEvent({ type: "dispose" });
  }
}
const dS = /* @__PURE__ */ new In(), Rc = /* @__PURE__ */ new B0(), pg = /* @__PURE__ */ new ba(), mS = /* @__PURE__ */ new Re(), lu = /* @__PURE__ */ new Re(), cu = /* @__PURE__ */ new Re(), hu = /* @__PURE__ */ new Re(), sx = /* @__PURE__ */ new Re(), fg = /* @__PURE__ */ new Re(), gg = /* @__PURE__ */ new mr(), bg = /* @__PURE__ */ new mr(), vg = /* @__PURE__ */ new mr(), pS = /* @__PURE__ */ new Re(), fS = /* @__PURE__ */ new Re(), gS = /* @__PURE__ */ new Re(), yg = /* @__PURE__ */ new Re(), xg = /* @__PURE__ */ new Re();
class Wr extends Vr {
  constructor(e = new Sl(), n = new Xc()) {
    super(), this.isMesh = !0, this.type = "Mesh", this.geometry = e, this.material = n, this.updateMorphTargets();
  }
  copy(e, n) {
    return super.copy(e, n), e.morphTargetInfluences !== void 0 && (this.morphTargetInfluences = e.morphTargetInfluences.slice()), e.morphTargetDictionary !== void 0 && (this.morphTargetDictionary = Object.assign({}, e.morphTargetDictionary)), this.material = Array.isArray(e.material) ? e.material.slice() : e.material, this.geometry = e.geometry, this;
  }
  updateMorphTargets() {
    const n = this.geometry.morphAttributes, r = Object.keys(n);
    if (r.length > 0) {
      const o = n[r[0]];
      if (o !== void 0) {
        this.morphTargetInfluences = [], this.morphTargetDictionary = {};
        for (let l = 0, h = o.length; l < h; l++) {
          const d = o[l].name || String(l);
          this.morphTargetInfluences.push(0), this.morphTargetDictionary[d] = l;
        }
      }
    }
  }
  getVertexPosition(e, n) {
    const r = this.geometry, o = r.attributes.position, l = r.morphAttributes.position, h = r.morphTargetsRelative;
    n.fromBufferAttribute(o, e);
    const d = this.morphTargetInfluences;
    if (l && d) {
      fg.set(0, 0, 0);
      for (let p = 0, g = l.length; p < g; p++) {
        const v = d[p], y = l[p];
        v !== 0 && (sx.fromBufferAttribute(y, e), h ? fg.addScaledVector(sx, v) : fg.addScaledVector(sx.sub(n), v));
      }
      n.add(fg);
    }
    return n;
  }
  raycast(e, n) {
    const r = this.geometry, o = this.material, l = this.matrixWorld;
    o !== void 0 && (r.boundingSphere === null && r.computeBoundingSphere(), pg.copy(r.boundingSphere), pg.applyMatrix4(l), Rc.copy(e.ray).recast(e.near), !(pg.containsPoint(Rc.origin) === !1 && (Rc.intersectSphere(pg, mS) === null || Rc.origin.distanceToSquared(mS) > (e.far - e.near) ** 2)) && (dS.copy(l).invert(), Rc.copy(e.ray).applyMatrix4(dS), !(r.boundingBox !== null && Rc.intersectsBox(r.boundingBox) === !1) && this._computeIntersections(e, n, Rc)));
  }
  _computeIntersections(e, n, r) {
    let o;
    const l = this.geometry, h = this.material, d = l.index, p = l.attributes.position, g = l.attributes.uv, v = l.attributes.uv1, y = l.attributes.normal, x = l.groups, w = l.drawRange;
    if (d !== null)
      if (Array.isArray(h))
        for (let T = 0, M = x.length; T < M; T++) {
          const S = x[T], L = h[S.materialIndex], F = Math.max(S.start, w.start), G = Math.min(d.count, Math.min(S.start + S.count, w.start + w.count));
          for (let $ = F, K = G; $ < K; $ += 3) {
            const q = d.getX($), he = d.getX($ + 1), ae = d.getX($ + 2);
            o = Cg(this, L, e, r, g, v, y, q, he, ae), o && (o.faceIndex = Math.floor($ / 3), o.face.materialIndex = S.materialIndex, n.push(o));
          }
        }
      else {
        const T = Math.max(0, w.start), M = Math.min(d.count, w.start + w.count);
        for (let S = T, L = M; S < L; S += 3) {
          const F = d.getX(S), G = d.getX(S + 1), $ = d.getX(S + 2);
          o = Cg(this, h, e, r, g, v, y, F, G, $), o && (o.faceIndex = Math.floor(S / 3), n.push(o));
        }
      }
    else if (p !== void 0)
      if (Array.isArray(h))
        for (let T = 0, M = x.length; T < M; T++) {
          const S = x[T], L = h[S.materialIndex], F = Math.max(S.start, w.start), G = Math.min(p.count, Math.min(S.start + S.count, w.start + w.count));
          for (let $ = F, K = G; $ < K; $ += 3) {
            const q = $, he = $ + 1, ae = $ + 2;
            o = Cg(this, L, e, r, g, v, y, q, he, ae), o && (o.faceIndex = Math.floor($ / 3), o.face.materialIndex = S.materialIndex, n.push(o));
          }
        }
      else {
        const T = Math.max(0, w.start), M = Math.min(p.count, w.start + w.count);
        for (let S = T, L = M; S < L; S += 3) {
          const F = S, G = S + 1, $ = S + 2;
          o = Cg(this, h, e, r, g, v, y, F, G, $), o && (o.faceIndex = Math.floor(S / 3), n.push(o));
        }
      }
  }
}
function hle(a, e, n, r, o, l, h, d) {
  let p;
  if (e.side === wC ? p = r.intersectTriangle(h, l, o, !0, d) : p = r.intersectTriangle(o, l, h, e.side === e0, d), p === null)
    return null;
  xg.copy(d), xg.applyMatrix4(a.matrixWorld);
  const g = n.ray.origin.distanceTo(xg);
  return g < n.near || g > n.far ? null : {
    distance: g,
    point: xg.clone(),
    object: a
  };
}
function Cg(a, e, n, r, o, l, h, d, p, g) {
  a.getVertexPosition(d, lu), a.getVertexPosition(p, cu), a.getVertexPosition(g, hu);
  const v = hle(a, e, n, r, lu, cu, hu, yg);
  if (v) {
    o && (gg.fromBufferAttribute(o, d), bg.fromBufferAttribute(o, p), vg.fromBufferAttribute(o, g), v.uv = da.getInterpolation(yg, lu, cu, hu, gg, bg, vg, new mr())), l && (gg.fromBufferAttribute(l, d), bg.fromBufferAttribute(l, p), vg.fromBufferAttribute(l, g), v.uv1 = da.getInterpolation(yg, lu, cu, hu, gg, bg, vg, new mr())), h && (pS.fromBufferAttribute(h, d), fS.fromBufferAttribute(h, p), gS.fromBufferAttribute(h, g), v.normal = da.getInterpolation(yg, lu, cu, hu, pS, fS, gS, new Re()), v.normal.dot(r.direction) > 0 && v.normal.multiplyScalar(-1));
    const y = {
      a: d,
      b: p,
      c: g,
      normal: new Re(),
      materialIndex: 0
    };
    da.getNormal(lu, cu, hu, y.normal), v.face = y;
  }
  return v;
}
class O0 extends Sl {
  constructor(e = 1, n = 1, r = 1, o = 1, l = 1, h = 1) {
    super(), this.type = "BoxGeometry", this.parameters = {
      width: e,
      height: n,
      depth: r,
      widthSegments: o,
      heightSegments: l,
      depthSegments: h
    };
    const d = this;
    o = Math.floor(o), l = Math.floor(l), h = Math.floor(h);
    const p = [], g = [], v = [], y = [];
    let x = 0, w = 0;
    T("z", "y", "x", -1, -1, r, n, e, h, l, 0), T("z", "y", "x", 1, -1, r, n, -e, h, l, 1), T("x", "z", "y", 1, 1, e, r, n, o, h, 2), T("x", "z", "y", 1, -1, e, r, -n, o, h, 3), T("x", "y", "z", 1, -1, e, n, r, o, l, 4), T("x", "y", "z", -1, -1, e, n, -r, o, l, 5), this.setIndex(p), this.setAttribute("position", new Lu(g, 3)), this.setAttribute("normal", new Lu(v, 3)), this.setAttribute("uv", new Lu(y, 2));
    function T(M, S, L, F, G, $, K, q, he, ae, ve) {
      const ne = $ / he, se = K / ae, oe = $ / 2, J = K / 2, pe = q / 2, be = he + 1, fe = ae + 1;
      let de = 0, Fe = 0;
      const Be = new Re();
      for (let _e = 0; _e < fe; _e++) {
        const Xe = _e * se - J;
        for (let De = 0; De < be; De++) {
          const ft = De * ne - oe;
          Be[M] = ft * F, Be[S] = Xe * G, Be[L] = pe, g.push(Be.x, Be.y, Be.z), Be[M] = 0, Be[S] = 0, Be[L] = q > 0 ? 1 : -1, v.push(Be.x, Be.y, Be.z), y.push(De / he), y.push(1 - _e / ae), de += 1;
        }
      }
      for (let _e = 0; _e < ae; _e++)
        for (let Xe = 0; Xe < he; Xe++) {
          const De = x + Xe + be * _e, ft = x + Xe + be * (_e + 1), gt = x + (Xe + 1) + be * (_e + 1), Lt = x + (Xe + 1) + be * _e;
          p.push(De, ft, Lt), p.push(ft, gt, Lt), Fe += 6;
        }
      d.addGroup(w, Fe, ve), w += Fe, x += de;
    }
  }
  copy(e) {
    return super.copy(e), this.parameters = Object.assign({}, e.parameters), this;
  }
  static fromJSON(e) {
    return new O0(e.width, e.height, e.depth, e.widthSegments, e.heightSegments, e.depthSegments);
  }
}
function IC(a) {
  const e = {};
  for (const n in a) {
    e[n] = {};
    for (const r in a[n]) {
      const o = a[n][r];
      o && (o.isColor || o.isMatrix3 || o.isMatrix4 || o.isVector2 || o.isVector3 || o.isVector4 || o.isTexture || o.isQuaternion) ? o.isRenderTargetTexture ? (console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."), e[n][r] = null) : e[n][r] = o.clone() : Array.isArray(o) ? e[n][r] = o.slice() : e[n][r] = o;
    }
  }
  return e;
}
function ule(a) {
  const e = {};
  for (let n = 0; n < a.length; n++) {
    const r = IC(a[n]);
    for (const o in r)
      e[o] = r[o];
  }
  return e;
}
function dle(a) {
  const e = [];
  for (let n = 0; n < a.length; n++)
    e.push(a[n].clone());
  return e;
}
const mle = { clone: IC, merge: ule };
var ple = `void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`, fle = `void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;
class gle extends fl {
  constructor(e) {
    super(), this.isShaderMaterial = !0, this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.uniformsGroups = [], this.vertexShader = ple, this.fragmentShader = fle, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.forceSinglePass = !0, this.extensions = {
      clipCullDistance: !1,
      // set to use vertex shader clipping
      multiDraw: !1
      // set to use vertex shader multi_draw / enable gl_DrawID
    }, this.defaultAttributeValues = {
      color: [1, 1, 1],
      uv: [0, 0],
      uv1: [0, 0]
    }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, this.glslVersion = null, e !== void 0 && this.setValues(e);
  }
  copy(e) {
    return super.copy(e), this.fragmentShader = e.fragmentShader, this.vertexShader = e.vertexShader, this.uniforms = IC(e.uniforms), this.uniformsGroups = dle(e.uniformsGroups), this.defines = Object.assign({}, e.defines), this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.fog = e.fog, this.lights = e.lights, this.clipping = e.clipping, this.extensions = Object.assign({}, e.extensions), this.glslVersion = e.glslVersion, this;
  }
  toJSON(e) {
    const n = super.toJSON(e);
    n.glslVersion = this.glslVersion, n.uniforms = {};
    for (const o in this.uniforms) {
      const h = this.uniforms[o].value;
      h && h.isTexture ? n.uniforms[o] = {
        type: "t",
        value: h.toJSON(e).uuid
      } : h && h.isColor ? n.uniforms[o] = {
        type: "c",
        value: h.getHex()
      } : h && h.isVector2 ? n.uniforms[o] = {
        type: "v2",
        value: h.toArray()
      } : h && h.isVector3 ? n.uniforms[o] = {
        type: "v3",
        value: h.toArray()
      } : h && h.isVector4 ? n.uniforms[o] = {
        type: "v4",
        value: h.toArray()
      } : h && h.isMatrix3 ? n.uniforms[o] = {
        type: "m3",
        value: h.toArray()
      } : h && h.isMatrix4 ? n.uniforms[o] = {
        type: "m4",
        value: h.toArray()
      } : n.uniforms[o] = {
        value: h
      };
    }
    Object.keys(this.defines).length > 0 && (n.defines = this.defines), n.vertexShader = this.vertexShader, n.fragmentShader = this.fragmentShader, n.lights = this.lights, n.clipping = this.clipping;
    const r = {};
    for (const o in this.extensions)
      this.extensions[o] === !0 && (r[o] = !0);
    return Object.keys(r).length > 0 && (n.extensions = r), n;
  }
}
class JE extends Vr {
  constructor() {
    super(), this.isCamera = !0, this.type = "Camera", this.matrixWorldInverse = new In(), this.projectionMatrix = new In(), this.projectionMatrixInverse = new In(), this.coordinateSystem = kc;
  }
  copy(e, n) {
    return super.copy(e, n), this.matrixWorldInverse.copy(e.matrixWorldInverse), this.projectionMatrix.copy(e.projectionMatrix), this.projectionMatrixInverse.copy(e.projectionMatrixInverse), this.coordinateSystem = e.coordinateSystem, this;
  }
  getWorldDirection(e) {
    return super.getWorldDirection(e).negate();
  }
  updateMatrixWorld(e) {
    super.updateMatrixWorld(e), this.matrixWorldInverse.copy(this.matrixWorld).invert();
  }
  updateWorldMatrix(e, n) {
    super.updateWorldMatrix(e, n), this.matrixWorldInverse.copy(this.matrixWorld).invert();
  }
  clone() {
    return new this.constructor().copy(this);
  }
}
const hl = /* @__PURE__ */ new Re(), bS = /* @__PURE__ */ new mr(), vS = /* @__PURE__ */ new mr();
class AC extends JE {
  constructor(e = 50, n = 1, r = 0.1, o = 2e3) {
    super(), this.isPerspectiveCamera = !0, this.type = "PerspectiveCamera", this.fov = e, this.zoom = 1, this.near = r, this.far = o, this.focus = 10, this.aspect = n, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix();
  }
  copy(e, n) {
    return super.copy(e, n), this.fov = e.fov, this.zoom = e.zoom, this.near = e.near, this.far = e.far, this.focus = e.focus, this.aspect = e.aspect, this.view = e.view === null ? null : Object.assign({}, e.view), this.filmGauge = e.filmGauge, this.filmOffset = e.filmOffset, this;
  }
  /**
   * Sets the FOV by focal length in respect to the current .filmGauge.
   *
   * The default film gauge is 35, so that the focal length can be specified for
   * a 35mm (full frame) camera.
   *
   * Values for focal length and film gauge must have the same unit.
   */
  setFocalLength(e) {
    const n = 0.5 * this.getFilmHeight() / e;
    this.fov = bp * 2 * Math.atan(n), this.updateProjectionMatrix();
  }
  /**
   * Calculates the focal length from the current .fov and .filmGauge.
   */
  getFocalLength() {
    const e = Math.tan(sp * 0.5 * this.fov);
    return 0.5 * this.getFilmHeight() / e;
  }
  getEffectiveFOV() {
    return bp * 2 * Math.atan(
      Math.tan(sp * 0.5 * this.fov) / this.zoom
    );
  }
  getFilmWidth() {
    return this.filmGauge * Math.min(this.aspect, 1);
  }
  getFilmHeight() {
    return this.filmGauge / Math.max(this.aspect, 1);
  }
  /**
   * Computes the 2D bounds of the camera's viewable rectangle at a given distance along the viewing direction.
   * Sets minTarget and maxTarget to the coordinates of the lower-left and upper-right corners of the view rectangle.
   */
  getViewBounds(e, n, r) {
    hl.set(-1, -1, 0.5).applyMatrix4(this.projectionMatrixInverse), n.set(hl.x, hl.y).multiplyScalar(-e / hl.z), hl.set(1, 1, 0.5).applyMatrix4(this.projectionMatrixInverse), r.set(hl.x, hl.y).multiplyScalar(-e / hl.z);
  }
  /**
   * Computes the width and height of the camera's viewable rectangle at a given distance along the viewing direction.
   * Copies the result into the target Vector2, where x is width and y is height.
   */
  getViewSize(e, n) {
    return this.getViewBounds(e, bS, vS), n.subVectors(vS, bS);
  }
  /**
   * Sets an offset in a larger frustum. This is useful for multi-window or
   * multi-monitor/multi-machine setups.
   *
   * For example, if you have 3x2 monitors and each monitor is 1920x1080 and
   * the monitors are in grid like this
   *
   *   +---+---+---+
   *   | A | B | C |
   *   +---+---+---+
   *   | D | E | F |
   *   +---+---+---+
   *
   * then for each monitor you would call it like this
   *
   *   const w = 1920;
   *   const h = 1080;
   *   const fullWidth = w * 3;
   *   const fullHeight = h * 2;
   *
   *   --A--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );
   *   --B--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );
   *   --C--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );
   *   --D--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );
   *   --E--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );
   *   --F--
   *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );
   *
   *   Note there is no reason monitors have to be the same size or in a grid.
   */
  setViewOffset(e, n, r, o, l, h) {
    this.aspect = e / n, this.view === null && (this.view = {
      enabled: !0,
      fullWidth: 1,
      fullHeight: 1,
      offsetX: 0,
      offsetY: 0,
      width: 1,
      height: 1
    }), this.view.enabled = !0, this.view.fullWidth = e, this.view.fullHeight = n, this.view.offsetX = r, this.view.offsetY = o, this.view.width = l, this.view.height = h, this.updateProjectionMatrix();
  }
  clearViewOffset() {
    this.view !== null && (this.view.enabled = !1), this.updateProjectionMatrix();
  }
  updateProjectionMatrix() {
    const e = this.near;
    let n = e * Math.tan(sp * 0.5 * this.fov) / this.zoom, r = 2 * n, o = this.aspect * r, l = -0.5 * o;
    const h = this.view;
    if (this.view !== null && this.view.enabled) {
      const p = h.fullWidth, g = h.fullHeight;
      l += h.offsetX * o / p, n -= h.offsetY * r / g, o *= h.width / p, r *= h.height / g;
    }
    const d = this.filmOffset;
    d !== 0 && (l += e * d / this.getFilmWidth()), this.projectionMatrix.makePerspective(l, l + o, n, n - r, e, this.far, this.coordinateSystem), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
  }
  toJSON(e) {
    const n = super.toJSON(e);
    return n.object.fov = this.fov, n.object.zoom = this.zoom, n.object.near = this.near, n.object.far = this.far, n.object.focus = this.focus, n.object.aspect = this.aspect, this.view !== null && (n.object.view = Object.assign({}, this.view)), n.object.filmGauge = this.filmGauge, n.object.filmOffset = this.filmOffset, n;
  }
}
const lx = /* @__PURE__ */ new Re(), ble = /* @__PURE__ */ new Re(), vle = /* @__PURE__ */ new gs();
class uu {
  constructor(e = new Re(1, 0, 0), n = 0) {
    this.isPlane = !0, this.normal = e, this.constant = n;
  }
  set(e, n) {
    return this.normal.copy(e), this.constant = n, this;
  }
  setComponents(e, n, r, o) {
    return this.normal.set(e, n, r), this.constant = o, this;
  }
  setFromNormalAndCoplanarPoint(e, n) {
    return this.normal.copy(e), this.constant = -n.dot(this.normal), this;
  }
  setFromCoplanarPoints(e, n, r) {
    const o = lx.subVectors(r, n).cross(ble.subVectors(e, n)).normalize();
    return this.setFromNormalAndCoplanarPoint(o, e), this;
  }
  copy(e) {
    return this.normal.copy(e.normal), this.constant = e.constant, this;
  }
  normalize() {
    const e = 1 / this.normal.length();
    return this.normal.multiplyScalar(e), this.constant *= e, this;
  }
  negate() {
    return this.constant *= -1, this.normal.negate(), this;
  }
  distanceToPoint(e) {
    return this.normal.dot(e) + this.constant;
  }
  distanceToSphere(e) {
    return this.distanceToPoint(e.center) - e.radius;
  }
  projectPoint(e, n) {
    return n.copy(e).addScaledVector(this.normal, -this.distanceToPoint(e));
  }
  intersectLine(e, n) {
    const r = e.delta(lx), o = this.normal.dot(r);
    if (o === 0)
      return this.distanceToPoint(e.start) === 0 ? n.copy(e.start) : null;
    const l = -(e.start.dot(this.normal) + this.constant) / o;
    return l < 0 || l > 1 ? null : n.copy(e.start).addScaledVector(r, l);
  }
  intersectsLine(e) {
    const n = this.distanceToPoint(e.start), r = this.distanceToPoint(e.end);
    return n < 0 && r > 0 || r < 0 && n > 0;
  }
  intersectsBox(e) {
    return e.intersectsPlane(this);
  }
  intersectsSphere(e) {
    return e.intersectsPlane(this);
  }
  coplanarPoint(e) {
    return e.copy(this.normal).multiplyScalar(-this.constant);
  }
  applyMatrix4(e, n) {
    const r = n || vle.getNormalMatrix(e), o = this.coplanarPoint(lx).applyMatrix4(e), l = this.normal.applyMatrix3(r).normalize();
    return this.constant = -o.dot(l), this;
  }
  translate(e) {
    return this.constant -= e.dot(this.normal), this;
  }
  equals(e) {
    return e.normal.equals(this.normal) && e.constant === this.constant;
  }
  clone() {
    return new this.constructor().copy(this);
  }
}
const Bc = /* @__PURE__ */ new ba(), _g = /* @__PURE__ */ new Re();
class yle {
  constructor(e = new uu(), n = new uu(), r = new uu(), o = new uu(), l = new uu(), h = new uu()) {
    this.planes = [e, n, r, o, l, h];
  }
  set(e, n, r, o, l, h) {
    const d = this.planes;
    return d[0].copy(e), d[1].copy(n), d[2].copy(r), d[3].copy(o), d[4].copy(l), d[5].copy(h), this;
  }
  copy(e) {
    const n = this.planes;
    for (let r = 0; r < 6; r++)
      n[r].copy(e.planes[r]);
    return this;
  }
  setFromProjectionMatrix(e, n = kc) {
    const r = this.planes, o = e.elements, l = o[0], h = o[1], d = o[2], p = o[3], g = o[4], v = o[5], y = o[6], x = o[7], w = o[8], T = o[9], M = o[10], S = o[11], L = o[12], F = o[13], G = o[14], $ = o[15];
    if (r[0].setComponents(p - l, x - g, S - w, $ - L).normalize(), r[1].setComponents(p + l, x + g, S + w, $ + L).normalize(), r[2].setComponents(p + h, x + v, S + T, $ + F).normalize(), r[3].setComponents(p - h, x - v, S - T, $ - F).normalize(), r[4].setComponents(p - d, x - y, S - M, $ - G).normalize(), n === kc)
      r[5].setComponents(p + d, x + y, S + M, $ + G).normalize();
    else if (n === r2)
      r[5].setComponents(d, y, M, G).normalize();
    else
      throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: " + n);
    return this;
  }
  intersectsObject(e) {
    if (e.boundingSphere !== void 0)
      e.boundingSphere === null && e.computeBoundingSphere(), Bc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);
    else {
      const n = e.geometry;
      n.boundingSphere === null && n.computeBoundingSphere(), Bc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld);
    }
    return this.intersectsSphere(Bc);
  }
  intersectsSprite(e) {
    return Bc.center.set(0, 0, 0), Bc.radius = 0.7071067811865476, Bc.applyMatrix4(e.matrixWorld), this.intersectsSphere(Bc);
  }
  intersectsSphere(e) {
    const n = this.planes, r = e.center, o = -e.radius;
    for (let l = 0; l < 6; l++)
      if (n[l].distanceToPoint(r) < o)
        return !1;
    return !0;
  }
  intersectsBox(e) {
    const n = this.planes;
    for (let r = 0; r < 6; r++) {
      const o = n[r];
      if (_g.x = o.normal.x > 0 ? e.max.x : e.min.x, _g.y = o.normal.y > 0 ? e.max.y : e.min.y, _g.z = o.normal.z > 0 ? e.max.z : e.min.z, o.distanceToPoint(_g) < 0)
        return !1;
    }
    return !0;
  }
  containsPoint(e) {
    const n = this.planes;
    for (let r = 0; r < 6; r++)
      if (n[r].distanceToPoint(e) < 0)
        return !1;
    return !0;
  }
  clone() {
    return new this.constructor().copy(this);
  }
}
class QE extends JE {
  constructor(e = -1, n = 1, r = 1, o = -1, l = 0.1, h = 2e3) {
    super(), this.isOrthographicCamera = !0, this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = e, this.right = n, this.top = r, this.bottom = o, this.near = l, this.far = h, this.updateProjectionMatrix();
  }
  copy(e, n) {
    return super.copy(e, n), this.left = e.left, this.right = e.right, this.top = e.top, this.bottom = e.bottom, this.near = e.near, this.far = e.far, this.zoom = e.zoom, this.view = e.view === null ? null : Object.assign({}, e.view), this;
  }
  setViewOffset(e, n, r, o, l, h) {
    this.view === null && (this.view = {
      enabled: !0,
      fullWidth: 1,
      fullHeight: 1,
      offsetX: 0,
      offsetY: 0,
      width: 1,
      height: 1
    }), this.view.enabled = !0, this.view.fullWidth = e, this.view.fullHeight = n, this.view.offsetX = r, this.view.offsetY = o, this.view.width = l, this.view.height = h, this.updateProjectionMatrix();
  }
  clearViewOffset() {
    this.view !== null && (this.view.enabled = !1), this.updateProjectionMatrix();
  }
  updateProjectionMatrix() {
    const e = (this.right - this.left) / (2 * this.zoom), n = (this.top - this.bottom) / (2 * this.zoom), r = (this.right + this.left) / 2, o = (this.top + this.bottom) / 2;
    let l = r - e, h = r + e, d = o + n, p = o - n;
    if (this.view !== null && this.view.enabled) {
      const g = (this.right - this.left) / this.view.fullWidth / this.zoom, v = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
      l += g * this.view.offsetX, h = l + g * this.view.width, d -= v * this.view.offsetY, p = d - v * this.view.height;
    }
    this.projectionMatrix.makeOrthographic(l, h, d, p, this.near, this.far, this.coordinateSystem), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
  }
  toJSON(e) {
    const n = super.toJSON(e);
    return n.object.zoom = this.zoom, n.object.left = this.left, n.object.right = this.right, n.object.top = this.top, n.object.bottom = this.bottom, n.object.near = this.near, n.object.far = this.far, this.view !== null && (n.object.view = Object.assign({}, this.view)), n;
  }
}
class xle extends ao {
  constructor(e, n, r, o, l, h, d, p, g, v) {
    if (v = v !== void 0 ? v : Gy, v !== Gy && v !== V3)
      throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
    r === void 0 && v === Gy && (r = Cse), r === void 0 && v === V3 && (r = _se), super(null, o, l, h, d, p, v, r, g), this.isDepthTexture = !0, this.image = { width: e, height: n }, this.magFilter = d !== void 0 ? d : fp, this.minFilter = p !== void 0 ? p : fp, this.flipY = !1, this.generateMipmaps = !1, this.compareFunction = null;
  }
  copy(e) {
    return super.copy(e), this.compareFunction = e.compareFunction, this;
  }
  toJSON(e) {
    const n = super.toJSON(e);
    return this.compareFunction !== null && (n.compareFunction = this.compareFunction), n;
  }
}
const Cle = /* @__PURE__ */ new xle(1, 1);
Cle.compareFunction = Ise;
class cx extends Vr {
  constructor() {
    super(), this.isGroup = !0, this.type = "Group";
  }
}
class _le extends Vr {
  constructor() {
    super(), this.isScene = !0, this.type = "Scene", this.background = null, this.environment = null, this.fog = null, this.backgroundBlurriness = 0, this.backgroundIntensity = 1, this.backgroundRotation = new vl(), this.environmentIntensity = 1, this.environmentRotation = new vl(), this.overrideMaterial = null, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", { detail: this }));
  }
  copy(e, n) {
    return super.copy(e, n), e.background !== null && (this.background = e.background.clone()), e.environment !== null && (this.environment = e.environment.clone()), e.fog !== null && (this.fog = e.fog.clone()), this.backgroundBlurriness = e.backgroundBlurriness, this.backgroundIntensity = e.backgroundIntensity, this.backgroundRotation.copy(e.backgroundRotation), this.environmentIntensity = e.environmentIntensity, this.environmentRotation.copy(e.environmentRotation), e.overrideMaterial !== null && (this.overrideMaterial = e.overrideMaterial.clone()), this.matrixAutoUpdate = e.matrixAutoUpdate, this;
  }
  toJSON(e) {
    const n = super.toJSON(e);
    return this.fog !== null && (n.object.fog = this.fog.toJSON()), this.backgroundBlurriness > 0 && (n.object.backgroundBlurriness = this.backgroundBlurriness), this.backgroundIntensity !== 1 && (n.object.backgroundIntensity = this.backgroundIntensity), n.object.backgroundRotation = this.backgroundRotation.toArray(), this.environmentIntensity !== 1 && (n.object.environmentIntensity = this.environmentIntensity), n.object.environmentRotation = this.environmentRotation.toArray(), n;
  }
}
class wle {
  constructor(e, n) {
    this.isInterleavedBuffer = !0, this.array = e, this.stride = n, this.count = e !== void 0 ? e.length / n : 0, this.usage = n2, this._updateRange = { offset: 0, count: -1 }, this.updateRanges = [], this.version = 0, this.uuid = ko();
  }
  onUploadCallback() {
  }
  set needsUpdate(e) {
    e === !0 && this.version++;
  }
  get updateRange() {
    return KE("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."), this._updateRange;
  }
  setUsage(e) {
    return this.usage = e, this;
  }
  addUpdateRange(e, n) {
    this.updateRanges.push({ start: e, count: n });
  }
  clearUpdateRanges() {
    this.updateRanges.length = 0;
  }
  copy(e) {
    return this.array = new e.array.constructor(e.array), this.count = e.count, this.stride = e.stride, this.usage = e.usage, this;
  }
  copyAt(e, n, r) {
    e *= this.stride, r *= n.stride;
    for (let o = 0, l = this.stride; o < l; o++)
      this.array[e + o] = n.array[r + o];
    return this;
  }
  set(e, n = 0) {
    return this.array.set(e, n), this;
  }
  clone(e) {
    e.arrayBuffers === void 0 && (e.arrayBuffers = {}), this.array.buffer._uuid === void 0 && (this.array.buffer._uuid = ko()), e.arrayBuffers[this.array.buffer._uuid] === void 0 && (e.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer);
    const n = new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]), r = new this.constructor(n, this.stride);
    return r.setUsage(this.usage), r;
  }
  onUpload(e) {
    return this.onUploadCallback = e, this;
  }
  toJSON(e) {
    return e.arrayBuffers === void 0 && (e.arrayBuffers = {}), this.array.buffer._uuid === void 0 && (this.array.buffer._uuid = ko()), e.arrayBuffers[this.array.buffer._uuid] === void 0 && (e.arrayBuffers[this.array.buffer._uuid] = Array.from(new Uint32Array(this.array.buffer))), {
      uuid: this.uuid,
      buffer: this.array.buffer._uuid,
      type: this.array.constructor.name,
      stride: this.stride
    };
  }
}
const vi = /* @__PURE__ */ new Re();
class EC {
  constructor(e, n, r, o = !1) {
    this.isInterleavedBufferAttribute = !0, this.name = "", this.data = e, this.itemSize = n, this.offset = r, this.normalized = o;
  }
  get count() {
    return this.data.count;
  }
  get array() {
    return this.data.array;
  }
  set needsUpdate(e) {
    this.data.needsUpdate = e;
  }
  applyMatrix4(e) {
    for (let n = 0, r = this.data.count; n < r; n++)
      vi.fromBufferAttribute(this, n), vi.applyMatrix4(e), this.setXYZ(n, vi.x, vi.y, vi.z);
    return this;
  }
  applyNormalMatrix(e) {
    for (let n = 0, r = this.count; n < r; n++)
      vi.fromBufferAttribute(this, n), vi.applyNormalMatrix(e), this.setXYZ(n, vi.x, vi.y, vi.z);
    return this;
  }
  transformDirection(e) {
    for (let n = 0, r = this.count; n < r; n++)
      vi.fromBufferAttribute(this, n), vi.transformDirection(e), this.setXYZ(n, vi.x, vi.y, vi.z);
    return this;
  }
  getComponent(e, n) {
    let r = this.array[e * this.data.stride + this.offset + n];
    return this.normalized && (r = jo(r, this.array)), r;
  }
  setComponent(e, n, r) {
    return this.normalized && (r = $n(r, this.array)), this.data.array[e * this.data.stride + this.offset + n] = r, this;
  }
  setX(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.data.array[e * this.data.stride + this.offset] = n, this;
  }
  setY(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.data.array[e * this.data.stride + this.offset + 1] = n, this;
  }
  setZ(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.data.array[e * this.data.stride + this.offset + 2] = n, this;
  }
  setW(e, n) {
    return this.normalized && (n = $n(n, this.array)), this.data.array[e * this.data.stride + this.offset + 3] = n, this;
  }
  getX(e) {
    let n = this.data.array[e * this.data.stride + this.offset];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  getY(e) {
    let n = this.data.array[e * this.data.stride + this.offset + 1];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  getZ(e) {
    let n = this.data.array[e * this.data.stride + this.offset + 2];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  getW(e) {
    let n = this.data.array[e * this.data.stride + this.offset + 3];
    return this.normalized && (n = jo(n, this.array)), n;
  }
  setXY(e, n, r) {
    return e = e * this.data.stride + this.offset, this.normalized && (n = $n(n, this.array), r = $n(r, this.array)), this.data.array[e + 0] = n, this.data.array[e + 1] = r, this;
  }
  setXYZ(e, n, r, o) {
    return e = e * this.data.stride + this.offset, this.normalized && (n = $n(n, this.array), r = $n(r, this.array), o = $n(o, this.array)), this.data.array[e + 0] = n, this.data.array[e + 1] = r, this.data.array[e + 2] = o, this;
  }
  setXYZW(e, n, r, o, l) {
    return e = e * this.data.stride + this.offset, this.normalized && (n = $n(n, this.array), r = $n(r, this.array), o = $n(o, this.array), l = $n(l, this.array)), this.data.array[e + 0] = n, this.data.array[e + 1] = r, this.data.array[e + 2] = o, this.data.array[e + 3] = l, this;
  }
  clone(e) {
    if (e === void 0) {
      console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");
      const n = [];
      for (let r = 0; r < this.count; r++) {
        const o = r * this.data.stride + this.offset;
        for (let l = 0; l < this.itemSize; l++)
          n.push(this.data.array[o + l]);
      }
      return new Ui(new this.array.constructor(n), this.itemSize, this.normalized);
    } else
      return e.interleavedBuffers === void 0 && (e.interleavedBuffers = {}), e.interleavedBuffers[this.data.uuid] === void 0 && (e.interleavedBuffers[this.data.uuid] = this.data.clone(e)), new EC(e.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);
  }
  toJSON(e) {
    if (e === void 0) {
      console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");
      const n = [];
      for (let r = 0; r < this.count; r++) {
        const o = r * this.data.stride + this.offset;
        for (let l = 0; l < this.itemSize; l++)
          n.push(this.data.array[o + l]);
      }
      return {
        itemSize: this.itemSize,
        type: this.array.constructor.name,
        array: n,
        normalized: this.normalized
      };
    } else
      return e.interleavedBuffers === void 0 && (e.interleavedBuffers = {}), e.interleavedBuffers[this.data.uuid] === void 0 && (e.interleavedBuffers[this.data.uuid] = this.data.toJSON(e)), {
        isInterleavedBufferAttribute: !0,
        itemSize: this.itemSize,
        data: this.data.uuid,
        offset: this.offset,
        normalized: this.normalized
      };
  }
}
const yS = /* @__PURE__ */ new Re(), xS = /* @__PURE__ */ new no(), CS = /* @__PURE__ */ new no(), Tle = /* @__PURE__ */ new Re(), _S = /* @__PURE__ */ new In(), wg = /* @__PURE__ */ new Re(), hx = /* @__PURE__ */ new ba(), wS = /* @__PURE__ */ new In(), ux = /* @__PURE__ */ new B0();
class Nle extends Wr {
  constructor(e, n) {
    super(e, n), this.isSkinnedMesh = !0, this.type = "SkinnedMesh", this.bindMode = W3, this.bindMatrix = new In(), this.bindMatrixInverse = new In(), this.boundingBox = null, this.boundingSphere = null;
  }
  computeBoundingBox() {
    const e = this.geometry;
    this.boundingBox === null && (this.boundingBox = new bs()), this.boundingBox.makeEmpty();
    const n = e.getAttribute("position");
    for (let r = 0; r < n.count; r++)
      this.getVertexPosition(r, wg), this.boundingBox.expandByPoint(wg);
  }
  computeBoundingSphere() {
    const e = this.geometry;
    this.boundingSphere === null && (this.boundingSphere = new ba()), this.boundingSphere.makeEmpty();
    const n = e.getAttribute("position");
    for (let r = 0; r < n.count; r++)
      this.getVertexPosition(r, wg), this.boundingSphere.expandByPoint(wg);
  }
  copy(e, n) {
    return super.copy(e, n), this.bindMode = e.bindMode, this.bindMatrix.copy(e.bindMatrix), this.bindMatrixInverse.copy(e.bindMatrixInverse), this.skeleton = e.skeleton, e.boundingBox !== null && (this.boundingBox = e.boundingBox.clone()), e.boundingSphere !== null && (this.boundingSphere = e.boundingSphere.clone()), this;
  }
  raycast(e, n) {
    const r = this.material, o = this.matrixWorld;
    r !== void 0 && (this.boundingSphere === null && this.computeBoundingSphere(), hx.copy(this.boundingSphere), hx.applyMatrix4(o), e.ray.intersectsSphere(hx) !== !1 && (wS.copy(o).invert(), ux.copy(e.ray).applyMatrix4(wS), !(this.boundingBox !== null && ux.intersectsBox(this.boundingBox) === !1) && this._computeIntersections(e, n, ux)));
  }
  getVertexPosition(e, n) {
    return super.getVertexPosition(e, n), this.applyBoneTransform(e, n), n;
  }
  bind(e, n) {
    this.skeleton = e, n === void 0 && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), n = this.matrixWorld), this.bindMatrix.copy(n), this.bindMatrixInverse.copy(n).invert();
  }
  pose() {
    this.skeleton.pose();
  }
  normalizeSkinWeights() {
    const e = new no(), n = this.geometry.attributes.skinWeight;
    for (let r = 0, o = n.count; r < o; r++) {
      e.fromBufferAttribute(n, r);
      const l = 1 / e.manhattanLength();
      l !== 1 / 0 ? e.multiplyScalar(l) : e.set(1, 0, 0, 0), n.setXYZW(r, e.x, e.y, e.z, e.w);
    }
  }
  updateMatrixWorld(e) {
    super.updateMatrixWorld(e), this.bindMode === W3 ? this.bindMatrixInverse.copy(this.matrixWorld).invert() : this.bindMode === gse ? this.bindMatrixInverse.copy(this.bindMatrix).invert() : console.warn("THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode);
  }
  applyBoneTransform(e, n) {
    const r = this.skeleton, o = this.geometry;
    xS.fromBufferAttribute(o.attributes.skinIndex, e), CS.fromBufferAttribute(o.attributes.skinWeight, e), yS.copy(n).applyMatrix4(this.bindMatrix), n.set(0, 0, 0);
    for (let l = 0; l < 4; l++) {
      const h = CS.getComponent(l);
      if (h !== 0) {
        const d = xS.getComponent(l);
        _S.multiplyMatrices(r.bones[d].matrixWorld, r.boneInverses[d]), n.addScaledVector(Tle.copy(yS).applyMatrix4(_S), h);
      }
    }
    return n.applyMatrix4(this.bindMatrixInverse);
  }
}
class e5 extends Vr {
  constructor() {
    super(), this.isBone = !0, this.type = "Bone";
  }
}
class t5 extends ao {
  constructor(e = null, n = 1, r = 1, o, l, h, d, p, g = fp, v = fp, y, x) {
    super(null, h, d, p, g, v, o, l, y, x), this.isDataTexture = !0, this.image = { data: e, width: n, height: r }, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
  }
}
const TS = /* @__PURE__ */ new In(), Mle = /* @__PURE__ */ new In();
class PC {
  constructor(e = [], n = []) {
    this.uuid = ko(), this.bones = e.slice(0), this.boneInverses = n, this.boneMatrices = null, this.boneTexture = null, this.init();
  }
  init() {
    const e = this.bones, n = this.boneInverses;
    if (this.boneMatrices = new Float32Array(e.length * 16), n.length === 0)
      this.calculateInverses();
    else if (e.length !== n.length) {
      console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."), this.boneInverses = [];
      for (let r = 0, o = this.bones.length; r < o; r++)
        this.boneInverses.push(new In());
    }
  }
  calculateInverses() {
    this.boneInverses.length = 0;
    for (let e = 0, n = this.bones.length; e < n; e++) {
      const r = new In();
      this.bones[e] && r.copy(this.bones[e].matrixWorld).invert(), this.boneInverses.push(r);
    }
  }
  pose() {
    for (let e = 0, n = this.bones.length; e < n; e++) {
      const r = this.bones[e];
      r && r.matrixWorld.copy(this.boneInverses[e]).invert();
    }
    for (let e = 0, n = this.bones.length; e < n; e++) {
      const r = this.bones[e];
      r && (r.parent && r.parent.isBone ? (r.matrix.copy(r.parent.matrixWorld).invert(), r.matrix.multiply(r.matrixWorld)) : r.matrix.copy(r.matrixWorld), r.matrix.decompose(r.position, r.quaternion, r.scale));
    }
  }
  update() {
    const e = this.bones, n = this.boneInverses, r = this.boneMatrices, o = this.boneTexture;
    for (let l = 0, h = e.length; l < h; l++) {
      const d = e[l] ? e[l].matrixWorld : Mle;
      TS.multiplyMatrices(d, n[l]), TS.toArray(r, l * 16);
    }
    o !== null && (o.needsUpdate = !0);
  }
  clone() {
    return new PC(this.bones, this.boneInverses);
  }
  computeBoneTexture() {
    let e = Math.sqrt(this.bones.length * 4);
    e = Math.ceil(e / 4) * 4, e = Math.max(e, 4);
    const n = new Float32Array(e * e * 4);
    n.set(this.boneMatrices);
    const r = new t5(n, e, e, HE, MC);
    return r.needsUpdate = !0, this.boneMatrices = n, this.boneTexture = r, this;
  }
  getBoneByName(e) {
    for (let n = 0, r = this.bones.length; n < r; n++) {
      const o = this.bones[n];
      if (o.name === e)
        return o;
    }
  }
  dispose() {
    this.boneTexture !== null && (this.boneTexture.dispose(), this.boneTexture = null);
  }
  fromJSON(e, n) {
    this.uuid = e.uuid;
    for (let r = 0, o = e.bones.length; r < o; r++) {
      const l = e.bones[r];
      let h = n[l];
      h === void 0 && (console.warn("THREE.Skeleton: No bone found with UUID:", l), h = new e5()), this.bones.push(h), this.boneInverses.push(new In().fromArray(e.boneInverses[r]));
    }
    return this.init(), this;
  }
  toJSON() {
    const e = {
      metadata: {
        version: 4.6,
        type: "Skeleton",
        generator: "Skeleton.toJSON"
      },
      bones: [],
      boneInverses: []
    };
    e.uuid = this.uuid;
    const n = this.bones, r = this.boneInverses;
    for (let o = 0, l = n.length; o < l; o++) {
      const h = n[o];
      e.bones.push(h.uuid);
      const d = r[o];
      e.boneInverses.push(d.toArray());
    }
    return e;
  }
}
class o2 extends Ui {
  constructor(e, n, r, o = 1) {
    super(e, n, r), this.isInstancedBufferAttribute = !0, this.meshPerAttribute = o;
  }
  copy(e) {
    return super.copy(e), this.meshPerAttribute = e.meshPerAttribute, this;
  }
  toJSON() {
    const e = super.toJSON();
    return e.meshPerAttribute = this.meshPerAttribute, e.isInstancedBufferAttribute = !0, e;
  }
}
const du = /* @__PURE__ */ new In(), NS = /* @__PURE__ */ new In(), Tg = [], MS = /* @__PURE__ */ new bs(), Sle = /* @__PURE__ */ new In(), Km = /* @__PURE__ */ new Wr(), Zm = /* @__PURE__ */ new ba();
class Ile extends Wr {
  constructor(e, n, r) {
    super(e, n), this.isInstancedMesh = !0, this.instanceMatrix = new o2(new Float32Array(r * 16), 16), this.instanceColor = null, this.morphTexture = null, this.count = r, this.boundingBox = null, this.boundingSphere = null;
    for (let o = 0; o < r; o++)
      this.setMatrixAt(o, Sle);
  }
  computeBoundingBox() {
    const e = this.geometry, n = this.count;
    this.boundingBox === null && (this.boundingBox = new bs()), e.boundingBox === null && e.computeBoundingBox(), this.boundingBox.makeEmpty();
    for (let r = 0; r < n; r++)
      this.getMatrixAt(r, du), MS.copy(e.boundingBox).applyMatrix4(du), this.boundingBox.union(MS);
  }
  computeBoundingSphere() {
    const e = this.geometry, n = this.count;
    this.boundingSphere === null && (this.boundingSphere = new ba()), e.boundingSphere === null && e.computeBoundingSphere(), this.boundingSphere.makeEmpty();
    for (let r = 0; r < n; r++)
      this.getMatrixAt(r, du), Zm.copy(e.boundingSphere).applyMatrix4(du), this.boundingSphere.union(Zm);
  }
  copy(e, n) {
    return super.copy(e, n), this.instanceMatrix.copy(e.instanceMatrix), e.morphTexture !== null && (this.morphTexture = e.morphTexture.clone()), e.instanceColor !== null && (this.instanceColor = e.instanceColor.clone()), this.count = e.count, e.boundingBox !== null && (this.boundingBox = e.boundingBox.clone()), e.boundingSphere !== null && (this.boundingSphere = e.boundingSphere.clone()), this;
  }
  getColorAt(e, n) {
    n.fromArray(this.instanceColor.array, e * 3);
  }
  getMatrixAt(e, n) {
    n.fromArray(this.instanceMatrix.array, e * 16);
  }
  getMorphAt(e, n) {
    const r = n.morphTargetInfluences, o = this.morphTexture.source.data.data, l = r.length + 1, h = e * l + 1;
    for (let d = 0; d < r.length; d++)
      r[d] = o[h + d];
  }
  raycast(e, n) {
    const r = this.matrixWorld, o = this.count;
    if (Km.geometry = this.geometry, Km.material = this.material, Km.material !== void 0 && (this.boundingSphere === null && this.computeBoundingSphere(), Zm.copy(this.boundingSphere), Zm.applyMatrix4(r), e.ray.intersectsSphere(Zm) !== !1))
      for (let l = 0; l < o; l++) {
        this.getMatrixAt(l, du), NS.multiplyMatrices(r, du), Km.matrixWorld = NS, Km.raycast(e, Tg);
        for (let h = 0, d = Tg.length; h < d; h++) {
          const p = Tg[h];
          p.instanceId = l, p.object = this, n.push(p);
        }
        Tg.length = 0;
      }
  }
  setColorAt(e, n) {
    this.instanceColor === null && (this.instanceColor = new o2(new Float32Array(this.instanceMatrix.count * 3), 3)), n.toArray(this.instanceColor.array, e * 3);
  }
  setMatrixAt(e, n) {
    n.toArray(this.instanceMatrix.array, e * 16);
  }
  setMorphAt(e, n) {
    const r = n.morphTargetInfluences, o = r.length + 1;
    this.morphTexture === null && (this.morphTexture = new t5(new Float32Array(o * this.count), o, this.count, wse, MC));
    const l = this.morphTexture.source.data.data;
    let h = 0;
    for (let g = 0; g < r.length; g++)
      h += r[g];
    const d = this.geometry.morphTargetsRelative ? 1 : 1 - h, p = o * e;
    l[p] = d, l.set(r, p + 1);
  }
  updateMorphTargets() {
  }
  dispose() {
    return this.dispatchEvent({ type: "dispose" }), this.morphTexture !== null && (this.morphTexture.dispose(), this.morphTexture = null), this;
  }
}
class n5 extends fl {
  constructor(e) {
    super(), this.isLineBasicMaterial = !0, this.type = "LineBasicMaterial", this.color = new Ar(16777215), this.map = null, this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.fog = !0, this.setValues(e);
  }
  copy(e) {
    return super.copy(e), this.color.copy(e.color), this.map = e.map, this.linewidth = e.linewidth, this.linecap = e.linecap, this.linejoin = e.linejoin, this.fog = e.fog, this;
  }
}
const t0 = /* @__PURE__ */ new Re(), n0 = /* @__PURE__ */ new Re(), SS = /* @__PURE__ */ new In(), Jm = /* @__PURE__ */ new B0(), Ng = /* @__PURE__ */ new ba(), dx = /* @__PURE__ */ new Re(), IS = /* @__PURE__ */ new Re();
class RC extends Vr {
  constructor(e = new Sl(), n = new n5()) {
    super(), this.isLine = !0, this.type = "Line", this.geometry = e, this.material = n, this.updateMorphTargets();
  }
  copy(e, n) {
    return super.copy(e, n), this.material = Array.isArray(e.material) ? e.material.slice() : e.material, this.geometry = e.geometry, this;
  }
  computeLineDistances() {
    const e = this.geometry;
    if (e.index === null) {
      const n = e.attributes.position, r = [0];
      for (let o = 1, l = n.count; o < l; o++)
        t0.fromBufferAttribute(n, o - 1), n0.fromBufferAttribute(n, o), r[o] = r[o - 1], r[o] += t0.distanceTo(n0);
      e.setAttribute("lineDistance", new Lu(r, 1));
    } else
      console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
    return this;
  }
  raycast(e, n) {
    const r = this.geometry, o = this.matrixWorld, l = e.params.Line.threshold, h = r.drawRange;
    if (r.boundingSphere === null && r.computeBoundingSphere(), Ng.copy(r.boundingSphere), Ng.applyMatrix4(o), Ng.radius += l, e.ray.intersectsSphere(Ng) === !1)
      return;
    SS.copy(o).invert(), Jm.copy(e.ray).applyMatrix4(SS);
    const d = l / ((this.scale.x + this.scale.y + this.scale.z) / 3), p = d * d, g = this.isLineSegments ? 2 : 1, v = r.index, x = r.attributes.position;
    if (v !== null) {
      const w = Math.max(0, h.start), T = Math.min(v.count, h.start + h.count);
      for (let M = w, S = T - 1; M < S; M += g) {
        const L = v.getX(M), F = v.getX(M + 1), G = Mg(this, e, Jm, p, L, F);
        G && n.push(G);
      }
      if (this.isLineLoop) {
        const M = v.getX(T - 1), S = v.getX(w), L = Mg(this, e, Jm, p, M, S);
        L && n.push(L);
      }
    } else {
      const w = Math.max(0, h.start), T = Math.min(x.count, h.start + h.count);
      for (let M = w, S = T - 1; M < S; M += g) {
        const L = Mg(this, e, Jm, p, M, M + 1);
        L && n.push(L);
      }
      if (this.isLineLoop) {
        const M = Mg(this, e, Jm, p, T - 1, w);
        M && n.push(M);
      }
    }
  }
  updateMorphTargets() {
    const n = this.geometry.morphAttributes, r = Object.keys(n);
    if (r.length > 0) {
      const o = n[r[0]];
      if (o !== void 0) {
        this.morphTargetInfluences = [], this.morphTargetDictionary = {};
        for (let l = 0, h = o.length; l < h; l++) {
          const d = o[l].name || String(l);
          this.morphTargetInfluences.push(0), this.morphTargetDictionary[d] = l;
        }
      }
    }
  }
}
function Mg(a, e, n, r, o, l) {
  const h = a.geometry.attributes.position;
  if (t0.fromBufferAttribute(h, o), n0.fromBufferAttribute(h, l), n.distanceSqToSegment(t0, n0, dx, IS) > r)
    return;
  dx.applyMatrix4(a.matrixWorld);
  const p = e.ray.origin.distanceTo(dx);
  if (!(p < e.near || p > e.far))
    return {
      distance: p,
      // What do we want? intersection point on the ray or on the segment??
      // point: raycaster.ray.at( distance ),
      point: IS.clone().applyMatrix4(a.matrixWorld),
      index: o,
      face: null,
      faceIndex: null,
      object: a
    };
}
const AS = /* @__PURE__ */ new Re(), ES = /* @__PURE__ */ new Re();
class Ale extends RC {
  constructor(e, n) {
    super(e, n), this.isLineSegments = !0, this.type = "LineSegments";
  }
  computeLineDistances() {
    const e = this.geometry;
    if (e.index === null) {
      const n = e.attributes.position, r = [];
      for (let o = 0, l = n.count; o < l; o += 2)
        AS.fromBufferAttribute(n, o), ES.fromBufferAttribute(n, o + 1), r[o] = o === 0 ? 0 : r[o - 1], r[o + 1] = r[o] + AS.distanceTo(ES);
      e.setAttribute("lineDistance", new Lu(r, 1));
    } else
      console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
    return this;
  }
}
class Ele extends RC {
  constructor(e, n) {
    super(e, n), this.isLineLoop = !0, this.type = "LineLoop";
  }
}
class r5 extends fl {
  constructor(e) {
    super(), this.isPointsMaterial = !0, this.type = "PointsMaterial", this.color = new Ar(16777215), this.map = null, this.alphaMap = null, this.size = 1, this.sizeAttenuation = !0, this.fog = !0, this.setValues(e);
  }
  copy(e) {
    return super.copy(e), this.color.copy(e.color), this.map = e.map, this.alphaMap = e.alphaMap, this.size = e.size, this.sizeAttenuation = e.sizeAttenuation, this.fog = e.fog, this;
  }
}
const PS = /* @__PURE__ */ new In(), a2 = /* @__PURE__ */ new B0(), Sg = /* @__PURE__ */ new ba(), Ig = /* @__PURE__ */ new Re();
class Ple extends Vr {
  constructor(e = new Sl(), n = new r5()) {
    super(), this.isPoints = !0, this.type = "Points", this.geometry = e, this.material = n, this.updateMorphTargets();
  }
  copy(e, n) {
    return super.copy(e, n), this.material = Array.isArray(e.material) ? e.material.slice() : e.material, this.geometry = e.geometry, this;
  }
  raycast(e, n) {
    const r = this.geometry, o = this.matrixWorld, l = e.params.Points.threshold, h = r.drawRange;
    if (r.boundingSphere === null && r.computeBoundingSphere(), Sg.copy(r.boundingSphere), Sg.applyMatrix4(o), Sg.radius += l, e.ray.intersectsSphere(Sg) === !1)
      return;
    PS.copy(o).invert(), a2.copy(e.ray).applyMatrix4(PS);
    const d = l / ((this.scale.x + this.scale.y + this.scale.z) / 3), p = d * d, g = r.index, y = r.attributes.position;
    if (g !== null) {
      const x = Math.max(0, h.start), w = Math.min(g.count, h.start + h.count);
      for (let T = x, M = w; T < M; T++) {
        const S = g.getX(T);
        Ig.fromBufferAttribute(y, S), RS(Ig, S, p, o, e, n, this);
      }
    } else {
      const x = Math.max(0, h.start), w = Math.min(y.count, h.start + h.count);
      for (let T = x, M = w; T < M; T++)
        Ig.fromBufferAttribute(y, T), RS(Ig, T, p, o, e, n, this);
    }
  }
  updateMorphTargets() {
    const n = this.geometry.morphAttributes, r = Object.keys(n);
    if (r.length > 0) {
      const o = n[r[0]];
      if (o !== void 0) {
        this.morphTargetInfluences = [], this.morphTargetDictionary = {};
        for (let l = 0, h = o.length; l < h; l++) {
          const d = o[l].name || String(l);
          this.morphTargetInfluences.push(0), this.morphTargetDictionary[d] = l;
        }
      }
    }
  }
}
function RS(a, e, n, r, o, l, h) {
  const d = a2.distanceSqToPoint(a);
  if (d < n) {
    const p = new Re();
    a2.closestPointToPoint(a, p), p.applyMatrix4(r);
    const g = o.ray.origin.distanceTo(p);
    if (g < o.near || g > o.far)
      return;
    l.push({
      distance: g,
      distanceToRay: Math.sqrt(d),
      point: p,
      index: e,
      face: null,
      object: h
    });
  }
}
class vp extends fl {
  constructor(e) {
    super(), this.isMeshStandardMaterial = !0, this.defines = { STANDARD: "" }, this.type = "MeshStandardMaterial", this.color = new Ar(16777215), this.roughness = 1, this.metalness = 0, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Ar(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = Mse, this.normalScale = new mr(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new vl(), this.envMapIntensity = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = !1, this.fog = !0, this.setValues(e);
  }
  copy(e) {
    return super.copy(e), this.defines = { STANDARD: "" }, this.color.copy(e.color), this.roughness = e.roughness, this.metalness = e.metalness, this.map = e.map, this.lightMap = e.lightMap, this.lightMapIntensity = e.lightMapIntensity, this.aoMap = e.aoMap, this.aoMapIntensity = e.aoMapIntensity, this.emissive.copy(e.emissive), this.emissiveMap = e.emissiveMap, this.emissiveIntensity = e.emissiveIntensity, this.bumpMap = e.bumpMap, this.bumpScale = e.bumpScale, this.normalMap = e.normalMap, this.normalMapType = e.normalMapType, this.normalScale.copy(e.normalScale), this.displacementMap = e.displacementMap, this.displacementScale = e.displacementScale, this.displacementBias = e.displacementBias, this.roughnessMap = e.roughnessMap, this.metalnessMap = e.metalnessMap, this.alphaMap = e.alphaMap, this.envMap = e.envMap, this.envMapRotation.copy(e.envMapRotation), this.envMapIntensity = e.envMapIntensity, this.wireframe = e.wireframe, this.wireframeLinewidth = e.wireframeLinewidth, this.wireframeLinecap = e.wireframeLinecap, this.wireframeLinejoin = e.wireframeLinejoin, this.flatShading = e.flatShading, this.fog = e.fog, this;
  }
}
class va extends vp {
  constructor(e) {
    super(), this.isMeshPhysicalMaterial = !0, this.defines = {
      STANDARD: "",
      PHYSICAL: ""
    }, this.type = "MeshPhysicalMaterial", this.anisotropyRotation = 0, this.anisotropyMap = null, this.clearcoatMap = null, this.clearcoatRoughness = 0, this.clearcoatRoughnessMap = null, this.clearcoatNormalScale = new mr(1, 1), this.clearcoatNormalMap = null, this.ior = 1.5, Object.defineProperty(this, "reflectivity", {
      get: function() {
        return ai(2.5 * (this.ior - 1) / (this.ior + 1), 0, 1);
      },
      set: function(n) {
        this.ior = (1 + 0.4 * n) / (1 - 0.4 * n);
      }
    }), this.iridescenceMap = null, this.iridescenceIOR = 1.3, this.iridescenceThicknessRange = [100, 400], this.iridescenceThicknessMap = null, this.sheenColor = new Ar(0), this.sheenColorMap = null, this.sheenRoughness = 1, this.sheenRoughnessMap = null, this.transmissionMap = null, this.thickness = 0, this.thicknessMap = null, this.attenuationDistance = 1 / 0, this.attenuationColor = new Ar(1, 1, 1), this.specularIntensity = 1, this.specularIntensityMap = null, this.specularColor = new Ar(1, 1, 1), this.specularColorMap = null, this._anisotropy = 0, this._clearcoat = 0, this._dispersion = 0, this._iridescence = 0, this._sheen = 0, this._transmission = 0, this.setValues(e);
  }
  get anisotropy() {
    return this._anisotropy;
  }
  set anisotropy(e) {
    this._anisotropy > 0 != e > 0 && this.version++, this._anisotropy = e;
  }
  get clearcoat() {
    return this._clearcoat;
  }
  set clearcoat(e) {
    this._clearcoat > 0 != e > 0 && this.version++, this._clearcoat = e;
  }
  get iridescence() {
    return this._iridescence;
  }
  set iridescence(e) {
    this._iridescence > 0 != e > 0 && this.version++, this._iridescence = e;
  }
  get dispersion() {
    return this._dispersion;
  }
  set dispersion(e) {
    this._dispersion > 0 != e > 0 && this.version++, this._dispersion = e;
  }
  get sheen() {
    return this._sheen;
  }
  set sheen(e) {
    this._sheen > 0 != e > 0 && this.version++, this._sheen = e;
  }
  get transmission() {
    return this._transmission;
  }
  set transmission(e) {
    this._transmission > 0 != e > 0 && this.version++, this._transmission = e;
  }
  copy(e) {
    return super.copy(e), this.defines = {
      STANDARD: "",
      PHYSICAL: ""
    }, this.anisotropy = e.anisotropy, this.anisotropyRotation = e.anisotropyRotation, this.anisotropyMap = e.anisotropyMap, this.clearcoat = e.clearcoat, this.clearcoatMap = e.clearcoatMap, this.clearcoatRoughness = e.clearcoatRoughness, this.clearcoatRoughnessMap = e.clearcoatRoughnessMap, this.clearcoatNormalMap = e.clearcoatNormalMap, this.clearcoatNormalScale.copy(e.clearcoatNormalScale), this.dispersion = e.dispersion, this.ior = e.ior, this.iridescence = e.iridescence, this.iridescenceMap = e.iridescenceMap, this.iridescenceIOR = e.iridescenceIOR, this.iridescenceThicknessRange = [...e.iridescenceThicknessRange], this.iridescenceThicknessMap = e.iridescenceThicknessMap, this.sheen = e.sheen, this.sheenColor.copy(e.sheenColor), this.sheenColorMap = e.sheenColorMap, this.sheenRoughness = e.sheenRoughness, this.sheenRoughnessMap = e.sheenRoughnessMap, this.transmission = e.transmission, this.transmissionMap = e.transmissionMap, this.thickness = e.thickness, this.thicknessMap = e.thicknessMap, this.attenuationDistance = e.attenuationDistance, this.attenuationColor.copy(e.attenuationColor), this.specularIntensity = e.specularIntensity, this.specularIntensityMap = e.specularIntensityMap, this.specularColor.copy(e.specularColor), this.specularColorMap = e.specularColorMap, this;
  }
}
function Ag(a, e, n) {
  return !a || // let 'undefined' and 'null' pass
  !n && a.constructor === e ? a : typeof e.BYTES_PER_ELEMENT == "number" ? new e(a) : Array.prototype.slice.call(a);
}
function Rle(a) {
  return ArrayBuffer.isView(a) && !(a instanceof DataView);
}
function Ble(a) {
  function e(o, l) {
    return a[o] - a[l];
  }
  const n = a.length, r = new Array(n);
  for (let o = 0; o !== n; ++o)
    r[o] = o;
  return r.sort(e), r;
}
function BS(a, e, n) {
  const r = a.length, o = new a.constructor(r);
  for (let l = 0, h = 0; h !== r; ++l) {
    const d = n[l] * e;
    for (let p = 0; p !== e; ++p)
      o[h++] = a[d + p];
  }
  return o;
}
function i5(a, e, n, r) {
  let o = 1, l = a[0];
  for (; l !== void 0 && l[r] === void 0; )
    l = a[o++];
  if (l === void 0)
    return;
  let h = l[r];
  if (h !== void 0)
    if (Array.isArray(h))
      do
        h = l[r], h !== void 0 && (e.push(l.time), n.push.apply(n, h)), l = a[o++];
      while (l !== void 0);
    else if (h.toArray !== void 0)
      do
        h = l[r], h !== void 0 && (e.push(l.time), h.toArray(n, n.length)), l = a[o++];
      while (l !== void 0);
    else
      do
        h = l[r], h !== void 0 && (e.push(l.time), n.push(h)), l = a[o++];
      while (l !== void 0);
}
class Bp {
  constructor(e, n, r, o) {
    this.parameterPositions = e, this._cachedIndex = 0, this.resultBuffer = o !== void 0 ? o : new n.constructor(r), this.sampleValues = n, this.valueSize = r, this.settings = null, this.DefaultSettings_ = {};
  }
  evaluate(e) {
    const n = this.parameterPositions;
    let r = this._cachedIndex, o = n[r], l = n[r - 1];
    n: {
      e: {
        let h;
        t: {
          r:
            if (!(e < o)) {
              for (let d = r + 2; ; ) {
                if (o === void 0) {
                  if (e < l)
                    break r;
                  return r = n.length, this._cachedIndex = r, this.copySampleValue_(r - 1);
                }
                if (r === d)
                  break;
                if (l = o, o = n[++r], e < o)
                  break e;
              }
              h = n.length;
              break t;
            }
          if (!(e >= l)) {
            const d = n[1];
            e < d && (r = 2, l = d);
            for (let p = r - 2; ; ) {
              if (l === void 0)
                return this._cachedIndex = 0, this.copySampleValue_(0);
              if (r === p)
                break;
              if (o = l, l = n[--r - 1], e >= l)
                break e;
            }
            h = r, r = 0;
            break t;
          }
          break n;
        }
        for (; r < h; ) {
          const d = r + h >>> 1;
          e < n[d] ? h = d : r = d + 1;
        }
        if (o = n[r], l = n[r - 1], l === void 0)
          return this._cachedIndex = 0, this.copySampleValue_(0);
        if (o === void 0)
          return r = n.length, this._cachedIndex = r, this.copySampleValue_(r - 1);
      }
      this._cachedIndex = r, this.intervalChanged_(r, l, o);
    }
    return this.interpolate_(r, l, e, o);
  }
  getSettings_() {
    return this.settings || this.DefaultSettings_;
  }
  copySampleValue_(e) {
    const n = this.resultBuffer, r = this.sampleValues, o = this.valueSize, l = e * o;
    for (let h = 0; h !== o; ++h)
      n[h] = r[l + h];
    return n;
  }
  // Template methods for derived classes:
  interpolate_() {
    throw new Error("call to abstract method");
  }
  intervalChanged_() {
  }
}
class Ole extends Bp {
  constructor(e, n, r, o) {
    super(e, n, r, o), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0, this.DefaultSettings_ = {
      endingStart: H3,
      endingEnd: H3
    };
  }
  intervalChanged_(e, n, r) {
    const o = this.parameterPositions;
    let l = e - 2, h = e + 1, d = o[l], p = o[h];
    if (d === void 0)
      switch (this.getSettings_().endingStart) {
        case $3:
          l = e, d = 2 * n - r;
          break;
        case q3:
          l = o.length - 2, d = n + o[l] - o[l + 1];
          break;
        default:
          l = e, d = r;
      }
    if (p === void 0)
      switch (this.getSettings_().endingEnd) {
        case $3:
          h = e, p = 2 * r - n;
          break;
        case q3:
          h = 1, p = r + o[1] - o[0];
          break;
        default:
          h = e - 1, p = n;
      }
    const g = (r - n) * 0.5, v = this.valueSize;
    this._weightPrev = g / (n - d), this._weightNext = g / (p - r), this._offsetPrev = l * v, this._offsetNext = h * v;
  }
  interpolate_(e, n, r, o) {
    const l = this.resultBuffer, h = this.sampleValues, d = this.valueSize, p = e * d, g = p - d, v = this._offsetPrev, y = this._offsetNext, x = this._weightPrev, w = this._weightNext, T = (r - n) / (o - n), M = T * T, S = M * T, L = -x * S + 2 * x * M - x * T, F = (1 + x) * S + (-1.5 - 2 * x) * M + (-0.5 + x) * T + 1, G = (-1 - w) * S + (1.5 + w) * M + 0.5 * T, $ = w * S - w * M;
    for (let K = 0; K !== d; ++K)
      l[K] = L * h[v + K] + F * h[g + K] + G * h[p + K] + $ * h[y + K];
    return l;
  }
}
class Lle extends Bp {
  constructor(e, n, r, o) {
    super(e, n, r, o);
  }
  interpolate_(e, n, r, o) {
    const l = this.resultBuffer, h = this.sampleValues, d = this.valueSize, p = e * d, g = p - d, v = (r - n) / (o - n), y = 1 - v;
    for (let x = 0; x !== d; ++x)
      l[x] = h[g + x] * y + h[p + x] * v;
    return l;
  }
}
class jle extends Bp {
  constructor(e, n, r, o) {
    super(e, n, r, o);
  }
  interpolate_(e) {
    return this.copySampleValue_(e - 1);
  }
}
class ya {
  constructor(e, n, r, o) {
    if (e === void 0)
      throw new Error("THREE.KeyframeTrack: track name is undefined");
    if (n === void 0 || n.length === 0)
      throw new Error("THREE.KeyframeTrack: no keyframes in track named " + e);
    this.name = e, this.times = Ag(n, this.TimeBufferType), this.values = Ag(r, this.ValueBufferType), this.setInterpolation(o || this.DefaultInterpolation);
  }
  // Serialization (in static context, because of constructor invocation
  // and automatic invocation of .toJSON):
  static toJSON(e) {
    const n = e.constructor;
    let r;
    if (n.toJSON !== this.toJSON)
      r = n.toJSON(e);
    else {
      r = {
        name: e.name,
        times: Ag(e.times, Array),
        values: Ag(e.values, Array)
      };
      const o = e.getInterpolation();
      o !== e.DefaultInterpolation && (r.interpolation = o);
    }
    return r.type = e.ValueTypeName, r;
  }
  InterpolantFactoryMethodDiscrete(e) {
    return new jle(this.times, this.values, this.getValueSize(), e);
  }
  InterpolantFactoryMethodLinear(e) {
    return new Lle(this.times, this.values, this.getValueSize(), e);
  }
  InterpolantFactoryMethodSmooth(e) {
    return new Ole(this.times, this.values, this.getValueSize(), e);
  }
  setInterpolation(e) {
    let n;
    switch (e) {
      case gp:
        n = this.InterpolantFactoryMethodDiscrete;
        break;
      case Fu:
        n = this.InterpolantFactoryMethodLinear;
        break;
      case Wy:
        n = this.InterpolantFactoryMethodSmooth;
        break;
    }
    if (n === void 0) {
      const r = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
      if (this.createInterpolant === void 0)
        if (e !== this.DefaultInterpolation)
          this.setInterpolation(this.DefaultInterpolation);
        else
          throw new Error(r);
      return console.warn("THREE.KeyframeTrack:", r), this;
    }
    return this.createInterpolant = n, this;
  }
  getInterpolation() {
    switch (this.createInterpolant) {
      case this.InterpolantFactoryMethodDiscrete:
        return gp;
      case this.InterpolantFactoryMethodLinear:
        return Fu;
      case this.InterpolantFactoryMethodSmooth:
        return Wy;
    }
  }
  getValueSize() {
    return this.values.length / this.times.length;
  }
  // move all keyframes either forwards or backwards in time
  shift(e) {
    if (e !== 0) {
      const n = this.times;
      for (let r = 0, o = n.length; r !== o; ++r)
        n[r] += e;
    }
    return this;
  }
  // scale all keyframe times by a factor (useful for frame <-> seconds conversions)
  scale(e) {
    if (e !== 1) {
      const n = this.times;
      for (let r = 0, o = n.length; r !== o; ++r)
        n[r] *= e;
    }
    return this;
  }
  // removes keyframes before and after animation without changing any values within the range [startTime, endTime].
  // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values
  trim(e, n) {
    const r = this.times, o = r.length;
    let l = 0, h = o - 1;
    for (; l !== o && r[l] < e; )
      ++l;
    for (; h !== -1 && r[h] > n; )
      --h;
    if (++h, l !== 0 || h !== o) {
      l >= h && (h = Math.max(h, 1), l = h - 1);
      const d = this.getValueSize();
      this.times = r.slice(l, h), this.values = this.values.slice(l * d, h * d);
    }
    return this;
  }
  // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable
  validate() {
    let e = !0;
    const n = this.getValueSize();
    n - Math.floor(n) !== 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), e = !1);
    const r = this.times, o = this.values, l = r.length;
    l === 0 && (console.error("THREE.KeyframeTrack: Track is empty.", this), e = !1);
    let h = null;
    for (let d = 0; d !== l; d++) {
      const p = r[d];
      if (typeof p == "number" && isNaN(p)) {
        console.error("THREE.KeyframeTrack: Time is not a valid number.", this, d, p), e = !1;
        break;
      }
      if (h !== null && h > p) {
        console.error("THREE.KeyframeTrack: Out of order keys.", this, d, p, h), e = !1;
        break;
      }
      h = p;
    }
    if (o !== void 0 && Rle(o))
      for (let d = 0, p = o.length; d !== p; ++d) {
        const g = o[d];
        if (isNaN(g)) {
          console.error("THREE.KeyframeTrack: Value is not a valid number.", this, d, g), e = !1;
          break;
        }
      }
    return e;
  }
  // removes equivalent sequential keys as common in morph target sequences
  // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)
  optimize() {
    const e = this.times.slice(), n = this.values.slice(), r = this.getValueSize(), o = this.getInterpolation() === Wy, l = e.length - 1;
    let h = 1;
    for (let d = 1; d < l; ++d) {
      let p = !1;
      const g = e[d], v = e[d + 1];
      if (g !== v && (d !== 1 || g !== e[0]))
        if (o)
          p = !0;
        else {
          const y = d * r, x = y - r, w = y + r;
          for (let T = 0; T !== r; ++T) {
            const M = n[y + T];
            if (M !== n[x + T] || M !== n[w + T]) {
              p = !0;
              break;
            }
          }
        }
      if (p) {
        if (d !== h) {
          e[h] = e[d];
          const y = d * r, x = h * r;
          for (let w = 0; w !== r; ++w)
            n[x + w] = n[y + w];
        }
        ++h;
      }
    }
    if (l > 0) {
      e[h] = e[l];
      for (let d = l * r, p = h * r, g = 0; g !== r; ++g)
        n[p + g] = n[d + g];
      ++h;
    }
    return h !== e.length ? (this.times = e.slice(0, h), this.values = n.slice(0, h * r)) : (this.times = e, this.values = n), this;
  }
  clone() {
    const e = this.times.slice(), n = this.values.slice(), r = this.constructor, o = new r(this.name, e, n);
    return o.createInterpolant = this.createInterpolant, o;
  }
}
ya.prototype.TimeBufferType = Float32Array;
ya.prototype.ValueBufferType = Float32Array;
ya.prototype.DefaultInterpolation = Fu;
class rd extends ya {
}
rd.prototype.ValueTypeName = "bool";
rd.prototype.ValueBufferType = Array;
rd.prototype.DefaultInterpolation = gp;
rd.prototype.InterpolantFactoryMethodLinear = void 0;
rd.prototype.InterpolantFactoryMethodSmooth = void 0;
class o5 extends ya {
}
o5.prototype.ValueTypeName = "color";
class ku extends ya {
}
ku.prototype.ValueTypeName = "number";
class Dle extends Bp {
  constructor(e, n, r, o) {
    super(e, n, r, o);
  }
  interpolate_(e, n, r, o) {
    const l = this.resultBuffer, h = this.sampleValues, d = this.valueSize, p = (r - n) / (o - n);
    let g = e * d;
    for (let v = g + d; g !== v; g += 4)
      Ml.slerpFlat(l, 0, h, g - d, h, g, p);
    return l;
  }
}
class Hc extends ya {
  InterpolantFactoryMethodLinear(e) {
    return new Dle(this.times, this.values, this.getValueSize(), e);
  }
}
Hc.prototype.ValueTypeName = "quaternion";
Hc.prototype.DefaultInterpolation = Fu;
Hc.prototype.InterpolantFactoryMethodSmooth = void 0;
class id extends ya {
}
id.prototype.ValueTypeName = "string";
id.prototype.ValueBufferType = Array;
id.prototype.DefaultInterpolation = gp;
id.prototype.InterpolantFactoryMethodLinear = void 0;
id.prototype.InterpolantFactoryMethodSmooth = void 0;
class Xu extends ya {
}
Xu.prototype.ValueTypeName = "vector";
class Fle {
  constructor(e = "", n = -1, r = [], o = Tse) {
    this.name = e, this.tracks = r, this.duration = n, this.blendMode = o, this.uuid = ko(), this.duration < 0 && this.resetDuration();
  }
  static parse(e) {
    const n = [], r = e.tracks, o = 1 / (e.fps || 1);
    for (let h = 0, d = r.length; h !== d; ++h)
      n.push(Xle(r[h]).scale(o));
    const l = new this(e.name, e.duration, n, e.blendMode);
    return l.uuid = e.uuid, l;
  }
  static toJSON(e) {
    const n = [], r = e.tracks, o = {
      name: e.name,
      duration: e.duration,
      tracks: n,
      uuid: e.uuid,
      blendMode: e.blendMode
    };
    for (let l = 0, h = r.length; l !== h; ++l)
      n.push(ya.toJSON(r[l]));
    return o;
  }
  static CreateFromMorphTargetSequence(e, n, r, o) {
    const l = n.length, h = [];
    for (let d = 0; d < l; d++) {
      let p = [], g = [];
      p.push(
        (d + l - 1) % l,
        d,
        (d + 1) % l
      ), g.push(0, 1, 0);
      const v = Ble(p);
      p = BS(p, 1, v), g = BS(g, 1, v), !o && p[0] === 0 && (p.push(l), g.push(g[0])), h.push(
        new ku(
          ".morphTargetInfluences[" + n[d].name + "]",
          p,
          g
        ).scale(1 / r)
      );
    }
    return new this(e, -1, h);
  }
  static findByName(e, n) {
    let r = e;
    if (!Array.isArray(e)) {
      const o = e;
      r = o.geometry && o.geometry.animations || o.animations;
    }
    for (let o = 0; o < r.length; o++)
      if (r[o].name === n)
        return r[o];
    return null;
  }
  static CreateClipsFromMorphTargetSequences(e, n, r) {
    const o = {}, l = /^([\w-]*?)([\d]+)$/;
    for (let d = 0, p = e.length; d < p; d++) {
      const g = e[d], v = g.name.match(l);
      if (v && v.length > 1) {
        const y = v[1];
        let x = o[y];
        x || (o[y] = x = []), x.push(g);
      }
    }
    const h = [];
    for (const d in o)
      h.push(this.CreateFromMorphTargetSequence(d, o[d], n, r));
    return h;
  }
  // parse the animation.hierarchy format
  static parseAnimation(e, n) {
    if (!e)
      return console.error("THREE.AnimationClip: No animation in JSONLoader data."), null;
    const r = function(y, x, w, T, M) {
      if (w.length !== 0) {
        const S = [], L = [];
        i5(w, S, L, T), S.length !== 0 && M.push(new y(x, S, L));
      }
    }, o = [], l = e.name || "default", h = e.fps || 30, d = e.blendMode;
    let p = e.length || -1;
    const g = e.hierarchy || [];
    for (let y = 0; y < g.length; y++) {
      const x = g[y].keys;
      if (!(!x || x.length === 0))
        if (x[0].morphTargets) {
          const w = {};
          let T;
          for (T = 0; T < x.length; T++)
            if (x[T].morphTargets)
              for (let M = 0; M < x[T].morphTargets.length; M++)
                w[x[T].morphTargets[M]] = -1;
          for (const M in w) {
            const S = [], L = [];
            for (let F = 0; F !== x[T].morphTargets.length; ++F) {
              const G = x[T];
              S.push(G.time), L.push(G.morphTarget === M ? 1 : 0);
            }
            o.push(new ku(".morphTargetInfluence[" + M + "]", S, L));
          }
          p = w.length * h;
        } else {
          const w = ".bones[" + n[y].name + "]";
          r(
            Xu,
            w + ".position",
            x,
            "pos",
            o
          ), r(
            Hc,
            w + ".quaternion",
            x,
            "rot",
            o
          ), r(
            Xu,
            w + ".scale",
            x,
            "scl",
            o
          );
        }
    }
    return o.length === 0 ? null : new this(l, p, o, d);
  }
  resetDuration() {
    const e = this.tracks;
    let n = 0;
    for (let r = 0, o = e.length; r !== o; ++r) {
      const l = this.tracks[r];
      n = Math.max(n, l.times[l.times.length - 1]);
    }
    return this.duration = n, this;
  }
  trim() {
    for (let e = 0; e < this.tracks.length; e++)
      this.tracks[e].trim(0, this.duration);
    return this;
  }
  validate() {
    let e = !0;
    for (let n = 0; n < this.tracks.length; n++)
      e = e && this.tracks[n].validate();
    return e;
  }
  optimize() {
    for (let e = 0; e < this.tracks.length; e++)
      this.tracks[e].optimize();
    return this;
  }
  clone() {
    const e = [];
    for (let n = 0; n < this.tracks.length; n++)
      e.push(this.tracks[n].clone());
    return new this.constructor(this.name, this.duration, e, this.blendMode);
  }
  toJSON() {
    return this.constructor.toJSON(this);
  }
}
function kle(a) {
  switch (a.toLowerCase()) {
    case "scalar":
    case "double":
    case "float":
    case "number":
    case "integer":
      return ku;
    case "vector":
    case "vector2":
    case "vector3":
    case "vector4":
      return Xu;
    case "color":
      return o5;
    case "quaternion":
      return Hc;
    case "bool":
    case "boolean":
      return rd;
    case "string":
      return id;
  }
  throw new Error("THREE.KeyframeTrack: Unsupported typeName: " + a);
}
function Xle(a) {
  if (a.type === void 0)
    throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");
  const e = kle(a.type);
  if (a.times === void 0) {
    const n = [], r = [];
    i5(a.keys, n, r, "value"), a.times = n, a.values = r;
  }
  return e.parse !== void 0 ? e.parse(a) : new e(a.name, a.times, a.values, a.interpolation);
}
const pl = {
  enabled: !1,
  files: {},
  add: function(a, e) {
    this.enabled !== !1 && (this.files[a] = e);
  },
  get: function(a) {
    if (this.enabled !== !1)
      return this.files[a];
  },
  remove: function(a) {
    delete this.files[a];
  },
  clear: function() {
    this.files = {};
  }
};
class zle {
  constructor(e, n, r) {
    const o = this;
    let l = !1, h = 0, d = 0, p;
    const g = [];
    this.onStart = void 0, this.onLoad = e, this.onProgress = n, this.onError = r, this.itemStart = function(v) {
      d++, l === !1 && o.onStart !== void 0 && o.onStart(v, h, d), l = !0;
    }, this.itemEnd = function(v) {
      h++, o.onProgress !== void 0 && o.onProgress(v, h, d), h === d && (l = !1, o.onLoad !== void 0 && o.onLoad());
    }, this.itemError = function(v) {
      o.onError !== void 0 && o.onError(v);
    }, this.resolveURL = function(v) {
      return p ? p(v) : v;
    }, this.setURLModifier = function(v) {
      return p = v, this;
    }, this.addHandler = function(v, y) {
      return g.push(v, y), this;
    }, this.removeHandler = function(v) {
      const y = g.indexOf(v);
      return y !== -1 && g.splice(y, 2), this;
    }, this.getHandler = function(v) {
      for (let y = 0, x = g.length; y < x; y += 2) {
        const w = g[y], T = g[y + 1];
        if (w.global && (w.lastIndex = 0), w.test(v))
          return T;
      }
      return null;
    };
  }
}
const Ule = /* @__PURE__ */ new zle();
class eh {
  constructor(e) {
    this.manager = e !== void 0 ? e : Ule, this.crossOrigin = "anonymous", this.withCredentials = !1, this.path = "", this.resourcePath = "", this.requestHeader = {};
  }
  load() {
  }
  loadAsync(e, n) {
    const r = this;
    return new Promise(function(o, l) {
      r.load(e, o, n, l);
    });
  }
  parse() {
  }
  setCrossOrigin(e) {
    return this.crossOrigin = e, this;
  }
  setWithCredentials(e) {
    return this.withCredentials = e, this;
  }
  setPath(e) {
    return this.path = e, this;
  }
  setResourcePath(e) {
    return this.resourcePath = e, this;
  }
  setRequestHeader(e) {
    return this.requestHeader = e, this;
  }
}
eh.DEFAULT_MATERIAL_NAME = "__DEFAULT";
const as = {};
class Gle extends Error {
  constructor(e, n) {
    super(e), this.response = n;
  }
}
class r0 extends eh {
  constructor(e) {
    super(e);
  }
  load(e, n, r, o) {
    e === void 0 && (e = ""), this.path !== void 0 && (e = this.path + e), e = this.manager.resolveURL(e);
    const l = pl.get(e);
    if (l !== void 0)
      return this.manager.itemStart(e), setTimeout(() => {
        n && n(l), this.manager.itemEnd(e);
      }, 0), l;
    if (as[e] !== void 0) {
      as[e].push({
        onLoad: n,
        onProgress: r,
        onError: o
      });
      return;
    }
    as[e] = [], as[e].push({
      onLoad: n,
      onProgress: r,
      onError: o
    });
    const h = new Request(e, {
      headers: new Headers(this.requestHeader),
      credentials: this.withCredentials ? "include" : "same-origin"
      // An abort controller could be added within a future PR
    }), d = this.mimeType, p = this.responseType;
    fetch(h).then((g) => {
      if (g.status === 200 || g.status === 0) {
        if (g.status === 0 && console.warn("THREE.FileLoader: HTTP Status 0 received."), typeof ReadableStream > "u" || g.body === void 0 || g.body.getReader === void 0)
          return g;
        const v = as[e], y = g.body.getReader(), x = g.headers.get("X-File-Size") || g.headers.get("Content-Length"), w = x ? parseInt(x) : 0, T = w !== 0;
        let M = 0;
        const S = new ReadableStream({
          start(L) {
            F();
            function F() {
              y.read().then(({ done: G, value: $ }) => {
                if (G)
                  L.close();
                else {
                  M += $.byteLength;
                  const K = new ProgressEvent("progress", { lengthComputable: T, loaded: M, total: w });
                  for (let q = 0, he = v.length; q < he; q++) {
                    const ae = v[q];
                    ae.onProgress && ae.onProgress(K);
                  }
                  L.enqueue($), F();
                }
              });
            }
          }
        });
        return new Response(S);
      } else
        throw new Gle(`fetch for "${g.url}" responded with ${g.status}: ${g.statusText}`, g);
    }).then((g) => {
      switch (p) {
        case "arraybuffer":
          return g.arrayBuffer();
        case "blob":
          return g.blob();
        case "document":
          return g.text().then((v) => new DOMParser().parseFromString(v, d));
        case "json":
          return g.json();
        default:
          if (d === void 0)
            return g.text();
          {
            const y = /charset="?([^;"\s]*)"?/i.exec(d), x = y && y[1] ? y[1].toLowerCase() : void 0, w = new TextDecoder(x);
            return g.arrayBuffer().then((T) => w.decode(T));
          }
      }
    }).then((g) => {
      pl.add(e, g);
      const v = as[e];
      delete as[e];
      for (let y = 0, x = v.length; y < x; y++) {
        const w = v[y];
        w.onLoad && w.onLoad(g);
      }
    }).catch((g) => {
      const v = as[e];
      if (v === void 0)
        throw this.manager.itemError(e), g;
      delete as[e];
      for (let y = 0, x = v.length; y < x; y++) {
        const w = v[y];
        w.onError && w.onError(g);
      }
      this.manager.itemError(e);
    }).finally(() => {
      this.manager.itemEnd(e);
    }), this.manager.itemStart(e);
  }
  setResponseType(e) {
    return this.responseType = e, this;
  }
  setMimeType(e) {
    return this.mimeType = e, this;
  }
}
class Wle extends eh {
  constructor(e) {
    super(e);
  }
  load(e, n, r, o) {
    this.path !== void 0 && (e = this.path + e), e = this.manager.resolveURL(e);
    const l = this, h = pl.get(e);
    if (h !== void 0)
      return l.manager.itemStart(e), setTimeout(function() {
        n && n(h), l.manager.itemEnd(e);
      }, 0), h;
    const d = i2("img");
    function p() {
      v(), pl.add(e, this), n && n(this), l.manager.itemEnd(e);
    }
    function g(y) {
      v(), o && o(y), l.manager.itemError(e), l.manager.itemEnd(e);
    }
    function v() {
      d.removeEventListener("load", p, !1), d.removeEventListener("error", g, !1);
    }
    return d.addEventListener("load", p, !1), d.addEventListener("error", g, !1), e.slice(0, 5) !== "data:" && this.crossOrigin !== void 0 && (d.crossOrigin = this.crossOrigin), l.manager.itemStart(e), d.src = e, d;
  }
}
class Vle extends eh {
  constructor(e) {
    super(e);
  }
  load(e, n, r, o) {
    const l = new ao(), h = new Wle(this.manager);
    return h.setCrossOrigin(this.crossOrigin), h.setPath(this.path), h.load(e, function(d) {
      l.image = d, l.needsUpdate = !0, n !== void 0 && n(l);
    }, r, o), l;
  }
}
class BC extends Vr {
  constructor(e, n = 1) {
    super(), this.isLight = !0, this.type = "Light", this.color = new Ar(e), this.intensity = n;
  }
  dispose() {
  }
  copy(e, n) {
    return super.copy(e, n), this.color.copy(e.color), this.intensity = e.intensity, this;
  }
  toJSON(e) {
    const n = super.toJSON(e);
    return n.object.color = this.color.getHex(), n.object.intensity = this.intensity, this.groundColor !== void 0 && (n.object.groundColor = this.groundColor.getHex()), this.distance !== void 0 && (n.object.distance = this.distance), this.angle !== void 0 && (n.object.angle = this.angle), this.decay !== void 0 && (n.object.decay = this.decay), this.penumbra !== void 0 && (n.object.penumbra = this.penumbra), this.shadow !== void 0 && (n.object.shadow = this.shadow.toJSON()), n;
  }
}
const mx = /* @__PURE__ */ new In(), OS = /* @__PURE__ */ new Re(), LS = /* @__PURE__ */ new Re();
class OC {
  constructor(e) {
    this.camera = e, this.bias = 0, this.normalBias = 0, this.radius = 1, this.blurSamples = 8, this.mapSize = new mr(512, 512), this.map = null, this.mapPass = null, this.matrix = new In(), this.autoUpdate = !0, this.needsUpdate = !1, this._frustum = new yle(), this._frameExtents = new mr(1, 1), this._viewportCount = 1, this._viewports = [
      new no(0, 0, 1, 1)
    ];
  }
  getViewportCount() {
    return this._viewportCount;
  }
  getFrustum() {
    return this._frustum;
  }
  updateMatrices(e) {
    const n = this.camera, r = this.matrix;
    OS.setFromMatrixPosition(e.matrixWorld), n.position.copy(OS), LS.setFromMatrixPosition(e.target.matrixWorld), n.lookAt(LS), n.updateMatrixWorld(), mx.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse), this._frustum.setFromProjectionMatrix(mx), r.set(
      0.5,
      0,
      0,
      0.5,
      0,
      0.5,
      0,
      0.5,
      0,
      0,
      0.5,
      0.5,
      0,
      0,
      0,
      1
    ), r.multiply(mx);
  }
  getViewport(e) {
    return this._viewports[e];
  }
  getFrameExtents() {
    return this._frameExtents;
  }
  dispose() {
    this.map && this.map.dispose(), this.mapPass && this.mapPass.dispose();
  }
  copy(e) {
    return this.camera = e.camera.clone(), this.bias = e.bias, this.radius = e.radius, this.mapSize.copy(e.mapSize), this;
  }
  clone() {
    return new this.constructor().copy(this);
  }
  toJSON() {
    const e = {};
    return this.bias !== 0 && (e.bias = this.bias), this.normalBias !== 0 && (e.normalBias = this.normalBias), this.radius !== 1 && (e.radius = this.radius), (this.mapSize.x !== 512 || this.mapSize.y !== 512) && (e.mapSize = this.mapSize.toArray()), e.camera = this.camera.toJSON(!1).object, delete e.camera.matrix, e;
  }
}
class Hle extends OC {
  constructor() {
    super(new AC(50, 1, 0.5, 500)), this.isSpotLightShadow = !0, this.focus = 1;
  }
  updateMatrices(e) {
    const n = this.camera, r = bp * 2 * e.angle * this.focus, o = this.mapSize.width / this.mapSize.height, l = e.distance || n.far;
    (r !== n.fov || o !== n.aspect || l !== n.far) && (n.fov = r, n.aspect = o, n.far = l, n.updateProjectionMatrix()), super.updateMatrices(e);
  }
  copy(e) {
    return super.copy(e), this.focus = e.focus, this;
  }
}
class $le extends BC {
  constructor(e, n, r = 0, o = Math.PI / 3, l = 0, h = 2) {
    super(e, n), this.isSpotLight = !0, this.type = "SpotLight", this.position.copy(Vr.DEFAULT_UP), this.updateMatrix(), this.target = new Vr(), this.distance = r, this.angle = o, this.penumbra = l, this.decay = h, this.map = null, this.shadow = new Hle();
  }
  get power() {
    return this.intensity * Math.PI;
  }
  set power(e) {
    this.intensity = e / Math.PI;
  }
  dispose() {
    this.shadow.dispose();
  }
  copy(e, n) {
    return super.copy(e, n), this.distance = e.distance, this.angle = e.angle, this.penumbra = e.penumbra, this.decay = e.decay, this.target = e.target.clone(), this.shadow = e.shadow.clone(), this;
  }
}
const jS = /* @__PURE__ */ new In(), Qm = /* @__PURE__ */ new Re(), px = /* @__PURE__ */ new Re();
class qle extends OC {
  constructor() {
    super(new AC(90, 1, 0.5, 500)), this.isPointLightShadow = !0, this._frameExtents = new mr(4, 2), this._viewportCount = 6, this._viewports = [
      // These viewports map a cube-map onto a 2D texture with the
      // following orientation:
      //
      //  xzXZ
      //   y Y
      //
      // X - Positive x direction
      // x - Negative x direction
      // Y - Positive y direction
      // y - Negative y direction
      // Z - Positive z direction
      // z - Negative z direction
      // positive X
      new no(2, 1, 1, 1),
      // negative X
      new no(0, 1, 1, 1),
      // positive Z
      new no(3, 1, 1, 1),
      // negative Z
      new no(1, 1, 1, 1),
      // positive Y
      new no(3, 0, 1, 1),
      // negative Y
      new no(1, 0, 1, 1)
    ], this._cubeDirections = [
      new Re(1, 0, 0),
      new Re(-1, 0, 0),
      new Re(0, 0, 1),
      new Re(0, 0, -1),
      new Re(0, 1, 0),
      new Re(0, -1, 0)
    ], this._cubeUps = [
      new Re(0, 1, 0),
      new Re(0, 1, 0),
      new Re(0, 1, 0),
      new Re(0, 1, 0),
      new Re(0, 0, 1),
      new Re(0, 0, -1)
    ];
  }
  updateMatrices(e, n = 0) {
    const r = this.camera, o = this.matrix, l = e.distance || r.far;
    l !== r.far && (r.far = l, r.updateProjectionMatrix()), Qm.setFromMatrixPosition(e.matrixWorld), r.position.copy(Qm), px.copy(r.position), px.add(this._cubeDirections[n]), r.up.copy(this._cubeUps[n]), r.lookAt(px), r.updateMatrixWorld(), o.makeTranslation(-Qm.x, -Qm.y, -Qm.z), jS.multiplyMatrices(r.projectionMatrix, r.matrixWorldInverse), this._frustum.setFromProjectionMatrix(jS);
  }
}
class a5 extends BC {
  constructor(e, n, r = 0, o = 2) {
    super(e, n), this.isPointLight = !0, this.type = "PointLight", this.distance = r, this.decay = o, this.shadow = new qle();
  }
  get power() {
    return this.intensity * 4 * Math.PI;
  }
  set power(e) {
    this.intensity = e / (4 * Math.PI);
  }
  dispose() {
    this.shadow.dispose();
  }
  copy(e, n) {
    return super.copy(e, n), this.distance = e.distance, this.decay = e.decay, this.shadow = e.shadow.clone(), this;
  }
}
class Yle extends OC {
  constructor() {
    super(new QE(-5, 5, 5, -5, 0.5, 500)), this.isDirectionalLightShadow = !0;
  }
}
class Kle extends BC {
  constructor(e, n) {
    super(e, n), this.isDirectionalLight = !0, this.type = "DirectionalLight", this.position.copy(Vr.DEFAULT_UP), this.updateMatrix(), this.target = new Vr(), this.shadow = new Yle();
  }
  dispose() {
    this.shadow.dispose();
  }
  copy(e) {
    return super.copy(e), this.target = e.target.clone(), this.shadow = e.shadow.clone(), this;
  }
}
class cp {
  static decodeText(e) {
    if (typeof TextDecoder < "u")
      return new TextDecoder().decode(e);
    let n = "";
    for (let r = 0, o = e.length; r < o; r++)
      n += String.fromCharCode(e[r]);
    try {
      return decodeURIComponent(escape(n));
    } catch {
      return n;
    }
  }
  static extractUrlBase(e) {
    const n = e.lastIndexOf("/");
    return n === -1 ? "./" : e.slice(0, n + 1);
  }
  static resolveURL(e, n) {
    return typeof e != "string" || e === "" ? "" : (/^https?:\/\//i.test(n) && /^\//.test(e) && (n = n.replace(/(^https?:\/\/[^\/]+).*/i, "$1")), /^(https?:)?\/\//i.test(e) || /^data:.*,.*$/i.test(e) || /^blob:.*$/i.test(e) ? e : n + e);
  }
}
class Zle extends eh {
  constructor(e) {
    super(e), this.isImageBitmapLoader = !0, typeof createImageBitmap > "u" && console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."), typeof fetch > "u" && console.warn("THREE.ImageBitmapLoader: fetch() not supported."), this.options = { premultiplyAlpha: "none" };
  }
  setOptions(e) {
    return this.options = e, this;
  }
  load(e, n, r, o) {
    e === void 0 && (e = ""), this.path !== void 0 && (e = this.path + e), e = this.manager.resolveURL(e);
    const l = this, h = pl.get(e);
    if (h !== void 0) {
      if (l.manager.itemStart(e), h.then) {
        h.then((g) => {
          n && n(g), l.manager.itemEnd(e);
        }).catch((g) => {
          o && o(g);
        });
        return;
      }
      return setTimeout(function() {
        n && n(h), l.manager.itemEnd(e);
      }, 0), h;
    }
    const d = {};
    d.credentials = this.crossOrigin === "anonymous" ? "same-origin" : "include", d.headers = this.requestHeader;
    const p = fetch(e, d).then(function(g) {
      return g.blob();
    }).then(function(g) {
      return createImageBitmap(g, Object.assign(l.options, { colorSpaceConversion: "none" }));
    }).then(function(g) {
      return pl.add(e, g), n && n(g), l.manager.itemEnd(e), g;
    }).catch(function(g) {
      o && o(g), pl.remove(e), l.manager.itemError(e), l.manager.itemEnd(e);
    });
    pl.add(e, p), l.manager.itemStart(e);
  }
}
const LC = "\\[\\]\\.:\\/", Jle = new RegExp("[" + LC + "]", "g"), jC = "[^" + LC + "]", Qle = "[^" + LC.replace("\\.", "") + "]", ece = /* @__PURE__ */ /((?:WC+[\/:])*)/.source.replace("WC", jC), tce = /* @__PURE__ */ /(WCOD+)?/.source.replace("WCOD", Qle), nce = /* @__PURE__ */ /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", jC), rce = /* @__PURE__ */ /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", jC), ice = new RegExp(
  "^" + ece + tce + nce + rce + "$"
), oce = ["material", "materials", "bones", "map"];
class ace {
  constructor(e, n, r) {
    const o = r || qn.parseTrackName(n);
    this._targetGroup = e, this._bindings = e.subscribe_(n, o);
  }
  getValue(e, n) {
    this.bind();
    const r = this._targetGroup.nCachedObjects_, o = this._bindings[r];
    o !== void 0 && o.getValue(e, n);
  }
  setValue(e, n) {
    const r = this._bindings;
    for (let o = this._targetGroup.nCachedObjects_, l = r.length; o !== l; ++o)
      r[o].setValue(e, n);
  }
  bind() {
    const e = this._bindings;
    for (let n = this._targetGroup.nCachedObjects_, r = e.length; n !== r; ++n)
      e[n].bind();
  }
  unbind() {
    const e = this._bindings;
    for (let n = this._targetGroup.nCachedObjects_, r = e.length; n !== r; ++n)
      e[n].unbind();
  }
}
class qn {
  constructor(e, n, r) {
    this.path = n, this.parsedPath = r || qn.parseTrackName(n), this.node = qn.findNode(e, this.parsedPath.nodeName), this.rootNode = e, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
  }
  static create(e, n, r) {
    return e && e.isAnimationObjectGroup ? new qn.Composite(e, n, r) : new qn(e, n, r);
  }
  /**
   * Replaces spaces with underscores and removes unsupported characters from
   * node names, to ensure compatibility with parseTrackName().
   *
   * @param {string} name Node name to be sanitized.
   * @return {string}
   */
  static sanitizeNodeName(e) {
    return e.replace(/\s/g, "_").replace(Jle, "");
  }
  static parseTrackName(e) {
    const n = ice.exec(e);
    if (n === null)
      throw new Error("PropertyBinding: Cannot parse trackName: " + e);
    const r = {
      // directoryName: matches[ 1 ], // (tschw) currently unused
      nodeName: n[2],
      objectName: n[3],
      objectIndex: n[4],
      propertyName: n[5],
      // required
      propertyIndex: n[6]
    }, o = r.nodeName && r.nodeName.lastIndexOf(".");
    if (o !== void 0 && o !== -1) {
      const l = r.nodeName.substring(o + 1);
      oce.indexOf(l) !== -1 && (r.nodeName = r.nodeName.substring(0, o), r.objectName = l);
    }
    if (r.propertyName === null || r.propertyName.length === 0)
      throw new Error("PropertyBinding: can not parse propertyName from trackName: " + e);
    return r;
  }
  static findNode(e, n) {
    if (n === void 0 || n === "" || n === "." || n === -1 || n === e.name || n === e.uuid)
      return e;
    if (e.skeleton) {
      const r = e.skeleton.getBoneByName(n);
      if (r !== void 0)
        return r;
    }
    if (e.children) {
      const r = function(l) {
        for (let h = 0; h < l.length; h++) {
          const d = l[h];
          if (d.name === n || d.uuid === n)
            return d;
          const p = r(d.children);
          if (p)
            return p;
        }
        return null;
      }, o = r(e.children);
      if (o)
        return o;
    }
    return null;
  }
  // these are used to "bind" a nonexistent property
  _getValue_unavailable() {
  }
  _setValue_unavailable() {
  }
  // Getters
  _getValue_direct(e, n) {
    e[n] = this.targetObject[this.propertyName];
  }
  _getValue_array(e, n) {
    const r = this.resolvedProperty;
    for (let o = 0, l = r.length; o !== l; ++o)
      e[n++] = r[o];
  }
  _getValue_arrayElement(e, n) {
    e[n] = this.resolvedProperty[this.propertyIndex];
  }
  _getValue_toArray(e, n) {
    this.resolvedProperty.toArray(e, n);
  }
  // Direct
  _setValue_direct(e, n) {
    this.targetObject[this.propertyName] = e[n];
  }
  _setValue_direct_setNeedsUpdate(e, n) {
    this.targetObject[this.propertyName] = e[n], this.targetObject.needsUpdate = !0;
  }
  _setValue_direct_setMatrixWorldNeedsUpdate(e, n) {
    this.targetObject[this.propertyName] = e[n], this.targetObject.matrixWorldNeedsUpdate = !0;
  }
  // EntireArray
  _setValue_array(e, n) {
    const r = this.resolvedProperty;
    for (let o = 0, l = r.length; o !== l; ++o)
      r[o] = e[n++];
  }
  _setValue_array_setNeedsUpdate(e, n) {
    const r = this.resolvedProperty;
    for (let o = 0, l = r.length; o !== l; ++o)
      r[o] = e[n++];
    this.targetObject.needsUpdate = !0;
  }
  _setValue_array_setMatrixWorldNeedsUpdate(e, n) {
    const r = this.resolvedProperty;
    for (let o = 0, l = r.length; o !== l; ++o)
      r[o] = e[n++];
    this.targetObject.matrixWorldNeedsUpdate = !0;
  }
  // ArrayElement
  _setValue_arrayElement(e, n) {
    this.resolvedProperty[this.propertyIndex] = e[n];
  }
  _setValue_arrayElement_setNeedsUpdate(e, n) {
    this.resolvedProperty[this.propertyIndex] = e[n], this.targetObject.needsUpdate = !0;
  }
  _setValue_arrayElement_setMatrixWorldNeedsUpdate(e, n) {
    this.resolvedProperty[this.propertyIndex] = e[n], this.targetObject.matrixWorldNeedsUpdate = !0;
  }
  // HasToFromArray
  _setValue_fromArray(e, n) {
    this.resolvedProperty.fromArray(e, n);
  }
  _setValue_fromArray_setNeedsUpdate(e, n) {
    this.resolvedProperty.fromArray(e, n), this.targetObject.needsUpdate = !0;
  }
  _setValue_fromArray_setMatrixWorldNeedsUpdate(e, n) {
    this.resolvedProperty.fromArray(e, n), this.targetObject.matrixWorldNeedsUpdate = !0;
  }
  _getValue_unbound(e, n) {
    this.bind(), this.getValue(e, n);
  }
  _setValue_unbound(e, n) {
    this.bind(), this.setValue(e, n);
  }
  // create getter / setter pair for a property in the scene graph
  bind() {
    let e = this.node;
    const n = this.parsedPath, r = n.objectName, o = n.propertyName;
    let l = n.propertyIndex;
    if (e || (e = qn.findNode(this.rootNode, n.nodeName), this.node = e), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !e) {
      console.warn("THREE.PropertyBinding: No target node found for track: " + this.path + ".");
      return;
    }
    if (r) {
      let g = n.objectIndex;
      switch (r) {
        case "materials":
          if (!e.material) {
            console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
            return;
          }
          if (!e.material.materials) {
            console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
            return;
          }
          e = e.material.materials;
          break;
        case "bones":
          if (!e.skeleton) {
            console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
            return;
          }
          e = e.skeleton.bones;
          for (let v = 0; v < e.length; v++)
            if (e[v].name === g) {
              g = v;
              break;
            }
          break;
        case "map":
          if ("map" in e) {
            e = e.map;
            break;
          }
          if (!e.material) {
            console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
            return;
          }
          if (!e.material.map) {
            console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.", this);
            return;
          }
          e = e.material.map;
          break;
        default:
          if (e[r] === void 0) {
            console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
            return;
          }
          e = e[r];
      }
      if (g !== void 0) {
        if (e[g] === void 0) {
          console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, e);
          return;
        }
        e = e[g];
      }
    }
    const h = e[o];
    if (h === void 0) {
      const g = n.nodeName;
      console.error("THREE.PropertyBinding: Trying to update property for track: " + g + "." + o + " but it wasn't found.", e);
      return;
    }
    let d = this.Versioning.None;
    this.targetObject = e, e.needsUpdate !== void 0 ? d = this.Versioning.NeedsUpdate : e.matrixWorldNeedsUpdate !== void 0 && (d = this.Versioning.MatrixWorldNeedsUpdate);
    let p = this.BindingType.Direct;
    if (l !== void 0) {
      if (o === "morphTargetInfluences") {
        if (!e.geometry) {
          console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
          return;
        }
        if (!e.geometry.morphAttributes) {
          console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
          return;
        }
        e.morphTargetDictionary[l] !== void 0 && (l = e.morphTargetDictionary[l]);
      }
      p = this.BindingType.ArrayElement, this.resolvedProperty = h, this.propertyIndex = l;
    } else
      h.fromArray !== void 0 && h.toArray !== void 0 ? (p = this.BindingType.HasFromToArray, this.resolvedProperty = h) : Array.isArray(h) ? (p = this.BindingType.EntireArray, this.resolvedProperty = h) : this.propertyName = o;
    this.getValue = this.GetterByBindingType[p], this.setValue = this.SetterByBindingTypeAndVersioning[p][d];
  }
  unbind() {
    this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
  }
}
qn.Composite = ace;
qn.prototype.BindingType = {
  Direct: 0,
  EntireArray: 1,
  ArrayElement: 2,
  HasFromToArray: 3
};
qn.prototype.Versioning = {
  None: 0,
  NeedsUpdate: 1,
  MatrixWorldNeedsUpdate: 2
};
qn.prototype.GetterByBindingType = [
  qn.prototype._getValue_direct,
  qn.prototype._getValue_array,
  qn.prototype._getValue_arrayElement,
  qn.prototype._getValue_toArray
];
qn.prototype.SetterByBindingTypeAndVersioning = [
  [
    // Direct
    qn.prototype._setValue_direct,
    qn.prototype._setValue_direct_setNeedsUpdate,
    qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate
  ],
  [
    // EntireArray
    qn.prototype._setValue_array,
    qn.prototype._setValue_array_setNeedsUpdate,
    qn.prototype._setValue_array_setMatrixWorldNeedsUpdate
  ],
  [
    // ArrayElement
    qn.prototype._setValue_arrayElement,
    qn.prototype._setValue_arrayElement_setNeedsUpdate,
    qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate
  ],
  [
    // HasToFromArray
    qn.prototype._setValue_fromArray,
    qn.prototype._setValue_fromArray_setNeedsUpdate,
    qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate
  ]
];
typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", { detail: {
  revision: WE
} }));
typeof window < "u" && (window.__THREE__ ? console.warn("WARNING: Multiple instances of Three.js being imported.") : window.__THREE__ = WE);
class L0 extends Wr {
  constructor() {
    const e = L0.SkyShader, n = new gle({
      name: e.name,
      uniforms: mle.clone(e.uniforms),
      vertexShader: e.vertexShader,
      fragmentShader: e.fragmentShader,
      side: wC,
      depthWrite: !1
    });
    super(new O0(1, 1, 1), n), this.isSky = !0;
  }
}
L0.SkyShader = {
  name: "SkyShader",
  uniforms: {
    turbidity: { value: 2 },
    rayleigh: { value: 1 },
    mieCoefficient: { value: 5e-3 },
    mieDirectionalG: { value: 0.8 },
    sunPosition: { value: new Re() },
    up: { value: new Re(0, 1, 0) }
  },
  vertexShader: (
    /* glsl */
    `
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`
  ),
  fragmentShader: (
    /* glsl */
    `
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`
  )
};
const sce = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  Sky: L0
}, Symbol.toStringTag, { value: "Module" })), lce = /* @__PURE__ */ Gu(sce);
var DS;
function cce() {
  return DS || (DS = 1, function(a) {
    var e = Go, n = ho;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var r = e(wl()), o = e(Tl()), l = e(ga()), h = v(ps()), d = lce, p = Nl();
    function g(w) {
      if (typeof WeakMap != "function")
        return null;
      var T = /* @__PURE__ */ new WeakMap(), M = /* @__PURE__ */ new WeakMap();
      return (g = function(L) {
        return L ? M : T;
      })(w);
    }
    function v(w, T) {
      if (w && w.__esModule)
        return w;
      if (w === null || n(w) != "object" && typeof w != "function")
        return { default: w };
      var M = g(T);
      if (M && M.has(w))
        return M.get(w);
      var S = { __proto__: null }, L = Object.defineProperty && Object.getOwnPropertyDescriptor;
      for (var F in w)
        if (F !== "default" && {}.hasOwnProperty.call(w, F)) {
          var G = L ? Object.getOwnPropertyDescriptor(w, F) : null;
          G && (G.get || G.set) ? Object.defineProperty(S, F, G) : S[F] = w[F];
        }
      return S.default = w, M && M.set(w, S), S;
    }
    function y(w, T) {
      var M = Object.keys(w);
      if (Object.getOwnPropertySymbols) {
        var S = Object.getOwnPropertySymbols(w);
        T && (S = S.filter(function(L) {
          return Object.getOwnPropertyDescriptor(w, L).enumerable;
        })), M.push.apply(M, S);
      }
      return M;
    }
    function x(w) {
      for (var T = 1; T < arguments.length; T++) {
        var M = arguments[T] != null ? arguments[T] : {};
        T % 2 ? y(Object(M), !0).forEach(function(S) {
          (0, l.default)(w, S, M[S]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(w, Object.getOwnPropertyDescriptors(M)) : y(Object(M)).forEach(function(S) {
          Object.defineProperty(w, S, Object.getOwnPropertyDescriptor(M, S));
        });
      }
      return w;
    }
    a.default = /* @__PURE__ */ function() {
      function w(T) {
        (0, r.default)(this, w), (0, l.default)(this, "options", void 0), (0, l.default)(this, "sky", void 0), (0, l.default)(this, "sun", void 0), this.options = x(x({}, p.sky), T), this.sky = new d.Sky(), this.sky.scale.setScalar(1e3);
        var M = this.options, S = M.turbidity, L = M.rayleigh, F = M.mieDirectionalG, G = M.mieCoefficient;
        this.sky.material.uniforms = x(x({}, this.sky.material.uniforms), {}, {
          turbidity: {
            value: S
          },
          rayleigh: {
            value: L
          },
          mieDirectionalG: {
            value: F
          },
          mieCoefficient: {
            value: G
          }
        }), this.sun = new h.Vector3(), this.update();
      }
      return (0, o.default)(w, [{
        key: "update",
        value: function() {
          var M = this.options, S = M.inclination, L = M.azimuth, F = Math.PI * (S - 0.5), G = 2 * Math.PI * (L - 0.5);
          this.sun.x = Math.cos(G), this.sun.y = Math.sin(G) * Math.sin(F), this.sun.z = Math.sin(G) * Math.cos(F), this.sky.material.uniforms.sunPosition.value.copy(this.sun);
        }
      }]);
    }();
  }(Uy)), Uy;
}
var fx = {}, FS;
function hce() {
  return FS || (FS = 1, function(a) {
    var e = Go;
    Object.defineProperty(a, "__esModule", {
      value: !0
    }), a.default = void 0;
    var n = e(ga());
    function r(q, he) {
      var ae = Object.keys(q);
      if (Object.getOwnPropertySymbols) {
        var ve = Object.getOwnPropertySymbols(q);
        he && (ve = ve.filter(function(ne) {
          return Object.getOwnPropertyDescriptor(q, ne).enumerable;
        })), ae.push.apply(ae, ve);
      }
      return ae;
    }
    function o(q) {
      for (var he = 1; he < arguments.length; he++) {
        var ae = arguments[he] != null ? arguments[he] : {};
        he % 2 ? r(Object(ae), !0).forEach(function(ve) {
          (0, n.default)(q, ve, ae[ve]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(ae)) : r(Object(ae)).forEach(function(ve) {
          Object.defineProperty(q, ve, Object.getOwnPropertyDescriptor(ae, ve));
        });
      }
      return q;
    }
    var l = window, h = l.requestAnimationFrame, d = function() {
      return (/* @__PURE__ */ new Date()).getTime();
    }, p = "There is nothing to undo.", g = d(), v = {
      enable: !1,
      timestamp: g,
      stopTime: g,
      lastTime: g,
      fps: 0
    }, y = o({}, v), x = {
      do: function() {
      },
      list: []
    }, w = function(he) {
      x.list.push(x.do), x.do = /* @__PURE__ */ function(ae) {
        return function() {
          return he(arguments[0]), ae.apply(this, arguments);
        };
      }(x.do);
    }, T = function q() {
      if (y.enable) {
        var he = d(), ae = y.fps ? 1e3 / y.fps : 0, ve = he - y.lastTime;
        if (ve < ae) {
          h(function() {
            return q();
          });
          return;
        }
        y.lastTime = he;
        var ne = he - y.timestamp;
        x.do({
          delta: ne
        }), h(function() {
          return q();
        });
      }
    }, M = function() {
      if (!y.enable) {
        y.enable = !0;
        var he = d() - y.stopTime;
        y.timestamp += he, T();
      }
    }, S = function() {
      y.enable = !1, y.stopTime = d();
    }, L = function() {
      y.enable = v.enable, x.do = function() {
      }, x.list = [];
    }, F = function() {
      var he = x.list;
      if (he.length === 0) {
        console.warn(p);
        return;
      }
      x.do = he[he.length - 1], he.pop();
    }, G = function() {
      var he = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 30;
      y.fps = he;
    }, $ = function() {
      y.timestamp = d(), y.stopTime = d(), y.lastTime = d();
    }, K = {
      add: w,
      todo: x,
      play: M,
      stop: S,
      destroy: L,
      undo: F,
      setFPS: G,
      reset: $
    };
    a.default = K;
  }(fx)), fx;
}
var gx = { exports: {} }, kS;
function uce() {
  return kS || (kS = 1, function(a, e) {
    (function(n, r) {
      a.exports = r();
    })(Dr, function() {
      var n = function() {
        var r = 0, o = document.createElement("div");
        function l(w) {
          return o.appendChild(w.dom), w;
        }
        function h(w) {
          for (var T = 0; T < o.children.length; T++)
            o.children[T].style.display = T === w ? "block" : "none";
          r = w;
        }
        o.style.cssText = "position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000", o.addEventListener("click", function(w) {
          w.preventDefault(), h(++r % o.children.length);
        }, !1);
        var d = (performance || Date).now(), p = d, g = 0, v = l(new n.Panel("FPS", "#0ff", "#002")), y = l(new n.Panel("MS", "#0f0", "#020"));
        if (self.performance && self.performance.memory)
          var x = l(new n.Panel("MB", "#f08", "#201"));
        return h(0), { REVISION: 16, dom: o, addPanel: l, showPanel: h, begin: function() {
          d = (performance || Date).now();
        }, end: function() {
          g++;
          var w = (performance || Date).now();
          if (y.update(w - d, 200), p + 1e3 <= w && (v.update(1e3 * g / (w - p), 100), p = w, g = 0, x)) {
            var T = performance.memory;
            x.update(T.usedJSHeapSize / 1048576, T.jsHeapSizeLimit / 1048576);
          }
          return w;
        }, update: function() {
          d = this.end();
        }, domElement: o, setMode: h };
      };
      return n.Panel = function(r, o, l) {
        var h = 1 / 0, d = 0, p = Math.round, g = p(window.devicePixelRatio || 1), v = 80 * g, y = 48 * g, x = 3 * g, w = 2 * g, T = 3 * g, M = 15 * g, S = 74 * g, L = 30 * g, F = document.createElement("canvas");
        F.width = v, F.height = y, F.style.cssText = "width:80px;height:48px";
        var G = F.getContext("2d");
        return G.font = "bold " + 9 * g + "px Helvetica,Arial,sans-serif", G.textBaseline = "top", G.fillStyle = l, G.fillRect(0, 0, v, y), G.fillStyle = o, G.fillText(r, x, w), G.fillRect(T, M, S, L), G.fillStyle = l, G.globalAlpha = 0.9, G.fillRect(T, M, S, L), { dom: F, update: function($, K) {
          h = Math.min(h, $), d = Math.max(d, $), G.fillStyle = l, G.globalAlpha = 1, G.fillRect(0, 0, v, M), G.fillStyle = o, G.fillText(p($) + " " + r + " (" + p(h) + "-" + p(d) + ")", x, w), G.drawImage(F, T + g, M, S - g, L, T, M, S - g, L), G.fillRect(T + S - g, M, g, L), G.fillStyle = l, G.globalAlpha = 0.9, G.fillRect(T + S - g, M, g, p((1 - $ / K) * L));
        } };
      }, n;
    });
  }(gx)), gx.exports;
}
var vr = ps();
function dce(a, e, n) {
  let {
    color: r = 65280,
    scale: o = 1,
    onInit: l,
    onUpdate: h
  } = n === void 0 ? {} : n;
  const d = [], p = new vr.MeshBasicMaterial({
    color: r ?? 65280,
    wireframe: !0
  }), g = new X(), v = new X(), y = new X(), x = new Yr(), w = new vr.SphereGeometry(1), T = new vr.BoxGeometry(1, 1, 1), M = new vr.PlaneGeometry(10, 10, 10, 10);
  M.translate(0, 0, 1e-4);
  function S(ae) {
    const ve = new vr.BufferGeometry(), ne = [];
    for (let oe = 0; oe < ae.vertices.length; oe++) {
      const J = ae.vertices[oe];
      ne.push(J.x, J.y, J.z);
    }
    ve.setAttribute("position", new vr.Float32BufferAttribute(ne, 3));
    const se = [];
    for (let oe = 0; oe < ae.faces.length; oe++) {
      const J = ae.faces[oe], pe = J[0];
      for (let be = 1; be < J.length - 1; be++) {
        const fe = J[be], de = J[be + 1];
        se.push(pe, fe, de);
      }
    }
    return ve.setIndex(se), ve.computeBoundingSphere(), ve.computeVertexNormals(), ve;
  }
  function L(ae) {
    const ve = new vr.BufferGeometry(), ne = [], se = g, oe = v, J = y;
    for (let pe = 0; pe < ae.indices.length / 3; pe++)
      ae.getTriangleVertices(pe, se, oe, J), ne.push(se.x, se.y, se.z), ne.push(oe.x, oe.y, oe.z), ne.push(J.x, J.y, J.z);
    return ve.setAttribute("position", new vr.Float32BufferAttribute(ne, 3)), ve.computeBoundingSphere(), ve.computeVertexNormals(), ve;
  }
  function F(ae) {
    const ve = new vr.BufferGeometry(), ne = ae.elementSize || 1, se = ae.data.flatMap((J, pe) => J.flatMap((be, fe) => [pe * ne, fe * ne, be])), oe = [];
    for (let J = 0; J < ae.data.length - 1; J++)
      for (let pe = 0; pe < ae.data[J].length - 1; pe++) {
        const be = ae.data[J].length, fe = J * be + pe;
        oe.push(fe + 1, fe + be, fe + be + 1), oe.push(fe + be, fe + 1, fe);
      }
    return ve.setIndex(oe), ve.setAttribute("position", new vr.Float32BufferAttribute(se, 3)), ve.computeBoundingSphere(), ve.computeVertexNormals(), ve;
  }
  function G(ae) {
    let ve = new vr.Mesh();
    const {
      SPHERE: ne,
      BOX: se,
      PLANE: oe,
      CYLINDER: J,
      CONVEXPOLYHEDRON: pe,
      TRIMESH: be,
      HEIGHTFIELD: fe
    } = ct.types;
    switch (ae.type) {
      case ne: {
        ve = new vr.Mesh(w, p);
        break;
      }
      case se: {
        ve = new vr.Mesh(T, p);
        break;
      }
      case oe: {
        ve = new vr.Mesh(M, p);
        break;
      }
      case J: {
        const de = new vr.CylinderGeometry(ae.radiusTop, ae.radiusBottom, ae.height, ae.numSegments);
        ve = new vr.Mesh(de, p), ae.geometryId = de.id;
        break;
      }
      case pe: {
        const de = S(ae);
        ve = new vr.Mesh(de, p), ae.geometryId = de.id;
        break;
      }
      case be: {
        const de = L(ae);
        ve = new vr.Mesh(de, p), ae.geometryId = de.id;
        break;
      }
      case fe: {
        const de = F(ae);
        ve = new vr.Mesh(de, p), ae.geometryId = de.id;
        break;
      }
    }
    return a.add(ve), ve;
  }
  function $(ae, ve) {
    const {
      SPHERE: ne,
      BOX: se,
      PLANE: oe,
      CYLINDER: J,
      CONVEXPOLYHEDRON: pe,
      TRIMESH: be,
      HEIGHTFIELD: fe
    } = ct.types;
    switch (ve.type) {
      case ne: {
        const {
          radius: de
        } = ve;
        ae.scale.set(de * o, de * o, de * o);
        break;
      }
      case se: {
        ae.scale.copy(ve.halfExtents), ae.scale.multiplyScalar(2 * o);
        break;
      }
      case oe:
        break;
      case J: {
        ae.scale.set(1 * o, 1 * o, 1 * o);
        break;
      }
      case pe: {
        ae.scale.set(1 * o, 1 * o, 1 * o);
        break;
      }
      case be: {
        ae.scale.copy(ve.scale).multiplyScalar(o);
        break;
      }
      case fe: {
        ae.scale.set(1 * o, 1 * o, 1 * o);
        break;
      }
    }
  }
  function K(ae, ve) {
    if (!ae)
      return !1;
    const {
      geometry: ne
    } = ae;
    return ne instanceof vr.SphereGeometry && ve.type === ct.types.SPHERE || ne instanceof vr.BoxGeometry && ve.type === ct.types.BOX || ne instanceof vr.PlaneGeometry && ve.type === ct.types.PLANE || ne.id === ve.geometryId && ve.type === ct.types.CYLINDER || ne.id === ve.geometryId && ve.type === ct.types.CONVEXPOLYHEDRON || ne.id === ve.geometryId && ve.type === ct.types.TRIMESH || ne.id === ve.geometryId && ve.type === ct.types.HEIGHTFIELD;
  }
  function q(ae, ve) {
    let ne = d[ae], se = !1;
    return K(ne, ve) || (ne && a.remove(ne), d[ae] = ne = G(ve), se = !0), $(ne, ve), se;
  }
  function he() {
    const ae = d, ve = g, ne = x;
    let se = 0;
    for (const oe of e.bodies)
      for (let J = 0; J !== oe.shapes.length; J++) {
        const pe = oe.shapes[J], be = q(se, pe), fe = ae[se];
        fe && (oe.quaternion.vmult(oe.shapeOffsets[J], ve), oe.position.vadd(ve, ve), oe.quaternion.mult(oe.shapeOrientations[J], ne), fe.position.copy(ve), fe.quaternion.copy(ne), be && l instanceof Function && l(oe, fe, pe), !be && h instanceof Function && h(oe, fe, pe)), se++;
      }
    for (let oe = se; oe < ae.length; oe++) {
      const J = ae[oe];
      J && a.remove(J);
    }
    ae.length = se;
  }
  return {
    update: he
  };
}
const mce = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  default: dce
}, Symbol.toStringTag, { value: "Module" })), pce = /* @__PURE__ */ Gu(mce);
(function(a) {
  var e = Go, n = ho;
  Object.defineProperty(a, "__esModule", {
    value: !0
  }), a.default = a.THREE = void 0;
  var r = e(wl()), o = e(Tl()), l = e(ga()), h = L(ps());
  a.THREE = h;
  var d = e(Nl()), p = e(are()), g = e(sre()), v = e(hre()), y = e(use()), x = e(dse()), w = e(mse()), T = e(cce()), M = e(hce());
  function S(q) {
    if (typeof WeakMap != "function")
      return null;
    var he = /* @__PURE__ */ new WeakMap(), ae = /* @__PURE__ */ new WeakMap();
    return (S = function(ne) {
      return ne ? ae : he;
    })(q);
  }
  function L(q, he) {
    if (q && q.__esModule)
      return q;
    if (q === null || n(q) != "object" && typeof q != "function")
      return { default: q };
    var ae = S(he);
    if (ae && ae.has(q))
      return ae.get(q);
    var ve = { __proto__: null }, ne = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for (var se in q)
      if (se !== "default" && {}.hasOwnProperty.call(q, se)) {
        var oe = ne ? Object.getOwnPropertyDescriptor(q, se) : null;
        oe && (oe.get || oe.set) ? Object.defineProperty(ve, se, oe) : ve[se] = q[se];
      }
    return ve.default = q, ae && ae.set(q, ve), ve;
  }
  function F(q, he) {
    var ae = Object.keys(q);
    if (Object.getOwnPropertySymbols) {
      var ve = Object.getOwnPropertySymbols(q);
      he && (ve = ve.filter(function(ne) {
        return Object.getOwnPropertyDescriptor(q, ne).enumerable;
      })), ae.push.apply(ae, ve);
    }
    return ae;
  }
  function G(q) {
    for (var he = 1; he < arguments.length; he++) {
      var ae = arguments[he] != null ? arguments[he] : {};
      he % 2 ? F(Object(ae), !0).forEach(function(ve) {
        (0, l.default)(q, ve, ae[ve]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(q, Object.getOwnPropertyDescriptors(ae)) : F(Object(ae)).forEach(function(ve) {
        Object.defineProperty(q, ve, Object.getOwnPropertyDescriptor(ae, ve));
      });
    }
    return q;
  }
  var $ = uce(), K = pce.default;
  a.default = /* @__PURE__ */ function() {
    function q(he) {
      var ae = this;
      (0, r.default)(this, q), (0, l.default)(this, "options", void 0), (0, l.default)(this, "renderer", void 0), (0, l.default)(this, "update", void 0), (0, l.default)(this, "scene", void 0), (0, l.default)(this, "camera", void 0), (0, l.default)(this, "light", void 0), (0, l.default)(this, "render", void 0), (0, l.default)(this, "controls", void 0), (0, l.default)(this, "clock", void 0), (0, l.default)(this, "sky", void 0), (0, l.default)(this, "physicsImpactMaterial", void 0), (0, l.default)(this, "physicsStaticMaterial", void 0), (0, l.default)(this, "world", void 0), (0, l.default)(this, "stats", void 0), (0, l.default)(this, "enterframe", M.default), this.options = G(G({}, d.default), he), this.scene = new h.Scene(), this.camera = new p.default(this.options.camera).camera, this.light = new g.default(this.scene, this.options.light), this.renderer = new w.default(this.options.renderer, this.options.camera.dom || null, this.camera), this.renderer.addListeners(), this.render = this.renderer.renderer, this.controls = new v.default(this.camera, this.render, this.options.controls), this.clock = new h.Clock();
      var ve = this.options, ne = ve.physics, se = ve.sky, oe = ve.stats;
      if (se.enabled && (this.sky = new T.default(this.options.sky), this.scene.add(this.sky.sky)), ne) {
        var J = new y.default(), pe = J.Impact, be = J.Static;
        this.physicsImpactMaterial = pe, this.physicsStaticMaterial = be, this.world = new x.default().world, this.world.addContactMaterial(J.material);
      }
      oe && (this.stats = new $(), this.stats.showPanel(0), document.body.appendChild(this.stats.dom)), this.update = function() {
        var fe, de;
        (fe = ae.stats) === null || fe === void 0 || fe.begin(), ae.controls.controls.update(), ae.render.render(ae.scene, ae.camera), (de = ae.world) === null || de === void 0 || de.step(1 / 60, ae.clock.getDelta());
      }, this.enterframe.setFPS(this.options.fps), this.enterframe.add(this.update), this.enterframe.play();
    }
    return (0, o.default)(q, [{
      key: "setFPS",
      value: function(ae) {
        this.enterframe.setFPS(ae);
      }
    }, {
      key: "addCannonDebuger",
      value: function() {
        var ae = new K(this.scene, this.world);
        return ae;
      }
    }, {
      key: "updateMatrix",
      value: function() {
        this.renderer.update();
      }
    }, {
      key: "updateDom",
      value: function(ae) {
        this.renderer.updateDom(ae), this.updateMatrix();
      }
    }, {
      key: "addResizeListeners",
      value: function() {
        this.renderer.addListeners();
      }
    }, {
      key: "removeResizeListeners",
      value: function() {
        this.renderer.removeListeners();
      }
    }]);
  }();
})(Yt);
const fce = /* @__PURE__ */ Uu(Yt);
var s5 = {};
const bx = /* @__PURE__ */ new WeakMap();
class gce extends eh {
  constructor(e) {
    super(e), this.decoderPath = "", this.decoderConfig = {}, this.decoderBinary = null, this.decoderPending = null, this.workerLimit = 4, this.workerPool = [], this.workerNextTaskID = 1, this.workerSourceURL = "", this.defaultAttributeIDs = {
      position: "POSITION",
      normal: "NORMAL",
      color: "COLOR",
      uv: "TEX_COORD"
    }, this.defaultAttributeTypes = {
      position: "Float32Array",
      normal: "Float32Array",
      color: "Float32Array",
      uv: "Float32Array"
    };
  }
  setDecoderPath(e) {
    return this.decoderPath = e, this;
  }
  setDecoderConfig(e) {
    return this.decoderConfig = e, this;
  }
  setWorkerLimit(e) {
    return this.workerLimit = e, this;
  }
  load(e, n, r, o) {
    const l = new r0(this.manager);
    l.setPath(this.path), l.setResponseType("arraybuffer"), l.setRequestHeader(this.requestHeader), l.setWithCredentials(this.withCredentials), l.load(e, (h) => {
      this.parse(h, n, o);
    }, r, o);
  }
  parse(e, n, r = () => {
  }) {
    this.decodeDracoFile(e, n, null, null, yi).catch(r);
  }
  decodeDracoFile(e, n, r, o, l = Wi, h = () => {
  }) {
    const d = {
      attributeIDs: r || this.defaultAttributeIDs,
      attributeTypes: o || this.defaultAttributeTypes,
      useUniqueIDs: !!r,
      vertexColorSpace: l
    };
    return this.decodeGeometry(e, d).then(n).catch(h);
  }
  decodeGeometry(e, n) {
    const r = JSON.stringify(n);
    if (bx.has(e)) {
      const p = bx.get(e);
      if (p.key === r)
        return p.promise;
      if (e.byteLength === 0)
        throw new Error(
          "THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred."
        );
    }
    let o;
    const l = this.workerNextTaskID++, h = e.byteLength, d = this._getWorker(l, h).then((p) => (o = p, new Promise((g, v) => {
      o._callbacks[l] = { resolve: g, reject: v }, o.postMessage({ type: "decode", id: l, taskConfig: n, buffer: e }, [e]);
    }))).then((p) => this._createGeometry(p.geometry));
    return d.catch(() => !0).then(() => {
      o && l && this._releaseTask(o, l);
    }), bx.set(e, {
      key: r,
      promise: d
    }), d;
  }
  _createGeometry(e) {
    const n = new Sl();
    e.index && n.setIndex(new Ui(e.index.array, 1));
    for (let r = 0; r < e.attributes.length; r++) {
      const o = e.attributes[r], l = o.name, h = o.array, d = o.itemSize, p = new Ui(h, d);
      l === "color" && (this._assignVertexColorSpace(p, o.vertexColorSpace), p.normalized = !(h instanceof Float32Array)), n.setAttribute(l, p);
    }
    return n;
  }
  _assignVertexColorSpace(e, n) {
    if (n !== yi)
      return;
    const r = new Ar();
    for (let o = 0, l = e.count; o < l; o++)
      r.fromBufferAttribute(e, o).convertSRGBToLinear(), e.setXYZ(o, r.r, r.g, r.b);
  }
  _loadLibrary(e, n) {
    const r = new r0(this.manager);
    return r.setPath(this.decoderPath), r.setResponseType(n), r.setWithCredentials(this.withCredentials), new Promise((o, l) => {
      r.load(e, o, void 0, l);
    });
  }
  preload() {
    return this._initDecoder(), this;
  }
  _initDecoder() {
    if (this.decoderPending)
      return this.decoderPending;
    const e = typeof WebAssembly != "object" || this.decoderConfig.type === "js", n = [];
    return e ? n.push(this._loadLibrary("draco_decoder.js", "text")) : (n.push(this._loadLibrary("draco_wasm_wrapper.js", "text")), n.push(this._loadLibrary("draco_decoder.wasm", "arraybuffer"))), this.decoderPending = Promise.all(n).then((r) => {
      const o = r[0];
      e || (this.decoderConfig.wasmBinary = r[1]);
      const l = bce.toString(), h = [
        "/* draco decoder */",
        o,
        "",
        "/* worker */",
        l.substring(l.indexOf("{") + 1, l.lastIndexOf("}"))
      ].join(`
`);
      this.workerSourceURL = URL.createObjectURL(new Blob([h]));
    }), this.decoderPending;
  }
  _getWorker(e, n) {
    return this._initDecoder().then(() => {
      if (this.workerPool.length < this.workerLimit) {
        const o = new Worker(this.workerSourceURL);
        o._callbacks = {}, o._taskCosts = {}, o._taskLoad = 0, o.postMessage({ type: "init", decoderConfig: this.decoderConfig }), o.onmessage = function(l) {
          const h = l.data;
          switch (h.type) {
            case "decode":
              o._callbacks[h.id].resolve(h);
              break;
            case "error":
              o._callbacks[h.id].reject(h);
              break;
            default:
              console.error('THREE.DRACOLoader: Unexpected message, "' + h.type + '"');
          }
        }, this.workerPool.push(o);
      } else
        this.workerPool.sort(function(o, l) {
          return o._taskLoad > l._taskLoad ? -1 : 1;
        });
      const r = this.workerPool[this.workerPool.length - 1];
      return r._taskCosts[e] = n, r._taskLoad += n, r;
    });
  }
  _releaseTask(e, n) {
    e._taskLoad -= e._taskCosts[n], delete e._callbacks[n], delete e._taskCosts[n];
  }
  debug() {
    console.log("Task load: ", this.workerPool.map((e) => e._taskLoad));
  }
  dispose() {
    for (let e = 0; e < this.workerPool.length; ++e)
      this.workerPool[e].terminate();
    return this.workerPool.length = 0, this.workerSourceURL !== "" && URL.revokeObjectURL(this.workerSourceURL), this;
  }
}
function bce() {
  let a, e;
  onmessage = function(h) {
    const d = h.data;
    switch (d.type) {
      case "init":
        a = d.decoderConfig, e = new Promise(function(v) {
          a.onModuleLoaded = function(y) {
            v({ draco: y });
          }, DracoDecoderModule(a);
        });
        break;
      case "decode":
        const p = d.buffer, g = d.taskConfig;
        e.then((v) => {
          const y = v.draco, x = new y.Decoder();
          try {
            const w = n(y, x, new Int8Array(p), g), T = w.attributes.map((M) => M.array.buffer);
            w.index && T.push(w.index.array.buffer), self.postMessage({ type: "decode", id: d.id, geometry: w }, T);
          } catch (w) {
            console.error(w), self.postMessage({ type: "error", id: d.id, error: w.message });
          } finally {
            y.destroy(x);
          }
        });
        break;
    }
  };
  function n(h, d, p, g) {
    const v = g.attributeIDs, y = g.attributeTypes;
    let x, w;
    const T = d.GetEncodedGeometryType(p);
    if (T === h.TRIANGULAR_MESH)
      x = new h.Mesh(), w = d.DecodeArrayToMesh(p, p.byteLength, x);
    else if (T === h.POINT_CLOUD)
      x = new h.PointCloud(), w = d.DecodeArrayToPointCloud(p, p.byteLength, x);
    else
      throw new Error("THREE.DRACOLoader: Unexpected geometry type.");
    if (!w.ok() || x.ptr === 0)
      throw new Error("THREE.DRACOLoader: Decoding failed: " + w.error_msg());
    const M = { index: null, attributes: [] };
    for (const S in v) {
      const L = self[y[S]];
      let F, G;
      if (g.useUniqueIDs)
        G = v[S], F = d.GetAttributeByUniqueId(x, G);
      else {
        if (G = d.GetAttributeId(x, h[v[S]]), G === -1)
          continue;
        F = d.GetAttribute(x, G);
      }
      const $ = o(h, d, x, S, L, F);
      S === "color" && ($.vertexColorSpace = g.vertexColorSpace), M.attributes.push($);
    }
    return T === h.TRIANGULAR_MESH && (M.index = r(h, d, x)), h.destroy(x), M;
  }
  function r(h, d, p) {
    const v = p.num_faces() * 3, y = v * 4, x = h._malloc(y);
    d.GetTrianglesUInt32Array(p, y, x);
    const w = new Uint32Array(h.HEAPF32.buffer, x, v).slice();
    return h._free(x), { array: w, itemSize: 1 };
  }
  function o(h, d, p, g, v, y) {
    const x = y.num_components(), T = p.num_points() * x, M = T * v.BYTES_PER_ELEMENT, S = l(h, v), L = h._malloc(M);
    d.GetAttributeDataArrayForAllPoints(p, y, S, M, L);
    const F = new v(h.HEAPF32.buffer, L, T).slice();
    return h._free(L), {
      name: g,
      array: F,
      itemSize: x
    };
  }
  function l(h, d) {
    switch (d) {
      case Float32Array:
        return h.DT_FLOAT32;
      case Int8Array:
        return h.DT_INT8;
      case Int16Array:
        return h.DT_INT16;
      case Int32Array:
        return h.DT_INT32;
      case Uint8Array:
        return h.DT_UINT8;
      case Uint16Array:
        return h.DT_UINT16;
      case Uint32Array:
        return h.DT_UINT32;
    }
  }
}
const vce = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  DRACOLoader: gce
}, Symbol.toStringTag, { value: "Module" })), yce = /* @__PURE__ */ Gu(vce);
function XS(a, e) {
  if (e === Nse)
    return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."), a;
  if (e === e2 || e === $E) {
    let n = a.getIndex();
    if (n === null) {
      const h = [], d = a.getAttribute("position");
      if (d !== void 0) {
        for (let p = 0; p < d.count; p++)
          h.push(p);
        a.setIndex(h), n = a.getIndex();
      } else
        return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."), a;
    }
    const r = n.count - 2, o = [];
    if (e === e2)
      for (let h = 1; h <= r; h++)
        o.push(n.getX(0)), o.push(n.getX(h)), o.push(n.getX(h + 1));
    else
      for (let h = 0; h < r; h++)
        h % 2 === 0 ? (o.push(n.getX(h)), o.push(n.getX(h + 1)), o.push(n.getX(h + 2))) : (o.push(n.getX(h + 2)), o.push(n.getX(h + 1)), o.push(n.getX(h)));
    o.length / 3 !== r && console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");
    const l = a.clone();
    return l.setIndex(o), l.clearGroups(), l;
  } else
    return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:", e), a;
}
let xce = class extends eh {
  constructor(e) {
    super(e), this.dracoLoader = null, this.ktx2Loader = null, this.meshoptDecoder = null, this.pluginCallbacks = [], this.register(function(n) {
      return new Nce(n);
    }), this.register(function(n) {
      return new Mce(n);
    }), this.register(function(n) {
      return new Lce(n);
    }), this.register(function(n) {
      return new jce(n);
    }), this.register(function(n) {
      return new Dce(n);
    }), this.register(function(n) {
      return new Ice(n);
    }), this.register(function(n) {
      return new Ace(n);
    }), this.register(function(n) {
      return new Ece(n);
    }), this.register(function(n) {
      return new Pce(n);
    }), this.register(function(n) {
      return new Tce(n);
    }), this.register(function(n) {
      return new Rce(n);
    }), this.register(function(n) {
      return new Sce(n);
    }), this.register(function(n) {
      return new Oce(n);
    }), this.register(function(n) {
      return new Bce(n);
    }), this.register(function(n) {
      return new _ce(n);
    }), this.register(function(n) {
      return new Fce(n);
    }), this.register(function(n) {
      return new kce(n);
    });
  }
  load(e, n, r, o) {
    const l = this;
    let h;
    if (this.resourcePath !== "")
      h = this.resourcePath;
    else if (this.path !== "") {
      const g = cp.extractUrlBase(e);
      h = cp.resolveURL(g, this.path);
    } else
      h = cp.extractUrlBase(e);
    this.manager.itemStart(e);
    const d = function(g) {
      o ? o(g) : console.error(g), l.manager.itemError(e), l.manager.itemEnd(e);
    }, p = new r0(this.manager);
    p.setPath(this.path), p.setResponseType("arraybuffer"), p.setRequestHeader(this.requestHeader), p.setWithCredentials(this.withCredentials), p.load(e, function(g) {
      try {
        l.parse(g, h, function(v) {
          n(v), l.manager.itemEnd(e);
        }, d);
      } catch (v) {
        d(v);
      }
    }, r, d);
  }
  setDRACOLoader(e) {
    return this.dracoLoader = e, this;
  }
  setDDSLoader() {
    throw new Error(
      'THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".'
    );
  }
  setKTX2Loader(e) {
    return this.ktx2Loader = e, this;
  }
  setMeshoptDecoder(e) {
    return this.meshoptDecoder = e, this;
  }
  register(e) {
    return this.pluginCallbacks.indexOf(e) === -1 && this.pluginCallbacks.push(e), this;
  }
  unregister(e) {
    return this.pluginCallbacks.indexOf(e) !== -1 && this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e), 1), this;
  }
  parse(e, n, r, o) {
    let l;
    const h = {}, d = {}, p = new TextDecoder();
    if (typeof e == "string")
      l = JSON.parse(e);
    else if (e instanceof ArrayBuffer)
      if (p.decode(new Uint8Array(e, 0, 4)) === l5) {
        try {
          h[Cn.KHR_BINARY_GLTF] = new Xce(e);
        } catch (y) {
          o && o(y);
          return;
        }
        l = JSON.parse(h[Cn.KHR_BINARY_GLTF].content);
      } else
        l = JSON.parse(p.decode(e));
    else
      l = e;
    if (l.asset === void 0 || l.asset.version[0] < 2) {
      o && o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));
      return;
    }
    const g = new Qce(l, {
      path: n || this.resourcePath || "",
      crossOrigin: this.crossOrigin,
      requestHeader: this.requestHeader,
      manager: this.manager,
      ktx2Loader: this.ktx2Loader,
      meshoptDecoder: this.meshoptDecoder
    });
    g.fileLoader.setRequestHeader(this.requestHeader);
    for (let v = 0; v < this.pluginCallbacks.length; v++) {
      const y = this.pluginCallbacks[v](g);
      y.name || console.error("THREE.GLTFLoader: Invalid plugin found: missing name"), d[y.name] = y, h[y.name] = !0;
    }
    if (l.extensionsUsed)
      for (let v = 0; v < l.extensionsUsed.length; ++v) {
        const y = l.extensionsUsed[v], x = l.extensionsRequired || [];
        switch (y) {
          case Cn.KHR_MATERIALS_UNLIT:
            h[y] = new wce();
            break;
          case Cn.KHR_DRACO_MESH_COMPRESSION:
            h[y] = new zce(l, this.dracoLoader);
            break;
          case Cn.KHR_TEXTURE_TRANSFORM:
            h[y] = new Uce();
            break;
          case Cn.KHR_MESH_QUANTIZATION:
            h[y] = new Gce();
            break;
          default:
            x.indexOf(y) >= 0 && d[y] === void 0 && console.warn('THREE.GLTFLoader: Unknown extension "' + y + '".');
        }
      }
    g.setExtensions(h), g.setPlugins(d), g.parse(r, o);
  }
  parseAsync(e, n) {
    const r = this;
    return new Promise(function(o, l) {
      r.parse(e, n, o, l);
    });
  }
};
function Cce() {
  let a = {};
  return {
    get: function(e) {
      return a[e];
    },
    add: function(e, n) {
      a[e] = n;
    },
    remove: function(e) {
      delete a[e];
    },
    removeAll: function() {
      a = {};
    }
  };
}
const Cn = {
  KHR_BINARY_GLTF: "KHR_binary_glTF",
  KHR_DRACO_MESH_COMPRESSION: "KHR_draco_mesh_compression",
  KHR_LIGHTS_PUNCTUAL: "KHR_lights_punctual",
  KHR_MATERIALS_CLEARCOAT: "KHR_materials_clearcoat",
  KHR_MATERIALS_DISPERSION: "KHR_materials_dispersion",
  KHR_MATERIALS_IOR: "KHR_materials_ior",
  KHR_MATERIALS_SHEEN: "KHR_materials_sheen",
  KHR_MATERIALS_SPECULAR: "KHR_materials_specular",
  KHR_MATERIALS_TRANSMISSION: "KHR_materials_transmission",
  KHR_MATERIALS_IRIDESCENCE: "KHR_materials_iridescence",
  KHR_MATERIALS_ANISOTROPY: "KHR_materials_anisotropy",
  KHR_MATERIALS_UNLIT: "KHR_materials_unlit",
  KHR_MATERIALS_VOLUME: "KHR_materials_volume",
  KHR_TEXTURE_BASISU: "KHR_texture_basisu",
  KHR_TEXTURE_TRANSFORM: "KHR_texture_transform",
  KHR_MESH_QUANTIZATION: "KHR_mesh_quantization",
  KHR_MATERIALS_EMISSIVE_STRENGTH: "KHR_materials_emissive_strength",
  EXT_MATERIALS_BUMP: "EXT_materials_bump",
  EXT_TEXTURE_WEBP: "EXT_texture_webp",
  EXT_TEXTURE_AVIF: "EXT_texture_avif",
  EXT_MESHOPT_COMPRESSION: "EXT_meshopt_compression",
  EXT_MESH_GPU_INSTANCING: "EXT_mesh_gpu_instancing"
};
class _ce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_LIGHTS_PUNCTUAL, this.cache = { refs: {}, uses: {} };
  }
  _markDefs() {
    const e = this.parser, n = this.parser.json.nodes || [];
    for (let r = 0, o = n.length; r < o; r++) {
      const l = n[r];
      l.extensions && l.extensions[this.name] && l.extensions[this.name].light !== void 0 && e._addNodeRef(this.cache, l.extensions[this.name].light);
    }
  }
  _loadLight(e) {
    const n = this.parser, r = "light:" + e;
    let o = n.cache.get(r);
    if (o)
      return o;
    const l = n.json, p = ((l.extensions && l.extensions[this.name] || {}).lights || [])[e];
    let g;
    const v = new Ar(16777215);
    p.color !== void 0 && v.setRGB(p.color[0], p.color[1], p.color[2], Wi);
    const y = p.range !== void 0 ? p.range : 0;
    switch (p.type) {
      case "directional":
        g = new Kle(v), g.target.position.set(0, 0, -1), g.add(g.target);
        break;
      case "point":
        g = new a5(v), g.distance = y;
        break;
      case "spot":
        g = new $le(v), g.distance = y, p.spot = p.spot || {}, p.spot.innerConeAngle = p.spot.innerConeAngle !== void 0 ? p.spot.innerConeAngle : 0, p.spot.outerConeAngle = p.spot.outerConeAngle !== void 0 ? p.spot.outerConeAngle : Math.PI / 4, g.angle = p.spot.outerConeAngle, g.penumbra = 1 - p.spot.innerConeAngle / p.spot.outerConeAngle, g.target.position.set(0, 0, -1), g.add(g.target);
        break;
      default:
        throw new Error("THREE.GLTFLoader: Unexpected light type: " + p.type);
    }
    return g.position.set(0, 0, 0), g.decay = 2, ml(g, p), p.intensity !== void 0 && (g.intensity = p.intensity), g.name = n.createUniqueName(p.name || "light_" + e), o = Promise.resolve(g), n.cache.add(r, o), o;
  }
  getDependency(e, n) {
    if (e === "light")
      return this._loadLight(n);
  }
  createNodeAttachment(e) {
    const n = this, r = this.parser, l = r.json.nodes[e], d = (l.extensions && l.extensions[this.name] || {}).light;
    return d === void 0 ? null : this._loadLight(d).then(function(p) {
      return r._getNodeRef(n.cache, d, p);
    });
  }
}
class wce {
  constructor() {
    this.name = Cn.KHR_MATERIALS_UNLIT;
  }
  getMaterialType() {
    return Xc;
  }
  extendParams(e, n, r) {
    const o = [];
    e.color = new Ar(1, 1, 1), e.opacity = 1;
    const l = n.pbrMetallicRoughness;
    if (l) {
      if (Array.isArray(l.baseColorFactor)) {
        const h = l.baseColorFactor;
        e.color.setRGB(h[0], h[1], h[2], Wi), e.opacity = h[3];
      }
      l.baseColorTexture !== void 0 && o.push(r.assignTexture(e, "map", l.baseColorTexture, yi));
    }
    return Promise.all(o);
  }
}
class Tce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_EMISSIVE_STRENGTH;
  }
  extendMaterialParams(e, n) {
    const o = this.parser.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = o.extensions[this.name].emissiveStrength;
    return l !== void 0 && (n.emissiveIntensity = l), Promise.resolve();
  }
}
class Nce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_CLEARCOAT;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    if (h.clearcoatFactor !== void 0 && (n.clearcoat = h.clearcoatFactor), h.clearcoatTexture !== void 0 && l.push(r.assignTexture(n, "clearcoatMap", h.clearcoatTexture)), h.clearcoatRoughnessFactor !== void 0 && (n.clearcoatRoughness = h.clearcoatRoughnessFactor), h.clearcoatRoughnessTexture !== void 0 && l.push(r.assignTexture(n, "clearcoatRoughnessMap", h.clearcoatRoughnessTexture)), h.clearcoatNormalTexture !== void 0 && (l.push(r.assignTexture(n, "clearcoatNormalMap", h.clearcoatNormalTexture)), h.clearcoatNormalTexture.scale !== void 0)) {
      const d = h.clearcoatNormalTexture.scale;
      n.clearcoatNormalScale = new mr(d, d);
    }
    return Promise.all(l);
  }
}
class Mce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_DISPERSION;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const o = this.parser.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = o.extensions[this.name];
    return n.dispersion = l.dispersion !== void 0 ? l.dispersion : 0, Promise.resolve();
  }
}
class Sce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_IRIDESCENCE;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    return h.iridescenceFactor !== void 0 && (n.iridescence = h.iridescenceFactor), h.iridescenceTexture !== void 0 && l.push(r.assignTexture(n, "iridescenceMap", h.iridescenceTexture)), h.iridescenceIor !== void 0 && (n.iridescenceIOR = h.iridescenceIor), n.iridescenceThicknessRange === void 0 && (n.iridescenceThicknessRange = [100, 400]), h.iridescenceThicknessMinimum !== void 0 && (n.iridescenceThicknessRange[0] = h.iridescenceThicknessMinimum), h.iridescenceThicknessMaximum !== void 0 && (n.iridescenceThicknessRange[1] = h.iridescenceThicknessMaximum), h.iridescenceThicknessTexture !== void 0 && l.push(r.assignTexture(n, "iridescenceThicknessMap", h.iridescenceThicknessTexture)), Promise.all(l);
  }
}
class Ice {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_SHEEN;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [];
    n.sheenColor = new Ar(0, 0, 0), n.sheenRoughness = 0, n.sheen = 1;
    const h = o.extensions[this.name];
    if (h.sheenColorFactor !== void 0) {
      const d = h.sheenColorFactor;
      n.sheenColor.setRGB(d[0], d[1], d[2], Wi);
    }
    return h.sheenRoughnessFactor !== void 0 && (n.sheenRoughness = h.sheenRoughnessFactor), h.sheenColorTexture !== void 0 && l.push(r.assignTexture(n, "sheenColorMap", h.sheenColorTexture, yi)), h.sheenRoughnessTexture !== void 0 && l.push(r.assignTexture(n, "sheenRoughnessMap", h.sheenRoughnessTexture)), Promise.all(l);
  }
}
class Ace {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_TRANSMISSION;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    return h.transmissionFactor !== void 0 && (n.transmission = h.transmissionFactor), h.transmissionTexture !== void 0 && l.push(r.assignTexture(n, "transmissionMap", h.transmissionTexture)), Promise.all(l);
  }
}
class Ece {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_VOLUME;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    n.thickness = h.thicknessFactor !== void 0 ? h.thicknessFactor : 0, h.thicknessTexture !== void 0 && l.push(r.assignTexture(n, "thicknessMap", h.thicknessTexture)), n.attenuationDistance = h.attenuationDistance || 1 / 0;
    const d = h.attenuationColor || [1, 1, 1];
    return n.attenuationColor = new Ar().setRGB(d[0], d[1], d[2], Wi), Promise.all(l);
  }
}
class Pce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_IOR;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const o = this.parser.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = o.extensions[this.name];
    return n.ior = l.ior !== void 0 ? l.ior : 1.5, Promise.resolve();
  }
}
class Rce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_SPECULAR;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    n.specularIntensity = h.specularFactor !== void 0 ? h.specularFactor : 1, h.specularTexture !== void 0 && l.push(r.assignTexture(n, "specularIntensityMap", h.specularTexture));
    const d = h.specularColorFactor || [1, 1, 1];
    return n.specularColor = new Ar().setRGB(d[0], d[1], d[2], Wi), h.specularColorTexture !== void 0 && l.push(r.assignTexture(n, "specularColorMap", h.specularColorTexture, yi)), Promise.all(l);
  }
}
class Bce {
  constructor(e) {
    this.parser = e, this.name = Cn.EXT_MATERIALS_BUMP;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    return n.bumpScale = h.bumpFactor !== void 0 ? h.bumpFactor : 1, h.bumpTexture !== void 0 && l.push(r.assignTexture(n, "bumpMap", h.bumpTexture)), Promise.all(l);
  }
}
class Oce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_MATERIALS_ANISOTROPY;
  }
  getMaterialType(e) {
    const r = this.parser.json.materials[e];
    return !r.extensions || !r.extensions[this.name] ? null : va;
  }
  extendMaterialParams(e, n) {
    const r = this.parser, o = r.json.materials[e];
    if (!o.extensions || !o.extensions[this.name])
      return Promise.resolve();
    const l = [], h = o.extensions[this.name];
    return h.anisotropyStrength !== void 0 && (n.anisotropy = h.anisotropyStrength), h.anisotropyRotation !== void 0 && (n.anisotropyRotation = h.anisotropyRotation), h.anisotropyTexture !== void 0 && l.push(r.assignTexture(n, "anisotropyMap", h.anisotropyTexture)), Promise.all(l);
  }
}
class Lce {
  constructor(e) {
    this.parser = e, this.name = Cn.KHR_TEXTURE_BASISU;
  }
  loadTexture(e) {
    const n = this.parser, r = n.json, o = r.textures[e];
    if (!o.extensions || !o.extensions[this.name])
      return null;
    const l = o.extensions[this.name], h = n.options.ktx2Loader;
    if (!h) {
      if (r.extensionsRequired && r.extensionsRequired.indexOf(this.name) >= 0)
        throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");
      return null;
    }
    return n.loadTextureImage(e, l.source, h);
  }
}
class jce {
  constructor(e) {
    this.parser = e, this.name = Cn.EXT_TEXTURE_WEBP, this.isSupported = null;
  }
  loadTexture(e) {
    const n = this.name, r = this.parser, o = r.json, l = o.textures[e];
    if (!l.extensions || !l.extensions[n])
      return null;
    const h = l.extensions[n], d = o.images[h.source];
    let p = r.textureLoader;
    if (d.uri) {
      const g = r.options.manager.getHandler(d.uri);
      g !== null && (p = g);
    }
    return this.detectSupport().then(function(g) {
      if (g)
        return r.loadTextureImage(e, h.source, p);
      if (o.extensionsRequired && o.extensionsRequired.indexOf(n) >= 0)
        throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");
      return r.loadTexture(e);
    });
  }
  detectSupport() {
    return this.isSupported || (this.isSupported = new Promise(function(e) {
      const n = new Image();
      n.src = "data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA", n.onload = n.onerror = function() {
        e(n.height === 1);
      };
    })), this.isSupported;
  }
}
class Dce {
  constructor(e) {
    this.parser = e, this.name = Cn.EXT_TEXTURE_AVIF, this.isSupported = null;
  }
  loadTexture(e) {
    const n = this.name, r = this.parser, o = r.json, l = o.textures[e];
    if (!l.extensions || !l.extensions[n])
      return null;
    const h = l.extensions[n], d = o.images[h.source];
    let p = r.textureLoader;
    if (d.uri) {
      const g = r.options.manager.getHandler(d.uri);
      g !== null && (p = g);
    }
    return this.detectSupport().then(function(g) {
      if (g)
        return r.loadTextureImage(e, h.source, p);
      if (o.extensionsRequired && o.extensionsRequired.indexOf(n) >= 0)
        throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");
      return r.loadTexture(e);
    });
  }
  detectSupport() {
    return this.isSupported || (this.isSupported = new Promise(function(e) {
      const n = new Image();
      n.src = "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=", n.onload = n.onerror = function() {
        e(n.height === 1);
      };
    })), this.isSupported;
  }
}
class Fce {
  constructor(e) {
    this.name = Cn.EXT_MESHOPT_COMPRESSION, this.parser = e;
  }
  loadBufferView(e) {
    const n = this.parser.json, r = n.bufferViews[e];
    if (r.extensions && r.extensions[this.name]) {
      const o = r.extensions[this.name], l = this.parser.getDependency("buffer", o.buffer), h = this.parser.options.meshoptDecoder;
      if (!h || !h.supported) {
        if (n.extensionsRequired && n.extensionsRequired.indexOf(this.name) >= 0)
          throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");
        return null;
      }
      return l.then(function(d) {
        const p = o.byteOffset || 0, g = o.byteLength || 0, v = o.count, y = o.byteStride, x = new Uint8Array(d, p, g);
        return h.decodeGltfBufferAsync ? h.decodeGltfBufferAsync(v, y, x, o.mode, o.filter).then(function(w) {
          return w.buffer;
        }) : h.ready.then(function() {
          const w = new ArrayBuffer(v * y);
          return h.decodeGltfBuffer(new Uint8Array(w), v, y, x, o.mode, o.filter), w;
        });
      });
    } else
      return null;
  }
}
class kce {
  constructor(e) {
    this.name = Cn.EXT_MESH_GPU_INSTANCING, this.parser = e;
  }
  createNodeMesh(e) {
    const n = this.parser.json, r = n.nodes[e];
    if (!r.extensions || !r.extensions[this.name] || r.mesh === void 0)
      return null;
    const o = n.meshes[r.mesh];
    for (const g of o.primitives)
      if (g.mode !== to.TRIANGLES && g.mode !== to.TRIANGLE_STRIP && g.mode !== to.TRIANGLE_FAN && g.mode !== void 0)
        return null;
    const h = r.extensions[this.name].attributes, d = [], p = {};
    for (const g in h)
      d.push(this.parser.getDependency("accessor", h[g]).then((v) => (p[g] = v, p[g])));
    return d.length < 1 ? null : (d.push(this.parser.createNodeMesh(e)), Promise.all(d).then((g) => {
      const v = g.pop(), y = v.isGroup ? v.children : [v], x = g[0].count, w = [];
      for (const T of y) {
        const M = new In(), S = new Re(), L = new Ml(), F = new Re(1, 1, 1), G = new Ile(T.geometry, T.material, x);
        for (let $ = 0; $ < x; $++)
          p.TRANSLATION && S.fromBufferAttribute(p.TRANSLATION, $), p.ROTATION && L.fromBufferAttribute(p.ROTATION, $), p.SCALE && F.fromBufferAttribute(p.SCALE, $), G.setMatrixAt($, M.compose(S, L, F));
        for (const $ in p)
          if ($ === "_COLOR_0") {
            const K = p[$];
            G.instanceColor = new o2(K.array, K.itemSize, K.normalized);
          } else
            $ !== "TRANSLATION" && $ !== "ROTATION" && $ !== "SCALE" && T.geometry.setAttribute($, p[$]);
        Vr.prototype.copy.call(G, T), this.parser.assignFinalMaterial(G), w.push(G);
      }
      return v.isGroup ? (v.clear(), v.add(...w), v) : w[0];
    }));
  }
}
const l5 = "glTF", ep = 12, zS = { JSON: 1313821514, BIN: 5130562 };
class Xce {
  constructor(e) {
    this.name = Cn.KHR_BINARY_GLTF, this.content = null, this.body = null;
    const n = new DataView(e, 0, ep), r = new TextDecoder();
    if (this.header = {
      magic: r.decode(new Uint8Array(e.slice(0, 4))),
      version: n.getUint32(4, !0),
      length: n.getUint32(8, !0)
    }, this.header.magic !== l5)
      throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");
    if (this.header.version < 2)
      throw new Error("THREE.GLTFLoader: Legacy binary file detected.");
    const o = this.header.length - ep, l = new DataView(e, ep);
    let h = 0;
    for (; h < o; ) {
      const d = l.getUint32(h, !0);
      h += 4;
      const p = l.getUint32(h, !0);
      if (h += 4, p === zS.JSON) {
        const g = new Uint8Array(e, ep + h, d);
        this.content = r.decode(g);
      } else if (p === zS.BIN) {
        const g = ep + h;
        this.body = e.slice(g, g + d);
      }
      h += d;
    }
    if (this.content === null)
      throw new Error("THREE.GLTFLoader: JSON content not found.");
  }
}
class zce {
  constructor(e, n) {
    if (!n)
      throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");
    this.name = Cn.KHR_DRACO_MESH_COMPRESSION, this.json = e, this.dracoLoader = n, this.dracoLoader.preload();
  }
  decodePrimitive(e, n) {
    const r = this.json, o = this.dracoLoader, l = e.extensions[this.name].bufferView, h = e.extensions[this.name].attributes, d = {}, p = {}, g = {};
    for (const v in h) {
      const y = s2[v] || v.toLowerCase();
      d[y] = h[v];
    }
    for (const v in e.attributes) {
      const y = s2[v] || v.toLowerCase();
      if (h[v] !== void 0) {
        const x = r.accessors[e.attributes[v]], w = ju[x.componentType];
        g[y] = w.name, p[y] = x.normalized === !0;
      }
    }
    return n.getDependency("bufferView", l).then(function(v) {
      return new Promise(function(y, x) {
        o.decodeDracoFile(v, function(w) {
          for (const T in w.attributes) {
            const M = w.attributes[T], S = p[T];
            S !== void 0 && (M.normalized = S);
          }
          y(w);
        }, d, g, Wi, x);
      });
    });
  }
}
class Uce {
  constructor() {
    this.name = Cn.KHR_TEXTURE_TRANSFORM;
  }
  extendTexture(e, n) {
    return (n.texCoord === void 0 || n.texCoord === e.channel) && n.offset === void 0 && n.rotation === void 0 && n.scale === void 0 || (e = e.clone(), n.texCoord !== void 0 && (e.channel = n.texCoord), n.offset !== void 0 && e.offset.fromArray(n.offset), n.rotation !== void 0 && (e.rotation = n.rotation), n.scale !== void 0 && e.repeat.fromArray(n.scale), e.needsUpdate = !0), e;
  }
}
class Gce {
  constructor() {
    this.name = Cn.KHR_MESH_QUANTIZATION;
  }
}
class c5 extends Bp {
  constructor(e, n, r, o) {
    super(e, n, r, o);
  }
  copySampleValue_(e) {
    const n = this.resultBuffer, r = this.sampleValues, o = this.valueSize, l = e * o * 3 + o;
    for (let h = 0; h !== o; h++)
      n[h] = r[l + h];
    return n;
  }
  interpolate_(e, n, r, o) {
    const l = this.resultBuffer, h = this.sampleValues, d = this.valueSize, p = d * 2, g = d * 3, v = o - n, y = (r - n) / v, x = y * y, w = x * y, T = e * g, M = T - g, S = -2 * w + 3 * x, L = w - x, F = 1 - S, G = L - x + y;
    for (let $ = 0; $ !== d; $++) {
      const K = h[M + $ + d], q = h[M + $ + p] * v, he = h[T + $ + d], ae = h[T + $] * v;
      l[$] = F * K + G * q + S * he + L * ae;
    }
    return l;
  }
}
const Wce = new Ml();
class Vce extends c5 {
  interpolate_(e, n, r, o) {
    const l = super.interpolate_(e, n, r, o);
    return Wce.fromArray(l).normalize().toArray(l), l;
  }
}
const to = {
  FLOAT: 5126,
  //FLOAT_MAT2: 35674,
  FLOAT_MAT3: 35675,
  FLOAT_MAT4: 35676,
  FLOAT_VEC2: 35664,
  FLOAT_VEC3: 35665,
  FLOAT_VEC4: 35666,
  LINEAR: 9729,
  REPEAT: 10497,
  SAMPLER_2D: 35678,
  POINTS: 0,
  LINES: 1,
  LINE_LOOP: 2,
  LINE_STRIP: 3,
  TRIANGLES: 4,
  TRIANGLE_STRIP: 5,
  TRIANGLE_FAN: 6,
  UNSIGNED_BYTE: 5121,
  UNSIGNED_SHORT: 5123
}, ju = {
  5120: Int8Array,
  5121: Uint8Array,
  5122: Int16Array,
  5123: Uint16Array,
  5125: Uint32Array,
  5126: Float32Array
}, US = {
  9728: fp,
  9729: TC,
  9984: bse,
  9985: yse,
  9986: vse,
  9987: NC
}, GS = {
  33071: op,
  33648: Qx,
  10497: pp
}, vx = {
  SCALAR: 1,
  VEC2: 2,
  VEC3: 3,
  VEC4: 4,
  MAT2: 4,
  MAT3: 9,
  MAT4: 16
}, s2 = {
  POSITION: "position",
  NORMAL: "normal",
  TANGENT: "tangent",
  TEXCOORD_0: "uv",
  TEXCOORD_1: "uv1",
  TEXCOORD_2: "uv2",
  TEXCOORD_3: "uv3",
  COLOR_0: "color",
  WEIGHTS_0: "skinWeight",
  JOINTS_0: "skinIndex"
}, ul = {
  scale: "scale",
  translation: "position",
  rotation: "quaternion",
  weights: "morphTargetInfluences"
}, Hce = {
  CUBICSPLINE: void 0,
  // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each
  // keyframe track will be initialized with a default interpolation type, then modified.
  LINEAR: Fu,
  STEP: gp
}, yx = {
  OPAQUE: "OPAQUE",
  MASK: "MASK",
  BLEND: "BLEND"
};
function $ce(a) {
  return a.DefaultMaterial === void 0 && (a.DefaultMaterial = new vp({
    color: 16777215,
    emissive: 0,
    metalness: 1,
    roughness: 1,
    transparent: !1,
    depthTest: !0,
    side: e0
  })), a.DefaultMaterial;
}
function Oc(a, e, n) {
  for (const r in n.extensions)
    a[r] === void 0 && (e.userData.gltfExtensions = e.userData.gltfExtensions || {}, e.userData.gltfExtensions[r] = n.extensions[r]);
}
function ml(a, e) {
  e.extras !== void 0 && (typeof e.extras == "object" ? Object.assign(a.userData, e.extras) : console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, " + e.extras));
}
function qce(a, e, n) {
  let r = !1, o = !1, l = !1;
  for (let g = 0, v = e.length; g < v; g++) {
    const y = e[g];
    if (y.POSITION !== void 0 && (r = !0), y.NORMAL !== void 0 && (o = !0), y.COLOR_0 !== void 0 && (l = !0), r && o && l)
      break;
  }
  if (!r && !o && !l)
    return Promise.resolve(a);
  const h = [], d = [], p = [];
  for (let g = 0, v = e.length; g < v; g++) {
    const y = e[g];
    if (r) {
      const x = y.POSITION !== void 0 ? n.getDependency("accessor", y.POSITION) : a.attributes.position;
      h.push(x);
    }
    if (o) {
      const x = y.NORMAL !== void 0 ? n.getDependency("accessor", y.NORMAL) : a.attributes.normal;
      d.push(x);
    }
    if (l) {
      const x = y.COLOR_0 !== void 0 ? n.getDependency("accessor", y.COLOR_0) : a.attributes.color;
      p.push(x);
    }
  }
  return Promise.all([
    Promise.all(h),
    Promise.all(d),
    Promise.all(p)
  ]).then(function(g) {
    const v = g[0], y = g[1], x = g[2];
    return r && (a.morphAttributes.position = v), o && (a.morphAttributes.normal = y), l && (a.morphAttributes.color = x), a.morphTargetsRelative = !0, a;
  });
}
function Yce(a, e) {
  if (a.updateMorphTargets(), e.weights !== void 0)
    for (let n = 0, r = e.weights.length; n < r; n++)
      a.morphTargetInfluences[n] = e.weights[n];
  if (e.extras && Array.isArray(e.extras.targetNames)) {
    const n = e.extras.targetNames;
    if (a.morphTargetInfluences.length === n.length) {
      a.morphTargetDictionary = {};
      for (let r = 0, o = n.length; r < o; r++)
        a.morphTargetDictionary[n[r]] = r;
    } else
      console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.");
  }
}
function Kce(a) {
  let e;
  const n = a.extensions && a.extensions[Cn.KHR_DRACO_MESH_COMPRESSION];
  if (n ? e = "draco:" + n.bufferView + ":" + n.indices + ":" + xx(n.attributes) : e = a.indices + ":" + xx(a.attributes) + ":" + a.mode, a.targets !== void 0)
    for (let r = 0, o = a.targets.length; r < o; r++)
      e += ":" + xx(a.targets[r]);
  return e;
}
function xx(a) {
  let e = "";
  const n = Object.keys(a).sort();
  for (let r = 0, o = n.length; r < o; r++)
    e += n[r] + ":" + a[n[r]] + ";";
  return e;
}
function l2(a) {
  switch (a) {
    case Int8Array:
      return 1 / 127;
    case Uint8Array:
      return 1 / 255;
    case Int16Array:
      return 1 / 32767;
    case Uint16Array:
      return 1 / 65535;
    default:
      throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.");
  }
}
function Zce(a) {
  return a.search(/\.jpe?g($|\?)/i) > 0 || a.search(/^data\:image\/jpeg/) === 0 ? "image/jpeg" : a.search(/\.webp($|\?)/i) > 0 || a.search(/^data\:image\/webp/) === 0 ? "image/webp" : "image/png";
}
const Jce = new In();
class Qce {
  constructor(e = {}, n = {}) {
    this.json = e, this.extensions = {}, this.plugins = {}, this.options = n, this.cache = new Cce(), this.associations = /* @__PURE__ */ new Map(), this.primitiveCache = {}, this.nodeCache = {}, this.meshCache = { refs: {}, uses: {} }, this.cameraCache = { refs: {}, uses: {} }, this.lightCache = { refs: {}, uses: {} }, this.sourceCache = {}, this.textureCache = {}, this.nodeNamesUsed = {};
    let r = !1, o = !1, l = -1;
    typeof navigator < "u" && (r = /^((?!chrome|android).)*safari/i.test(navigator.userAgent) === !0, o = navigator.userAgent.indexOf("Firefox") > -1, l = o ? navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1] : -1), typeof createImageBitmap > "u" || r || o && l < 98 ? this.textureLoader = new Vle(this.options.manager) : this.textureLoader = new Zle(this.options.manager), this.textureLoader.setCrossOrigin(this.options.crossOrigin), this.textureLoader.setRequestHeader(this.options.requestHeader), this.fileLoader = new r0(this.options.manager), this.fileLoader.setResponseType("arraybuffer"), this.options.crossOrigin === "use-credentials" && this.fileLoader.setWithCredentials(!0);
  }
  setExtensions(e) {
    this.extensions = e;
  }
  setPlugins(e) {
    this.plugins = e;
  }
  parse(e, n) {
    const r = this, o = this.json, l = this.extensions;
    this.cache.removeAll(), this.nodeCache = {}, this._invokeAll(function(h) {
      return h._markDefs && h._markDefs();
    }), Promise.all(this._invokeAll(function(h) {
      return h.beforeRoot && h.beforeRoot();
    })).then(function() {
      return Promise.all([
        r.getDependencies("scene"),
        r.getDependencies("animation"),
        r.getDependencies("camera")
      ]);
    }).then(function(h) {
      const d = {
        scene: h[0][o.scene || 0],
        scenes: h[0],
        animations: h[1],
        cameras: h[2],
        asset: o.asset,
        parser: r,
        userData: {}
      };
      return Oc(l, d, o), ml(d, o), Promise.all(r._invokeAll(function(p) {
        return p.afterRoot && p.afterRoot(d);
      })).then(function() {
        for (const p of d.scenes)
          p.updateMatrixWorld();
        e(d);
      });
    }).catch(n);
  }
  /**
   * Marks the special nodes/meshes in json for efficient parse.
   */
  _markDefs() {
    const e = this.json.nodes || [], n = this.json.skins || [], r = this.json.meshes || [];
    for (let o = 0, l = n.length; o < l; o++) {
      const h = n[o].joints;
      for (let d = 0, p = h.length; d < p; d++)
        e[h[d]].isBone = !0;
    }
    for (let o = 0, l = e.length; o < l; o++) {
      const h = e[o];
      h.mesh !== void 0 && (this._addNodeRef(this.meshCache, h.mesh), h.skin !== void 0 && (r[h.mesh].isSkinnedMesh = !0)), h.camera !== void 0 && this._addNodeRef(this.cameraCache, h.camera);
    }
  }
  /**
   * Counts references to shared node / Object3D resources. These resources
   * can be reused, or "instantiated", at multiple nodes in the scene
   * hierarchy. Mesh, Camera, and Light instances are instantiated and must
   * be marked. Non-scenegraph resources (like Materials, Geometries, and
   * Textures) can be reused directly and are not marked here.
   *
   * Example: CesiumMilkTruck sample model reuses "Wheel" meshes.
   */
  _addNodeRef(e, n) {
    n !== void 0 && (e.refs[n] === void 0 && (e.refs[n] = e.uses[n] = 0), e.refs[n]++);
  }
  /** Returns a reference to a shared resource, cloning it if necessary. */
  _getNodeRef(e, n, r) {
    if (e.refs[n] <= 1)
      return r;
    const o = r.clone(), l = (h, d) => {
      const p = this.associations.get(h);
      p != null && this.associations.set(d, p);
      for (const [g, v] of h.children.entries())
        l(v, d.children[g]);
    };
    return l(r, o), o.name += "_instance_" + e.uses[n]++, o;
  }
  _invokeOne(e) {
    const n = Object.values(this.plugins);
    n.push(this);
    for (let r = 0; r < n.length; r++) {
      const o = e(n[r]);
      if (o)
        return o;
    }
    return null;
  }
  _invokeAll(e) {
    const n = Object.values(this.plugins);
    n.unshift(this);
    const r = [];
    for (let o = 0; o < n.length; o++) {
      const l = e(n[o]);
      l && r.push(l);
    }
    return r;
  }
  /**
   * Requests the specified dependency asynchronously, with caching.
   * @param {string} type
   * @param {number} index
   * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}
   */
  getDependency(e, n) {
    const r = e + ":" + n;
    let o = this.cache.get(r);
    if (!o) {
      switch (e) {
        case "scene":
          o = this.loadScene(n);
          break;
        case "node":
          o = this._invokeOne(function(l) {
            return l.loadNode && l.loadNode(n);
          });
          break;
        case "mesh":
          o = this._invokeOne(function(l) {
            return l.loadMesh && l.loadMesh(n);
          });
          break;
        case "accessor":
          o = this.loadAccessor(n);
          break;
        case "bufferView":
          o = this._invokeOne(function(l) {
            return l.loadBufferView && l.loadBufferView(n);
          });
          break;
        case "buffer":
          o = this.loadBuffer(n);
          break;
        case "material":
          o = this._invokeOne(function(l) {
            return l.loadMaterial && l.loadMaterial(n);
          });
          break;
        case "texture":
          o = this._invokeOne(function(l) {
            return l.loadTexture && l.loadTexture(n);
          });
          break;
        case "skin":
          o = this.loadSkin(n);
          break;
        case "animation":
          o = this._invokeOne(function(l) {
            return l.loadAnimation && l.loadAnimation(n);
          });
          break;
        case "camera":
          o = this.loadCamera(n);
          break;
        default:
          if (o = this._invokeOne(function(l) {
            return l != this && l.getDependency && l.getDependency(e, n);
          }), !o)
            throw new Error("Unknown type: " + e);
          break;
      }
      this.cache.add(r, o);
    }
    return o;
  }
  /**
   * Requests all dependencies of the specified type asynchronously, with caching.
   * @param {string} type
   * @return {Promise<Array<Object>>}
   */
  getDependencies(e) {
    let n = this.cache.get(e);
    if (!n) {
      const r = this, o = this.json[e + (e === "mesh" ? "es" : "s")] || [];
      n = Promise.all(o.map(function(l, h) {
        return r.getDependency(e, h);
      })), this.cache.add(e, n);
    }
    return n;
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views
   * @param {number} bufferIndex
   * @return {Promise<ArrayBuffer>}
   */
  loadBuffer(e) {
    const n = this.json.buffers[e], r = this.fileLoader;
    if (n.type && n.type !== "arraybuffer")
      throw new Error("THREE.GLTFLoader: " + n.type + " buffer type is not supported.");
    if (n.uri === void 0 && e === 0)
      return Promise.resolve(this.extensions[Cn.KHR_BINARY_GLTF].body);
    const o = this.options;
    return new Promise(function(l, h) {
      r.load(cp.resolveURL(n.uri, o.path), l, void 0, function() {
        h(new Error('THREE.GLTFLoader: Failed to load buffer "' + n.uri + '".'));
      });
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views
   * @param {number} bufferViewIndex
   * @return {Promise<ArrayBuffer>}
   */
  loadBufferView(e) {
    const n = this.json.bufferViews[e];
    return this.getDependency("buffer", n.buffer).then(function(r) {
      const o = n.byteLength || 0, l = n.byteOffset || 0;
      return r.slice(l, l + o);
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors
   * @param {number} accessorIndex
   * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}
   */
  loadAccessor(e) {
    const n = this, r = this.json, o = this.json.accessors[e];
    if (o.bufferView === void 0 && o.sparse === void 0) {
      const h = vx[o.type], d = ju[o.componentType], p = o.normalized === !0, g = new d(o.count * h);
      return Promise.resolve(new Ui(g, h, p));
    }
    const l = [];
    return o.bufferView !== void 0 ? l.push(this.getDependency("bufferView", o.bufferView)) : l.push(null), o.sparse !== void 0 && (l.push(this.getDependency("bufferView", o.sparse.indices.bufferView)), l.push(this.getDependency("bufferView", o.sparse.values.bufferView))), Promise.all(l).then(function(h) {
      const d = h[0], p = vx[o.type], g = ju[o.componentType], v = g.BYTES_PER_ELEMENT, y = v * p, x = o.byteOffset || 0, w = o.bufferView !== void 0 ? r.bufferViews[o.bufferView].byteStride : void 0, T = o.normalized === !0;
      let M, S;
      if (w && w !== y) {
        const L = Math.floor(x / w), F = "InterleavedBuffer:" + o.bufferView + ":" + o.componentType + ":" + L + ":" + o.count;
        let G = n.cache.get(F);
        G || (M = new g(d, L * w, o.count * w / v), G = new wle(M, w / v), n.cache.add(F, G)), S = new EC(G, p, x % w / v, T);
      } else
        d === null ? M = new g(o.count * p) : M = new g(d, x, o.count * p), S = new Ui(M, p, T);
      if (o.sparse !== void 0) {
        const L = vx.SCALAR, F = ju[o.sparse.indices.componentType], G = o.sparse.indices.byteOffset || 0, $ = o.sparse.values.byteOffset || 0, K = new F(h[1], G, o.sparse.count * L), q = new g(h[2], $, o.sparse.count * p);
        d !== null && (S = new Ui(S.array.slice(), S.itemSize, S.normalized));
        for (let he = 0, ae = K.length; he < ae; he++) {
          const ve = K[he];
          if (S.setX(ve, q[he * p]), p >= 2 && S.setY(ve, q[he * p + 1]), p >= 3 && S.setZ(ve, q[he * p + 2]), p >= 4 && S.setW(ve, q[he * p + 3]), p >= 5)
            throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.");
        }
      }
      return S;
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures
   * @param {number} textureIndex
   * @return {Promise<THREE.Texture|null>}
   */
  loadTexture(e) {
    const n = this.json, r = this.options, l = n.textures[e].source, h = n.images[l];
    let d = this.textureLoader;
    if (h.uri) {
      const p = r.manager.getHandler(h.uri);
      p !== null && (d = p);
    }
    return this.loadTextureImage(e, l, d);
  }
  loadTextureImage(e, n, r) {
    const o = this, l = this.json, h = l.textures[e], d = l.images[n], p = (d.uri || d.bufferView) + ":" + h.sampler;
    if (this.textureCache[p])
      return this.textureCache[p];
    const g = this.loadImageSource(n, r).then(function(v) {
      v.flipY = !1, v.name = h.name || d.name || "", v.name === "" && typeof d.uri == "string" && d.uri.startsWith("data:image/") === !1 && (v.name = d.uri);
      const x = (l.samplers || {})[h.sampler] || {};
      return v.magFilter = US[x.magFilter] || TC, v.minFilter = US[x.minFilter] || NC, v.wrapS = GS[x.wrapS] || pp, v.wrapT = GS[x.wrapT] || pp, o.associations.set(v, { textures: e }), v;
    }).catch(function() {
      return null;
    });
    return this.textureCache[p] = g, g;
  }
  loadImageSource(e, n) {
    const r = this, o = this.json, l = this.options;
    if (this.sourceCache[e] !== void 0)
      return this.sourceCache[e].then((y) => y.clone());
    const h = o.images[e], d = self.URL || self.webkitURL;
    let p = h.uri || "", g = !1;
    if (h.bufferView !== void 0)
      p = r.getDependency("bufferView", h.bufferView).then(function(y) {
        g = !0;
        const x = new Blob([y], { type: h.mimeType });
        return p = d.createObjectURL(x), p;
      });
    else if (h.uri === void 0)
      throw new Error("THREE.GLTFLoader: Image " + e + " is missing URI and bufferView");
    const v = Promise.resolve(p).then(function(y) {
      return new Promise(function(x, w) {
        let T = x;
        n.isImageBitmapLoader === !0 && (T = function(M) {
          const S = new ao(M);
          S.needsUpdate = !0, x(S);
        }), n.load(cp.resolveURL(y, l.path), T, void 0, w);
      });
    }).then(function(y) {
      return g === !0 && d.revokeObjectURL(p), y.userData.mimeType = h.mimeType || Zce(h.uri), y;
    }).catch(function(y) {
      throw console.error("THREE.GLTFLoader: Couldn't load texture", p), y;
    });
    return this.sourceCache[e] = v, v;
  }
  /**
   * Asynchronously assigns a texture to the given material parameters.
   * @param {Object} materialParams
   * @param {string} mapName
   * @param {Object} mapDef
   * @return {Promise<Texture>}
   */
  assignTexture(e, n, r, o) {
    const l = this;
    return this.getDependency("texture", r.index).then(function(h) {
      if (!h)
        return null;
      if (r.texCoord !== void 0 && r.texCoord > 0 && (h = h.clone(), h.channel = r.texCoord), l.extensions[Cn.KHR_TEXTURE_TRANSFORM]) {
        const d = r.extensions !== void 0 ? r.extensions[Cn.KHR_TEXTURE_TRANSFORM] : void 0;
        if (d) {
          const p = l.associations.get(h);
          h = l.extensions[Cn.KHR_TEXTURE_TRANSFORM].extendTexture(h, d), l.associations.set(h, p);
        }
      }
      return o !== void 0 && (h.colorSpace = o), e[n] = h, h;
    });
  }
  /**
   * Assigns final material to a Mesh, Line, or Points instance. The instance
   * already has a material (generated from the glTF material options alone)
   * but reuse of the same glTF material may require multiple threejs materials
   * to accommodate different primitive types, defines, etc. New materials will
   * be created if necessary, and reused from a cache.
   * @param  {Object3D} mesh Mesh, Line, or Points instance.
   */
  assignFinalMaterial(e) {
    const n = e.geometry;
    let r = e.material;
    const o = n.attributes.tangent === void 0, l = n.attributes.color !== void 0, h = n.attributes.normal === void 0;
    if (e.isPoints) {
      const d = "PointsMaterial:" + r.uuid;
      let p = this.cache.get(d);
      p || (p = new r5(), fl.prototype.copy.call(p, r), p.color.copy(r.color), p.map = r.map, p.sizeAttenuation = !1, this.cache.add(d, p)), r = p;
    } else if (e.isLine) {
      const d = "LineBasicMaterial:" + r.uuid;
      let p = this.cache.get(d);
      p || (p = new n5(), fl.prototype.copy.call(p, r), p.color.copy(r.color), p.map = r.map, this.cache.add(d, p)), r = p;
    }
    if (o || l || h) {
      let d = "ClonedMaterial:" + r.uuid + ":";
      o && (d += "derivative-tangents:"), l && (d += "vertex-colors:"), h && (d += "flat-shading:");
      let p = this.cache.get(d);
      p || (p = r.clone(), l && (p.vertexColors = !0), h && (p.flatShading = !0), o && (p.normalScale && (p.normalScale.y *= -1), p.clearcoatNormalScale && (p.clearcoatNormalScale.y *= -1)), this.cache.add(d, p), this.associations.set(p, this.associations.get(r))), r = p;
    }
    e.material = r;
  }
  getMaterialType() {
    return vp;
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials
   * @param {number} materialIndex
   * @return {Promise<Material>}
   */
  loadMaterial(e) {
    const n = this, r = this.json, o = this.extensions, l = r.materials[e];
    let h;
    const d = {}, p = l.extensions || {}, g = [];
    if (p[Cn.KHR_MATERIALS_UNLIT]) {
      const y = o[Cn.KHR_MATERIALS_UNLIT];
      h = y.getMaterialType(), g.push(y.extendParams(d, l, n));
    } else {
      const y = l.pbrMetallicRoughness || {};
      if (d.color = new Ar(1, 1, 1), d.opacity = 1, Array.isArray(y.baseColorFactor)) {
        const x = y.baseColorFactor;
        d.color.setRGB(x[0], x[1], x[2], Wi), d.opacity = x[3];
      }
      y.baseColorTexture !== void 0 && g.push(n.assignTexture(d, "map", y.baseColorTexture, yi)), d.metalness = y.metallicFactor !== void 0 ? y.metallicFactor : 1, d.roughness = y.roughnessFactor !== void 0 ? y.roughnessFactor : 1, y.metallicRoughnessTexture !== void 0 && (g.push(n.assignTexture(d, "metalnessMap", y.metallicRoughnessTexture)), g.push(n.assignTexture(d, "roughnessMap", y.metallicRoughnessTexture))), h = this._invokeOne(function(x) {
        return x.getMaterialType && x.getMaterialType(e);
      }), g.push(Promise.all(this._invokeAll(function(x) {
        return x.extendMaterialParams && x.extendMaterialParams(e, d);
      })));
    }
    l.doubleSided === !0 && (d.side = pse);
    const v = l.alphaMode || yx.OPAQUE;
    if (v === yx.BLEND ? (d.transparent = !0, d.depthWrite = !1) : (d.transparent = !1, v === yx.MASK && (d.alphaTest = l.alphaCutoff !== void 0 ? l.alphaCutoff : 0.5)), l.normalTexture !== void 0 && h !== Xc && (g.push(n.assignTexture(d, "normalMap", l.normalTexture)), d.normalScale = new mr(1, 1), l.normalTexture.scale !== void 0)) {
      const y = l.normalTexture.scale;
      d.normalScale.set(y, y);
    }
    if (l.occlusionTexture !== void 0 && h !== Xc && (g.push(n.assignTexture(d, "aoMap", l.occlusionTexture)), l.occlusionTexture.strength !== void 0 && (d.aoMapIntensity = l.occlusionTexture.strength)), l.emissiveFactor !== void 0 && h !== Xc) {
      const y = l.emissiveFactor;
      d.emissive = new Ar().setRGB(y[0], y[1], y[2], Wi);
    }
    return l.emissiveTexture !== void 0 && h !== Xc && g.push(n.assignTexture(d, "emissiveMap", l.emissiveTexture, yi)), Promise.all(g).then(function() {
      const y = new h(d);
      return l.name && (y.name = l.name), ml(y, l), n.associations.set(y, { materials: e }), l.extensions && Oc(o, y, l), y;
    });
  }
  /** When Object3D instances are targeted by animation, they need unique names. */
  createUniqueName(e) {
    const n = qn.sanitizeNodeName(e || "");
    return n in this.nodeNamesUsed ? n + "_" + ++this.nodeNamesUsed[n] : (this.nodeNamesUsed[n] = 0, n);
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry
   *
   * Creates BufferGeometries from primitives.
   *
   * @param {Array<GLTF.Primitive>} primitives
   * @return {Promise<Array<BufferGeometry>>}
   */
  loadGeometries(e) {
    const n = this, r = this.extensions, o = this.primitiveCache;
    function l(d) {
      return r[Cn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d, n).then(function(p) {
        return WS(p, d, n);
      });
    }
    const h = [];
    for (let d = 0, p = e.length; d < p; d++) {
      const g = e[d], v = Kce(g), y = o[v];
      if (y)
        h.push(y.promise);
      else {
        let x;
        g.extensions && g.extensions[Cn.KHR_DRACO_MESH_COMPRESSION] ? x = l(g) : x = WS(new Sl(), g, n), o[v] = { primitive: g, promise: x }, h.push(x);
      }
    }
    return Promise.all(h);
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes
   * @param {number} meshIndex
   * @return {Promise<Group|Mesh|SkinnedMesh>}
   */
  loadMesh(e) {
    const n = this, r = this.json, o = this.extensions, l = r.meshes[e], h = l.primitives, d = [];
    for (let p = 0, g = h.length; p < g; p++) {
      const v = h[p].material === void 0 ? $ce(this.cache) : this.getDependency("material", h[p].material);
      d.push(v);
    }
    return d.push(n.loadGeometries(h)), Promise.all(d).then(function(p) {
      const g = p.slice(0, p.length - 1), v = p[p.length - 1], y = [];
      for (let w = 0, T = v.length; w < T; w++) {
        const M = v[w], S = h[w];
        let L;
        const F = g[w];
        if (S.mode === to.TRIANGLES || S.mode === to.TRIANGLE_STRIP || S.mode === to.TRIANGLE_FAN || S.mode === void 0)
          L = l.isSkinnedMesh === !0 ? new Nle(M, F) : new Wr(M, F), L.isSkinnedMesh === !0 && L.normalizeSkinWeights(), S.mode === to.TRIANGLE_STRIP ? L.geometry = XS(L.geometry, $E) : S.mode === to.TRIANGLE_FAN && (L.geometry = XS(L.geometry, e2));
        else if (S.mode === to.LINES)
          L = new Ale(M, F);
        else if (S.mode === to.LINE_STRIP)
          L = new RC(M, F);
        else if (S.mode === to.LINE_LOOP)
          L = new Ele(M, F);
        else if (S.mode === to.POINTS)
          L = new Ple(M, F);
        else
          throw new Error("THREE.GLTFLoader: Primitive mode unsupported: " + S.mode);
        Object.keys(L.geometry.morphAttributes).length > 0 && Yce(L, l), L.name = n.createUniqueName(l.name || "mesh_" + e), ml(L, l), S.extensions && Oc(o, L, S), n.assignFinalMaterial(L), y.push(L);
      }
      for (let w = 0, T = y.length; w < T; w++)
        n.associations.set(y[w], {
          meshes: e,
          primitives: w
        });
      if (y.length === 1)
        return l.extensions && Oc(o, y[0], l), y[0];
      const x = new cx();
      l.extensions && Oc(o, x, l), n.associations.set(x, { meshes: e });
      for (let w = 0, T = y.length; w < T; w++)
        x.add(y[w]);
      return x;
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras
   * @param {number} cameraIndex
   * @return {Promise<THREE.Camera>}
   */
  loadCamera(e) {
    let n;
    const r = this.json.cameras[e], o = r[r.type];
    if (!o) {
      console.warn("THREE.GLTFLoader: Missing camera parameters.");
      return;
    }
    return r.type === "perspective" ? n = new AC(Vse.radToDeg(o.yfov), o.aspectRatio || 1, o.znear || 1, o.zfar || 2e6) : r.type === "orthographic" && (n = new QE(-o.xmag, o.xmag, o.ymag, -o.ymag, o.znear, o.zfar)), r.name && (n.name = this.createUniqueName(r.name)), ml(n, r), Promise.resolve(n);
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins
   * @param {number} skinIndex
   * @return {Promise<Skeleton>}
   */
  loadSkin(e) {
    const n = this.json.skins[e], r = [];
    for (let o = 0, l = n.joints.length; o < l; o++)
      r.push(this._loadNodeShallow(n.joints[o]));
    return n.inverseBindMatrices !== void 0 ? r.push(this.getDependency("accessor", n.inverseBindMatrices)) : r.push(null), Promise.all(r).then(function(o) {
      const l = o.pop(), h = o, d = [], p = [];
      for (let g = 0, v = h.length; g < v; g++) {
        const y = h[g];
        if (y) {
          d.push(y);
          const x = new In();
          l !== null && x.fromArray(l.array, g * 16), p.push(x);
        } else
          console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', n.joints[g]);
      }
      return new PC(d, p);
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations
   * @param {number} animationIndex
   * @return {Promise<AnimationClip>}
   */
  loadAnimation(e) {
    const n = this.json, r = this, o = n.animations[e], l = o.name ? o.name : "animation_" + e, h = [], d = [], p = [], g = [], v = [];
    for (let y = 0, x = o.channels.length; y < x; y++) {
      const w = o.channels[y], T = o.samplers[w.sampler], M = w.target, S = M.node, L = o.parameters !== void 0 ? o.parameters[T.input] : T.input, F = o.parameters !== void 0 ? o.parameters[T.output] : T.output;
      M.node !== void 0 && (h.push(this.getDependency("node", S)), d.push(this.getDependency("accessor", L)), p.push(this.getDependency("accessor", F)), g.push(T), v.push(M));
    }
    return Promise.all([
      Promise.all(h),
      Promise.all(d),
      Promise.all(p),
      Promise.all(g),
      Promise.all(v)
    ]).then(function(y) {
      const x = y[0], w = y[1], T = y[2], M = y[3], S = y[4], L = [];
      for (let F = 0, G = x.length; F < G; F++) {
        const $ = x[F], K = w[F], q = T[F], he = M[F], ae = S[F];
        if ($ === void 0)
          continue;
        $.updateMatrix && $.updateMatrix();
        const ve = r._createAnimationTracks($, K, q, he, ae);
        if (ve)
          for (let ne = 0; ne < ve.length; ne++)
            L.push(ve[ne]);
      }
      return new Fle(l, void 0, L);
    });
  }
  createNodeMesh(e) {
    const n = this.json, r = this, o = n.nodes[e];
    return o.mesh === void 0 ? null : r.getDependency("mesh", o.mesh).then(function(l) {
      const h = r._getNodeRef(r.meshCache, o.mesh, l);
      return o.weights !== void 0 && h.traverse(function(d) {
        if (d.isMesh)
          for (let p = 0, g = o.weights.length; p < g; p++)
            d.morphTargetInfluences[p] = o.weights[p];
      }), h;
    });
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy
   * @param {number} nodeIndex
   * @return {Promise<Object3D>}
   */
  loadNode(e) {
    const n = this.json, r = this, o = n.nodes[e], l = r._loadNodeShallow(e), h = [], d = o.children || [];
    for (let g = 0, v = d.length; g < v; g++)
      h.push(r.getDependency("node", d[g]));
    const p = o.skin === void 0 ? Promise.resolve(null) : r.getDependency("skin", o.skin);
    return Promise.all([
      l,
      Promise.all(h),
      p
    ]).then(function(g) {
      const v = g[0], y = g[1], x = g[2];
      x !== null && v.traverse(function(w) {
        w.isSkinnedMesh && w.bind(x, Jce);
      });
      for (let w = 0, T = y.length; w < T; w++)
        v.add(y[w]);
      return v;
    });
  }
  // ._loadNodeShallow() parses a single node.
  // skin and child nodes are created and added in .loadNode() (no '_' prefix).
  _loadNodeShallow(e) {
    const n = this.json, r = this.extensions, o = this;
    if (this.nodeCache[e] !== void 0)
      return this.nodeCache[e];
    const l = n.nodes[e], h = l.name ? o.createUniqueName(l.name) : "", d = [], p = o._invokeOne(function(g) {
      return g.createNodeMesh && g.createNodeMesh(e);
    });
    return p && d.push(p), l.camera !== void 0 && d.push(o.getDependency("camera", l.camera).then(function(g) {
      return o._getNodeRef(o.cameraCache, l.camera, g);
    })), o._invokeAll(function(g) {
      return g.createNodeAttachment && g.createNodeAttachment(e);
    }).forEach(function(g) {
      d.push(g);
    }), this.nodeCache[e] = Promise.all(d).then(function(g) {
      let v;
      if (l.isBone === !0 ? v = new e5() : g.length > 1 ? v = new cx() : g.length === 1 ? v = g[0] : v = new Vr(), v !== g[0])
        for (let y = 0, x = g.length; y < x; y++)
          v.add(g[y]);
      if (l.name && (v.userData.name = l.name, v.name = h), ml(v, l), l.extensions && Oc(r, v, l), l.matrix !== void 0) {
        const y = new In();
        y.fromArray(l.matrix), v.applyMatrix4(y);
      } else
        l.translation !== void 0 && v.position.fromArray(l.translation), l.rotation !== void 0 && v.quaternion.fromArray(l.rotation), l.scale !== void 0 && v.scale.fromArray(l.scale);
      return o.associations.has(v) || o.associations.set(v, {}), o.associations.get(v).nodes = e, v;
    }), this.nodeCache[e];
  }
  /**
   * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes
   * @param {number} sceneIndex
   * @return {Promise<Group>}
   */
  loadScene(e) {
    const n = this.extensions, r = this.json.scenes[e], o = this, l = new cx();
    r.name && (l.name = o.createUniqueName(r.name)), ml(l, r), r.extensions && Oc(n, l, r);
    const h = r.nodes || [], d = [];
    for (let p = 0, g = h.length; p < g; p++)
      d.push(o.getDependency("node", h[p]));
    return Promise.all(d).then(function(p) {
      for (let v = 0, y = p.length; v < y; v++)
        l.add(p[v]);
      const g = (v) => {
        const y = /* @__PURE__ */ new Map();
        for (const [x, w] of o.associations)
          (x instanceof fl || x instanceof ao) && y.set(x, w);
        return v.traverse((x) => {
          const w = o.associations.get(x);
          w != null && y.set(x, w);
        }), y;
      };
      return o.associations = g(l), l;
    });
  }
  _createAnimationTracks(e, n, r, o, l) {
    const h = [], d = e.name ? e.name : e.uuid, p = [];
    ul[l.path] === ul.weights ? e.traverse(function(x) {
      x.morphTargetInfluences && p.push(x.name ? x.name : x.uuid);
    }) : p.push(d);
    let g;
    switch (ul[l.path]) {
      case ul.weights:
        g = ku;
        break;
      case ul.rotation:
        g = Hc;
        break;
      case ul.position:
      case ul.scale:
        g = Xu;
        break;
      default:
        switch (r.itemSize) {
          case 1:
            g = ku;
            break;
          case 2:
          case 3:
          default:
            g = Xu;
            break;
        }
        break;
    }
    const v = o.interpolation !== void 0 ? Hce[o.interpolation] : Fu, y = this._getArrayFromAccessor(r);
    for (let x = 0, w = p.length; x < w; x++) {
      const T = new g(
        p[x] + "." + ul[l.path],
        n.array,
        y,
        v
      );
      o.interpolation === "CUBICSPLINE" && this._createCubicSplineTrackInterpolant(T), h.push(T);
    }
    return h;
  }
  _getArrayFromAccessor(e) {
    let n = e.array;
    if (e.normalized) {
      const r = l2(n.constructor), o = new Float32Array(n.length);
      for (let l = 0, h = n.length; l < h; l++)
        o[l] = n[l] * r;
      n = o;
    }
    return n;
  }
  _createCubicSplineTrackInterpolant(e) {
    e.createInterpolant = function(r) {
      const o = this instanceof Hc ? Vce : c5;
      return new o(this.times, this.values, this.getValueSize() / 3, r);
    }, e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = !0;
  }
}
function ehe(a, e, n) {
  const r = e.attributes, o = new bs();
  if (r.POSITION !== void 0) {
    const d = n.json.accessors[r.POSITION], p = d.min, g = d.max;
    if (p !== void 0 && g !== void 0) {
      if (o.set(
        new Re(p[0], p[1], p[2]),
        new Re(g[0], g[1], g[2])
      ), d.normalized) {
        const v = l2(ju[d.componentType]);
        o.min.multiplyScalar(v), o.max.multiplyScalar(v);
      }
    } else {
      console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");
      return;
    }
  } else
    return;
  const l = e.targets;
  if (l !== void 0) {
    const d = new Re(), p = new Re();
    for (let g = 0, v = l.length; g < v; g++) {
      const y = l[g];
      if (y.POSITION !== void 0) {
        const x = n.json.accessors[y.POSITION], w = x.min, T = x.max;
        if (w !== void 0 && T !== void 0) {
          if (p.setX(Math.max(Math.abs(w[0]), Math.abs(T[0]))), p.setY(Math.max(Math.abs(w[1]), Math.abs(T[1]))), p.setZ(Math.max(Math.abs(w[2]), Math.abs(T[2]))), x.normalized) {
            const M = l2(ju[x.componentType]);
            p.multiplyScalar(M);
          }
          d.max(p);
        } else
          console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");
      }
    }
    o.expandByVector(d);
  }
  a.boundingBox = o;
  const h = new ba();
  o.getCenter(h.center), h.radius = o.min.distanceTo(o.max) / 2, a.boundingSphere = h;
}
function WS(a, e, n) {
  const r = e.attributes, o = [];
  function l(h, d) {
    return n.getDependency("accessor", h).then(function(p) {
      a.setAttribute(d, p);
    });
  }
  for (const h in r) {
    const d = s2[h] || h.toLowerCase();
    d in a.attributes || o.push(l(r[h], d));
  }
  if (e.indices !== void 0 && !a.index) {
    const h = n.getDependency("accessor", e.indices).then(function(d) {
      a.setIndex(d);
    });
    o.push(h);
  }
  return zi.workingColorSpace !== Wi && "COLOR_0" in r && console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${zi.workingColorSpace}" not supported.`), ml(a, e), ehe(a, e, n), Promise.all(o).then(function() {
    return e.targets !== void 0 ? qce(a, e.targets, n) : a;
  });
}
const the = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  GLTFLoader: xce
}, Symbol.toStringTag, { value: "Module" })), nhe = /* @__PURE__ */ Gu(the);
(function(a) {
  var e = Go, n = ho;
  Object.defineProperty(a, "__esModule", {
    value: !0
  }), a.default = void 0;
  var r = e(ga()), o = g(ps()), l = yce, h = nhe, d = Nl();
  function p(w) {
    if (typeof WeakMap != "function")
      return null;
    var T = /* @__PURE__ */ new WeakMap(), M = /* @__PURE__ */ new WeakMap();
    return (p = function(L) {
      return L ? M : T;
    })(w);
  }
  function g(w, T) {
    if (w && w.__esModule)
      return w;
    if (w === null || n(w) != "object" && typeof w != "function")
      return { default: w };
    var M = p(T);
    if (M && M.has(w))
      return M.get(w);
    var S = { __proto__: null }, L = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for (var F in w)
      if (F !== "default" && {}.hasOwnProperty.call(w, F)) {
        var G = L ? Object.getOwnPropertyDescriptor(w, F) : null;
        G && (G.get || G.set) ? Object.defineProperty(S, F, G) : S[F] = w[F];
      }
    return S.default = w, M && M.set(w, S), S;
  }
  function v(w, T) {
    var M = Object.keys(w);
    if (Object.getOwnPropertySymbols) {
      var S = Object.getOwnPropertySymbols(w);
      T && (S = S.filter(function(L) {
        return Object.getOwnPropertyDescriptor(w, L).enumerable;
      })), M.push.apply(M, S);
    }
    return M;
  }
  function y(w) {
    for (var T = 1; T < arguments.length; T++) {
      var M = arguments[T] != null ? arguments[T] : {};
      T % 2 ? v(Object(M), !0).forEach(function(S) {
        (0, r.default)(w, S, M[S]);
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(w, Object.getOwnPropertyDescriptors(M)) : v(Object(M)).forEach(function(S) {
        Object.defineProperty(w, S, Object.getOwnPropertyDescriptor(M, S));
      });
    }
    return w;
  }
  var x = function(T, M) {
    var S = y(y({}, d.GLBLoaderConfig), M), L = S.onProcess, F = S.loop, G = S.castShadow, $ = S.receiveShadow, K = S.material, q = new h.GLTFLoader(), he = new l.DRACOLoader();
    return he.setDecoderConfig({
      type: "js"
    }), he.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"), q.setDRACOLoader(he), new Promise(function(ae, ve) {
      q.load(T, function(ne) {
        var se = [], oe = ne.scene;
        ne.animations.forEach(function(pe) {
          var be = new o.AnimationMixer(oe);
          if (F)
            be.clipAction(pe).play().setLoop(o.LoopRepeat, 1 / 0);
          else {
            var fe = be.clipAction(pe).play().setLoop(o.LoopOnce, 1);
            fe.clampWhenFinished = !0;
          }
          se.push(be);
        }), ne.scene.traverse(function(pe) {
          var be = pe;
          if (pe instanceof o.Mesh) {
            var fe = be.name;
            typeof G == "boolean" ? be.castShadow = G : G.forEach(function(Fe) {
              Fe === fe && (be.castShadow = !0);
            }), typeof $ == "boolean" ? be.receiveShadow = $ : $.forEach(function(Fe) {
              Fe === fe && (be.receiveShadow = !0);
            });
            var de = be.material;
            de && (de.metalness = K.metalness, de.roughness = K.roughness, de.clearcoat = K.clearcoat, de.clearcoatRoughness = K.clearcoatRoughness);
          }
        });
        var J = {
          gltf: ne,
          model: oe,
          mixers: se
        };
        ae(J);
      }, function(ne) {
        var se = ne.loaded, oe = ne.total;
        L(se, oe);
      }, function() {
        ve(new Error("[lesca-glb-loader] load ".concat(T, " error")));
      });
    });
  };
  a.default = x;
})(s5);
const rhe = /* @__PURE__ */ Uu(s5);
var h5 = Nl();
const ihe = /* @__PURE__ */ Uu(h5);
var ohe = yC();
const ahe = {
  ...h5.GLBLoaderConfig,
  loop: !0,
  castShadow: !0,
  receiveShadow: !0,
  material: {
    metalness: 0,
    roughness: 0.8,
    clearcoat: 1,
    clearcoatRoughness: 0
  }
}, VS = {
  ...ihe,
  camera: {
    fov: 45,
    far: 3e3,
    type: ohe.CameraType.perspective,
    dom: void 0
  },
  sky: {
    enabled: !1,
    turbidity: 0,
    rayleigh: 0.079,
    mieCoefficient: 0.023,
    mieDirectionalG: 0.226,
    inclination: 70,
    azimuth: -102.7
  },
  controls: {
    enabled: !0,
    distance: { min: 1, max: 8 },
    polar: { min: -10, max: 90 },
    azimuth: { min: -1 / 0, max: 1 / 0 },
    default: { polar: 20, azimuth: 0, distance: 4 },
    offsetAzimuth: 0,
    panEasing: 100,
    damping: !0,
    dampingFactor: 1.1
  },
  light: {
    ambient: {
      enabled: !0,
      color: 16777215,
      intensity: 1
    },
    lights: [
      {
        // 跟隨相機的燈光
        type: "spot",
        enabled: !0,
        distance: 100,
        color: 16777215,
        intensity: 1,
        decay: 1,
        angle: Math.PI / 2,
        position: { x: 0, y: 5, z: 0 },
        castShadow: !1,
        bias: -0.01,
        blurSamples: 25,
        penumbra: 1
      },
      {
        // 正上方的燈光
        type: "spot",
        enabled: !0,
        color: 16777215,
        intensity: 3,
        distance: 100,
        decay: 1,
        angle: Math.PI / 5,
        penumbra: 1,
        position: { x: 0, y: 10, z: 0 },
        bias: -0.01,
        blurSamples: 25,
        castShadow: !0
      },
      {
        type: "hemisphere",
        enabled: !0,
        color: 16777215,
        groundColor: 4473924,
        intensity: 5,
        position: { x: 0, y: 8, z: 0 }
      },
      {
        // 正上方的燈光
        type: "spot",
        enabled: !0,
        color: 16777215,
        intensity: 10,
        distance: 100,
        decay: 1,
        angle: Math.PI / 9,
        penumbra: 1,
        position: { x: 0, y: 0, z: -10 },
        bias: -0.01,
        blurSamples: 25,
        castShadow: !1
      }
    ],
    shadowMapSize: 2048,
    debug: !1
  },
  renderer: {
    alpha: !1,
    preserveDrawingBuffer: !0,
    exposure: 1,
    background: { color: 0, alpha: 0 },
    shadowType: Yt.THREE.BasicShadowMap,
    // THREE.BasicShadowMap, THREE.PCFShadowMap, THREE.PCFSoftShadowMap, THREE.VSMShadowMap
    outputEncoding: Yt.THREE.LinearSRGBColorSpace
    // THREE.NoColorSpace, THREE.SRGBColorSpace, THREE.LinearSRGBColorSpace.
  },
  stats: !1
};
class she {
  // default color
  constructor(e, n) {
    Jn(this, "scene");
    Jn(this, "mesh", new Yt.THREE.Group());
    Jn(this, "meshBackSide", new Yt.THREE.Group());
    Jn(this, "material", new Yt.THREE.MeshPhysicalMaterial());
    Jn(this, "materialBackSide", new Yt.THREE.MeshPhongMaterial());
    Jn(this, "options");
    Jn(this, "axis", new Yt.THREE.Group());
    Jn(this, "width", 1024);
    Jn(this, "height", 1024);
    Jn(this, "downscaleWidth", 1024);
    Jn(this, "anisotropy", 16);
    Jn(this, "ground", new Yt.THREE.Mesh());
    Jn(this, "defaultColor", "#ffffff");
    this.scene = e, this.options = n, this.scene.add(this.axis);
    const [r, o, l] = this.options.slider;
    this.material = new Yt.THREE.MeshPhysicalMaterial({
      side: Yt.THREE.FrontSide,
      transparent: !0,
      opacity: r.value,
      color: this.options.color,
      roughness: o.value,
      specularColor: new Yt.THREE.Color(1, 1, 1),
      specularIntensity: l.value,
      emissive: new Yt.THREE.Color(1, 1, 1),
      // 幫整體提亮度
      emissiveIntensity: 0.05,
      alphaTest: 0.5,
      precision: "highp",
      sheen: 1,
      // normalMapType: THREE.ObjectSpaceNormalMap,
      normalScale: new Yt.THREE.Vector2(0.5, 0.5),
      aoMapIntensity: 0
    }), this.materialBackSide = new Yt.THREE.MeshPhongMaterial({ side: Yt.THREE.BackSide, color: 16737792 }), this.addGround();
  }
  addGround() {
    this.ground = new Yt.THREE.Mesh(
      new Yt.THREE.PlaneGeometry(100, 100),
      new Yt.THREE.ShadowMaterial({ opacity: 0.1 })
    ), this.ground.rotation.x = -Math.PI / 2, this.ground.receiveShadow = !0, this.ground.position.y = wx, this.scene.add(this.ground);
  }
  addModel(e) {
    this.removeModel(), this.mesh = e, this.axis.add(this.mesh), this.meshBackSide = e.clone(), this.mesh.add(this.meshBackSide), this.rerender();
  }
  updateModel(e, n) {
    this.options.model = n, this.mesh = e, this.meshBackSide = e.clone(), this.removeModel(), this.axis.add(this.mesh), this.mesh.add(this.meshBackSide), this.rerender();
  }
  removeModel() {
    this.axis.children.forEach((e) => {
      this.axis.remove(e);
    });
  }
  addMaterial(e) {
    this.material.map = e, this.setTexture(this.material.map, !0), this.material.map.magFilter = Yt.THREE.LinearFilter, this.rerender();
  }
  updateMaterial(e) {
    this.options.slider = e, this.rerender();
  }
  addAlphaMap(e) {
    this.material.alphaMap = e, this.setTexture(this.material.alphaMap), this.rerender();
  }
  removeAlphaMap() {
    this.material.alphaMap = null, this.rerender();
  }
  addBumpMap(e, n) {
    this.material.bumpMap = e, this.setTexture(this.material.bumpMap), n && (this.material.bumpScale = n), this.rerender();
  }
  removeBumpMap() {
    this.material.bumpMap = null, this.rerender();
  }
  updateBumpScale(e) {
    this.material.bumpScale = e;
  }
  addRoughnessMap(e) {
    this.material.roughnessMap = e, this.setTexture(this.material.roughnessMap), this.rerender();
  }
  removeRoughnessMap() {
    this.material.roughnessMap = null, this.rerender();
  }
  addDisplacementMap(e) {
    this.material.displacementMap = e, this.setTexture(this.material.displacementMap), this.rerender();
  }
  removeDisplacementMap() {
    this.material.displacementMap = null, this.rerender();
  }
  addNormalMap(e, n) {
    this.material.normalMap = e, this.material.normalScale = new Yt.THREE.Vector2(n, n), this.setTexture(this.material.normalMap), this.rerender();
  }
  removeNormalMap() {
    this.material.normalMap = null, this.rerender();
  }
  updateDefaultColor(e) {
    this.defaultColor = e;
    const { color: n } = this.options.userProps.texture, r = n ? mp.rgb(n.r, n.g, n.b).hex() : this.defaultColor;
    this.updateColor(r);
  }
  updateColor(e) {
    this.materialBackSide.color.set(e);
  }
  updateTemperature(e) {
    const n = mp.temperature(e).hex();
    this.material.color.set(n);
  }
  updateMapScale(e) {
    this.options.userProps.texture.mapScale = e, this.rerender();
  }
  updateDefaultMapScale(e) {
    this.options.userProps.texture.defaultMapScale = e, this.rerender();
  }
  updateNormalScale(e) {
    this.material.normalScale = new Yt.THREE.Vector2(e, e);
  }
  getRepeatMapByDpi() {
    const { dpi: e = 600 } = this.options.userProps.texture, n = this.downscaleWidth / e * 2.54, { mapScale: r, maxScale: o, minScale: l } = this.options.model, h = r / n, d = h / (this.height / this.width), { value: p } = this.options.slider[3], g = (h - l) * 2, v = (d - l) * 2, y = Math.min(Math.max(Number((g * p).toFixed(2)), l), o), x = Math.min(
      Math.max(Number((v * p).toFixed(2)), l / (this.height / this.width)),
      o / (this.height / this.width)
    );
    return { x: y, y: x };
  }
  setTexture(e, n = !1) {
    e.wrapS = e.wrapT = Yt.THREE.RepeatWrapping, e.flipY = !1, e.minFilter = Yt.THREE.LinearMipmapLinearFilter, n && (e.colorSpace = Yt.THREE.SRGBColorSpace), e.anisotropy = this.anisotropy, e.needsUpdate = !0, e.matrixAutoUpdate = !0, e.center.set(0.5, 0.5);
  }
  setSize(e, n) {
    this.width = e, this.height = n;
  }
  setDownscaleWidth(e) {
    this.downscaleWidth = e;
  }
  setAnisotropy(e = 16) {
    this.anisotropy = e, this.material.anisotropy = e;
  }
  setGroundShadowByType(e) {
    e === "image" ? this.ground.position.y = -4 : this.ground.position.y = wx;
  }
  rerender() {
    const { ignore: e, hidden: n, position: r = { x: 0, y: 0, z: 0 }, scale: o = 1 } = this.options.model, [l, h, d, p, g, v] = this.options.slider;
    if (this.material.opacity = l.value, this.material.roughness = h.value, this.material.specularIntensity = d.value, this.material.displacementScale = N8 * 1e-4 / Math.max(p.value, 0.1), this.material.map) {
      const { x: y, y: x } = this.getRepeatMapByDpi();
      ["map", "alphaMap", "bumpMap", "roughnessMap", "displacementMap", "normalMap"].forEach(
        (w) => {
          var M;
          (M = this.material[w]) == null || M.repeat.set(y, x);
        }
      );
    }
    this.axis.scale.set(o, o, o), this.axis.position.set(r.x || 0, r.y || 0, r.z || 0), this.mesh.traverse((y) => {
      const x = y;
      if (x.isMesh || x.isObject3D) {
        if (!(e != null && e.includes(x.name)) && !x.name.includes("ignore") && (x.material = this.material), n != null && n.includes(x.name) && x.position.set(0, 1e5, 0), x.name.includes("color")) {
          const w = `#${x.name.slice(-6)}`;
          x.material = new Yt.THREE.MeshPhongMaterial({
            color: w,
            flatShading: !0
          });
        }
        x.receiveShadow = !0, x.castShadow = !0;
      }
      x.frustumCulled = !1;
    }), this.meshBackSide.traverse((y) => {
      const x = y;
      (x.isMesh || x.isObject3D) && (!(e != null && e.includes(x.name)) && !x.name.includes("ignore") ? x.material = this.materialBackSide : x.visible = !1);
    }), this.axis.rotation.y = Math.PI / 180 * v.value * 360, this.axis.rotation.x = Math.PI / 180 * g.value * 360;
  }
}
class lhe {
  constructor(e, n) {
    Jn(this, "scene");
    Jn(this, "sphere", new Yt.THREE.Mesh());
    Jn(this, "sphereMaterial", new Yt.THREE.MeshBasicMaterial({
      side: Yt.THREE.BackSide,
      lightMapIntensity: 1
    }));
    Jn(this, "options");
    // default scene
    Jn(this, "ground", new Yt.THREE.Mesh());
    Jn(this, "groundMaterial", new Yt.THREE.MeshBasicMaterial());
    Jn(this, "type", "image");
    Jn(this, "fog", new Yt.THREE.Fog(0, 8, 20));
    this.scene = e, this.options = n, this.sphere = new Yt.THREE.Mesh(new Yt.THREE.SphereGeometry(1e3, 60, 30), this.sphereMaterial), this.sphere.name = "panorama", this.scene.add(this.sphere), this.ground = new Yt.THREE.Mesh(new Yt.THREE.CircleGeometry(20, 32), this.groundMaterial), this.ground.name = "ground", this.ground.rotation.x = -Math.PI / 2, this.ground.position.y = wx - 0.01, this.scene.add(this.ground), this.scene.fog = this.fog;
  }
  addMaterial(e, n) {
    const r = n.data[n.index];
    this.type = r.type, this.type === "model" ? (this.groundMaterial.map = e, this.groundMaterial.map.mapping = Yt.THREE.EquirectangularReflectionMapping, this.groundMaterial.map.minFilter = Yt.THREE.LinearMipMapLinearFilter, this.groundMaterial.map.colorSpace = Yt.THREE.SRGBColorSpace, this.groundMaterial.map.wrapS = Yt.THREE.RepeatWrapping, this.groundMaterial.map.wrapT = Yt.THREE.RepeatWrapping, this.groundMaterial.map.repeat.set(25, 25), this.groundMaterial.needsUpdate = !0) : (this.sphereMaterial.map = e, this.sphereMaterial.map.mapping = Yt.THREE.EquirectangularReflectionMapping, this.sphereMaterial.map.colorSpace = Yt.THREE.LinearSRGBColorSpace, this.sphereMaterial.map.generateMipmaps = !1, this.sphereMaterial.map.minFilter = Yt.THREE.LinearMipMapLinearFilter, this.sphere.material = this.sphereMaterial), this.rerender(), requestAnimationFrame(() => this.rerender());
  }
  rerender() {
    const { visible: e } = this.options.panorama.toggle;
    this.type === "model" ? (this.ground.visible = e, this.sphere.visible = e, this.sphereMaterial.map = null, this.scene.fog = this.fog) : (this.ground.visible = !1, this.sphere.visible = e, this.scene.fog = null);
  }
  updateToggle(e) {
    this.options.panorama.toggle.visible = e, this.rerender();
  }
}
class che extends _le {
  constructor(e = null) {
    super();
    const n = new O0();
    n.deleteAttribute("uv");
    const r = new vp({ side: wC }), o = new vp();
    let l = 5;
    e !== null && e._useLegacyLights === !1 && (l = 900);
    const h = new a5(16777215, l, 28, 2);
    h.position.set(0.418, 16.199, 0.3), this.add(h);
    const d = new Wr(n, r);
    d.position.set(-0.757, 13.219, 0.717), d.scale.set(31.713, 28.305, 28.591), this.add(d);
    const p = new Wr(n, o);
    p.position.set(-10.906, 2.009, 1.846), p.rotation.set(0, -0.195, 0), p.scale.set(2.328, 7.905, 4.651), this.add(p);
    const g = new Wr(n, o);
    g.position.set(-5.607, -0.754, -0.758), g.rotation.set(0, 0.994, 0), g.scale.set(1.97, 1.534, 3.955), this.add(g);
    const v = new Wr(n, o);
    v.position.set(6.167, 0.857, 7.803), v.rotation.set(0, 0.561, 0), v.scale.set(3.927, 6.285, 3.687), this.add(v);
    const y = new Wr(n, o);
    y.position.set(-2.017, 0.018, 6.124), y.rotation.set(0, 0.333, 0), y.scale.set(2.002, 4.566, 2.064), this.add(y);
    const x = new Wr(n, o);
    x.position.set(2.291, -0.756, -2.621), x.rotation.set(0, -0.286, 0), x.scale.set(1.546, 1.552, 1.496), this.add(x);
    const w = new Wr(n, o);
    w.position.set(-2.193, -0.369, -5.547), w.rotation.set(0, 0.516, 0), w.scale.set(3.875, 3.487, 2.986), this.add(w);
    const T = new Wr(n, mu(50));
    T.position.set(-16.116, 14.37, 8.208), T.scale.set(0.1, 2.428, 2.739), this.add(T);
    const M = new Wr(n, mu(50));
    M.position.set(-16.109, 18.021, -8.207), M.scale.set(0.1, 2.425, 2.751), this.add(M);
    const S = new Wr(n, mu(17));
    S.position.set(14.904, 12.198, -1.832), S.scale.set(0.15, 4.265, 6.331), this.add(S);
    const L = new Wr(n, mu(43));
    L.position.set(-0.462, 8.89, 14.52), L.scale.set(4.38, 5.441, 0.088), this.add(L);
    const F = new Wr(n, mu(20));
    F.position.set(3.235, 11.486, -12.541), F.scale.set(2.5, 2, 0.1), this.add(F);
    const G = new Wr(n, mu(100));
    G.position.set(0, 20, 0), G.scale.set(1, 0.1, 1), this.add(G);
  }
  dispose() {
    const e = /* @__PURE__ */ new Set();
    this.traverse((n) => {
      n.isMesh && (e.add(n.geometry), e.add(n.material));
    });
    for (const n of e)
      n.dispose();
  }
}
function mu(a) {
  const e = new Xc();
  return e.color.setScalar(a), e;
}
class hhe {
  constructor(e, n) {
    const r = new che(), o = new Yt.THREE.PMREMGenerator(n);
    e.environment = o.fromScene(r).texture;
  }
}
class uhe {
  constructor(e) {
    Jn(this, "props");
    Jn(this, "webgl");
    Jn(this, "panorama");
    Jn(this, "object3D");
    Jn(this, "onReady", () => {
    });
    Jn(this, "onUpdate", () => {
    });
    VS.camera.dom = e.dom, this.props = e, this.webgl = new fce(VS), new hhe(this.webgl.scene, this.webgl.render), this.panorama = new lhe(this.webgl.scene, this.props), this.object3D = new she(this.webgl.scene, this.props), this.object3D.setAnisotropy(this.webgl.renderer.renderer.capabilities.getMaxAnisotropy()), this.loadAndProcessingMaterial(e), this.webgl.render.domElement.addEventListener("touchmove", (n) => n.preventDefault()), e.dom.appendChild(this.webgl.render.domElement), ire(e.dom).then(() => {
      this.webgl.updateMatrix();
    }), this.webgl.enterframe.add(() => {
      const { x: n, y: r, z: o } = this.webgl.camera.position, [l] = this.webgl.light.lights;
      l instanceof Yt.THREE.Light && l.position.set(n, r, o), this.webgl.scene.traverse((h) => {
        h instanceof Yt.THREE.SpotLightHelper && h.update();
      }), e.setState((h) => ({ ...h, polar: this.webgl.controls.controls.getPolarAngle() }));
    });
  }
  async loadAndProcessingMaterial(e) {
    var l;
    const n = await this.loadTexture(e.userProps.texture.base, !0);
    this.object3D.addMaterial(n.texture), n.color && (e.onColorChange(n.color), this.object3D.updateDefaultColor(n.color), this.object3D.setDownscaleWidth(n.downscaleWidth ?? 2048)), n.width && n.height && this.object3D.setSize(n.width, n.height);
    const r = await this.loadModel(e.model.glb);
    this.object3D.addModel(r);
    const o = await this.loadTexture(
      e.panorama.data[e.panorama.index].uri,
      !1,
      !1
    );
    if (this.panorama.addMaterial(o.texture, e.panorama), e.userProps.texture.alpha) {
      const h = await this.loadTexture(e.userProps.texture.alpha, !1, !1);
      this.object3D.addAlphaMap(h.texture);
    }
    if (e.userProps.texture.bump) {
      const h = await this.loadTexture(e.userProps.texture.bump, !1, !1);
      this.object3D.addBumpMap(h.texture, e.userProps.texture.bumpScale || 0.1);
    }
    if (e.userProps.texture.roughImgUrl) {
      const h = await this.loadTexture(e.userProps.texture.roughImgUrl, !1, !1);
      this.object3D.addRoughnessMap(h.texture);
    }
    if (e.userProps.texture.dispImgUrl) {
      const h = await this.loadTexture(e.userProps.texture.dispImgUrl, !1, !1);
      this.object3D.addDisplacementMap(h.texture);
    }
    if (e.userProps.texture.normalImgUrl) {
      const h = await this.loadTexture(e.userProps.texture.normalImgUrl, !1, !0);
      this.object3D.addNormalMap(h.texture, e.userProps.texture.normalScale || 0.5);
    }
    (l = this.onReady) == null || l.call(this);
  }
  loadModel(e) {
    return new Promise((n, r) => {
      rhe("/3d-viewer/" + e, ahe).then((o) => n(o.gltf.scene)).catch((o) => r(`load model error: ${o}`));
    });
  }
  async loadTexture(e, n = !1, r = !0) {
    return new Promise((o, l) => {
      if (r)
        rre(e, n).then((h) => {
          const { currentColor: d, currentURI: p, width: g, height: v, downscaleWidth: y } = h, x = p.startsWith("data:image") ? p : p + "?" + (/* @__PURE__ */ new Date()).getTime();
          new Yt.THREE.TextureLoader().load(
            x,
            (T) => o({ texture: T, color: d, width: g, height: v, downscaleWidth: y }),
            void 0,
            (T) => l(`load texture error: ${T}`)
          );
        }).catch((h) => l(`load texture error: ${h}`));
      else {
        const h = e.startsWith("data:image") ? e : e + "?" + (/* @__PURE__ */ new Date()).getTime();
        new Yt.THREE.TextureLoader().load(
          h,
          (p) => o({ texture: p }),
          void 0,
          (p) => l(`load texture error: ${p}`)
        );
      }
    });
  }
  updateMaterial(e) {
    this.object3D.updateMaterial(e);
  }
  updateModel(e, n) {
    this.loadModel(e.glb).then((r) => {
      var o;
      this.object3D.updateModel(r, e), (o = this.onUpdate) == null || o.call(this), n == null || n();
    });
  }
  updateColor(e) {
    this.props.color = e, this.object3D.updateColor(e);
  }
  updateMatrix() {
    this.webgl.updateMatrix();
  }
  stopRender() {
    this.webgl.enterframe.stop(), this.webgl.removeResizeListeners();
  }
  restart(e) {
    this.webgl.updateDom(e), this.webgl.addResizeListeners(), this.webgl.enterframe.play(), e.appendChild(this.webgl.render.domElement), this.webgl.render.domElement.addEventListener("touchmove", (n) => n.preventDefault());
  }
  addEventListener(e, n) {
    switch (e) {
      case "onReady":
        this.onReady = n;
        break;
      case "onUpdate":
        this.onUpdate = n;
        break;
    }
  }
  setSpotLightIntensityByColor(e) {
    const [, , n] = mp(e).hsv(), [, r, o] = this.webgl.light.lights;
    r.intensity = 10 - n * 20, o.intensity = 30 - n * 30;
  }
  async updateUserProps(e, n) {
    if (this.props.userProps.texture.base !== e.texture.base) {
      const r = await this.loadTexture(e.texture.base, !0);
      this.object3D.addMaterial(r.texture), r.color && (this.object3D.updateDefaultColor(r.color), this.props.onColorChange(r.color)), r.width && r.height && this.object3D.setSize(r.width, r.height);
    }
    if (this.props.userProps.texture.alpha !== e.texture.alpha)
      if (e.texture.alpha) {
        const r = await this.loadTexture(e.texture.alpha);
        this.object3D.addAlphaMap(r.texture);
      } else
        this.object3D.removeAlphaMap();
    if (this.props.userProps.texture.bump !== e.texture.bump)
      if (e.texture.bump) {
        const r = await this.loadTexture(e.texture.bump);
        this.object3D.addBumpMap(r.texture);
      } else
        this.object3D.removeBumpMap();
    if (this.props.userProps.texture.roughImgUrl !== e.texture.roughImgUrl)
      if (e.texture.roughImgUrl) {
        const r = await this.loadTexture(e.texture.roughImgUrl);
        this.object3D.addRoughnessMap(r.texture);
      } else
        this.object3D.removeRoughnessMap();
    if (this.props.userProps.texture.dispImgUrl !== e.texture.dispImgUrl)
      if (e.texture.dispImgUrl) {
        const r = await this.loadTexture(e.texture.dispImgUrl);
        this.object3D.addDisplacementMap(r.texture);
      } else
        this.object3D.removeDisplacementMap();
    if (this.props.userProps.texture.normalImgUrl !== e.texture.normalImgUrl)
      if (e.texture.normalImgUrl) {
        const r = await this.loadTexture(e.texture.normalImgUrl);
        this.object3D.addNormalMap(r.texture, e.texture.normalScale || 0.5);
      } else
        this.object3D.removeNormalMap();
    this.props.userProps.texture.bumpScale !== e.texture.bumpScale && this.object3D.updateBumpScale(e.texture.bumpScale ?? 0.1), this.props.userProps.texture.mapScale !== e.texture.mapScale && this.object3D.updateMapScale(e.texture.mapScale ?? 15), this.props.userProps.texture.defaultMapScale !== e.texture.defaultMapScale && this.object3D.updateDefaultMapScale(e.texture.defaultMapScale ?? 15), this.props.userProps.texture.normalScale !== e.texture.normalScale && this.object3D.updateNormalScale(e.texture.normalScale ?? 0.5), this.props.userProps = e, n == null || n();
  }
  getDomElementFromRender() {
    return this.webgl.render.domElement;
  }
  updatePanorama(e, n) {
    if (this.props.panorama.toggle.visible !== e.toggle.visible && (this.panorama.updateToggle(e.toggle.visible), n == null || n()), this.props.panorama.index !== e.index) {
      const r = e.data[e.index];
      this.loadTexture(r.uri, !1, !1).then((o) => {
        this.panorama.addMaterial(o.texture, e), this.object3D.setGroundShadowByType(r.type), n == null || n();
      });
    }
    this.props.panorama = e;
  }
  updateTemperature(e) {
    const n = e.data[e.index].value;
    this.object3D.updateTemperature(n);
  }
}
const dhe = Ke.memo(({ polar: a }) => {
  const e = Ke.useMemo(() => {
    if (!a)
      return "#fff";
    const n = a * (180 / Math.PI);
    return n > 65 ? `linear-gradient(0deg, rgba(170,170,170,1) 0%, rgba(255,255,255,1) ${Math.max(70 - (n - 65) / 25 * 100, 0)}%)` : `-webkit-radial-gradient(50% ${Math.max(158 - (65 - n) / 30 * 50, 0)}%,rgba(170,170,170,1),rgba(255,255,255,1),rgba(255,255,255,1))`;
  }, [a]);
  return /* @__PURE__ */ Oe.jsx("div", { className: "absolute top-0 h-full w-full", style: { background: e } });
});
let Dn = null;
const mhe = Ke.memo(() => {
  var L, F;
  const [a, e] = Ke.useContext(li), n = a[Ht.UserProps], r = a[Ht.ModelPicker], o = (L = a[Ht.GUI_Color]) == null ? void 0 : L.data, l = (F = a[Ht.GUI_Slider]) == null ? void 0 : F.data, h = a[Ht.View3DEvents], d = a[Ht.GUI_Panorama], p = a[Ht.GUI_temperature], g = a[Ht.WebGL], [v, y] = Ke.useContext(Vu), { drawer: x } = v, w = Ke.useRef(null), [T, M] = Ke.useState(!!g), S = Ke.useMemo(() => (n == null ? void 0 : n.model) || HS, [n == null ? void 0 : n.model]);
  return Ke.useEffect(() => {
    if (e({ type: Ht.LoadingProcess, state: { enabled: !0 } }), w.current) {
      if (!g && o && l && n && d && p) {
        const { value: G } = o[o.length - 1];
        Dn = new uhe({
          dom: w.current,
          color: G,
          userProps: n,
          slider: l,
          model: S[r || 0],
          panorama: d,
          temperature: p,
          setState: y,
          onColorChange: ($) => {
            const { color: K } = n.texture, q = K ? mp.rgb(K.r, K.g, K.b).hex() : $;
            e({ type: Ht.DiffuseColor, state: q }), e({
              type: Ht.GUI_Color,
              state: { data: [{ value: q, defaultValue: q }] }
            });
          }
        }), Dn.addEventListener("onReady", () => {
          e({ type: Ht.LoadingProcess, state: { enabled: !1 } }), M(!0), h == null || h.onAssetsLoaded();
        }), e({ type: Ht.WebGL, state: !0 });
      } else
        Dn == null || Dn.restart(w.current);
      y((G) => ({ ...G, domElement: Dn == null ? void 0 : Dn.getDomElementFromRender() }));
    }
    return () => Dn == null ? void 0 : Dn.stopRender();
  }, []), Ke.useEffect(() => {
    Dn == null || Dn.updateMatrix();
  }, [x]), Ke.useEffect(() => {
    l && (Dn == null || Dn.updateMaterial(l));
  }, [l]), Ke.useEffect(() => {
    if (o) {
      const { value: G } = o[o.length - 1];
      Dn == null || Dn.updateColor(G);
    }
  }, [o]), Ke.useEffect(() => {
    r !== void 0 && (e({ type: Ht.LoadingProcess, state: { enabled: !0 } }), Dn == null || Dn.updateModel(S[r], () => {
      T && e({ type: Ht.LoadingProcess, state: { enabled: !1 } });
    }));
  }, [r]), Ke.useEffect(() => {
    e({ type: Ht.LoadingProcess, state: { enabled: !0 } }), n && (Dn == null || Dn.updateUserProps(n, () => {
      T && setTimeout(() => {
        e({ type: Ht.LoadingProcess, state: { enabled: !1 } });
      }, 300);
    }));
  }, [n]), Ke.useEffect(() => {
    T && d && (e({ type: Ht.LoadingProcess, state: { enabled: !0 } }), Dn == null || Dn.updatePanorama(d, () => {
      e({ type: Ht.LoadingProcess, state: { enabled: !1 } });
    }));
  }, [d]), Ke.useEffect(() => {
    p && (Dn == null || Dn.updateTemperature(p));
  }, [p]), /* @__PURE__ */ Oe.jsxs(Oe.Fragment, { children: [
    /* @__PURE__ */ Oe.jsx(dhe, { polar: v.polar }),
    /* @__PURE__ */ Oe.jsx("div", { className: "relative h-full w-full", onTouchMove: (G) => G.preventDefault(), ref: w })
  ] });
}), phe = Ke.memo(() => {
  const [, a] = Ke.useContext(li);
  return Ke.useEffect(() => {
    a({ type: Ht.LoadingProcess, state: { enabled: !1 } });
  }, []), /* @__PURE__ */ Oe.jsx("div", { className: "flex h-full w-full animate-pulse items-center justify-center text-xl text-primary-400", children: "Waiting for parameters...." });
}), fhe = Ke.memo(() => {
  const [a] = Ke.useContext(li), e = a[Ht.Display], n = a[Ht.UserProps], [r, o] = Ke.useContext(Vu);
  return /* @__PURE__ */ Oe.jsx(
    vE,
    {
      onload: () => {
        o((l) => ({ ...l, loadSteps: _x.dom }));
      },
      children: /* @__PURE__ */ Oe.jsx("div", { className: "relative h-[calc(100vh-80px)] w-full bg-grey-850", children: /* @__PURE__ */ Oe.jsx(Hne, { children: e && n && r.loadSteps === _x.dom && (n.texture.base === "" ? /* @__PURE__ */ Oe.jsx(phe, {}) : e === Gc["2D"] ? /* @__PURE__ */ Oe.jsx(Jne, {}) : /* @__PURE__ */ Oe.jsx(mhe, {})) }) })
    }
  );
}), tue = Ke.memo(() => {
  const [a] = Ke.useContext(li), e = a[Ht.View3DEvents], n = Ke.useState(nI);
  return Ke.useEffect(() => {
    if (e)
      return e.onMounted(), () => e.unmounted();
  }, [e]), /* @__PURE__ */ Oe.jsx("div", { className: "flex h-full w-full flex-col", children: /* @__PURE__ */ Oe.jsxs(Vu.Provider, { value: n, children: [
    /* @__PURE__ */ Oe.jsx(TB, {}),
    /* @__PURE__ */ Oe.jsx(fhe, {})
  ] }) });
});
export {
  tue as default
};
