"use strict";var d8=Object.defineProperty;var m8=(a,e,n)=>e in a?d8(a,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[e]=n;var Yn=(a,e,n)=>(m8(a,typeof e!="symbol"?e+"":e,n),n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const P=require("./index-B9khXWEd.cjs"),eo=(a,e="")=>{var h;const[n,r]=P.reactExports.useState(e),[o]=P.reactExports.useContext(P.Context),l=(h=o[P.ActionType.UserProps])==null?void 0:h.translate;return P.reactExports.useEffect(()=>{l&&r(l[a]||e)},[a,e,l]),[n]};var DS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},KT=P.React.createContext&&P.React.createContext(DS),p8=["attr","size","title"];function f8(a,e){if(a==null)return{};var n=g8(a,e),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(o=0;o<l.length;o++)r=l[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(a,r)&&(n[r]=a[r])}return n}function g8(a,e){if(a==null)return{};var n={};for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)){if(e.indexOf(r)>=0)continue;n[r]=a[r]}return n}function Mg(){return Mg=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Mg.apply(this,arguments)}function ZT(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,r)}return n}function Sg(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(r){b8(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function b8(a,e,n){return e=v8(e),e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function v8(a){var e=y8(a,"string");return typeof e=="symbol"?e:e+""}function y8(a,e){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function FS(a){return a&&a.map((e,n)=>P.React.createElement(e.tag,Sg({key:n},e.attr),FS(e.child)))}function rs(a){return e=>P.React.createElement(x8,Mg({attr:Sg({},a.attr)},e),FS(a.child))}function x8(a){var e=n=>{var{attr:r,size:o,title:l}=a,h=f8(a,p8),d=o||n.size||"1em",p;return n.className&&(p=n.className),a.className&&(p=(p?p+" ":"")+a.className),P.React.createElement("svg",Mg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,h,{className:p,style:Sg(Sg({color:a.color||n.color},n.style),a.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&P.React.createElement("title",null,l),a.children)};return KT!==void 0?P.React.createElement(KT.Consumer,null,n=>e(n)):e(DS)}function C8(a){return rs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.52 21.48A10.487 10.487 0 0 1 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81-1.33 1.32zm.89-6.52c-.19 0-.37-.03-.52-.08a1.07 1.07 0 0 1-.4-.24c-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56a1.67 1.67 0 0 0-.23-.51c-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31a2.098 2.098 0 0 0 .89-.75c.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96a1.78 1.78 0 0 0-.51-.69c-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49a.87.87 0 0 1-.25.37c-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33zm8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2zm-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99v.4zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0z"},child:[]}]})(a)}function _8(a){return rs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(a)}function kS(a){return rs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"},child:[]}]})(a)}function T8(a){return rs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(a)}function w8(a){return rs({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z"},child:[]}]})(a)}const e2="-";function N8(a){const e=S8(a),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=a;function o(h){const d=h.split(e2);return d[0]===""&&d.length!==1&&d.shift(),XS(d,e)||M8(h)}function l(h,d){const p=n[h]||[];return d&&r[h]?[...p,...r[h]]:p}return{getClassGroupId:o,getConflictingClassGroupIds:l}}function XS(a,e){var h;if(a.length===0)return e.classGroupId;const n=a[0],r=e.nextPart.get(n),o=r?XS(a.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const l=a.join(e2);return(h=e.validators.find(({validator:d})=>d(l)))==null?void 0:h.classGroupId}const JT=/^\[(.+)\]$/;function M8(a){if(JT.test(a)){const e=JT.exec(a)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function S8(a){const{theme:e,prefix:n}=a,r={nextPart:new Map,validators:[]};return E8(Object.entries(a.classGroups),n).forEach(([l,h])=>{dx(h,r,l,e)}),r}function dx(a,e,n,r){a.forEach(o=>{if(typeof o=="string"){const l=o===""?e:QT(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(A8(o)){dx(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,h])=>{dx(h,QT(e,l),n,r)})})}function QT(a,e){let n=a;return e.split(e2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function A8(a){return a.isThemeGetter}function E8(a,e){return e?a.map(([n,r])=>{const o=r.map(l=>typeof l=="string"?e+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([h,d])=>[e+h,d])):l);return[n,o]}):a}function I8(a){if(a<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function o(l,h){n.set(l,h),e++,e>a&&(e=0,r=n,n=new Map)}return{get(l){let h=n.get(l);if(h!==void 0)return h;if((h=r.get(l))!==void 0)return o(l,h),h},set(l,h){n.has(l)?n.set(l,h):o(l,h)}}}const zS="!";function R8(a){const e=a.separator,n=e.length===1,r=e[0],o=e.length;return function(h){const d=[];let p=0,g=0,v;for(let M=0;M<h.length;M++){let S=h[M];if(p===0){if(S===r&&(n||h.slice(M,M+o)===e)){d.push(h.slice(g,M)),g=M+o;continue}if(S==="/"){v=M;continue}}S==="["?p++:S==="]"&&p--}const y=d.length===0?h:h.substring(g),x=y.startsWith(zS),T=x?y.substring(1):y,w=v&&v>g?v-g:void 0;return{modifiers:d,hasImportantModifier:x,baseClassName:T,maybePostfixModifierPosition:w}}}function P8(a){if(a.length<=1)return a;const e=[];let n=[];return a.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function B8(a){return{cache:I8(a.cacheSize),splitModifiers:R8(a),...N8(a)}}const O8=/\s+/;function L8(a,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,l=new Set;return a.trim().split(O8).map(h=>{const{modifiers:d,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=n(h);let y=r(v?g.substring(0,v):g),x=!!v;if(!y){if(!v)return{isTailwindClass:!1,originalClassName:h};if(y=r(g),!y)return{isTailwindClass:!1,originalClassName:h};x=!1}const T=P8(d).join(":");return{isTailwindClass:!0,modifierId:p?T+zS:T,classGroupId:y,originalClassName:h,hasPostfixModifier:x}}).reverse().filter(h=>{if(!h.isTailwindClass)return!0;const{modifierId:d,classGroupId:p,hasPostfixModifier:g}=h,v=d+p;return l.has(v)?!1:(l.add(v),o(p,g).forEach(y=>l.add(d+y)),!0)}).reverse().map(h=>h.originalClassName).join(" ")}function j8(){let a=0,e,n,r="";for(;a<arguments.length;)(e=arguments[a++])&&(n=US(e))&&(r&&(r+=" "),r+=n);return r}function US(a){if(typeof a=="string")return a;let e,n="";for(let r=0;r<a.length;r++)a[r]&&(e=US(a[r]))&&(n&&(n+=" "),n+=e);return n}function D8(a,...e){let n,r,o,l=h;function h(p){const g=e.reduce((v,y)=>y(v),a());return n=B8(g),r=n.cache.get,o=n.cache.set,l=d,d(p)}function d(p){const g=r(p);if(g)return g;const v=L8(p,n);return o(p,v),v}return function(){return l(j8.apply(null,arguments))}}function er(a){const e=n=>n[a]||[];return e.isThemeGetter=!0,e}const GS=/^\[(?:([a-z-]+):)?(.+)\]$/i,F8=/^\d+\/\d+$/,k8=new Set(["px","full","screen"]),X8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,G8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Ga(a){return Bc(a)||k8.has(a)||F8.test(a)}function Zs(a){return Lu(a,"length",J8)}function Bc(a){return!!a&&!Number.isNaN(Number(a))}function x1(a){return Lu(a,"number",Bc)}function _m(a){return!!a&&Number.isInteger(Number(a))}function V8(a){return a.endsWith("%")&&Bc(a.slice(0,-1))}function sn(a){return GS.test(a)}function Js(a){return X8.test(a)}const H8=new Set(["length","size","percentage"]);function $8(a){return Lu(a,H8,WS)}function q8(a){return Lu(a,"position",WS)}const Y8=new Set(["image","url"]);function K8(a){return Lu(a,Y8,eB)}function Z8(a){return Lu(a,"",Q8)}function Tm(){return!0}function Lu(a,e,n){const r=GS.exec(a);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function J8(a){return z8.test(a)&&!U8.test(a)}function WS(){return!1}function Q8(a){return G8.test(a)}function eB(a){return W8.test(a)}function tB(){const a=er("colors"),e=er("spacing"),n=er("blur"),r=er("brightness"),o=er("borderColor"),l=er("borderRadius"),h=er("borderSpacing"),d=er("borderWidth"),p=er("contrast"),g=er("grayscale"),v=er("hueRotate"),y=er("invert"),x=er("gap"),T=er("gradientColorStops"),w=er("gradientColorStopPositions"),M=er("inset"),S=er("margin"),j=er("opacity"),k=er("padding"),W=er("saturate"),q=er("scale"),Z=er("sepia"),Y=er("skew"),he=er("space"),ae=er("translate"),ve=()=>["auto","contain","none"],re=()=>["auto","hidden","clip","visible","scroll"],se=()=>["auto",sn,e],oe=()=>[sn,e],Q=()=>["",Ga,Zs],pe=()=>["auto",Bc,sn],be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],fe=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>["start","end","center","between","around","evenly","stretch"],Be=()=>["","0",sn],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ke=()=>[Bc,x1],je=()=>[Bc,sn];return{cacheSize:500,separator:":",theme:{colors:[Tm],spacing:[Ga,Zs],blur:["none","",Js,sn],brightness:ke(),borderColor:[a],borderRadius:["none","","full",Js,sn],borderSpacing:oe(),borderWidth:Q(),contrast:ke(),grayscale:Be(),hueRotate:je(),invert:Be(),gap:oe(),gradientColorStops:[a],gradientColorStopPositions:[V8,Zs],inset:se(),margin:se(),opacity:ke(),padding:oe(),saturate:ke(),scale:ke(),sepia:Be(),skew:je(),space:oe(),translate:oe()},classGroups:{aspect:[{aspect:["auto","square","video",sn]}],container:["container"],columns:[{columns:[Js]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...be(),sn]}],overflow:[{overflow:re()}],"overflow-x":[{"overflow-x":re()}],"overflow-y":[{"overflow-y":re()}],overscroll:[{overscroll:ve()}],"overscroll-x":[{"overscroll-x":ve()}],"overscroll-y":[{"overscroll-y":ve()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[M]}],"inset-x":[{"inset-x":[M]}],"inset-y":[{"inset-y":[M]}],start:[{start:[M]}],end:[{end:[M]}],top:[{top:[M]}],right:[{right:[M]}],bottom:[{bottom:[M]}],left:[{left:[M]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_m,sn]}],basis:[{basis:se()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",sn]}],grow:[{grow:Be()}],shrink:[{shrink:Be()}],order:[{order:["first","last","none",_m,sn]}],"grid-cols":[{"grid-cols":[Tm]}],"col-start-end":[{col:["auto",{span:["full",_m,sn]},sn]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Tm]}],"row-start-end":[{row:["auto",{span:[_m,sn]},sn]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",sn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",sn]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...De()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...De(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...De(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[he]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[he]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",sn,e]}],"min-w":[{"min-w":[sn,e,"min","max","fit"]}],"max-w":[{"max-w":[sn,e,"none","full","min","max","fit","prose",{screen:[Js]},Js]}],h:[{h:[sn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[sn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[sn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[sn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Js,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",x1]}],"font-family":[{font:[Tm]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",sn]}],"line-clamp":[{"line-clamp":["none",Bc,x1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ga,sn]}],"list-image":[{"list-image":["none",sn]}],"list-style-type":[{list:["none","disc","decimal",sn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[a]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[a]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ga,Zs]}],"underline-offset":[{"underline-offset":["auto",Ga,sn]}],"text-decoration-color":[{decoration:[a]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",sn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",sn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...be(),q8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",$8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K8]}],"bg-color":[{bg:[a]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...fe(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:fe()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...fe()]}],"outline-offset":[{"outline-offset":[Ga,sn]}],"outline-w":[{outline:[Ga,Zs]}],"outline-color":[{outline:[a]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[a]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Ga,Zs]}],"ring-offset-color":[{"ring-offset":[a]}],shadow:[{shadow:["","inner","none",Js,Z8]}],"shadow-color":[{shadow:[Tm]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Js,sn]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[y]}],saturate:[{saturate:[W]}],sepia:[{sepia:[Z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[W]}],"backdrop-sepia":[{"backdrop-sepia":[Z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",sn]}],duration:[{duration:je()}],ease:[{ease:["linear","in","out","in-out",sn]}],delay:[{delay:je()}],animate:[{animate:["none","spin","ping","pulse","bounce",sn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[q]}],"scale-x":[{"scale-x":[q]}],"scale-y":[{"scale-y":[q]}],rotate:[{rotate:[_m,sn]}],"translate-x":[{"translate-x":[ae]}],"translate-y":[{"translate-y":[ae]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",sn]}],accent:[{accent:["auto",a]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",sn]}],"caret-color":[{caret:[a]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",sn]}],fill:[{fill:[a,"none"]}],"stroke-w":[{stroke:[Ga,Zs,x1]}],stroke:[{stroke:[a,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const la=D8(tB);function nB(a){return rs({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232,48V88a8,8,0,0,1-16,0V56H184a8,8,0,0,1,0-16h40A8,8,0,0,1,232,48ZM72,200H40V168a8,8,0,0,0-16,0v40a8,8,0,0,0,8,8H72a8,8,0,0,0,0-16Zm152-40a8,8,0,0,0-8,8v32H184a8,8,0,0,0,0,16h40a8,8,0,0,0,8-8V168A8,8,0,0,0,224,160ZM32,96a8,8,0,0,0,8-8V56H72a8,8,0,0,0,0-16H32a8,8,0,0,0-8,8V88A8,8,0,0,0,32,96ZM188,167l-56,32a8,8,0,0,1-7.94,0L68,167A8,8,0,0,1,64,160V96a8,8,0,0,1,4-7l56-32a8,8,0,0,1,7.94,0l56,32a8,8,0,0,1,4,7v64A8,8,0,0,1,188,167ZM88.12,96,128,118.79,167.88,96,128,73.21ZM80,155.36l40,22.85V132.64L80,109.79Zm96,0V109.79l-40,22.85v45.57Z"},child:[]}]})(a)}const ew=P.reactExports.memo(({children:a,direction:e,mode:n})=>{const r=P.reactExports.useMemo(()=>{const o=e==="left"?["rounded-l border-l"]:["rounded-r border-r"];return(e==="left"?P.TDisplayType["3D"]:P.TDisplayType["2D"])===n?o.push("border-primary-400 border-x"):o.push("border-grey-600 text-grey-250 bg-grey-800"),o.join(" ")},[n,e]);return P.jsxRuntimeExports.jsx("div",{className:la("flex h-[30px] flex-row items-center border-y border-primary-400 bg-primary-900 px-1 pr-2 text-sm font-bold text-primary-400",r),children:a})}),VS=P.reactExports.memo(()=>{const[a,e]=P.reactExports.useContext(P.Context),n=a[P.ActionType.Display];return P.jsxRuntimeExports.jsxs("div",{className:"flex flex-row",children:[P.jsxRuntimeExports.jsx(ri,{onClick:()=>e({type:P.ActionType.Display,state:P.TDisplayType["3D"]}),children:P.jsxRuntimeExports.jsxs(ew,{direction:"left",mode:n,children:[P.jsxRuntimeExports.jsx(nB,{className:"ml-1 h-7 w-7 md:mr-1"})," ",P.jsxRuntimeExports.jsx("span",{className:"hidden sm:block",children:"3D"})]})}),P.jsxRuntimeExports.jsx(ri,{onClick:()=>e({type:P.ActionType.Display,state:P.TDisplayType["2D"]}),children:P.jsxRuntimeExports.jsxs(ew,{direction:"right",mode:n,children:[P.jsxRuntimeExports.jsx(w8,{className:"ml-1 h-6 w-6"}),P.jsxRuntimeExports.jsx("span",{className:"hidden sm:block",children:"2D"})]})})]})});function rB(a){return rs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(a)}const iB=P.reactExports.memo(({className:a=""})=>{const[e]=eo("exit","Exit");return P.jsxRuntimeExports.jsxs(P.jsxRuntimeExports.Fragment,{children:[P.jsxRuntimeExports.jsx("div",{className:la("hidden h-10 min-w-20 items-center justify-center gap-x-1 rounded bg-primary-400 px-4 font-normal sm:flex",a),children:e}),P.jsxRuntimeExports.jsx("div",{className:"flex h-10 w-10 items-center justify-center sm:hidden",children:P.jsxRuntimeExports.jsx(rB,{})})]})});function oB(a){return rs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(a)}const aB=P.reactExports.memo(()=>{const[a]=eo("screenshot","Screenshot");return P.jsxRuntimeExports.jsxs("div",{className:"h-8.5 flex w-fit min-w-14 items-center justify-center gap-x-1 space-x-1 whitespace-nowrap rounded border border-grey-700 bg-transparent px-3 py-1 text-base font-normal text-primary-400 hover:border-grey-600 hover:text-primary-500 disabled:text-grey-600",children:[P.jsxRuntimeExports.jsx(oB,{}),P.jsxRuntimeExports.jsx("span",{children:a})]})}),sB={base:"base",dispImgUrl:"displacement",roughImgUrl:"roughness",normalImgUrl:"normal",alpha:"alpha",bump:"bump",color:"color"},lB=P.reactExports.memo(({children:a,active:e})=>P.jsxRuntimeExports.jsx("div",{className:la("box-border flex h-[2.125rem] w-fit cursor-pointer items-center whitespace-nowrap rounded-full border border-grey-600 bg-grey-700 px-5 py-2.5 text-sm font-bold text-grey-100 hover:border-grey-700 hover:bg-grey-800 hover:text-grey-0",e?"!border-none !bg-primary-700 !text-primary-300":""),children:sB[a]||a})),hp=({children:a,disabled:e=!1,className:n="",onClick:r})=>P.jsxRuntimeExports.jsx("button",{disabled:e,className:la(n,e?"pointer-events-none [&>div]:!text-grey-900":"pointer-events-auto"),onClick:r,children:a});hp.Exit=iB;hp.Toggle=VS;hp.Screenshot=aB;hp.Badge=lB;const ri=hp,cB=P.reactExports.memo(({state:a,onLeft:e,onRight:n})=>P.jsxRuntimeExports.jsxs("div",{className:"pointer-events-none absolute left-0 top-0 h-full w-full",children:[a.direction!=="start"&&P.jsxRuntimeExports.jsx("div",{className:"absolute left-0 flex h-full w-10 items-center justify-start bg-gradient-to-l from-transparent to-grey-900",children:P.jsxRuntimeExports.jsx(ri,{onClick:e,children:P.jsxRuntimeExports.jsx(kS,{className:"pointer-events-auto h-7 w-7 hover:text-primary-400"})})}),a.direction!=="end"&&P.jsxRuntimeExports.jsx("div",{className:"absolute right-0 flex h-full w-10 items-center justify-center bg-gradient-to-r from-transparent to-grey-900",children:P.jsxRuntimeExports.jsx(ri,{onClick:n,children:P.jsxRuntimeExports.jsx(T8,{className:"pointer-events-auto h-7 w-7 hover:text-primary-400"})})})]})),hB=P.reactExports.memo(({data:a,selected:e,onClick:n})=>P.jsxRuntimeExports.jsx(ri,{onClick:n,children:P.jsxRuntimeExports.jsx("div",{className:la("h-11 w-11 rounded border bg-grey-900 p-1",e?"border-primary-400":"border-gray-700 hover:[&>img]:opacity-80"),children:P.jsxRuntimeExports.jsx("img",{draggable:"false",src:"/3d-viewer/"+a.cover,alt:a.label,className:"h-full w-full select-none object-contain"})})})),uB=P.reactExports.memo(()=>{const[a,e]=P.reactExports.useContext(P.Context),n=a[P.ActionType.ModelPicker]||0,r=a[P.ActionType.Display]||P.TDisplayType["3D"],o=a[P.ActionType.UserProps]||null,l=a[P.ActionType.ImagePicker]||"base",h=P.reactExports.useMemo(()=>{if(o){const y={base:o.texture.base};return o.texture.alpha&&(y.alpha=o.texture.alpha),o.texture.bump&&(y.metal=o.texture.bump),o.texture.normalImgUrl&&(y.normalImgUrl=o.texture.normalImgUrl),o.texture.dispImgUrl&&(y.dispImgUrl=o.texture.dispImgUrl),o.texture.roughImgUrl&&(y.roughImgUrl=o.texture.roughImgUrl),y}},[o,l]),d=P.reactExports.useMemo(()=>(o==null?void 0:o.model)||P.DEFAULT_PICKER_OPTIONS,[o==null?void 0:o.model]),p=P.reactExports.useRef(null),[g,v]=P.reactExports.useState({active:!1,direction:"start"});return P.reactExports.useEffect(()=>{const y=p.current,x=()=>{if(p.current){const T=p.current.scrollWidth>p.current.clientWidth,w=p.current.scrollLeft===0?"start":p.current.scrollLeft===p.current.scrollWidth-p.current.clientWidth?"end":"unset";v(M=>({...M,active:T,direction:w}))}};return x(),window.addEventListener("resize",x),y==null||y.addEventListener("scroll",x),()=>{window.removeEventListener("resize",x),y==null||y.removeEventListener("scroll",x)}},[]),P.jsxRuntimeExports.jsxs("div",{className:"relative",children:[P.jsxRuntimeExports.jsx("div",{ref:p,className:"no-scrollbar flex max-w-[calc(100vw-173px)] flex-row space-x-2 overflow-x-scroll",children:r===P.TDisplayType["3D"]?d.map((y,x)=>P.jsxRuntimeExports.jsx(hB,{data:y,selected:x===n,onClick:()=>e({type:P.ActionType.ModelPicker,state:x})},y.label+x)):Object.entries(h||{}).map(([y])=>{const x=y,T=x==="metal"?"bump":x;return P.jsxRuntimeExports.jsx(ri,{onClick:()=>e({type:P.ActionType.ImagePicker,state:T}),children:P.jsxRuntimeExports.jsx(ri.Badge,{active:T===l,children:x})},y)})}),g.active&&P.jsxRuntimeExports.jsx(cB,{state:g,onLeft:()=>{if(p.current){const y=p.current.scrollLeft-46;p.current.scrollTo({left:y,behavior:"smooth"})}},onRight:()=>{if(p.current){const y=p.current.scrollLeft+46;p.current.scrollTo({left:y,behavior:"smooth"})}}})]})}),dB=P.reactExports.memo(()=>{const[,a]=P.reactExports.useContext(P.Context),[e]=eo("3dViewer","3D Viewer");return P.jsxRuntimeExports.jsxs("div",{className:"flex h-20 w-full items-center justify-between border-b border-grey-800 bg-grey-900 px-3 text-white md:px-10",children:[P.jsxRuntimeExports.jsxs("div",{className:"hidden flex-row flex-nowrap items-center whitespace-nowrap font-black md:flex",children:[P.jsxRuntimeExports.jsx(C8,{className:"mr-3 h-6 w-6"}),e]}),P.jsxRuntimeExports.jsxs("div",{className:"flex flex-row items-center space-x-4 md:space-x-10",children:[P.jsxRuntimeExports.jsx(VS,{}),P.jsxRuntimeExports.jsx(uB,{})]}),P.jsxRuntimeExports.jsx("div",{children:P.jsxRuntimeExports.jsx(ri,{onClick:()=>a({type:P.ActionType.Active,state:!1}),children:P.jsxRuntimeExports.jsx(ri.Exit,{})})})]})});var jc=(a=>(a[a.Open=0]="Open",a[a.Close=1]="Close",a))(jc||{}),mx=(a=>(a[a.unset=0]="unset",a[a.dom=1]="dom",a))(mx||{});const HS={drawer:0,loadSteps:0,domElement:void 0,polar:void 0},ju=P.reactExports.createContext([HS,()=>{}]),px=-2,mB={success:!0,code:null,message:null,result:{code:{pantoneList:[{pantoneId:1,name:"11-0103 TCX",majorColorName:"White",colorName:"Egret",r:243,g:236,b:224},{pantoneId:2,name:"11-0104 TCX",majorColorName:"White",colorName:"Vanilla Ice",r:240,g:234,b:218},{pantoneId:3,name:"11-0105 TCX",majorColorName:"White",colorName:"Antique White",r:237,g:227,b:210},{pantoneId:4,name:"11-0107 TCX",majorColorName:"White",colorName:"Papyrus",r:245,g:237,b:214},{pantoneId:5,name:"11-0205 TCX",majorColorName:"White",colorName:"Glass Green",r:236,g:234,b:208},{pantoneId:6,name:"11-0304 TCX",majorColorName:"White",colorName:"Water Lily",r:221,g:227,b:213},{pantoneId:7,name:"11-0410 TCX",majorColorName:"White",colorName:"Sylvan Green",r:231,g:234,b:203},{pantoneId:8,name:"11-0507 TCX",majorColorName:"White",colorName:"Winter White",r:245,g:236,b:210},{pantoneId:9,name:"11-0510 TCX",majorColorName:"Orange",colorName:"Afterglow",r:243,g:230,b:201},{pantoneId:10,name:"11-0601 TCX",majorColorName:"White",colorName:"Bright White",r:244,g:245,b:240},{pantoneId:11,name:"11-0602 TCX",majorColorName:"White",colorName:"Snow White",r:242,g:240,b:235},{pantoneId:12,name:"11-0603 TCX",majorColorName:"White",colorName:"Pastel Parchment",r:229,g:217,b:211},{pantoneId:13,name:"11-0604 TCX",majorColorName:"White",colorName:"Gardenia",r:241,g:232,b:223},{pantoneId:14,name:"11-0606 TCX",majorColorName:"White",colorName:"Pristine",r:242,g:232,b:218},{pantoneId:15,name:"11-0609 TCX",majorColorName:"Yellow",colorName:"Ethereal Green",r:241,g:236,b:202},{pantoneId:16,name:"11-0616 TCX",majorColorName:"Yellow",colorName:"Pastel Yellow",r:242,g:230,b:177},{pantoneId:17,name:"11-0617 TCX",majorColorName:"Yellow",colorName:"Transparent Yellow",r:244,g:236,b:194},{pantoneId:18,name:"11-0618 TCX",majorColorName:"Yellow",colorName:"Wax Yellow",r:237,g:233,b:173},{pantoneId:19,name:"11-0620 TCX",majorColorName:"Yellow",colorName:"Elfin Yellow",r:238,g:234,b:151},{pantoneId:20,name:"11-0701 TCX",majorColorName:"White",colorName:"Whisper White",r:237,g:230,b:219},{pantoneId:21,name:"11-0710 TCX",majorColorName:"Yellow",colorName:"Tender Yellow",r:237,g:237,b:183},{pantoneId:22,name:"11-0809 TCX",majorColorName:"Orange",colorName:"Ecru",r:243,g:223,b:202},{pantoneId:23,name:"11-0907 TCX",majorColorName:"Orange",colorName:"Pearled Ivory",r:240,g:223,b:204},{pantoneId:24,name:"11-1005 TCX",majorColorName:"White",colorName:"Bridal Blush",r:238,g:226,b:221},{pantoneId:25,name:"11-1305 TCX",majorColorName:"White",colorName:"Angel Wing",r:243,g:223,b:215},{pantoneId:26,name:"11-1306 TCX",majorColorName:"White",colorName:"Cream Pink",r:246,g:228,b:217},{pantoneId:27,name:"11-1404 TCX",majorColorName:"White",colorName:"Powder Puff",r:243,g:224,b:214},{pantoneId:28,name:"11-1408 TCX",majorColorName:"White",colorName:"Rosewater",r:246,g:219,b:216},{pantoneId:29,name:"11-2309 TCX",majorColorName:"White",colorName:"Petal Pink",r:242,g:226,b:224},{pantoneId:30,name:"11-2409 TCX",majorColorName:"White",colorName:"Delicacy",r:245,g:227,b:226},{pantoneId:31,name:"11-2511 TCX",majorColorName:"White",colorName:"Shrinking Violet",r:244,g:225,b:230},{pantoneId:32,name:"11-4201 TCX",majorColorName:"White",colorName:"Cloud Dancer",r:240,g:238,b:233},{pantoneId:33,name:"11-4202 TCX",majorColorName:"White",colorName:"Star White",r:239,g:239,b:232},{pantoneId:34,name:"11-4300 TCX",majorColorName:"White",colorName:"Marshmallow",r:240,g:238,b:228},{pantoneId:35,name:"11-4301 TCX",majorColorName:"White",colorName:"Lily White",r:226,g:226,b:218},{pantoneId:36,name:"11-4303 TCX",majorColorName:"White",colorName:"Mystic Blue",r:225,g:227,b:222},{pantoneId:37,name:"11-4601 TCX",majorColorName:"White",colorName:"Bit of Blue",r:226,g:234,b:235},{pantoneId:38,name:"11-4604 TCX",majorColorName:"White",colorName:"Billowing Sail",r:216,g:231,b:231},{pantoneId:39,name:"11-4800 TCX",majorColorName:"White",colorName:"Blanc de Blanc",r:231,g:233,b:231},{pantoneId:40,name:"11-4802 TCX",majorColorName:"White",colorName:"Summer Shower",r:229,g:235,b:227},{pantoneId:41,name:"11-4803 TCX",majorColorName:"White",colorName:"Ice",r:224,g:228,b:217},{pantoneId:42,name:"11-4804 TCX",majorColorName:"White",colorName:"Lightest Sky",r:228,g:234,b:223},{pantoneId:43,name:"11-4805 TCX",majorColorName:"White",colorName:"Hint of Mint",r:216,g:235,b:230},{pantoneId:44,name:"12-0000 TCX",majorColorName:"White",colorName:"White Swan",r:228,g:215,b:197},{pantoneId:45,name:"12-0104 TCX",majorColorName:"White",colorName:"White Asparagus",r:225,g:219,b:200},{pantoneId:46,name:"12-0105 TCX",majorColorName:"White",colorName:"Bone White",r:215,g:208,b:192},{pantoneId:47,name:"12-0106 TCX",majorColorName:"White",colorName:"Meadow Mist",r:211,g:222,b:196},{pantoneId:48,name:"12-0108 TCX",majorColorName:"White",colorName:"Canary Green",r:214,g:222,b:201},{pantoneId:49,name:"12-0109 TCX",majorColorName:"White",colorName:"Ambrosia",r:210,g:231,b:202},{pantoneId:50,name:"12-0225 TCX",majorColorName:"Green",colorName:"Patina Green",r:185,g:234,b:179},{pantoneId:51,name:"12-0304 TCX",majorColorName:"White",colorName:"Whitecap Gray",r:224,g:213,b:198},{pantoneId:52,name:"12-0311 TCX",majorColorName:"White",colorName:"Asparagus Green",r:210,g:205,b:180},{pantoneId:53,name:"12-0312 TCX",majorColorName:"Green",colorName:"Lime Cream",r:215,g:232,b:188},{pantoneId:54,name:"12-0313 TCX",majorColorName:"Green",colorName:"Seafoam Green",r:203,g:213,b:177},{pantoneId:55,name:"12-0315 TCX",majorColorName:"Green",colorName:"White Jade",r:212,g:219,b:178},{pantoneId:56,name:"12-0317 TCX",majorColorName:"Green",colorName:"Gleam",r:191,g:209,b:173},{pantoneId:57,name:"12-0322 TCX",majorColorName:"Green",colorName:"Butterfly",r:202,g:222,b:165},{pantoneId:58,name:"12-0404 TCX",majorColorName:"White",colorName:"Light Gray",r:218,g:216,b:201},{pantoneId:59,name:"12-0418 TCX",majorColorName:"Yellow",colorName:"Hay",r:211,g:204,b:163},{pantoneId:60,name:"12-0426 TCX",majorColorName:"Yellow",colorName:"Mellow Green",r:213,g:213,b:147},{pantoneId:61,name:"12-0435 TCX",majorColorName:"Green",colorName:"Daiquiri Green",r:201,g:215,b:126},{pantoneId:62,name:"12-0520 TCX",majorColorName:"Green",colorName:"Pale Lime Yellow",r:223,g:230,b:159},{pantoneId:63,name:"12-0521 TCX",majorColorName:"Yellow",colorName:"Young Wheat",r:225,g:227,b:169},{pantoneId:64,name:"12-0524 TCX",majorColorName:"Yellow",colorName:"Citron",r:223,g:222,b:155},{pantoneId:65,name:"12-0525 TCX",majorColorName:"Green",colorName:"Luminary Green",r:227,g:234,b:165},{pantoneId:66,name:"12-0530 TCX",majorColorName:"Yellow",colorName:"Charlock",r:229,g:231,b:144},{pantoneId:67,name:"12-0601 TCX",majorColorName:"White",colorName:"Eggnog",r:236,g:225,b:211},{pantoneId:68,name:"12-0605 TCX",majorColorName:"Orange",colorName:"Angora",r:223,g:209,b:187},{pantoneId:69,name:"12-0607 TCX",majorColorName:"White",colorName:"Green Essence",r:233,g:234,b:200},{pantoneId:70,name:"12-0619 TCX",majorColorName:"Yellow",colorName:"Dusty Yellow",r:212,g:204,b:154},{pantoneId:71,name:"12-0626 TCX",majorColorName:"Yellow",colorName:"Lemon Grass",r:220,g:212,b:148},{pantoneId:72,name:"12-0633 TCX",majorColorName:"Yellow",colorName:"Canary Yellow",r:223,g:216,b:126},{pantoneId:73,name:"12-0642 TCX",majorColorName:"Yellow",colorName:"Aurora",r:237,g:221,b:89},{pantoneId:74,name:"12-0643 TCX",majorColorName:"Yellow",colorName:"Blazing Yellow",r:254,g:231,b:21},{pantoneId:75,name:"12-0703 TCX",majorColorName:"White",colorName:"Seedpearl",r:230,g:218,b:196},{pantoneId:76,name:"12-0704 TCX",majorColorName:"Orange",colorName:"White Smoke",r:237,g:220,b:201},{pantoneId:77,name:"12-0710 TCX",majorColorName:"Orange",colorName:"Shortbread",r:239,g:220,b:195},{pantoneId:78,name:"12-0712 TCX",majorColorName:"Orange",colorName:"Vanilla",r:244,g:225,b:193},{pantoneId:79,name:"12-0713 TCX",majorColorName:"Orange",colorName:"Almond Oil",r:244,g:228,b:193},{pantoneId:80,name:"12-0714 TCX",majorColorName:"Orange",colorName:"Cornhusk",r:242,g:214,b:174},{pantoneId:81,name:"12-0715 TCX",majorColorName:"Orange",colorName:"Double Cream",r:243,g:224,b:172},{pantoneId:82,name:"12-0720 TCX",majorColorName:"Yellow",colorName:"Mellow Yellow",r:240,g:221,b:157},{pantoneId:83,name:"12-0721 TCX",majorColorName:"Yellow",colorName:"Lemonade",r:240,g:231,b:157},{pantoneId:84,name:"12-0722 TCX",majorColorName:"Yellow",colorName:"French Vanilla",r:239,g:225,b:167},{pantoneId:85,name:"12-0727 TCX",majorColorName:"Yellow",colorName:"Sunshine",r:250,g:222,b:133},{pantoneId:86,name:"12-0736 TCX",majorColorName:"Orange",colorName:"Lemon Drop",r:253,g:216,b:120},{pantoneId:87,name:"12-0738 TCX",majorColorName:"Yellow",colorName:"Yellow Cream",r:239,g:220,b:117},{pantoneId:88,name:"12-0740 TCX",majorColorName:"Yellow",colorName:"Limelight",r:240,g:232,b:125},{pantoneId:89,name:"12-0741 TCX",majorColorName:"Green",colorName:"Sunny Lime",r:223,g:239,b:135},{pantoneId:90,name:"12-0752 TCX",majorColorName:"Yellow",colorName:"Buttercup",r:250,g:224,b:60},{pantoneId:91,name:"12-0804 TCX",majorColorName:"White",colorName:"Cloud Cream",r:230,g:221,b:197},{pantoneId:92,name:"12-0806 TCX",majorColorName:"Orange",colorName:"Rutabaga",r:236,g:221,b:190},{pantoneId:93,name:"12-0807 TCX",majorColorName:"Orange",colorName:"Sun Kiss",r:235,g:209,b:187},{pantoneId:94,name:"12-0811 TCX",majorColorName:"Orange",colorName:"Dawn",r:235,g:210,b:183},{pantoneId:95,name:"12-0812 TCX",majorColorName:"Orange",colorName:"Alabaster Gleam",r:240,g:222,b:189},{pantoneId:96,name:"12-0813 TCX",majorColorName:"Orange",colorName:"Autumn Blonde",r:238,g:208,b:174},{pantoneId:97,name:"12-0815 TCX",majorColorName:"Orange",colorName:"Vanilla Custard",r:243,g:224,b:190},{pantoneId:98,name:"12-0817 TCX",majorColorName:"Orange",colorName:"Apricot Gelato",r:245,g:215,b:175},{pantoneId:99,name:"12-0822 TCX",majorColorName:"Orange",colorName:"Golden Fleece",r:242,g:209,b:160},{pantoneId:100,name:"12-0824 TCX",majorColorName:"Orange",colorName:"Pale Banana",r:250,g:225,b:153},{pantoneId:101,name:"12-0825 TCX",majorColorName:"Yellow",colorName:"Popcorn",r:248,g:222,b:141},{pantoneId:102,name:"12-0826 TCX",majorColorName:"Orange",colorName:"Golden Haze",r:251,g:216,b:151},{pantoneId:103,name:"12-0910 TCX",majorColorName:"Orange",colorName:"Lamb's Wool",r:229,g:208,b:177},{pantoneId:104,name:"12-0911 TCX",majorColorName:"Orange",colorName:"Nude",r:242,g:211,b:188},{pantoneId:105,name:"12-0912 TCX",majorColorName:"Orange",colorName:"Tender Peach",r:248,g:213,b:184},{pantoneId:106,name:"12-0913 TCX",majorColorName:"Orange",colorName:"Alesan",r:241,g:206,b:179},{pantoneId:107,name:"12-0915 TCX",majorColorName:"Orange",colorName:"Pale Peach",r:254,g:209,b:189},{pantoneId:108,name:"12-0917 TCX",majorColorName:"Orange",colorName:"Bleached Apricot",r:252,g:202,b:172},{pantoneId:109,name:"12-0921 TCX",majorColorName:"Orange",colorName:"Golden Straw",r:230,g:189,b:143},{pantoneId:110,name:"12-1005 TCX",majorColorName:"Orange",colorName:"Novelle Peach",r:231,g:207,b:189},{pantoneId:111,name:"12-1006 TCX",majorColorName:"Orange",colorName:"Mother of Pearl",r:233,g:212,b:195},{pantoneId:112,name:"12-1007 TCX",majorColorName:"Orange",colorName:"Pastel Rose Tan",r:233,g:209,b:191},{pantoneId:113,name:"12-1008 TCX",majorColorName:"Orange",colorName:"Linen",r:237,g:210,b:192},{pantoneId:114,name:"12-1009 TCX",majorColorName:"Orange",colorName:"Vanilla Cream",r:244,g:216,b:198},{pantoneId:115,name:"12-1010 TCX",majorColorName:"Orange",colorName:"Scallop Shell",r:251,g:216,b:201},{pantoneId:116,name:"12-1011 TCX",majorColorName:"Orange",colorName:"Peach Puree",r:239,g:207,b:186},{pantoneId:117,name:"12-1106 TCX",majorColorName:"White",colorName:"Sheer Pink",r:246,g:229,b:219},{pantoneId:118,name:"12-1107 TCX",majorColorName:"Orange",colorName:"Pink Champagne",r:240,g:216,b:204},{pantoneId:119,name:"12-1108 TCX",majorColorName:"White",colorName:"Dew",r:238,g:222,b:209},{pantoneId:120,name:"12-1206 TCX",majorColorName:"White",colorName:"Silver Peony",r:231,g:207,b:199},{pantoneId:121,name:"12-1207 TCX",majorColorName:"Orange",colorName:"Pearl Blush",r:244,g:206,b:197},{pantoneId:122,name:"12-1209 TCX",majorColorName:"Orange",colorName:"Soft Pink",r:242,g:216,b:205},{pantoneId:123,name:"12-1212 TCX",majorColorName:"Pink",colorName:"Veiled Rose",r:248,g:205,b:201},{pantoneId:124,name:"12-1304 TCX",majorColorName:"White",colorName:"Pearl",r:249,g:219,b:216},{pantoneId:125,name:"12-1305 TCX",majorColorName:"White",colorName:"Heavenly Pink",r:244,g:222,b:222},{pantoneId:126,name:"12-1310 TCX",majorColorName:"Pink",colorName:"Blushing Bride",r:251,g:211,b:217},{pantoneId:127,name:"12-1403 TCX",majorColorName:"White",colorName:"Tapioca",r:220,g:205,b:188},{pantoneId:128,name:"12-1404 TCX",majorColorName:"White",colorName:"Pink Tint",r:219,g:203,b:189},{pantoneId:129,name:"12-1605 TCX",majorColorName:"White",colorName:"Crystal Pink",r:237,g:208,b:206},{pantoneId:130,name:"12-1706 TCX",majorColorName:"Pink",colorName:"Pink Dogwood",r:247,g:209,b:209},{pantoneId:131,name:"12-1708 TCX",majorColorName:"Pink",colorName:"Crystal Rose",r:253,g:195,b:198},{pantoneId:132,name:"12-2102 TCX",majorColorName:"White",colorName:"Mauve Morn",r:236,g:214,b:214},{pantoneId:133,name:"12-2103 TCX",majorColorName:"White",colorName:"Almost Mauve",r:231,g:220,b:217},{pantoneId:134,name:"12-2902 TCX",majorColorName:"White",colorName:"Mauve Chalk",r:229,g:208,b:207},{pantoneId:135,name:"12-2903 TCX",majorColorName:"White",colorName:"Light Lilac",r:222,g:198,b:211},{pantoneId:136,name:"12-2904 TCX",majorColorName:"White",colorName:"Primrose Pink",r:238,g:212,b:217},{pantoneId:137,name:"12-2905 TCX",majorColorName:"White",colorName:"Cradle Pink",r:237,g:208,b:221},{pantoneId:138,name:"12-2906 TCX",majorColorName:"White",colorName:"Barely Pink",r:248,g:215,b:221},{pantoneId:139,name:"12-4302 TCX",majorColorName:"White",colorName:"Vaporous Gray",r:223,g:221,b:215},{pantoneId:140,name:"12-4304 TCX",majorColorName:"White",colorName:"Bluewash",r:226,g:230,b:224},{pantoneId:141,name:"12-4305 TCX",majorColorName:"White",colorName:"Spa Blue",r:211,g:222,b:223},{pantoneId:142,name:"12-4306 TCX",majorColorName:"White",colorName:"Barely Blue",r:221,g:224,b:223},{pantoneId:143,name:"12-4604 TCX",majorColorName:"White",colorName:"Skylight",r:200,g:224,b:224},{pantoneId:144,name:"12-4607 TCX",majorColorName:"White",colorName:"Pastel Blue",r:188,g:211,b:213},{pantoneId:145,name:"12-4608 TCX",majorColorName:"Blue",colorName:"Clearwater",r:170,g:213,b:219},{pantoneId:146,name:"12-4609 TCX",majorColorName:"White",colorName:"Starlight Blue",r:181,g:206,b:212},{pantoneId:147,name:"12-4610 TCX",majorColorName:"White",colorName:"Whispering Blue",r:201,g:220,b:220},{pantoneId:148,name:"12-4705 TCX",majorColorName:"White",colorName:"Blue Blush",r:214,g:219,b:217},{pantoneId:149,name:"12-4805 TCX",majorColorName:"White",colorName:"Wan Blue",r:203,g:220,b:223},{pantoneId:150,name:"12-4806 TCX",majorColorName:"White",colorName:"Chalk Blue",r:204,g:218,b:215},{pantoneId:151,name:"12-5201 TCX",majorColorName:"White",colorName:"Icicle",r:218,g:220,b:208},{pantoneId:152,name:"12-5202 TCX",majorColorName:"White",colorName:"Turtledove",r:222,g:215,b:200},{pantoneId:153,name:"12-5203 TCX",majorColorName:"White",colorName:"Murmur",r:210,g:216,b:210},{pantoneId:154,name:"12-5204 TCX",majorColorName:"White",colorName:"Morning Mist",r:207,g:223,b:219},{pantoneId:155,name:"12-5206 TCX",majorColorName:"White",colorName:"Blue Glass",r:198,g:227,b:225},{pantoneId:156,name:"12-5209 TCX",majorColorName:"Blue-Green",colorName:"Soothing Sea",r:195,g:233,b:228},{pantoneId:157,name:"12-5303 TCX",majorColorName:"White",colorName:"Sprout Green",r:203,g:215,b:210},{pantoneId:158,name:"12-5403 TCX",majorColorName:"White",colorName:"Blue Flower",r:208,g:217,b:212},{pantoneId:159,name:"12-5404 TCX",majorColorName:"White",colorName:"Whisper Green",r:224,g:230,b:215},{pantoneId:160,name:"12-5406 TCX",majorColorName:"White",colorName:"Opal Blue",r:195,g:221,b:214},{pantoneId:161,name:"12-5407 TCX",majorColorName:"White",colorName:"Aqua Glass",r:210,g:232,b:224},{pantoneId:162,name:"12-5408 TCX",majorColorName:"White",colorName:"Moonlight Jade",r:199,g:229,b:223},{pantoneId:163,name:"12-5409 TCX",majorColorName:"Blue-Green",colorName:"Fair Aqua",r:184,g:226,b:220},{pantoneId:164,name:"12-5410 TCX",majorColorName:"Blue-Green",colorName:"Bleached Aqua",r:188,g:227,b:223},{pantoneId:165,name:"12-5504 TCX",majorColorName:"White",colorName:"Clearly Aqua",r:206,g:225,b:212},{pantoneId:166,name:"12-5505 TCX",majorColorName:"White",colorName:"Glacier",r:195,g:219,b:212},{pantoneId:167,name:"12-5506 TCX",majorColorName:"White",colorName:"Dusty Aqua",r:192,g:220,b:205},{pantoneId:168,name:"12-5507 TCX",majorColorName:"Blue-Green",colorName:"Bay",r:186,g:229,b:214},{pantoneId:169,name:"12-5508 TCX",majorColorName:"White",colorName:"Hushed Green",r:216,g:233,b:229},{pantoneId:170,name:"12-5603 TCX",majorColorName:"White",colorName:"Zephyr Blue",r:211,g:217,b:209},{pantoneId:171,name:"12-5808 TCX",majorColorName:"Blue-Green",colorName:"Honeydew",r:186,g:225,b:211},{pantoneId:172,name:"12-6204 TCX",majorColorName:"White",colorName:"Silver Green",r:215,g:215,b:199},{pantoneId:173,name:"12-6205 TCX",majorColorName:"White",colorName:"Milky Green",r:207,g:219,b:209},{pantoneId:174,name:"12-6206 TCX",majorColorName:"White",colorName:"Fairest Jade",r:216,g:227,b:215},{pantoneId:175,name:"12-6207 TCX",majorColorName:"White",colorName:"Frost",r:221,g:226,b:214},{pantoneId:176,name:"12-6208 TCX",majorColorName:"White",colorName:"Phantom Green",r:220,g:228,b:215},{pantoneId:177,name:"13-0000 TCX",majorColorName:"White",colorName:"Moonbeam",r:205,g:198,b:189},{pantoneId:178,name:"13-0002 TCX",majorColorName:"White",colorName:"White Sand",r:219,g:213,b:209},{pantoneId:179,name:"13-0107 TCX",majorColorName:"White",colorName:"Dewkist",r:196,g:209,b:194},{pantoneId:180,name:"13-0111 TCX",majorColorName:"White",colorName:"Seacrest",r:191,g:209,b:179},{pantoneId:181,name:"13-0116 TCX",majorColorName:"Green",colorName:"Pastel Green",r:180,g:211,b:178},{pantoneId:182,name:"13-0117 TCX",majorColorName:"Green",colorName:"Green Ash",r:160,g:218,b:169},{pantoneId:183,name:"13-0210 TCX",majorColorName:"White",colorName:"Fog Green",r:194,g:203,b:180},{pantoneId:184,name:"13-0212 TCX",majorColorName:"White",colorName:"Tender Greens",r:197,g:207,b:182},{pantoneId:185,name:"13-0215 TCX",majorColorName:"Green",colorName:"Reed",r:195,g:211,b:168},{pantoneId:186,name:"13-0220 TCX",majorColorName:"Green",colorName:"Paradise Green",r:178,g:231,b:159},{pantoneId:187,name:"13-0221 TCX",majorColorName:"Green",colorName:"Pistachio Green",r:169,g:211,b:158},{pantoneId:188,name:"13-0317 TCX",majorColorName:"Green",colorName:"Lily Green",r:197,g:207,b:152},{pantoneId:189,name:"13-0319 TCX",majorColorName:"Green",colorName:"Shadow Lime",r:207,g:224,b:157},{pantoneId:190,name:"13-0324 TCX",majorColorName:"Green",colorName:"Lettuce Green",r:190,g:211,b:142},{pantoneId:191,name:"13-0331 TCX",majorColorName:"Green",colorName:"Sap Green",r:175,g:203,b:128},{pantoneId:192,name:"13-0333 TCX",majorColorName:"Yellow",colorName:"Lima Bean",r:225,g:213,b:144},{pantoneId:193,name:"13-0401 TCX",majorColorName:"White",colorName:"Oatmeal",r:203,g:195,b:180},{pantoneId:194,name:"13-0403 TCX",majorColorName:"White",colorName:"Gray Morn",r:202,g:190,b:181},{pantoneId:195,name:"13-0442 TCX",majorColorName:"Green",colorName:"Green Glow",r:176,g:201,b:101},{pantoneId:196,name:"13-0513 TCX",majorColorName:"Yellow",colorName:"Frozen Dew",r:216,g:207,b:178},{pantoneId:197,name:"13-0522 TCX",majorColorName:"Yellow",colorName:"Pale Green",r:203,g:206,b:145},{pantoneId:198,name:"13-0530 TCX",majorColorName:"Green",colorName:"Lime Sherbet",r:205,g:215,b:138},{pantoneId:199,name:"13-0532 TCX",majorColorName:"Green",colorName:"Celery Green",r:197,g:204,b:123},{pantoneId:200,name:"13-0535 TCX",majorColorName:"Green",colorName:"Sharp Green",r:198,g:230,b:122},{pantoneId:201,name:"13-0540 TCX",majorColorName:"Green",colorName:"Wild Lime",r:195,g:211,b:99},{pantoneId:202,name:"13-0550 TCX",majorColorName:"Green",colorName:"Lime Punch",r:192,g:215,b:37},{pantoneId:203,name:"13-0607 TCX",majorColorName:"White",colorName:"Fog",r:208,g:197,b:177},{pantoneId:204,name:"13-0608 TCX",majorColorName:"White",colorName:"Aloe Wash",r:208,g:211,b:183},{pantoneId:205,name:"13-0611 TCX",majorColorName:"Yellow",colorName:"Moth",r:210,g:203,b:175},{pantoneId:206,name:"13-0613 TCX",majorColorName:"Orange",colorName:"Chino Green",r:217,g:202,b:165},{pantoneId:207,name:"13-0614 TCX",majorColorName:"Yellow",colorName:"Garden Glade",r:220,g:216,b:168},{pantoneId:208,name:"13-0624 TCX",majorColorName:"Yellow",colorName:"Golden Mist",r:213,g:205,b:148},{pantoneId:209,name:"13-0632 TCX",majorColorName:"Yellow",colorName:"Endive",r:210,g:204,b:129},{pantoneId:210,name:"13-0633 TCX",majorColorName:"Yellow",colorName:"Chardonnay",r:231,g:223,b:153},{pantoneId:211,name:"13-0640 TCX",majorColorName:"Yellow",colorName:"Acacia",r:218,g:205,b:101},{pantoneId:212,name:"13-0645 TCX",majorColorName:"Yellow",colorName:"Limeade",r:211,g:217,b:95},{pantoneId:213,name:"13-0648 TCX",majorColorName:"Yellow",colorName:"Green Sheen",r:217,g:206,b:82},{pantoneId:214,name:"13-0650 TCX",majorColorName:"Yellow",colorName:"Sulphur Spring",r:213,g:215,b:23},{pantoneId:215,name:"13-0711 TCX",majorColorName:"Orange",colorName:"Putty",r:212,g:202,b:176},{pantoneId:216,name:"13-0715 TCX",majorColorName:"Orange",colorName:"Sea Mist",r:216,g:201,b:163},{pantoneId:217,name:"13-0720 TCX",majorColorName:"Yellow",colorName:"Custard",r:229,g:214,b:142},{pantoneId:218,name:"13-0725 TCX",majorColorName:"Orange",colorName:"Raffia",r:218,g:196,b:131},{pantoneId:219,name:"13-0739 TCX",majorColorName:"Yellow",colorName:"Cream Gold",r:222,g:192,b:95},{pantoneId:220,name:"13-0746 TCX",majorColorName:"Yellow",colorName:"Maize",r:238,g:200,b:67},{pantoneId:221,name:"13-0752 TCX",majorColorName:"Yellow",colorName:"Lemon",r:243,g:191,b:8},{pantoneId:222,name:"13-0755 TCX",majorColorName:"Yellow",colorName:"Primrose Yellow",r:246,g:209,b:85},{pantoneId:223,name:"13-0758 TCX",majorColorName:"Yellow",colorName:"Dandelion",r:255,g:208,b:46},{pantoneId:224,name:"13-0814 TCX",majorColorName:"Orange",colorName:"Summer Melon",r:234,g:211,b:174},{pantoneId:225,name:"13-0815 TCX",majorColorName:"Orange",colorName:"Banana Crepe",r:231,g:211,b:173},{pantoneId:226,name:"13-0822 TCX",majorColorName:"Orange",colorName:"Sunlight",r:237,g:213,b:158},{pantoneId:227,name:"13-0840 TCX",majorColorName:"Orange",colorName:"Snapdragon",r:254,g:215,b:119},{pantoneId:228,name:"13-0850 TCX",majorColorName:"Orange",colorName:"Aspen Gold",r:255,g:214,b:98},{pantoneId:229,name:"13-0858 TCX",majorColorName:"Yellow",colorName:"Vibrant Yellow",r:255,g:218,b:41},{pantoneId:230,name:"13-0859 TCX",majorColorName:"Yellow",colorName:"Lemon Chrome",r:255,g:195,b:0},{pantoneId:231,name:"13-0905 TCX",majorColorName:"White",colorName:"Birch",r:221,g:213,b:199},{pantoneId:232,name:"13-0907 TCX",majorColorName:"White",colorName:"Sandshell",r:216,g:204,b:187},{pantoneId:233,name:"13-0908 TCX",majorColorName:"White",colorName:"Parchment",r:223,g:209,b:190},{pantoneId:234,name:"13-0915 TCX",majorColorName:"Orange",colorName:"Reed Yellow",r:220,g:201,b:158},{pantoneId:235,name:"13-0916 TCX",majorColorName:"Orange",colorName:"Chamomile",r:232,g:208,b:167},{pantoneId:236,name:"13-0917 TCX",majorColorName:"Orange",colorName:"Italian Straw",r:231,g:209,b:161},{pantoneId:237,name:"13-0922 TCX",majorColorName:"Orange",colorName:"Straw",r:224,g:201,b:146},{pantoneId:238,name:"13-0932 TCX",majorColorName:"Orange",colorName:"Cornsilk",r:237,g:195,b:115},{pantoneId:239,name:"13-0935 TCX",majorColorName:"Orange",colorName:"Flax",r:255,g:200,b:125},{pantoneId:240,name:"13-0939 TCX",majorColorName:"Orange",colorName:"Golden Cream",r:247,g:191,b:104},{pantoneId:241,name:"13-0940 TCX",majorColorName:"Orange",colorName:"Sunset Gold",r:247,g:196,b:108},{pantoneId:242,name:"13-0941 TCX",majorColorName:"Orange",colorName:"Banana Cream",r:255,g:207,b:115},{pantoneId:243,name:"13-0942 TCX",majorColorName:"Orange",colorName:"Amber Yellow",r:250,g:183,b:90},{pantoneId:244,name:"13-0945 TCX",majorColorName:"Orange",colorName:"Pale Marigold",r:255,g:198,b:110},{pantoneId:245,name:"13-0947 TCX",majorColorName:"Orange",colorName:"Banana",r:252,g:185,b:83},{pantoneId:246,name:"13-1006 TCX",majorColorName:"Orange",colorName:"Creme Brulee",r:219,g:204,b:181},{pantoneId:247,name:"13-1007 TCX",majorColorName:"Yellow",colorName:"Oyster White",r:210,g:202,b:175},{pantoneId:248,name:"13-1008 TCX",majorColorName:"Orange",colorName:"Bleached Sand",r:218,g:204,b:180},{pantoneId:249,name:"13-1009 TCX",majorColorName:"Orange",colorName:"Biscotti",r:218,g:199,b:171},{pantoneId:250,name:"13-1010 TCX",majorColorName:"Orange",colorName:"Gray Sand",r:229,g:204,b:175},{pantoneId:251,name:"13-1011 TCX",majorColorName:"Orange",colorName:"Ivory Cream",r:218,g:192,b:167},{pantoneId:252,name:"13-1012 TCX",majorColorName:"Orange",colorName:"Frosted Almond",r:210,g:194,b:172},{pantoneId:253,name:"13-1013 TCX",majorColorName:"Orange",colorName:"Appleblossom",r:221,g:188,b:160},{pantoneId:254,name:"13-1014 TCX",majorColorName:"Orange",colorName:"Mellow Buff",r:216,g:185,b:152},{pantoneId:255,name:"13-1015 TCX",majorColorName:"Orange",colorName:"Honey Peach",r:220,g:189,b:158},{pantoneId:256,name:"13-1016 TCX",majorColorName:"Orange",colorName:"Wheat",r:222,g:197,b:165},{pantoneId:257,name:"13-1017 TCX",majorColorName:"Orange",colorName:"Almond Cream",r:244,g:194,b:159},{pantoneId:258,name:"13-1018 TCX",majorColorName:"Orange",colorName:"Desert Dust",r:227,g:188,b:142},{pantoneId:259,name:"13-1019 TCX",majorColorName:"Orange",colorName:"Cream Blush",r:248,g:193,b:154},{pantoneId:260,name:"13-1020 TCX",majorColorName:"Orange",colorName:"Apricot Ice",r:251,g:190,b:153},{pantoneId:261,name:"13-1021 TCX",majorColorName:"Orange",colorName:"Prairie Sunset",r:255,g:187,b:158},{pantoneId:262,name:"13-1022 TCX",majorColorName:"Orange",colorName:"Caramel Cream",r:244,g:186,b:148},{pantoneId:263,name:"13-1023 TCX",majorColorName:"Orange",colorName:"Peach Fuzz",r:255,g:190,b:152},{pantoneId:264,name:"13-1024 TCX",majorColorName:"Orange",colorName:"Buff",r:235,g:195,b:150},{pantoneId:265,name:"13-1025 TCX",majorColorName:"Orange",colorName:"Impala",r:248,g:206,b:151},{pantoneId:266,name:"13-1026 TCX",majorColorName:"Orange",colorName:"Creampuff",r:255,g:205,b:168},{pantoneId:267,name:"13-1027 TCX",majorColorName:"Orange",colorName:"Apricot Cream",r:241,g:189,b:137},{pantoneId:268,name:"13-1030 TCX",majorColorName:"Orange",colorName:"Sunburst",r:246,g:194,b:137},{pantoneId:269,name:"13-1031 TCX",majorColorName:"Orange",colorName:"Apricot Sherbet",r:250,g:205,b:158},{pantoneId:270,name:"13-1106 TCX",majorColorName:"White",colorName:"Sand Dollar",r:222,g:205,b:190},{pantoneId:271,name:"13-1107 TCX",majorColorName:"White",colorName:"Whisper Pink",r:218,g:203,b:190},{pantoneId:272,name:"13-1108 TCX",majorColorName:"Orange",colorName:"Cream Tan",r:228,g:199,b:184},{pantoneId:273,name:"13-1109 TCX",majorColorName:"Orange",colorName:"Bisque",r:237,g:202,b:181},{pantoneId:274,name:"13-1114 TCX",majorColorName:"Orange",colorName:"Bellini",r:244,g:201,b:177},{pantoneId:275,name:"13-1310 TCX",majorColorName:"Pink",colorName:"English Rose",r:244,g:198,b:195},{pantoneId:276,name:"13-1318 TCX",majorColorName:"Orange",colorName:"Tropical Peach",r:255,g:196,b:178},{pantoneId:277,name:"13-1404 TCX",majorColorName:"Orange",colorName:"Pale Dogwood",r:237,g:205,b:194},{pantoneId:278,name:"13-1405 TCX",majorColorName:"White",colorName:"Shell",r:225,g:207,b:198},{pantoneId:279,name:"13-1406 TCX",majorColorName:"Orange",colorName:"Cloud Pink",r:245,g:209,b:200},{pantoneId:280,name:"13-1407 TCX",majorColorName:"Orange",colorName:"Creole Pink",r:247,g:213,b:204},{pantoneId:281,name:"13-1408 TCX",majorColorName:"Pink",colorName:"Chintz Rose",r:238,g:196,b:190},{pantoneId:282,name:"13-1409 TCX",majorColorName:"Pink",colorName:"Seashell Pink",r:247,g:200,b:194},{pantoneId:283,name:"13-1504 TCX",majorColorName:"White",colorName:"Peach Blush",r:228,g:204,b:198},{pantoneId:284,name:"13-1510 TCX",majorColorName:"Pink",colorName:"Impatiens Pink",r:255,g:196,b:188},{pantoneId:285,name:"13-1513 TCX",majorColorName:"Pink",colorName:"Gossamer Pink",r:250,g:200,b:195},{pantoneId:286,name:"13-1904 TCX",majorColorName:"White",colorName:"Chalk Pink",r:230,g:197,b:202},{pantoneId:287,name:"13-1906 TCX",majorColorName:"Pink",colorName:"Rose Shadow",r:249,g:194,b:205},{pantoneId:288,name:"13-2004 TCX",majorColorName:"White",colorName:"Potpourri",r:231,g:201,b:202},{pantoneId:289,name:"13-2005 TCX",majorColorName:"Pink",colorName:"Strawberry Cream",r:244,g:195,b:196},{pantoneId:290,name:"13-2006 TCX",majorColorName:"Pink",colorName:"Almond Blossom",r:245,g:190,b:199},{pantoneId:291,name:"13-2010 TCX",majorColorName:"Pink",colorName:"Orchid Pink",r:243,g:187,b:202},{pantoneId:292,name:"13-2803 TCX",majorColorName:"White",colorName:"Pale Lilac",r:225,g:198,b:204},{pantoneId:293,name:"13-2804 TCX",majorColorName:"Pink",colorName:"Parfait Pink",r:233,g:195,b:207},{pantoneId:294,name:"13-2805 TCX",majorColorName:"Pink",colorName:"Roseate Spoonbill",r:230,g:188,b:205},{pantoneId:295,name:"13-2806 TCX",majorColorName:"Pink",colorName:"Pink Lady",r:239,g:193,b:214},{pantoneId:296,name:"13-3405 TCX",majorColorName:"White",colorName:"Lilac Snow",r:224,g:199,b:215},{pantoneId:297,name:"13-3406 TCX",majorColorName:"White",colorName:"Orchid Ice",r:224,g:208,b:219},{pantoneId:298,name:"13-3801 TCX",majorColorName:"White",colorName:"Crystal Gray",r:215,g:203,b:196},{pantoneId:299,name:"13-3802 TCX",majorColorName:"White",colorName:"Orchid Tint",r:219,g:210,b:219},{pantoneId:300,name:"13-3803 TCX",majorColorName:"White",colorName:"Lilac Ash",r:215,g:205,b:205},{pantoneId:301,name:"13-3804 TCX",majorColorName:"White",colorName:"Gray Lilac",r:212,g:202,b:205},{pantoneId:302,name:"13-3805 TCX",majorColorName:"White",colorName:"Orchid Hush",r:206,g:195,b:210},{pantoneId:303,name:"13-3820 TCX",majorColorName:"White",colorName:"Lavender Fog",r:210,g:196,b:214},{pantoneId:304,name:"13-4103 TCX",majorColorName:"White",colorName:"Illusion Blue",r:201,g:211,b:220},{pantoneId:305,name:"13-4105 TCX",majorColorName:"White",colorName:"Lilac Hint",r:208,g:208,b:218},{pantoneId:306,name:"13-4110 TCX",majorColorName:"White",colorName:"Arctic Ice",r:191,g:199,b:214},{pantoneId:307,name:"13-4303 TCX",majorColorName:"White",colorName:"Dawn Blue",r:202,g:204,b:203},{pantoneId:308,name:"13-4304 TCX",majorColorName:"White",colorName:"Ballad Blue",r:192,g:206,b:218},{pantoneId:309,name:"13-4305 TCX",majorColorName:"White",colorName:"Foggy Dew",r:209,g:213,b:208},{pantoneId:310,name:"13-4308 TCX",majorColorName:"White",colorName:"Baby Blue",r:181,g:199,b:211},{pantoneId:311,name:"13-4403 TCX",majorColorName:"White",colorName:"Silver Birch",r:210,g:207,b:196},{pantoneId:312,name:"13-4404 TCX",majorColorName:"White",colorName:"Ice Flow",r:198,g:210,b:210},{pantoneId:313,name:"13-4405 TCX",majorColorName:"White",colorName:"Misty Blue",r:191,g:205,b:204},{pantoneId:314,name:"13-4409 TCX",majorColorName:"Blue",colorName:"Blue Glow",r:178,g:212,b:221},{pantoneId:315,name:"13-4411 TCX",majorColorName:"Blue",colorName:"Crystal Blue",r:161,g:200,b:219},{pantoneId:316,name:"13-4804 TCX",majorColorName:"White",colorName:"Pale Blue",r:196,g:214,b:211},{pantoneId:317,name:"13-4809 TCX",majorColorName:"Blue",colorName:"Plume",r:165,g:207,b:213},{pantoneId:318,name:"13-4909 TCX",majorColorName:"Blue-Green",colorName:"Blue Light",r:172,g:223,b:221},{pantoneId:319,name:"13-4910 TCX",majorColorName:"Blue-Green",colorName:"Blue Tint",r:159,g:217,b:215},{pantoneId:320,name:"13-5304 TCX",majorColorName:"White",colorName:"Rainy Day",r:207,g:200,b:189},{pantoneId:321,name:"13-5305 TCX",majorColorName:"White",colorName:"Pale Aqua",r:193,g:204,b:194},{pantoneId:322,name:"13-5306 TCX",majorColorName:"Blue-Green",colorName:"Icy Morn",r:176,g:211,b:209},{pantoneId:323,name:"13-5309 TCX",majorColorName:"Blue-Green",colorName:"Pastel Turquoise",r:153,g:197,b:196},{pantoneId:324,name:"13-5313 TCX",majorColorName:"Blue-Green",colorName:"Aruba Blue",r:129,g:215,b:211},{pantoneId:325,name:"13-5409 TCX",majorColorName:"Blue-Green",colorName:"Yucca",r:161,g:215,b:201},{pantoneId:326,name:"13-5412 TCX",majorColorName:"Blue-Green",colorName:"Beach Glass",r:150,g:223,b:206},{pantoneId:327,name:"13-5414 TCX",majorColorName:"Blue-Green",colorName:"Ice Green",r:135,g:216,b:195},{pantoneId:328,name:"13-5714 TCX",majorColorName:"Blue-Green",colorName:"Cabbage",r:135,g:215,b:190},{pantoneId:329,name:"13-5907 TCX",majorColorName:"White",colorName:"Gossamer Green",r:178,g:207,b:190},{pantoneId:330,name:"13-5911 TCX",majorColorName:"Green",colorName:"Bird's Egg Green",r:170,g:204,b:185},{pantoneId:331,name:"13-6006 TCX",majorColorName:"White",colorName:"Almost Aqua",r:202,g:211,b:193},{pantoneId:332,name:"13-6007 TCX",majorColorName:"White",colorName:"Spray",r:190,g:211,b:187},{pantoneId:333,name:"13-6008 TCX",majorColorName:"White",colorName:"Misty Jade",r:188,g:217,b:200},{pantoneId:334,name:"13-6009 TCX",majorColorName:"Blue-Green",colorName:"Brook Green",r:175,g:221,b:204},{pantoneId:335,name:"13-6105 TCX",majorColorName:"White",colorName:"Celadon Tint",r:203,g:206,b:190},{pantoneId:336,name:"13-6106 TCX",majorColorName:"White",colorName:"Green Tint",r:197,g:204,b:192},{pantoneId:337,name:"13-6107 TCX",majorColorName:"White",colorName:"Green Lily",r:193,g:206,b:193},{pantoneId:338,name:"13-6108 TCX",majorColorName:"White",colorName:"Celadon",r:184,g:204,b:186},{pantoneId:339,name:"13-6110 TCX",majorColorName:"Green",colorName:"Mist Green",r:170,g:206,b:188},{pantoneId:340,name:"13-6208 TCX",majorColorName:"White",colorName:"Bok Choy",r:188,g:202,b:179},{pantoneId:341,name:"14-0000 TCX",majorColorName:"White",colorName:"Silver Gray",r:193,g:183,b:176},{pantoneId:342,name:"14-0002 TCX",majorColorName:"White",colorName:"Pumice Stone",r:202,g:194,b:185},{pantoneId:343,name:"14-0105 TCX",majorColorName:"White",colorName:"Overcast",r:195,g:189,b:171},{pantoneId:344,name:"14-0108 TCX",majorColorName:"White",colorName:"Castle Wall",r:200,g:193,b:171},{pantoneId:345,name:"14-0114 TCX",majorColorName:"White",colorName:"Celadon Green",r:181,g:193,b:165},{pantoneId:346,name:"14-0115 TCX",majorColorName:"Green",colorName:"Foam Green",r:180,g:199,b:156},{pantoneId:347,name:"14-0121 TCX",majorColorName:"Green",colorName:"Nile Green",r:167,g:199,b:150},{pantoneId:348,name:"14-0123 TCX",majorColorName:"Green",colorName:"Arcadian Green",r:163,g:200,b:147},{pantoneId:349,name:"14-0127 TCX",majorColorName:"Green",colorName:"Greengage",r:139,g:194,b:140},{pantoneId:350,name:"14-0156 TCX",majorColorName:"Green",colorName:"Summer Green",r:126,g:211,b:127},{pantoneId:351,name:"14-0210 TCX",majorColorName:"White",colorName:"Tidal Foam",r:191,g:185,b:163},{pantoneId:352,name:"14-0216 TCX",majorColorName:"Green",colorName:"Lint",r:182,g:186,b:153},{pantoneId:353,name:"14-0217 TCX",majorColorName:"Green",colorName:"Seedling",r:192,g:203,b:161},{pantoneId:354,name:"14-0223 TCX",majorColorName:"Green",colorName:"Nile",r:180,g:187,b:133},{pantoneId:355,name:"14-0226 TCX",majorColorName:"Green",colorName:"Opaline Green",r:163,g:197,b:125},{pantoneId:356,name:"14-0232 TCX",majorColorName:"Green",colorName:"Jade Lime",r:161,g:202,b:123},{pantoneId:357,name:"14-0244 TCX",majorColorName:"Green",colorName:"Bright Lime Green",r:151,g:188,b:98},{pantoneId:358,name:"14-0418 TCX",majorColorName:"Yellow",colorName:"Bog",r:186,g:182,b:150},{pantoneId:359,name:"14-0425 TCX",majorColorName:"Yellow",colorName:"Beechnut",r:194,g:193,b:141},{pantoneId:360,name:"14-0434 TCX",majorColorName:"Yellow",colorName:"Green Banana",r:186,g:188,b:114},{pantoneId:361,name:"14-0445 TCX",majorColorName:"Green",colorName:"Bright Chartreuse",r:181,g:191,b:80},{pantoneId:362,name:"14-0446 TCX",majorColorName:"Green",colorName:"Tender Shoots",r:181,g:204,b:57},{pantoneId:363,name:"14-0452 TCX",majorColorName:"Green",colorName:"Lime Green",r:159,g:193,b:49},{pantoneId:364,name:"14-0615 TCX",majorColorName:"Yellow",colorName:"Green Haze",r:202,g:196,b:164},{pantoneId:365,name:"14-0626 TCX",majorColorName:"Yellow",colorName:"Dried Moss",r:204,g:185,b:126},{pantoneId:366,name:"14-0627 TCX",majorColorName:"Yellow",colorName:"Shadow Green",r:207,g:196,b:134},{pantoneId:367,name:"14-0636 TCX",majorColorName:"Yellow",colorName:"Muted Lime",r:209,g:200,b:124},{pantoneId:368,name:"14-0647 TCX",majorColorName:"Yellow",colorName:"Celery",r:206,g:193,b:83},{pantoneId:369,name:"14-0708 TCX",majorColorName:"Orange",colorName:"Cement",r:196,g:182,b:166},{pantoneId:370,name:"14-0721 TCX",majorColorName:"Orange",colorName:"Hemp",r:192,g:173,b:124},{pantoneId:371,name:"14-0740 TCX",majorColorName:"Orange",colorName:"Bamboo",r:210,g:176,b:76},{pantoneId:372,name:"14-0754 TCX",majorColorName:"Yellow",colorName:"Super Lemon",r:228,g:191,b:69},{pantoneId:373,name:"14-0755 TCX",majorColorName:"Yellow",colorName:"Sulphur",r:221,g:182,b:20},{pantoneId:374,name:"14-0756 TCX",majorColorName:"Yellow",colorName:"Empire Yellow",r:247,g:208,b:0},{pantoneId:375,name:"14-0760 TCX",majorColorName:"Yellow",colorName:"Cyber Yellow",r:255,g:212,b:0},{pantoneId:376,name:"14-0826 TCX",majorColorName:"Yellow",colorName:"Pampas",r:207,g:187,b:123},{pantoneId:377,name:"14-0827 TCX",majorColorName:"Yellow",colorName:"Dusky Citron",r:227,g:204,b:129},{pantoneId:378,name:"14-0837 TCX",majorColorName:"Orange",colorName:"Misted Yellow",r:218,g:185,b:101},{pantoneId:379,name:"14-0846 TCX",majorColorName:"Orange",colorName:"Yolk Yellow",r:226,g:176,b:81},{pantoneId:380,name:"14-0847 TCX",majorColorName:"Orange",colorName:"Buff Yellow",r:241,g:191,b:112},{pantoneId:381,name:"14-0848 TCX",majorColorName:"Orange",colorName:"Mimosa",r:240,g:192,b:90},{pantoneId:382,name:"14-0850 TCX",majorColorName:"Orange",colorName:"Daffodil",r:253,g:192,b:78},{pantoneId:383,name:"14-0852 TCX",majorColorName:"Orange",colorName:"Freesia",r:243,g:193,b:44},{pantoneId:384,name:"14-0925 TCX",majorColorName:"Orange",colorName:"Parsnip",r:214,g:198,b:154},{pantoneId:385,name:"14-0935 TCX",majorColorName:"Orange",colorName:"Jojoba",r:218,g:190,b:129},{pantoneId:386,name:"14-0936 TCX",majorColorName:"Orange",colorName:"Sahara Sun",r:223,g:192,b:138},{pantoneId:387,name:"14-0941 TCX",majorColorName:"Orange",colorName:"Beeswax",r:235,g:168,b:81},{pantoneId:388,name:"14-0951 TCX",majorColorName:"Orange",colorName:"Golden Rod",r:226,g:168,b:41},{pantoneId:389,name:"14-0955 TCX",majorColorName:"Orange",colorName:"Citrus",r:249,g:172,b:47},{pantoneId:390,name:"14-0957 TCX",majorColorName:"Orange",colorName:"Spectra Yellow",r:247,g:183,b:24},{pantoneId:391,name:"14-1012 TCX",majorColorName:"Brown",colorName:"Gilded Beige",r:179,g:159,b:141},{pantoneId:392,name:"14-1014 TCX",majorColorName:"Orange",colorName:"Gravel",r:203,g:191,b:162},{pantoneId:393,name:"14-1025 TCX",majorColorName:"Orange",colorName:"Cocoon",r:201,g:178,b:124},{pantoneId:394,name:"14-1031 TCX",majorColorName:"Orange",colorName:"Rattan",r:209,g:178,b:114},{pantoneId:395,name:"14-1036 TCX",majorColorName:"Orange",colorName:"Ochre",r:214,g:175,b:102},{pantoneId:396,name:"14-1038 TCX",majorColorName:"Orange",colorName:"New Wheat",r:215,g:181,b:127},{pantoneId:397,name:"14-1041 TCX",majorColorName:"Orange",colorName:"Golden Apricot",r:221,g:167,b:88},{pantoneId:398,name:"14-1045 TCX",majorColorName:"Orange",colorName:"Amber",r:239,g:173,b:85},{pantoneId:399,name:"14-1050 TCX",majorColorName:"Orange",colorName:"Marigold",r:253,g:172,b:83},{pantoneId:400,name:"14-1051 TCX",majorColorName:"Orange",colorName:"Warm Apricot",r:255,g:184,b:101},{pantoneId:401,name:"14-1064 TCX",majorColorName:"Orange",colorName:"Saffron",r:255,g:165,b:0},{pantoneId:402,name:"14-1106 TCX",majorColorName:"White",colorName:"Peyote",r:197,g:187,b:174},{pantoneId:403,name:"14-1107 TCX",majorColorName:"White",colorName:"Oyster Gray",r:203,g:193,b:174},{pantoneId:404,name:"14-1108 TCX",majorColorName:"Orange",colorName:"Wood Ash",r:215,g:202,b:176},{pantoneId:405,name:"14-1110 TCX",majorColorName:"Orange",colorName:"Boulder",r:209,g:190,b:155},{pantoneId:406,name:"14-1112 TCX",majorColorName:"Orange",colorName:"Pebble",r:202,g:182,b:152},{pantoneId:407,name:"14-1113 TCX",majorColorName:"Orange",colorName:"Marzipan",r:216,g:192,b:157},{pantoneId:408,name:"14-1116 TCX",majorColorName:"Orange",colorName:"Almond Buff",r:204,g:179,b:144},{pantoneId:409,name:"14-1118 TCX",majorColorName:"Orange",colorName:"Beige",r:213,g:186,b:152},{pantoneId:410,name:"14-1119 TCX",majorColorName:"Orange",colorName:"Winter Wheat",r:223,g:192,b:159},{pantoneId:411,name:"14-1120 TCX",majorColorName:"Orange",colorName:"Apricot Illusion",r:226,g:196,b:166},{pantoneId:412,name:"14-1122 TCX",majorColorName:"Orange",colorName:"Sheepskin",r:218,g:181,b:143},{pantoneId:413,name:"14-1127 TCX",majorColorName:"Orange",colorName:"Desert Mist",r:224,g:181,b:137},{pantoneId:414,name:"14-1128 TCX",majorColorName:"Orange",colorName:"Buff Orange",r:255,g:187,b:124},{pantoneId:415,name:"14-1133 TCX",majorColorName:"Orange",colorName:"Apricot Nectar",r:236,g:170,b:121},{pantoneId:416,name:"14-1135 TCX",majorColorName:"Orange",colorName:"Salmon Buff",r:254,g:170,b:123},{pantoneId:417,name:"14-1139 TCX",majorColorName:"Orange",colorName:"Pumpkin",r:245,g:162,b:111},{pantoneId:418,name:"14-1159 TCX",majorColorName:"Orange",colorName:"Zinnia",r:255,g:160,b:16},{pantoneId:419,name:"14-1209 TCX",majorColorName:"Orange",colorName:"Smoke Gray",r:206,g:186,b:168},{pantoneId:420,name:"14-1210 TCX",majorColorName:"Orange",colorName:"Shifting Sand",r:216,g:192,b:173},{pantoneId:421,name:"14-1212 TCX",majorColorName:"Orange",colorName:"Frappe",r:209,g:183,b:160},{pantoneId:422,name:"14-1213 TCX",majorColorName:"Orange",colorName:"Toasted Almond",r:210,g:180,b:156},{pantoneId:423,name:"14-1217 TCX",majorColorName:"Orange",colorName:"Amberlight",r:226,g:190,b:162},{pantoneId:424,name:"14-1219 TCX",majorColorName:"Orange",colorName:"Peach Parfait",r:248,g:191,b:168},{pantoneId:425,name:"14-1220 TCX",majorColorName:"Orange",colorName:"Peach Nougat",r:230,g:175,b:145},{pantoneId:426,name:"14-1224 TCX",majorColorName:"Orange",colorName:"Coral Sands",r:237,g:170,b:134},{pantoneId:427,name:"14-1225 TCX",majorColorName:"Orange",colorName:"Beach Sand",r:251,g:185,b:149},{pantoneId:428,name:"14-1227 TCX",majorColorName:"Orange",colorName:"Peach",r:242,g:169,b:135},{pantoneId:429,name:"14-1228 TCX",majorColorName:"Orange",colorName:"Peach Nectar",r:255,g:181,b:155},{pantoneId:430,name:"14-1230 TCX",majorColorName:"Orange",colorName:"Apricot Wash",r:251,g:172,b:130},{pantoneId:431,name:"14-1231 TCX",majorColorName:"Orange",colorName:"Peach Cobbler",r:255,g:177,b:129},{pantoneId:432,name:"14-1305 TCX",majorColorName:"White",colorName:"Mushroom",r:189,g:172,b:163},{pantoneId:433,name:"14-1307 TCX",majorColorName:"Orange",colorName:"Rose Dust",r:205,g:178,b:165},{pantoneId:434,name:"14-1309 TCX",majorColorName:"Orange",colorName:"Peach Whip",r:219,g:190,b:183},{pantoneId:435,name:"14-1310 TCX",majorColorName:"Orange",colorName:"Cameo Rose",r:215,g:184,b:171},{pantoneId:436,name:"14-1311 TCX",majorColorName:"Orange",colorName:"Evening Sand",r:221,g:182,b:171},{pantoneId:437,name:"14-1312 TCX",majorColorName:"Orange",colorName:"Pale Blush",r:228,g:191,b:179},{pantoneId:438,name:"14-1313 TCX",majorColorName:"Orange",colorName:"Rose Cloud",r:219,g:176,b:162},{pantoneId:439,name:"14-1314 TCX",majorColorName:"Orange",colorName:"Spanish Villa",r:223,g:186,b:169},{pantoneId:440,name:"14-1316 TCX",majorColorName:"Orange",colorName:"Dusty Pink",r:222,g:170,b:155},{pantoneId:441,name:"14-1318 TCX",majorColorName:"Orange",colorName:"Coral Pink",r:232,g:167,b:152},{pantoneId:442,name:"14-1323 TCX",majorColorName:"Orange",colorName:"Salmon",r:250,g:170,b:148},{pantoneId:443,name:"14-1324 TCX",majorColorName:"Pink",colorName:"Peach Bud",r:253,g:178,b:168},{pantoneId:444,name:"14-1418 TCX",majorColorName:"Orange",colorName:"Peach Melba",r:251,g:189,b:175},{pantoneId:445,name:"14-1419 TCX",majorColorName:"Pink",colorName:"Peach Pearl",r:255,g:178,b:165},{pantoneId:446,name:"14-1420 TCX",majorColorName:"Pink",colorName:"Apricot Blush",r:254,g:174,b:165},{pantoneId:447,name:"14-1506 TCX",majorColorName:"Orange",colorName:"Rose Smoke",r:211,g:180,b:173},{pantoneId:448,name:"14-1508 TCX",majorColorName:"Pink",colorName:"Silver Pink",r:220,g:177,b:175},{pantoneId:449,name:"14-1511 TCX",majorColorName:"Pink",colorName:"Powder Pink",r:236,g:178,b:179},{pantoneId:450,name:"14-1513 TCX",majorColorName:"Pink",colorName:"Blossom",r:242,g:178,b:174},{pantoneId:451,name:"14-1521 TCX",majorColorName:"Pink",colorName:"Peaches N' Cream",r:244,g:166,b:163},{pantoneId:452,name:"14-1714 TCX",majorColorName:"Pink",colorName:"Quartz Pink",r:239,g:166,b:170},{pantoneId:453,name:"14-1905 TCX",majorColorName:"Pink",colorName:"Lotus",r:226,g:193,b:192},{pantoneId:454,name:"14-1907 TCX",majorColorName:"Pink",colorName:"Peachskin",r:223,g:184,b:182},{pantoneId:455,name:"14-1909 TCX",majorColorName:"Pink",colorName:"Coral Blush",r:230,g:178,b:184},{pantoneId:456,name:"14-1911 TCX",majorColorName:"Pink",colorName:"Candy Pink",r:245,g:176,b:189},{pantoneId:457,name:"14-2305 TCX",majorColorName:"Pink",colorName:"Pink Nectar",r:216,g:170,b:183},{pantoneId:458,name:"14-2307 TCX",majorColorName:"Pink",colorName:"Cameo Pink",r:219,g:169,b:184},{pantoneId:459,name:"14-2311 TCX",majorColorName:"Pink",colorName:"Prism Pink",r:240,g:161,b:191},{pantoneId:460,name:"14-2710 TCX",majorColorName:"Pink",colorName:"Lilac Sachet",r:233,g:173,b:202},{pantoneId:461,name:"14-2808 TCX",majorColorName:"Pink",colorName:"Sweet Lilac",r:232,g:181,b:206},{pantoneId:462,name:"14-3204 TCX",majorColorName:"Pink",colorName:"Fragrant Lilac",r:206,g:173,b:190},{pantoneId:463,name:"14-3206 TCX",majorColorName:"White",colorName:"Winsome Orchid",r:212,g:185,b:203},{pantoneId:464,name:"14-3207 TCX",majorColorName:"Pink",colorName:"Pink Lavender",r:217,g:175,b:202},{pantoneId:465,name:"14-3209 TCX",majorColorName:"Pink",colorName:"Pastel Lavender",r:216,g:161,b:196},{pantoneId:466,name:"14-3612 TCX",majorColorName:"Light-Purple",colorName:"Orchid Bloom",r:197,g:174,b:207},{pantoneId:467,name:"14-3710 TCX",majorColorName:"White",colorName:"Orchid Petal",r:191,g:180,b:203},{pantoneId:468,name:"14-3803 TCX",majorColorName:"White",colorName:"Hushed Violet",r:209,g:192,b:191},{pantoneId:469,name:"14-3805 TCX",majorColorName:"White",colorName:"Iris",r:186,g:175,b:188},{pantoneId:470,name:"14-3812 TCX",majorColorName:"Light-Purple",colorName:"Pastel Lilac",r:189,g:176,b:208},{pantoneId:471,name:"14-3903 TCX",majorColorName:"White",colorName:"Lilac Marble",r:195,g:186,b:191},{pantoneId:472,name:"14-3904 TCX",majorColorName:"White",colorName:"Evening Haze",r:189,g:184,b:199},{pantoneId:473,name:"14-3905 TCX",majorColorName:"White",colorName:"Lavender Blue",r:197,g:192,b:208},{pantoneId:474,name:"14-3907 TCX",majorColorName:"White",colorName:"Thistle",r:185,g:179,b:197},{pantoneId:475,name:"14-3911 TCX",majorColorName:"White",colorName:"Purple Heather",r:186,g:184,b:211},{pantoneId:476,name:"14-4002 TCX",majorColorName:"White",colorName:"Wind Chime",r:202,g:197,b:194},{pantoneId:477,name:"14-4102 TCX",majorColorName:"White",colorName:"Glacier Gray",r:197,g:198,b:199},{pantoneId:478,name:"14-4103 TCX",majorColorName:"White",colorName:"Gray Violet",r:187,g:188,b:188},{pantoneId:479,name:"14-4106 TCX",majorColorName:"White",colorName:"Gray Dawn",r:187,g:193,b:204},{pantoneId:480,name:"14-4110 TCX",majorColorName:"White",colorName:"Heather",r:183,g:192,b:214},{pantoneId:481,name:"14-4112 TCX",majorColorName:"Blue",colorName:"Skyway",r:173,g:190,b:211},{pantoneId:482,name:"14-4115 TCX",majorColorName:"Blue",colorName:"Cashmere Blue",r:165,g:184,b:208},{pantoneId:483,name:"14-4121 TCX",majorColorName:"Blue",colorName:"Blue Bell",r:147,g:180,b:215},{pantoneId:484,name:"14-4201 TCX",majorColorName:"White",colorName:"Lunar Rock",r:197,g:197,b:197},{pantoneId:485,name:"14-4203 TCX",majorColorName:"White",colorName:"Vapor Blue",r:190,g:189,b:189},{pantoneId:486,name:"14-4206 TCX",majorColorName:"White",colorName:"Pearl Blue",r:176,g:183,b:190},{pantoneId:487,name:"14-4210 TCX",majorColorName:"Blue",colorName:"Celestial Blue",r:163,g:180,b:196},{pantoneId:488,name:"14-4214 TCX",majorColorName:"Blue",colorName:"Powder Blue",r:150,g:179,b:210},{pantoneId:489,name:"14-4306 TCX",majorColorName:"White",colorName:"Cloud Blue",r:162,g:182,b:185},{pantoneId:490,name:"14-4307 TCX",majorColorName:"Blue",colorName:"Winter Sky",r:169,g:192,b:203},{pantoneId:491,name:"14-4313 TCX",majorColorName:"Blue",colorName:"Aquamarine",r:157,g:195,b:212},{pantoneId:492,name:"14-4318 TCX",majorColorName:"Blue",colorName:"Sky Blue",r:138,g:186,b:211},{pantoneId:493,name:"14-4500 TCX",majorColorName:"White",colorName:"Moonstruck",r:194,g:190,b:182},{pantoneId:494,name:"14-4501 TCX",majorColorName:"White",colorName:"Silver Lining",r:189,g:182,b:171},{pantoneId:495,name:"14-4502 TCX",majorColorName:"White",colorName:"Mercury",r:186,g:194,b:186},{pantoneId:496,name:"14-4503 TCX",majorColorName:"White",colorName:"Metal",r:186,g:191,b:188},{pantoneId:497,name:"14-4504 TCX",majorColorName:"White",colorName:"Sky Gray",r:188,g:200,b:198},{pantoneId:498,name:"14-4505 TCX",majorColorName:"White",colorName:"Smoke",r:191,g:200,b:195},{pantoneId:499,name:"14-4506 TCX",majorColorName:"White",colorName:"Ether",r:158,g:182,b:184},{pantoneId:500,name:"14-4508 TCX",majorColorName:"Blue",colorName:"Stratosphere",r:158,g:193,b:204},{pantoneId:501,name:"14-4510 TCX",majorColorName:"Blue",colorName:"Aquatic",r:153,g:193,b:204},{pantoneId:502,name:"14-4512 TCX",majorColorName:"Blue",colorName:"Porcelain Blue",r:149,g:192,b:203},{pantoneId:503,name:"14-4516 TCX",majorColorName:"Blue",colorName:"Petit four",r:135,g:194,b:212},{pantoneId:504,name:"14-4522 TCX",majorColorName:"Blue",colorName:"Bachelor Button",r:74,g:187,b:213},{pantoneId:505,name:"14-4804 TCX",majorColorName:"White",colorName:"Blue Fox",r:185,g:188,b:182},{pantoneId:506,name:"14-4807 TCX",majorColorName:"White",colorName:"Surf Spray",r:180,g:200,b:194},{pantoneId:507,name:"14-4809 TCX",majorColorName:"Blue-Green",colorName:"Eggshell Blue",r:163,g:204,b:201},{pantoneId:508,name:"14-4810 TCX",majorColorName:"Blue",colorName:"Canal Blue",r:156,g:194,b:197},{pantoneId:509,name:"14-4811 TCX",majorColorName:"Blue-green",colorName:"Aqua Sky",r:123,g:196,b:196},{pantoneId:510,name:"14-4814 TCX",majorColorName:"Blue",colorName:"Angel Blue",r:131,g:197,b:205},{pantoneId:511,name:"14-4816 TCX",majorColorName:"Blue",colorName:"Blue Radiance",r:88,g:201,b:212},{pantoneId:512,name:"14-4908 TCX",majorColorName:"White",colorName:"Harbor Gray",r:168,g:192,b:187},{pantoneId:513,name:"14-5002 TCX",majorColorName:"Gray",colorName:"Silver",r:162,g:162,b:161},{pantoneId:514,name:"14-5413 TCX",majorColorName:"Blue-Green",colorName:"Holiday",r:129,g:195,b:180},{pantoneId:515,name:"14-5416 TCX",majorColorName:"Blue-Green",colorName:"Bermuda",r:96,g:201,b:179},{pantoneId:516,name:"14-5420 TCX",majorColorName:"Blue-Green",colorName:"Cockatoo",r:88,g:200,b:182},{pantoneId:517,name:"14-5706 TCX",majorColorName:"White",colorName:"Silt Green",r:169,g:189,b:177},{pantoneId:518,name:"14-5707 TCX",majorColorName:"White",colorName:"Aqua Foam",r:173,g:195,b:180},{pantoneId:519,name:"14-5711 TCX",majorColorName:"Blue-Green",colorName:"Ocean Wave",r:142,g:197,b:182},{pantoneId:520,name:"14-5713 TCX",majorColorName:"Blue-Green",colorName:"Cascade",r:118,g:193,b:178},{pantoneId:521,name:"14-5714 TCX",majorColorName:"Blue-Green",colorName:"Beveled Glass",r:122,g:204,b:184},{pantoneId:522,name:"14-5718 TCX",majorColorName:"Blue-Green",colorName:"Opal",r:119,g:207,b:183},{pantoneId:523,name:"14-5721 TCX",majorColorName:"Blue-Green",colorName:"Electric Green",r:75,g:195,b:168},{pantoneId:524,name:"14-6007 TCX",majorColorName:"White",colorName:"Sea Foam",r:183,g:194,b:178},{pantoneId:525,name:"14-6008 TCX",majorColorName:"White",colorName:"Subtle Green",r:181,g:203,b:187},{pantoneId:526,name:"14-6011 TCX",majorColorName:"Green",colorName:"Grayed Jade",r:155,g:190,b:169},{pantoneId:527,name:"14-6017 TCX",majorColorName:"Blue-Green",colorName:"Neptune Green",r:127,g:187,b:158},{pantoneId:528,name:"14-6305 TCX",majorColorName:"White",colorName:"Pelican",r:193,g:188,b:172},{pantoneId:529,name:"14-6308 TCX",majorColorName:"White",colorName:"Alfalfa",r:183,g:181,b:159},{pantoneId:530,name:"14-6312 TCX",majorColorName:"White",colorName:"Cameo Green",r:170,g:192,b:173},{pantoneId:531,name:"14-6316 TCX",majorColorName:"Green",colorName:"Sprucestone",r:159,g:192,b:156},{pantoneId:532,name:"14-6319 TCX",majorColorName:"Green",colorName:"Meadow",r:139,g:186,b:148},{pantoneId:533,name:"14-6324 TCX",majorColorName:"Green",colorName:"Peapod",r:130,g:177,b:133},{pantoneId:534,name:"14-6327 TCX",majorColorName:"Green",colorName:"Zephyr Green",r:124,g:176,b:131},{pantoneId:535,name:"14-6329 TCX",majorColorName:"Green",colorName:"Absinthe Green",r:118,g:181,b:131},{pantoneId:536,name:"14-6330 TCX",majorColorName:"Green",colorName:"Spring Bud",r:107,g:205,b:156},{pantoneId:537,name:"14-6340 TCX",majorColorName:"Green",colorName:"Spring Bouquet",r:109,g:206,b:135},{pantoneId:538,name:"14-6408 TCX",majorColorName:"White",colorName:"Abbey Stone",r:171,g:167,b:152},{pantoneId:539,name:"15-0000 TCX",majorColorName:"White",colorName:"Dove",r:179,g:173,b:167},{pantoneId:540,name:"15-0146 TCX",majorColorName:"Green",colorName:"Green Flash",r:121,g:199,b:83},{pantoneId:541,name:"15-0309 TCX",majorColorName:"Brown",colorName:"Spray Green",r:174,g:166,b:146},{pantoneId:542,name:"15-0318 TCX",majorColorName:"Yellow",colorName:"Sage Green",r:178,g:172,b:136},{pantoneId:543,name:"15-0326 TCX",majorColorName:"Green",colorName:"Tarragon",r:164,g:174,b:119},{pantoneId:544,name:"15-0332 TCX",majorColorName:"Green",colorName:"Leaf Green",r:159,g:175,b:108},{pantoneId:545,name:"15-0336 TCX",majorColorName:"Green",colorName:"Herbal Garden",r:156,g:173,b:96},{pantoneId:546,name:"15-0341 TCX",majorColorName:"Green",colorName:"Parrot Green",r:141,g:176,b:81},{pantoneId:547,name:"15-0343 TCX",majorColorName:"Green",colorName:"Greenery",r:136,g:176,b:75},{pantoneId:548,name:"15-0513 TCX",majorColorName:"Brown",colorName:"Eucalyptus",r:177,g:169,b:146},{pantoneId:549,name:"15-0522 TCX",majorColorName:"Yellow",colorName:"Pale Olive Green",r:181,g:173,b:136},{pantoneId:550,name:"15-0523 TCX",majorColorName:"Green",colorName:"Winter Pear",r:176,g:180,b:135},{pantoneId:551,name:"15-0525 TCX",majorColorName:"Yellow",colorName:"Weeping Willow",r:179,g:177,b:123},{pantoneId:552,name:"15-0531 TCX",majorColorName:"Green",colorName:"Sweet Pea",r:163,g:169,b:105},{pantoneId:553,name:"15-0533 TCX",majorColorName:"Yellow",colorName:"Linden Green",r:196,g:191,b:113},{pantoneId:554,name:"15-0535 TCX",majorColorName:"Yellow",colorName:"Palm",r:175,g:175,b:94},{pantoneId:555,name:"15-0538 TCX",majorColorName:"Yellow",colorName:"Green Oasis",r:176,g:180,b:84},{pantoneId:556,name:"15-0543 TCX",majorColorName:"Yellow",colorName:"Apple Green",r:181,g:182,b:68},{pantoneId:557,name:"15-0545 TCX",majorColorName:"Green",colorName:"Jasmine Green",r:126,g:200,b:69},{pantoneId:558,name:"15-0548 TCX",majorColorName:"Yellow",colorName:"Citronelle",r:184,g:175,b:35},{pantoneId:559,name:"15-0628 TCX",majorColorName:"Yellow",colorName:"Leek Green",r:183,g:177,b:122},{pantoneId:560,name:"15-0636 TCX",majorColorName:"Yellow",colorName:"Golden Green",r:189,g:179,b:105},{pantoneId:561,name:"15-0643 TCX",majorColorName:"Yellow",colorName:"Cress Green",r:188,g:169,b:73},{pantoneId:562,name:"15-0646 TCX",majorColorName:"Yellow",colorName:"Warm Olive",r:199,g:182,b:60},{pantoneId:563,name:"15-0703 TCX",majorColorName:"White",colorName:"Ashes of Roses",r:181,g:172,b:171},{pantoneId:564,name:"15-0719 TCX",majorColorName:"Brown",colorName:"Silver Fern",r:187,g:170,b:126},{pantoneId:565,name:"15-0730 TCX",majorColorName:"Brown",colorName:"Southern Moss",r:188,g:166,b:106},{pantoneId:566,name:"15-0732 TCX",majorColorName:"Orange",colorName:"Olivenite",r:193,g:166,b:92},{pantoneId:567,name:"15-0743 TCX",majorColorName:"Yellow",colorName:"Oil Yellow",r:196,g:166,b:71},{pantoneId:568,name:"15-0751 TCX",majorColorName:"Yellow",colorName:"Lemon Curry",r:205,g:163,b:35},{pantoneId:569,name:"15-0850 TCX",majorColorName:"Orange",colorName:"Ceylon Yellow",r:212,g:174,b:64},{pantoneId:570,name:"15-0927 TCX",majorColorName:"Brown",colorName:"Pale Gold",r:189,g:152,b:101},{pantoneId:571,name:"15-0942 TCX",majorColorName:"Orange",colorName:"Sauterne",r:197,g:162,b:83},{pantoneId:572,name:"15-0948 TCX",majorColorName:"Orange",colorName:"Golden Spice",r:198,g:151,b:63},{pantoneId:573,name:"15-0953 TCX",majorColorName:"Orange",colorName:"Golden Yellow",r:203,g:142,b:22},{pantoneId:574,name:"15-0955 TCX",majorColorName:"Orange",colorName:"Old Gold",r:236,g:168,b:37},{pantoneId:575,name:"15-1046 TCX",majorColorName:"Orange",colorName:"Mineral Yellow",r:211,g:156,b:67},{pantoneId:576,name:"15-1049 TCX",majorColorName:"Orange",colorName:"Artisan's Gold",r:242,g:171,b:70},{pantoneId:577,name:"15-1050 TCX",majorColorName:"Orange",colorName:"Golden Glow",r:217,g:153,b:56},{pantoneId:578,name:"15-1054 TCX",majorColorName:"Orange",colorName:"Cadmium Yellow",r:238,g:150,b:38},{pantoneId:579,name:"15-1058 TCX",majorColorName:"Orange",colorName:"Radiant Yellow",r:252,g:158,b:33},{pantoneId:580,name:"15-1062 TCX",majorColorName:"Orange",colorName:"Gold Fusion",r:255,g:176,b:0},{pantoneId:581,name:"15-1116 TCX",majorColorName:"Brown",colorName:"Safari",r:186,g:170,b:145},{pantoneId:582,name:"15-1119 TCX",majorColorName:"Brown",colorName:"Taos Taupe",r:191,g:167,b:127},{pantoneId:583,name:"15-1132 TCX",majorColorName:"Orange",colorName:"Fall Leaf",r:201,g:168,b:106},{pantoneId:584,name:"15-1142 TCX",majorColorName:"Orange",colorName:"Honey Gold",r:209,g:160,b:84},{pantoneId:585,name:"15-1145 TCX",majorColorName:"Orange",colorName:"Chamois",r:247,g:178,b:106},{pantoneId:586,name:"15-1147 TCX",majorColorName:"Orange",colorName:"Butterscotch",r:225,g:150,b:64},{pantoneId:587,name:"15-1150 TCX",majorColorName:"Orange",colorName:"Dark Cheddar",r:224,g:129,b:25},{pantoneId:588,name:"15-1153 TCX",majorColorName:"Orange",colorName:"Apricot",r:241,g:144,b:53},{pantoneId:589,name:"15-1157 TCX",majorColorName:"Orange",colorName:"Flame Orange",r:251,g:139,b:35},{pantoneId:590,name:"15-1160 TCX",majorColorName:"Orange",colorName:"Blazing Orange",r:255,g:166,b:79},{pantoneId:591,name:"15-1164 TCX",majorColorName:"Orange",colorName:"Bright Marigold",r:255,g:141,b:0},{pantoneId:592,name:"15-1213 TCX",majorColorName:"Brown",colorName:"Candied Ginger",r:191,g:163,b:135},{pantoneId:593,name:"15-1214 TCX",majorColorName:"Orange",colorName:"Warm Sand",r:197,g:174,b:145},{pantoneId:594,name:"15-1215 TCX",majorColorName:"Brown",colorName:"Sesame",r:186,g:163,b:139},{pantoneId:595,name:"15-1216 TCX",majorColorName:"Brown",colorName:"Pale Khaki",r:191,g:175,b:146},{pantoneId:596,name:"15-1217 TCX",majorColorName:"Orange",colorName:"Mojave Desert",r:199,g:181,b:149},{pantoneId:597,name:"15-1220 TCX",majorColorName:"Orange",colorName:"Latte",r:197,g:165,b:130},{pantoneId:598,name:"15-1225 TCX",majorColorName:"Orange",colorName:"Sand",r:204,g:166,b:127},{pantoneId:599,name:"15-1231 TCX",majorColorName:"Orange",colorName:"Clay",r:210,g:161,b:114},{pantoneId:600,name:"15-1234 TCX",majorColorName:"Orange",colorName:"Gold Earth",r:221,g:156,b:107},{pantoneId:601,name:"15-1237 TCX",majorColorName:"Orange",colorName:"Apricot Tan",r:221,g:151,b:96},{pantoneId:602,name:"15-1239 TCX",majorColorName:"Orange",colorName:"Cantaloupe",r:255,g:161,b:119},{pantoneId:603,name:"15-1242 TCX",majorColorName:"Orange",colorName:"Muskmelon",r:236,g:147,b:94},{pantoneId:604,name:"15-1245 TCX",majorColorName:"Orange",colorName:"Mock Orange",r:255,g:163,b:104},{pantoneId:605,name:"15-1247 TCX",majorColorName:"Orange",colorName:"Tangerine",r:248,g:143,b:88},{pantoneId:606,name:"15-1263 TCX",majorColorName:"Orange",colorName:"Autumn Glory",r:255,g:136,b:18},{pantoneId:607,name:"15-1305 TCX",majorColorName:"White",colorName:"Feather Gray",r:184,g:173,b:158},{pantoneId:608,name:"15-1306 TCX",majorColorName:"Brown",colorName:"Oxford Tan",r:184,g:169,b:154},{pantoneId:609,name:"15-1308 TCX",majorColorName:"Brown",colorName:"Doeskin",r:189,g:171,b:155},{pantoneId:610,name:"15-1309 TCX",majorColorName:"Orange",colorName:"Moonlight",r:197,g:177,b:160},{pantoneId:611,name:"15-1314 TCX",majorColorName:"Orange",colorName:"Cuban Sand",r:193,g:166,b:141},{pantoneId:612,name:"15-1315 TCX",majorColorName:"Orange",colorName:"Rugby Tan",r:194,g:165,b:148},{pantoneId:613,name:"15-1316 TCX",majorColorName:"Orange",colorName:"Maple Sugar",r:201,g:163,b:141},{pantoneId:614,name:"15-1317 TCX",majorColorName:"Orange",colorName:"Sirocco",r:195,g:157,b:136},{pantoneId:615,name:"15-1318 TCX",majorColorName:"Orange",colorName:"Pink Sand",r:223,g:177,b:155},{pantoneId:616,name:"15-1319 TCX",majorColorName:"Orange",colorName:"Almost Apricot",r:229,g:179,b:155},{pantoneId:617,name:"15-1322 TCX",majorColorName:"Orange",colorName:"Dusty Coral",r:210,g:155,b:131},{pantoneId:618,name:"15-1327 TCX",majorColorName:"Orange",colorName:"Peach Bloom",r:217,g:155,b:124},{pantoneId:619,name:"15-1331 TCX",majorColorName:"Orange",colorName:"Coral Reef",r:250,g:161,b:129},{pantoneId:620,name:"15-1333 TCX",majorColorName:"Orange",colorName:"Canyon Sunset",r:225,g:146,b:122},{pantoneId:621,name:"15-1334 TCX",majorColorName:"Orange",colorName:"Shell Coral",r:234,g:149,b:117},{pantoneId:622,name:"15-1340 TCX",majorColorName:"Orange",colorName:"Cadmium Orange",r:249,g:148,b:113},{pantoneId:623,name:"15-1415 TCX",majorColorName:"Pink",colorName:"Coral Cloud",r:226,g:169,b:161},{pantoneId:624,name:"15-1423 TCX",majorColorName:"Pink",colorName:"Peach Amber",r:251,g:159,b:147},{pantoneId:625,name:"15-1433 TCX",majorColorName:"Orange",colorName:"Papaya Punch",r:252,g:162,b:137},{pantoneId:626,name:"15-1435 TCX",majorColorName:"Pink",colorName:"Desert Flower",r:255,g:150,b:135},{pantoneId:627,name:"15-1511 TCX",majorColorName:"Orange",colorName:"Mahogany Rose",r:197,g:161,b:147},{pantoneId:628,name:"15-1512 TCX",majorColorName:"Orange",colorName:"Misty Rose",r:202,g:163,b:154},{pantoneId:629,name:"15-1515 TCX",majorColorName:"Pink",colorName:"Mellow Rose",r:217,g:166,b:161},{pantoneId:630,name:"15-1516 TCX",majorColorName:"Red",colorName:"Peach Beige",r:211,g:162,b:151},{pantoneId:631,name:"15-1523 TCX",majorColorName:"Orange",colorName:"Shrimp",r:226,g:154,b:134},{pantoneId:632,name:"15-1530 TCX",majorColorName:"Pink",colorName:"Peach Pink",r:250,g:154,b:133},{pantoneId:633,name:"15-1607 TCX",majorColorName:"Pink",colorName:"Pale Mauve",r:198,g:164,b:164},{pantoneId:634,name:"15-1611 TCX",majorColorName:"Pink",colorName:"Bridal Rose",r:214,g:159,b:162},{pantoneId:635,name:"15-1614 TCX",majorColorName:"Pink",colorName:"Blush",r:209,g:150,b:154},{pantoneId:636,name:"15-1621 TCX",majorColorName:"Pink",colorName:"Candlelight Peach",r:248,g:163,b:157},{pantoneId:637,name:"15-1624 TCX",majorColorName:"Pink",colorName:"Conch Shell",r:252,g:143,b:155},{pantoneId:638,name:"15-1626 TCX",majorColorName:"Pink",colorName:"Salmon Rose",r:255,g:141,b:148},{pantoneId:639,name:"15-1717 TCX",majorColorName:"Pink",colorName:"Pink Icing",r:238,g:160,b:166},{pantoneId:640,name:"15-1816 TCX",majorColorName:"Pink",colorName:"Peony",r:237,g:156,b:168},{pantoneId:641,name:"15-1821 TCX",majorColorName:"Pink",colorName:"Flamingo Pink",r:247,g:150,b:158},{pantoneId:642,name:"15-1905 TCX",majorColorName:"White",colorName:"Burnished Lilac",r:197,g:174,b:177},{pantoneId:643,name:"15-1906 TCX",majorColorName:"Pink",colorName:"Zephyr",r:200,g:159,b:165},{pantoneId:644,name:"15-1912 TCX",majorColorName:"Pink",colorName:"Sea Pink",r:222,g:152,b:171},{pantoneId:645,name:"15-1920 TCX",majorColorName:"Pink",colorName:"Morning Glory",r:238,g:129,b:159},{pantoneId:646,name:"15-1922 TCX",majorColorName:"Pink",colorName:"Geranium Pink",r:246,g:144,b:157},{pantoneId:647,name:"15-2205 TCX",majorColorName:"White",colorName:"Dawn Pink",r:191,g:163,b:175},{pantoneId:648,name:"15-2210 TCX",majorColorName:"Pink",colorName:"Orchid Smoke",r:210,g:148,b:170},{pantoneId:649,name:"15-2214 TCX",majorColorName:"Pink",colorName:"Rosebloom",r:226,g:144,b:178},{pantoneId:650,name:"15-2215 TCX",majorColorName:"Pink",colorName:"Begonia Pink",r:236,g:154,b:190},{pantoneId:651,name:"15-2216 TCX",majorColorName:"Pink",colorName:"Sachet Pink",r:241,g:138,b:173},{pantoneId:652,name:"15-2217 TCX",majorColorName:"Pink",colorName:"Aurora Pink",r:232,g:129,b:166},{pantoneId:653,name:"15-2705 TCX",majorColorName:"White",colorName:"Keepsake Lilac",r:192,g:165,b:174},{pantoneId:654,name:"15-2706 TCX",majorColorName:"White",colorName:"Violet Ice",r:194,g:172,b:177},{pantoneId:655,name:"15-2718 TCX",majorColorName:"Pink",colorName:"Fuchsia Pink",r:223,g:136,b:183},{pantoneId:656,name:"15-2913 TCX",majorColorName:"Pink",colorName:"Lilac Chiffon",r:222,g:155,b:196},{pantoneId:657,name:"15-3207 TCX",majorColorName:"Pink",colorName:"Mauve Mist",r:196,g:157,b:180},{pantoneId:658,name:"15-3214 TCX",majorColorName:"Pink",colorName:"Orchid",r:209,g:152,b:197},{pantoneId:659,name:"15-3412 TCX",majorColorName:"Light-Purple",colorName:"Orchid Bouquet",r:209,g:172,b:206},{pantoneId:660,name:"15-3507 TCX",majorColorName:"White",colorName:"Lavender Frost",r:189,g:171,b:190},{pantoneId:661,name:"15-3508 TCX",majorColorName:"White",colorName:"Fair Orchid",r:192,g:170,b:192},{pantoneId:662,name:"15-3620 TCX",majorColorName:"Light-Purple",colorName:"Lavendula",r:188,g:164,b:203},{pantoneId:663,name:"15-3802 TCX",majorColorName:"White",colorName:"Cloud Gray",r:183,g:169,b:172},{pantoneId:664,name:"15-3807 TCX",majorColorName:"White",colorName:"Misty Lilac",r:188,g:180,b:196},{pantoneId:665,name:"15-3817 TCX",majorColorName:"Light-Purple",colorName:"Lavender",r:175,g:164,b:206},{pantoneId:666,name:"15-3909 TCX",majorColorName:"White",colorName:"Cosmic Sky",r:170,g:170,b:196},{pantoneId:667,name:"15-3910 TCX",majorColorName:"White",colorName:"Languid Lavender",r:162,g:161,b:186},{pantoneId:668,name:"15-3915 TCX",majorColorName:"Blue",colorName:"Kentucky Blue",r:165,g:179,b:204},{pantoneId:669,name:"15-3920 TCX",majorColorName:"Blue",colorName:"Placid Blue",r:140,g:173,b:211},{pantoneId:670,name:"15-3930 TCX",majorColorName:"Blue",colorName:"Vista Blue",r:129,g:160,b:212},{pantoneId:671,name:"15-4003 TCX",majorColorName:"White",colorName:"Storm Gray",r:181,g:186,b:182},{pantoneId:672,name:"15-4005 TCX",majorColorName:"Blue",colorName:"Dream Blue",r:160,g:188,b:208},{pantoneId:673,name:"15-4008 TCX",majorColorName:"Blue",colorName:"Blue Fog",r:155,g:171,b:187},{pantoneId:674,name:"15-4020 TCX",majorColorName:"Blue",colorName:"Cerulean",r:155,g:183,b:212},{pantoneId:675,name:"15-4101 TCX",majorColorName:"White",colorName:"High-rise",r:174,g:178,b:181},{pantoneId:676,name:"15-4105 TCX",majorColorName:"Blue",colorName:"Angel Falls",r:163,g:189,b:211},{pantoneId:677,name:"15-4225 TCX",majorColorName:"Blue",colorName:"Alaskan Blue",r:109,g:169,b:210},{pantoneId:678,name:"15-4305 TCX",majorColorName:"Gray",colorName:"Quarry",r:152,g:160,b:165},{pantoneId:679,name:"15-4309 TCX",majorColorName:"Blue",colorName:"Sterling Blue",r:162,g:185,b:194},{pantoneId:680,name:"15-4312 TCX",majorColorName:"Blue",colorName:"Forget-Me-Not",r:143,g:173,b:189},{pantoneId:681,name:"15-4319 TCX",majorColorName:"Blue",colorName:"Air Blue",r:119,g:172,b:199},{pantoneId:682,name:"15-4323 TCX",majorColorName:"Blue",colorName:"Ethereal Blue",r:92,g:166,b:206},{pantoneId:683,name:"15-4415 TCX",majorColorName:"Blue",colorName:"Milky Blue",r:114,g:168,b:186},{pantoneId:684,name:"15-4421 TCX",majorColorName:"Blue",colorName:"Blue Grotto",r:92,g:172,b:206},{pantoneId:685,name:"15-4427 TCX",majorColorName:"Blue",colorName:"Norse Blue",r:76,g:165,b:199},{pantoneId:686,name:"15-4502 TCX",majorColorName:"White",colorName:"Silver Cloud",r:190,g:183,b:176},{pantoneId:687,name:"15-4503 TCX",majorColorName:"White",colorName:"Chateau Gray",r:187,g:177,b:168},{pantoneId:688,name:"15-4702 TCX",majorColorName:"White",colorName:"Puritan Gray",r:168,g:176,b:174},{pantoneId:689,name:"15-4703 TCX",majorColorName:"White",colorName:"Mirage Gray",r:171,g:175,b:174},{pantoneId:690,name:"15-4704 TCX",majorColorName:"White",colorName:"Pigeon",r:169,g:175,b:170},{pantoneId:691,name:"15-4706 TCX",majorColorName:"White",colorName:"Gray Mist",r:153,g:174,b:174},{pantoneId:692,name:"15-4707 TCX",majorColorName:"White",colorName:"Blue Haze",r:165,g:188,b:187},{pantoneId:693,name:"15-4712 TCX",majorColorName:"Blue",colorName:"Marine Blue",r:118,g:175,b:182},{pantoneId:694,name:"15-4715 TCX",majorColorName:"Blue",colorName:"Aqua Sea",r:107,g:170,b:174},{pantoneId:695,name:"15-4717 TCX",majorColorName:"Blue",colorName:"Aqua",r:100,g:161,b:173},{pantoneId:696,name:"15-4720 TCX",majorColorName:"Blue",colorName:"River Blue",r:56,g:175,b:205},{pantoneId:697,name:"15-4722 TCX",majorColorName:"Blue",colorName:"Capri",r:68,g:187,b:202},{pantoneId:698,name:"15-4825 TCX",majorColorName:"Blue",colorName:"Blue Curacao",r:50,g:190,b:204},{pantoneId:699,name:"15-5205 TCX",majorColorName:"White",colorName:"Aqua Gray",r:165,g:178,b:170},{pantoneId:700,name:"15-5207 TCX",majorColorName:"Blue-green",colorName:"Aquifer",r:137,g:172,b:172},{pantoneId:701,name:"15-5209 TCX",majorColorName:"Blue",colorName:"Aqua Haze",r:135,g:185,b:188},{pantoneId:702,name:"15-5210 TCX",majorColorName:"Blue",colorName:"Nile Blue",r:118,g:167,b:171},{pantoneId:703,name:"15-5217 TCX",majorColorName:"Blue-Green",colorName:"Blue Turquoise",r:83,g:176,b:174},{pantoneId:704,name:"15-5218 TCX",majorColorName:"Blue-Green",colorName:"Pool Blue",r:103,g:188,b:179},{pantoneId:705,name:"15-5416 TCX",majorColorName:"Blue-Green",colorName:"Florida Keys",r:86,g:190,b:171},{pantoneId:706,name:"15-5421 TCX",majorColorName:"Blue-Green",colorName:"Aqua Green",r:0,g:184,b:159},{pantoneId:707,name:"15-5425 TCX",majorColorName:"Blue-Green",colorName:"Atlantis",r:0,g:175,b:159},{pantoneId:708,name:"15-5516 TCX",majorColorName:"Blue-Green",colorName:"Waterfall",r:58,g:176,b:162},{pantoneId:709,name:"15-5519 TCX",majorColorName:"Blue-Green",colorName:"Turquoise",r:69,g:181,b:170},{pantoneId:710,name:"15-5534 TCX",majorColorName:"Blue-Green",colorName:"Bright Green",r:0,g:155,b:92},{pantoneId:711,name:"15-5704 TCX",majorColorName:"White",colorName:"Mineral Gray",r:178,g:182,b:172},{pantoneId:712,name:"15-5706 TCX",majorColorName:"White",colorName:"Frosty Green",r:163,g:181,b:166},{pantoneId:713,name:"15-5711 TCX",majorColorName:"Blue-Green",colorName:"Dusty Jade Green",r:123,g:181,b:163},{pantoneId:714,name:"15-5718 TCX",majorColorName:"Blue-Green",colorName:"Biscay Green",r:85,g:198,b:169},{pantoneId:715,name:"15-5728 TCX",majorColorName:"Blue-Green",colorName:"Mint Leaf",r:0,g:182,b:148},{pantoneId:716,name:"15-5812 TCX",majorColorName:"Blue-Green",colorName:"Lichen",r:155,g:194,b:177},{pantoneId:717,name:"15-5819 TCX",majorColorName:"Blue-Green",colorName:"Spearmint",r:100,g:191,b:164},{pantoneId:718,name:"15-6114 TCX",majorColorName:"Green",colorName:"Hemlock",r:151,g:193,b:161},{pantoneId:719,name:"15-6120 TCX",majorColorName:"Green",colorName:"Ming",r:124,g:176,b:138},{pantoneId:720,name:"15-6123 TCX",majorColorName:"Blue-Green",colorName:"Jade Cream",r:96,g:184,b:146},{pantoneId:721,name:"15-6304 TCX",majorColorName:"White",colorName:"Pussywillow Gray",r:174,g:172,b:161},{pantoneId:722,name:"15-6307 TCX",majorColorName:"White",colorName:"Agate Gray",r:177,g:176,b:159},{pantoneId:723,name:"15-6310 TCX",majorColorName:"White",colorName:"Swamp",r:168,g:177,b:151},{pantoneId:724,name:"15-6313 TCX",majorColorName:"White",colorName:"Laurel Green",r:173,g:187,b:161},{pantoneId:725,name:"15-6315 TCX",majorColorName:"White",colorName:"Smoke Green",r:168,g:187,b:162},{pantoneId:726,name:"15-6316 TCX",majorColorName:"Green",colorName:"Fair Green",r:146,g:175,b:136},{pantoneId:727,name:"15-6317 TCX",majorColorName:"Green",colorName:"Quiet Green",r:158,g:188,b:151},{pantoneId:728,name:"15-6322 TCX",majorColorName:"Green",colorName:"Light Grass Green",r:124,g:182,b:142},{pantoneId:729,name:"15-6340 TCX",majorColorName:"Green",colorName:"Irish Green",r:69,g:190,b:118},{pantoneId:730,name:"15-6410 TCX",majorColorName:"White",colorName:"Moss Gray",r:175,g:171,b:151},{pantoneId:731,name:"15-6414 TCX",majorColorName:"Green",colorName:"Reseda",r:161,g:173,b:146},{pantoneId:732,name:"15-6423 TCX",majorColorName:"Green",colorName:"Forest Shade",r:145,g:172,b:128},{pantoneId:733,name:"15-6428 TCX",majorColorName:"Green",colorName:"Green Tea",r:134,g:169,b:111},{pantoneId:734,name:"15-6432 TCX",majorColorName:"Green",colorName:"Shamrock",r:111,g:162,b:107},{pantoneId:735,name:"15-6437 TCX",majorColorName:"Green",colorName:"Grass Green",r:123,g:179,b:105},{pantoneId:736,name:"15-6442 TCX",majorColorName:"Green",colorName:"Bud Green",r:121,g:180,b:101},{pantoneId:737,name:"16-0000 TCX",majorColorName:"Gray",colorName:"Paloma",r:159,g:156,b:153},{pantoneId:738,name:"16-0110 TCX",majorColorName:"White",colorName:"Desert Sage",r:167,g:174,b:158},{pantoneId:739,name:"16-0123 TCX",majorColorName:"Green",colorName:"Tendril",r:137,g:160,b:107},{pantoneId:740,name:"16-0207 TCX",majorColorName:"Gray",colorName:"London Fog",r:162,g:158,b:146},{pantoneId:741,name:"16-0213 TCX",majorColorName:"Gray",colorName:"Tea",r:153,g:155,b:133},{pantoneId:742,name:"16-0220 TCX",majorColorName:"Green",colorName:"Mistletoe",r:138,g:162,b:130},{pantoneId:743,name:"16-0224 TCX",majorColorName:"Green",colorName:"Green Eyes",r:125,g:149,b:109},{pantoneId:744,name:"16-0228 TCX",majorColorName:"Green",colorName:"Jade Green",r:117,g:148,b:101},{pantoneId:745,name:"16-0230 TCX",majorColorName:"Green",colorName:"Macaw Green",r:155,g:181,b:62},{pantoneId:746,name:"16-0233 TCX",majorColorName:"Green",colorName:"Meadow Green",r:115,g:153,b:87},{pantoneId:747,name:"16-0235 TCX",majorColorName:"Green",colorName:"Kiwi",r:122,g:171,b:85},{pantoneId:748,name:"16-0237 TCX",majorColorName:"Green",colorName:"Foliage",r:117,g:161,b:79},{pantoneId:749,name:"16-0421 TCX",majorColorName:"Green",colorName:"Sage",r:145,g:148,b:110},{pantoneId:750,name:"16-0430 TCX",majorColorName:"Green",colorName:"Fern",r:154,g:160,b:103},{pantoneId:751,name:"16-0435 TCX",majorColorName:"Green",colorName:"Dark Citron",r:160,g:172,b:79},{pantoneId:752,name:"16-0439 TCX",majorColorName:"Green",colorName:"Spinach Green",r:144,g:155,b:76},{pantoneId:753,name:"16-0518 TCX",majorColorName:"Yellow",colorName:"Gray Green",r:164,g:154,b:121},{pantoneId:754,name:"16-0526 TCX",majorColorName:"Yellow",colorName:"Cedar",r:146,g:142,b:100},{pantoneId:755,name:"16-0532 TCX",majorColorName:"Yellow",colorName:"Moss",r:160,g:157,b:89},{pantoneId:756,name:"16-0540 TCX",majorColorName:"Yellow",colorName:"Oasis",r:163,g:160,b:78},{pantoneId:757,name:"16-0613 TCX",majorColorName:"Yellow",colorName:"Elm",r:163,g:159,b:134},{pantoneId:758,name:"16-0632 TCX",majorColorName:"Yellow",colorName:"Willow",r:154,g:139,b:79},{pantoneId:759,name:"16-0639 TCX",majorColorName:"Yellow",colorName:"Golden Olive",r:175,g:152,b:65},{pantoneId:760,name:"16-0713 TCX",majorColorName:"Yellow",colorName:"Slate Green",r:160,g:152,b:124},{pantoneId:761,name:"16-0726 TCX",majorColorName:"Brown",colorName:"Khaki",r:163,g:146,b:100},{pantoneId:762,name:"16-0730 TCX",majorColorName:"Brown",colorName:"Antique Gold",r:181,g:158,b:95},{pantoneId:763,name:"16-0737 TCX",majorColorName:"Yellow",colorName:"Burnished Gold",r:170,g:152,b:85},{pantoneId:764,name:"16-0742 TCX",majorColorName:"Yellow",colorName:"Green Sulphur",r:174,g:142,b:44},{pantoneId:765,name:"16-0806 TCX",majorColorName:"White",colorName:"Goat",r:168,g:154,b:145},{pantoneId:766,name:"16-0836 TCX",majorColorName:"Orange",colorName:"Rich Gold",r:200,g:178,b:115},{pantoneId:767,name:"16-0840 TCX",majorColorName:"Yellow",colorName:"Antique Moss",r:185,g:160,b:35},{pantoneId:768,name:"16-0847 TCX",majorColorName:"Yellow",colorName:"Olive Oil",r:169,g:139,b:45},{pantoneId:769,name:"16-0906 TCX",majorColorName:"Brown",colorName:"Simply Taupe",r:173,g:159,b:147},{pantoneId:770,name:"16-0924 TCX",majorColorName:"Orange",colorName:"Croissant",r:196,g:171,b:134},{pantoneId:771,name:"16-0928 TCX",majorColorName:"Brown",colorName:"Curry",r:190,g:158,b:111},{pantoneId:772,name:"16-0940 TCX",majorColorName:"Orange",colorName:"Taffy",r:195,g:155,b:106},{pantoneId:773,name:"16-0945 TCX",majorColorName:"Orange",colorName:"Tinsel",r:195,g:150,b:77},{pantoneId:774,name:"16-0946 TCX",majorColorName:"Brown",colorName:"Honey",r:186,g:146,b:56},{pantoneId:775,name:"16-0947 TCX",majorColorName:"Orange",colorName:"Bright Gold",r:207,g:159,b:82},{pantoneId:776,name:"16-0948 TCX",majorColorName:"Brown",colorName:"Harvest Gold",r:182,g:138,b:58},{pantoneId:777,name:"16-0950 TCX",majorColorName:"Orange",colorName:"Narcissus",r:195,g:148,b:73},{pantoneId:778,name:"16-0952 TCX",majorColorName:"Orange",colorName:"Nugget Gold",r:200,g:151,b:32},{pantoneId:779,name:"16-0953 TCX",majorColorName:"Orange",colorName:"Tawny Olive",r:196,g:150,b:44},{pantoneId:780,name:"16-0954 TCX",majorColorName:"Brown",colorName:"Arrowwood",r:188,g:141,b:31},{pantoneId:781,name:"16-1010 TCX",majorColorName:"Brown",colorName:"Incense",r:175,g:154,b:126},{pantoneId:782,name:"16-1054 TCX",majorColorName:"Orange",colorName:"Sunflower",r:211,g:146,b:55},{pantoneId:783,name:"16-1105 TCX",majorColorName:"Brown",colorName:"Plaza Taupe",r:174,g:163,b:147},{pantoneId:784,name:"16-1106 TCX",majorColorName:"Brown",colorName:"Tuffet",r:165,g:151,b:136},{pantoneId:785,name:"16-1107 TCX",majorColorName:"Brown",colorName:"Aluminum",r:159,g:149,b:134},{pantoneId:786,name:"16-1108 TCX",majorColorName:"Brown",colorName:"Twill",r:167,g:155,b:130},{pantoneId:787,name:"16-1110 TCX",majorColorName:"Brown",colorName:"Olive Gray",r:166,g:153,b:122},{pantoneId:788,name:"16-1118 TCX",majorColorName:"Brown",colorName:"Sponge",r:164,g:151,b:117},{pantoneId:789,name:"16-1126 TCX",majorColorName:"Brown",colorName:"Antelope",r:177,g:150,b:100},{pantoneId:790,name:"16-1133 TCX",majorColorName:"Brown",colorName:"Mustard Gold",r:176,g:142,b:81},{pantoneId:791,name:"16-1139 TCX",majorColorName:"Orange",colorName:"Amber Gold",r:193,g:149,b:82},{pantoneId:792,name:"16-1140 TCX",majorColorName:"Orange",colorName:"Yam",r:208,g:137,b:63},{pantoneId:793,name:"16-1142 TCX",majorColorName:"Orange",colorName:"Golden Nugget",r:219,g:155,b:89},{pantoneId:794,name:"16-1143 TCX",majorColorName:"Orange",colorName:"Honey Yellow",r:202,g:148,b:86},{pantoneId:795,name:"16-1144 TCX",majorColorName:"Orange",colorName:"Oak Buff",r:207,g:156,b:99},{pantoneId:796,name:"16-1148 TCX",majorColorName:"Orange",colorName:"Nugget",r:207,g:136,b:72},{pantoneId:797,name:"16-1150 TCX",majorColorName:"Orange",colorName:"Topaz",r:208,g:131,b:68},{pantoneId:798,name:"16-1210 TCX",majorColorName:"Brown",colorName:"Light Taupe",r:177,g:157,b:141},{pantoneId:799,name:"16-1212 TCX",majorColorName:"Brown",colorName:"Nomad",r:180,g:159,b:137},{pantoneId:800,name:"16-1219 TCX",majorColorName:"Brown",colorName:"Tuscany",r:190,g:151,b:133},{pantoneId:801,name:"16-1220 TCX",majorColorName:"Orange",colorName:"Cafe Creme",r:199,g:150,b:133},{pantoneId:802,name:"16-1221 TCX",majorColorName:"Brown",colorName:"Roebuck",r:176,g:144,b:128},{pantoneId:803,name:"16-1235 TCX",majorColorName:"Brown",colorName:"Sandstorm",r:189,g:139,b:105},{pantoneId:804,name:"16-1253 TCX",majorColorName:"Orange",colorName:"Orange Ochre",r:220,g:121,b:58},{pantoneId:805,name:"16-1255 TCX",majorColorName:"Orange",colorName:"Russet Orange",r:228,g:113,b:39},{pantoneId:806,name:"16-1257 TCX",majorColorName:"Orange",colorName:"Sun Orange",r:244,g:128,b:55},{pantoneId:807,name:"16-1260 TCX",majorColorName:"Orange",colorName:"Harvest Pumpkin",r:213,g:98,b:49},{pantoneId:808,name:"16-1305 TCX",majorColorName:"White",colorName:"String",r:170,g:159,b:150},{pantoneId:809,name:"16-1310 TCX",majorColorName:"Brown",colorName:"Natural",r:170,g:144,b:125},{pantoneId:810,name:"16-1315 TCX",majorColorName:"Brown",colorName:"Cornstalk",r:169,g:148,b:122},{pantoneId:811,name:"16-1317 TCX",majorColorName:"Brown",colorName:"Brush",r:185,g:153,b:132},{pantoneId:812,name:"16-1318 TCX",majorColorName:"Brown",colorName:"Warm Taupe",r:175,g:148,b:131},{pantoneId:813,name:"16-1320 TCX",majorColorName:"Brown",colorName:"Nougat",r:182,g:152,b:133},{pantoneId:814,name:"16-1323 TCX",majorColorName:"Brown",colorName:"Macaroon",r:179,g:139,b:113},{pantoneId:815,name:"16-1324 TCX",majorColorName:"Brown",colorName:"Lark",r:184,g:155,b:114},{pantoneId:816,name:"16-1325 TCX",majorColorName:"Orange",colorName:"Copper",r:196,g:126,b:90},{pantoneId:817,name:"16-1326 TCX",majorColorName:"Brown",colorName:"Prairie Sand",r:181,g:154,b:106},{pantoneId:818,name:"16-1327 TCX",majorColorName:"Orange",colorName:"Toasted Nut",r:192,g:135,b:104},{pantoneId:819,name:"16-1328 TCX",majorColorName:"Orange",colorName:"Sandstone",r:196,g:138,b:105},{pantoneId:820,name:"16-1329 TCX",majorColorName:"Pink",colorName:"Coral Haze",r:227,g:142,b:132},{pantoneId:821,name:"16-1330 TCX",majorColorName:"Orange",colorName:"Muted Clay",r:210,g:147,b:128},{pantoneId:822,name:"16-1331 TCX",majorColorName:"Orange",colorName:"Toast",r:202,g:153,b:120},{pantoneId:823,name:"16-1332 TCX",majorColorName:"Orange",colorName:"Pheasant",r:198,g:132,b:99},{pantoneId:824,name:"16-1333 TCX",majorColorName:"Brown",colorName:"Doe",r:185,g:142,b:104},{pantoneId:825,name:"16-1334 TCX",majorColorName:"Brown",colorName:"Tan",r:182,g:149,b:116},{pantoneId:826,name:"16-1336 TCX",majorColorName:"Brown",colorName:"Biscuit",r:180,g:131,b:91},{pantoneId:827,name:"16-1337 TCX",majorColorName:"Orange",colorName:"Coral Gold",r:210,g:125,b:86},{pantoneId:828,name:"16-1338 TCX",majorColorName:"Orange",colorName:"Copper Tan",r:222,g:142,b:101},{pantoneId:829,name:"16-1340 TCX",majorColorName:"Orange",colorName:"Brandied Melon",r:206,g:123,b:91},{pantoneId:830,name:"16-1341 TCX",majorColorName:"Orange",colorName:"Butterum",r:198,g:143,b:101},{pantoneId:831,name:"16-1342 TCX",majorColorName:"Orange",colorName:"Buckskin",r:209,g:142,b:84},{pantoneId:832,name:"16-1343 TCX",majorColorName:"Orange",colorName:"Autumn Sunset",r:243,g:133,b:84},{pantoneId:833,name:"16-1344 TCX",majorColorName:"Orange",colorName:"Dusty Orange",r:226,g:122,b:83},{pantoneId:834,name:"16-1346 TCX",majorColorName:"Orange",colorName:"Golden Ochre",r:199,g:121,b:67},{pantoneId:835,name:"16-1349 TCX",majorColorName:"Orange",colorName:"Coral Rose",r:243,g:119,b:77},{pantoneId:836,name:"16-1350 TCX",majorColorName:"Orange",colorName:"Amberglow",r:220,g:121,b:62},{pantoneId:837,name:"16-1356 TCX",majorColorName:"Orange",colorName:"Persimmon Orange",r:244,g:115,b:39},{pantoneId:838,name:"16-1357 TCX",majorColorName:"Orange",colorName:"Bird of Paradise",r:255,g:140,b:85},{pantoneId:839,name:"16-1359 TCX",majorColorName:"Orange",colorName:"Orange Peel",r:250,g:122,b:53},{pantoneId:840,name:"16-1360 TCX",majorColorName:"Orange",colorName:"Nectarine",r:255,g:134,b:86},{pantoneId:841,name:"16-1361 TCX",majorColorName:"Orange",colorName:"Carrot",r:253,g:111,b:59},{pantoneId:842,name:"16-1362 TCX",majorColorName:"Orange",colorName:"Vermillion Orange",r:249,g:99,b:59},{pantoneId:843,name:"16-1364 TCX",majorColorName:"Orange",colorName:"Vibrant Orange",r:255,g:116,b:32},{pantoneId:844,name:"16-1406 TCX",majorColorName:"White",colorName:"Atmosphere",r:168,g:156,b:148},{pantoneId:845,name:"16-1407 TCX",majorColorName:"Brown",colorName:"Cobblestone",r:168,g:154,b:142},{pantoneId:846,name:"16-1412 TCX",majorColorName:"Brown",colorName:"Stucco",r:165,g:141,b:127},{pantoneId:847,name:"16-1414 TCX",majorColorName:"Brown",colorName:"Chanterelle",r:162,g:135,b:118},{pantoneId:848,name:"16-1415 TCX",majorColorName:"Brown",colorName:"Almondine",r:167,g:140,b:123},{pantoneId:849,name:"16-1422 TCX",majorColorName:"Brown",colorName:"Cork",r:186,g:134,b:113},{pantoneId:850,name:"16-1429 TCX",majorColorName:"Brown",colorName:"Sunburn",r:179,g:114,b:86},{pantoneId:851,name:"16-1431 TCX",majorColorName:"Pink",colorName:"Canyon Clay",r:206,g:132,b:119},{pantoneId:852,name:"16-1432 TCX",majorColorName:"Brown",colorName:"Almond",r:167,g:117,b:77},{pantoneId:853,name:"16-1434 TCX",majorColorName:"Pink",colorName:"Coral Almond",r:226,g:157,b:148},{pantoneId:854,name:"16-1435 TCX",majorColorName:"Orange",colorName:"Carnelian",r:206,g:120,b:93},{pantoneId:855,name:"16-1439 TCX",majorColorName:"Orange",colorName:"Caramel",r:195,g:124,b:84},{pantoneId:856,name:"16-1440 TCX",majorColorName:"Orange",colorName:"Langoustino",r:202,g:108,b:86},{pantoneId:857,name:"16-1441 TCX",majorColorName:"Orange",colorName:"Arabesque",r:209,g:111,b:82},{pantoneId:858,name:"16-1442 TCX",majorColorName:"Orange",colorName:"Melon",r:254,g:136,b:99},{pantoneId:859,name:"16-1443 TCX",majorColorName:"Orange",colorName:"Apricot Buff",r:205,g:126,b:77},{pantoneId:860,name:"16-1448 TCX",majorColorName:"Orange",colorName:"Burnt Orange",r:200,g:103,b:51},{pantoneId:861,name:"16-1450 TCX",majorColorName:"Orange",colorName:"Flamingo",r:223,g:114,b:83},{pantoneId:862,name:"16-1451 TCX",majorColorName:"Red",colorName:"Nasturtium",r:254,g:99,b:71},{pantoneId:863,name:"16-1452 TCX",majorColorName:"Orange",colorName:"Firecracker",r:243,g:105,b:68},{pantoneId:864,name:"16-1454 TCX",majorColorName:"Orange",colorName:"Jaffa Orange",r:216,g:109,b:57},{pantoneId:865,name:"16-1459 TCX",majorColorName:"Orange",colorName:"Mandarin Orange",r:236,g:106,b:55},{pantoneId:866,name:"16-1462 TCX",majorColorName:"Orange",colorName:"Golden Poppy",r:245,g:103,b:51},{pantoneId:867,name:"16-1506 TCX",majorColorName:"White",colorName:"Bark",r:169,g:149,b:146},{pantoneId:868,name:"16-1508 TCX",majorColorName:"Pink",colorName:"Adobe Rose",r:186,g:159,b:153},{pantoneId:869,name:"16-1509 TCX",majorColorName:"White",colorName:"Shadow Gray",r:187,g:165,b:160},{pantoneId:870,name:"16-1510 TCX",majorColorName:"Pink",colorName:"Fawn",r:174,g:148,b:144},{pantoneId:871,name:"16-1511 TCX",majorColorName:"Pink",colorName:"Rose Tan",r:209,g:156,b:151},{pantoneId:872,name:"16-1516 TCX",majorColorName:"Pink",colorName:"Cameo Brown",r:192,g:138,b:128},{pantoneId:873,name:"16-1518 TCX",majorColorName:"Pink",colorName:"Rosette",r:206,g:142,b:139},{pantoneId:874,name:"16-1520 TCX",majorColorName:"Pink",colorName:"Lobster Bisque",r:221,g:146,b:137},{pantoneId:875,name:"16-1522 TCX",majorColorName:"Pink",colorName:"Rose Dawn",r:194,g:135,b:123},{pantoneId:876,name:"16-1526 TCX",majorColorName:"Pink",colorName:"Terra Cotta",r:211,g:131,b:119},{pantoneId:877,name:"16-1529 TCX",majorColorName:"Pink",colorName:"Burnt Coral",r:233,g:137,b:126},{pantoneId:878,name:"16-1532 TCX",majorColorName:"Pink",colorName:"Crabapple",r:215,g:126,b:112},{pantoneId:879,name:"16-1539 TCX",majorColorName:"Pink",colorName:"Coral",r:237,g:116,b:100},{pantoneId:880,name:"16-1541 TCX",majorColorName:"Pink",colorName:"Camellia",r:246,g:116,b:95},{pantoneId:881,name:"16-1542 TCX",majorColorName:"Pink",colorName:"Fresh Salmon",r:255,g:127,b:106},{pantoneId:882,name:"16-1543 TCX",majorColorName:"Pink",colorName:"Fusion Coral",r:255,g:133,b:118},{pantoneId:883,name:"16-1544 TCX",majorColorName:"Pink",colorName:"Persimmon",r:246,g:120,b:102},{pantoneId:884,name:"16-1546 TCX",majorColorName:"Pink",colorName:"Living Coral",r:255,g:111,b:97},{pantoneId:885,name:"16-1610 TCX",majorColorName:"Pink",colorName:"Brandied Apricot",r:202,g:132,b:138},{pantoneId:886,name:"16-1617 TCX",majorColorName:"Pink",colorName:"Mauveglow",r:209,g:132,b:137},{pantoneId:887,name:"16-1620 TCX",majorColorName:"Pink",colorName:"Tea Rose",r:220,g:113,b:120},{pantoneId:888,name:"16-1624 TCX",majorColorName:"Pink",colorName:"Lantana",r:218,g:126,b:122},{pantoneId:889,name:"16-1626 TCX",majorColorName:"Pink",colorName:"Peach Blossom",r:222,g:130,b:134},{pantoneId:890,name:"16-1632 TCX",majorColorName:"Pink",colorName:"Shell Pink",r:248,g:129,b:128},{pantoneId:891,name:"16-1640 TCX",majorColorName:"Pink",colorName:"Sugar Coral",r:245,g:108,b:115},{pantoneId:892,name:"16-1641 TCX",majorColorName:"Pink",colorName:"Georgia Peach",r:249,g:114,b:114},{pantoneId:893,name:"16-1703 TCX",majorColorName:"White",colorName:"Sphinx",r:171,g:152,b:149},{pantoneId:894,name:"16-1707 TCX",majorColorName:"Pink",colorName:"Deauville Mauve",r:175,g:146,b:148},{pantoneId:895,name:"16-1708 TCX",majorColorName:"Pink",colorName:"Lilas",r:184,g:137,b:149},{pantoneId:896,name:"16-1712 TCX",majorColorName:"Pink",colorName:"Polignac",r:194,g:135,b:153},{pantoneId:897,name:"16-1715 TCX",majorColorName:"Pink",colorName:"Wild Rose",r:206,g:132,b:152},{pantoneId:898,name:"16-1720 TCX",majorColorName:"Pink",colorName:"Strawberry Ice",r:231,g:139,b:144},{pantoneId:899,name:"16-1723 TCX",majorColorName:"Pink",colorName:"Confetti",r:230,g:121,b:142},{pantoneId:900,name:"16-1731 TCX",majorColorName:"Pink",colorName:"Strawberry Pink",r:245,g:127,b:142},{pantoneId:901,name:"16-1735 TCX",majorColorName:"Pink",colorName:"Pink Lemonade",r:238,g:109,b:138},{pantoneId:902,name:"16-1806 TCX",majorColorName:"Pink",colorName:"Woodrose",r:174,g:140,b:142},{pantoneId:903,name:"16-2107 TCX",majorColorName:"Pink",colorName:"Orchid Haze",r:176,g:135,b:155},{pantoneId:904,name:"16-2111 TCX",majorColorName:"Pink",colorName:"Mauve Orchid",r:181,g:130,b:153},{pantoneId:905,name:"16-2120 TCX",majorColorName:"Pink",colorName:"Wild Orchid",r:217,g:121,b:162},{pantoneId:906,name:"16-2124 TCX",majorColorName:"Pink",colorName:"Pink Carnation",r:237,g:122,b:158},{pantoneId:907,name:"16-2126 TCX",majorColorName:"Pink",colorName:"Azalea Pink",r:233,g:106,b:151},{pantoneId:908,name:"16-2215 TCX",majorColorName:"Pink",colorName:"Cashmere Rose",r:206,g:135,b:159},{pantoneId:909,name:"16-2614 TCX",majorColorName:"Pink",colorName:"Moonlite Mauve",r:210,g:143,b:176},{pantoneId:910,name:"16-3110 TCX",majorColorName:"Pink",colorName:"Smoky Grape",r:184,g:138,b:172},{pantoneId:911,name:"16-3115 TCX",majorColorName:"Pink",colorName:"Crocus",r:198,g:127,b:174},{pantoneId:912,name:"16-3116 TCX",majorColorName:"Pink",colorName:"Opera Mauve",r:202,g:128,b:177},{pantoneId:913,name:"16-3118 TCX",majorColorName:"Pink",colorName:"Cyclamen",r:214,g:135,b:186},{pantoneId:914,name:"16-3205 TCX",majorColorName:"Pink",colorName:"Mauve Shadows",r:181,g:152,b:163},{pantoneId:915,name:"16-3304 TCX",majorColorName:"Gray",colorName:"Sea Fog",r:165,g:146,b:157},{pantoneId:916,name:"16-3307 TCX",majorColorName:"Pink",colorName:"Lavender Mist",r:174,g:144,b:167},{pantoneId:917,name:"16-3310 TCX",majorColorName:"Pink",colorName:"Lavender Herb",r:177,g:142,b:170},{pantoneId:918,name:"16-3320 TCX",majorColorName:"Pink",colorName:"Violet",r:193,g:127,b:181},{pantoneId:919,name:"16-3416 TCX",majorColorName:"Light-Purple",colorName:"Violet Tulle",r:193,g:147,b:192},{pantoneId:920,name:"16-3520 TCX",majorColorName:"Light-Purple",colorName:"African Violet",r:176,g:133,b:183},{pantoneId:921,name:"16-3521 TCX",majorColorName:"Light-Purple",colorName:"Lupine",r:190,g:156,b:193},{pantoneId:922,name:"16-3525 TCX",majorColorName:"Light-Purple",colorName:"Regal Orchid",r:169,g:139,b:175},{pantoneId:923,name:"16-3617 TCX",majorColorName:"Light-Purple",colorName:"Sheer Lilac",r:183,g:147,b:192},{pantoneId:924,name:"16-3801 TCX",majorColorName:"Gray",colorName:"Opal Gray",r:164,g:158,b:158},{pantoneId:925,name:"16-3802 TCX",majorColorName:"Gray",colorName:"Ash",r:160,g:153,b:152},{pantoneId:926,name:"16-3803 TCX",majorColorName:"Gray",colorName:"Gull Gray",r:164,g:156,b:160},{pantoneId:927,name:"16-3810 TCX",majorColorName:"White",colorName:"Wisteria",r:161,g:152,b:175},{pantoneId:928,name:"16-3812 TCX",majorColorName:"Blue",colorName:"Heirloom Lilac",r:157,g:150,b:178},{pantoneId:929,name:"16-3815 TCX",majorColorName:"Light-Purple",colorName:"Viola",r:166,g:146,b:186},{pantoneId:930,name:"16-3823 TCX",majorColorName:"Light-Purple",colorName:"Violet Tulip",r:158,g:145,b:195},{pantoneId:931,name:"16-3907 TCX",majorColorName:"White",colorName:"Dapple Gray",r:156,g:155,b:167},{pantoneId:932,name:"16-3911 TCX",majorColorName:"White",colorName:"Lavender Aura",r:159,g:153,b:170},{pantoneId:933,name:"16-3919 TCX",majorColorName:"Blue",colorName:"Eventide",r:149,g:158,b:183},{pantoneId:934,name:"16-3920 TCX",majorColorName:"Blue",colorName:"Lavender Lustre",r:140,g:156,b:193},{pantoneId:935,name:"16-3925 TCX",majorColorName:"Blue",colorName:"Easter Egg",r:145,g:155,b:201},{pantoneId:936,name:"16-3929 TCX",majorColorName:"Blue",colorName:"Grapemist",r:131,g:152,b:202},{pantoneId:937,name:"16-3930 TCX",majorColorName:"Blue",colorName:"Thistle Down",r:148,g:153,b:187},{pantoneId:938,name:"16-3931 TCX",majorColorName:"Blue",colorName:"Sweet Lavender",r:154,g:155,b:193},{pantoneId:939,name:"16-4010 TCX",majorColorName:"Blue",colorName:"Dusty Blue",r:140,g:157,b:173},{pantoneId:940,name:"16-4013 TCX",majorColorName:"Blue",colorName:"Ashley Blue",r:134,g:153,b:171},{pantoneId:941,name:"16-4019 TCX",majorColorName:"Blue",colorName:"Forever Blue",r:137,g:155,b:184},{pantoneId:942,name:"16-4020 TCX",majorColorName:"Blue",colorName:"Della Robbia Blue",r:122,g:157,b:203},{pantoneId:943,name:"16-4021 TCX",majorColorName:"Blue",colorName:"Allure",r:114,g:145,b:180},{pantoneId:944,name:"16-4031 TCX",majorColorName:"Blue",colorName:"Cornflower Blue",r:115,g:145,b:200},{pantoneId:945,name:"16-4032 TCX",majorColorName:"Blue",colorName:"Provence",r:101,g:141,b:198},{pantoneId:946,name:"16-4109 TCX",majorColorName:"Blue",colorName:"Arona",r:135,g:155,b:163},{pantoneId:947,name:"16-4114 TCX",majorColorName:"Blue",colorName:"Stone Blue",r:130,g:156,b:165},{pantoneId:948,name:"16-4120 TCX",majorColorName:"Blue",colorName:"Dusk Blue",r:123,g:160,b:192},{pantoneId:949,name:"16-4127 TCX",majorColorName:"Blue",colorName:"Heritage Blue",r:93,g:150,b:188},{pantoneId:950,name:"16-4132 TCX",majorColorName:"Blue",colorName:"Little Boy Blue",r:110,g:162,b:213},{pantoneId:951,name:"16-4134 TCX",majorColorName:"Blue",colorName:"Bonnie Blue",r:83,g:156,b:204},{pantoneId:952,name:"16-4402 TCX",majorColorName:"Gray",colorName:"Drizzle",r:160,g:159,b:156},{pantoneId:953,name:"16-4404 TCX",majorColorName:"Gray",colorName:"Abyss",r:143,g:158,b:157},{pantoneId:954,name:"16-4408 TCX",majorColorName:"Gray",colorName:"Slate",r:140,g:159,b:161},{pantoneId:955,name:"16-4411 TCX",majorColorName:"Blue",colorName:"Tourmaline",r:134,g:161,b:169},{pantoneId:956,name:"16-4414 TCX",majorColorName:"Blue",colorName:"Cameo Blue",r:118,g:157,b:166},{pantoneId:957,name:"16-4421 TCX",majorColorName:"Blue",colorName:"Blue Mist",r:91,g:172,b:195},{pantoneId:958,name:"16-4427 TCX",majorColorName:"Blue",colorName:"Horizon Blue",r:40,g:157,b:190},{pantoneId:959,name:"16-4519 TCX",majorColorName:"Blue",colorName:"Delphinium Blue",r:97,g:152,b:174},{pantoneId:960,name:"16-4525 TCX",majorColorName:"Blue",colorName:"Maui Blue",r:82,g:162,b:180},{pantoneId:961,name:"16-4529 TCX",majorColorName:"Blue",colorName:"Cyan Blue",r:20,g:163,b:199},{pantoneId:962,name:"16-4530 TCX",majorColorName:"Blue",colorName:"Aquarius",r:60,g:173,b:212},{pantoneId:963,name:"16-4535 TCX",majorColorName:"Blue",colorName:"Blue Atoll",r:0,g:177,b:210},{pantoneId:964,name:"16-4610 TCX",majorColorName:"Blue",colorName:"Stillwater",r:112,g:164,b:176},{pantoneId:965,name:"16-4612 TCX",majorColorName:"Blue",colorName:"Reef Waters",r:111,g:159,b:169},{pantoneId:966,name:"16-4702 TCX",majorColorName:"Gray",colorName:"Limestone",r:152,g:154,b:152},{pantoneId:967,name:"16-4706 TCX",majorColorName:"Gray",colorName:"Silver Blue",r:138,g:154,b:154},{pantoneId:968,name:"16-4712 TCX",majorColorName:"Blue",colorName:"Mineral Blue",r:109,g:145,b:146},{pantoneId:969,name:"16-4719 TCX",majorColorName:"Blue",colorName:"Porcelain",r:93,g:156,b:164},{pantoneId:970,name:"16-4725 TCX",majorColorName:"Blue",colorName:"Scuba Blue",r:0,g:171,b:192},{pantoneId:971,name:"16-4728 TCX",majorColorName:"Blue",colorName:"Peacock Blue",r:0,g:160,b:176},{pantoneId:972,name:"16-4834 TCX",majorColorName:"Blue",colorName:"Bluebird",r:0,g:157,b:174},{pantoneId:973,name:"16-5106 TCX",majorColorName:"White",colorName:"Blue Surf",r:144,g:168,b:164},{pantoneId:974,name:"16-5109 TCX",majorColorName:"Blue-Green",colorName:"Wasabi",r:115,g:168,b:158},{pantoneId:975,name:"16-5112 TCX",majorColorName:"Blue-Green",colorName:"Canton",r:109,g:162,b:158},{pantoneId:976,name:"16-5114 TCX",majorColorName:"Blue",colorName:"Dusty Turquoise",r:100,g:155,b:158},{pantoneId:977,name:"16-5119 TCX",majorColorName:"Blue-Green",colorName:"Sea Blue",r:84,g:159,b:152},{pantoneId:978,name:"16-5121 TCX",majorColorName:"Blue",colorName:"Meadowbrook",r:96,g:160,b:163},{pantoneId:979,name:"16-5123 TCX",majorColorName:"Blue",colorName:"Baltic",r:39,g:157,b:159},{pantoneId:980,name:"16-5127 TCX",majorColorName:"Blue-Green",colorName:"Ceramic",r:0,g:170,b:169},{pantoneId:981,name:"16-5304 TCX",majorColorName:"White",colorName:"Jadeite",r:149,g:166,b:159},{pantoneId:982,name:"16-5412 TCX",majorColorName:"Blue-Green",colorName:"Agate Green",r:89,g:159,b:153},{pantoneId:983,name:"16-5418 TCX",majorColorName:"Blue-Green",colorName:"Lagoon",r:77,g:158,b:154},{pantoneId:984,name:"16-5421 TCX",majorColorName:"Blue-Green",colorName:"Sea Green",r:20,g:156,b:136},{pantoneId:985,name:"16-5422 TCX",majorColorName:"Blue-Green",colorName:"Bright Aqua",r:48,g:162,b:153},{pantoneId:986,name:"16-5425 TCX",majorColorName:"Blue-Green",colorName:"Pool Green",r:0,g:175,b:157},{pantoneId:987,name:"16-5427 TCX",majorColorName:"Blue-Green",colorName:"Billiard",r:0,g:170,b:146},{pantoneId:988,name:"16-5431 TCX",majorColorName:"Blue-Green",colorName:"Peacock Green",r:0,g:167,b:139},{pantoneId:989,name:"16-5515 TCX",majorColorName:"Blue-Green",colorName:"Beryl Green",r:97,g:145,b:135},{pantoneId:990,name:"16-5533 TCX",majorColorName:"Blue-Green",colorName:"Arcadia",r:0,g:162,b:138},{pantoneId:991,name:"16-5721 TCX",majorColorName:"Blue-Green",colorName:"Marine Green",r:64,g:164,b:142},{pantoneId:992,name:"16-5803 TCX",majorColorName:"Gray",colorName:"Flint Gray",r:160,g:156,b:152},{pantoneId:993,name:"16-5804 TCX",majorColorName:"Gray",colorName:"Slate Gray",r:138,g:150,b:145},{pantoneId:994,name:"16-5806 TCX",majorColorName:"Gray",colorName:"Green Milieu",r:138,g:153,b:146},{pantoneId:995,name:"16-5807 TCX",majorColorName:"Gray",colorName:"Lily Pad",r:129,g:143,b:132},{pantoneId:996,name:"16-5808 TCX",majorColorName:"Gray",colorName:"Iceberg Green",r:140,g:156,b:146},{pantoneId:997,name:"16-5810 TCX",majorColorName:"Gray",colorName:"Green Bay",r:126,g:146,b:133},{pantoneId:998,name:"16-5815 TCX",majorColorName:"Blue-Green",colorName:"Feldspar",r:114,g:155,b:139},{pantoneId:999,name:"16-5820 TCX",majorColorName:"Blue-Green",colorName:"Green Spruce",r:88,g:159,b:126},{pantoneId:1e3,name:"16-5825 TCX",majorColorName:"Blue-Green",colorName:"Gumdrop Green",r:46,g:167,b:133},{pantoneId:1001,name:"16-5904 TCX",majorColorName:"Gray",colorName:"Wrought Iron",r:153,g:158,b:152},{pantoneId:1002,name:"16-5907 TCX",majorColorName:"Green",colorName:"Granite Green",r:134,g:162,b:147},{pantoneId:1003,name:"16-5917 TCX",majorColorName:"Blue-Green",colorName:"Malachite Green",r:112,g:154,b:137},{pantoneId:1004,name:"16-5919 TCX",majorColorName:"Blue-Green",colorName:"Creme de Menthe",r:112,g:163,b:141},{pantoneId:1005,name:"16-5924 TCX",majorColorName:"Blue-Green",colorName:"Winter Green",r:79,g:158,b:129},{pantoneId:1006,name:"16-5930 TCX",majorColorName:"Blue-Green",colorName:"Ming Green",r:58,g:162,b:120},{pantoneId:1007,name:"16-5932 TCX",majorColorName:"Blue-Green",colorName:"Holly Green",r:15,g:157,b:118},{pantoneId:1008,name:"16-5938 TCX",majorColorName:"Blue-Green",colorName:"Mint",r:0,g:161,b:112},{pantoneId:1009,name:"16-5942 TCX",majorColorName:"Blue-Green",colorName:"Blarney",r:0,g:167,b:118},{pantoneId:1010,name:"16-6008 TCX",majorColorName:"Gray",colorName:"Seagrass",r:149,g:152,b:137},{pantoneId:1011,name:"16-6030 TCX",majorColorName:"Green",colorName:"Katydid",r:102,g:188,b:145},{pantoneId:1012,name:"16-6116 TCX",majorColorName:"Green",colorName:"Shale Green",r:115,g:144,b:114},{pantoneId:1013,name:"16-6127 TCX",majorColorName:"Green",colorName:"Greenbriar",r:75,g:155,b:105},{pantoneId:1014,name:"16-6138 TCX",majorColorName:"Green",colorName:"Kelly Green",r:51,g:156,b:94},{pantoneId:1015,name:"16-6216 TCX",majorColorName:"Green",colorName:"Basil",r:135,g:159,b:132},{pantoneId:1016,name:"16-6240 TCX",majorColorName:"Green",colorName:"Island Green",r:43,g:174,b:102},{pantoneId:1017,name:"16-6318 TCX",majorColorName:"Green",colorName:"Mineral Green",r:122,g:155,b:120},{pantoneId:1018,name:"16-6324 TCX",majorColorName:"Green",colorName:"Jadesheen",r:119,g:162,b:118},{pantoneId:1019,name:"16-6329 TCX",majorColorName:"Green",colorName:"Peppermint",r:105,g:158,b:109},{pantoneId:1020,name:"16-6339 TCX",majorColorName:"Green",colorName:"Vibrant Green",r:85,g:168,b:96},{pantoneId:1021,name:"16-6340 TCX",majorColorName:"Green",colorName:"Classic Green",r:57,g:168,b:69},{pantoneId:1022,name:"16-6444 TCX",majorColorName:"Green",colorName:"Poison Green",r:77,g:181,b:96},{pantoneId:1023,name:"17-0000 TCX",majorColorName:"Gray",colorName:"Frost Gray",r:132,g:130,b:131},{pantoneId:1024,name:"17-0115 TCX",majorColorName:"Green",colorName:"Oil Green",r:128,g:133,b:109},{pantoneId:1025,name:"17-0119 TCX",majorColorName:"Green",colorName:"Turf Green",r:111,g:140,b:105},{pantoneId:1026,name:"17-0123 TCX",majorColorName:"Green",colorName:"Stone Green",r:101,g:142,b:103},{pantoneId:1027,name:"17-0133 TCX",majorColorName:"Green",colorName:"Fluorite Green",r:105,g:145,b:88},{pantoneId:1028,name:"17-0145 TCX",majorColorName:"Green",colorName:"Online Lime",r:68,g:136,b:60},{pantoneId:1029,name:"17-0205 TCX",majorColorName:"Gray",colorName:"Elephant Skin",r:143,g:137,b:130},{pantoneId:1030,name:"17-0207 TCX",majorColorName:"Gray",colorName:"Rock Ridge",r:145,g:140,b:134},{pantoneId:1031,name:"17-0210 TCX",majorColorName:"Green",colorName:"Loden Frost",r:120,g:143,b:116},{pantoneId:1032,name:"17-0215 TCX",majorColorName:"Green",colorName:"Aspen Green",r:126,g:155,b:118},{pantoneId:1033,name:"17-0220 TCX",majorColorName:"Green",colorName:"Watercress",r:116,g:140,b:105},{pantoneId:1034,name:"17-0230 TCX",majorColorName:"Green",colorName:"Forest Green",r:107,g:141,b:83},{pantoneId:1035,name:"17-0235 TCX",majorColorName:"Green",colorName:"Piquant Green",r:118,g:147,b:88},{pantoneId:1036,name:"17-0324 TCX",majorColorName:"Green",colorName:"Epsom",r:132,g:145,b:97},{pantoneId:1037,name:"17-0330 TCX",majorColorName:"Green",colorName:"Turtle Green",r:129,g:137,b:78},{pantoneId:1038,name:"17-0336 TCX",majorColorName:"Green",colorName:"Peridot",r:129,g:149,b:72},{pantoneId:1039,name:"17-0510 TCX",majorColorName:"Brown",colorName:"Silver Sage",r:147,g:139,b:120},{pantoneId:1040,name:"17-0517 TCX",majorColorName:"Brown",colorName:"Dusky Green",r:116,g:108,b:87},{pantoneId:1041,name:"17-0525 TCX",majorColorName:"Green",colorName:"Mosstone",r:133,g:137,b:97},{pantoneId:1042,name:"17-0535 TCX",majorColorName:"Yellow",colorName:"Green Olive",r:141,g:139,b:85},{pantoneId:1043,name:"17-0610 TCX",majorColorName:"Gray",colorName:"Laurel Oak",r:145,g:140,b:126},{pantoneId:1044,name:"17-0613 TCX",majorColorName:"Gray",colorName:"Vetiver",r:128,g:125,b:111},{pantoneId:1045,name:"17-0618 TCX",majorColorName:"Brown",colorName:"Mermaid",r:129,g:122,b:101},{pantoneId:1046,name:"17-0620 TCX",majorColorName:"Yellow",colorName:"Aloe",r:129,g:122,b:96},{pantoneId:1047,name:"17-0625 TCX",majorColorName:"Yellow",colorName:"Boa",r:142,g:133,b:95},{pantoneId:1048,name:"17-0627 TCX",majorColorName:"Yellow",colorName:"Dried Herb",r:132,g:122,b:89},{pantoneId:1049,name:"17-0636 TCX",majorColorName:"Yellow",colorName:"Green Moss",r:133,g:121,b:70},{pantoneId:1050,name:"17-0808 TCX",majorColorName:"Brown",colorName:"Taupe Gray",r:142,g:124,b:113},{pantoneId:1051,name:"17-0836 TCX",majorColorName:"Brown",colorName:"Ecru Olive",r:146,g:123,b:60},{pantoneId:1052,name:"17-0839 TCX",majorColorName:"Yellow",colorName:"Golden Palm",r:170,g:136,b:5},{pantoneId:1053,name:"17-0840 TCX",majorColorName:"Brown",colorName:"Amber Green",r:154,g:128,b:58},{pantoneId:1054,name:"17-0843 TCX",majorColorName:"Brown",colorName:"Bronze Mist",r:156,g:126,b:65},{pantoneId:1055,name:"17-0909 TCX",majorColorName:"Brown",colorName:"Fossil",r:128,g:111,b:99},{pantoneId:1056,name:"17-0929 TCX",majorColorName:"Brown",colorName:"Fennel Seed",r:153,g:132,b:86},{pantoneId:1057,name:"17-0935 TCX",majorColorName:"Brown",colorName:"Dull Gold",r:138,g:111,b:72},{pantoneId:1058,name:"17-0942 TCX",majorColorName:"Brown",colorName:"Medal Bronze",r:151,g:117,b:71},{pantoneId:1059,name:"17-1009 TCX",majorColorName:"Brown",colorName:"Dune",r:153,g:137,b:120},{pantoneId:1060,name:"17-1019 TCX",majorColorName:"Brown",colorName:"Elmwood",r:140,g:124,b:97},{pantoneId:1061,name:"17-1022 TCX",majorColorName:"Brown",colorName:"Kelp",r:152,g:132,b:103},{pantoneId:1062,name:"17-1028 TCX",majorColorName:"Brown",colorName:"Antique Bronze",r:144,g:121,b:84},{pantoneId:1063,name:"17-1036 TCX",majorColorName:"Brown",colorName:"Bistre",r:152,g:117,b:74},{pantoneId:1064,name:"17-1040 TCX",majorColorName:"Brown",colorName:"Spruce Yellow",r:190,g:138,b:74},{pantoneId:1065,name:"17-1044 TCX",majorColorName:"Brown",colorName:"Chipmunk",r:151,g:111,b:76},{pantoneId:1066,name:"17-1045 TCX",majorColorName:"Brown",colorName:"Apple Cinnamon",r:176,g:136,b:90},{pantoneId:1067,name:"17-1046 TCX",majorColorName:"Brown",colorName:"Golden Oak",r:190,g:117,b:45},{pantoneId:1068,name:"17-1047 TCX",majorColorName:"Brown",colorName:"Honey Mustard",r:182,g:143,b:82},{pantoneId:1069,name:"17-1048 TCX",majorColorName:"Brown",colorName:"Inca Gold",r:187,g:122,b:44},{pantoneId:1070,name:"17-1107 TCX",majorColorName:"Brown",colorName:"Seneca Rock",r:154,g:146,b:127},{pantoneId:1071,name:"17-1109 TCX",majorColorName:"Brown",colorName:"Chinchilla",r:156,g:142,b:123},{pantoneId:1072,name:"17-1113 TCX",majorColorName:"Brown",colorName:"Coriander",r:147,g:135,b:114},{pantoneId:1073,name:"17-1118 TCX",majorColorName:"Brown",colorName:"Lead Gray",r:138,g:121,b:99},{pantoneId:1074,name:"17-1125 TCX",majorColorName:"Brown",colorName:"Dijon",r:151,g:117,b:76},{pantoneId:1075,name:"17-1128 TCX",majorColorName:"Brown",colorName:"Bone Brown",r:157,g:116,b:70},{pantoneId:1076,name:"17-1129 TCX",majorColorName:"Brown",colorName:"Wood Thrush",r:164,g:125,b:67},{pantoneId:1077,name:"17-1134 TCX",majorColorName:"Brown",colorName:"Brown Sugar",r:161,g:114,b:73},{pantoneId:1078,name:"17-1137 TCX",majorColorName:"Brown",colorName:"Cashew",r:164,g:113,b:73},{pantoneId:1079,name:"17-1143 TCX",majorColorName:"Brown",colorName:"Hazel",r:174,g:114,b:80},{pantoneId:1080,name:"17-1147 TCX",majorColorName:"Brown",colorName:"Amber Brown",r:166,g:102,b:70},{pantoneId:1081,name:"17-1210 TCX",majorColorName:"Gray",colorName:"Moon Rock",r:149,g:139,b:132},{pantoneId:1082,name:"17-1212 TCX",majorColorName:"Brown",colorName:"Fungi",r:143,g:129,b:119},{pantoneId:1083,name:"17-1223 TCX",majorColorName:"Brown",colorName:"Praline",r:173,g:139,b:117},{pantoneId:1084,name:"17-1224 TCX",majorColorName:"Brown",colorName:"Camel",r:176,g:132,b:106},{pantoneId:1085,name:"17-1225 TCX",majorColorName:"Brown",colorName:"Tawny Birch",r:174,g:133,b:108},{pantoneId:1086,name:"17-1226 TCX",majorColorName:"Brown",colorName:"Tawny Brown",r:171,g:133,b:111},{pantoneId:1087,name:"17-1227 TCX",majorColorName:"Brown",colorName:"Cafe au Lait",r:174,g:135,b:116},{pantoneId:1088,name:"17-1230 TCX",majorColorName:"Brown",colorName:"Mocha Mousse",r:164,g:120,b:100},{pantoneId:1089,name:"17-1310 TCX",majorColorName:"Brown",colorName:"Timber Wolf",r:141,g:128,b:112},{pantoneId:1090,name:"17-1312 TCX",majorColorName:"Brown",colorName:"Silver Mink",r:159,g:141,b:124},{pantoneId:1091,name:"17-1319 TCX",majorColorName:"Brown",colorName:"Amphora",r:159,g:134,b:114},{pantoneId:1092,name:"17-1320 TCX",majorColorName:"Brown",colorName:"Tannin",r:166,g:138,b:109},{pantoneId:1093,name:"17-1321 TCX",majorColorName:"Brown",colorName:"Woodsmoke",r:148,g:119,b:100},{pantoneId:1094,name:"17-1322 TCX",majorColorName:"Brown",colorName:"Burro",r:158,g:126,b:103},{pantoneId:1095,name:"17-1327 TCX",majorColorName:"Brown",colorName:"Tobacco Brown",r:154,g:115,b:82},{pantoneId:1096,name:"17-1328 TCX",majorColorName:"Brown",colorName:"Indian Tan",r:173,g:133,b:103},{pantoneId:1097,name:"17-1330 TCX",majorColorName:"Brown",colorName:"Lion",r:160,g:113,b:79},{pantoneId:1098,name:"17-1336 TCX",majorColorName:"Brown",colorName:"Bran",r:166,g:110,b:74},{pantoneId:1099,name:"17-1340 TCX",majorColorName:"Brown",colorName:"Adobe",r:163,g:98,b:59},{pantoneId:1100,name:"17-1341 TCX",majorColorName:"Pink",colorName:"Tawny Orange",r:211,g:127,b:111},{pantoneId:1101,name:"17-1347 TCX",majorColorName:"Brown",colorName:"Autumn Leaf",r:181,g:104,b:76},{pantoneId:1102,name:"17-1350 TCX",majorColorName:"Orange",colorName:"Oriole",r:255,g:121,b:19},{pantoneId:1103,name:"17-1353 TCX",majorColorName:"Orange",colorName:"Apricot Orange",r:200,g:107,b:60},{pantoneId:1104,name:"17-1410 TCX",majorColorName:"Brown",colorName:"Pine Bark",r:130,g:112,b:100},{pantoneId:1105,name:"17-1417 TCX",majorColorName:"Brown",colorName:"Beaver Fur",r:153,g:120,b:103},{pantoneId:1106,name:"17-1418 TCX",majorColorName:"Brown",colorName:"Ginger Snap",r:151,g:125,b:112},{pantoneId:1107,name:"17-1422 TCX",majorColorName:"Brown",colorName:"Raw Umber",r:146,g:112,b:95},{pantoneId:1108,name:"17-1424 TCX",majorColorName:"Pink",colorName:"Brick Dust",r:176,g:112,b:105},{pantoneId:1109,name:"17-1430 TCX",majorColorName:"Brown",colorName:"Pecan Brown",r:163,g:110,b:81},{pantoneId:1110,name:"17-1436 TCX",majorColorName:"Brown",colorName:"Raw Sienna",r:185,g:113,b:79},{pantoneId:1111,name:"17-1444 TCX",majorColorName:"Pink",colorName:"Ginger",r:201,g:101,b:81},{pantoneId:1112,name:"17-1446 TCX",majorColorName:"Brown",colorName:"Mango",r:183,g:94,b:65},{pantoneId:1113,name:"17-1456 TCX",majorColorName:"Red",colorName:"Tigerlily",r:226,g:88,b:62},{pantoneId:1114,name:"17-1462 TCX",majorColorName:"Orange",colorName:"Flame",r:242,g:85,b:44},{pantoneId:1115,name:"17-1464 TCX",majorColorName:"Orange",colorName:"Red Orange",r:240,g:86,b:39},{pantoneId:1116,name:"17-1500 TCX",majorColorName:"Gray",colorName:"Steeple Gray",r:130,g:126,b:124},{pantoneId:1117,name:"17-1501 TCX",majorColorName:"Gray",colorName:"Wild Dove",r:139,g:140,b:137},{pantoneId:1118,name:"17-1502 TCX",majorColorName:"Gray",colorName:"Cloudburst",r:131,g:127,b:127},{pantoneId:1119,name:"17-1505 TCX",majorColorName:"Gray",colorName:"Quail",r:152,g:134,b:140},{pantoneId:1120,name:"17-1506 TCX",majorColorName:"Gray",colorName:"Cinder",r:138,g:126,b:120},{pantoneId:1121,name:"17-1510 TCX",majorColorName:"Pink",colorName:"Antler",r:149,g:122,b:118},{pantoneId:1122,name:"17-1511 TCX",majorColorName:"Pink",colorName:"Wistful Mauve",r:148,g:108,b:116},{pantoneId:1123,name:"17-1512 TCX",majorColorName:"Pink",colorName:"Nostalgia Rose",r:164,g:119,b:126},{pantoneId:1124,name:"17-1514 TCX",majorColorName:"Pink",colorName:"Ash Rose",r:181,g:129,b:125},{pantoneId:1125,name:"17-1516 TCX",majorColorName:"Pink",colorName:"Burlwood",r:155,g:113,b:107},{pantoneId:1126,name:"17-1518 TCX",majorColorName:"Pink",colorName:"Old Rose",r:180,g:123,b:119},{pantoneId:1127,name:"17-1520 TCX",majorColorName:"Pink",colorName:"Canyon Rose",r:175,g:108,b:103},{pantoneId:1128,name:"17-1522 TCX",majorColorName:"Pink",colorName:"Mauvewood",r:167,g:93,b:103},{pantoneId:1129,name:"17-1524 TCX",majorColorName:"Pink",colorName:"Desert Sand",r:189,g:123,b:116},{pantoneId:1130,name:"17-1525 TCX",majorColorName:"Pink",colorName:"Cedar Wood",r:161,g:101,b:91},{pantoneId:1131,name:"17-1532 TCX",majorColorName:"Pink",colorName:"Aragon",r:176,g:100,b:85},{pantoneId:1132,name:"17-1537 TCX",majorColorName:"Pink",colorName:"Mineral Red",r:179,g:84,b:87},{pantoneId:1133,name:"17-1540 TCX",majorColorName:"Pink",colorName:"Apricot Brandy",r:194,g:106,b:90},{pantoneId:1134,name:"17-1544 TCX",majorColorName:"Pink",colorName:"Burnt Sienna",r:198,g:93,b:82},{pantoneId:1135,name:"17-1545 TCX",majorColorName:"Pink",colorName:"Cranberry",r:187,g:74,b:77},{pantoneId:1136,name:"17-1547 TCX",majorColorName:"Pink",colorName:"Emberglow",r:234,g:103,b:89},{pantoneId:1137,name:"17-1553 TCX",majorColorName:"Pink",colorName:"Paprika",r:206,g:77,b:66},{pantoneId:1138,name:"17-1558 TCX",majorColorName:"Red",colorName:"Grenadine",r:223,g:63,b:50},{pantoneId:1139,name:"17-1562 TCX",majorColorName:"Red",colorName:"Mandarin Red",r:231,g:74,b:51},{pantoneId:1140,name:"17-1563 TCX",majorColorName:"Red",colorName:"Cherry Tomato",r:235,g:60,b:39},{pantoneId:1141,name:"17-1564 TCX",majorColorName:"Red",colorName:"Fiesta",r:221,g:65,b:50},{pantoneId:1142,name:"17-1605 TCX",majorColorName:"Pink",colorName:"Elderberry",r:157,g:132,b:142},{pantoneId:1143,name:"17-1608 TCX",majorColorName:"Pink",colorName:"Heather Rose",r:173,g:109,b:127},{pantoneId:1144,name:"17-1610 TCX",majorColorName:"Pink",colorName:"Dusky Orchid",r:154,g:113,b:130},{pantoneId:1145,name:"17-1612 TCX",majorColorName:"Pink",colorName:"Mellow Mauve",r:153,g:99,b:120},{pantoneId:1146,name:"17-1614 TCX",majorColorName:"Pink",colorName:"Deco Rose",r:152,g:95,b:104},{pantoneId:1147,name:"17-1623 TCX",majorColorName:"Pink",colorName:"Rose Wine",r:164,g:89,b:109},{pantoneId:1148,name:"17-1633 TCX",majorColorName:"Pink",colorName:"Holly Berry",r:180,g:78,b:93},{pantoneId:1149,name:"17-1635 TCX",majorColorName:"Pink",colorName:"Rose of Sharon",r:220,g:91,b:98},{pantoneId:1150,name:"17-1641 TCX",majorColorName:"Pink",colorName:"Chrysanthemum",r:190,g:69,b:79},{pantoneId:1151,name:"17-1643 TCX",majorColorName:"Pink",colorName:"Porcelain Rose",r:234,g:107,b:106},{pantoneId:1152,name:"17-1644 TCX",majorColorName:"Pink",colorName:"Spiced Coral",r:215,g:92,b:93},{pantoneId:1153,name:"17-1647 TCX",majorColorName:"Pink",colorName:"Dubarry",r:242,g:95,b:102},{pantoneId:1154,name:"17-1654 TCX",majorColorName:"Red",colorName:"Poinsettia",r:203,g:52,b:65},{pantoneId:1155,name:"17-1656 TCX",majorColorName:"Pink",colorName:"Hot Coral",r:243,g:91,b:83},{pantoneId:1156,name:"17-1663 TCX",majorColorName:"Red",colorName:"Bittersweet",r:217,g:55,b:68},{pantoneId:1157,name:"17-1664 TCX",majorColorName:"Red",colorName:"Poppy Red",r:220,g:52,b:59},{pantoneId:1158,name:"17-1710 TCX",majorColorName:"Pink",colorName:"Bordeaux",r:150,g:99,b:123},{pantoneId:1159,name:"17-1718 TCX",majorColorName:"Pink",colorName:"Dusty Rose",r:186,g:121,b:125},{pantoneId:1160,name:"17-1723 TCX",majorColorName:"Pink",colorName:"Malaga",r:159,g:80,b:105},{pantoneId:1161,name:"17-1736 TCX",majorColorName:"Pink",colorName:"Sun Kissed Coral",r:234,g:102,b:118},{pantoneId:1162,name:"17-1740 TCX",majorColorName:"Pink",colorName:"Claret Red",r:200,g:76,b:97},{pantoneId:1163,name:"17-1744 TCX",majorColorName:"Pink",colorName:"Calypso Coral",r:238,g:92,b:108},{pantoneId:1164,name:"17-1753 TCX",majorColorName:"Pink",colorName:"Geranium",r:218,g:61,b:88},{pantoneId:1165,name:"17-1755 TCX",majorColorName:"Pink",colorName:"Paradise Pink",r:228,g:68,b:94},{pantoneId:1166,name:"17-1818 TCX",majorColorName:"Pink",colorName:"Red Violet",r:163,g:87,b:118},{pantoneId:1167,name:"17-1831 TCX",majorColorName:"Pink",colorName:"Carmine",r:188,g:72,b:105},{pantoneId:1168,name:"17-1842 TCX",majorColorName:"Pink",colorName:"Azalea",r:212,g:46,b:91},{pantoneId:1169,name:"17-1927 TCX",majorColorName:"Pink",colorName:"Desert Rose",r:207,g:105,b:119},{pantoneId:1170,name:"17-1928 TCX",majorColorName:"Pink",colorName:"Bubblegum",r:234,g:115,b:141},{pantoneId:1171,name:"17-1929 TCX",majorColorName:"Pink",colorName:"Rapture Rose",r:209,g:98,b:119},{pantoneId:1172,name:"17-1930 TCX",majorColorName:"Pink",colorName:"Camellia Rose",r:235,g:96,b:129},{pantoneId:1173,name:"17-1937 TCX",majorColorName:"Pink",colorName:"Hot Pink",r:229,g:89,b:130},{pantoneId:1174,name:"17-2031 TCX",majorColorName:"Pink",colorName:"Fuchsia Rose",r:199,g:67,b:117},{pantoneId:1175,name:"17-2033 TCX",majorColorName:"Pink",colorName:"Fandango Pink",r:224,g:79,b:128},{pantoneId:1176,name:"17-2036 TCX",majorColorName:"Pink",colorName:"Magenta",r:210,g:60,b:119},{pantoneId:1177,name:"17-2120 TCX",majorColorName:"Pink",colorName:"Chateau Rose",r:210,g:115,b:143},{pantoneId:1178,name:"17-2127 TCX",majorColorName:"Pink",colorName:"Shocking Pink",r:222,g:91,b:140},{pantoneId:1179,name:"17-2227 TCX",majorColorName:"Pink",colorName:"Lilac Rose",r:189,g:66,b:117},{pantoneId:1180,name:"17-2230 TCX",majorColorName:"Pink",colorName:"Carmine Rose",r:227,g:91,b:143},{pantoneId:1181,name:"17-2520 TCX",majorColorName:"Pink",colorName:"Ibis Rose",r:202,g:98,b:143},{pantoneId:1182,name:"17-2601 TCX",majorColorName:"Gray",colorName:"Zinc",r:146,g:137,b:138},{pantoneId:1183,name:"17-2617 TCX",majorColorName:"Pink",colorName:"Dahlia Mauve",r:166,g:79,b:130},{pantoneId:1184,name:"17-2624 TCX",majorColorName:"Pink",colorName:"Rose Violet",r:192,g:66,b:138},{pantoneId:1185,name:"17-2625 TCX",majorColorName:"Pink",colorName:"Super Pink",r:206,g:107,b:164},{pantoneId:1186,name:"17-2627 TCX",majorColorName:"Pink",colorName:"Phlox Pink",r:206,g:94,b:154},{pantoneId:1187,name:"17-3014 TCX",majorColorName:"Pink",colorName:"Mulberry",r:167,g:108,b:151},{pantoneId:1188,name:"17-3020 TCX",majorColorName:"Pink",colorName:"Spring Crocus",r:186,g:105,b:161},{pantoneId:1189,name:"17-3023 TCX",majorColorName:"Pink",colorName:"Rosebud",r:182,g:95,b:154},{pantoneId:1190,name:"17-3313 TCX",majorColorName:"Light-Purple",colorName:"Dusty Lavender",r:161,g:117,b:156},{pantoneId:1191,name:"17-3323 TCX",majorColorName:"Light-Purple",colorName:"Iris Orchid",r:167,g:103,b:162},{pantoneId:1192,name:"17-3410 TCX",majorColorName:"Pink",colorName:"Valerian",r:159,g:122,b:147},{pantoneId:1193,name:"17-3612 TCX",majorColorName:"Light-Purple",colorName:"Orchid Mist",r:145,g:119,b:152},{pantoneId:1194,name:"17-3615 TCX",majorColorName:"Light-Purple",colorName:"Chalk Violet",r:143,g:125,b:165},{pantoneId:1195,name:"17-3619 TCX",majorColorName:"Light-Purple",colorName:"Hyacinth",r:147,g:108,b:167},{pantoneId:1196,name:"17-3628 TCX",majorColorName:"Light-Purple",colorName:"Amethyst Orchid",r:146,g:106,b:166},{pantoneId:1197,name:"17-3725 TCX",majorColorName:"Light-Purple",colorName:"Bougainvillea",r:152,g:132,b:185},{pantoneId:1198,name:"17-3730 TCX",majorColorName:"Light-Purple",colorName:"Paisley Purple",r:139,g:121,b:177},{pantoneId:1199,name:"17-3802 TCX",majorColorName:"Gray",colorName:"Gull",r:145,g:140,b:143},{pantoneId:1200,name:"17-3808 TCX",majorColorName:"Gray",colorName:"Nirvana",r:162,g:145,b:155},{pantoneId:1201,name:"17-3810 TCX",majorColorName:"Gray",colorName:"Purple Ash",r:143,g:131,b:149},{pantoneId:1202,name:"17-3812 TCX",majorColorName:"Light-Purple",colorName:"Dusk",r:137,g:127,b:152},{pantoneId:1203,name:"17-3817 TCX",majorColorName:"Light-Purple",colorName:"Daybreak",r:137,g:129,b:160},{pantoneId:1204,name:"17-3826 TCX",majorColorName:"Blue",colorName:"Aster Purple",r:125,g:116,b:168},{pantoneId:1205,name:"17-3834 TCX",majorColorName:"Light-Purple",colorName:"Dahlia Purple",r:126,g:110,b:172},{pantoneId:1206,name:"17-3906 TCX",majorColorName:"Gray",colorName:"Minimal Gray",r:148,g:141,b:153},{pantoneId:1207,name:"17-3910 TCX",majorColorName:"Gray",colorName:"Lavender Gray",r:152,g:144,b:162},{pantoneId:1208,name:"17-3915 TCX",majorColorName:"Blue",colorName:"Tempest",r:121,g:131,b:155},{pantoneId:1209,name:"17-3917 TCX",majorColorName:"Blue",colorName:"Stonewash",r:116,g:128,b:154},{pantoneId:1210,name:"17-3918 TCX",majorColorName:"Blue",colorName:"Country Blue",r:113,g:127,b:155},{pantoneId:1211,name:"17-3919 TCX",majorColorName:"Blue",colorName:"Purple Impression",r:133,g:143,b:177},{pantoneId:1212,name:"17-3920 TCX",majorColorName:"Blue",colorName:"English Manor",r:113,g:129,b:164},{pantoneId:1213,name:"17-3922 TCX",majorColorName:"Blue",colorName:"Blue Ice",r:112,g:120,b:155},{pantoneId:1214,name:"17-3923 TCX",majorColorName:"Blue",colorName:"Colony Blue",r:101,g:118,b:154},{pantoneId:1215,name:"17-3924 TCX",majorColorName:"Blue",colorName:"Lavender Violet",r:118,g:123,b:165},{pantoneId:1216,name:"17-3925 TCX",majorColorName:"Blue",colorName:"Persian Violet",r:140,g:142,b:178},{pantoneId:1217,name:"17-3930 TCX",majorColorName:"Blue",colorName:"Jacaranda",r:132,g:141,b:197},{pantoneId:1218,name:"17-3932 TCX",majorColorName:"Blue",colorName:"Deep Periwinkle",r:124,g:131,b:188},{pantoneId:1219,name:"17-3934 TCX",majorColorName:"Blue",colorName:"Persian Jewel",r:110,g:129,b:190},{pantoneId:1220,name:"17-3936 TCX",majorColorName:"Blue",colorName:"Blue Bonnet",r:99,g:132,b:184},{pantoneId:1221,name:"17-4015 TCX",majorColorName:"Blue",colorName:"Infinity",r:110,g:126,b:153},{pantoneId:1222,name:"17-4020 TCX",majorColorName:"Blue",colorName:"Blue Shadow",r:102,g:130,b:154},{pantoneId:1223,name:"17-4021 TCX",majorColorName:"Blue",colorName:"Faded Denim",r:121,g:142,b:164},{pantoneId:1224,name:"17-4023 TCX",majorColorName:"Blue",colorName:"Blue Heaven",r:91,g:126,b:152},{pantoneId:1225,name:"17-4027 TCX",majorColorName:"Blue",colorName:"Riviera",r:88,g:121,b:162},{pantoneId:1226,name:"17-4030 TCX",majorColorName:"Blue",colorName:"Silver Lake Blue",r:97,g:139,b:185},{pantoneId:1227,name:"17-4037 TCX",majorColorName:"Blue",colorName:"Ultramarine",r:91,g:126,b:189},{pantoneId:1228,name:"17-4041 TCX",majorColorName:"Blue",colorName:"Marina",r:79,g:132,b:196},{pantoneId:1229,name:"17-4111 TCX",majorColorName:"Blue",colorName:"Citadel",r:116,g:137,b:149},{pantoneId:1230,name:"17-4123 TCX",majorColorName:"Blue",colorName:"Niagara",r:84,g:135,b:164},{pantoneId:1231,name:"17-4131 TCX",majorColorName:"Blue",colorName:"Cendre Blue",r:62,g:127,b:165},{pantoneId:1232,name:"17-4139 TCX",majorColorName:"Blue",colorName:"Azure Blue",r:77,g:145,b:198},{pantoneId:1233,name:"17-4247 TCX",majorColorName:"Blue",colorName:"Diva Blue",r:0,g:123,b:178},{pantoneId:1234,name:"17-4320 TCX",majorColorName:"Blue",colorName:"Adriatic Blue",r:92,g:137,b:155},{pantoneId:1235,name:"17-4328 TCX",majorColorName:"Blue",colorName:"Blue Moon",r:54,g:134,b:160},{pantoneId:1236,name:"17-4336 TCX",majorColorName:"Blue",colorName:"Blithe",r:0,g:132,b:189},{pantoneId:1237,name:"17-4402 TCX",majorColorName:"Gray",colorName:"Neutral Gray",r:142,g:145,b:143},{pantoneId:1238,name:"17-4405 TCX",majorColorName:"Gray",colorName:"Monument",r:132,g:137,b:140},{pantoneId:1239,name:"17-4408 TCX",majorColorName:"Gray",colorName:"Lead",r:122,g:137,b:143},{pantoneId:1240,name:"17-4412 TCX",majorColorName:"Blue",colorName:"Smoke Blue",r:109,g:137,b:148},{pantoneId:1241,name:"17-4421 TCX",majorColorName:"Blue",colorName:"Larkspur",r:60,g:125,b:144},{pantoneId:1242,name:"17-4427 TCX",majorColorName:"Blue",colorName:"Bluejay",r:21,g:126,b:160},{pantoneId:1243,name:"17-4432 TCX",majorColorName:"Blue",colorName:"Vivid Blue",r:0,g:136,b:176},{pantoneId:1244,name:"17-4433 TCX",majorColorName:"Blue",colorName:"Dresden Blue",r:0,g:134,b:187},{pantoneId:1245,name:"17-4435 TCX",majorColorName:"Blue",colorName:"Malibu Blue",r:0,g:140,b:193},{pantoneId:1246,name:"17-4440 TCX",majorColorName:"Blue",colorName:"Blue Danube",r:0,g:135,b:182},{pantoneId:1247,name:"17-4540 TCX",majorColorName:"Blue",colorName:"Hawaiian Ocean",r:0,g:141,b:185},{pantoneId:1248,name:"17-4716 TCX",majorColorName:"Blue",colorName:"Storm Blue",r:71,g:120,b:138},{pantoneId:1249,name:"17-4724 TCX",majorColorName:"Blue",colorName:"Pagoda Blue",r:26,g:127,b:142},{pantoneId:1250,name:"17-4728 TCX",majorColorName:"Blue",colorName:"Algiers Blue",r:0,g:133,b:156},{pantoneId:1251,name:"17-4730 TCX",majorColorName:"Blue",colorName:"Caneel Bay",r:0,g:132,b:159},{pantoneId:1252,name:"17-4735 TCX",majorColorName:"Blue",colorName:"Capri Breeze",r:0,g:135,b:153},{pantoneId:1253,name:"17-4818 TCX",majorColorName:"Blue",colorName:"Bristol Blue",r:85,g:143,b:145},{pantoneId:1254,name:"17-4911 TCX",majorColorName:"Blue",colorName:"Arctic",r:100,g:133,b:137},{pantoneId:1255,name:"17-4919 TCX",majorColorName:"Blue",colorName:"Teal",r:71,g:133,b:137},{pantoneId:1256,name:"17-4928 TCX",majorColorName:"Blue",colorName:"Lake Blue",r:0,g:140,b:150},{pantoneId:1257,name:"17-5024 TCX",majorColorName:"Blue-Green",colorName:"Teal Blue",r:0,g:127,b:124},{pantoneId:1258,name:"17-5025 TCX",majorColorName:"Blue-Green",colorName:"Navigate",r:0,g:133,b:131},{pantoneId:1259,name:"17-5029 TCX",majorColorName:"Blue-Green",colorName:"Deep Peacock Blue",r:0,g:131,b:129},{pantoneId:1260,name:"17-5034 TCX",majorColorName:"Blue-Green",colorName:"Lapis",r:0,g:134,b:132},{pantoneId:1261,name:"17-5102 TCX",majorColorName:"Gray",colorName:"Griffin",r:141,g:143,b:143},{pantoneId:1262,name:"17-5107 TCX",majorColorName:"Gray",colorName:"Chinois Green",r:124,g:140,b:135},{pantoneId:1263,name:"17-5110 TCX",majorColorName:"Blue-Green",colorName:"Trellis",r:106,g:137,b:136},{pantoneId:1264,name:"17-5111 TCX",majorColorName:"Blue-Green",colorName:"Oil Blue",r:101,g:140,b:136},{pantoneId:1265,name:"17-5117 TCX",majorColorName:"Blue",colorName:"Green-Blue Slate",r:53,g:128,b:130},{pantoneId:1266,name:"17-5122 TCX",majorColorName:"Blue-Green",colorName:"Latigo Bay",r:55,g:145,b:144},{pantoneId:1267,name:"17-5126 TCX",majorColorName:"Blue",colorName:"Viridian Green",r:0,g:148,b:153},{pantoneId:1268,name:"17-5130 TCX",majorColorName:"Blue-Green",colorName:"Columbia",r:0,g:146,b:136},{pantoneId:1269,name:"17-5330 TCX",majorColorName:"Blue-Green",colorName:"Dynasty Green",r:0,g:142,b:128},{pantoneId:1270,name:"17-5335 TCX",majorColorName:"Blue-Green",colorName:"Spectra Green",r:0,g:155,b:140},{pantoneId:1271,name:"17-5421 TCX",majorColorName:"Blue-Green",colorName:"Porcelain Green",r:16,g:135,b:128},{pantoneId:1272,name:"17-5430 TCX",majorColorName:"Blue-Green",colorName:"Alhambra",r:0,g:135,b:120},{pantoneId:1273,name:"17-5513 TCX",majorColorName:"Blue-Green",colorName:"Deep Sea",r:79,g:124,b:116},{pantoneId:1274,name:"17-5528 TCX",majorColorName:"Blue-Green",colorName:"Greenlake",r:0,g:125,b:105},{pantoneId:1275,name:"17-5633 TCX",majorColorName:"Blue-Green",colorName:"Deep Green",r:0,g:146,b:118},{pantoneId:1276,name:"17-5638 TCX",majorColorName:"Blue-Green",colorName:"Vivid Green",r:0,g:158,b:130},{pantoneId:1277,name:"17-5641 TCX",majorColorName:"Blue-Green",colorName:"Emerald",r:0,g:148,b:115},{pantoneId:1278,name:"17-5722 TCX",majorColorName:"Blue-Green",colorName:"Bottle Green",r:66,g:125,b:109},{pantoneId:1279,name:"17-5734 TCX",majorColorName:"Blue-Green",colorName:"Viridis",r:0,g:132,b:107},{pantoneId:1280,name:"17-5735 TCX",majorColorName:"Blue-Green",colorName:"Parakeet",r:0,g:140,b:105},{pantoneId:1281,name:"17-5912 TCX",majorColorName:"Green",colorName:"Dark Ivy",r:91,g:119,b:99},{pantoneId:1282,name:"17-5923 TCX",majorColorName:"Blue-Green",colorName:"Pine Green",r:58,g:121,b:94},{pantoneId:1283,name:"17-5936 TCX",majorColorName:"Blue-Green",colorName:"Simply Green",r:0,g:155,b:117},{pantoneId:1284,name:"17-5937 TCX",majorColorName:"Blue-Green",colorName:"Deep Mint",r:0,g:158,b:109},{pantoneId:1285,name:"17-6009 TCX",majorColorName:"Gray",colorName:"Laurel Wreath",r:97,g:111,b:101},{pantoneId:1286,name:"17-6030 TCX",majorColorName:"Blue-Green",colorName:"Jelly Bean",r:0,g:134,b:88},{pantoneId:1287,name:"17-6153 TCX",majorColorName:"Green",colorName:"Fern Green",r:0,g:140,b:69},{pantoneId:1288,name:"17-6206 TCX",majorColorName:"Gray",colorName:"Shadow",r:136,g:141,b:130},{pantoneId:1289,name:"17-6212 TCX",majorColorName:"Gray",colorName:"Sea Spray",r:113,g:126,b:111},{pantoneId:1290,name:"17-6219 TCX",majorColorName:"Green",colorName:"Deep Grass Green",r:85,g:131,b:103},{pantoneId:1291,name:"17-6229 TCX",majorColorName:"Green",colorName:"Medium Green",r:60,g:130,b:78},{pantoneId:1292,name:"17-6319 TCX",majorColorName:"Green",colorName:"Kashmir",r:111,g:141,b:106},{pantoneId:1293,name:"17-6323 TCX",majorColorName:"Green",colorName:"Hedge Green",r:118,g:138,b:117},{pantoneId:1294,name:"17-6333 TCX",majorColorName:"Green",colorName:"Mint Green",r:72,g:125,b:73},{pantoneId:1295,name:"18-0000 TCX",majorColorName:"Gray",colorName:"Smoked Pearl",r:101,g:100,b:102},{pantoneId:1296,name:"18-0108 TCX",majorColorName:"Green",colorName:"Dill",r:100,g:119,b:85},{pantoneId:1297,name:"18-0110 TCX",majorColorName:"Green",colorName:"English Ivy",r:97,g:132,b:91},{pantoneId:1298,name:"18-0117 TCX",majorColorName:"Green",colorName:"Vineyard Green",r:95,g:115,b:85},{pantoneId:1299,name:"18-0119 TCX",majorColorName:"Green",colorName:"Willow Bough",r:89,g:117,b:77},{pantoneId:1300,name:"18-0121 TCX",majorColorName:"Green",colorName:"Elm Green",r:84,g:112,b:83},{pantoneId:1301,name:"18-0125 TCX",majorColorName:"Green",colorName:"Artichoke Green",r:75,g:109,b:65},{pantoneId:1302,name:"18-0130 TCX",majorColorName:"Green",colorName:"Cactus",r:83,g:113,b:61},{pantoneId:1303,name:"18-0135 TCX",majorColorName:"Green",colorName:"Treetop",r:71,g:106,b:48},{pantoneId:1304,name:"18-0201 TCX",majorColorName:"Gray",colorName:"Castlerock",r:95,g:94,b:98},{pantoneId:1305,name:"18-0228 TCX",majorColorName:"Green",colorName:"Pesto",r:89,g:95,b:52},{pantoneId:1306,name:"18-0306 TCX",majorColorName:"Gray",colorName:"Gunmetal",r:92,g:93,b:91},{pantoneId:1307,name:"18-0312 TCX",majorColorName:"Yellow",colorName:"Deep Lichen Green",r:110,g:110,b:92},{pantoneId:1308,name:"18-0316 TCX",majorColorName:"Green",colorName:"Olivine",r:102,g:107,b:84},{pantoneId:1309,name:"18-0317 TCX",majorColorName:"Green",colorName:"Bronze Green",r:82,g:95,b:72},{pantoneId:1310,name:"18-0322 TCX",majorColorName:"Green",colorName:"Cypress",r:84,g:90,b:62},{pantoneId:1311,name:"18-0324 TCX",majorColorName:"Green",colorName:"Calliste Green",r:117,g:122,b:78},{pantoneId:1312,name:"18-0328 TCX",majorColorName:"Green",colorName:"Cedar Green",r:94,g:103,b:55},{pantoneId:1313,name:"18-0332 TCX",majorColorName:"Green",colorName:"Grasshopper",r:119,g:130,b:74},{pantoneId:1314,name:"18-0403 TCX",majorColorName:"Gray",colorName:"Dark Gull Gray",r:98,g:93,b:93},{pantoneId:1315,name:"18-0420 TCX",majorColorName:"Green",colorName:"Four Leaf Clover",r:97,g:102,b:82},{pantoneId:1316,name:"18-0422 TCX",majorColorName:"Green",colorName:"Loden Green",r:110,g:113,b:83},{pantoneId:1317,name:"18-0426 TCX",majorColorName:"Yellow",colorName:"Capulet Olive",r:101,g:99,b:68},{pantoneId:1318,name:"18-0430 TCX",majorColorName:"Yellow",colorName:"Avocado",r:103,g:98,b:50},{pantoneId:1319,name:"18-0435 TCX",majorColorName:"Green",colorName:"Calla Green",r:106,g:111,b:52},{pantoneId:1320,name:"18-0503 TCX",majorColorName:"Gray",colorName:"Gargoyle",r:104,g:103,b:103},{pantoneId:1321,name:"18-0510 TCX",majorColorName:"Gray",colorName:"Castor Gray",r:100,g:103,b:98},{pantoneId:1322,name:"18-0513 TCX",majorColorName:"Brown",colorName:"Bungee Cord",r:105,g:97,b:86},{pantoneId:1323,name:"18-0515 TCX",majorColorName:"Gray",colorName:"Dusty Olive",r:100,g:99,b:86},{pantoneId:1324,name:"18-0521 TCX",majorColorName:"Yellow",colorName:"Burnt Olive",r:100,g:96,b:73},{pantoneId:1325,name:"18-0525 TCX",majorColorName:"Yellow",colorName:"Iguana",r:129,g:132,b:85},{pantoneId:1326,name:"18-0527 TCX",majorColorName:"Yellow",colorName:"Olive Branch",r:106,g:106,b:69},{pantoneId:1327,name:"18-0538 TCX",majorColorName:"Yellow",colorName:"Woodbine",r:123,g:127,b:50},{pantoneId:1328,name:"18-0601 TCX",majorColorName:"Gray",colorName:"Charcoal Gray",r:108,g:104,b:104},{pantoneId:1329,name:"18-0615 TCX",majorColorName:"Brown",colorName:"Stone Gray",r:104,g:94,b:79},{pantoneId:1330,name:"18-0617 TCX",majorColorName:"Brown",colorName:"Covert Green",r:128,g:118,b:95},{pantoneId:1331,name:"18-0622 TCX",majorColorName:"Yellow",colorName:"Olive Drab",r:117,g:109,b:71},{pantoneId:1332,name:"18-0627 TCX",majorColorName:"Yellow",colorName:"Fir Green",r:103,g:89,b:42},{pantoneId:1333,name:"18-0629 TCX",majorColorName:"Brown",colorName:"Lizard",r:113,g:100,b:62},{pantoneId:1334,name:"18-0724 TCX",majorColorName:"Brown",colorName:"Gothic Olive",r:124,g:110,b:79},{pantoneId:1335,name:"18-0820 TCX",majorColorName:"Brown",colorName:"Capers",r:105,g:94,b:75},{pantoneId:1336,name:"18-0825 TCX",majorColorName:"Brown",colorName:"Nutria",r:117,g:102,b:62},{pantoneId:1337,name:"18-0830 TCX",majorColorName:"Brown",colorName:"Butternut",r:122,g:100,b:63},{pantoneId:1338,name:"18-0832 TCX",majorColorName:"Brown",colorName:"Plantation",r:122,g:99,b:50},{pantoneId:1339,name:"18-0835 TCX",majorColorName:"Brown",colorName:"Dried Tobacco",r:153,g:123,b:56},{pantoneId:1340,name:"18-0840 TCX",majorColorName:"Brown",colorName:"Tapenade",r:128,g:93,b:36},{pantoneId:1341,name:"18-0920 TCX",majorColorName:"Brown",colorName:"Kangaroo",r:114,g:94,b:67},{pantoneId:1342,name:"18-0928 TCX",majorColorName:"Brown",colorName:"Sepia",r:107,g:84,b:62},{pantoneId:1343,name:"18-0930 TCX",majorColorName:"Brown",colorName:"Coffee Liqueur",r:106,g:81,b:59},{pantoneId:1344,name:"18-0933 TCX",majorColorName:"Brown",colorName:"Rubber",r:129,g:91,b:55},{pantoneId:1345,name:"18-0935 TCX",majorColorName:"Brown",colorName:"Buckthorn Brown",r:167,g:111,b:31},{pantoneId:1346,name:"18-0937 TCX",majorColorName:"Brown",colorName:"Bronze Brown",r:130,g:94,b:47},{pantoneId:1347,name:"18-0939 TCX",majorColorName:"Brown",colorName:"Cumin",r:146,g:114,b:64},{pantoneId:1348,name:"18-0940 TCX",majorColorName:"Brown",colorName:"Golden Brown",r:145,g:103,b:47},{pantoneId:1349,name:"18-0950 TCX",majorColorName:"Brown",colorName:"Cathay Spice",r:153,g:100,b:44},{pantoneId:1350,name:"18-1015 TCX",majorColorName:"Brown",colorName:"Shitake",r:115,g:98,b:83},{pantoneId:1351,name:"18-1016 TCX",majorColorName:"Brown",colorName:"Cub",r:110,g:92,b:75},{pantoneId:1352,name:"18-1018 TCX",majorColorName:"Brown",colorName:"Otter",r:127,g:103,b:79},{pantoneId:1353,name:"18-1022 TCX",majorColorName:"Brown",colorName:"Ermine",r:131,g:107,b:79},{pantoneId:1354,name:"18-1027 TCX",majorColorName:"Brown",colorName:"Bison",r:110,g:79,b:58},{pantoneId:1355,name:"18-1030 TCX",majorColorName:"Brown",colorName:"Thrush",r:147,g:107,b:79},{pantoneId:1356,name:"18-1031 TCX",majorColorName:"Brown",colorName:"Toffee",r:117,g:81,b:57},{pantoneId:1357,name:"18-1033 TCX",majorColorName:"Brown",colorName:"Dachshund",r:112,g:79,b:55},{pantoneId:1358,name:"18-1048 TCX",majorColorName:"Brown",colorName:"Monk's Robe",r:112,g:72,b:34},{pantoneId:1359,name:"18-1110 TCX",majorColorName:"Brown",colorName:"Brindle",r:130,g:119,b:107},{pantoneId:1360,name:"18-1112 TCX",majorColorName:"Brown",colorName:"Walnut",r:119,g:106,b:95},{pantoneId:1361,name:"18-1124 TCX",majorColorName:"Brown",colorName:"Partridge",r:114,g:84,b:64},{pantoneId:1362,name:"18-1130 TCX",majorColorName:"Brown",colorName:"Aztec",r:122,g:87,b:71},{pantoneId:1363,name:"18-1137 TCX",majorColorName:"Brown",colorName:"Rawhide",r:134,g:94,b:73},{pantoneId:1364,name:"18-1140 TCX",majorColorName:"Brown",colorName:"Mocha Bisque",r:140,g:84,b:58},{pantoneId:1365,name:"18-1142 TCX",majorColorName:"Brown",colorName:"Leather Brown",r:151,g:87,b:43},{pantoneId:1366,name:"18-1154 TCX",majorColorName:"Brown",colorName:"Glazed Ginger",r:145,g:85,b:43},{pantoneId:1367,name:"18-1160 TCX",majorColorName:"Brown",colorName:"Sudan Brown",r:172,g:107,b:41},{pantoneId:1368,name:"18-1222 TCX",majorColorName:"Brown",colorName:"Cocoa Brown",r:108,g:80,b:67},{pantoneId:1369,name:"18-1229 TCX",majorColorName:"Brown",colorName:"Carob Brown",r:133,g:92,b:76},{pantoneId:1370,name:"18-1230 TCX",majorColorName:"Brown",colorName:"Coconut Shell",r:135,g:78,b:60},{pantoneId:1371,name:"18-1235 TCX",majorColorName:"Brown",colorName:"Russet",r:143,g:95,b:80},{pantoneId:1372,name:"18-1238 TCX",majorColorName:"Brown",colorName:"Rustic Brown",r:133,g:81,b:65},{pantoneId:1373,name:"18-1239 TCX",majorColorName:"Brown",colorName:"Sierra",r:152,g:92,b:65},{pantoneId:1374,name:"18-1242 TCX",majorColorName:"Brown",colorName:"Brown Patina",r:131,g:79,b:61},{pantoneId:1375,name:"18-1244 TCX",majorColorName:"Brown",colorName:"Ginger Bread",r:140,g:74,b:47},{pantoneId:1376,name:"18-1248 TCX",majorColorName:"Brown",colorName:"Rust",r:181,g:90,b:48},{pantoneId:1377,name:"18-1250 TCX",majorColorName:"Brown",colorName:"Bombay Brown",r:159,g:81,b:48},{pantoneId:1378,name:"18-1306 TCX",majorColorName:"Brown",colorName:"Iron",r:115,g:100,b:96},{pantoneId:1379,name:"18-1312 TCX",majorColorName:"Brown",colorName:"Deep Taupe",r:123,g:102,b:96},{pantoneId:1380,name:"18-1314 TCX",majorColorName:"Brown",colorName:"Acorn",r:126,g:94,b:82},{pantoneId:1381,name:"18-1320 TCX",majorColorName:"Brown",colorName:"Clove",r:135,g:97,b:85},{pantoneId:1382,name:"18-1321 TCX",majorColorName:"Brown",colorName:"Brownie",r:143,g:114,b:101},{pantoneId:1383,name:"18-1326 TCX",majorColorName:"Brown",colorName:"Nutmeg",r:126,g:92,b:84},{pantoneId:1384,name:"18-1336 TCX",majorColorName:"Brown",colorName:"Copper Brown",r:154,g:96,b:81},{pantoneId:1385,name:"18-1343 TCX",majorColorName:"Brown",colorName:"Auburn",r:161,g:88,b:67},{pantoneId:1386,name:"18-1346 TCX",majorColorName:"Pink",colorName:"Bruschetta",r:167,g:89,b:73},{pantoneId:1387,name:"18-1350 TCX",majorColorName:"Brown",colorName:"Burnt Brick",r:161,g:77,b:58},{pantoneId:1388,name:"18-1354 TCX",majorColorName:"Brown",colorName:"Burnt Ochre",r:187,g:79,b:53},{pantoneId:1389,name:"18-1404 TCX",majorColorName:"Pink",colorName:"Sparrow",r:105,g:89,b:92},{pantoneId:1390,name:"18-1405 TCX",majorColorName:"Pink",colorName:"Flint",r:112,g:88,b:97},{pantoneId:1391,name:"18-1409 TCX",majorColorName:"Pink",colorName:"Peppercorn",r:108,g:86,b:86},{pantoneId:1392,name:"18-1411 TCX",majorColorName:"Pink",colorName:"Plum Wine",r:103,g:69,b:80},{pantoneId:1393,name:"18-1415 TCX",majorColorName:"Pink",colorName:"Marron",r:110,g:76,b:75},{pantoneId:1394,name:"18-1418 TCX",majorColorName:"Pink",colorName:"Crushed Berry",r:128,g:79,b:90},{pantoneId:1395,name:"18-1420 TCX",majorColorName:"Pink",colorName:"Wild Ginger",r:124,g:76,b:83},{pantoneId:1396,name:"18-1421 TCX",majorColorName:"Brown",colorName:"Cognac",r:139,g:100,b:90},{pantoneId:1397,name:"18-1425 TCX",majorColorName:"Pink",colorName:"Mahogany",r:130,g:77,b:70},{pantoneId:1398,name:"18-1426 TCX",majorColorName:"Pink",colorName:"Apple Butter",r:132,g:75,b:77},{pantoneId:1399,name:"18-1433 TCX",majorColorName:"Pink",colorName:"Chutney",r:152,g:89,b:75},{pantoneId:1400,name:"18-1434 TCX",majorColorName:"Pink",colorName:"Etruscan Red",r:162,g:87,b:75},{pantoneId:1401,name:"18-1435 TCX",majorColorName:"Pink",colorName:"Withered Rose",r:162,g:102,b:102},{pantoneId:1402,name:"18-1436 TCX",majorColorName:"Pink",colorName:"Light Mahogany",r:173,g:109,b:104},{pantoneId:1403,name:"18-1438 TCX",majorColorName:"Pink",colorName:"Marsala",r:150,g:79,b:76},{pantoneId:1404,name:"18-1441 TCX",majorColorName:"Brown",colorName:"Baked Clay",r:156,g:86,b:66},{pantoneId:1405,name:"18-1442 TCX",majorColorName:"Pink",colorName:"Red Ochre",r:145,g:56,b:50},{pantoneId:1406,name:"18-1443 TCX",majorColorName:"Pink",colorName:"Redwood",r:166,g:89,b:76},{pantoneId:1407,name:"18-1444 TCX",majorColorName:"Pink",colorName:"Tandoori Spice",r:159,g:68,b:64},{pantoneId:1408,name:"18-1445 TCX",majorColorName:"Red",colorName:"Spicy Orange",r:215,g:60,b:38},{pantoneId:1409,name:"18-1447 TCX",majorColorName:"Orange",colorName:"Orange Rust",r:194,g:90,b:60},{pantoneId:1410,name:"18-1448 TCX",majorColorName:"Pink",colorName:"Chili",r:190,g:81,b:65},{pantoneId:1411,name:"18-1449 TCX",majorColorName:"Red",colorName:"Ketchup",r:154,g:56,b:45},{pantoneId:1412,name:"18-1450 TCX",majorColorName:"Pink",colorName:"Mecca Orange",r:189,g:87,b:69},{pantoneId:1413,name:"18-1451 TCX",majorColorName:"Brown",colorName:"Autumn Glaze",r:179,g:87,b:63},{pantoneId:1414,name:"18-1454 TCX",majorColorName:"Red",colorName:"Red Clay",r:194,g:69,b:45},{pantoneId:1415,name:"18-1512 TCX",majorColorName:"Pink",colorName:"Rose Brown",r:128,g:86,b:91},{pantoneId:1416,name:"18-1531 TCX",majorColorName:"Pink",colorName:"Barn Red",r:143,g:66,b:59},{pantoneId:1417,name:"18-1535 TCX",majorColorName:"Pink",colorName:"Ginger Spice",r:182,g:93,b:75},{pantoneId:1418,name:"18-1536 TCX",majorColorName:"Pink",colorName:"Hot Sauce",r:171,g:79,b:65},{pantoneId:1419,name:"18-1537 TCX",majorColorName:"Brown",colorName:"Copper Coin",r:186,g:107,b:87},{pantoneId:1420,name:"18-1540 TCX",majorColorName:"Pink",colorName:"Cinnabar",r:156,g:69,b:59},{pantoneId:1421,name:"18-1547 TCX",majorColorName:"Pink",colorName:"Bossa Nova",r:151,g:58,b:54},{pantoneId:1422,name:"18-1550 TCX",majorColorName:"Red",colorName:"Aurora Red",r:185,g:58,b:50},{pantoneId:1423,name:"18-1555 TCX",majorColorName:"Red",colorName:"Molten Lava",r:181,g:51,b:46},{pantoneId:1424,name:"18-1561 TCX",majorColorName:"Red",colorName:"Orange.com",r:218,g:50,b:28},{pantoneId:1425,name:"18-1612 TCX",majorColorName:"Pink",colorName:"Rose Taupe",r:128,g:96,b:98},{pantoneId:1426,name:"18-1613 TCX",majorColorName:"Pink",colorName:"Renaissance Rose",r:134,g:85,b:96},{pantoneId:1427,name:"18-1614 TCX",majorColorName:"Pink",colorName:"Nocturne",r:122,g:75,b:86},{pantoneId:1428,name:"18-1616 TCX",majorColorName:"Pink",colorName:"Roan Rouge",r:136,g:81,b:87},{pantoneId:1429,name:"18-1619 TCX",majorColorName:"Pink",colorName:"Maroon",r:131,g:70,b:85},{pantoneId:1430,name:"18-1629 TCX",majorColorName:"Pink",colorName:"Faded Rose",r:191,g:100,b:100},{pantoneId:1431,name:"18-1630 TCX",majorColorName:"Pink",colorName:"Dusty Cedar",r:173,g:93,b:93},{pantoneId:1432,name:"18-1631 TCX",majorColorName:"Pink",colorName:"Earth Red",r:149,g:66,b:78},{pantoneId:1433,name:"18-1633 TCX",majorColorName:"Pink",colorName:"Garnet Rose",r:172,g:75,b:85},{pantoneId:1434,name:"18-1634 TCX",majorColorName:"Pink",colorName:"Baroque Rose",r:179,g:90,b:102},{pantoneId:1435,name:"18-1635 TCX",majorColorName:"Pink",colorName:"Slate Rose",r:180,g:88,b:101},{pantoneId:1436,name:"18-1643 TCX",majorColorName:"Pink",colorName:"Cardinal",r:173,g:62,b:72},{pantoneId:1437,name:"18-1648 TCX",majorColorName:"Pink",colorName:"Baked Apple",r:179,g:70,b:70},{pantoneId:1438,name:"18-1649 TCX",majorColorName:"Pink",colorName:"Deep Sea Coral",r:217,g:97,b:91},{pantoneId:1439,name:"18-1651 TCX",majorColorName:"Pink",colorName:"Cayenne",r:224,g:73,b:81},{pantoneId:1440,name:"18-1652 TCX",majorColorName:"Red",colorName:"Rococco Red",r:187,g:54,b:63},{pantoneId:1441,name:"18-1655 TCX",majorColorName:"Red",colorName:"Mars Red",r:188,g:39,b:49},{pantoneId:1442,name:"18-1658 TCX",majorColorName:"Red",colorName:"Pompeian Red",r:164,g:41,b:46},{pantoneId:1443,name:"18-1660 TCX",majorColorName:"Red",colorName:"Tomato",r:206,g:41,b:57},{pantoneId:1444,name:"18-1661 TCX",majorColorName:"Red",colorName:"Tomato Puree",r:197,g:51,b:70},{pantoneId:1445,name:"18-1662 TCX",majorColorName:"Red",colorName:"Flame Scarlet",r:205,g:33,b:42},{pantoneId:1446,name:"18-1663 TCX",majorColorName:"Pink",colorName:"Chinese Red",r:190,g:19,b:45},{pantoneId:1447,name:"18-1664 TCX",majorColorName:"Red",colorName:"Fiery Red",r:208,g:28,b:31},{pantoneId:1448,name:"18-1703 TCX",majorColorName:"Gray",colorName:"Shark",r:109,g:99,b:107},{pantoneId:1449,name:"18-1706 TCX",majorColorName:"Pink",colorName:"Black Plum",r:108,g:87,b:101},{pantoneId:1450,name:"18-1709 TCX",majorColorName:"Pink",colorName:"Tulipwood",r:128,g:84,b:102},{pantoneId:1451,name:"18-1710 TCX",majorColorName:"Pink",colorName:"Grape Nectar",r:141,g:92,b:116},{pantoneId:1452,name:"18-1716 TCX",majorColorName:"Pink",colorName:"Damson",r:133,g:76,b:101},{pantoneId:1453,name:"18-1718 TCX",majorColorName:"Pink",colorName:"Hawthorn Rose",r:136,g:76,b:94},{pantoneId:1454,name:"18-1720 TCX",majorColorName:"Pink",colorName:"Violet Quartz",r:139,g:73,b:99},{pantoneId:1455,name:"18-1725 TCX",majorColorName:"Pink",colorName:"Dry Rose",r:140,g:71,b:89},{pantoneId:1456,name:"18-1741 TCX",majorColorName:"Pink",colorName:"Raspberry Wine",r:182,g:55,b:83},{pantoneId:1457,name:"18-1754 TCX",majorColorName:"Pink",colorName:"Raspberry",r:211,g:46,b:94},{pantoneId:1458,name:"18-1755 TCX",majorColorName:"Pink",colorName:"Rouge Red",r:226,g:70,b:102},{pantoneId:1459,name:"18-1756 TCX",majorColorName:"Pink",colorName:"Teaberry",r:220,g:56,b:85},{pantoneId:1460,name:"18-1760 TCX",majorColorName:"Pink",colorName:"Barberry",r:191,g:25,b:69},{pantoneId:1461,name:"18-1761 TCX",majorColorName:"Pink",colorName:"Ski Patrol",r:187,g:18,b:55},{pantoneId:1462,name:"18-1762 TCX",majorColorName:"Red",colorName:"Hibiscus",r:221,g:56,b:72},{pantoneId:1463,name:"18-1763 TCX",majorColorName:"Red",colorName:"High Risk Red",r:199,g:31,b:45},{pantoneId:1464,name:"18-1764 TCX",majorColorName:"Pink",colorName:"Lollipop",r:204,g:28,b:59},{pantoneId:1465,name:"18-1807 TCX",majorColorName:"Pink",colorName:"Twilight Mauve",r:139,g:111,b:112},{pantoneId:1466,name:"18-1852 TCX",majorColorName:"Pink",colorName:"Rose Red",r:201,g:35,b:81},{pantoneId:1467,name:"18-1856 TCX",majorColorName:"Pink",colorName:"Virtual Pink",r:198,g:23,b:78},{pantoneId:1468,name:"18-1945 TCX",majorColorName:"Pink",colorName:"Bright Rose",r:197,g:25,b:89},{pantoneId:1469,name:"18-2027 TCX",majorColorName:"Pink",colorName:"Beaujolais",r:128,g:48,b:76},{pantoneId:1470,name:"18-2043 TCX",majorColorName:"Pink",colorName:"Raspberry Sorbet",r:210,g:56,b:108},{pantoneId:1471,name:"18-2109 TCX",majorColorName:"Pink",colorName:"Grape Shake",r:136,g:105,b:113},{pantoneId:1472,name:"18-2120 TCX",majorColorName:"Pink",colorName:"Honeysuckle",r:217,g:79,b:112},{pantoneId:1473,name:"18-2133 TCX",majorColorName:"Pink",colorName:"Pink Flambe",r:211,g:80,b:122},{pantoneId:1474,name:"18-2143 TCX",majorColorName:"Pink",colorName:"Beetroot Purple",r:207,g:45,b:113},{pantoneId:1475,name:"18-2320 TCX",majorColorName:"Pink",colorName:"Clover",r:138,g:51,b:113},{pantoneId:1476,name:"18-2326 TCX",majorColorName:"Pink",colorName:"Cactus Flower",r:168,g:62,b:108},{pantoneId:1477,name:"18-2328 TCX",majorColorName:"Pink",colorName:"Fuchsia Red",r:171,g:52,b:117},{pantoneId:1478,name:"18-2333 TCX",majorColorName:"Pink",colorName:"Raspberry Rose",r:204,g:67,b:133},{pantoneId:1479,name:"18-2336 TCX",majorColorName:"Pink",colorName:"Very Berry",r:183,g:50,b:117},{pantoneId:1480,name:"18-2436 TCX",majorColorName:"Pink",colorName:"Fuchsia Purple",r:211,g:52,b:121},{pantoneId:1481,name:"18-2525 TCX",majorColorName:"Pink",colorName:"Magenta Haze",r:157,g:68,b:110},{pantoneId:1482,name:"18-2527 TCX",majorColorName:"Pink",colorName:"Baton Rouge",r:151,g:60,b:108},{pantoneId:1483,name:"18-2929 TCX",majorColorName:"Pink",colorName:"Purple Wine",r:140,g:53,b:115},{pantoneId:1484,name:"18-3011 TCX",majorColorName:"Pink",colorName:"Argyle Purple",r:137,g:92,b:121},{pantoneId:1485,name:"18-3012 TCX",majorColorName:"Pink",colorName:"Purple Gumdrop",r:122,g:89,b:111},{pantoneId:1486,name:"18-3013 TCX",majorColorName:"Pink",colorName:"Berry Conserve",r:118,g:82,b:105},{pantoneId:1487,name:"18-3015 TCX",majorColorName:"Pink",colorName:"Amethyst",r:134,g:77,b:117},{pantoneId:1488,name:"18-3022 TCX",majorColorName:"Pink",colorName:"Deep Orchid",r:144,g:63,b:117},{pantoneId:1489,name:"18-3025 TCX",majorColorName:"Pink",colorName:"Striking Purple",r:148,g:78,b:135},{pantoneId:1490,name:"18-3027 TCX",majorColorName:"Pink",colorName:"Purple Orchid",r:173,g:77,b:140},{pantoneId:1491,name:"18-3211 TCX",majorColorName:"Pink",colorName:"Grapeade",r:133,g:103,b:123},{pantoneId:1492,name:"18-3218 TCX",majorColorName:"Light-Purple",colorName:"Concord Grape",r:124,g:83,b:121},{pantoneId:1493,name:"18-3220 TCX",majorColorName:"Pink",colorName:"Very Grape",r:146,g:114,b:136},{pantoneId:1494,name:"18-3224 TCX",majorColorName:"Pink",colorName:"Radiant Orchid",r:173,g:94,b:153},{pantoneId:1495,name:"18-3230 TCX",majorColorName:"Pink",colorName:"Meadow Mauve",r:169,g:86,b:140},{pantoneId:1496,name:"18-3324 TCX",majorColorName:"Purple",colorName:"Dahlia",r:132,g:62,b:131},{pantoneId:1497,name:"18-3331 TCX",majorColorName:"Purple",colorName:"Hyacinth Violet",r:141,g:70,b:135},{pantoneId:1498,name:"18-3339 TCX",majorColorName:"Pink",colorName:"Vivid Viola",r:153,g:60,b:124},{pantoneId:1499,name:"18-3410 TCX",majorColorName:"Light-Purple",colorName:"Vintage Violet",r:99,g:79,b:98},{pantoneId:1500,name:"18-3415 TCX",majorColorName:"Light-Purple",colorName:"Grape Jam",r:114,g:86,b:113},{pantoneId:1501,name:"18-3418 TCX",majorColorName:"Light-Purple",colorName:"Chinese Violet",r:131,g:94,b:129},{pantoneId:1502,name:"18-3513 TCX",majorColorName:"Light-Purple",colorName:"Grape Compote",r:107,g:88,b:118},{pantoneId:1503,name:"18-3518 TCX",majorColorName:"Light-Purple",colorName:"Patrician Purple",r:108,g:78,b:121},{pantoneId:1504,name:"18-3520 TCX",majorColorName:"Light-Purple",colorName:"Purple Heart",r:116,g:85,b:135},{pantoneId:1505,name:"18-3522 TCX",majorColorName:"Light-Purple",colorName:"Crushed Grape",r:122,g:84,b:127},{pantoneId:1506,name:"18-3531 TCX",majorColorName:"Light-Purple",colorName:"Royal Lilac",r:119,g:77,b:142},{pantoneId:1507,name:"18-3533 TCX",majorColorName:"Light-Purple",colorName:"Dewberry",r:139,g:88,b:151},{pantoneId:1508,name:"18-3615 TCX",majorColorName:"Light-Purple",colorName:"Imperial Palace",r:96,g:78,b:122},{pantoneId:1509,name:"18-3633 TCX",majorColorName:"Light-Purple",colorName:"Deep Lavender",r:119,g:84,b:150},{pantoneId:1510,name:"18-3710 TCX",majorColorName:"Gray",colorName:"Gray Ridge",r:132,g:121,b:134},{pantoneId:1511,name:"18-3712 TCX",majorColorName:"Light-Purple",colorName:"Purple Sage",r:117,g:105,b:126},{pantoneId:1512,name:"18-3714 TCX",majorColorName:"Light-Purple",colorName:"Mulled Grape",r:103,g:90,b:116},{pantoneId:1513,name:"18-3715 TCX",majorColorName:"Light-Purple",colorName:"Montana Grape",r:108,g:89,b:113},{pantoneId:1514,name:"18-3718 TCX",majorColorName:"Light-Purple",colorName:"Purple Haze",r:128,g:115,b:150},{pantoneId:1515,name:"18-3737 TCX",majorColorName:"Light-Purple",colorName:"Passion Flower",r:109,g:86,b:152},{pantoneId:1516,name:"18-3812 TCX",majorColorName:"Light-Purple",colorName:"Cadet",r:106,g:99,b:120},{pantoneId:1517,name:"18-3817 TCX",majorColorName:"Blue",colorName:"Heron",r:98,g:97,b:126},{pantoneId:1518,name:"18-3820 TCX",majorColorName:"Blue",colorName:"Twilight Purple",r:102,g:100,b:139},{pantoneId:1519,name:"18-3828 TCX",majorColorName:"Blue",colorName:"Corsican Blue",r:100,g:96,b:147},{pantoneId:1520,name:"18-3833 TCX",majorColorName:"Blue",colorName:"Dusted Peri",r:105,g:107,b:160},{pantoneId:1521,name:"18-3834 TCX",majorColorName:"Blue",colorName:"Veronica",r:109,g:102,b:149},{pantoneId:1522,name:"18-3838 TCX",majorColorName:"Light-Purple",colorName:"Ultra Violet",r:95,g:75,b:139},{pantoneId:1523,name:"18-3840 TCX",majorColorName:"Blue",colorName:"Purple Opulence",r:96,g:86,b:154},{pantoneId:1524,name:"18-3905 TCX",majorColorName:"Gray",colorName:"Excalibur",r:103,g:97,b:104},{pantoneId:1525,name:"18-3910 TCX",majorColorName:"Blue",colorName:"Folkstone Gray",r:98,g:104,b:121},{pantoneId:1526,name:"18-3916 TCX",majorColorName:"Blue",colorName:"Flint Stone",r:103,g:114,b:131},{pantoneId:1527,name:"18-3918 TCX",majorColorName:"Blue",colorName:"China Blue",r:84,g:100,b:119},{pantoneId:1528,name:"18-3920 TCX",majorColorName:"Blue",colorName:"Coastal Fjord",r:80,g:93,b:126},{pantoneId:1529,name:"18-3921 TCX",majorColorName:"Blue",colorName:"Bijou Blue",r:78,g:94,b:127},{pantoneId:1530,name:"18-3922 TCX",majorColorName:"Blue",colorName:"Coronet Blue",r:89,g:114,b:142},{pantoneId:1531,name:"18-3927 TCX",majorColorName:"Blue",colorName:"Velvet Morning",r:96,g:104,b:141},{pantoneId:1532,name:"18-3928 TCX",majorColorName:"Blue",colorName:"Dutch Blue",r:74,g:99,b:141},{pantoneId:1533,name:"18-3930 TCX",majorColorName:"Blue",colorName:"Bleached Denim",r:100,g:111,b:155},{pantoneId:1534,name:"18-3932 TCX",majorColorName:"Blue",colorName:"Marlin",r:81,g:91,b:135},{pantoneId:1535,name:"18-3935 TCX",majorColorName:"Blue",colorName:"Wedgewood",r:100,g:121,b:179},{pantoneId:1536,name:"18-3937 TCX",majorColorName:"Blue",colorName:"Blue Yonder",r:90,g:119,b:168},{pantoneId:1537,name:"18-3943 TCX",majorColorName:"Blue",colorName:"Blue Iris",r:90,g:91,b:159},{pantoneId:1538,name:"18-3944 TCX",majorColorName:"Blue",colorName:"Violet Storm",r:92,g:97,b:157},{pantoneId:1539,name:"18-3945 TCX",majorColorName:"Blue",colorName:"Amparo Blue",r:73,g:96,b:168},{pantoneId:1540,name:"18-3946 TCX",majorColorName:"Blue",colorName:"Baja Blue",r:95,g:109,b:176},{pantoneId:1541,name:"18-3949 TCX",majorColorName:"Blue",colorName:"Dazzling Blue",r:56,g:80,b:160},{pantoneId:1542,name:"18-3963 TCX",majorColorName:"Blue",colorName:"Spectrum Blue",r:61,g:60,b:124},{pantoneId:1543,name:"18-4005 TCX",majorColorName:"Gray",colorName:"Steel Gray",r:114,g:111,b:112},{pantoneId:1544,name:"18-4011 TCX",majorColorName:"Blue",colorName:"Goblin Blue",r:95,g:114,b:120},{pantoneId:1545,name:"18-4018 TCX",majorColorName:"Blue",colorName:"Real Teal",r:64,g:93,b:115},{pantoneId:1546,name:"18-4020 TCX",majorColorName:"Blue",colorName:"Captain's Blue",r:85,g:112,b:136},{pantoneId:1547,name:"18-4023 TCX",majorColorName:"Blue",colorName:"Blue Ashes",r:59,g:95,b:120},{pantoneId:1548,name:"18-4025 TCX",majorColorName:"Blue",colorName:"Copen Blue",r:81,g:107,b:132},{pantoneId:1549,name:"18-4026 TCX",majorColorName:"Blue",colorName:"Stellar",r:70,g:100,b:126},{pantoneId:1550,name:"18-4027 TCX",majorColorName:"Blue",colorName:"Moonlight Blue",r:80,g:104,b:134},{pantoneId:1551,name:"18-4029 TCX",majorColorName:"Blue",colorName:"Federal Blue",r:67,g:98,b:139},{pantoneId:1552,name:"18-4032 TCX",majorColorName:"Blue",colorName:"Deep Water",r:38,g:102,b:145},{pantoneId:1553,name:"18-4036 TCX",majorColorName:"Blue",colorName:"Parisian Blue",r:79,g:124,b:164},{pantoneId:1554,name:"18-4039 TCX",majorColorName:"Blue",colorName:"Regatta",r:72,g:122,b:183},{pantoneId:1555,name:"18-4041 TCX",majorColorName:"Blue",colorName:"Star Sapphire",r:56,g:97,b:146},{pantoneId:1556,name:"18-4043 TCX",majorColorName:"Blue",colorName:"Palace Blue",r:52,g:108,b:176},{pantoneId:1557,name:"18-4045 TCX",majorColorName:"Blue",colorName:"Daphne",r:15,g:95,b:154},{pantoneId:1558,name:"18-4051 TCX",majorColorName:"Blue",colorName:"Strong Blue",r:31,g:93,b:160},{pantoneId:1559,name:"18-4105 TCX",majorColorName:"Gray",colorName:"Moon Mist",r:128,g:129,b:125},{pantoneId:1560,name:"18-4140 TCX",majorColorName:"Blue",colorName:"French Blue",r:0,g:114,b:181},{pantoneId:1561,name:"18-4141 TCX",majorColorName:"Blue",colorName:"Campanula",r:50,g:114,b:175},{pantoneId:1562,name:"18-4148 TCX",majorColorName:"Blue",colorName:"Victoria Blue",r:8,g:88,b:157},{pantoneId:1563,name:"18-4215 TCX",majorColorName:"Blue",colorName:"Blue Mirage",r:92,g:109,b:124},{pantoneId:1564,name:"18-4217 TCX",majorColorName:"Blue",colorName:"Bluestone",r:87,g:114,b:132},{pantoneId:1565,name:"18-4220 TCX",majorColorName:"Blue",colorName:"Provincial Blue",r:92,g:121,b:142},{pantoneId:1566,name:"18-4222 TCX",majorColorName:"Blue",colorName:"Bluesteel",r:53,g:99,b:124},{pantoneId:1567,name:"18-4225 TCX",majorColorName:"Blue",colorName:"Saxony Blue",r:31,g:102,b:128},{pantoneId:1568,name:"18-4231 TCX",majorColorName:"Blue",colorName:"Blue Sapphire",r:9,g:87,b:123},{pantoneId:1569,name:"18-4232 TCX",majorColorName:"Blue",colorName:"Faience",r:42,g:106,b:139},{pantoneId:1570,name:"18-4244 TCX",majorColorName:"Blue",colorName:"Directoire Blue",r:0,g:97,b:163},{pantoneId:1571,name:"18-4247 TCX",majorColorName:"Blue",colorName:"Brilliant Blue",r:0,g:117,b:179},{pantoneId:1572,name:"18-4252 TCX",majorColorName:"Blue",colorName:"Blue Aster",r:0,g:119,b:179},{pantoneId:1573,name:"18-4320 TCX",majorColorName:"Blue",colorName:"Aegean Blue",r:78,g:110,b:129},{pantoneId:1574,name:"18-4330 TCX",majorColorName:"Blue",colorName:"Swedish Blue",r:0,g:126,b:177},{pantoneId:1575,name:"18-4334 TCX",majorColorName:"Blue",colorName:"Mediterranian Blue",r:20,g:120,b:167},{pantoneId:1576,name:"18-4417 TCX",majorColorName:"Blue",colorName:"Tapestry",r:67,g:101,b:115},{pantoneId:1577,name:"18-4432 TCX",majorColorName:"Blue",colorName:"Turkish Tile",r:0,g:105,b:139},{pantoneId:1578,name:"18-4440 TCX",majorColorName:"Blue",colorName:"Cloisonne",r:0,g:117,b:175},{pantoneId:1579,name:"18-4510 TCX",majorColorName:"Blue",colorName:"Trooper",r:105,g:122,b:126},{pantoneId:1580,name:"18-4522 TCX",majorColorName:"Blue",colorName:"Colonial Blue",r:45,g:100,b:113},{pantoneId:1581,name:"18-4525 TCX",majorColorName:"Blue",colorName:"Caribbean Sea",r:0,g:129,b:157},{pantoneId:1582,name:"18-4528 TCX",majorColorName:"Blue",colorName:"Mosaic Blue",r:0,g:117,b:143},{pantoneId:1583,name:"18-4530 TCX",majorColorName:"Blue",colorName:"Celestial",r:0,g:99,b:128},{pantoneId:1584,name:"18-4535 TCX",majorColorName:"Blue",colorName:"Blue Jewel",r:0,g:123,b:170},{pantoneId:1585,name:"18-4537 TCX",majorColorName:"Blue",colorName:"Methyl Blue",r:0,g:116,b:168},{pantoneId:1586,name:"18-4612 TCX",majorColorName:"Blue",colorName:"North Atlantic",r:83,g:109,b:112},{pantoneId:1587,name:"18-4711 TCX",majorColorName:"Blue",colorName:"Stormy Sea",r:110,g:128,b:130},{pantoneId:1588,name:"18-4718 TCX",majorColorName:"Blue",colorName:"Hydro",r:66,g:105,b:114},{pantoneId:1589,name:"18-4726 TCX",majorColorName:"Blue",colorName:"Biscay Bay",r:9,g:121,b:136},{pantoneId:1590,name:"18-4728 TCX",majorColorName:"Blue",colorName:"Harbor Blue",r:0,g:101,b:110},{pantoneId:1591,name:"18-4733 TCX",majorColorName:"Blue",colorName:"Enamel Blue",r:0,g:122,b:142},{pantoneId:1592,name:"18-4735 TCX",majorColorName:"Blue",colorName:"Tile Blue",r:0,g:132,b:145},{pantoneId:1593,name:"18-4834 TCX",majorColorName:"Blue",colorName:"Deep Lake",r:0,g:101,b:107},{pantoneId:1594,name:"18-4930 TCX",majorColorName:"Blue-Green",colorName:"Tropical Green",r:0,g:135,b:134},{pantoneId:1595,name:"18-4936 TCX",majorColorName:"Blue",colorName:"Fanfare",r:0,g:109,b:112},{pantoneId:1596,name:"18-5020 TCX",majorColorName:"Blue-Green",colorName:"Parasailing",r:0,g:115,b:108},{pantoneId:1597,name:"18-5105 TCX",majorColorName:"Gray",colorName:"Sedona Sage",r:104,g:109,b:108},{pantoneId:1598,name:"18-5112 TCX",majorColorName:"Blue-green",colorName:"Sea Pine",r:76,g:105,b:105},{pantoneId:1599,name:"18-5115 TCX",majorColorName:"Blue-Green",colorName:"North Sea",r:49,g:108,b:107},{pantoneId:1600,name:"18-5121 TCX",majorColorName:"Blue-Green",colorName:"Bayou",r:32,g:112,b:111},{pantoneId:1601,name:"18-5128 TCX",majorColorName:"Blue-Green",colorName:"Blue Grass",r:0,g:124,b:122},{pantoneId:1602,name:"18-5203 TCX",majorColorName:"Gray",colorName:"Pewter",r:102,g:101,b:100},{pantoneId:1603,name:"18-5308 TCX",majorColorName:"Blue-Green",colorName:"Blue Spruce",r:72,g:107,b:103},{pantoneId:1604,name:"18-5315 TCX",majorColorName:"Blue-Green",colorName:"Bayberry",r:37,g:89,b:88},{pantoneId:1605,name:"18-5322 TCX",majorColorName:"Blue-Green",colorName:"Alpine Green",r:0,g:95,b:86},{pantoneId:1606,name:"18-5338 TCX",majorColorName:"Blue-Green",colorName:"Ultramarine Green",r:0,g:107,b:84},{pantoneId:1607,name:"18-5410 TCX",majorColorName:"Blue-Green",colorName:"Silver Pine",r:78,g:104,b:102},{pantoneId:1608,name:"18-5418 TCX",majorColorName:"Blue-Green",colorName:"Antique Green",r:41,g:103,b:92},{pantoneId:1609,name:"18-5424 TCX",majorColorName:"Blue-Green",colorName:"Cadmium Green",r:0,g:103,b:91},{pantoneId:1610,name:"18-5606 TCX",majorColorName:"Gray",colorName:"Balsam Green",r:87,g:102,b:100},{pantoneId:1611,name:"18-5610 TCX",majorColorName:"Blue",colorName:"Brittany Blue",r:76,g:126,b:134},{pantoneId:1612,name:"18-5611 TCX",majorColorName:"Blue-Green",colorName:"Dark Forest",r:85,g:105,b:98},{pantoneId:1613,name:"18-5612 TCX",majorColorName:"Blue-Green",colorName:"Sagebrush Green",r:86,g:117,b:114},{pantoneId:1614,name:"18-5616 TCX",majorColorName:"Blue-Green",colorName:"Posy Green",r:50,g:91,b:81},{pantoneId:1615,name:"18-5618 TCX",majorColorName:"Blue-Green",colorName:"Deep Jungle",r:54,g:113,b:111},{pantoneId:1616,name:"18-5619 TCX",majorColorName:"Blue-Green",colorName:"Tidepool",r:10,g:111,b:105},{pantoneId:1617,name:"18-5620 TCX",majorColorName:"Blue-Green",colorName:"Ivy",r:34,g:108,b:99},{pantoneId:1618,name:"18-5621 TCX",majorColorName:"Blue-Green",colorName:"Fir",r:58,g:114,b:95},{pantoneId:1619,name:"18-5622 TCX",majorColorName:"Blue-Green",colorName:"Frosty Spruce",r:87,g:130,b:112},{pantoneId:1620,name:"18-5624 TCX",majorColorName:"Blue-Green",colorName:"Shady Glade",r:0,g:110,b:91},{pantoneId:1621,name:"18-5633 TCX",majorColorName:"Blue-Green",colorName:"Bosphorus",r:0,g:117,b:88},{pantoneId:1622,name:"18-5642 TCX",majorColorName:"Blue-Green",colorName:"Golf Green",r:0,g:135,b:99},{pantoneId:1623,name:"18-5718 TCX",majorColorName:"Blue-Green",colorName:"Smoke Pine",r:62,g:98,b:87},{pantoneId:1624,name:"18-5725 TCX",majorColorName:"Blue-Green",colorName:"Galapagos Green",r:41,g:104,b:95},{pantoneId:1625,name:"18-5841 TCX",majorColorName:"Blue-Green",colorName:"Pepper Green",r:0,g:125,b:96},{pantoneId:1626,name:"18-5913 TCX",majorColorName:"Blue-Green",colorName:"Garden Topiary",r:62,g:82,b:75},{pantoneId:1627,name:"18-6011 TCX",majorColorName:"Green",colorName:"Duck Green",r:83,g:102,b:92},{pantoneId:1628,name:"18-6018 TCX",majorColorName:"Blue-Green",colorName:"Foliage Green",r:62,g:111,b:88},{pantoneId:1629,name:"18-6022 TCX",majorColorName:"Blue-Green",colorName:"Leprechaun",r:55,g:134,b:97},{pantoneId:1630,name:"18-6024 TCX",majorColorName:"Green",colorName:"Amazon",r:31,g:115,b:73},{pantoneId:1631,name:"18-6114 TCX",majorColorName:"Green",colorName:"Myrtle",r:79,g:107,b:88},{pantoneId:1632,name:"18-6216 TCX",majorColorName:"Green",colorName:"Comfrey",r:91,g:121,b:97},{pantoneId:1633,name:"18-6320 TCX",majorColorName:"Green",colorName:"Fairway",r:71,g:112,b:80},{pantoneId:1634,name:"18-6330 TCX",majorColorName:"Green",colorName:"Juniper",r:61,g:114,b:69},{pantoneId:1635,name:"19-0000 TCX",majorColorName:"Gray",colorName:"Raven",r:65,g:62,b:61},{pantoneId:1636,name:"19-0230 TCX",majorColorName:"Green",colorName:"Garden Green",r:73,g:94,b:53},{pantoneId:1637,name:"19-0303 TCX",majorColorName:"Gray",colorName:"Jet Black",r:45,g:44,b:47},{pantoneId:1638,name:"19-0309 TCX",majorColorName:"Gray",colorName:"Thyme",r:80,g:87,b:76},{pantoneId:1639,name:"19-0312 TCX",majorColorName:"Gray",colorName:"Beetle",r:85,g:88,b:76},{pantoneId:1640,name:"19-0315 TCX",majorColorName:"Green",colorName:"Black Forest",r:65,g:79,b:60},{pantoneId:1641,name:"19-0323 TCX",majorColorName:"Green",colorName:"Chive",r:74,g:83,b:53},{pantoneId:1642,name:"19-0405 TCX",majorColorName:"Gray",colorName:"Beluga",r:74,g:72,b:67},{pantoneId:1643,name:"19-0414 TCX",majorColorName:"Yellow",colorName:"Forest Night",r:67,g:66,b:55},{pantoneId:1644,name:"19-0415 TCX",majorColorName:"Green",colorName:"Duffel Bag",r:57,g:64,b:52},{pantoneId:1645,name:"19-0417 TCX",majorColorName:"Green",colorName:"Kombu Green",r:58,g:64,b:50},{pantoneId:1646,name:"19-0419 TCX",majorColorName:"Green",colorName:"Rifle Green",r:65,g:72,b:50},{pantoneId:1647,name:"19-0506 TCX",majorColorName:"Gray",colorName:"Black Ink",r:68,g:65,b:60},{pantoneId:1648,name:"19-0508 TCX",majorColorName:"Gray",colorName:"Peat",r:59,g:58,b:54},{pantoneId:1649,name:"19-0509 TCX",majorColorName:"Yellow",colorName:"Rosin",r:54,g:54,b:45},{pantoneId:1650,name:"19-0511 TCX",majorColorName:"Yellow",colorName:"Grape Leaf",r:84,g:81,b:68},{pantoneId:1651,name:"19-0512 TCX",majorColorName:"Yellow",colorName:"Ivy Green",r:88,g:84,b:66},{pantoneId:1652,name:"19-0515 TCX",majorColorName:"Yellow",colorName:"Olive Night",r:83,g:80,b:64},{pantoneId:1653,name:"19-0516 TCX",majorColorName:"Brown",colorName:"Dark Olive",r:87,g:77,b:53},{pantoneId:1654,name:"19-0608 TCX",majorColorName:"Brown",colorName:"Black Olive",r:72,g:65,b:59},{pantoneId:1655,name:"19-0614 TCX",majorColorName:"Brown",colorName:"Wren",r:74,g:65,b:57},{pantoneId:1656,name:"19-0617 TCX",majorColorName:"Brown",colorName:"Teak",r:101,g:83,b:65},{pantoneId:1657,name:"19-0618 TCX",majorColorName:"Brown",colorName:"Beech",r:91,g:79,b:59},{pantoneId:1658,name:"19-0622 TCX",majorColorName:"Brown",colorName:"Military Olive",r:99,g:86,b:59},{pantoneId:1659,name:"19-0712 TCX",majorColorName:"Brown",colorName:"Demitasse",r:64,g:52,b:43},{pantoneId:1660,name:"19-0809 TCX",majorColorName:"Brown",colorName:"Chocolate Chip",r:104,g:90,b:78},{pantoneId:1661,name:"19-0810 TCX",majorColorName:"Brown",colorName:"Major Brown",r:91,g:81,b:73},{pantoneId:1662,name:"19-0812 TCX",majorColorName:"Brown",colorName:"Turkish Coffee",r:72,g:63,b:57},{pantoneId:1663,name:"19-0814 TCX",majorColorName:"Brown",colorName:"Slate Black",r:75,g:61,b:51},{pantoneId:1664,name:"19-0815 TCX",majorColorName:"Brown",colorName:"Desert Palm",r:90,g:70,b:50},{pantoneId:1665,name:"19-0820 TCX",majorColorName:"Brown",colorName:"Canteen",r:94,g:83,b:71},{pantoneId:1666,name:"19-0822 TCX",majorColorName:"Brown",colorName:"Tarmac",r:90,g:83,b:72},{pantoneId:1667,name:"19-0912 TCX",majorColorName:"Brown",colorName:"Chocolate Brown",r:78,g:64,b:59},{pantoneId:1668,name:"19-0915 TCX",majorColorName:"Pink",colorName:"Coffee Bean",r:64,g:49,b:47},{pantoneId:1669,name:"19-1012 TCX",majorColorName:"Pink",colorName:"French Roast",r:88,g:66,b:63},{pantoneId:1670,name:"19-1015 TCX",majorColorName:"Brown",colorName:"Bracken",r:79,g:63,b:59},{pantoneId:1671,name:"19-1016 TCX",majorColorName:"Pink",colorName:"Java",r:67,g:51,b:49},{pantoneId:1672,name:"19-1020 TCX",majorColorName:"Brown",colorName:"Dark Earth",r:92,g:73,b:57},{pantoneId:1673,name:"19-1034 TCX",majorColorName:"Brown",colorName:"Breen",r:121,g:93,b:52},{pantoneId:1674,name:"19-1101 TCX",majorColorName:"Gray",colorName:"After Dark",r:60,g:53,b:53},{pantoneId:1675,name:"19-1102 TCX",majorColorName:"Gray",colorName:"Licorice",r:58,g:53,b:54},{pantoneId:1676,name:"19-1111 TCX",majorColorName:"Pink",colorName:"Black Coffee",r:59,g:48,b:47},{pantoneId:1677,name:"19-1116 TCX",majorColorName:"Brown",colorName:"Carafe",r:93,g:71,b:58},{pantoneId:1678,name:"19-1118 TCX",majorColorName:"Brown",colorName:"Chestnut",r:88,g:64,b:57},{pantoneId:1679,name:"19-1121 TCX",majorColorName:"Brown",colorName:"Pinecone",r:97,g:71,b:59},{pantoneId:1680,name:"19-1213 TCX",majorColorName:"Pink",colorName:"Shopping Bag",r:90,g:71,b:67},{pantoneId:1681,name:"19-1217 TCX",majorColorName:"Brown",colorName:"Mustang",r:104,g:75,b:64},{pantoneId:1682,name:"19-1218 TCX",majorColorName:"Brown",colorName:"Potting Soil",r:84,g:57,b:45},{pantoneId:1683,name:"19-1220 TCX",majorColorName:"Brown",colorName:"Cappuccino",r:99,g:63,b:51},{pantoneId:1684,name:"19-1228 TCX",majorColorName:"Brown",colorName:"Root Beer",r:113,g:74,b:65},{pantoneId:1685,name:"19-1230 TCX",majorColorName:"Brown",colorName:"Friar Brown",r:110,g:73,b:58},{pantoneId:1686,name:"19-1235 TCX",majorColorName:"Brown",colorName:"Brunette",r:102,g:66,b:56},{pantoneId:1687,name:"19-1241 TCX",majorColorName:"Brown",colorName:"Tortoise Shell",r:117,g:71,b:52},{pantoneId:1688,name:"19-1245 TCX",majorColorName:"Brown",colorName:"Arabian Spice",r:136,g:67,b:50},{pantoneId:1689,name:"19-1250 TCX",majorColorName:"Brown",colorName:"Picante",r:141,g:63,b:45},{pantoneId:1690,name:"19-1314 TCX",majorColorName:"Pink",colorName:"Seal Brown",r:73,g:59,b:57},{pantoneId:1691,name:"19-1317 TCX",majorColorName:"Pink",colorName:"Bitter Chocolate",r:80,g:49,b:48},{pantoneId:1692,name:"19-1320 TCX",majorColorName:"Pink",colorName:"Sable",r:110,g:64,b:60},{pantoneId:1693,name:"19-1321 TCX",majorColorName:"Pink",colorName:"Rum Raisin",r:88,g:52,b:50},{pantoneId:1694,name:"19-1322 TCX",majorColorName:"Pink",colorName:"Brown Stone",r:89,g:60,b:57},{pantoneId:1695,name:"19-1325 TCX",majorColorName:"Pink",colorName:"Hot Chocolate",r:104,g:59,b:57},{pantoneId:1696,name:"19-1327 TCX",majorColorName:"Pink",colorName:"Andorra",r:96,g:53,b:53},{pantoneId:1697,name:"19-1331 TCX",majorColorName:"Pink",colorName:"Madder Brown",r:106,g:51,b:49},{pantoneId:1698,name:"19-1333 TCX",majorColorName:"Brown",colorName:"Sequoia",r:128,g:72,b:57},{pantoneId:1699,name:"19-1334 TCX",majorColorName:"Pink",colorName:"Henna",r:124,g:66,b:60},{pantoneId:1700,name:"19-1338 TCX",majorColorName:"Pink",colorName:"Russet Brown",r:116,g:51,b:50},{pantoneId:1701,name:"19-1420 TCX",majorColorName:"Pink",colorName:"Deep Mahogany",r:85,g:59,b:57},{pantoneId:1702,name:"19-1430 TCX",majorColorName:"Brown",colorName:"Mink",r:115,g:75,b:66},{pantoneId:1703,name:"19-1431 TCX",majorColorName:"Pink",colorName:"Fudgesickle",r:99,g:64,b:58},{pantoneId:1704,name:"19-1436 TCX",majorColorName:"Pink",colorName:"Cinnamon",r:107,g:65,b:57},{pantoneId:1705,name:"19-1518 TCX",majorColorName:"Pink",colorName:"Puce",r:80,g:57,b:56},{pantoneId:1706,name:"19-1521 TCX",majorColorName:"Pink",colorName:"Red Mahogany",r:96,g:55,b:61},{pantoneId:1707,name:"19-1522 TCX",majorColorName:"Pink",colorName:"Zinfandel",r:92,g:41,b:53},{pantoneId:1708,name:"19-1524 TCX",majorColorName:"Pink",colorName:"Oxblood Red",r:112,g:57,b:63},{pantoneId:1709,name:"19-1525 TCX",majorColorName:"Pink",colorName:"Port",r:102,g:51,b:54},{pantoneId:1710,name:"19-1526 TCX",majorColorName:"Pink",colorName:"Chocolate Truffle",r:97,g:46,b:53},{pantoneId:1711,name:"19-1528 TCX",majorColorName:"Pink",colorName:"Windsor Wine",r:88,g:43,b:54},{pantoneId:1712,name:"19-1530 TCX",majorColorName:"Pink",colorName:"Burnt Russet",r:126,g:57,b:64},{pantoneId:1713,name:"19-1532 TCX",majorColorName:"Pink",colorName:"Rosewood",r:129,g:54,b:57},{pantoneId:1714,name:"19-1533 TCX",majorColorName:"Pink",colorName:"Cowhide",r:136,g:67,b:68},{pantoneId:1715,name:"19-1540 TCX",majorColorName:"Pink",colorName:"Burnt Henna",r:126,g:57,b:47},{pantoneId:1716,name:"19-1543 TCX",majorColorName:"Pink",colorName:"Brick Red",r:140,g:55,b:62},{pantoneId:1717,name:"19-1557 TCX",majorColorName:"Pink",colorName:"Chili Pepper",r:155,g:27,b:48},{pantoneId:1718,name:"19-1606 TCX",majorColorName:"Pink",colorName:"Raisin",r:82,g:65,b:68},{pantoneId:1719,name:"19-1608 TCX",majorColorName:"Pink",colorName:"Prune Purple",r:92,g:58,b:77},{pantoneId:1720,name:"19-1617 TCX",majorColorName:"Pink",colorName:"Burgundy",r:100,g:49,b:62},{pantoneId:1721,name:"19-1619 TCX",majorColorName:"Pink",colorName:"Fudge",r:73,g:51,b:56},{pantoneId:1722,name:"19-1620 TCX",majorColorName:"Pink",colorName:"Huckleberry",r:91,g:67,b:73},{pantoneId:1723,name:"19-1621 TCX",majorColorName:"Pink",colorName:"Catawba Grape",r:93,g:60,b:67},{pantoneId:1724,name:"19-1623 TCX",majorColorName:"Pink",colorName:"Vineyard Wine",r:88,g:54,b:61},{pantoneId:1725,name:"19-1624 TCX",majorColorName:"Pink",colorName:"Sassafras",r:84,g:53,b:59},{pantoneId:1726,name:"19-1625 TCX",majorColorName:"Pink",colorName:"Decadent Chocolate",r:81,g:50,b:53},{pantoneId:1727,name:"19-1627 TCX",majorColorName:"Pink",colorName:"Port Royale",r:80,g:43,b:51},{pantoneId:1728,name:"19-1629 TCX",majorColorName:"Pink",colorName:"Ruby Wine",r:119,g:51,b:59},{pantoneId:1729,name:"19-1650 TCX",majorColorName:"Pink",colorName:"Biking Red",r:119,g:33,b:46},{pantoneId:1730,name:"19-1655 TCX",majorColorName:"Pink",colorName:"Garnet",r:149,g:54,b:64},{pantoneId:1731,name:"19-1656 TCX",majorColorName:"Pink",colorName:"Rio Red",r:138,g:34,b:50},{pantoneId:1732,name:"19-1663 TCX",majorColorName:"Red",colorName:"Ribbon Red",r:185,g:38,b:54},{pantoneId:1733,name:"19-1664 TCX",majorColorName:"Pink",colorName:"True Red",r:191,g:25,b:50},{pantoneId:1734,name:"19-1716 TCX",majorColorName:"Pink",colorName:"Mauve Wine",r:91,g:54,b:68},{pantoneId:1735,name:"19-1718 TCX",majorColorName:"Pink",colorName:"Fig",r:83,g:45,b:59},{pantoneId:1736,name:"19-1725 TCX",majorColorName:"Pink",colorName:"Tawny Port",r:92,g:44,b:53},{pantoneId:1737,name:"19-1726 TCX",majorColorName:"Pink",colorName:"Cordovan",r:112,g:47,b:59},{pantoneId:1738,name:"19-1759 TCX",majorColorName:"Pink",colorName:"American Beauty",r:167,g:51,b:64},{pantoneId:1739,name:"19-1760 TCX",majorColorName:"Red",colorName:"Scarlet",r:188,g:43,b:61},{pantoneId:1740,name:"19-1761 TCX",majorColorName:"Pink",colorName:"Tango Red",r:172,g:14,b:46},{pantoneId:1741,name:"19-1762 TCX",majorColorName:"Pink",colorName:"Crimson",r:174,g:14,b:54},{pantoneId:1742,name:"19-1763 TCX",majorColorName:"Red",colorName:"Racing Red",r:189,g:22,b:44},{pantoneId:1743,name:"19-1764 TCX",majorColorName:"Pink",colorName:"Lipstick Red",r:179,g:26,b:56},{pantoneId:1744,name:"19-1840 TCX",majorColorName:"Pink",colorName:"Deep Claret",r:151,g:52,b:67},{pantoneId:1745,name:"19-1850 TCX",majorColorName:"Pink",colorName:"Red Bud",r:150,g:45,b:73},{pantoneId:1746,name:"19-1860 TCX",majorColorName:"Pink",colorName:"Persian Red",r:162,g:20,b:65},{pantoneId:1747,name:"19-1862 TCX",majorColorName:"Pink",colorName:"Jester Red",r:158,g:16,b:48},{pantoneId:1748,name:"19-1934 TCX",majorColorName:"Pink",colorName:"Tibetan Red",r:120,g:42,b:57},{pantoneId:1749,name:"19-1940 TCX",majorColorName:"Pink",colorName:"Rumba Red",r:124,g:36,b:57},{pantoneId:1750,name:"19-1955 TCX",majorColorName:"Pink",colorName:"Cerise",r:164,g:18,b:71},{pantoneId:1751,name:"19-2009 TCX",majorColorName:"Pink",colorName:"Hortensia",r:85,g:59,b:80},{pantoneId:1752,name:"19-2014 TCX",majorColorName:"Pink",colorName:"Prune",r:96,g:55,b:73},{pantoneId:1753,name:"19-2024 TCX",majorColorName:"Pink",colorName:"Rhododendron",r:114,g:43,b:63},{pantoneId:1754,name:"19-2025 TCX",majorColorName:"Pink",colorName:"Red Plum",r:124,g:41,b:70},{pantoneId:1755,name:"19-2030 TCX",majorColorName:"Pink",colorName:"Beet Red",r:122,g:31,b:61},{pantoneId:1756,name:"19-2033 TCX",majorColorName:"Pink",colorName:"Anemone",r:132,g:44,b:72},{pantoneId:1757,name:"19-2047 TCX",majorColorName:"Pink",colorName:"Sangria",r:152,g:37,b:81},{pantoneId:1758,name:"19-2118 TCX",majorColorName:"Pink",colorName:"Winetasting",r:73,g:42,b:52},{pantoneId:1759,name:"19-2311 TCX",majorColorName:"Pink",colorName:"Eggplant",r:97,g:63,b:76},{pantoneId:1760,name:"19-2312 TCX",majorColorName:"Pink",colorName:"Crushed Violets",r:100,g:58,b:76},{pantoneId:1761,name:"19-2315 TCX",majorColorName:"Pink",colorName:"Grape Wine",r:90,g:47,b:67},{pantoneId:1762,name:"19-2410 TCX",majorColorName:"Pink",colorName:"Amaranth",r:111,g:60,b:86},{pantoneId:1763,name:"19-2428 TCX",majorColorName:"Pink",colorName:"Magenta Purple",r:107,g:38,b:75},{pantoneId:1764,name:"19-2430 TCX",majorColorName:"Pink",colorName:"Purple Potion",r:105,g:39,b:70},{pantoneId:1765,name:"19-2431 TCX",majorColorName:"Pink",colorName:"Boysenberry",r:133,g:50,b:92},{pantoneId:1766,name:"19-2432 TCX",majorColorName:"Pink",colorName:"Raspberry Radiance",r:128,g:42,b:80},{pantoneId:1767,name:"19-2434 TCX",majorColorName:"Pink",colorName:"Festival Fuchsia",r:158,g:44,b:106},{pantoneId:1768,name:"19-2514 TCX",majorColorName:"Pink",colorName:"Italian Plum",r:83,g:49,b:70},{pantoneId:1769,name:"19-2520 TCX",majorColorName:"Pink",colorName:"Potent Purple",r:70,g:38,b:57},{pantoneId:1770,name:"19-2524 TCX",majorColorName:"Pink",colorName:"Dark Purple",r:88,g:33,b:71},{pantoneId:1771,name:"19-2630 TCX",majorColorName:"Pink",colorName:"Wild Aster",r:146,g:49,b:111},{pantoneId:1772,name:"19-2814 TCX",majorColorName:"Light-Purple",colorName:"Wineberry",r:90,g:57,b:91},{pantoneId:1773,name:"19-2816 TCX",majorColorName:"Pink",colorName:"Blackberry Wine",r:77,g:50,b:70},{pantoneId:1774,name:"19-2820 TCX",majorColorName:"Pink",colorName:"Phlox",r:105,g:45,b:93},{pantoneId:1775,name:"19-2924 TCX",majorColorName:"Pink",colorName:"Hollyhock",r:130,g:50,b:112},{pantoneId:1776,name:"19-3022 TCX",majorColorName:"Purple",colorName:"Gloxinia",r:98,g:46,b:90},{pantoneId:1777,name:"19-3138 TCX",majorColorName:"Purple",colorName:"Byzantium",r:133,g:59,b:123},{pantoneId:1778,name:"19-3215 TCX",majorColorName:"Light-Purple",colorName:"Indigo",r:76,g:57,b:87},{pantoneId:1779,name:"19-3217 TCX",majorColorName:"Light-Purple",colorName:"Shadow Purple",r:78,g:51,b:78},{pantoneId:1780,name:"19-3218 TCX",majorColorName:"Light-Purple",colorName:"Plum Purple",r:81,g:48,b:78},{pantoneId:1781,name:"19-3220 TCX",majorColorName:"Light-Purple",colorName:"Plum",r:90,g:49,b:93},{pantoneId:1782,name:"19-3223 TCX",majorColorName:"Light-Purple",colorName:"Purple Passion",r:104,g:61,b:98},{pantoneId:1783,name:"19-3230 TCX",majorColorName:"Purple",colorName:"Grape Juice",r:104,g:41,b:97},{pantoneId:1784,name:"19-3316 TCX",majorColorName:"Pink",colorName:"Plum Perfect",r:71,g:52,b:66},{pantoneId:1785,name:"19-3323 TCX",majorColorName:"Light-Purple",colorName:"Deep Purple",r:80,g:49,b:76},{pantoneId:1786,name:"19-3325 TCX",majorColorName:"Pink",colorName:"Wood Violet",r:117,g:64,b:106},{pantoneId:1787,name:"19-3336 TCX",majorColorName:"Purple",colorName:"Sparkling Grape",r:119,g:51,b:118},{pantoneId:1788,name:"19-3424 TCX",majorColorName:"Light-Purple",colorName:"Sunset Purple",r:111,g:69,b:110},{pantoneId:1789,name:"19-3438 TCX",majorColorName:"Light-Purple",colorName:"Bright Violet",r:120,g:67,b:132},{pantoneId:1790,name:"19-3514 TCX",majorColorName:"Light-Purple",colorName:"Majesty",r:89,g:55,b:97},{pantoneId:1791,name:"19-3518 TCX",majorColorName:"Light-Purple",colorName:"Grape Royale",r:79,g:45,b:84},{pantoneId:1792,name:"19-3519 TCX",majorColorName:"Light-Purple",colorName:"Purple Pennant",r:67,g:44,b:71},{pantoneId:1793,name:"19-3520 TCX",majorColorName:"Light-Purple",colorName:"Blackberry Cordial",r:63,g:42,b:71},{pantoneId:1794,name:"19-3526 TCX",majorColorName:"Light-Purple",colorName:"Meadow Violet",r:118,g:79,b:130},{pantoneId:1795,name:"19-3528 TCX",majorColorName:"Purple",colorName:"Imperial Purple",r:84,g:44,b:93},{pantoneId:1796,name:"19-3536 TCX",majorColorName:"Purple",colorName:"Amaranth Purple",r:106,g:57,b:123},{pantoneId:1797,name:"19-3540 TCX",majorColorName:"Purple",colorName:"Purple Magic",r:102,g:50,b:113},{pantoneId:1798,name:"19-3542 TCX",majorColorName:"Purple",colorName:"Pansy",r:101,g:61,b:124},{pantoneId:1799,name:"19-3617 TCX",majorColorName:"Light-Purple",colorName:"Mysterioso",r:70,g:57,b:75},{pantoneId:1800,name:"19-3619 TCX",majorColorName:"Light-Purple",colorName:"Sweet Grape",r:75,g:59,b:79},{pantoneId:1801,name:"19-3620 TCX",majorColorName:"Light-Purple",colorName:"Purple Reign",r:86,g:69,b:107},{pantoneId:1802,name:"19-3622 TCX",majorColorName:"Light-Purple",colorName:"Loganberry",r:90,g:71,b:105},{pantoneId:1803,name:"19-3632 TCX",majorColorName:"Light-Purple",colorName:"Petunia",r:79,g:52,b:102},{pantoneId:1804,name:"19-3640 TCX",majorColorName:"Light-Purple",colorName:"Crown Jewel",r:72,g:45,b:84},{pantoneId:1805,name:"19-3642 TCX",majorColorName:"Purple",colorName:"Royal Purple",r:96,g:63,b:131},{pantoneId:1806,name:"19-3712 TCX",majorColorName:"Light-Purple",colorName:"Nightshade",r:67,g:55,b:72},{pantoneId:1807,name:"19-3714 TCX",majorColorName:"Light-Purple",colorName:"Navy Cosmos",r:80,g:59,b:83},{pantoneId:1808,name:"19-3716 TCX",majorColorName:"Light-Purple",colorName:"Purple Plumeria",r:71,g:56,b:84},{pantoneId:1809,name:"19-3720 TCX",majorColorName:"Light-Purple",colorName:"Gothic Grape",r:71,g:57,b:81},{pantoneId:1810,name:"19-3722 TCX",majorColorName:"Light-Purple",colorName:"Mulberry Purple",r:73,g:60,b:98},{pantoneId:1811,name:"19-3725 TCX",majorColorName:"Light-Purple",colorName:"Purple Velvet",r:65,g:53,b:77},{pantoneId:1812,name:"19-3728 TCX",majorColorName:"Light-Purple",colorName:"Grape",r:67,g:52,b:85},{pantoneId:1813,name:"19-3730 TCX",majorColorName:"Light-Purple",colorName:"Gentian Violet",r:84,g:66,b:117},{pantoneId:1814,name:"19-3731 TCX",majorColorName:"Purple",colorName:"Parachute Purple",r:57,g:40,b:82},{pantoneId:1815,name:"19-3737 TCX",majorColorName:"Purple",colorName:"Heliotrope",r:79,g:56,b:114},{pantoneId:1816,name:"19-3748 TCX",majorColorName:"Purple",colorName:"Prism Violet",r:83,g:61,b:125},{pantoneId:1817,name:"19-3803 TCX",majorColorName:"Gray",colorName:"Plum Kitten",r:98,g:91,b:92},{pantoneId:1818,name:"19-3810 TCX",majorColorName:"Blue",colorName:"Eclipse",r:52,g:49,b:72},{pantoneId:1819,name:"19-3830 TCX",majorColorName:"Blue",colorName:"Astral Aura",r:54,g:49,b:81},{pantoneId:1820,name:"19-3832 TCX",majorColorName:"Blue",colorName:"Navy Blue",r:64,g:63,b:111},{pantoneId:1821,name:"19-3839 TCX",majorColorName:"Blue",colorName:"Blue Ribbon",r:58,g:57,b:95},{pantoneId:1822,name:"19-3842 TCX",majorColorName:"Blue",colorName:"Deep Wisteria",r:68,g:63,b:111},{pantoneId:1823,name:"19-3847 TCX",majorColorName:"Blue",colorName:"Deep Blue",r:68,g:55,b:125},{pantoneId:1824,name:"19-3850 TCX",majorColorName:"Blue",colorName:"Liberty",r:77,g:68,b:138},{pantoneId:1825,name:"19-3864 TCX",majorColorName:"Blue",colorName:"Mazarine Blue",r:39,g:60,b:118},{pantoneId:1826,name:"19-3903 TCX",majorColorName:"Gray",colorName:"Shale",r:74,g:63,b:65},{pantoneId:1827,name:"19-3905 TCX",majorColorName:"Gray",colorName:"Rabbit",r:95,g:87,b:92},{pantoneId:1828,name:"19-3906 TCX",majorColorName:"Gray",colorName:"Dark Shadow",r:74,g:75,b:77},{pantoneId:1829,name:"19-3908 TCX",majorColorName:"Gray",colorName:"Nine Iron",r:70,g:67,b:74},{pantoneId:1830,name:"19-3915 TCX",majorColorName:"Blue",colorName:"Graystone",r:77,g:73,b:91},{pantoneId:1831,name:"19-3919 TCX",majorColorName:"Blue",colorName:"Nightshadow Blue",r:78,g:83,b:104},{pantoneId:1832,name:"19-3920 TCX",majorColorName:"Blue",colorName:"Peacoat",r:43,g:46,b:67},{pantoneId:1833,name:"19-3921 TCX",majorColorName:"Blue",colorName:"Black Iris",r:43,g:48,b:66},{pantoneId:1834,name:"19-3925 TCX",majorColorName:"Blue",colorName:"Patriot Blue",r:54,g:55,b:86},{pantoneId:1835,name:"19-3926 TCX",majorColorName:"Blue",colorName:"Crown Blue",r:70,g:75,b:101},{pantoneId:1836,name:"19-3928 TCX",majorColorName:"Blue",colorName:"Blue Indigo",r:73,g:81,b:109},{pantoneId:1837,name:"19-3933 TCX",majorColorName:"Blue",colorName:"Medieval Blue",r:41,g:48,b:78},{pantoneId:1838,name:"19-3935 TCX",majorColorName:"Blue",colorName:"Deep Cobalt",r:64,g:68,b:102},{pantoneId:1839,name:"19-3936 TCX",majorColorName:"Blue",colorName:"Skipper Blue",r:72,g:74,b:114},{pantoneId:1840,name:"19-3938 TCX",majorColorName:"Blue",colorName:"Twilight Blue",r:49,g:61,b:100},{pantoneId:1841,name:"19-3939 TCX",majorColorName:"Blue",colorName:"Blueprint",r:45,g:51,b:89},{pantoneId:1842,name:"19-3940 TCX",majorColorName:"Blue",colorName:"Blue Depths",r:38,g:48,b:86},{pantoneId:1843,name:"19-3947 TCX",majorColorName:"Blue",colorName:"Orient Blue",r:71,g:69,b:122},{pantoneId:1844,name:"19-3950 TCX",majorColorName:"Blue",colorName:"Deep Ultramarine",r:56,g:72,b:131},{pantoneId:1845,name:"19-3951 TCX",majorColorName:"Blue",colorName:"Clematis Blue",r:54,g:59,b:124},{pantoneId:1846,name:"19-3952 TCX",majorColorName:"Blue",colorName:"Surf the Web",r:32,g:60,b:127},{pantoneId:1847,name:"19-3955 TCX",majorColorName:"Blue",colorName:"Royal Blue",r:61,g:66,b:139},{pantoneId:1848,name:"19-4005 TCX",majorColorName:"Gray",colorName:"Stretch Limo",r:43,g:44,b:48},{pantoneId:1849,name:"19-4006 TCX",majorColorName:"Gray",colorName:"Caviar",r:41,g:42,b:45},{pantoneId:1850,name:"19-4007 TCX",majorColorName:"Gray",colorName:"Anthracite",r:40,g:40,b:45},{pantoneId:1851,name:"19-4010 TCX",majorColorName:"Blue",colorName:"Total Eclipse",r:44,g:49,b:61},{pantoneId:1852,name:"19-4013 TCX",majorColorName:"Gray",colorName:"Dark Navy",r:46,g:47,b:54},{pantoneId:1853,name:"19-4014 TCX",majorColorName:"Blue",colorName:"Ombre Blue",r:67,g:72,b:84},{pantoneId:1854,name:"19-4015 TCX",majorColorName:"Gray",colorName:"Blue Graphite",r:50,g:49,b:55},{pantoneId:1855,name:"19-4019 TCX",majorColorName:"Blue",colorName:"India Ink",r:60,g:63,b:74},{pantoneId:1856,name:"19-4023 TCX",majorColorName:"Blue",colorName:"Blue Nights",r:54,g:59,b:72},{pantoneId:1857,name:"19-4024 TCX",majorColorName:"Blue",colorName:"Dress Blues",r:42,g:50,b:68},{pantoneId:1858,name:"19-4025 TCX",majorColorName:"Blue",colorName:"Mood Indigo",r:53,g:58,b:76},{pantoneId:1859,name:"19-4026 TCX",majorColorName:"Blue",colorName:"Ensign Blue",r:56,g:76,b:103},{pantoneId:1860,name:"19-4027 TCX",majorColorName:"Blue",colorName:"Estate Blue",r:35,g:54,b:88},{pantoneId:1861,name:"19-4028 TCX",majorColorName:"Blue",colorName:"Insignia Blue",r:47,g:62,b:85},{pantoneId:1862,name:"19-4030 TCX",majorColorName:"Blue",colorName:"True Navy",r:63,g:82,b:119},{pantoneId:1863,name:"19-4035 TCX",majorColorName:"Blue",colorName:"Dark Blue",r:48,g:86,b:121},{pantoneId:1864,name:"19-4037 TCX",majorColorName:"Blue",colorName:"Bright Cobalt",r:56,g:93,b:141},{pantoneId:1865,name:"19-4039 TCX",majorColorName:"Blue",colorName:"Delft",r:61,g:94,b:140},{pantoneId:1866,name:"19-4044 TCX",majorColorName:"Blue",colorName:"Limoges",r:36,g:63,b:108},{pantoneId:1867,name:"19-4049 TCX",majorColorName:"Blue",colorName:"Snorkel Blue",r:3,g:79,b:132},{pantoneId:1868,name:"19-4050 TCX",majorColorName:"Blue",colorName:"Nautical Blue",r:26,g:80,b:145},{pantoneId:1869,name:"19-4052 TCX",majorColorName:"Blue",colorName:"Classic Blue",r:15,g:76,b:129},{pantoneId:1870,name:"19-4053 TCX",majorColorName:"Blue",colorName:"Turkish Sea",r:25,g:81,b:144},{pantoneId:1871,name:"19-4056 TCX",majorColorName:"Blue",colorName:"Blue Iolite",r:26,g:76,b:139},{pantoneId:1872,name:"19-4057 TCX",majorColorName:"Blue",colorName:"True Blue",r:30,g:68,b:119},{pantoneId:1873,name:"19-4104 TCX",majorColorName:"Gray",colorName:"Ebony",r:65,g:66,b:74},{pantoneId:1874,name:"19-4110 TCX",majorColorName:"Blue",colorName:"Midnight Navy",r:52,g:65,b:78},{pantoneId:1875,name:"19-4118 TCX",majorColorName:"Blue",colorName:"Dark Denim",r:53,g:70,b:94},{pantoneId:1876,name:"19-4125 TCX",majorColorName:"Blue",colorName:"Majolica Blue",r:39,g:67,b:87},{pantoneId:1877,name:"19-4127 TCX",majorColorName:"Blue",colorName:"Midnight",r:50,g:91,b:116},{pantoneId:1878,name:"19-4150 TCX",majorColorName:"Blue",colorName:"Princess Blue",r:0,g:83,b:156},{pantoneId:1879,name:"19-4151 TCX",majorColorName:"Blue",colorName:"Skydiver",r:0,g:88,b:155},{pantoneId:1880,name:"19-4203 TCX",majorColorName:"Gray",colorName:"Moonless Night",r:47,g:45,b:48},{pantoneId:1881,name:"19-4205 TCX",majorColorName:"Gray",colorName:"Phantom",r:57,g:55,b:59},{pantoneId:1882,name:"19-4220 TCX",majorColorName:"Blue",colorName:"Dark Slate",r:70,g:81,b:90},{pantoneId:1883,name:"19-4227 TCX",majorColorName:"Blue",colorName:"Indian Teal",r:60,g:88,b:107},{pantoneId:1884,name:"19-4229 TCX",majorColorName:"Blue",colorName:"Orion Blue",r:62,g:79,b:92},{pantoneId:1885,name:"19-4234 TCX",majorColorName:"Blue",colorName:"Ink Blue",r:11,g:83,b:105},{pantoneId:1886,name:"19-4241 TCX",majorColorName:"Blue",colorName:"Moroccan Blue",r:15,g:78,b:103},{pantoneId:1887,name:"19-4245 TCX",majorColorName:"Blue",colorName:"Imperial Blue",r:0,g:90,b:146},{pantoneId:1888,name:"19-4305 TCX",majorColorName:"Gray",colorName:"Pirate Black",r:54,g:56,b:56},{pantoneId:1889,name:"19-4316 TCX",majorColorName:"Blue",colorName:"Stargazer",r:57,g:80,b:92},{pantoneId:1890,name:"19-4318 TCX",majorColorName:"Blue",colorName:"Mallard Blue",r:58,g:92,b:110},{pantoneId:1891,name:"19-4324 TCX",majorColorName:"Blue",colorName:"Legion Blue",r:31,g:73,b:91},{pantoneId:1892,name:"19-4329 TCX",majorColorName:"Blue",colorName:"Corsair",r:24,g:87,b:108},{pantoneId:1893,name:"19-4340 TCX",majorColorName:"Blue",colorName:"Lyons Blue",r:0,g:88,b:113},{pantoneId:1894,name:"19-4342 TCX",majorColorName:"Blue",colorName:"Seaport",r:0,g:94,b:125},{pantoneId:1895,name:"19-4517 TCX",majorColorName:"Blue",colorName:"Mediterranea",r:50,g:87,b:93},{pantoneId:1896,name:"19-4524 TCX",majorColorName:"Blue",colorName:"Shaded Spruce",r:0,g:88,b:94},{pantoneId:1897,name:"19-4526 TCX",majorColorName:"Blue",colorName:"Blue Coral",r:27,g:83,b:102},{pantoneId:1898,name:"19-4535 TCX",majorColorName:"Blue",colorName:"Ocean Depths",r:0,g:97,b:117},{pantoneId:1899,name:"19-4726 TCX",majorColorName:"Blue",colorName:"Atlantic Deep",r:39,g:78,b:85},{pantoneId:1900,name:"19-4818 TCX",majorColorName:"Blue-Green",colorName:"Mallard Green",r:64,g:94,b:92},{pantoneId:1901,name:"19-4820 TCX",majorColorName:"Blue",colorName:"Balsam",r:51,g:86,b:94},{pantoneId:1902,name:"19-4826 TCX",majorColorName:"Blue",colorName:"Dragonfly",r:42,g:92,b:106},{pantoneId:1903,name:"19-4906 TCX",majorColorName:"Blue-Green",colorName:"Green Gables",r:50,g:66,b:65},{pantoneId:1904,name:"19-4914 TCX",majorColorName:"Blue",colorName:"Deep Teal",r:24,g:69,b:75},{pantoneId:1905,name:"19-4916 TCX",majorColorName:"Blue",colorName:"Pacific",r:31,g:89,b:92},{pantoneId:1906,name:"19-4922 TCX",majorColorName:"Blue-Green",colorName:"Teal Green",r:0,g:99,b:97},{pantoneId:1907,name:"19-5004 TCX",majorColorName:"Gray",colorName:"Urban Chic",r:70,g:78,b:77},{pantoneId:1908,name:"19-5212 TCX",majorColorName:"Blue-Green",colorName:"Darkest Spruce",r:48,g:61,b:60},{pantoneId:1909,name:"19-5217 TCX",majorColorName:"Blue-Green",colorName:"Storm",r:3,g:84,b:83},{pantoneId:1910,name:"19-5226 TCX",majorColorName:"Blue",colorName:"Everglade",r:0,g:91,b:93},{pantoneId:1911,name:"19-5320 TCX",majorColorName:"Blue",colorName:"Ponderosa Pine",r:32,g:59,b:61},{pantoneId:1912,name:"19-5408 TCX",majorColorName:"Blue-Green",colorName:"Bistro Green",r:57,g:85,b:81},{pantoneId:1913,name:"19-5411 TCX",majorColorName:"Blue-Green",colorName:"Trekking Green",r:53,g:80,b:72},{pantoneId:1914,name:"19-5413 TCX",majorColorName:"Blue-green",colorName:"Jasper",r:51,g:89,b:89},{pantoneId:1915,name:"19-5414 TCX",majorColorName:"Blue-Green",colorName:"June Bug",r:38,g:74,b:72},{pantoneId:1916,name:"19-5420 TCX",majorColorName:"Blue-Green",colorName:"Evergreen",r:17,g:87,b:74},{pantoneId:1917,name:"19-5511 TCX",majorColorName:"Blue-Green",colorName:"Hunter Green",r:51,g:87,b:73},{pantoneId:1918,name:"19-5513 TCX",majorColorName:"Green",colorName:"Dark Green",r:49,g:79,b:64},{pantoneId:1919,name:"19-5708 TCX",majorColorName:"Gray",colorName:"Jet Set",r:38,g:44,b:42},{pantoneId:1920,name:"19-5914 TCX",majorColorName:"Blue-Green",colorName:"Jungle Green",r:60,g:78,b:71},{pantoneId:1921,name:"19-5917 TCX",majorColorName:"Green",colorName:"Sycamore",r:53,g:70,b:61},{pantoneId:1922,name:"19-5920 TCX",majorColorName:"Blue-Green",colorName:"Pineneedle",r:51,g:77,b:65},{pantoneId:1923,name:"19-6026 TCX",majorColorName:"Blue-Green",colorName:"Verdant Green",r:18,g:103,b:74},{pantoneId:1924,name:"19-6110 TCX",majorColorName:"Green",colorName:"Deep Forest",r:55,g:65,b:58},{pantoneId:1925,name:"19-6311 TCX",majorColorName:"Green",colorName:"Greener Pastures",r:55,g:80,b:61},{pantoneId:1926,name:"19-3911 TCX",majorColorName:"Gray",colorName:"Black Beauty",r:38,g:38,b:42},{pantoneId:1927,name:"19-4008 TCX",majorColorName:"Gray",colorName:"Meteorite",r:43,g:41,b:41},{pantoneId:1928,name:"19-4003 TCX",majorColorName:"Gray",colorName:"Black Onyx",r:43,g:39,b:43},{pantoneId:1929,name:"18-0523 TCX",majorColorName:"Yellow",colorName:"Winter Moss",r:91,g:90,b:65},{pantoneId:1930,name:"18-3950 TCX",majorColorName:"Gray",colorName:"Iris Bloom",r:91,g:96,b:158},{pantoneId:1931,name:"18-4214 TCX",majorColorName:"Blue",colorName:"Stormy Weather",r:88,g:100,b:109},{pantoneId:1932,name:"18-0107 TCX",majorColorName:"Green",colorName:"Kale",r:90,g:114,b:71},{pantoneId:1933,name:"17-4029 TCX",majorColorName:"Blue",colorName:"Quiet Harbor",r:90,g:120,b:154},{pantoneId:1934,name:"17-4032 TCX",majorColorName:"Blue",colorName:"Lichen Blue",r:93,g:137,b:179},{pantoneId:1935,name:"15-4714 TCX",majorColorName:"Blue",colorName:"Aquarelle",r:97,g:170,b:177},{pantoneId:1936,name:"15-4428 TCX",majorColorName:"Blue",colorName:"Crystal Seas",r:93,g:175,b:206},{pantoneId:1937,name:"19-1535 TCX",majorColorName:"Pink",colorName:"Syrah",r:106,g:40,b:44},{pantoneId:1938,name:"19-1930 TCX",majorColorName:"Pink",colorName:"Pomegranate",r:108,g:40,b:49},{pantoneId:1939,name:"19-1337 TCX",majorColorName:"Pink",colorName:"Fired Brick",r:106,g:46,b:42},{pantoneId:1940,name:"18-3340 TCX",majorColorName:"Purple",colorName:"Charisma",r:99,g:42,b:96},{pantoneId:1941,name:"19-1234 TCX",majorColorName:"Brown",colorName:"Rocky Road",r:90,g:62,b:54},{pantoneId:1942,name:"19-1214 TCX",majorColorName:"Pink",colorName:"Chocolate Lab",r:92,g:62,b:53},{pantoneId:1943,name:"18-3521 TCX",majorColorName:"Light-Purple",colorName:"Plum Jam",r:98,g:64,b:118},{pantoneId:1944,name:"19-1224 TCX",majorColorName:"Brown",colorName:"Fondue Fudge",r:93,g:66,b:54},{pantoneId:1945,name:"18-3635 TCX",majorColorName:"Light-Purple",colorName:"Picasso Lily",r:99,g:72,b:120},{pantoneId:1946,name:"18-3620 TCX",majorColorName:"Light-Purple",colorName:"Mystical",r:95,g:78,b:114},{pantoneId:1947,name:"19-0403 TCX",majorColorName:"Gray",colorName:"Sea Turtle",r:94,g:87,b:73},{pantoneId:1948,name:"18-5210 TCX",majorColorName:"Gray",colorName:"Eiffel Tower",r:92,g:86,b:88},{pantoneId:1949,name:"18-3907 TCX",majorColorName:"Gray",colorName:"Tornado",r:94,g:91,b:96},{pantoneId:1950,name:"18-3912 TCX",majorColorName:"Blue",colorName:"Grisaille",r:88,g:94,b:111},{pantoneId:1951,name:"18-0220 TCX",majorColorName:"Green",colorName:"Mayfly",r:101,g:102,b:63},{pantoneId:1952,name:"19-1435 TCX",majorColorName:"Brown",colorName:"Cherry Mahogany",r:102,g:53,b:43},{pantoneId:1953,name:"19-1531 TCX",majorColorName:"Pink",colorName:"Sun-Dried Tomato",r:117,g:35,b:41},{pantoneId:1954,name:"19-1534 TCX",majorColorName:"Pink",colorName:"Merlot",r:114,g:38,b:44},{pantoneId:1955,name:"19-1555 TCX",majorColorName:"Pink",colorName:"Red Dahlia",r:125,g:32,b:39},{pantoneId:1956,name:"19-1652 TCX",majorColorName:"Pink",colorName:"Rhubarb",r:119,g:32,b:47},{pantoneId:1957,name:"18-3540 TCX",majorColorName:"Light-Purple",colorName:"Purple Sapphire",r:111,g:70,b:133},{pantoneId:1958,name:"19-1233 TCX",majorColorName:"Brown",colorName:"Tiramisu",r:99,g:66,b:53},{pantoneId:1959,name:"18-1028 TCX",majorColorName:"Brown",colorName:"Emperador",r:104,g:72,b:50},{pantoneId:1960,name:"19-0916 TCX",majorColorName:"Brown",colorName:"Rain Drum",r:95,g:76,b:64},{pantoneId:1961,name:"19-0823 TCX",majorColorName:"Brown",colorName:"Crocodile",r:93,g:83,b:72},{pantoneId:1962,name:"19-0510 TCX",majorColorName:"Yellow",colorName:"Kalamata",r:95,g:91,b:76},{pantoneId:1963,name:"18-3908 TCX",majorColorName:"Gray",colorName:"Volcanic Glass",r:97,g:92,b:96},{pantoneId:1964,name:"18-5204 TCX",majorColorName:"Gray",colorName:"Granite Gray",r:97,g:94,b:95},{pantoneId:1965,name:"18-4006 TCX",majorColorName:"Gray",colorName:"Quiet Shade",r:102,g:103,b:109},{pantoneId:1966,name:"17-3940 TCX",majorColorName:"Gray",colorName:"Iolite",r:112,g:123,b:180},{pantoneId:1967,name:"14-4310 TCX",majorColorName:"Blue",colorName:"Blue Topaz",r:120,g:189,b:212},{pantoneId:1968,name:"13-4720 TCX",majorColorName:"White",colorName:"Tanager Turquoise",r:145,g:220,b:232},{pantoneId:1969,name:"14-4620 TCX",majorColorName:"Blue",colorName:"Island Paradise",r:149,g:222,b:227},{pantoneId:1970,name:"19-1429 TCX",majorColorName:"Pink",colorName:"Smoked Paprika",r:110,g:54,b:44},{pantoneId:1971,name:"18-1541 TCX",majorColorName:"Pink",colorName:"Brandy Brown",r:115,g:54,b:42},{pantoneId:1972,name:"19-3425 TCX",majorColorName:"Light-Purple",colorName:"Spiced Plum",r:109,g:71,b:115},{pantoneId:1973,name:"18-1506 TCX",majorColorName:"Pink",colorName:"Plum Truffle",r:103,g:86,b:87},{pantoneId:1974,name:"18-1708 TCX",majorColorName:"Gray",colorName:"Ephemera",r:111,g:89,b:101},{pantoneId:1975,name:"19-0808 TCX",majorColorName:"Brown",colorName:"Morel",r:104,g:92,b:83},{pantoneId:1976,name:"18-1705 TCX",majorColorName:"Gray",colorName:"Arctic Dusk",r:115,g:91,b:106},{pantoneId:1977,name:"18-1304 TCX",majorColorName:"Brown",colorName:"Falcon",r:109,g:98,b:91},{pantoneId:1978,name:"18-0625 TCX",majorColorName:"Yellow",colorName:"Martini Olive",r:113,g:106,b:77},{pantoneId:1979,name:"18-5806 TCX",majorColorName:"Blue-Green",colorName:"Agave Green",r:107,g:113,b:105},{pantoneId:1980,name:"18-5102 TCX",majorColorName:"Gray",colorName:"Brushed Nickel",r:115,g:112,b:111},{pantoneId:1981,name:"18-3933 TCX",majorColorName:"Blue",colorName:"Blue Granite",r:113,g:115,b:136},{pantoneId:1982,name:"17-0530 TCX",majorColorName:"Yellow",colorName:"Guacamole",r:121,g:123,b:58},{pantoneId:1983,name:"14-4320 TCX",majorColorName:"Blue",colorName:"Baltic Sea",r:121,g:181,b:216},{pantoneId:1984,name:"14-4710 TCX",majorColorName:"Blue",colorName:"Tibetan Stone",r:130,g:194,b:199},{pantoneId:1985,name:"14-4812 TCX",majorColorName:"Blue",colorName:"Aqua Splash",r:133,g:206,b:209},{pantoneId:1986,name:"13-4810 TCX",majorColorName:"White",colorName:"Limpet Shell",r:152,g:221,b:222},{pantoneId:1987,name:"18-1148 TCX",majorColorName:"Brown",colorName:"Caramel Cafe",r:134,g:76,b:36},{pantoneId:1988,name:"18-1325 TCX",majorColorName:"Brown",colorName:"Spiced Apple",r:120,g:57,b:55},{pantoneId:1989,name:"19-1536 TCX",majorColorName:"Pink",colorName:"Red Pear",r:123,g:53,b:57},{pantoneId:1990,name:"18-3014 TCX",majorColorName:"Pink",colorName:"Grape Kiss",r:123,g:67,b:104},{pantoneId:1991,name:"17-1708 TCX",majorColorName:"Pink",colorName:"Moonscape",r:114,g:95,b:105},{pantoneId:1992,name:"18-3634 TCX",majorColorName:"Light-Purple",colorName:"Chive Blossom",r:125,g:93,b:153},{pantoneId:1993,name:"17-1503 TCX",majorColorName:"Gray",colorName:"Storm Front",r:120,g:115,b:118},{pantoneId:1994,name:"18-4016 TCX",majorColorName:"Blue",colorName:"December Sky",r:118,g:114,b:117},{pantoneId:1995,name:"17-3911 TCX",majorColorName:"Gray",colorName:"Silver Filigree",r:127,g:124,b:129},{pantoneId:1996,name:"17-4016 TCX",majorColorName:"Blue",colorName:"Gray Flannel",r:132,g:129,b:130},{pantoneId:1997,name:"16-4030 TCX",majorColorName:"Blue",colorName:"Hydrangea",r:132,g:155,b:204},{pantoneId:1998,name:"15-3932 TCX",majorColorName:"Blue",colorName:"Bel Air Blue",r:129,g:154,b:193},{pantoneId:1999,name:"14-4615 TCX",majorColorName:"Blue",colorName:"Antigua Sand",r:131,g:194,b:205},{pantoneId:2e3,name:"14-4511 TCX",majorColorName:"Blue",colorName:"Gulf Stream",r:136,g:195,b:208},{pantoneId:2001,name:"19-1757 TCX",majorColorName:"Pink",colorName:"Barbados Cherry",r:170,g:10,b:39},{pantoneId:2002,name:"19-1758 TCX",majorColorName:"Pink",colorName:"Haute Red",r:161,g:23,b:41},{pantoneId:2003,name:"19-1863 TCX",majorColorName:"Pink",colorName:"Scooter",r:148,g:30,b:50},{pantoneId:2004,name:"18-3120 TCX",majorColorName:"Gray",colorName:"Willowherb",r:142,g:68,b:131},{pantoneId:2005,name:"18-1246 TCX",majorColorName:"Brown",colorName:"Umber",r:148,g:74,b:31},{pantoneId:2006,name:"17-1142 TCX",majorColorName:"Brown",colorName:"Argan Oil",r:139,g:89,b:62},{pantoneId:2007,name:"18-1017 TCX",majorColorName:"Brown",colorName:"Caribou",r:129,g:109,b:94},{pantoneId:2008,name:"18-1108 TCX",majorColorName:"Brown",colorName:"Fallen Rock",r:128,g:118,b:105},{pantoneId:2009,name:"18-1210 TCX",majorColorName:"Brown",colorName:"Driftwood",r:132,g:122,b:117},{pantoneId:2010,name:"17-3907 TCX",majorColorName:"Gray",colorName:"Quicksilver",r:126,g:125,b:136},{pantoneId:2011,name:"17-4014 TCX",majorColorName:"Blue",colorName:"Titanium",r:128,g:125,b:127},{pantoneId:2012,name:"17-3914 TCX",majorColorName:"Gray",colorName:"Sharkskin",r:131,g:132,b:135},{pantoneId:2013,name:"15-4307 TCX",majorColorName:"Gray",colorName:"Tradewinds",r:127,g:135,b:147},{pantoneId:2014,name:"17-3933 TCX",majorColorName:"Blue",colorName:"Silver Bullet",r:129,g:131,b:154},{pantoneId:2015,name:"17-3929 TCX",majorColorName:"Blue",colorName:"Pale Iris",r:136,g:149,b:197},{pantoneId:2016,name:"19-1559 TCX",majorColorName:"Pink",colorName:"Scarlet Sage",r:157,g:32,b:47},{pantoneId:2017,name:"18-1340 TCX",majorColorName:"Brown",colorName:"Potter's Clay",r:158,g:70,b:36},{pantoneId:2018,name:"18-1440 TCX",majorColorName:"Brown",colorName:"Chili Oil",r:142,g:60,b:54},{pantoneId:2019,name:"18-1163 TCX",majorColorName:"Brown",colorName:"Pumpkin Spice",r:160,g:92,b:23},{pantoneId:2020,name:"18-1345 TCX",majorColorName:"Brown",colorName:"Cinnamon Stick",r:155,g:71,b:34},{pantoneId:2021,name:"18-1155 TCX",majorColorName:"Brown",colorName:"Sugar Almond",r:147,g:85,b:41},{pantoneId:2022,name:"17-1052 TCX",majorColorName:"Brown",colorName:"Roasted Pecan",r:147,g:89,b:43},{pantoneId:2023,name:"18-1029 TCX",majorColorName:"Brown",colorName:"Toasted Coconut",r:139,g:106,b:79},{pantoneId:2024,name:"18-3628 TCX",majorColorName:"Light-Purple",colorName:"Bellflower",r:148,g:105,b:162},{pantoneId:2025,name:"17-1115 TCX",majorColorName:"Brown",colorName:"Petrified Oak",r:141,g:121,b:96},{pantoneId:2026,name:"17-1314 TCX",majorColorName:"Brown",colorName:"Sepia Tint",r:137,g:117,b:96},{pantoneId:2027,name:"17-3640 TCX",majorColorName:"Light-Purple",colorName:"Fairy Wren",r:148,g:121,b:175},{pantoneId:2028,name:"16-1347 TCX",majorColorName:"Orange",colorName:"Peach Caramel",r:197,g:115,b:61},{pantoneId:2029,name:"16-1348 TCX",majorColorName:"Orange",colorName:"Tomato Cream",r:197,g:118,b:68},{pantoneId:2030,name:"15-1430 TCX",majorColorName:"Orange",colorName:"Pastry Shell",r:189,g:140,b:102},{pantoneId:2031,name:"15-1425 TCX",majorColorName:"Pink",colorName:"Fenugreek",r:192,g:145,b:108},{pantoneId:2032,name:"16-0920 TCX",majorColorName:"Orange",colorName:"Curds & Whey",r:188,g:164,b:131},{pantoneId:2033,name:"15-1020 TCX",majorColorName:"Orange",colorName:"Ginger Root",r:191,g:165,b:138},{pantoneId:2034,name:"15-1304 TCX",majorColorName:"White",colorName:"Humus",r:183,g:167,b:147},{pantoneId:2035,name:"14-1208 TCX",majorColorName:"Orange",colorName:"Irish Cream",r:192,g:172,b:146},{pantoneId:2036,name:"13-4201 TCX",majorColorName:"White",colorName:"Oyster Mushroom",r:195,g:198,b:200},{pantoneId:2037,name:"13-4111 TCX",majorColorName:"White",colorName:"Plein Air",r:191,g:202,b:214},{pantoneId:2038,name:"17-1452 TCX",majorColorName:"Red",colorName:"Koi",r:209,g:88,b:55},{pantoneId:2039,name:"17-1349 TCX",majorColorName:"Brown",colorName:"Exuberance",r:232,g:104,b:0},{pantoneId:2040,name:"15-1051 TCX",majorColorName:"Orange",colorName:"Golden Orange",r:215,g:148,b:45},{pantoneId:2041,name:"15-0960 TCX",majorColorName:"Brown",colorName:"Mango Mojito",r:214,g:156,b:47},{pantoneId:2042,name:"14-0952 TCX",majorColorName:"Orange",colorName:"Spicy Mustard",r:216,g:174,b:71},{pantoneId:2043,name:"13-1105 TCX",majorColorName:"White",colorName:"Brown Rice",r:199,g:187,b:164},{pantoneId:2044,name:"13-4104 TCX",majorColorName:"White",colorName:"Antarctica",r:198,g:197,b:198},{pantoneId:2045,name:"17-1463 TCX",majorColorName:"Orange",colorName:"Tangerine Tango",r:221,g:65,b:36},{pantoneId:2046,name:"17-1461 TCX",majorColorName:"Orange",colorName:"Orangeade",r:226,g:85,b:44},{pantoneId:2047,name:"16-1164 TCX",majorColorName:"Brown",colorName:"Orange Pepper",r:223,g:117,b:0},{pantoneId:2048,name:"15-1429 TCX",majorColorName:"Pink",colorName:"Dusted Clay",r:204,g:115,b:87},{pantoneId:2049,name:"16-1345 TCX",majorColorName:"Orange",colorName:"Sun Baked",r:210,g:127,b:99},{pantoneId:2050,name:"15-1045 TCX",majorColorName:"Orange",colorName:"Autumn Blaze",r:217,g:146,b:46},{pantoneId:2051,name:"15-1125 TCX",majorColorName:"Brown",colorName:"Porcini",r:204,g:165,b:128},{pantoneId:2052,name:"14-1315 TCX",majorColorName:"Orange",colorName:"Hazelnut",r:207,g:176,b:149},{pantoneId:2053,name:"15-1218 TCX",majorColorName:"Brown",colorName:"Semolina",r:206,g:184,b:153},{pantoneId:2054,name:"14-1803 TCX",majorColorName:"Brown",colorName:"Sepia Rose",r:212,g:186,b:182},{pantoneId:2055,name:"13-0919 TCX",majorColorName:"Orange",colorName:"Soybean",r:210,g:194,b:157},{pantoneId:2056,name:"12-4301 TCX",majorColorName:"White",colorName:"Almond Milk",r:214,g:206,b:190},{pantoneId:2057,name:"13-0644 TCX",majorColorName:"Yellow",colorName:"Golden Kiwi",r:243,g:221,b:62},{pantoneId:2058,name:"13-0646 TCX",majorColorName:"Yellow",colorName:"Meadowlark",r:234,g:217,b:78},{pantoneId:2059,name:"16-1363 TCX",majorColorName:"Orange",colorName:"Puffin's Bill",r:233,g:92,b:32},{pantoneId:2060,name:"17-1360 TCX",majorColorName:"Brown",colorName:"Celosia Orange",r:232,g:112,b:58},{pantoneId:2061,name:"13-0946 TCX",majorColorName:"Orange",colorName:"Jurassic Gold",r:231,g:170,b:86},{pantoneId:2062,name:"13-1208 TCX",majorColorName:"Orange",colorName:"Peachy Keen",r:226,g:189,b:179},{pantoneId:2063,name:"13-1308 TCX",majorColorName:"Pink",colorName:"Brazilian Sand",r:218,g:202,b:183},{pantoneId:2064,name:"12-0110 TCX",majorColorName:"White",colorName:"Pistachio Shell",r:215,g:207,b:187},{pantoneId:2065,name:"13-4108 TCX",majorColorName:"White",colorName:"Nimbus Cloud",r:213,g:213,b:216},{pantoneId:2066,name:"12-0646 TCX",majorColorName:"Yellow",colorName:"Celandine",r:235,g:223,b:103},{pantoneId:2067,name:"11-0622 TCX",majorColorName:"Yellow",colorName:"Yellow Iris",r:238,g:231,b:142},{pantoneId:2068,name:"11-0623 TCX",majorColorName:"Yellow",colorName:"Yellow Pear",r:236,g:233,b:155},{pantoneId:2069,name:"11-4001 TCX",majorColorName:"White",colorName:"Brilliant White",r:237,g:241,b:254},{pantoneId:2070,name:"17-1361 TCX",majorColorName:"Brown",colorName:"Scarlet Ibis",r:244,g:85,b:32},{pantoneId:2071,name:"16-1358 TCX",majorColorName:"Orange",colorName:"Orange Tiger",r:249,g:103,b:20},{pantoneId:2072,name:"16-1453 TCX",majorColorName:"Orange",colorName:"Exotic Orange",r:249,g:101,b:49},{pantoneId:2073,name:"15-1335 TCX",majorColorName:"Orange",colorName:"Tangelo",r:254,g:126,b:3},{pantoneId:2074,name:"15-1151 TCX",majorColorName:"Orange",colorName:"Iceland Poppy",r:244,g:150,b:58},{pantoneId:2075,name:"15-1520 TCX",majorColorName:"Orange",colorName:"Blooming Dahlia",r:235,g:150,b:135},{pantoneId:2076,name:"13-0759 TCX",majorColorName:"Yellow",colorName:"Solar Power",r:244,g:191,b:58},{pantoneId:2077,name:"12-2901 TCX",majorColorName:"White",colorName:"Morganite",r:223,g:205,b:198},{pantoneId:2078,name:"12-0729 TCX",majorColorName:"Yellow",colorName:"Sundress",r:235,g:207,b:137},{pantoneId:2079,name:"12-0718 TCX",majorColorName:"Orange",colorName:"Pineapple Slice",r:231,g:211,b:145},{pantoneId:2080,name:"12-0709 TCX",majorColorName:"White",colorName:"Macadamia",r:228,g:207,b:182},{pantoneId:2081,name:"13-0756 TCX",majorColorName:"Yellow",colorName:"Lemon Zest",r:249,g:216,b:87},{pantoneId:2082,name:"12-0737 TCX",majorColorName:"Orange",colorName:"Goldfinch",r:248,g:220,b:108},{pantoneId:2083,name:"12-0742 TCX",majorColorName:"Yellow",colorName:"Lemon Verbena",r:243,g:231,b:121},{pantoneId:2084,name:"16-1460 TCX",majorColorName:"Orange",colorName:"Dragon Fire",r:252,g:100,b:45},{pantoneId:2085,name:"15-1262 TCX",majorColorName:"Orange",colorName:"Carrot Curl",r:254,g:140,b:24},{pantoneId:2086,name:"15-1264 TCX",majorColorName:"Orange",colorName:"Turmeric",r:254,g:132,b:14},{pantoneId:2087,name:"16-1545 TCX",majorColorName:"Pink",colorName:"Coral Quartz",r:247,g:116,b:100},{pantoneId:2088,name:"16-1548 TCX",majorColorName:"Pink",colorName:"Peach Echo",r:247,g:120,b:107},{pantoneId:2089,name:"15-1243 TCX",majorColorName:"Orange",colorName:"Papaya",r:254,g:161,b:102},{pantoneId:2090,name:"14-1052 TCX",majorColorName:"Orange",colorName:"Kumquat",r:251,g:170,b:76},{pantoneId:2091,name:"14-1241 TCX",majorColorName:"Orange",colorName:"Orange Chiffon",r:249,g:170,b:125},{pantoneId:2092,name:"13-1125 TCX",majorColorName:"White",colorName:"Peach Quartz",r:245,g:184,b:149},{pantoneId:2093,name:"13-2802 TCX",majorColorName:"White",colorName:"Fairy Tale",r:242,g:193,b:209},{pantoneId:2094,name:"14-0851 TCX",majorColorName:"Orange",colorName:"Samoan Sun",r:251,g:200,b:95},{pantoneId:2095,name:"12-0758 TCX",majorColorName:"Yellow",colorName:"Yarrow",r:250,g:206,b:109},{pantoneId:2096,name:"13-2808 TCX",majorColorName:"White",colorName:"Ballet Slipper",r:235,g:206,b:213},{pantoneId:2097,name:"13-0849 TCX",majorColorName:"Orange",colorName:"Habanero Gold",r:254,g:212,b:80},{pantoneId:2098,name:"13-0851 TCX",majorColorName:"Orange",colorName:"Minion Yellow",r:254,g:213,b:93},{pantoneId:2099,name:"13-2807 TCX",majorColorName:"White",colorName:"Ballerina",r:242,g:207,b:220},{pantoneId:2100,name:"11-4801 TCX",majorColorName:"White",colorName:"Tofu",r:232,g:227,b:217},{pantoneId:2101,name:"11-0619 TCX",majorColorName:"Yellow",colorName:"Flan",r:246,g:227,b:180},{pantoneId:2102,name:"12-0717 TCX",majorColorName:"Orange",colorName:"Anise Flower",r:244,g:227,b:181},{pantoneId:2103,name:"11-0605 TCX",majorColorName:"White",colorName:"Jet Stream",r:237,g:230,b:222},{pantoneId:2104,name:"11-1302 TCX",majorColorName:"White",colorName:"Sea Salt",r:241,g:230,b:222},{pantoneId:2105,name:"11-1001 TCX",majorColorName:"White",colorName:"White Alyssum",r:239,g:235,b:231},{pantoneId:2106,name:"11-0615 TCX",majorColorName:"Yellow",colorName:"Pear Sorbet",r:243,g:234,b:195},{pantoneId:2107,name:"11-0515 TCX",majorColorName:"Orange",colorName:"Lemon Icing",r:246,g:235,b:200},{pantoneId:2108,name:"11-0106 TCX",majorColorName:"White",colorName:"Sweet Corn",r:240,g:234,b:214},{pantoneId:2109,name:"11-4302 TCX",majorColorName:"White",colorName:"Cannoli Cream",r:240,g:239,b:226},{pantoneId:2110,name:"11-0607 TCX",majorColorName:"White",colorName:"Sugar Swizzle",r:243,g:238,b:231},{pantoneId:2111,name:"11-0608 TCX",majorColorName:"White",colorName:"Coconut Milk",r:240,g:237,b:229},{pantoneId:2112,name:"13-3207 TCX",majorColorName:"White",colorName:"Cherry Blossom",r:247,g:206,b:224},{pantoneId:2113,name:"13-1511 TCX",majorColorName:"Pink",colorName:"Pink Salt",r:247,g:205,b:199},{pantoneId:2114,name:"13-1520 TCX",majorColorName:"White",colorName:"Rose Quartz",r:247,g:202,b:201},{pantoneId:2115,name:"12-1110 TCX",majorColorName:"White",colorName:"Creme de Peche",r:245,g:214,b:198},{pantoneId:2116,name:"12-1813 TCX",majorColorName:"Orange",colorName:"Mary's Rose",r:247,g:209,b:212},{pantoneId:2117,name:"12-0711 TCX",majorColorName:"Orange",colorName:"Lemon Meringue",r:246,g:225,b:153},{pantoneId:2118,name:"11-0110 TCX",majorColorName:"White",colorName:"Buttercream",r:239,g:224,b:205},{pantoneId:2119,name:"12-2907 TCX",majorColorName:"White",colorName:"Rose Water",r:248,g:224,b:231},{pantoneId:2120,name:"19-3909 TCX",majorColorName:"Gray",colorName:"Black Bean",r:46,g:39,b:42},{pantoneId:2121,name:"19-3922 TCX",majorColorName:"Blue",colorName:"Sky Captain",r:38,g:41,b:52},{pantoneId:2122,name:"19-4004 TCX",majorColorName:"Gray",colorName:"Tap Shoe",r:42,g:43,b:45},{pantoneId:2123,name:"19-5350 TCX",majorColorName:"Blue",colorName:"Scarab",r:35,g:49,b:45},{pantoneId:2124,name:"19-4038 TCX",majorColorName:"Blue",colorName:"Gibraltar Sea",r:18,g:56,b:80},{pantoneId:2125,name:"19-4034 TCX",majorColorName:"Blue",colorName:"Sailor Blue",r:14,g:58,b:83},{pantoneId:2126,name:"19-4120 TCX",majorColorName:"Blue",colorName:"Blue Opal",r:15,g:59,b:87},{pantoneId:2127,name:"19-4045 TCX",majorColorName:"Blue",colorName:"Lapis Blue",r:0,g:75,b:141},{pantoneId:2128,name:"18-4048 TCX",majorColorName:"Blue",colorName:"Nebulas Blue",r:45,g:98,b:163},{pantoneId:2129,name:"19-4033 TCX",majorColorName:"Blue",colorName:"Poseidon",r:18,g:57,b:85},{pantoneId:2130,name:"18-4250 TCX",majorColorName:"Blue",colorName:"Indigo Bunting",r:0,g:108,b:169},{pantoneId:2131,name:"19-5220 TCX",majorColorName:"Blue",colorName:"Botanical Garden",r:18,g:64,b:60},{pantoneId:2132,name:"19-5232 TCX",majorColorName:"Blue-Green",colorName:"Rain Forest",r:21,g:70,b:62},{pantoneId:2133,name:"19-5406 TCX",majorColorName:"Blue-Green",colorName:"Pine Grove",r:33,g:54,b:49},{pantoneId:2134,name:"19-5230 TCX",majorColorName:"Blue-Green",colorName:"Forest Biome",r:24,g:74,b:69},{pantoneId:2135,name:"17-4245 TCX",majorColorName:"Blue",colorName:"Ibiza Blue",r:0,g:124,b:183},{pantoneId:2136,name:"19-5918 TCX",majorColorName:"Blue-Green",colorName:"Mountain View",r:46,g:61,b:48},{pantoneId:2137,name:"19-4540 TCX",majorColorName:"Blue",colorName:"Deep Lagoon",r:0,g:82,b:101},{pantoneId:2138,name:"18-4434 TCX",majorColorName:"Blue",colorName:"Mykonos Blue",r:0,g:87,b:128},{pantoneId:2139,name:"19-4048 TCX",majorColorName:"Blue",colorName:"Baleine Blue",r:21,g:81,b:135},{pantoneId:2140,name:"19-6050 TCX",majorColorName:"Blue-Green",colorName:"Eden",r:38,g:78,b:54},{pantoneId:2141,name:"18-5845 TCX",majorColorName:"Blue-Green",colorName:"Lush Meadow",r:0,g:110,b:81},{pantoneId:2142,name:"18-5025 TCX",majorColorName:"Blue-Green",colorName:"Quetzal Green",r:0,g:104,b:101},{pantoneId:2143,name:"19-4536 TCX",majorColorName:"Blue",colorName:"Crystal Teal",r:0,g:99,b:124},{pantoneId:2144,name:"18-6030 TCX",majorColorName:"Green",colorName:"Jolly Green",r:0,g:120,b:68},{pantoneId:2145,name:"18-4630 TCX",majorColorName:"Blue",colorName:"Tahitian Tide",r:0,g:107,b:126},{pantoneId:2146,name:"18-4538 TCX",majorColorName:"Blue",colorName:"Hawaiian Surf",r:0,g:120,b:167},{pantoneId:2147,name:"18-4430 TCX",majorColorName:"Blue",colorName:"Fjord Blue",r:0,g:114,b:144},{pantoneId:2148,name:"17-4530 TCX",majorColorName:"Blue",colorName:"Barrier Reef",r:0,g:132,b:161},{pantoneId:2149,name:"19-4011 TCX",majorColorName:"Blue",colorName:"Salute",r:40,g:43,b:52},{pantoneId:2150,name:"19-4020 TCX",majorColorName:"Blue",colorName:"Dark Sapphire",r:38,g:43,b:55},{pantoneId:2151,name:"19-3831 TCX",majorColorName:"Blue",colorName:"Maritime Blue",r:39,g:41,b:61},{pantoneId:2152,name:"19-3923 TCX",majorColorName:"Blue",colorName:"Navy Blazer",r:40,g:45,b:60},{pantoneId:2153,name:"19-4012 TCX",majorColorName:"Blue",colorName:"Carbon",r:39,g:47,b:56},{pantoneId:2154,name:"19-3953 TCX",majorColorName:"Blue",colorName:"Sodalite Blue",r:37,g:54,b:104},{pantoneId:2155,name:"19-4029 TCX",majorColorName:"Blue",colorName:"Navy Peony",r:34,g:58,b:94},{pantoneId:2156,name:"19-3964 TCX",majorColorName:"Gray",colorName:"Blue Quartz",r:39,g:67,b:116},{pantoneId:2157,name:"19-4326 TCX",majorColorName:"Blue",colorName:"Reflecting Pond",r:32,g:62,b:74},{pantoneId:2158,name:"19-5030 TCX",majorColorName:"Gray",colorName:"Sea Moss",r:37,g:68,b:69},{pantoneId:2159,name:"19-1018 TCX",majorColorName:"Pink",colorName:"Ganache",r:52,g:41,b:42},{pantoneId:2160,name:"19-3713 TCX",majorColorName:"Light-Purple",colorName:"Deep Well",r:44,g:42,b:51},{pantoneId:2161,name:"19-3924 TCX",majorColorName:"Blue",colorName:"Night Sky",r:42,g:42,b:53},{pantoneId:2162,name:"19-3815 TCX",majorColorName:"Blue",colorName:"Evening Blue",r:42,g:41,b:62},{pantoneId:2163,name:"19-4218 TCX",majorColorName:"Gray",colorName:"Vulcan",r:45,g:48,b:54},{pantoneId:2164,name:"19-4021 TCX",majorColorName:"Blue",colorName:"Blueberry",r:44,g:51,b:62},{pantoneId:2165,name:"19-4122 TCX",majorColorName:"Blue",colorName:"Moonlit Ocean",r:41,g:59,b:77},{pantoneId:2166,name:"19-4121 TCX",majorColorName:"Blue",colorName:"Blue Wing Teal",r:44,g:64,b:83},{pantoneId:2167,name:"19-4126 TCX",majorColorName:"Blue",colorName:"Deep Dive",r:41,g:73,b:92},{pantoneId:2168,name:"19-4055 TCX",majorColorName:"Blue",colorName:"Galaxy Blue",r:42,g:75,b:124},{pantoneId:2169,name:"18-4034 TCX",majorColorName:"Blue",colorName:"Vallarta Blue",r:48,g:101,b:142},{pantoneId:2170,name:"17-4429 TCX",majorColorName:"Blue",colorName:"Navagio Bay",r:49,g:131,b:160},{pantoneId:2171,name:"19-1103 TCX",majorColorName:"Gray",colorName:"Espresso",r:54,g:48,b:49},{pantoneId:2172,name:"19-1106 TCX",majorColorName:"Gray",colorName:"Mole'",r:57,g:45,b:43},{pantoneId:2173,name:"19-1109 TCX",majorColorName:"Gray",colorName:"Chocolate Torte",r:56,g:46,b:45},{pantoneId:2174,name:"19-1110 TCX",majorColorName:"Pink",colorName:"Chocolate Plum",r:60,g:45,b:46},{pantoneId:2175,name:"19-4009 TCX",majorColorName:"Gray",colorName:"Outer Space",r:47,g:52,b:65},{pantoneId:2176,name:"19-4022 TCX",majorColorName:"Blue",colorName:"Parisian Night",r:50,g:52,b:65},{pantoneId:2177,name:"19-4031 TCX",majorColorName:"Blue",colorName:"Sargasso Sea",r:53,g:67,b:90},{pantoneId:2178,name:"18-0330 TCX",majorColorName:"Green",colorName:"Twist of Lime",r:78,g:99,b:44},{pantoneId:2179,name:"19-3750 TCX",majorColorName:"Light-Purple",colorName:"Violet Indigo",r:62,g:40,b:92},{pantoneId:2180,name:"19-3628 TCX",majorColorName:"Light-Purple",colorName:"Acai",r:70,g:41,b:90},{pantoneId:2181,name:"19-3902 TCX",majorColorName:"Gray",colorName:"Obsidian",r:58,g:54,b:59},{pantoneId:2182,name:"19-3927 TCX",majorColorName:"Blue",colorName:"Graphite",r:59,g:59,b:72},{pantoneId:2183,name:"19-0840 TCX",majorColorName:"Brown",colorName:"Delicioso",r:63,g:53,b:47},{pantoneId:2184,name:"19-0413 TCX",majorColorName:"Yellow",colorName:"Deep Depths",r:70,g:72,b:60},{pantoneId:2185,name:"19-2620 TCX",majorColorName:"Pink",colorName:"Winter Bloom",r:71,g:36,b:59},{pantoneId:2186,name:"19-2420 TCX",majorColorName:"Pink",colorName:"Pickled Beet",r:77,g:35,b:61},{pantoneId:2187,name:"19-0201 TCX",majorColorName:"Green",colorName:"Asphalt",r:67,g:68,b:71},{pantoneId:2188,name:"19-3930 TCX",majorColorName:"Blue",colorName:"Odyssey Gray",r:67,g:68,b:82},{pantoneId:2189,name:"19-1419 TCX",majorColorName:"Brown",colorName:"Chicory Coffee",r:74,g:52,b:46},{pantoneId:2190,name:"19-0307 TCX",majorColorName:"Gray",colorName:"Climbing Ivy",r:68,g:73,b:64},{pantoneId:2191,name:"19-5621 TCX",majorColorName:"Gray",colorName:"Cilantro",r:67,g:84,b:75},{pantoneId:2192,name:"19-3638 TCX",majorColorName:"Light-Purple",colorName:"Tillandsia Purple",r:86,g:52,b:116},{pantoneId:2193,name:"19-0910 TCX",majorColorName:"Brown",colorName:"Mulch",r:67,g:57,b:55},{pantoneId:2194,name:"18-3839 TCX",majorColorName:"Blue",colorName:"Purple Corallites",r:90,g:78,b:143},{pantoneId:2195,name:"19-3907 TCX",majorColorName:"Gray",colorName:"Forged Iron",r:72,g:70,b:74},{pantoneId:2196,name:"19-3918 TCX",majorColorName:"Blue",colorName:"Periscope",r:70,g:68,b:76},{pantoneId:2197,name:"19-0203 TCX",majorColorName:"Green",colorName:"Gray Pinstripe",r:73,g:73,b:77},{pantoneId:2198,name:"19-3917 TCX",majorColorName:"Blue",colorName:"Blackened Pearl",r:77,g:75,b:80},{pantoneId:2199,name:"19-3929 TCX",majorColorName:"Blue",colorName:"Vintage Indigo",r:74,g:85,b:107},{pantoneId:2200,name:"18-4028 TCX",majorColorName:"Blue",colorName:"Bering Sea",r:75,g:91,b:110},{pantoneId:2201,name:"18-3917 TCX",majorColorName:"Blue",colorName:"Gray Blue",r:77,g:88,b:122},{pantoneId:2202,name:"18-3929 TCX",majorColorName:"Blue",colorName:"Blue Horizon",r:78,g:100,b:130},{pantoneId:2203,name:"17-4028 TCX",majorColorName:"Blue",colorName:"Riverside",r:76,g:106,b:146},{pantoneId:2204,name:"17-4033 TCX",majorColorName:"Blue",colorName:"Pacific Coast",r:84,g:128,b:172},{pantoneId:2205,name:"19-2429 TCX",majorColorName:"Pink",colorName:"Plum Caspia",r:97,g:34,b:74},{pantoneId:2206,name:"19-1724 TCX",majorColorName:"Pink",colorName:"Cabernet",r:100,g:36,b:46},{pantoneId:2207,name:"19-1432 TCX",majorColorName:"Brown",colorName:"Chocolate Fondant",r:86,g:53,b:45},{pantoneId:2208,name:"19-1215 TCX",majorColorName:"Pink",colorName:"Shaved Chocolate",r:84,g:59,b:53},{pantoneId:2209,name:"19-3901 TCX",majorColorName:"Gray",colorName:"Magnet",r:77,g:75,b:79},{pantoneId:2210,name:"16-4033 TCX",majorColorName:"Blue",colorName:"Granada Sky",r:93,g:129,b:187},{pantoneId:2211,name:"19-3900 TCX",majorColorName:"Gray",colorName:"Pavement",r:82,g:77,b:80},{pantoneId:2212,name:"19-3910 TCX",majorColorName:"Blue",colorName:"Iron Gate",r:78,g:80,b:85},{pantoneId:2213,name:"19-4215 TCX",majorColorName:"Gray",colorName:"Turbulence",r:78,g:84,b:91},{pantoneId:2214,name:"17-1311 TCX",majorColorName:"Brown",colorName:"Desert Taupe",r:141,g:126,b:113},{pantoneId:2215,name:"16-0543 TCX",majorColorName:"Yellow",colorName:"Golden Lime",r:154,g:151,b:56},{pantoneId:2216,name:"16-0545 TCX",majorColorName:"Yellow",colorName:"Split Pea",r:156,g:154,b:64},{pantoneId:2217,name:"16-3916 TCX",majorColorName:"White",colorName:"Sleet",r:146,g:148,b:155},{pantoneId:2218,name:"16-3921 TCX",majorColorName:"Blue",colorName:"Blue Heron",r:150,g:163,b:199},{pantoneId:2219,name:"15-3919 TCX",majorColorName:"White",colorName:"Serenity",r:145,g:168,b:208},{pantoneId:2220,name:"14-4122 TCX",majorColorName:"Blue",colorName:"Airy Blue",r:146,g:182,b:213},{pantoneId:2221,name:"14-4315 TCX",majorColorName:"Blue",colorName:"Sea Angel",r:152,g:191,b:202},{pantoneId:2222,name:"14-0340 TCX",majorColorName:"White",colorName:"Acid Lime",r:186,g:223,b:48},{pantoneId:2223,name:"18-1657 TCX",majorColorName:"Pink",colorName:"Salsa",r:170,g:24,b:43},{pantoneId:2224,name:"18-1659 TCX",majorColorName:"Pink",colorName:"Goji Berry",r:185,g:18,b:40},{pantoneId:2225,name:"18-1654 TCX",majorColorName:"Pink",colorName:"Lychee",r:186,g:11,b:50},{pantoneId:2226,name:"18-1759 TCX",majorColorName:"Pink",colorName:"Jalapeno Red",r:178,g:16,b:60},{pantoneId:2227,name:"19-1662 TCX",majorColorName:"Red",colorName:"Samba",r:162,g:36,b:47},{pantoneId:2228,name:"19-2039 TCX",majorColorName:"Pink",colorName:"Granita",r:165,g:35,b:80},{pantoneId:2229,name:"19-2041 TCX",majorColorName:"Pink",colorName:"Cherries Jubilee",r:162,g:36,b:82},{pantoneId:2230,name:"19-2045 TCX",majorColorName:"Pink",colorName:"Vivacious",r:163,g:40,b:87},{pantoneId:2231,name:"18-1355 TCX",majorColorName:"Brown",colorName:"Rooibos Tea",r:162,g:60,b:38},{pantoneId:2232,name:"18-1050 TCX",majorColorName:"Brown",colorName:"Honey Ginger",r:168,g:98,b:23},{pantoneId:2233,name:"17-1342 TCX",majorColorName:"Brown",colorName:"Autumnal",r:161,g:83,b:37},{pantoneId:2234,name:"18-3530 TCX",majorColorName:"Light-Purple",colorName:"Lavender Crystal",r:147,g:106,b:152},{pantoneId:2235,name:"17-1038 TCX",majorColorName:"Brown",colorName:"Tiger's Eye",r:151,g:124,b:97},{pantoneId:2236,name:"17-1316 TCX",majorColorName:"Brown",colorName:"Portabella",r:147,g:123,b:106},{pantoneId:2237,name:"17-1105 TCX",majorColorName:"Brown",colorName:"Roasted Cashew",r:145,g:133,b:121},{pantoneId:2238,name:"17-3520 TCX",majorColorName:"Gray",colorName:"Diffused Orchid",r:152,g:121,b:162},{pantoneId:2239,name:"17-3617 TCX",majorColorName:"Light-Purple",colorName:"English Lavender",r:157,g:123,b:176},{pantoneId:2240,name:"17-3735 TCX",majorColorName:"Light-Purple",colorName:"Sunlit Allium",r:151,g:135,b:184},{pantoneId:2241,name:"16-1109 TCX",majorColorName:"Brown",colorName:"Greige",r:146,g:132,b:117},{pantoneId:2242,name:"17-1108 TCX",majorColorName:"Brown",colorName:"Winter Twig",r:148,g:138,b:122},{pantoneId:2243,name:"16-1606 TCX",majorColorName:"Pink",colorName:"Purple Dove",r:152,g:135,b:140},{pantoneId:2244,name:"17-0630 TCX",majorColorName:"Yellow",colorName:"Tree House",r:152,g:140,b:117},{pantoneId:2245,name:"16-3800 TCX",majorColorName:"Gray",colorName:"Satellite",r:151,g:141,b:137},{pantoneId:2246,name:"16-4400 TCX",majorColorName:"Gray",colorName:"Mourning Dove",r:148,g:144,b:139},{pantoneId:2247,name:"16-5101 TCX",majorColorName:"White",colorName:"Wet Weather",r:146,g:144,b:144},{pantoneId:2248,name:"16-3915 TCX",majorColorName:"White",colorName:"Alloy",r:152,g:151,b:154},{pantoneId:2249,name:"16-3905 TCX",majorColorName:"White",colorName:"Lilac Gray",r:152,g:150,b:164},{pantoneId:2250,name:"15-3912 TCX",majorColorName:"White",colorName:"Aleutian",r:154,g:158,b:179},{pantoneId:2251,name:"14-3912 TCX",majorColorName:"White",colorName:"Zen Blue",r:159,g:169,b:190},{pantoneId:2252,name:"16-3922 TCX",majorColorName:"Blue",colorName:"Brunnera Blue",r:155,g:169,b:202},{pantoneId:2253,name:"15-4030 TCX",majorColorName:"White",colorName:"Chambray Blue",r:158,g:180,b:211},{pantoneId:2254,name:"13-0443 TCX",majorColorName:"Green",colorName:"Love Bird",r:192,g:219,b:58},{pantoneId:2255,name:"18-1653 TCX",majorColorName:"Pink",colorName:"Toreador",r:182,g:16,b:50},{pantoneId:2256,name:"18-1551 TCX",majorColorName:"Red",colorName:"Aura Orange",r:180,g:38,b:42},{pantoneId:2257,name:"18-1049 TCX",majorColorName:"Brown",colorName:"Thai Curry",r:171,g:104,b:25},{pantoneId:2258,name:"16-1438 TCX",majorColorName:"Pink",colorName:"Meerkat",r:164,g:111,b:68},{pantoneId:2259,name:"17-1609 TCX",majorColorName:"Pink",colorName:"Mesa Rose",r:166,g:110,b:122},{pantoneId:2260,name:"17-2411 TCX",majorColorName:"Pink",colorName:"Toadstool",r:152,g:128,b:136},{pantoneId:2261,name:"16-3817 TCX",majorColorName:"White",colorName:"Rhapsody",r:159,g:134,b:170},{pantoneId:2262,name:"16-3720 TCX",majorColorName:"Pink",colorName:"Sand Verbena",r:159,g:144,b:193},{pantoneId:2263,name:"17-0949 TCX",majorColorName:"Brown",colorName:"Chai Tea",r:177,g:131,b:47},{pantoneId:2264,name:"15-3716 TCX",majorColorName:"Blue",colorName:"Purple Rose",r:176,g:159,b:202},{pantoneId:2265,name:"15-3720 TCX",majorColorName:"Blue",colorName:"Lilac Breeze",r:179,g:160,b:201},{pantoneId:2266,name:"16-0205 TCX",majorColorName:"Gray",colorName:"Vintage Khaki",r:154,g:145,b:134},{pantoneId:2267,name:"16-4703 TCX",majorColorName:"Gray",colorName:"Ghost Gray",r:156,g:155,b:152},{pantoneId:2268,name:"16-3850 TCX",majorColorName:"Gray",colorName:"Silver Sconce",r:161,g:159,b:165},{pantoneId:2269,name:"16-0550 TCX",majorColorName:"Yellow",colorName:"Lentil Sprout",r:171,g:164,b:77},{pantoneId:2270,name:"15-4306 TCX",majorColorName:"Gray",colorName:"Belgian Block",r:163,g:169,b:166},{pantoneId:2271,name:"14-4311 TCX",majorColorName:"Blue",colorName:"Corydalis Blue",r:169,g:202,b:218},{pantoneId:2272,name:"14-4317 TCX",majorColorName:"Blue",colorName:"Cool Blue",r:165,g:197,b:217},{pantoneId:2273,name:"13-0651 TCX",majorColorName:"Yellow",colorName:"Evening Primrose",r:204,g:219,b:30},{pantoneId:2274,name:"13-5410 TCX",majorColorName:"Blue-Green",colorName:"Iced Aqua",r:171,g:211,b:219},{pantoneId:2275,name:"18-1950 TCX",majorColorName:"Pink",colorName:"Jazzy",r:182,g:28,b:80},{pantoneId:2276,name:"18-1549 TCX",majorColorName:"Pink",colorName:"Valiant Poppy",r:188,g:50,b:44},{pantoneId:2277,name:"18-1249 TCX",majorColorName:"Brown",colorName:"Hawaiian Sunset",r:187,g:92,b:20},{pantoneId:2278,name:"16-1449 TCX",majorColorName:"Orange",colorName:"Gold Flame",r:180,g:84,b:34},{pantoneId:2279,name:"17-3240 TCX",majorColorName:"Gray",colorName:"Bodacious",r:183,g:107,b:163},{pantoneId:2280,name:"15-1506 TCX",majorColorName:"Orange",colorName:"Etherea",r:165,g:149,b:143},{pantoneId:2281,name:"16-1104 TCX",majorColorName:"Brown",colorName:"Crockery",r:164,g:152,b:135},{pantoneId:2282,name:"16-1120 TCX",majorColorName:"Brown",colorName:"Starfish",r:176,g:154,b:119},{pantoneId:2283,name:"15-3800 TCX",majorColorName:"White",colorName:"Porpoise",r:167,g:161,b:158},{pantoneId:2284,name:"16-1103 TCX",majorColorName:"Brown",colorName:"Pure Cashmere",r:173,g:163,b:150},{pantoneId:2285,name:"14-3906 TCX",majorColorName:"White",colorName:"Raindrops",r:177,g:170,b:179},{pantoneId:2286,name:"15-3908 TCX",majorColorName:"White",colorName:"Icelandic Blue",r:169,g:173,b:194},{pantoneId:2287,name:"13-3920 TCX",majorColorName:"White",colorName:"Halogen Blue",r:189,g:198,b:220},{pantoneId:2288,name:"14-4202 TCX",majorColorName:"White",colorName:"Harbor Mist",r:175,g:177,b:180},{pantoneId:2289,name:"18-1951 TCX",majorColorName:"Pink",colorName:"Love Potion",r:192,g:19,b:82},{pantoneId:2290,name:"18-2045 TCX",majorColorName:"Pink",colorName:"Pink Peacock",r:198,g:33,b:104},{pantoneId:2291,name:"17-1449 TCX",majorColorName:"Pink",colorName:"Pureed Pumpkin",r:195,g:65,b:33},{pantoneId:2292,name:"17-1145 TCX",majorColorName:"Brown",colorName:"Autumn Maple",r:196,g:98,b:21},{pantoneId:2293,name:"17-1450 TCX",majorColorName:"Red",colorName:"Summer Fig",r:190,g:75,b:59},{pantoneId:2294,name:"17-1140 TCX",majorColorName:"Brown",colorName:"Marmalade",r:193,g:101,b:18},{pantoneId:2295,name:"17-1345 TCX",majorColorName:"Brown",colorName:"Spice Route",r:185,g:91,b:63},{pantoneId:2296,name:"16-1710 TCX",majorColorName:"Pink",colorName:"Foxglove",r:185,g:131,b:145},{pantoneId:2297,name:"15-1040 TCX",majorColorName:"Orange",colorName:"Iced Coffee",r:177,g:143,b:106},{pantoneId:2298,name:"15-1114 TCX",majorColorName:"Brown",colorName:"Travertine",r:174,g:153,b:125},{pantoneId:2299,name:"15-3520 TCX",majorColorName:"White",colorName:"Crocus Petal",r:185,g:155,b:197},{pantoneId:2300,name:"15-1307 TCX",majorColorName:"White",colorName:"White Pepper",r:182,g:168,b:147},{pantoneId:2301,name:"14-0116 TCX",majorColorName:"White",colorName:"Margarita",r:181,g:195,b:142},{pantoneId:2302,name:"14-4105 TCX",majorColorName:"White",colorName:"Micro Chip",r:186,g:188,b:192},{pantoneId:2303,name:"14-4107 TCX",majorColorName:"White",colorName:"Quiet Gray",r:185,g:186,b:189},{pantoneId:2304,name:"14-3949 TCX",majorColorName:"White",colorName:"Xenon Blue",r:183,g:192,b:215},{pantoneId:2305,name:"13-4200 TCX",majorColorName:"White",colorName:"Omphalodes",r:181,g:206,b:223},{pantoneId:2306,name:"17-2034 TCX",majorColorName:"Pink",colorName:"Pink Yarrow",r:206,g:49,b:117},{pantoneId:2307,name:"18-1564 TCX",majorColorName:"Red",colorName:"Poinciana",r:202,g:52,b:34},{pantoneId:2308,name:"18-2140 TCX",majorColorName:"Pink",colorName:"Cabaret",r:203,g:51,b:115},{pantoneId:2309,name:"17-1926 TCX",majorColorName:"Pink",colorName:"Fruit Dove",r:206,g:91,b:120},{pantoneId:2310,name:"16-1149 TCX",majorColorName:"Orange",colorName:"Desert Sun",r:200,g:118,b:41}]}}};function pB(a){return rs({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(a)}const fB=(a,e,n,r)=>(n|e<<8|a<<16|1<<24).toString(16).slice(1)+r;function gB(a,e,n,r){let o=(a+(r||"")).toString().includes("%");if(typeof a=="string"&&!e){const l=bB(a);if(!l)throw new TypeError("Invalid or unsupported color format.");o=!1,[a,e,n,r]=l}else r!==void 0&&(r=Number.parseFloat(r));if(typeof a!="number"||typeof e!="number"||typeof n!="number"||a>255||e>255||n>255)throw new TypeError("Expected three numbers below 256");if(typeof r=="number"){if(!o&&r>=0&&r<=1)r=Math.round(255*r);else if(o&&r>=0&&r<=100)r=Math.round(255*r/100);else throw new TypeError(`Expected alpha value (${r}) as a fraction or percentage`);r=(r|256).toString(16).slice(1)}else r="";return fB(a,e,n,r)}const bB=a=>{const e=a.replace(/rgba?\(([^)]+)\)/,"$1").split(/[,\s/]+/).filter(Boolean);if(e.length<3)return;const n=(d,p)=>(d=d.trim(),d.endsWith("%")?Math.min(Number.parseFloat(d)*p/100,p):Math.min(Number.parseFloat(d),p)),r=n(e[0],255),o=n(e[1],255),l=n(e[2],255);let h;return e.length===4&&(h=n(e[3],1)),[r,o,l,h]};var Ji={},up={},vB=typeof P.commonjsGlobal=="object"&&P.commonjsGlobal&&P.commonjsGlobal.Object===Object&&P.commonjsGlobal,$S=vB,yB=$S,xB=typeof self=="object"&&self&&self.Object===Object&&self,CB=yB||xB||Function("return this")(),ha=CB,_B=ha,TB=_B.Symbol,dp=TB,tw=dp,qS=Object.prototype,wB=qS.hasOwnProperty,NB=qS.toString,wm=tw?tw.toStringTag:void 0;function MB(a){var e=wB.call(a,wm),n=a[wm];try{a[wm]=void 0;var r=!0}catch{}var o=NB.call(a);return r&&(e?a[wm]=n:delete a[wm]),o}var SB=MB,AB=Object.prototype,EB=AB.toString;function IB(a){return EB.call(a)}var RB=IB,nw=dp,PB=SB,BB=RB,OB="[object Null]",LB="[object Undefined]",rw=nw?nw.toStringTag:void 0;function jB(a){return a==null?a===void 0?LB:OB:rw&&rw in Object(a)?PB(a):BB(a)}var zc=jB,DB=Array.isArray,Lo=DB;function FB(a){return a!=null&&typeof a=="object"}var is=FB,kB=zc,XB=Lo,zB=is,UB="[object String]";function GB(a){return typeof a=="string"||!XB(a)&&zB(a)&&kB(a)==UB}var WB=GB;function VB(a){return function(e,n,r){for(var o=-1,l=Object(e),h=r(e),d=h.length;d--;){var p=h[a?d:++o];if(n(l[p],p,l)===!1)break}return e}}var HB=VB,$B=HB,qB=$B(),YB=qB;function KB(a,e){for(var n=-1,r=Array(a);++n<a;)r[n]=e(n);return r}var ZB=KB,JB=zc,QB=is,e9="[object Arguments]";function t9(a){return QB(a)&&JB(a)==e9}var n9=t9,iw=n9,r9=is,YS=Object.prototype,i9=YS.hasOwnProperty,o9=YS.propertyIsEnumerable,a9=iw(function(){return arguments}())?iw:function(a){return r9(a)&&i9.call(a,"callee")&&!o9.call(a,"callee")},KS=a9,Ag={exports:{}};function s9(){return!1}var l9=s9;Ag.exports;(function(a,e){var n=ha,r=l9,o=e&&!e.nodeType&&e,l=o&&!0&&a&&!a.nodeType&&a,h=l&&l.exports===o,d=h?n.Buffer:void 0,p=d?d.isBuffer:void 0,g=p||r;a.exports=g})(Ag,Ag.exports);var t2=Ag.exports,c9=9007199254740991,h9=/^(?:0|[1-9]\d*)$/;function u9(a,e){var n=typeof a;return e=e??c9,!!e&&(n=="number"||n!="symbol"&&h9.test(a))&&a>-1&&a%1==0&&a<e}var ZS=u9,d9=9007199254740991;function m9(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=d9}var n2=m9,p9=zc,f9=n2,g9=is,b9="[object Arguments]",v9="[object Array]",y9="[object Boolean]",x9="[object Date]",C9="[object Error]",_9="[object Function]",T9="[object Map]",w9="[object Number]",N9="[object Object]",M9="[object RegExp]",S9="[object Set]",A9="[object String]",E9="[object WeakMap]",I9="[object ArrayBuffer]",R9="[object DataView]",P9="[object Float32Array]",B9="[object Float64Array]",O9="[object Int8Array]",L9="[object Int16Array]",j9="[object Int32Array]",D9="[object Uint8Array]",F9="[object Uint8ClampedArray]",k9="[object Uint16Array]",X9="[object Uint32Array]",tr={};tr[P9]=tr[B9]=tr[O9]=tr[L9]=tr[j9]=tr[D9]=tr[F9]=tr[k9]=tr[X9]=!0;tr[b9]=tr[v9]=tr[I9]=tr[y9]=tr[R9]=tr[x9]=tr[C9]=tr[_9]=tr[T9]=tr[w9]=tr[N9]=tr[M9]=tr[S9]=tr[A9]=tr[E9]=!1;function z9(a){return g9(a)&&f9(a.length)&&!!tr[p9(a)]}var U9=z9;function G9(a){return function(e){return a(e)}}var r2=G9,Eg={exports:{}};Eg.exports;(function(a,e){var n=$S,r=e&&!e.nodeType&&e,o=r&&!0&&a&&!a.nodeType&&a,l=o&&o.exports===r,h=l&&n.process,d=function(){try{var p=o&&o.require&&o.require("util").types;return p||h&&h.binding&&h.binding("util")}catch{}}();a.exports=d})(Eg,Eg.exports);var i2=Eg.exports,W9=U9,V9=r2,ow=i2,aw=ow&&ow.isTypedArray,H9=aw?V9(aw):W9,JS=H9,$9=ZB,q9=KS,Y9=Lo,K9=t2,Z9=ZS,J9=JS,Q9=Object.prototype,e7=Q9.hasOwnProperty;function t7(a,e){var n=Y9(a),r=!n&&q9(a),o=!n&&!r&&K9(a),l=!n&&!r&&!o&&J9(a),h=n||r||o||l,d=h?$9(a.length,String):[],p=d.length;for(var g in a)(e||e7.call(a,g))&&!(h&&(g=="length"||o&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Z9(g,p)))&&d.push(g);return d}var QS=t7,n7=Object.prototype;function r7(a){var e=a&&a.constructor,n=typeof e=="function"&&e.prototype||n7;return a===n}var o2=r7;function i7(a,e){return function(n){return a(e(n))}}var eA=i7,o7=eA,a7=o7(Object.keys,Object),s7=a7,l7=o2,c7=s7,h7=Object.prototype,u7=h7.hasOwnProperty;function d7(a){if(!l7(a))return c7(a);var e=[];for(var n in Object(a))u7.call(a,n)&&n!="constructor"&&e.push(n);return e}var m7=d7;function p7(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")}var Du=p7,f7=zc,g7=Du,b7="[object AsyncFunction]",v7="[object Function]",y7="[object GeneratorFunction]",x7="[object Proxy]";function C7(a){if(!g7(a))return!1;var e=f7(a);return e==v7||e==y7||e==b7||e==x7}var tA=C7,_7=tA,T7=n2;function w7(a){return a!=null&&T7(a.length)&&!_7(a)}var Yg=w7,N7=QS,M7=m7,S7=Yg;function A7(a){return S7(a)?N7(a):M7(a)}var mp=A7,E7=YB,I7=mp;function R7(a,e){return a&&E7(a,e,I7)}var nA=R7;function P7(a){return a}var rA=P7,B7=rA;function O7(a){return typeof a=="function"?a:B7}var L7=O7,j7=nA,D7=L7;function F7(a,e){return a&&j7(a,D7(e))}var a2=F7,k7=eA,X7=k7(Object.getPrototypeOf,Object),s2=X7,z7=zc,U7=s2,G7=is,W7="[object Object]",V7=Function.prototype,H7=Object.prototype,iA=V7.toString,$7=H7.hasOwnProperty,q7=iA.call(Object);function Y7(a){if(!G7(a)||z7(a)!=W7)return!1;var e=U7(a);if(e===null)return!0;var n=$7.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&iA.call(n)==q7}var K7=Y7;function Z7(a,e){for(var n=-1,r=a==null?0:a.length,o=Array(r);++n<r;)o[n]=e(a[n],n,a);return o}var oA=Z7;function J7(){this.__data__=[],this.size=0}var Q7=J7;function eO(a,e){return a===e||a!==a&&e!==e}var l2=eO,tO=l2;function nO(a,e){for(var n=a.length;n--;)if(tO(a[n][0],e))return n;return-1}var Kg=nO,rO=Kg,iO=Array.prototype,oO=iO.splice;function aO(a){var e=this.__data__,n=rO(e,a);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():oO.call(e,n,1),--this.size,!0}var sO=aO,lO=Kg;function cO(a){var e=this.__data__,n=lO(e,a);return n<0?void 0:e[n][1]}var hO=cO,uO=Kg;function dO(a){return uO(this.__data__,a)>-1}var mO=dO,pO=Kg;function fO(a,e){var n=this.__data__,r=pO(n,a);return r<0?(++this.size,n.push([a,e])):n[r][1]=e,this}var gO=fO,bO=Q7,vO=sO,yO=hO,xO=mO,CO=gO;function Fu(a){var e=-1,n=a==null?0:a.length;for(this.clear();++e<n;){var r=a[e];this.set(r[0],r[1])}}Fu.prototype.clear=bO;Fu.prototype.delete=vO;Fu.prototype.get=yO;Fu.prototype.has=xO;Fu.prototype.set=CO;var Zg=Fu,_O=Zg;function TO(){this.__data__=new _O,this.size=0}var wO=TO;function NO(a){var e=this.__data__,n=e.delete(a);return this.size=e.size,n}var MO=NO;function SO(a){return this.__data__.get(a)}var AO=SO;function EO(a){return this.__data__.has(a)}var IO=EO,RO=ha,PO=RO["__core-js_shared__"],BO=PO,wv=BO,sw=function(){var a=/[^.]+$/.exec(wv&&wv.keys&&wv.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function OO(a){return!!sw&&sw in a}var LO=OO,jO=Function.prototype,DO=jO.toString;function FO(a){if(a!=null){try{return DO.call(a)}catch{}try{return a+""}catch{}}return""}var aA=FO,kO=tA,XO=LO,zO=Du,UO=aA,GO=/[\\^$.*+?()[\]{}|]/g,WO=/^\[object .+?Constructor\]$/,VO=Function.prototype,HO=Object.prototype,$O=VO.toString,qO=HO.hasOwnProperty,YO=RegExp("^"+$O.call(qO).replace(GO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KO(a){if(!zO(a)||XO(a))return!1;var e=kO(a)?YO:WO;return e.test(UO(a))}var ZO=KO;function JO(a,e){return a==null?void 0:a[e]}var QO=JO,eL=ZO,tL=QO;function nL(a,e){var n=tL(a,e);return eL(n)?n:void 0}var Uc=nL,rL=Uc,iL=ha,oL=rL(iL,"Map"),c2=oL,aL=Uc,sL=aL(Object,"create"),Jg=sL,lw=Jg;function lL(){this.__data__=lw?lw(null):{},this.size=0}var cL=lL;function hL(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e}var uL=hL,dL=Jg,mL="__lodash_hash_undefined__",pL=Object.prototype,fL=pL.hasOwnProperty;function gL(a){var e=this.__data__;if(dL){var n=e[a];return n===mL?void 0:n}return fL.call(e,a)?e[a]:void 0}var bL=gL,vL=Jg,yL=Object.prototype,xL=yL.hasOwnProperty;function CL(a){var e=this.__data__;return vL?e[a]!==void 0:xL.call(e,a)}var _L=CL,TL=Jg,wL="__lodash_hash_undefined__";function NL(a,e){var n=this.__data__;return this.size+=this.has(a)?0:1,n[a]=TL&&e===void 0?wL:e,this}var ML=NL,SL=cL,AL=uL,EL=bL,IL=_L,RL=ML;function ku(a){var e=-1,n=a==null?0:a.length;for(this.clear();++e<n;){var r=a[e];this.set(r[0],r[1])}}ku.prototype.clear=SL;ku.prototype.delete=AL;ku.prototype.get=EL;ku.prototype.has=IL;ku.prototype.set=RL;var PL=ku,cw=PL,BL=Zg,OL=c2;function LL(){this.size=0,this.__data__={hash:new cw,map:new(OL||BL),string:new cw}}var jL=LL;function DL(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null}var FL=DL,kL=FL;function XL(a,e){var n=a.__data__;return kL(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qg=XL,zL=Qg;function UL(a){var e=zL(this,a).delete(a);return this.size-=e?1:0,e}var GL=UL,WL=Qg;function VL(a){return WL(this,a).get(a)}var HL=VL,$L=Qg;function qL(a){return $L(this,a).has(a)}var YL=qL,KL=Qg;function ZL(a,e){var n=KL(this,a),r=n.size;return n.set(a,e),this.size+=n.size==r?0:1,this}var JL=ZL,QL=jL,ej=GL,tj=HL,nj=YL,rj=JL;function Xu(a){var e=-1,n=a==null?0:a.length;for(this.clear();++e<n;){var r=a[e];this.set(r[0],r[1])}}Xu.prototype.clear=QL;Xu.prototype.delete=ej;Xu.prototype.get=tj;Xu.prototype.has=nj;Xu.prototype.set=rj;var h2=Xu,ij=Zg,oj=c2,aj=h2,sj=200;function lj(a,e){var n=this.__data__;if(n instanceof ij){var r=n.__data__;if(!oj||r.length<sj-1)return r.push([a,e]),this.size=++n.size,this;n=this.__data__=new aj(r)}return n.set(a,e),this.size=n.size,this}var cj=lj,hj=Zg,uj=wO,dj=MO,mj=AO,pj=IO,fj=cj;function zu(a){var e=this.__data__=new hj(a);this.size=e.size}zu.prototype.clear=uj;zu.prototype.delete=dj;zu.prototype.get=mj;zu.prototype.has=pj;zu.prototype.set=fj;var u2=zu,gj="__lodash_hash_undefined__";function bj(a){return this.__data__.set(a,gj),this}var vj=bj;function yj(a){return this.__data__.has(a)}var xj=yj,Cj=h2,_j=vj,Tj=xj;function Ig(a){var e=-1,n=a==null?0:a.length;for(this.__data__=new Cj;++e<n;)this.add(a[e])}Ig.prototype.add=Ig.prototype.push=_j;Ig.prototype.has=Tj;var wj=Ig;function Nj(a,e){for(var n=-1,r=a==null?0:a.length;++n<r;)if(e(a[n],n,a))return!0;return!1}var Mj=Nj;function Sj(a,e){return a.has(e)}var Aj=Sj,Ej=wj,Ij=Mj,Rj=Aj,Pj=1,Bj=2;function Oj(a,e,n,r,o,l){var h=n&Pj,d=a.length,p=e.length;if(d!=p&&!(h&&p>d))return!1;var g=l.get(a),v=l.get(e);if(g&&v)return g==e&&v==a;var y=-1,x=!0,T=n&Bj?new Ej:void 0;for(l.set(a,e),l.set(e,a);++y<d;){var w=a[y],M=e[y];if(r)var S=h?r(M,w,y,e,a,l):r(w,M,y,a,e,l);if(S!==void 0){if(S)continue;x=!1;break}if(T){if(!Ij(e,function(j,k){if(!Rj(T,k)&&(w===j||o(w,j,n,r,l)))return T.push(k)})){x=!1;break}}else if(!(w===M||o(w,M,n,r,l))){x=!1;break}}return l.delete(a),l.delete(e),x}var sA=Oj,Lj=ha,jj=Lj.Uint8Array,lA=jj;function Dj(a){var e=-1,n=Array(a.size);return a.forEach(function(r,o){n[++e]=[o,r]}),n}var Fj=Dj;function kj(a){var e=-1,n=Array(a.size);return a.forEach(function(r){n[++e]=r}),n}var Xj=kj,hw=dp,uw=lA,zj=l2,Uj=sA,Gj=Fj,Wj=Xj,Vj=1,Hj=2,$j="[object Boolean]",qj="[object Date]",Yj="[object Error]",Kj="[object Map]",Zj="[object Number]",Jj="[object RegExp]",Qj="[object Set]",eD="[object String]",tD="[object Symbol]",nD="[object ArrayBuffer]",rD="[object DataView]",dw=hw?hw.prototype:void 0,Nv=dw?dw.valueOf:void 0;function iD(a,e,n,r,o,l,h){switch(n){case rD:if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case nD:return!(a.byteLength!=e.byteLength||!l(new uw(a),new uw(e)));case $j:case qj:case Zj:return zj(+a,+e);case Yj:return a.name==e.name&&a.message==e.message;case Jj:case eD:return a==e+"";case Kj:var d=Gj;case Qj:var p=r&Vj;if(d||(d=Wj),a.size!=e.size&&!p)return!1;var g=h.get(a);if(g)return g==e;r|=Hj,h.set(a,e);var v=Uj(d(a),d(e),r,o,l,h);return h.delete(a),v;case tD:if(Nv)return Nv.call(a)==Nv.call(e)}return!1}var oD=iD;function aD(a,e){for(var n=-1,r=e.length,o=a.length;++n<r;)a[o+n]=e[n];return a}var cA=aD,sD=cA,lD=Lo;function cD(a,e,n){var r=e(a);return lD(a)?r:sD(r,n(a))}var hA=cD;function hD(a,e){for(var n=-1,r=a==null?0:a.length,o=0,l=[];++n<r;){var h=a[n];e(h,n,a)&&(l[o++]=h)}return l}var uD=hD;function dD(){return[]}var uA=dD,mD=uD,pD=uA,fD=Object.prototype,gD=fD.propertyIsEnumerable,mw=Object.getOwnPropertySymbols,bD=mw?function(a){return a==null?[]:(a=Object(a),mD(mw(a),function(e){return gD.call(a,e)}))}:pD,d2=bD,vD=hA,yD=d2,xD=mp;function CD(a){return vD(a,xD,yD)}var dA=CD,pw=dA,_D=1,TD=Object.prototype,wD=TD.hasOwnProperty;function ND(a,e,n,r,o,l){var h=n&_D,d=pw(a),p=d.length,g=pw(e),v=g.length;if(p!=v&&!h)return!1;for(var y=p;y--;){var x=d[y];if(!(h?x in e:wD.call(e,x)))return!1}var T=l.get(a),w=l.get(e);if(T&&w)return T==e&&w==a;var M=!0;l.set(a,e),l.set(e,a);for(var S=h;++y<p;){x=d[y];var j=a[x],k=e[x];if(r)var W=h?r(k,j,x,e,a,l):r(j,k,x,a,e,l);if(!(W===void 0?j===k||o(j,k,n,r,l):W)){M=!1;break}S||(S=x=="constructor")}if(M&&!S){var q=a.constructor,Z=e.constructor;q!=Z&&"constructor"in a&&"constructor"in e&&!(typeof q=="function"&&q instanceof q&&typeof Z=="function"&&Z instanceof Z)&&(M=!1)}return l.delete(a),l.delete(e),M}var MD=ND,SD=Uc,AD=ha,ED=SD(AD,"DataView"),ID=ED,RD=Uc,PD=ha,BD=RD(PD,"Promise"),OD=BD,LD=Uc,jD=ha,DD=LD(jD,"Set"),FD=DD,kD=Uc,XD=ha,zD=kD(XD,"WeakMap"),UD=zD,fx=ID,gx=c2,bx=OD,vx=FD,yx=UD,mA=zc,Uu=aA,fw="[object Map]",GD="[object Object]",gw="[object Promise]",bw="[object Set]",vw="[object WeakMap]",yw="[object DataView]",WD=Uu(fx),VD=Uu(gx),HD=Uu(bx),$D=Uu(vx),qD=Uu(yx),Ic=mA;(fx&&Ic(new fx(new ArrayBuffer(1)))!=yw||gx&&Ic(new gx)!=fw||bx&&Ic(bx.resolve())!=gw||vx&&Ic(new vx)!=bw||yx&&Ic(new yx)!=vw)&&(Ic=function(a){var e=mA(a),n=e==GD?a.constructor:void 0,r=n?Uu(n):"";if(r)switch(r){case WD:return yw;case VD:return fw;case HD:return gw;case $D:return bw;case qD:return vw}return e});var e0=Ic,Mv=u2,YD=sA,KD=oD,ZD=MD,xw=e0,Cw=Lo,_w=t2,JD=JS,QD=1,Tw="[object Arguments]",ww="[object Array]",C1="[object Object]",eF=Object.prototype,Nw=eF.hasOwnProperty;function tF(a,e,n,r,o,l){var h=Cw(a),d=Cw(e),p=h?ww:xw(a),g=d?ww:xw(e);p=p==Tw?C1:p,g=g==Tw?C1:g;var v=p==C1,y=g==C1,x=p==g;if(x&&_w(a)){if(!_w(e))return!1;h=!0,v=!1}if(x&&!v)return l||(l=new Mv),h||JD(a)?YD(a,e,n,r,o,l):KD(a,e,p,n,r,o,l);if(!(n&QD)){var T=v&&Nw.call(a,"__wrapped__"),w=y&&Nw.call(e,"__wrapped__");if(T||w){var M=T?a.value():a,S=w?e.value():e;return l||(l=new Mv),o(M,S,n,r,l)}}return x?(l||(l=new Mv),ZD(a,e,n,r,o,l)):!1}var nF=tF,rF=nF,Mw=is;function pA(a,e,n,r,o){return a===e?!0:a==null||e==null||!Mw(a)&&!Mw(e)?a!==a&&e!==e:rF(a,e,n,r,pA,o)}var fA=pA,iF=u2,oF=fA,aF=1,sF=2;function lF(a,e,n,r){var o=n.length,l=o,h=!r;if(a==null)return!l;for(a=Object(a);o--;){var d=n[o];if(h&&d[2]?d[1]!==a[d[0]]:!(d[0]in a))return!1}for(;++o<l;){d=n[o];var p=d[0],g=a[p],v=d[1];if(h&&d[2]){if(g===void 0&&!(p in a))return!1}else{var y=new iF;if(r)var x=r(g,v,p,a,e,y);if(!(x===void 0?oF(v,g,aF|sF,r,y):x))return!1}}return!0}var cF=lF,hF=Du;function uF(a){return a===a&&!hF(a)}var gA=uF,dF=gA,mF=mp;function pF(a){for(var e=mF(a),n=e.length;n--;){var r=e[n],o=a[r];e[n]=[r,o,dF(o)]}return e}var fF=pF;function gF(a,e){return function(n){return n==null?!1:n[a]===e&&(e!==void 0||a in Object(n))}}var bA=gF,bF=cF,vF=fF,yF=bA;function xF(a){var e=vF(a);return e.length==1&&e[0][2]?yF(e[0][0],e[0][1]):function(n){return n===a||bF(n,a,e)}}var CF=xF,_F=zc,TF=is,wF="[object Symbol]";function NF(a){return typeof a=="symbol"||TF(a)&&_F(a)==wF}var m2=NF,MF=Lo,SF=m2,AF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,EF=/^\w*$/;function IF(a,e){if(MF(a))return!1;var n=typeof a;return n=="number"||n=="symbol"||n=="boolean"||a==null||SF(a)?!0:EF.test(a)||!AF.test(a)||e!=null&&a in Object(e)}var p2=IF,vA=h2,RF="Expected a function";function f2(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError(RF);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],l=n.cache;if(l.has(o))return l.get(o);var h=a.apply(this,r);return n.cache=l.set(o,h)||l,h};return n.cache=new(f2.Cache||vA),n}f2.Cache=vA;var PF=f2,BF=PF,OF=500;function LF(a){var e=BF(a,function(r){return n.size===OF&&n.clear(),r}),n=e.cache;return e}var jF=LF,DF=jF,FF=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kF=/\\(\\)?/g,XF=DF(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(FF,function(n,r,o,l){e.push(o?l.replace(kF,"$1"):r||n)}),e}),zF=XF,Sw=dp,UF=oA,GF=Lo,WF=m2,VF=1/0,Aw=Sw?Sw.prototype:void 0,Ew=Aw?Aw.toString:void 0;function yA(a){if(typeof a=="string")return a;if(GF(a))return UF(a,yA)+"";if(WF(a))return Ew?Ew.call(a):"";var e=a+"";return e=="0"&&1/a==-VF?"-0":e}var HF=yA,$F=HF;function qF(a){return a==null?"":$F(a)}var YF=qF,KF=Lo,ZF=p2,JF=zF,QF=YF;function ek(a,e){return KF(a)?a:ZF(a,e)?[a]:JF(QF(a))}var xA=ek,tk=m2,nk=1/0;function rk(a){if(typeof a=="string"||tk(a))return a;var e=a+"";return e=="0"&&1/a==-nk?"-0":e}var t0=rk,ik=xA,ok=t0;function ak(a,e){e=ik(e,a);for(var n=0,r=e.length;a!=null&&n<r;)a=a[ok(e[n++])];return n&&n==r?a:void 0}var CA=ak,sk=CA;function lk(a,e,n){var r=a==null?void 0:sk(a,e);return r===void 0?n:r}var ck=lk;function hk(a,e){return a!=null&&e in Object(a)}var uk=hk,dk=xA,mk=KS,pk=Lo,fk=ZS,gk=n2,bk=t0;function vk(a,e,n){e=dk(e,a);for(var r=-1,o=e.length,l=!1;++r<o;){var h=bk(e[r]);if(!(l=a!=null&&n(a,h)))break;a=a[h]}return l||++r!=o?l:(o=a==null?0:a.length,!!o&&gk(o)&&fk(h,o)&&(pk(a)||mk(a)))}var yk=vk,xk=uk,Ck=yk;function _k(a,e){return a!=null&&Ck(a,e,xk)}var Tk=_k,wk=fA,Nk=ck,Mk=Tk,Sk=p2,Ak=gA,Ek=bA,Ik=t0,Rk=1,Pk=2;function Bk(a,e){return Sk(a)&&Ak(e)?Ek(Ik(a),e):function(n){var r=Nk(n,a);return r===void 0&&r===e?Mk(n,a):wk(e,r,Rk|Pk)}}var Ok=Bk;function Lk(a){return function(e){return e==null?void 0:e[a]}}var jk=Lk,Dk=CA;function Fk(a){return function(e){return Dk(e,a)}}var kk=Fk,Xk=jk,zk=kk,Uk=p2,Gk=t0;function Wk(a){return Uk(a)?Xk(Gk(a)):zk(a)}var Vk=Wk,Hk=CF,$k=Ok,qk=rA,Yk=Lo,Kk=Vk;function Zk(a){return typeof a=="function"?a:a==null?qk:typeof a=="object"?Yk(a)?$k(a[0],a[1]):Hk(a):Kk(a)}var Jk=Zk,Qk=Yg;function eX(a,e){return function(n,r){if(n==null)return n;if(!Qk(n))return a(n,r);for(var o=n.length,l=e?o:-1,h=Object(n);(e?l--:++l<o)&&r(h[l],l,h)!==!1;);return n}}var tX=eX,nX=nA,rX=tX,iX=rX(nX),oX=iX,aX=oX,sX=Yg;function lX(a,e){var n=-1,r=sX(a)?Array(a.length):[];return aX(a,function(o,l,h){r[++n]=e(o,l,h)}),r}var cX=lX,hX=oA,uX=Jk,dX=cX,mX=Lo;function pX(a,e){var n=mX(a)?hX:dX;return n(a,uX(e))}var fX=pX;Object.defineProperty(up,"__esModule",{value:!0});up.flattenNames=void 0;var gX=WB,bX=n0(gX),vX=a2,yX=n0(vX),xX=K7,CX=n0(xX),_X=fX,TX=n0(_X);function n0(a){return a&&a.__esModule?a:{default:a}}var wX=up.flattenNames=function a(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,TX.default)(e,function(r){Array.isArray(r)?a(r).map(function(o){return n.push(o)}):(0,CX.default)(r)?(0,yX.default)(r,function(o,l){o===!0&&n.push(l),n.push(l+"-"+o)}):(0,bX.default)(r)&&n.push(r)}),n};up.default=wX;var pp={};function NX(a,e){for(var n=-1,r=a==null?0:a.length;++n<r&&e(a[n],n,a)!==!1;);return a}var MX=NX,SX=Uc,AX=function(){try{var a=SX(Object,"defineProperty");return a({},"",{}),a}catch{}}(),EX=AX,Iw=EX;function IX(a,e,n){e=="__proto__"&&Iw?Iw(a,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):a[e]=n}var _A=IX,RX=_A,PX=l2,BX=Object.prototype,OX=BX.hasOwnProperty;function LX(a,e,n){var r=a[e];(!(OX.call(a,e)&&PX(r,n))||n===void 0&&!(e in a))&&RX(a,e,n)}var TA=LX,jX=TA,DX=_A;function FX(a,e,n,r){var o=!n;n||(n={});for(var l=-1,h=e.length;++l<h;){var d=e[l],p=r?r(n[d],a[d],d,n,a):void 0;p===void 0&&(p=a[d]),o?DX(n,d,p):jX(n,d,p)}return n}var r0=FX,kX=r0,XX=mp;function zX(a,e){return a&&kX(e,XX(e),a)}var UX=zX;function GX(a){var e=[];if(a!=null)for(var n in Object(a))e.push(n);return e}var WX=GX,VX=Du,HX=o2,$X=WX,qX=Object.prototype,YX=qX.hasOwnProperty;function KX(a){if(!VX(a))return $X(a);var e=HX(a),n=[];for(var r in a)r=="constructor"&&(e||!YX.call(a,r))||n.push(r);return n}var ZX=KX,JX=QS,QX=ZX,ez=Yg;function tz(a){return ez(a)?JX(a,!0):QX(a)}var g2=tz,nz=r0,rz=g2;function iz(a,e){return a&&nz(e,rz(e),a)}var oz=iz,Rg={exports:{}};Rg.exports;(function(a,e){var n=ha,r=e&&!e.nodeType&&e,o=r&&!0&&a&&!a.nodeType&&a,l=o&&o.exports===r,h=l?n.Buffer:void 0,d=h?h.allocUnsafe:void 0;function p(g,v){if(v)return g.slice();var y=g.length,x=d?d(y):new g.constructor(y);return g.copy(x),x}a.exports=p})(Rg,Rg.exports);var az=Rg.exports;function sz(a,e){var n=-1,r=a.length;for(e||(e=Array(r));++n<r;)e[n]=a[n];return e}var lz=sz,cz=r0,hz=d2;function uz(a,e){return cz(a,hz(a),e)}var dz=uz,mz=cA,pz=s2,fz=d2,gz=uA,bz=Object.getOwnPropertySymbols,vz=bz?function(a){for(var e=[];a;)mz(e,fz(a)),a=pz(a);return e}:gz,wA=vz,yz=r0,xz=wA;function Cz(a,e){return yz(a,xz(a),e)}var _z=Cz,Tz=hA,wz=wA,Nz=g2;function Mz(a){return Tz(a,Nz,wz)}var Sz=Mz,Az=Object.prototype,Ez=Az.hasOwnProperty;function Iz(a){var e=a.length,n=new a.constructor(e);return e&&typeof a[0]=="string"&&Ez.call(a,"index")&&(n.index=a.index,n.input=a.input),n}var Rz=Iz,Rw=lA;function Pz(a){var e=new a.constructor(a.byteLength);return new Rw(e).set(new Rw(a)),e}var b2=Pz,Bz=b2;function Oz(a,e){var n=e?Bz(a.buffer):a.buffer;return new a.constructor(n,a.byteOffset,a.byteLength)}var Lz=Oz,jz=/\w*$/;function Dz(a){var e=new a.constructor(a.source,jz.exec(a));return e.lastIndex=a.lastIndex,e}var Fz=Dz,Pw=dp,Bw=Pw?Pw.prototype:void 0,Ow=Bw?Bw.valueOf:void 0;function kz(a){return Ow?Object(Ow.call(a)):{}}var Xz=kz,zz=b2;function Uz(a,e){var n=e?zz(a.buffer):a.buffer;return new a.constructor(n,a.byteOffset,a.length)}var Gz=Uz,Wz=b2,Vz=Lz,Hz=Fz,$z=Xz,qz=Gz,Yz="[object Boolean]",Kz="[object Date]",Zz="[object Map]",Jz="[object Number]",Qz="[object RegExp]",eU="[object Set]",tU="[object String]",nU="[object Symbol]",rU="[object ArrayBuffer]",iU="[object DataView]",oU="[object Float32Array]",aU="[object Float64Array]",sU="[object Int8Array]",lU="[object Int16Array]",cU="[object Int32Array]",hU="[object Uint8Array]",uU="[object Uint8ClampedArray]",dU="[object Uint16Array]",mU="[object Uint32Array]";function pU(a,e,n){var r=a.constructor;switch(e){case rU:return Wz(a);case Yz:case Kz:return new r(+a);case iU:return Vz(a,n);case oU:case aU:case sU:case lU:case cU:case hU:case uU:case dU:case mU:return qz(a,n);case Zz:return new r;case Jz:case tU:return new r(a);case Qz:return Hz(a);case eU:return new r;case nU:return $z(a)}}var fU=pU,gU=Du,Lw=Object.create,bU=function(){function a(){}return function(e){if(!gU(e))return{};if(Lw)return Lw(e);a.prototype=e;var n=new a;return a.prototype=void 0,n}}(),vU=bU,yU=vU,xU=s2,CU=o2;function _U(a){return typeof a.constructor=="function"&&!CU(a)?yU(xU(a)):{}}var TU=_U,wU=e0,NU=is,MU="[object Map]";function SU(a){return NU(a)&&wU(a)==MU}var AU=SU,EU=AU,IU=r2,jw=i2,Dw=jw&&jw.isMap,RU=Dw?IU(Dw):EU,PU=RU,BU=e0,OU=is,LU="[object Set]";function jU(a){return OU(a)&&BU(a)==LU}var DU=jU,FU=DU,kU=r2,Fw=i2,kw=Fw&&Fw.isSet,XU=kw?kU(kw):FU,zU=XU,UU=u2,GU=MX,WU=TA,VU=UX,HU=oz,$U=az,qU=lz,YU=dz,KU=_z,ZU=dA,JU=Sz,QU=e0,eG=Rz,tG=fU,nG=TU,rG=Lo,iG=t2,oG=PU,aG=Du,sG=zU,lG=mp,cG=g2,hG=1,uG=2,dG=4,NA="[object Arguments]",mG="[object Array]",pG="[object Boolean]",fG="[object Date]",gG="[object Error]",MA="[object Function]",bG="[object GeneratorFunction]",vG="[object Map]",yG="[object Number]",SA="[object Object]",xG="[object RegExp]",CG="[object Set]",_G="[object String]",TG="[object Symbol]",wG="[object WeakMap]",NG="[object ArrayBuffer]",MG="[object DataView]",SG="[object Float32Array]",AG="[object Float64Array]",EG="[object Int8Array]",IG="[object Int16Array]",RG="[object Int32Array]",PG="[object Uint8Array]",BG="[object Uint8ClampedArray]",OG="[object Uint16Array]",LG="[object Uint32Array]",Zn={};Zn[NA]=Zn[mG]=Zn[NG]=Zn[MG]=Zn[pG]=Zn[fG]=Zn[SG]=Zn[AG]=Zn[EG]=Zn[IG]=Zn[RG]=Zn[vG]=Zn[yG]=Zn[SA]=Zn[xG]=Zn[CG]=Zn[_G]=Zn[TG]=Zn[PG]=Zn[BG]=Zn[OG]=Zn[LG]=!0;Zn[gG]=Zn[MA]=Zn[wG]=!1;function Cg(a,e,n,r,o,l){var h,d=e&hG,p=e&uG,g=e&dG;if(n&&(h=o?n(a,r,o,l):n(a)),h!==void 0)return h;if(!aG(a))return a;var v=rG(a);if(v){if(h=eG(a),!d)return qU(a,h)}else{var y=QU(a),x=y==MA||y==bG;if(iG(a))return $U(a,d);if(y==SA||y==NA||x&&!o){if(h=p||x?{}:nG(a),!d)return p?KU(a,HU(h,a)):YU(a,VU(h,a))}else{if(!Zn[y])return o?a:{};h=tG(a,y,d)}}l||(l=new UU);var T=l.get(a);if(T)return T;l.set(a,h),sG(a)?a.forEach(function(S){h.add(Cg(S,e,n,S,a,l))}):oG(a)&&a.forEach(function(S,j){h.set(j,Cg(S,e,n,j,a,l))});var w=g?p?JU:ZU:p?cG:lG,M=v?void 0:w(a);return GU(M||a,function(S,j){M&&(j=S,S=a[j]),WU(h,j,Cg(S,e,n,j,a,l))}),h}var jG=Cg,DG=jG,FG=1,kG=4;function XG(a){return DG(a,FG|kG)}var zG=XG;Object.defineProperty(pp,"__esModule",{value:!0});pp.mergeClasses=void 0;var UG=a2,GG=AA(UG),WG=zG,VG=AA(WG),HG=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a};function AA(a){return a&&a.__esModule?a:{default:a}}var $G=pp.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,VG.default)(e.default)||{};return n.map(function(o){var l=e[o];return l&&(0,GG.default)(l,function(h,d){r[d]||(r[d]={}),r[d]=HG({},r[d],l[d])}),o}),r};pp.default=$G;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.autoprefix=void 0;var qG=a2,Xw=KG(qG),YG=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a};function KG(a){return a&&a.__esModule?a:{default:a}}var ZG={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},JG=fp.autoprefix=function(e){var n={};return(0,Xw.default)(e,function(r,o){var l={};(0,Xw.default)(r,function(h,d){var p=ZG[d];p?l=YG({},l,p(h)):l[d]=h}),n[o]=l}),n};fp.default=JG;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.hover=void 0;var QG=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},eW=P.requireReact(),Sv=tW(eW);function tW(a){return a&&a.__esModule?a:{default:a}}function nW(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function zw(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function rW(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var iW=gp.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){rW(o,r);function o(){var l,h,d,p;nW(this,o);for(var g=arguments.length,v=Array(g),y=0;y<g;y++)v[y]=arguments[y];return p=(h=(d=zw(this,(l=o.__proto__||Object.getPrototypeOf(o)).call.apply(l,[this].concat(v))),d),d.state={hover:!1},d.handleMouseOver=function(){return d.setState({hover:!0})},d.handleMouseOut=function(){return d.setState({hover:!1})},d.render=function(){return Sv.default.createElement(n,{onMouseOver:d.handleMouseOver,onMouseOut:d.handleMouseOut},Sv.default.createElement(e,QG({},d.props,d.state)))},h),zw(d,p)}return o}(Sv.default.Component)};gp.default=iW;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.active=void 0;var oW=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},aW=P.requireReact(),Av=sW(aW);function sW(a){return a&&a.__esModule?a:{default:a}}function lW(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Uw(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function cW(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var hW=bp.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){cW(o,r);function o(){var l,h,d,p;lW(this,o);for(var g=arguments.length,v=Array(g),y=0;y<g;y++)v[y]=arguments[y];return p=(h=(d=Uw(this,(l=o.__proto__||Object.getPrototypeOf(o)).call.apply(l,[this].concat(v))),d),d.state={active:!1},d.handleMouseDown=function(){return d.setState({active:!0})},d.handleMouseUp=function(){return d.setState({active:!1})},d.render=function(){return Av.default.createElement(n,{onMouseDown:d.handleMouseDown,onMouseUp:d.handleMouseUp},Av.default.createElement(e,oW({},d.props,d.state)))},h),Uw(d,p)}return o}(Av.default.Component)};bp.default=hW;var v2={};Object.defineProperty(v2,"__esModule",{value:!0});var uW=function(e,n){var r={},o=function(h){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[h]=d};return e===0&&o("first-child"),e===n-1&&o("last-child"),(e===0||e%2===0)&&o("even"),Math.abs(e%2)===1&&o("odd"),o("nth-child",e),r};v2.default=uW;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.ReactCSS=Ji.loop=Ji.handleActive=y2=Ji.handleHover=Ji.hover=void 0;var dW=up,mW=Gu(dW),pW=pp,fW=Gu(pW),gW=fp,bW=Gu(gW),vW=gp,EA=Gu(vW),yW=bp,xW=Gu(yW),CW=v2,_W=Gu(CW);function Gu(a){return a&&a.__esModule?a:{default:a}}Ji.hover=EA.default;var y2=Ji.handleHover=EA.default;Ji.handleActive=xW.default;Ji.loop=_W.default;var TW=Ji.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var l=(0,mW.default)(r),h=(0,fW.default)(e,l);return(0,bW.default)(h)},Kt=Ji.default=TW,wW=function(e,n,r,o,l){var h=l.clientWidth,d=l.clientHeight,p=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,g=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,v=p-(l.getBoundingClientRect().left+window.pageXOffset),y=g-(l.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var x=void 0;if(y<0?x=0:y>d?x=1:x=Math.round(y*100/d)/100,n.a!==x)return{h:n.h,s:n.s,l:n.l,a:x,source:"rgb"}}else{var T=void 0;if(v<0?T=0:v>h?T=1:T=Math.round(v*100/h)/100,o!==T)return{h:n.h,s:n.s,l:n.l,a:T,source:"rgb"}}return null},Ev={},NW=function(e,n,r,o){if(typeof document>"u"&&!o)return null;var l=o?new o:document.createElement("canvas");l.width=r*2,l.height=r*2;var h=l.getContext("2d");return h?(h.fillStyle=e,h.fillRect(0,0,l.width,l.height),h.fillStyle=n,h.fillRect(0,0,r,r),h.translate(r,r),h.fillRect(0,0,r,r),l.toDataURL()):null},MW=function(e,n,r,o){var l=e+"-"+n+"-"+r+(o?"-server":"");if(Ev[l])return Ev[l];var h=NW(e,n,r,o);return Ev[l]=h,h},Gw=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Wu=function(e){var n=e.white,r=e.grey,o=e.size,l=e.renderers,h=e.borderRadius,d=e.boxShadow,p=e.children,g=Kt({default:{grid:{borderRadius:h,boxShadow:d,absolute:"0px 0px 0px 0px",background:"url("+MW(n,r,o,l.canvas)+") center left"}}});return P.reactExports.isValidElement(p)?P.React.cloneElement(p,Gw({},p.props,{style:Gw({},p.props.style,g.grid)})):P.React.createElement("div",{style:g.grid})};Wu.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var SW=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},AW=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function EW(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Ww(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function IW(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var x2=function(a){IW(e,a);function e(){var n,r,o,l;EW(this,e);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return l=(r=(o=Ww(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(d))),o),o.handleChange=function(g){var v=wW(g,o.props.hsl,o.props.direction,o.props.a,o.container);v&&typeof o.props.onChange=="function"&&o.props.onChange(v,g)},o.handleMouseDown=function(g){o.handleChange(g),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},o.unbindEventListeners=function(){window.removeEventListener("mousemove",o.handleChange),window.removeEventListener("mouseup",o.handleMouseUp)},r),Ww(o,l)}return AW(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,o=this.props.rgb,l=Kt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:o.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+o.r+","+o.g+","+o.b+`, 0) 0%,
           rgba(`+o.r+","+o.g+","+o.b+", 1) 100%)"},pointer:{left:0,top:o.a*100+"%"}},overwrite:SW({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return P.React.createElement("div",{style:l.alpha},P.React.createElement("div",{style:l.checkboard},P.React.createElement(Wu,{renderers:this.props.renderers})),P.React.createElement("div",{style:l.gradient}),P.React.createElement("div",{style:l.container,ref:function(d){return r.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.React.createElement("div",{style:l.pointer},this.props.pointer?P.React.createElement(this.props.pointer,this.props):P.React.createElement("div",{style:l.slider}))))}}]),e}(P.reactExports.PureComponent||P.reactExports.Component),RW=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function PW(a,e,n){return e in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function BW(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function OW(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function LW(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var jW=1,IA=38,DW=40,FW=[IA,DW],kW=function(e){return FW.indexOf(e)>-1},XW=function(e){return Number(String(e).replace(/%/g,""))},zW=1,wn=function(a){LW(e,a);function e(n){BW(this,e);var r=OW(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(o){r.setUpdatedValue(o.target.value,o)},r.handleKeyDown=function(o){var l=XW(o.target.value);if(!isNaN(l)&&kW(o.keyCode)){var h=r.getArrowOffset(),d=o.keyCode===IA?l+h:l-h;r.setUpdatedValue(d,o)}},r.handleDrag=function(o){if(r.props.dragLabel){var l=Math.round(r.props.value+o.movementX);l>=0&&l<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(l),o)}},r.handleMouseDown=function(o){r.props.dragLabel&&(o.preventDefault(),r.handleDrag(o),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+zW++,r}return RW(e,[{key:"componentDidUpdate",value:function(r,o){this.props.value!==this.state.value&&(r.value!==this.props.value||o.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return PW({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||jW}},{key:"setUpdatedValue",value:function(r,o){var l=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(l,o),this.setState({value:r})}},{key:"render",value:function(){var r=this,o=Kt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return P.React.createElement("div",{style:o.wrap},P.React.createElement("input",{id:this.inputId,style:o.input,ref:function(h){return r.input=h},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?P.React.createElement("label",{htmlFor:this.inputId,style:o.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(P.reactExports.PureComponent||P.reactExports.Component),UW=function(e,n,r,o){var l=o.clientWidth,h=o.clientHeight,d=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,p=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,g=d-(o.getBoundingClientRect().left+window.pageXOffset),v=p-(o.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var y=void 0;if(v<0)y=359;else if(v>h)y=0;else{var x=-(v*100/h)+100;y=360*x/100}if(r.h!==y)return{h:y,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var T=void 0;if(g<0)T=0;else if(g>l)T=359;else{var w=g*100/l;T=360*w/100}if(r.h!==T)return{h:T,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},GW=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function WW(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Vw(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function VW(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var Vu=function(a){VW(e,a);function e(){var n,r,o,l;WW(this,e);for(var h=arguments.length,d=Array(h),p=0;p<h;p++)d[p]=arguments[p];return l=(r=(o=Vw(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(d))),o),o.handleChange=function(g){var v=UW(g,o.props.direction,o.props.hsl,o.container);v&&typeof o.props.onChange=="function"&&o.props.onChange(v,g)},o.handleMouseDown=function(g){o.handleChange(g),window.addEventListener("mousemove",o.handleChange),window.addEventListener("mouseup",o.handleMouseUp)},o.handleMouseUp=function(){o.unbindEventListeners()},r),Vw(o,l)}return GW(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,o=this.props.direction,l=o===void 0?"horizontal":o,h=Kt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:l==="vertical"});return P.React.createElement("div",{style:h.hue},P.React.createElement("div",{className:"hue-"+l,style:h.container,ref:function(p){return r.container=p},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.React.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),P.React.createElement("div",{style:h.pointer},this.props.pointer?P.React.createElement(this.props.pointer,this.props):P.React.createElement("div",{style:h.slider}))))}}]),e}(P.reactExports.PureComponent||P.reactExports.Component),xx={exports:{}},_1={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw;function HW(){if(Hw)return Xn;Hw=1;var a=typeof Symbol=="function"&&Symbol.for,e=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,o=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,h=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,p=a?Symbol.for("react.async_mode"):60111,g=a?Symbol.for("react.concurrent_mode"):60111,v=a?Symbol.for("react.forward_ref"):60112,y=a?Symbol.for("react.suspense"):60113,x=a?Symbol.for("react.suspense_list"):60120,T=a?Symbol.for("react.memo"):60115,w=a?Symbol.for("react.lazy"):60116,M=a?Symbol.for("react.block"):60121,S=a?Symbol.for("react.fundamental"):60117,j=a?Symbol.for("react.responder"):60118,k=a?Symbol.for("react.scope"):60119;function W(Z){if(typeof Z=="object"&&Z!==null){var Y=Z.$$typeof;switch(Y){case e:switch(Z=Z.type,Z){case p:case g:case r:case l:case o:case y:return Z;default:switch(Z=Z&&Z.$$typeof,Z){case d:case v:case w:case T:case h:return Z;default:return Y}}case n:return Y}}}function q(Z){return W(Z)===g}return Xn.AsyncMode=p,Xn.ConcurrentMode=g,Xn.ContextConsumer=d,Xn.ContextProvider=h,Xn.Element=e,Xn.ForwardRef=v,Xn.Fragment=r,Xn.Lazy=w,Xn.Memo=T,Xn.Portal=n,Xn.Profiler=l,Xn.StrictMode=o,Xn.Suspense=y,Xn.isAsyncMode=function(Z){return q(Z)||W(Z)===p},Xn.isConcurrentMode=q,Xn.isContextConsumer=function(Z){return W(Z)===d},Xn.isContextProvider=function(Z){return W(Z)===h},Xn.isElement=function(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===e},Xn.isForwardRef=function(Z){return W(Z)===v},Xn.isFragment=function(Z){return W(Z)===r},Xn.isLazy=function(Z){return W(Z)===w},Xn.isMemo=function(Z){return W(Z)===T},Xn.isPortal=function(Z){return W(Z)===n},Xn.isProfiler=function(Z){return W(Z)===l},Xn.isStrictMode=function(Z){return W(Z)===o},Xn.isSuspense=function(Z){return W(Z)===y},Xn.isValidElementType=function(Z){return typeof Z=="string"||typeof Z=="function"||Z===r||Z===g||Z===l||Z===o||Z===y||Z===x||typeof Z=="object"&&Z!==null&&(Z.$$typeof===w||Z.$$typeof===T||Z.$$typeof===h||Z.$$typeof===d||Z.$$typeof===v||Z.$$typeof===S||Z.$$typeof===j||Z.$$typeof===k||Z.$$typeof===M)},Xn.typeOf=W,Xn}var zn={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function $W(){return $w||($w=1,process.env.NODE_ENV!=="production"&&function(){var a=typeof Symbol=="function"&&Symbol.for,e=a?Symbol.for("react.element"):60103,n=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,o=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,h=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,p=a?Symbol.for("react.async_mode"):60111,g=a?Symbol.for("react.concurrent_mode"):60111,v=a?Symbol.for("react.forward_ref"):60112,y=a?Symbol.for("react.suspense"):60113,x=a?Symbol.for("react.suspense_list"):60120,T=a?Symbol.for("react.memo"):60115,w=a?Symbol.for("react.lazy"):60116,M=a?Symbol.for("react.block"):60121,S=a?Symbol.for("react.fundamental"):60117,j=a?Symbol.for("react.responder"):60118,k=a?Symbol.for("react.scope"):60119;function W(it){return typeof it=="string"||typeof it=="function"||it===r||it===g||it===l||it===o||it===y||it===x||typeof it=="object"&&it!==null&&(it.$$typeof===w||it.$$typeof===T||it.$$typeof===h||it.$$typeof===d||it.$$typeof===v||it.$$typeof===S||it.$$typeof===j||it.$$typeof===k||it.$$typeof===M)}function q(it){if(typeof it=="object"&&it!==null){var ir=it.$$typeof;switch(ir){case e:var yr=it.type;switch(yr){case p:case g:case r:case l:case o:case y:return yr;default:var Sr=yr&&yr.$$typeof;switch(Sr){case d:case v:case w:case T:case h:return Sr;default:return ir}}case n:return ir}}}var Z=p,Y=g,he=d,ae=h,ve=e,re=v,se=r,oe=w,Q=T,pe=n,be=l,fe=o,de=y,De=!1;function Be(it){return De||(De=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),_e(it)||q(it)===p}function _e(it){return q(it)===g}function ke(it){return q(it)===d}function je(it){return q(it)===h}function mt(it){return typeof it=="object"&&it!==null&&it.$$typeof===e}function pt(it){return q(it)===v}function Bt(it){return q(it)===r}function Tt(it){return q(it)===w}function wt(it){return q(it)===T}function Vt(it){return q(it)===n}function Ft(it){return q(it)===l}function zt(it){return q(it)===o}function An(it){return q(it)===y}zn.AsyncMode=Z,zn.ConcurrentMode=Y,zn.ContextConsumer=he,zn.ContextProvider=ae,zn.Element=ve,zn.ForwardRef=re,zn.Fragment=se,zn.Lazy=oe,zn.Memo=Q,zn.Portal=pe,zn.Profiler=be,zn.StrictMode=fe,zn.Suspense=de,zn.isAsyncMode=Be,zn.isConcurrentMode=_e,zn.isContextConsumer=ke,zn.isContextProvider=je,zn.isElement=mt,zn.isForwardRef=pt,zn.isFragment=Bt,zn.isLazy=Tt,zn.isMemo=wt,zn.isPortal=Vt,zn.isProfiler=Ft,zn.isStrictMode=zt,zn.isSuspense=An,zn.isValidElementType=W,zn.typeOf=q}()),zn}var qw;function RA(){return qw||(qw=1,process.env.NODE_ENV==="production"?_1.exports=HW():_1.exports=$W()),_1.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Iv,Yw;function qW(){if(Yw)return Iv;Yw=1;var a=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function r(l){if(l==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(l)}function o(){try{if(!Object.assign)return!1;var l=new String("abc");if(l[5]="de",Object.getOwnPropertyNames(l)[0]==="5")return!1;for(var h={},d=0;d<10;d++)h["_"+String.fromCharCode(d)]=d;var p=Object.getOwnPropertyNames(h).map(function(v){return h[v]});if(p.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(v){g[v]=v}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Iv=o()?Object.assign:function(l,h){for(var d,p=r(l),g,v=1;v<arguments.length;v++){d=Object(arguments[v]);for(var y in d)e.call(d,y)&&(p[y]=d[y]);if(a){g=a(d);for(var x=0;x<g.length;x++)n.call(d,g[x])&&(p[g[x]]=d[g[x]])}}return p},Iv}var Rv,Kw;function C2(){if(Kw)return Rv;Kw=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rv=a,Rv}var Pv,Zw;function PA(){return Zw||(Zw=1,Pv=Function.call.bind(Object.prototype.hasOwnProperty)),Pv}var Bv,Jw;function YW(){if(Jw)return Bv;Jw=1;var a=function(){};if(process.env.NODE_ENV!=="production"){var e=C2(),n={},r=PA();a=function(l){var h="Warning: "+l;typeof console<"u"&&console.error(h);try{throw new Error(h)}catch{}}}function o(l,h,d,p,g){if(process.env.NODE_ENV!=="production"){for(var v in l)if(r(l,v)){var y;try{if(typeof l[v]!="function"){var x=Error((p||"React class")+": "+d+" type `"+v+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof l[v]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw x.name="Invariant Violation",x}y=l[v](h,v,p,d,null,e)}catch(w){y=w}if(y&&!(y instanceof Error)&&a((p||"React class")+": type specification of "+d+" `"+v+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof y+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),y instanceof Error&&!(y.message in n)){n[y.message]=!0;var T=g?g():"";a("Failed "+d+" type: "+y.message+(T??""))}}}}return o.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(n={})},Bv=o,Bv}var Ov,Qw;function KW(){if(Qw)return Ov;Qw=1;var a=RA(),e=qW(),n=C2(),r=PA(),o=YW(),l=function(){};process.env.NODE_ENV!=="production"&&(l=function(d){var p="Warning: "+d;typeof console<"u"&&console.error(p);try{throw new Error(p)}catch{}});function h(){return null}return Ov=function(d,p){var g=typeof Symbol=="function"&&Symbol.iterator,v="@@iterator";function y(_e){var ke=_e&&(g&&_e[g]||_e[v]);if(typeof ke=="function")return ke}var x="<<anonymous>>",T={array:j("array"),bigint:j("bigint"),bool:j("boolean"),func:j("function"),number:j("number"),object:j("object"),string:j("string"),symbol:j("symbol"),any:k(),arrayOf:W,element:q(),elementType:Z(),instanceOf:Y,node:re(),objectOf:ae,oneOf:he,oneOfType:ve,shape:oe,exact:Q};function w(_e,ke){return _e===ke?_e!==0||1/_e===1/ke:_e!==_e&&ke!==ke}function M(_e,ke){this.message=_e,this.data=ke&&typeof ke=="object"?ke:{},this.stack=""}M.prototype=Error.prototype;function S(_e){if(process.env.NODE_ENV!=="production")var ke={},je=0;function mt(Bt,Tt,wt,Vt,Ft,zt,An){if(Vt=Vt||x,zt=zt||wt,An!==n){if(p){var it=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw it.name="Invariant Violation",it}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ir=Vt+":"+wt;!ke[ir]&&je<3&&(l("You are manually calling a React.PropTypes validation function for the `"+zt+"` prop on `"+Vt+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),ke[ir]=!0,je++)}}return Tt[wt]==null?Bt?Tt[wt]===null?new M("The "+Ft+" `"+zt+"` is marked as required "+("in `"+Vt+"`, but its value is `null`.")):new M("The "+Ft+" `"+zt+"` is marked as required in "+("`"+Vt+"`, but its value is `undefined`.")):null:_e(Tt,wt,Vt,Ft,zt)}var pt=mt.bind(null,!1);return pt.isRequired=mt.bind(null,!0),pt}function j(_e){function ke(je,mt,pt,Bt,Tt,wt){var Vt=je[mt],Ft=fe(Vt);if(Ft!==_e){var zt=de(Vt);return new M("Invalid "+Bt+" `"+Tt+"` of type "+("`"+zt+"` supplied to `"+pt+"`, expected ")+("`"+_e+"`."),{expectedType:_e})}return null}return S(ke)}function k(){return S(h)}function W(_e){function ke(je,mt,pt,Bt,Tt){if(typeof _e!="function")return new M("Property `"+Tt+"` of component `"+pt+"` has invalid PropType notation inside arrayOf.");var wt=je[mt];if(!Array.isArray(wt)){var Vt=fe(wt);return new M("Invalid "+Bt+" `"+Tt+"` of type "+("`"+Vt+"` supplied to `"+pt+"`, expected an array."))}for(var Ft=0;Ft<wt.length;Ft++){var zt=_e(wt,Ft,pt,Bt,Tt+"["+Ft+"]",n);if(zt instanceof Error)return zt}return null}return S(ke)}function q(){function _e(ke,je,mt,pt,Bt){var Tt=ke[je];if(!d(Tt)){var wt=fe(Tt);return new M("Invalid "+pt+" `"+Bt+"` of type "+("`"+wt+"` supplied to `"+mt+"`, expected a single ReactElement."))}return null}return S(_e)}function Z(){function _e(ke,je,mt,pt,Bt){var Tt=ke[je];if(!a.isValidElementType(Tt)){var wt=fe(Tt);return new M("Invalid "+pt+" `"+Bt+"` of type "+("`"+wt+"` supplied to `"+mt+"`, expected a single ReactElement type."))}return null}return S(_e)}function Y(_e){function ke(je,mt,pt,Bt,Tt){if(!(je[mt]instanceof _e)){var wt=_e.name||x,Vt=Be(je[mt]);return new M("Invalid "+Bt+" `"+Tt+"` of type "+("`"+Vt+"` supplied to `"+pt+"`, expected ")+("instance of `"+wt+"`."))}return null}return S(ke)}function he(_e){if(!Array.isArray(_e))return process.env.NODE_ENV!=="production"&&(arguments.length>1?l("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):l("Invalid argument supplied to oneOf, expected an array.")),h;function ke(je,mt,pt,Bt,Tt){for(var wt=je[mt],Vt=0;Vt<_e.length;Vt++)if(w(wt,_e[Vt]))return null;var Ft=JSON.stringify(_e,function(An,it){var ir=de(it);return ir==="symbol"?String(it):it});return new M("Invalid "+Bt+" `"+Tt+"` of value `"+String(wt)+"` "+("supplied to `"+pt+"`, expected one of "+Ft+"."))}return S(ke)}function ae(_e){function ke(je,mt,pt,Bt,Tt){if(typeof _e!="function")return new M("Property `"+Tt+"` of component `"+pt+"` has invalid PropType notation inside objectOf.");var wt=je[mt],Vt=fe(wt);if(Vt!=="object")return new M("Invalid "+Bt+" `"+Tt+"` of type "+("`"+Vt+"` supplied to `"+pt+"`, expected an object."));for(var Ft in wt)if(r(wt,Ft)){var zt=_e(wt,Ft,pt,Bt,Tt+"."+Ft,n);if(zt instanceof Error)return zt}return null}return S(ke)}function ve(_e){if(!Array.isArray(_e))return process.env.NODE_ENV!=="production"&&l("Invalid argument supplied to oneOfType, expected an instance of array."),h;for(var ke=0;ke<_e.length;ke++){var je=_e[ke];if(typeof je!="function")return l("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+De(je)+" at index "+ke+"."),h}function mt(pt,Bt,Tt,wt,Vt){for(var Ft=[],zt=0;zt<_e.length;zt++){var An=_e[zt],it=An(pt,Bt,Tt,wt,Vt,n);if(it==null)return null;it.data&&r(it.data,"expectedType")&&Ft.push(it.data.expectedType)}var ir=Ft.length>0?", expected one of type ["+Ft.join(", ")+"]":"";return new M("Invalid "+wt+" `"+Vt+"` supplied to "+("`"+Tt+"`"+ir+"."))}return S(mt)}function re(){function _e(ke,je,mt,pt,Bt){return pe(ke[je])?null:new M("Invalid "+pt+" `"+Bt+"` supplied to "+("`"+mt+"`, expected a ReactNode."))}return S(_e)}function se(_e,ke,je,mt,pt){return new M((_e||"React class")+": "+ke+" type `"+je+"."+mt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+pt+"`.")}function oe(_e){function ke(je,mt,pt,Bt,Tt){var wt=je[mt],Vt=fe(wt);if(Vt!=="object")return new M("Invalid "+Bt+" `"+Tt+"` of type `"+Vt+"` "+("supplied to `"+pt+"`, expected `object`."));for(var Ft in _e){var zt=_e[Ft];if(typeof zt!="function")return se(pt,Bt,Tt,Ft,de(zt));var An=zt(wt,Ft,pt,Bt,Tt+"."+Ft,n);if(An)return An}return null}return S(ke)}function Q(_e){function ke(je,mt,pt,Bt,Tt){var wt=je[mt],Vt=fe(wt);if(Vt!=="object")return new M("Invalid "+Bt+" `"+Tt+"` of type `"+Vt+"` "+("supplied to `"+pt+"`, expected `object`."));var Ft=e({},je[mt],_e);for(var zt in Ft){var An=_e[zt];if(r(_e,zt)&&typeof An!="function")return se(pt,Bt,Tt,zt,de(An));if(!An)return new M("Invalid "+Bt+" `"+Tt+"` key `"+zt+"` supplied to `"+pt+"`.\nBad object: "+JSON.stringify(je[mt],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(_e),null,"  "));var it=An(wt,zt,pt,Bt,Tt+"."+zt,n);if(it)return it}return null}return S(ke)}function pe(_e){switch(typeof _e){case"number":case"string":case"undefined":return!0;case"boolean":return!_e;case"object":if(Array.isArray(_e))return _e.every(pe);if(_e===null||d(_e))return!0;var ke=y(_e);if(ke){var je=ke.call(_e),mt;if(ke!==_e.entries){for(;!(mt=je.next()).done;)if(!pe(mt.value))return!1}else for(;!(mt=je.next()).done;){var pt=mt.value;if(pt&&!pe(pt[1]))return!1}}else return!1;return!0;default:return!1}}function be(_e,ke){return _e==="symbol"?!0:ke?ke["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&ke instanceof Symbol:!1}function fe(_e){var ke=typeof _e;return Array.isArray(_e)?"array":_e instanceof RegExp?"object":be(ke,_e)?"symbol":ke}function de(_e){if(typeof _e>"u"||_e===null)return""+_e;var ke=fe(_e);if(ke==="object"){if(_e instanceof Date)return"date";if(_e instanceof RegExp)return"regexp"}return ke}function De(_e){var ke=de(_e);switch(ke){case"array":case"object":return"an "+ke;case"boolean":case"date":case"regexp":return"a "+ke;default:return ke}}function Be(_e){return!_e.constructor||!_e.constructor.name?x:_e.constructor.name}return T.checkPropTypes=o,T.resetWarningCache=o.resetWarningCache,T.PropTypes=T,T},Ov}var Lv,eN;function ZW(){if(eN)return Lv;eN=1;var a=C2();function e(){}function n(){}return n.resetWarningCache=e,Lv=function(){function r(h,d,p,g,v,y){if(y!==a){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},Lv}if(process.env.NODE_ENV!=="production"){var JW=RA(),QW=!0;xx.exports=KW()(JW.isElement,QW)}else xx.exports=ZW()();var eV=xx.exports;const ut=P.getDefaultExportFromCjs(eV);function tV(){this.__data__=[],this.size=0}function vp(a,e){return a===e||a!==a&&e!==e}function i0(a,e){for(var n=a.length;n--;)if(vp(a[n][0],e))return n;return-1}var nV=Array.prototype,rV=nV.splice;function iV(a){var e=this.__data__,n=i0(e,a);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():rV.call(e,n,1),--this.size,!0}function oV(a){var e=this.__data__,n=i0(e,a);return n<0?void 0:e[n][1]}function aV(a){return i0(this.__data__,a)>-1}function sV(a,e){var n=this.__data__,r=i0(n,a);return r<0?(++this.size,n.push([a,e])):n[r][1]=e,this}function os(a){var e=-1,n=a==null?0:a.length;for(this.clear();++e<n;){var r=a[e];this.set(r[0],r[1])}}os.prototype.clear=tV;os.prototype.delete=iV;os.prototype.get=oV;os.prototype.has=aV;os.prototype.set=sV;function lV(){this.__data__=new os,this.size=0}function cV(a){var e=this.__data__,n=e.delete(a);return this.size=e.size,n}function hV(a){return this.__data__.get(a)}function uV(a){return this.__data__.has(a)}var BA=typeof global=="object"&&global&&global.Object===Object&&global,dV=typeof self=="object"&&self&&self.Object===Object&&self,jo=BA||dV||Function("return this")(),ul=jo.Symbol,OA=Object.prototype,mV=OA.hasOwnProperty,pV=OA.toString,Nm=ul?ul.toStringTag:void 0;function fV(a){var e=mV.call(a,Nm),n=a[Nm];try{a[Nm]=void 0;var r=!0}catch{}var o=pV.call(a);return r&&(e?a[Nm]=n:delete a[Nm]),o}var gV=Object.prototype,bV=gV.toString;function vV(a){return bV.call(a)}var yV="[object Null]",xV="[object Undefined]",tN=ul?ul.toStringTag:void 0;function Gc(a){return a==null?a===void 0?xV:yV:tN&&tN in Object(a)?fV(a):vV(a)}function no(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")}var CV="[object AsyncFunction]",_V="[object Function]",TV="[object GeneratorFunction]",wV="[object Proxy]";function _2(a){if(!no(a))return!1;var e=Gc(a);return e==_V||e==TV||e==CV||e==wV}var jv=jo["__core-js_shared__"],nN=function(){var a=/[^.]+$/.exec(jv&&jv.keys&&jv.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();function NV(a){return!!nN&&nN in a}var MV=Function.prototype,SV=MV.toString;function Wc(a){if(a!=null){try{return SV.call(a)}catch{}try{return a+""}catch{}}return""}var AV=/[\\^$.*+?()[\]{}|]/g,EV=/^\[object .+?Constructor\]$/,IV=Function.prototype,RV=Object.prototype,PV=IV.toString,BV=RV.hasOwnProperty,OV=RegExp("^"+PV.call(BV).replace(AV,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LV(a){if(!no(a)||NV(a))return!1;var e=_2(a)?OV:EV;return e.test(Wc(a))}function jV(a,e){return a==null?void 0:a[e]}function Vc(a,e){var n=jV(a,e);return LV(n)?n:void 0}var tp=Vc(jo,"Map"),np=Vc(Object,"create");function DV(){this.__data__=np?np(null):{},this.size=0}function FV(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e}var kV="__lodash_hash_undefined__",XV=Object.prototype,zV=XV.hasOwnProperty;function UV(a){var e=this.__data__;if(np){var n=e[a];return n===kV?void 0:n}return zV.call(e,a)?e[a]:void 0}var GV=Object.prototype,WV=GV.hasOwnProperty;function VV(a){var e=this.__data__;return np?e[a]!==void 0:WV.call(e,a)}var HV="__lodash_hash_undefined__";function $V(a,e){var n=this.__data__;return this.size+=this.has(a)?0:1,n[a]=np&&e===void 0?HV:e,this}function Fc(a){var e=-1,n=a==null?0:a.length;for(this.clear();++e<n;){var r=a[e];this.set(r[0],r[1])}}Fc.prototype.clear=DV;Fc.prototype.delete=FV;Fc.prototype.get=UV;Fc.prototype.has=VV;Fc.prototype.set=$V;function qV(){this.size=0,this.__data__={hash:new Fc,map:new(tp||os),string:new Fc}}function YV(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null}function o0(a,e){var n=a.__data__;return YV(e)?n[typeof e=="string"?"string":"hash"]:n.map}function KV(a){var e=o0(this,a).delete(a);return this.size-=e?1:0,e}function ZV(a){return o0(this,a).get(a)}function JV(a){return o0(this,a).has(a)}function QV(a,e){var n=o0(this,a),r=n.size;return n.set(a,e),this.size+=n.size==r?0:1,this}function as(a){var e=-1,n=a==null?0:a.length;for(this.clear();++e<n;){var r=a[e];this.set(r[0],r[1])}}as.prototype.clear=qV;as.prototype.delete=KV;as.prototype.get=ZV;as.prototype.has=JV;as.prototype.set=QV;var eH=200;function tH(a,e){var n=this.__data__;if(n instanceof os){var r=n.__data__;if(!tp||r.length<eH-1)return r.push([a,e]),this.size=++n.size,this;n=this.__data__=new as(r)}return n.set(a,e),this.size=n.size,this}function ca(a){var e=this.__data__=new os(a);this.size=e.size}ca.prototype.clear=lV;ca.prototype.delete=cV;ca.prototype.get=hV;ca.prototype.has=uV;ca.prototype.set=tH;var Pg=function(){try{var a=Vc(Object,"defineProperty");return a({},"",{}),a}catch{}}();function T2(a,e,n){e=="__proto__"&&Pg?Pg(a,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):a[e]=n}function Cx(a,e,n){(n!==void 0&&!vp(a[e],n)||n===void 0&&!(e in a))&&T2(a,e,n)}function nH(a){return function(e,n,r){for(var o=-1,l=Object(e),h=r(e),d=h.length;d--;){var p=h[++o];if(n(l[p],p,l)===!1)break}return e}}var LA=nH(),jA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,rN=jA&&typeof module=="object"&&module&&!module.nodeType&&module,rH=rN&&rN.exports===jA,iN=rH?jo.Buffer:void 0;iN&&iN.allocUnsafe;function iH(a,e){return a.slice()}var Bg=jo.Uint8Array;function oH(a){var e=new a.constructor(a.byteLength);return new Bg(e).set(new Bg(a)),e}function aH(a,e){var n=oH(a.buffer);return new a.constructor(n,a.byteOffset,a.length)}function sH(a,e){var n=-1,r=a.length;for(e||(e=Array(r));++n<r;)e[n]=a[n];return e}var oN=Object.create,lH=function(){function a(){}return function(e){if(!no(e))return{};if(oN)return oN(e);a.prototype=e;var n=new a;return a.prototype=void 0,n}}();function DA(a,e){return function(n){return a(e(n))}}var FA=DA(Object.getPrototypeOf,Object),cH=Object.prototype;function w2(a){var e=a&&a.constructor,n=typeof e=="function"&&e.prototype||cH;return a===n}function hH(a){return typeof a.constructor=="function"&&!w2(a)?lH(FA(a)):{}}function dl(a){return a!=null&&typeof a=="object"}var uH="[object Arguments]";function aN(a){return dl(a)&&Gc(a)==uH}var kA=Object.prototype,dH=kA.hasOwnProperty,mH=kA.propertyIsEnumerable,Og=aN(function(){return arguments}())?aN:function(a){return dl(a)&&dH.call(a,"callee")&&!mH.call(a,"callee")},Fi=Array.isArray,pH=9007199254740991;function N2(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=pH}function Hu(a){return a!=null&&N2(a.length)&&!_2(a)}function fH(a){return dl(a)&&Hu(a)}function gH(){return!1}var XA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sN=XA&&typeof module=="object"&&module&&!module.nodeType&&module,bH=sN&&sN.exports===XA,lN=bH?jo.Buffer:void 0,vH=lN?lN.isBuffer:void 0,Lg=vH||gH,yH="[object Object]",xH=Function.prototype,CH=Object.prototype,zA=xH.toString,_H=CH.hasOwnProperty,TH=zA.call(Object);function wH(a){if(!dl(a)||Gc(a)!=yH)return!1;var e=FA(a);if(e===null)return!0;var n=_H.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&zA.call(n)==TH}var NH="[object Arguments]",MH="[object Array]",SH="[object Boolean]",AH="[object Date]",EH="[object Error]",IH="[object Function]",RH="[object Map]",PH="[object Number]",BH="[object Object]",OH="[object RegExp]",LH="[object Set]",jH="[object String]",DH="[object WeakMap]",FH="[object ArrayBuffer]",kH="[object DataView]",XH="[object Float32Array]",zH="[object Float64Array]",UH="[object Int8Array]",GH="[object Int16Array]",WH="[object Int32Array]",VH="[object Uint8Array]",HH="[object Uint8ClampedArray]",$H="[object Uint16Array]",qH="[object Uint32Array]",nr={};nr[XH]=nr[zH]=nr[UH]=nr[GH]=nr[WH]=nr[VH]=nr[HH]=nr[$H]=nr[qH]=!0;nr[NH]=nr[MH]=nr[FH]=nr[SH]=nr[kH]=nr[AH]=nr[EH]=nr[IH]=nr[RH]=nr[PH]=nr[BH]=nr[OH]=nr[LH]=nr[jH]=nr[DH]=!1;function YH(a){return dl(a)&&N2(a.length)&&!!nr[Gc(a)]}function KH(a){return function(e){return a(e)}}var UA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Zm=UA&&typeof module=="object"&&module&&!module.nodeType&&module,ZH=Zm&&Zm.exports===UA,Dv=ZH&&BA.process,cN=function(){try{var a=Zm&&Zm.require&&Zm.require("util").types;return a||Dv&&Dv.binding&&Dv.binding("util")}catch{}}(),hN=cN&&cN.isTypedArray,M2=hN?KH(hN):YH;function _x(a,e){if(!(e==="constructor"&&typeof a[e]=="function")&&e!="__proto__")return a[e]}var JH=Object.prototype,QH=JH.hasOwnProperty;function e$(a,e,n){var r=a[e];(!(QH.call(a,e)&&vp(r,n))||n===void 0&&!(e in a))&&T2(a,e,n)}function t$(a,e,n,r){var o=!n;n||(n={});for(var l=-1,h=e.length;++l<h;){var d=e[l],p=void 0;p===void 0&&(p=a[d]),o?T2(n,d,p):e$(n,d,p)}return n}function n$(a,e){for(var n=-1,r=Array(a);++n<a;)r[n]=e(n);return r}var r$=9007199254740991,i$=/^(?:0|[1-9]\d*)$/;function S2(a,e){var n=typeof a;return e=e??r$,!!e&&(n=="number"||n!="symbol"&&i$.test(a))&&a>-1&&a%1==0&&a<e}var o$=Object.prototype,a$=o$.hasOwnProperty;function GA(a,e){var n=Fi(a),r=!n&&Og(a),o=!n&&!r&&Lg(a),l=!n&&!r&&!o&&M2(a),h=n||r||o||l,d=h?n$(a.length,String):[],p=d.length;for(var g in a)(e||a$.call(a,g))&&!(h&&(g=="length"||o&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||S2(g,p)))&&d.push(g);return d}function s$(a){var e=[];if(a!=null)for(var n in Object(a))e.push(n);return e}var l$=Object.prototype,c$=l$.hasOwnProperty;function h$(a){if(!no(a))return s$(a);var e=w2(a),n=[];for(var r in a)r=="constructor"&&(e||!c$.call(a,r))||n.push(r);return n}function WA(a){return Hu(a)?GA(a,!0):h$(a)}function u$(a){return t$(a,WA(a))}function d$(a,e,n,r,o,l,h){var d=_x(a,n),p=_x(e,n),g=h.get(p);if(g){Cx(a,n,g);return}var v=l?l(d,p,n+"",a,e,h):void 0,y=v===void 0;if(y){var x=Fi(p),T=!x&&Lg(p),w=!x&&!T&&M2(p);v=p,x||T||w?Fi(d)?v=d:fH(d)?v=sH(d):T?(y=!1,v=iH(p)):w?(y=!1,v=aH(p)):v=[]:wH(p)||Og(p)?(v=d,Og(d)?v=u$(d):(!no(d)||_2(d))&&(v=hH(p))):y=!1}y&&(h.set(p,v),o(v,p,r,l,h),h.delete(p)),Cx(a,n,v)}function VA(a,e,n,r,o){a!==e&&LA(e,function(l,h){if(o||(o=new ca),no(l))d$(a,e,h,n,VA,r,o);else{var d=r?r(_x(a,h),l,h+"",a,e,o):void 0;d===void 0&&(d=l),Cx(a,h,d)}},WA)}function a0(a){return a}function m$(a,e,n){switch(n.length){case 0:return a.call(e);case 1:return a.call(e,n[0]);case 2:return a.call(e,n[0],n[1]);case 3:return a.call(e,n[0],n[1],n[2])}return a.apply(e,n)}var uN=Math.max;function p$(a,e,n){return e=uN(e===void 0?a.length-1:e,0),function(){for(var r=arguments,o=-1,l=uN(r.length-e,0),h=Array(l);++o<l;)h[o]=r[e+o];o=-1;for(var d=Array(e+1);++o<e;)d[o]=r[o];return d[e]=n(h),m$(a,this,d)}}function f$(a){return function(){return a}}var g$=Pg?function(a,e){return Pg(a,"toString",{configurable:!0,enumerable:!1,value:f$(e),writable:!0})}:a0,b$=800,v$=16,y$=Date.now;function x$(a){var e=0,n=0;return function(){var r=y$(),o=v$-(r-n);if(n=r,o>0){if(++e>=b$)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}var C$=x$(g$);function _$(a,e){return C$(p$(a,e,a0),a+"")}function T$(a,e,n){if(!no(n))return!1;var r=typeof e;return(r=="number"?Hu(n)&&S2(e,n.length):r=="string"&&e in n)?vp(n[e],a):!1}function w$(a){return _$(function(e,n){var r=-1,o=n.length,l=o>1?n[o-1]:void 0,h=o>2?n[2]:void 0;for(l=a.length>3&&typeof l=="function"?(o--,l):void 0,h&&T$(n[0],n[1],h)&&(l=o<3?void 0:l,o=1),e=Object(e);++r<o;){var d=n[r];d&&a(e,d,r,l)}return e})}var _i=w$(function(a,e,n){VA(a,e,n)}),yp=function(e){var n=e.zDepth,r=e.radius,o=e.background,l=e.children,h=e.styles,d=h===void 0?{}:h,p=Kt(_i({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:o}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},d),{"zDepth-1":n===1});return P.React.createElement("div",{style:p.wrap},P.React.createElement("div",{style:p.bg}),P.React.createElement("div",{style:p.content},l))};yp.propTypes={background:ut.string,zDepth:ut.oneOf([0,1,2,3,4,5]),radius:ut.number,styles:ut.object};yp.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var Fv=function(){return jo.Date.now()},N$=/\s/;function M$(a){for(var e=a.length;e--&&N$.test(a.charAt(e)););return e}var S$=/^\s+/;function A$(a){return a&&a.slice(0,M$(a)+1).replace(S$,"")}var E$="[object Symbol]";function s0(a){return typeof a=="symbol"||dl(a)&&Gc(a)==E$}var dN=NaN,I$=/^[-+]0x[0-9a-f]+$/i,R$=/^0b[01]+$/i,P$=/^0o[0-7]+$/i,B$=parseInt;function mN(a){if(typeof a=="number")return a;if(s0(a))return dN;if(no(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=no(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=A$(a);var n=R$.test(a);return n||P$.test(a)?B$(a.slice(2),n?2:8):I$.test(a)?dN:+a}var O$="Expected a function",L$=Math.max,j$=Math.min;function HA(a,e,n){var r,o,l,h,d,p,g=0,v=!1,y=!1,x=!0;if(typeof a!="function")throw new TypeError(O$);e=mN(e)||0,no(n)&&(v=!!n.leading,y="maxWait"in n,l=y?L$(mN(n.maxWait)||0,e):l,x="trailing"in n?!!n.trailing:x);function T(Y){var he=r,ae=o;return r=o=void 0,g=Y,h=a.apply(ae,he),h}function w(Y){return g=Y,d=setTimeout(j,e),v?T(Y):h}function M(Y){var he=Y-p,ae=Y-g,ve=e-he;return y?j$(ve,l-ae):ve}function S(Y){var he=Y-p,ae=Y-g;return p===void 0||he>=e||he<0||y&&ae>=l}function j(){var Y=Fv();if(S(Y))return k(Y);d=setTimeout(j,M(Y))}function k(Y){return d=void 0,x&&r?T(Y):(r=o=void 0,h)}function W(){d!==void 0&&clearTimeout(d),g=0,r=p=o=d=void 0}function q(){return d===void 0?h:k(Fv())}function Z(){var Y=Fv(),he=S(Y);if(r=arguments,o=this,p=Y,he){if(d===void 0)return w(p);if(y)return clearTimeout(d),d=setTimeout(j,e),T(p)}return d===void 0&&(d=setTimeout(j,e)),h}return Z.cancel=W,Z.flush=q,Z}var D$="Expected a function";function F$(a,e,n){var r=!0,o=!0;if(typeof a!="function")throw new TypeError(D$);return no(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),HA(a,e,{leading:r,maxWait:e,trailing:o})}var k$=function(e,n,r){var o=r.getBoundingClientRect(),l=o.width,h=o.height,d=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,p=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,g=d-(r.getBoundingClientRect().left+window.pageXOffset),v=p-(r.getBoundingClientRect().top+window.pageYOffset);g<0?g=0:g>l&&(g=l),v<0?v=0:v>h&&(v=h);var y=g/l,x=1-v/h;return{h:n.h,s:y,v:x,a:n.a,source:"hsv"}},X$=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function z$(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function G$(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var l0=function(a){G$(e,a);function e(n){z$(this,e);var r=U$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(o){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,k$(o,r.props.hsl,r.container),o)},r.handleMouseDown=function(o){r.handleChange(o);var l=r.getContainerRenderWindow();l.addEventListener("mousemove",r.handleChange),l.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=F$(function(o,l,h){o(l,h)},50),r}return X$(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,o=window;!o.document.contains(r)&&o.parent!==o;)o=o.parent;return o}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,o=this.props.style||{},l=o.color,h=o.white,d=o.black,p=o.pointer,g=o.circle,v=Kt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:l,white:h,black:d,pointer:p,circle:g}},{custom:!!this.props.style});return P.React.createElement("div",{style:v.color,ref:function(x){return r.container=x},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},P.React.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),P.React.createElement("div",{style:v.white,className:"saturation-white"},P.React.createElement("div",{style:v.black,className:"saturation-black"}),P.React.createElement("div",{style:v.pointer},this.props.pointer?P.React.createElement(this.props.pointer,this.props):P.React.createElement("div",{style:v.circle}))))}}]),e}(P.reactExports.PureComponent||P.reactExports.Component);function W$(a,e){for(var n=-1,r=a==null?0:a.length;++n<r&&e(a[n],n,a)!==!1;);return a}var V$=DA(Object.keys,Object),H$=Object.prototype,$$=H$.hasOwnProperty;function q$(a){if(!w2(a))return V$(a);var e=[];for(var n in Object(a))$$.call(a,n)&&n!="constructor"&&e.push(n);return e}function A2(a){return Hu(a)?GA(a):q$(a)}function Y$(a,e){return a&&LA(a,e,A2)}function K$(a,e){return function(n,r){if(n==null)return n;if(!Hu(n))return a(n,r);for(var o=n.length,l=-1,h=Object(n);++l<o&&r(h[l],l,h)!==!1;);return n}}var $A=K$(Y$);function Z$(a){return typeof a=="function"?a:a0}function J$(a,e){var n=Fi(a)?W$:$A;return n(a,Z$(e))}function jg(a){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(a)}var Q$=/^\s+/,eq=/\s+$/;function Lt(a,e){if(a=a||"",e=e||{},a instanceof Lt)return a;if(!(this instanceof Lt))return new Lt(a,e);var n=tq(a);this._originalInput=a,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}Lt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,o,l,h,d;return n=e.r/255,r=e.g/255,o=e.b/255,n<=.03928?l=n/12.92:l=Math.pow((n+.055)/1.055,2.4),r<=.03928?h=r/12.92:h=Math.pow((r+.055)/1.055,2.4),o<=.03928?d=o/12.92:d=Math.pow((o+.055)/1.055,2.4),.2126*l+.7152*h+.0722*d},setAlpha:function(e){return this._a=qA(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=fN(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=fN(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+o+"%)":"hsva("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=pN(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=pN(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),o=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+o+"%)":"hsla("+n+", "+r+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return gN(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return oq(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(sr(this._r,255)*100)+"%",g:Math.round(sr(this._g,255)*100)+"%",b:Math.round(sr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(sr(this._r,255)*100)+"%, "+Math.round(sr(this._g,255)*100)+"%, "+Math.round(sr(this._b,255)*100)+"%)":"rgba("+Math.round(sr(this._r,255)*100)+"%, "+Math.round(sr(this._g,255)*100)+"%, "+Math.round(sr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:bq[gN(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+bN(this._r,this._g,this._b,this._a),r=n,o=this._gradientType?"GradientType = 1, ":"";if(e){var l=Lt(e);r="#"+bN(l._r,l._g,l._b,l._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,o=this._a<1&&this._a>=0,l=!n&&o&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return l?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Lt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(cq,arguments)},brighten:function(){return this._applyModification(hq,arguments)},darken:function(){return this._applyModification(uq,arguments)},desaturate:function(){return this._applyModification(aq,arguments)},saturate:function(){return this._applyModification(sq,arguments)},greyscale:function(){return this._applyModification(lq,arguments)},spin:function(){return this._applyModification(dq,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(fq,arguments)},complement:function(){return this._applyCombination(mq,arguments)},monochromatic:function(){return this._applyCombination(gq,arguments)},splitcomplement:function(){return this._applyCombination(pq,arguments)},triad:function(){return this._applyCombination(vN,[3])},tetrad:function(){return this._applyCombination(vN,[4])}};Lt.fromRatio=function(a,e){if(jg(a)=="object"){var n={};for(var r in a)a.hasOwnProperty(r)&&(r==="a"?n[r]=a[r]:n[r]=Hm(a[r]));a=n}return Lt(a,e)};function tq(a){var e={r:0,g:0,b:0},n=1,r=null,o=null,l=null,h=!1,d=!1;return typeof a=="string"&&(a=Cq(a)),jg(a)=="object"&&(Wa(a.r)&&Wa(a.g)&&Wa(a.b)?(e=nq(a.r,a.g,a.b),h=!0,d=String(a.r).substr(-1)==="%"?"prgb":"rgb"):Wa(a.h)&&Wa(a.s)&&Wa(a.v)?(r=Hm(a.s),o=Hm(a.v),e=iq(a.h,r,o),h=!0,d="hsv"):Wa(a.h)&&Wa(a.s)&&Wa(a.l)&&(r=Hm(a.s),l=Hm(a.l),e=rq(a.h,r,l),h=!0,d="hsl"),a.hasOwnProperty("a")&&(n=a.a)),n=qA(n),{ok:h,format:a.format||d,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function nq(a,e,n){return{r:sr(a,255)*255,g:sr(e,255)*255,b:sr(n,255)*255}}function pN(a,e,n){a=sr(a,255),e=sr(e,255),n=sr(n,255);var r=Math.max(a,e,n),o=Math.min(a,e,n),l,h,d=(r+o)/2;if(r==o)l=h=0;else{var p=r-o;switch(h=d>.5?p/(2-r-o):p/(r+o),r){case a:l=(e-n)/p+(e<n?6:0);break;case e:l=(n-a)/p+2;break;case n:l=(a-e)/p+4;break}l/=6}return{h:l,s:h,l:d}}function rq(a,e,n){var r,o,l;a=sr(a,360),e=sr(e,100),n=sr(n,100);function h(g,v,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?g+(v-g)*6*y:y<1/2?v:y<2/3?g+(v-g)*(2/3-y)*6:g}if(e===0)r=o=l=n;else{var d=n<.5?n*(1+e):n+e-n*e,p=2*n-d;r=h(p,d,a+1/3),o=h(p,d,a),l=h(p,d,a-1/3)}return{r:r*255,g:o*255,b:l*255}}function fN(a,e,n){a=sr(a,255),e=sr(e,255),n=sr(n,255);var r=Math.max(a,e,n),o=Math.min(a,e,n),l,h,d=r,p=r-o;if(h=r===0?0:p/r,r==o)l=0;else{switch(r){case a:l=(e-n)/p+(e<n?6:0);break;case e:l=(n-a)/p+2;break;case n:l=(a-e)/p+4;break}l/=6}return{h:l,s:h,v:d}}function iq(a,e,n){a=sr(a,360)*6,e=sr(e,100),n=sr(n,100);var r=Math.floor(a),o=a-r,l=n*(1-e),h=n*(1-o*e),d=n*(1-(1-o)*e),p=r%6,g=[n,h,l,l,d,n][p],v=[d,n,n,h,l,l][p],y=[l,l,d,n,n,h][p];return{r:g*255,g:v*255,b:y*255}}function gN(a,e,n,r){var o=[Po(Math.round(a).toString(16)),Po(Math.round(e).toString(16)),Po(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function oq(a,e,n,r,o){var l=[Po(Math.round(a).toString(16)),Po(Math.round(e).toString(16)),Po(Math.round(n).toString(16)),Po(YA(r))];return o&&l[0].charAt(0)==l[0].charAt(1)&&l[1].charAt(0)==l[1].charAt(1)&&l[2].charAt(0)==l[2].charAt(1)&&l[3].charAt(0)==l[3].charAt(1)?l[0].charAt(0)+l[1].charAt(0)+l[2].charAt(0)+l[3].charAt(0):l.join("")}function bN(a,e,n,r){var o=[Po(YA(r)),Po(Math.round(a).toString(16)),Po(Math.round(e).toString(16)),Po(Math.round(n).toString(16))];return o.join("")}Lt.equals=function(a,e){return!a||!e?!1:Lt(a).toRgbString()==Lt(e).toRgbString()};Lt.random=function(){return Lt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function aq(a,e){e=e===0?0:e||10;var n=Lt(a).toHsl();return n.s-=e/100,n.s=c0(n.s),Lt(n)}function sq(a,e){e=e===0?0:e||10;var n=Lt(a).toHsl();return n.s+=e/100,n.s=c0(n.s),Lt(n)}function lq(a){return Lt(a).desaturate(100)}function cq(a,e){e=e===0?0:e||10;var n=Lt(a).toHsl();return n.l+=e/100,n.l=c0(n.l),Lt(n)}function hq(a,e){e=e===0?0:e||10;var n=Lt(a).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),Lt(n)}function uq(a,e){e=e===0?0:e||10;var n=Lt(a).toHsl();return n.l-=e/100,n.l=c0(n.l),Lt(n)}function dq(a,e){var n=Lt(a).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,Lt(n)}function mq(a){var e=Lt(a).toHsl();return e.h=(e.h+180)%360,Lt(e)}function vN(a,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Lt(a).toHsl(),r=[Lt(a)],o=360/e,l=1;l<e;l++)r.push(Lt({h:(n.h+l*o)%360,s:n.s,l:n.l}));return r}function pq(a){var e=Lt(a).toHsl(),n=e.h;return[Lt(a),Lt({h:(n+72)%360,s:e.s,l:e.l}),Lt({h:(n+216)%360,s:e.s,l:e.l})]}function fq(a,e,n){e=e||6,n=n||30;var r=Lt(a).toHsl(),o=360/n,l=[Lt(a)];for(r.h=(r.h-(o*e>>1)+720)%360;--e;)r.h=(r.h+o)%360,l.push(Lt(r));return l}function gq(a,e){e=e||6;for(var n=Lt(a).toHsv(),r=n.h,o=n.s,l=n.v,h=[],d=1/e;e--;)h.push(Lt({h:r,s:o,v:l})),l=(l+d)%1;return h}Lt.mix=function(a,e,n){n=n===0?0:n||50;var r=Lt(a).toRgb(),o=Lt(e).toRgb(),l=n/100,h={r:(o.r-r.r)*l+r.r,g:(o.g-r.g)*l+r.g,b:(o.b-r.b)*l+r.b,a:(o.a-r.a)*l+r.a};return Lt(h)};Lt.readability=function(a,e){var n=Lt(a),r=Lt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};Lt.isReadable=function(a,e,n){var r=Lt.readability(a,e),o,l;switch(l=!1,o=_q(n),o.level+o.size){case"AAsmall":case"AAAlarge":l=r>=4.5;break;case"AAlarge":l=r>=3;break;case"AAAsmall":l=r>=7;break}return l};Lt.mostReadable=function(a,e,n){var r=null,o=0,l,h,d,p;n=n||{},h=n.includeFallbackColors,d=n.level,p=n.size;for(var g=0;g<e.length;g++)l=Lt.readability(a,e[g]),l>o&&(o=l,r=Lt(e[g]));return Lt.isReadable(a,r,{level:d,size:p})||!h?r:(n.includeFallbackColors=!1,Lt.mostReadable(a,["#fff","#000"],n))};var Tx=Lt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},bq=Lt.hexNames=vq(Tx);function vq(a){var e={};for(var n in a)a.hasOwnProperty(n)&&(e[a[n]]=n);return e}function qA(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function sr(a,e){yq(a)&&(a="100%");var n=xq(a);return a=Math.min(e,Math.max(0,parseFloat(a))),n&&(a=parseInt(a*e,10)/100),Math.abs(a-e)<1e-6?1:a%e/parseFloat(e)}function c0(a){return Math.min(1,Math.max(0,a))}function Li(a){return parseInt(a,16)}function yq(a){return typeof a=="string"&&a.indexOf(".")!=-1&&parseFloat(a)===1}function xq(a){return typeof a=="string"&&a.indexOf("%")!=-1}function Po(a){return a.length==1?"0"+a:""+a}function Hm(a){return a<=1&&(a=a*100+"%"),a}function YA(a){return Math.round(parseFloat(a)*255).toString(16)}function yN(a){return Li(a)/255}var Eo=function(){var a="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+a+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Wa(a){return!!Eo.CSS_UNIT.exec(a)}function Cq(a){a=a.replace(Q$,"").replace(eq,"").toLowerCase();var e=!1;if(Tx[a])a=Tx[a],e=!0;else if(a=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Eo.rgb.exec(a))?{r:n[1],g:n[2],b:n[3]}:(n=Eo.rgba.exec(a))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Eo.hsl.exec(a))?{h:n[1],s:n[2],l:n[3]}:(n=Eo.hsla.exec(a))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Eo.hsv.exec(a))?{h:n[1],s:n[2],v:n[3]}:(n=Eo.hsva.exec(a))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Eo.hex8.exec(a))?{r:Li(n[1]),g:Li(n[2]),b:Li(n[3]),a:yN(n[4]),format:e?"name":"hex8"}:(n=Eo.hex6.exec(a))?{r:Li(n[1]),g:Li(n[2]),b:Li(n[3]),format:e?"name":"hex"}:(n=Eo.hex4.exec(a))?{r:Li(n[1]+""+n[1]),g:Li(n[2]+""+n[2]),b:Li(n[3]+""+n[3]),a:yN(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Eo.hex3.exec(a))?{r:Li(n[1]+""+n[1]),g:Li(n[2]+""+n[2]),b:Li(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function _q(a){var e,n;return a=a||{level:"AA",size:"small"},e=(a.level||"AA").toUpperCase(),n=(a.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}var xN=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,o=0;return J$(n,function(l){if(e[l]&&(r+=1,isNaN(e[l])||(o+=1),l==="s"||l==="l")){var h=/^\d+%$/;h.test(e[l])&&(o+=1)}}),r===o?e:!1},$m=function(e,n){var r=e.hex?Lt(e.hex):Lt(e),o=r.toHsl(),l=r.toHsv(),h=r.toRgb(),d=r.toHex();o.s===0&&(o.h=n||0,l.h=n||0);var p=d==="000000"&&h.a===0;return{hsl:o,hex:p?"transparent":"#"+d,rgb:h,hsv:l,oldHue:e.h||n||o.h,source:e.source}},pl=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&Lt(e).isValid()},E2=function(e){if(!e)return"#fff";var n=$m(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},kv=function(e,n){var r=e.replace("°","");return Lt(n+" ("+r+")")._ok},Mm=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Tq=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function wq(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Nq(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function Mq(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var Ti=function(e){var n=function(r){Mq(o,r);function o(l){wq(this,o);var h=Nq(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return h.handleChange=function(d,p){var g=xN(d);if(g){var v=$m(d,d.h||h.state.oldHue);h.setState(v),h.props.onChangeComplete&&h.debounce(h.props.onChangeComplete,v,p),h.props.onChange&&h.props.onChange(v,p)}},h.handleSwatchHover=function(d,p){var g=xN(d);if(g){var v=$m(d,d.h||h.state.oldHue);h.props.onSwatchHover&&h.props.onSwatchHover(v,p)}},h.state=Mm({},$m(l.color,0)),h.debounce=HA(function(d,p,g){d(p,g)},100),h}return Tq(o,[{key:"render",value:function(){var h={};return this.props.onSwatchHover&&(h.onSwatchHover=this.handleSwatchHover),P.React.createElement(e,Mm({},this.props,this.state,{onChange:this.handleChange},h))}}],[{key:"getDerivedStateFromProps",value:function(h,d){return Mm({},$m(h.color,d.oldHue))}}]),o}(P.reactExports.PureComponent||P.reactExports.Component);return n.propTypes=Mm({},e.propTypes),n.defaultProps=Mm({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},Sq=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Aq=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function Eq(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function CN(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function Iq(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var Rq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Iq(o,r);function o(){var l,h,d,p;Eq(this,o);for(var g=arguments.length,v=Array(g),y=0;y<g;y++)v[y]=arguments[y];return p=(h=(d=CN(this,(l=o.__proto__||Object.getPrototypeOf(o)).call.apply(l,[this].concat(v))),d),d.state={focus:!1},d.handleFocus=function(){return d.setState({focus:!0})},d.handleBlur=function(){return d.setState({focus:!1})},h),CN(d,p)}return Aq(o,[{key:"render",value:function(){return P.React.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},P.React.createElement(e,Sq({},this.props,this.state)))}}]),o}(P.React.Component)},_N=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},Pq=13,Bq=function(e){var n=e.color,r=e.style,o=e.onClick,l=o===void 0?function(){}:o,h=e.onHover,d=e.title,p=d===void 0?n:d,g=e.children,v=e.focus,y=e.focusStyle,x=y===void 0?{}:y,T=n==="transparent",w=Kt({default:{swatch:_N({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,v?x:{})}}),M=function(q){return l(n,q)},S=function(q){return q.keyCode===Pq&&l(n,q)},j=function(q){return h(n,q)},k={};return h&&(k.onMouseOver=j),P.React.createElement("div",_N({style:w.swatch,onClick:M,title:p,tabIndex:0,onKeyDown:S},k),g,T&&P.React.createElement(Wu,{borderRadius:w.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Hc=Rq(Bq);var Oq=function(e){var n=e.direction,r=Kt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.React.createElement("div",{style:r.picker})},Lq=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},KA=function(e){var n=e.rgb,r=e.hsl,o=e.width,l=e.height,h=e.onChange,d=e.direction,p=e.style,g=e.renderers,v=e.pointer,y=e.className,x=y===void 0?"":y,T=Kt({default:{picker:{position:"relative",width:o,height:l},alpha:{radius:"2px",style:p}}});return P.React.createElement("div",{style:T.picker,className:"alpha-picker "+x},P.React.createElement(x2,Lq({},T.alpha,{rgb:n,hsl:r,pointer:v,renderers:g,onChange:h,direction:d})))};KA.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:Oq};Ti(KA);function ZA(a,e){for(var n=-1,r=a==null?0:a.length,o=Array(r);++n<r;)o[n]=e(a[n],n,a);return o}var jq="__lodash_hash_undefined__";function Dq(a){return this.__data__.set(a,jq),this}function Fq(a){return this.__data__.has(a)}function Dg(a){var e=-1,n=a==null?0:a.length;for(this.__data__=new as;++e<n;)this.add(a[e])}Dg.prototype.add=Dg.prototype.push=Dq;Dg.prototype.has=Fq;function kq(a,e){for(var n=-1,r=a==null?0:a.length;++n<r;)if(e(a[n],n,a))return!0;return!1}function Xq(a,e){return a.has(e)}var zq=1,Uq=2;function JA(a,e,n,r,o,l){var h=n&zq,d=a.length,p=e.length;if(d!=p&&!(h&&p>d))return!1;var g=l.get(a),v=l.get(e);if(g&&v)return g==e&&v==a;var y=-1,x=!0,T=n&Uq?new Dg:void 0;for(l.set(a,e),l.set(e,a);++y<d;){var w=a[y],M=e[y];if(r)var S=h?r(M,w,y,e,a,l):r(w,M,y,a,e,l);if(S!==void 0){if(S)continue;x=!1;break}if(T){if(!kq(e,function(j,k){if(!Xq(T,k)&&(w===j||o(w,j,n,r,l)))return T.push(k)})){x=!1;break}}else if(!(w===M||o(w,M,n,r,l))){x=!1;break}}return l.delete(a),l.delete(e),x}function Gq(a){var e=-1,n=Array(a.size);return a.forEach(function(r,o){n[++e]=[o,r]}),n}function Wq(a){var e=-1,n=Array(a.size);return a.forEach(function(r){n[++e]=r}),n}var Vq=1,Hq=2,$q="[object Boolean]",qq="[object Date]",Yq="[object Error]",Kq="[object Map]",Zq="[object Number]",Jq="[object RegExp]",Qq="[object Set]",eY="[object String]",tY="[object Symbol]",nY="[object ArrayBuffer]",rY="[object DataView]",TN=ul?ul.prototype:void 0,Xv=TN?TN.valueOf:void 0;function iY(a,e,n,r,o,l,h){switch(n){case rY:if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case nY:return!(a.byteLength!=e.byteLength||!l(new Bg(a),new Bg(e)));case $q:case qq:case Zq:return vp(+a,+e);case Yq:return a.name==e.name&&a.message==e.message;case Jq:case eY:return a==e+"";case Kq:var d=Gq;case Qq:var p=r&Vq;if(d||(d=Wq),a.size!=e.size&&!p)return!1;var g=h.get(a);if(g)return g==e;r|=Hq,h.set(a,e);var v=JA(d(a),d(e),r,o,l,h);return h.delete(a),v;case tY:if(Xv)return Xv.call(a)==Xv.call(e)}return!1}function oY(a,e){for(var n=-1,r=e.length,o=a.length;++n<r;)a[o+n]=e[n];return a}function aY(a,e,n){var r=e(a);return Fi(a)?r:oY(r,n(a))}function sY(a,e){for(var n=-1,r=a==null?0:a.length,o=0,l=[];++n<r;){var h=a[n];e(h,n,a)&&(l[o++]=h)}return l}function lY(){return[]}var cY=Object.prototype,hY=cY.propertyIsEnumerable,wN=Object.getOwnPropertySymbols,uY=wN?function(a){return a==null?[]:(a=Object(a),sY(wN(a),function(e){return hY.call(a,e)}))}:lY;function NN(a){return aY(a,A2,uY)}var dY=1,mY=Object.prototype,pY=mY.hasOwnProperty;function fY(a,e,n,r,o,l){var h=n&dY,d=NN(a),p=d.length,g=NN(e),v=g.length;if(p!=v&&!h)return!1;for(var y=p;y--;){var x=d[y];if(!(h?x in e:pY.call(e,x)))return!1}var T=l.get(a),w=l.get(e);if(T&&w)return T==e&&w==a;var M=!0;l.set(a,e),l.set(e,a);for(var S=h;++y<p;){x=d[y];var j=a[x],k=e[x];if(r)var W=h?r(k,j,x,e,a,l):r(j,k,x,a,e,l);if(!(W===void 0?j===k||o(j,k,n,r,l):W)){M=!1;break}S||(S=x=="constructor")}if(M&&!S){var q=a.constructor,Z=e.constructor;q!=Z&&"constructor"in a&&"constructor"in e&&!(typeof q=="function"&&q instanceof q&&typeof Z=="function"&&Z instanceof Z)&&(M=!1)}return l.delete(a),l.delete(e),M}var wx=Vc(jo,"DataView"),Nx=Vc(jo,"Promise"),Mx=Vc(jo,"Set"),Sx=Vc(jo,"WeakMap"),MN="[object Map]",gY="[object Object]",SN="[object Promise]",AN="[object Set]",EN="[object WeakMap]",IN="[object DataView]",bY=Wc(wx),vY=Wc(tp),yY=Wc(Nx),xY=Wc(Mx),CY=Wc(Sx),sl=Gc;(wx&&sl(new wx(new ArrayBuffer(1)))!=IN||tp&&sl(new tp)!=MN||Nx&&sl(Nx.resolve())!=SN||Mx&&sl(new Mx)!=AN||Sx&&sl(new Sx)!=EN)&&(sl=function(a){var e=Gc(a),n=e==gY?a.constructor:void 0,r=n?Wc(n):"";if(r)switch(r){case bY:return IN;case vY:return MN;case yY:return SN;case xY:return AN;case CY:return EN}return e});var _Y=1,RN="[object Arguments]",PN="[object Array]",T1="[object Object]",TY=Object.prototype,BN=TY.hasOwnProperty;function wY(a,e,n,r,o,l){var h=Fi(a),d=Fi(e),p=h?PN:sl(a),g=d?PN:sl(e);p=p==RN?T1:p,g=g==RN?T1:g;var v=p==T1,y=g==T1,x=p==g;if(x&&Lg(a)){if(!Lg(e))return!1;h=!0,v=!1}if(x&&!v)return l||(l=new ca),h||M2(a)?JA(a,e,n,r,o,l):iY(a,e,p,n,r,o,l);if(!(n&_Y)){var T=v&&BN.call(a,"__wrapped__"),w=y&&BN.call(e,"__wrapped__");if(T||w){var M=T?a.value():a,S=w?e.value():e;return l||(l=new ca),o(M,S,n,r,l)}}return x?(l||(l=new ca),fY(a,e,n,r,o,l)):!1}function I2(a,e,n,r,o){return a===e?!0:a==null||e==null||!dl(a)&&!dl(e)?a!==a&&e!==e:wY(a,e,n,r,I2,o)}var NY=1,MY=2;function SY(a,e,n,r){var o=n.length,l=o;if(a==null)return!l;for(a=Object(a);o--;){var h=n[o];if(h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++o<l;){h=n[o];var d=h[0],p=a[d],g=h[1];if(h[2]){if(p===void 0&&!(d in a))return!1}else{var v=new ca,y;if(!(y===void 0?I2(g,p,NY|MY,r,v):y))return!1}}return!0}function QA(a){return a===a&&!no(a)}function AY(a){for(var e=A2(a),n=e.length;n--;){var r=e[n],o=a[r];e[n]=[r,o,QA(o)]}return e}function eE(a,e){return function(n){return n==null?!1:n[a]===e&&(e!==void 0||a in Object(n))}}function EY(a){var e=AY(a);return e.length==1&&e[0][2]?eE(e[0][0],e[0][1]):function(n){return n===a||SY(n,a,e)}}var IY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RY=/^\w*$/;function R2(a,e){if(Fi(a))return!1;var n=typeof a;return n=="number"||n=="symbol"||n=="boolean"||a==null||s0(a)?!0:RY.test(a)||!IY.test(a)||e!=null&&a in Object(e)}var PY="Expected a function";function P2(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError(PY);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],l=n.cache;if(l.has(o))return l.get(o);var h=a.apply(this,r);return n.cache=l.set(o,h)||l,h};return n.cache=new(P2.Cache||as),n}P2.Cache=as;var BY=500;function OY(a){var e=P2(a,function(r){return n.size===BY&&n.clear(),r}),n=e.cache;return e}var LY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jY=/\\(\\)?/g,DY=OY(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(LY,function(n,r,o,l){e.push(o?l.replace(jY,"$1"):r||n)}),e}),FY=1/0,ON=ul?ul.prototype:void 0,LN=ON?ON.toString:void 0;function tE(a){if(typeof a=="string")return a;if(Fi(a))return ZA(a,tE)+"";if(s0(a))return LN?LN.call(a):"";var e=a+"";return e=="0"&&1/a==-FY?"-0":e}function kY(a){return a==null?"":tE(a)}function nE(a,e){return Fi(a)?a:R2(a,e)?[a]:DY(kY(a))}var XY=1/0;function h0(a){if(typeof a=="string"||s0(a))return a;var e=a+"";return e=="0"&&1/a==-XY?"-0":e}function rE(a,e){e=nE(e,a);for(var n=0,r=e.length;a!=null&&n<r;)a=a[h0(e[n++])];return n&&n==r?a:void 0}function zY(a,e,n){var r=a==null?void 0:rE(a,e);return r===void 0?n:r}function UY(a,e){return a!=null&&e in Object(a)}function GY(a,e,n){e=nE(e,a);for(var r=-1,o=e.length,l=!1;++r<o;){var h=h0(e[r]);if(!(l=a!=null&&n(a,h)))break;a=a[h]}return l||++r!=o?l:(o=a==null?0:a.length,!!o&&N2(o)&&S2(h,o)&&(Fi(a)||Og(a)))}function WY(a,e){return a!=null&&GY(a,e,UY)}var VY=1,HY=2;function $Y(a,e){return R2(a)&&QA(e)?eE(h0(a),e):function(n){var r=zY(n,a);return r===void 0&&r===e?WY(n,a):I2(e,r,VY|HY)}}function qY(a){return function(e){return e==null?void 0:e[a]}}function YY(a){return function(e){return rE(e,a)}}function KY(a){return R2(a)?qY(h0(a)):YY(a)}function ZY(a){return typeof a=="function"?a:a==null?a0:typeof a=="object"?Fi(a)?$Y(a[0],a[1]):EY(a):KY(a)}function JY(a,e){var n=-1,r=Hu(a)?Array(a.length):[];return $A(a,function(o,l,h){r[++n]=e(o,l,h)}),r}function $c(a,e){var n=Fi(a)?ZA:JY;return n(a,ZY(e))}var QY=function(e){var n=e.colors,r=e.onClick,o=e.onSwatchHover,l=Kt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return P.React.createElement("div",{style:l.swatches},$c(n,function(h){return P.React.createElement(Hc,{key:h,color:h,style:l.swatch,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+h}})}),P.React.createElement("div",{style:l.clear}))},B2=function(e){var n=e.onChange,r=e.onSwatchHover,o=e.hex,l=e.colors,h=e.width,d=e.triangle,p=e.styles,g=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=o==="transparent",T=function(S,j){pl(S)&&n({hex:S,source:"hex"},j)},w=Kt(_i({default:{card:{width:h,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:o,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:E2(o),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+o+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},g),{"hide-triangle":d==="hide"});return P.React.createElement("div",{style:w.card,className:"block-picker "+y},P.React.createElement("div",{style:w.triangle}),P.React.createElement("div",{style:w.head},x&&P.React.createElement(Wu,{borderRadius:"6px 6px 0 0"}),P.React.createElement("div",{style:w.label},o)),P.React.createElement("div",{style:w.body},P.React.createElement(QY,{colors:l,onClick:T,onSwatchHover:r}),P.React.createElement(wn,{style:{input:w.input},value:o,onChange:T})))};B2.propTypes={width:ut.oneOfType([ut.string,ut.number]),colors:ut.arrayOf(ut.string),triangle:ut.oneOf(["top","hide"]),styles:ut.object};B2.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};Ti(B2);var lu={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},cu={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},hu={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},uu={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},du={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},mu={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},pu={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},fu={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},gu={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},qm={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},bu={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},vu={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yu={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},xu={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},Cu={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},_u={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Tu={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},wu={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},iE=function(e){var n=e.color,r=e.onClick,o=e.onSwatchHover,l=e.hover,h=e.active,d=e.circleSize,p=e.circleSpacing,g=Kt({default:{swatch:{width:d,height:d,marginRight:p,marginBottom:p,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(d/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:l,active:h});return P.React.createElement("div",{style:g.swatch},P.React.createElement(Hc,{style:g.Swatch,color:n,onClick:r,onHover:o,focusStyle:{boxShadow:g.Swatch.boxShadow+", 0 0 5px "+n}}))};iE.defaultProps={circleSize:28,circleSpacing:14};const eK=y2(iE);var O2=function(e){var n=e.width,r=e.onChange,o=e.onSwatchHover,l=e.colors,h=e.hex,d=e.circleSize,p=e.styles,g=p===void 0?{}:p,v=e.circleSpacing,y=e.className,x=y===void 0?"":y,T=Kt(_i({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-v,marginBottom:-v}}},g)),w=function(S,j){return r({hex:S,source:"hex"},j)};return P.React.createElement("div",{style:T.card,className:"circle-picker "+x},$c(l,function(M){return P.React.createElement(eK,{key:M,color:M,onClick:w,onSwatchHover:o,active:h===M.toLowerCase(),circleSize:d,circleSpacing:v})}))};O2.propTypes={width:ut.oneOfType([ut.string,ut.number]),circleSize:ut.number,circleSpacing:ut.number,styles:ut.object};O2.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[lu[500],cu[500],hu[500],uu[500],du[500],mu[500],pu[500],fu[500],gu[500],qm[500],bu[500],vu[500],yu[500],xu[500],Cu[500],_u[500],Tu[500],wu[500]],styles:{}};Ti(O2);function jN(a){return a===void 0}var oE={};Object.defineProperty(oE,"__esModule",{value:!0});var DN=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},tK=P.requireReact(),FN=nK(tK);function nK(a){return a&&a.__esModule?a:{default:a}}function rK(a,e){var n={};for(var r in a)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r]);return n}var w1=24,iK=oE.default=function(a){var e=a.fill,n=e===void 0?"currentColor":e,r=a.width,o=r===void 0?w1:r,l=a.height,h=l===void 0?w1:l,d=a.style,p=d===void 0?{}:d,g=rK(a,["fill","width","height","style"]);return FN.default.createElement("svg",DN({viewBox:"0 0 "+w1+" "+w1,style:DN({fill:n,width:o,height:h},p)},g),FN.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},oK=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function aK(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function sK(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function lK(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var aE=function(a){lK(e,a);function e(n){aK(this,e);var r=sK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(o,l){o.hex?pl(o.hex)&&r.props.onChange({hex:o.hex,source:"hex"},l):o.r||o.g||o.b?r.props.onChange({r:o.r||r.props.rgb.r,g:o.g||r.props.rgb.g,b:o.b||r.props.rgb.b,source:"rgb"},l):o.a?(o.a<0?o.a=0:o.a>1&&(o.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(o.a*100)/100,source:"rgb"},l)):(o.h||o.s||o.l)&&(typeof o.s=="string"&&o.s.includes("%")&&(o.s=o.s.replace("%","")),typeof o.l=="string"&&o.l.includes("%")&&(o.l=o.l.replace("%","")),o.s==1?o.s=.01:o.l==1&&(o.l=.01),r.props.onChange({h:o.h||r.props.hsl.h,s:Number(jN(o.s)?r.props.hsl.s:o.s),l:Number(jN(o.l)?r.props.hsl.l:o.l),source:"hsl"},l))},r.showHighlight=function(o){o.currentTarget.style.background="#eee"},r.hideHighlight=function(o){o.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return oK(e,[{key:"render",value:function(){var r=this,o=Kt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),l=void 0;return this.state.view==="hex"?l=P.React.createElement("div",{style:o.fields,className:"flexbox-fix"},P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?l=P.React.createElement("div",{style:o.fields,className:"flexbox-fix"},P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),P.React.createElement("div",{style:o.alpha},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(l=P.React.createElement("div",{style:o.fields,className:"flexbox-fix"},P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),P.React.createElement("div",{style:o.field},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),P.React.createElement("div",{style:o.alpha},P.React.createElement(wn,{style:{input:o.input,label:o.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),P.React.createElement("div",{style:o.wrap,className:"flexbox-fix"},l,P.React.createElement("div",{style:o.toggle},P.React.createElement("div",{style:o.icon,onClick:this.toggleViews,ref:function(d){return r.icon=d}},P.React.createElement(iK,{style:o.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.hsl.a!==1&&o.view==="hex"?{view:"rgb"}:null}}]),e}(P.React.Component);aE.defaultProps={view:"hex"};var kN=function(){var e=Kt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.React.createElement("div",{style:e.picker})},cK=function(){var e=Kt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return P.React.createElement("div",{style:e.picker})},L2=function(e){var n=e.width,r=e.onChange,o=e.disableAlpha,l=e.rgb,h=e.hsl,d=e.hsv,p=e.hex,g=e.renderers,v=e.styles,y=v===void 0?{}:v,x=e.className,T=x===void 0?"":x,w=e.defaultView,M=Kt(_i({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+l.r+", "+l.g+", "+l.b+", "+l.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},y),{disableAlpha:o});return P.React.createElement("div",{style:M.picker,className:"chrome-picker "+T},P.React.createElement("div",{style:M.saturation},P.React.createElement(l0,{style:M.Saturation,hsl:h,hsv:d,pointer:cK,onChange:r})),P.React.createElement("div",{style:M.body},P.React.createElement("div",{style:M.controls,className:"flexbox-fix"},P.React.createElement("div",{style:M.color},P.React.createElement("div",{style:M.swatch},P.React.createElement("div",{style:M.active}),P.React.createElement(Wu,{renderers:g}))),P.React.createElement("div",{style:M.toggles},P.React.createElement("div",{style:M.hue},P.React.createElement(Vu,{style:M.Hue,hsl:h,pointer:kN,onChange:r})),P.React.createElement("div",{style:M.alpha},P.React.createElement(x2,{style:M.Alpha,rgb:l,hsl:h,pointer:kN,renderers:g,onChange:r})))),P.React.createElement(aE,{rgb:l,hsl:h,hex:p,view:w,onChange:r,disableAlpha:o})))};L2.propTypes={width:ut.oneOfType([ut.string,ut.number]),disableAlpha:ut.bool,styles:ut.object,defaultView:ut.oneOf(["hex","rgb","hsl"])};L2.defaultProps={width:225,disableAlpha:!1,styles:{}};Ti(L2);var hK=function(e){var n=e.color,r=e.onClick,o=r===void 0?function(){}:r,l=e.onSwatchHover,h=e.active,d=Kt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:E2(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:h,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.React.createElement(Hc,{style:d.color,color:n,onClick:o,onHover:l,focusStyle:{boxShadow:"0 0 4px "+n}},P.React.createElement("div",{style:d.dot}))},uK=function(e){var n=e.hex,r=e.rgb,o=e.onChange,l=Kt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),h=function(p,g){p.r||p.g||p.b?o({r:p.r||r.r,g:p.g||r.g,b:p.b||r.b,source:"rgb"},g):o({hex:p.hex,source:"hex"},g)};return P.React.createElement("div",{style:l.fields,className:"flexbox-fix"},P.React.createElement("div",{style:l.active}),P.React.createElement(wn,{style:{wrap:l.HEXwrap,input:l.HEXinput,label:l.HEXlabel},label:"hex",value:n,onChange:h}),P.React.createElement(wn,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"r",value:r.r,onChange:h}),P.React.createElement(wn,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"g",value:r.g,onChange:h}),P.React.createElement(wn,{style:{wrap:l.RGBwrap,input:l.RGBinput,label:l.RGBlabel},label:"b",value:r.b,onChange:h}))},j2=function(e){var n=e.onChange,r=e.onSwatchHover,o=e.colors,l=e.hex,h=e.rgb,d=e.styles,p=d===void 0?{}:d,g=e.className,v=g===void 0?"":g,y=Kt(_i({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},p)),x=function(w,M){w.hex?pl(w.hex)&&n({hex:w.hex,source:"hex"},M):n(w,M)};return P.React.createElement(yp,{style:y.Compact,styles:p},P.React.createElement("div",{style:y.compact,className:"compact-picker "+v},P.React.createElement("div",null,$c(o,function(T){return P.React.createElement(hK,{key:T,color:T,active:T.toLowerCase()===l,onClick:x,onSwatchHover:r})}),P.React.createElement("div",{style:y.clear})),P.React.createElement(uK,{hex:l,rgb:h,onChange:x})))};j2.propTypes={colors:ut.arrayOf(ut.string),styles:ut.object};j2.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};Ti(j2);var dK=function(e){var n=e.hover,r=e.color,o=e.onClick,l=e.onSwatchHover,h={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},d=Kt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:h}},{hover:n});return P.React.createElement("div",{style:d.swatch},P.React.createElement(Hc,{color:r,onClick:o,onHover:l,focusStyle:h}))};const mK=y2(dK);var D2=function(e){var n=e.width,r=e.colors,o=e.onChange,l=e.onSwatchHover,h=e.triangle,d=e.styles,p=d===void 0?{}:d,g=e.className,v=g===void 0?"":g,y=Kt(_i({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},p),{"hide-triangle":h==="hide","top-left-triangle":h==="top-left","top-right-triangle":h==="top-right","bottom-left-triangle":h==="bottom-left","bottom-right-triangle":h==="bottom-right"}),x=function(w,M){return o({hex:w,source:"hex"},M)};return P.React.createElement("div",{style:y.card,className:"github-picker "+v},P.React.createElement("div",{style:y.triangleShadow}),P.React.createElement("div",{style:y.triangle}),$c(r,function(T){return P.React.createElement(mK,{color:T,key:T,onClick:x,onSwatchHover:l})}))};D2.propTypes={width:ut.oneOfType([ut.string,ut.number]),colors:ut.arrayOf(ut.string),triangle:ut.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ut.object};D2.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};Ti(D2);var pK=function(e){var n=e.direction,r=Kt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return P.React.createElement("div",{style:r.picker})},fK=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},F2=function(e){var n=e.width,r=e.height,o=e.onChange,l=e.hsl,h=e.direction,d=e.pointer,p=e.styles,g=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=Kt(_i({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},g)),T=function(M){return o({a:1,h:M.h,l:.5,s:1})};return P.React.createElement("div",{style:x.picker,className:"hue-picker "+y},P.React.createElement(Vu,fK({},x.hue,{hsl:l,pointer:d,onChange:T,direction:h})))};F2.propTypes={styles:ut.object};F2.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:pK,styles:{}};Ti(F2);var gK=function(e){var n=e.onChange,r=e.hex,o=e.rgb,l=e.styles,h=l===void 0?{}:l,d=e.className,p=d===void 0?"":d,g=Kt(_i({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},h)),v=function(x,T){x.hex?pl(x.hex)&&n({hex:x.hex,source:"hex"},T):(x.r||x.g||x.b)&&n({r:x.r||o.r,g:x.g||o.g,b:x.b||o.b,source:"rgb"},T)};return P.React.createElement(yp,{styles:h},P.React.createElement("div",{style:g.material,className:"material-picker "+p},P.React.createElement(wn,{style:{wrap:g.HEXwrap,input:g.HEXinput,label:g.HEXlabel},label:"hex",value:r,onChange:v}),P.React.createElement("div",{style:g.split,className:"flexbox-fix"},P.React.createElement("div",{style:g.third},P.React.createElement(wn,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"r",value:o.r,onChange:v})),P.React.createElement("div",{style:g.third},P.React.createElement(wn,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"g",value:o.g,onChange:v})),P.React.createElement("div",{style:g.third},P.React.createElement(wn,{style:{wrap:g.RGBwrap,input:g.RGBinput,label:g.RGBlabel},label:"b",value:o.b,onChange:v})))))};Ti(gK);var bK=function(e){var n=e.onChange,r=e.rgb,o=e.hsv,l=e.hex,h=Kt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),d=function(g,v){g["#"]?pl(g["#"])&&n({hex:g["#"],source:"hex"},v):g.r||g.g||g.b?n({r:g.r||r.r,g:g.g||r.g,b:g.b||r.b,source:"rgb"},v):(g.h||g.s||g.v)&&n({h:g.h||o.h,s:g.s||o.s,v:g.v||o.v,source:"hsv"},v)};return P.React.createElement("div",{style:h.fields},P.React.createElement(wn,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"h",value:Math.round(o.h),onChange:d}),P.React.createElement(wn,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"s",value:Math.round(o.s*100),onChange:d}),P.React.createElement(wn,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"v",value:Math.round(o.v*100),onChange:d}),P.React.createElement("div",{style:h.divider}),P.React.createElement(wn,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"r",value:r.r,onChange:d}),P.React.createElement(wn,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"g",value:r.g,onChange:d}),P.React.createElement(wn,{style:{wrap:h.RGBwrap,input:h.RGBinput,label:h.RGBlabel},label:"b",value:r.b,onChange:d}),P.React.createElement("div",{style:h.divider}),P.React.createElement(wn,{style:{wrap:h.HEXwrap,input:h.HEXinput,label:h.HEXlabel},label:"#",value:l.replace("#",""),onChange:d}),P.React.createElement("div",{style:h.fieldSymbols},P.React.createElement("div",{style:h.symbol},"°"),P.React.createElement("div",{style:h.symbol},"%"),P.React.createElement("div",{style:h.symbol},"%")))},vK=function(e){var n=e.hsl,r=Kt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return P.React.createElement("div",{style:r.picker})},yK=function(){var e=Kt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return P.React.createElement("div",{style:e.pointer},P.React.createElement("div",{style:e.left},P.React.createElement("div",{style:e.leftInside})),P.React.createElement("div",{style:e.right},P.React.createElement("div",{style:e.rightInside})))},XN=function(e){var n=e.onClick,r=e.label,o=e.children,l=e.active,h=Kt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:l});return P.React.createElement("div",{style:h.button,onClick:n},r||o)},xK=function(e){var n=e.rgb,r=e.currentColor,o=Kt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return P.React.createElement("div",null,P.React.createElement("div",{style:o.label},"new"),P.React.createElement("div",{style:o.swatches},P.React.createElement("div",{style:o.new}),P.React.createElement("div",{style:o.current})),P.React.createElement("div",{style:o.label},"current"))},CK=function(){function a(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,n,r){return n&&a(e.prototype,n),r&&a(e,r),e}}();function _K(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function TK(a,e){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:a}function wK(a,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);a.prototype=Object.create(e&&e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(a,e):a.__proto__=e)}var k2=function(a){wK(e,a);function e(n){_K(this,e);var r=TK(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return CK(e,[{key:"render",value:function(){var r=this.props,o=r.styles,l=o===void 0?{}:o,h=r.className,d=h===void 0?"":h,p=Kt(_i({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},l));return P.React.createElement("div",{style:p.picker,className:"photoshop-picker "+d},P.React.createElement("div",{style:p.head},this.props.header),P.React.createElement("div",{style:p.body,className:"flexbox-fix"},P.React.createElement("div",{style:p.saturation},P.React.createElement(l0,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:vK,onChange:this.props.onChange})),P.React.createElement("div",{style:p.hue},P.React.createElement(Vu,{direction:"vertical",hsl:this.props.hsl,pointer:yK,onChange:this.props.onChange})),P.React.createElement("div",{style:p.controls},P.React.createElement("div",{style:p.top,className:"flexbox-fix"},P.React.createElement("div",{style:p.previews},P.React.createElement(xK,{rgb:this.props.rgb,currentColor:this.state.currentColor})),P.React.createElement("div",{style:p.actions},P.React.createElement(XN,{label:"OK",onClick:this.props.onAccept,active:!0}),P.React.createElement(XN,{label:"Cancel",onClick:this.props.onCancel}),P.React.createElement(bK,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(P.React.Component);k2.propTypes={header:ut.string,styles:ut.object};k2.defaultProps={header:"Color Picker",styles:{}};Ti(k2);var NK=function(e){var n=e.onChange,r=e.rgb,o=e.hsl,l=e.hex,h=e.disableAlpha,d=Kt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:h}),p=function(v,y){v.hex?pl(v.hex)&&n({hex:v.hex,source:"hex"},y):v.r||v.g||v.b?n({r:v.r||r.r,g:v.g||r.g,b:v.b||r.b,a:r.a,source:"rgb"},y):v.a&&(v.a<0?v.a=0:v.a>100&&(v.a=100),v.a/=100,n({h:o.h,s:o.s,l:o.l,a:v.a,source:"rgb"},y))};return P.React.createElement("div",{style:d.fields,className:"flexbox-fix"},P.React.createElement("div",{style:d.double},P.React.createElement(wn,{style:{input:d.input,label:d.label},label:"hex",value:l.replace("#",""),onChange:p})),P.React.createElement("div",{style:d.single},P.React.createElement(wn,{style:{input:d.input,label:d.label},label:"r",value:r.r,onChange:p,dragLabel:"true",dragMax:"255"})),P.React.createElement("div",{style:d.single},P.React.createElement(wn,{style:{input:d.input,label:d.label},label:"g",value:r.g,onChange:p,dragLabel:"true",dragMax:"255"})),P.React.createElement("div",{style:d.single},P.React.createElement(wn,{style:{input:d.input,label:d.label},label:"b",value:r.b,onChange:p,dragLabel:"true",dragMax:"255"})),P.React.createElement("div",{style:d.alpha},P.React.createElement(wn,{style:{input:d.input,label:d.label},label:"a",value:Math.round(r.a*100),onChange:p,dragLabel:"true",dragMax:"100"})))},MK=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},sE=function(e){var n=e.colors,r=e.onClick,o=r===void 0?function(){}:r,l=e.onSwatchHover,h=Kt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),d=function(g,v){o({hex:g,source:"hex"},v)};return P.React.createElement("div",{style:h.colors,className:"flexbox-fix"},n.map(function(p){var g=typeof p=="string"?{color:p}:p,v=""+g.color+(g.title||"");return P.React.createElement("div",{key:v,style:h.swatchWrap},P.React.createElement(Hc,MK({},g,{style:h.swatch,onClick:d,onHover:l,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+g.color}})))}))};sE.propTypes={colors:ut.arrayOf(ut.oneOfType([ut.string,ut.shape({color:ut.string,title:ut.string})])).isRequired};var SK=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},X2=function(e){var n=e.width,r=e.rgb,o=e.hex,l=e.hsv,h=e.hsl,d=e.onChange,p=e.onSwatchHover,g=e.disableAlpha,v=e.presetColors,y=e.renderers,x=e.styles,T=x===void 0?{}:x,w=e.className,M=w===void 0?"":w,S=Kt(_i({default:SK({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},T),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},T),{disableAlpha:g});return P.React.createElement("div",{style:S.picker,className:"sketch-picker "+M},P.React.createElement("div",{style:S.saturation},P.React.createElement(l0,{style:S.Saturation,hsl:h,hsv:l,onChange:d})),P.React.createElement("div",{style:S.controls,className:"flexbox-fix"},P.React.createElement("div",{style:S.sliders},P.React.createElement("div",{style:S.hue},P.React.createElement(Vu,{style:S.Hue,hsl:h,onChange:d})),P.React.createElement("div",{style:S.alpha},P.React.createElement(x2,{style:S.Alpha,rgb:r,hsl:h,renderers:y,onChange:d}))),P.React.createElement("div",{style:S.color},P.React.createElement(Wu,null),P.React.createElement("div",{style:S.activeColor}))),P.React.createElement(NK,{rgb:r,hsl:h,hex:o,onChange:d,disableAlpha:g}),P.React.createElement(sE,{colors:v,onClick:d,onSwatchHover:p}))};X2.propTypes={disableAlpha:ut.bool,width:ut.oneOfType([ut.string,ut.number]),styles:ut.object};X2.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const AK=Ti(X2);var Sm=function(e){var n=e.hsl,r=e.offset,o=e.onClick,l=o===void 0?function(){}:o,h=e.active,d=e.first,p=e.last,g=Kt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:h,first:d,last:p}),v=function(x){return l({h:n.h,s:.5,l:r,source:"hsl"},x)};return P.React.createElement("div",{style:g.swatch,onClick:v})},EK=function(e){var n=e.onClick,r=e.hsl,o=Kt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),l=.1;return P.React.createElement("div",{style:o.swatches},P.React.createElement("div",{style:o.swatch},P.React.createElement(Sm,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<l&&Math.abs(r.s-.5)<l,onClick:n,first:!0})),P.React.createElement("div",{style:o.swatch},P.React.createElement(Sm,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<l&&Math.abs(r.s-.5)<l,onClick:n})),P.React.createElement("div",{style:o.swatch},P.React.createElement(Sm,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<l&&Math.abs(r.s-.5)<l,onClick:n})),P.React.createElement("div",{style:o.swatch},P.React.createElement(Sm,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<l&&Math.abs(r.s-.5)<l,onClick:n})),P.React.createElement("div",{style:o.swatch},P.React.createElement(Sm,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<l&&Math.abs(r.s-.5)<l,onClick:n,last:!0})),P.React.createElement("div",{style:o.clear}))},IK=function(){var e=Kt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return P.React.createElement("div",{style:e.picker})},z2=function(e){var n=e.hsl,r=e.onChange,o=e.pointer,l=e.styles,h=l===void 0?{}:l,d=e.className,p=d===void 0?"":d,g=Kt(_i({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},h));return P.React.createElement("div",{style:g.wrap||{},className:"slider-picker "+p},P.React.createElement("div",{style:g.hue},P.React.createElement(Vu,{style:g.Hue,hsl:n,pointer:o,onChange:r})),P.React.createElement("div",{style:g.swatches},P.React.createElement(EK,{hsl:n,onClick:r})))};z2.propTypes={styles:ut.object};z2.defaultProps={pointer:IK,styles:{}};Ti(z2);var lE={};Object.defineProperty(lE,"__esModule",{value:!0});var zN=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},RK=P.requireReact(),UN=PK(RK);function PK(a){return a&&a.__esModule?a:{default:a}}function BK(a,e){var n={};for(var r in a)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(a,r)&&(n[r]=a[r]);return n}var N1=24,OK=lE.default=function(a){var e=a.fill,n=e===void 0?"currentColor":e,r=a.width,o=r===void 0?N1:r,l=a.height,h=l===void 0?N1:l,d=a.style,p=d===void 0?{}:d,g=BK(a,["fill","width","height","style"]);return UN.default.createElement("svg",zN({viewBox:"0 0 "+N1+" "+N1,style:zN({fill:n,width:o,height:h},p)},g),UN.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},LK=function(e){var n=e.color,r=e.onClick,o=r===void 0?function(){}:r,l=e.onSwatchHover,h=e.first,d=e.last,p=e.active,g=Kt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:E2(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:h,last:d,active:p,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return P.React.createElement(Hc,{color:n,style:g.color,onClick:o,onHover:l,focusStyle:{boxShadow:"0 0 4px "+n}},P.React.createElement("div",{style:g.check},P.React.createElement(OK,null)))},jK=function(e){var n=e.onClick,r=e.onSwatchHover,o=e.group,l=e.active,h=Kt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return P.React.createElement("div",{style:h.group},$c(o,function(d,p){return P.React.createElement(LK,{key:d,color:d,active:d.toLowerCase()===l,first:p===0,last:p===o.length-1,onClick:n,onSwatchHover:r})}))},U2=function(e){var n=e.width,r=e.height,o=e.onChange,l=e.onSwatchHover,h=e.colors,d=e.hex,p=e.styles,g=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=Kt(_i({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},g)),T=function(M,S){return o({hex:M,source:"hex"},S)};return P.React.createElement("div",{style:x.picker,className:"swatches-picker "+y},P.React.createElement(yp,null,P.React.createElement("div",{style:x.overflow},P.React.createElement("div",{style:x.body},$c(h,function(w){return P.React.createElement(jK,{key:w.toString(),group:w,active:d,onClick:T,onSwatchHover:l})}),P.React.createElement("div",{style:x.clear})))))};U2.propTypes={width:ut.oneOfType([ut.string,ut.number]),height:ut.oneOfType([ut.string,ut.number]),colors:ut.arrayOf(ut.arrayOf(ut.string)),styles:ut.object};U2.defaultProps={width:320,height:240,colors:[[lu[900],lu[700],lu[500],lu[300],lu[100]],[cu[900],cu[700],cu[500],cu[300],cu[100]],[hu[900],hu[700],hu[500],hu[300],hu[100]],[uu[900],uu[700],uu[500],uu[300],uu[100]],[du[900],du[700],du[500],du[300],du[100]],[mu[900],mu[700],mu[500],mu[300],mu[100]],[pu[900],pu[700],pu[500],pu[300],pu[100]],[fu[900],fu[700],fu[500],fu[300],fu[100]],[gu[900],gu[700],gu[500],gu[300],gu[100]],["#194D33",qm[700],qm[500],qm[300],qm[100]],[bu[900],bu[700],bu[500],bu[300],bu[100]],[vu[900],vu[700],vu[500],vu[300],vu[100]],[yu[900],yu[700],yu[500],yu[300],yu[100]],[xu[900],xu[700],xu[500],xu[300],xu[100]],[Cu[900],Cu[700],Cu[500],Cu[300],Cu[100]],[_u[900],_u[700],_u[500],_u[300],_u[100]],[Tu[900],Tu[700],Tu[500],Tu[300],Tu[100]],[wu[900],wu[700],wu[500],wu[300],wu[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};Ti(U2);var G2=function(e){var n=e.onChange,r=e.onSwatchHover,o=e.hex,l=e.colors,h=e.width,d=e.triangle,p=e.styles,g=p===void 0?{}:p,v=e.className,y=v===void 0?"":v,x=Kt(_i({default:{card:{width:h,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},g),{"hide-triangle":d==="hide","top-left-triangle":d==="top-left","top-right-triangle":d==="top-right"}),T=function(M,S){pl(M)&&n({hex:M,source:"hex"},S)};return P.React.createElement("div",{style:x.card,className:"twitter-picker "+y},P.React.createElement("div",{style:x.triangleShadow}),P.React.createElement("div",{style:x.triangle}),P.React.createElement("div",{style:x.body},$c(l,function(w,M){return P.React.createElement(Hc,{key:M,color:w,hex:w,style:x.swatch,onClick:T,onHover:r,focusStyle:{boxShadow:"0 0 4px "+w}})}),P.React.createElement("div",{style:x.hash},"#"),P.React.createElement(wn,{label:null,style:{input:x.input},value:o.replace("#",""),onChange:T}),P.React.createElement("div",{style:x.clear})))};G2.propTypes={width:ut.oneOfType([ut.string,ut.number]),triangle:ut.oneOf(["hide","top-left","top-right"]),colors:ut.arrayOf(ut.string),styles:ut.object};G2.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};Ti(G2);var W2=function(e){var n=Kt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return P.React.createElement("div",{style:n.picker})};W2.propTypes={hsl:ut.shape({h:ut.number,s:ut.number,l:ut.number,a:ut.number})};W2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var V2=function(e){var n=Kt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return P.React.createElement("div",{style:n.picker})};V2.propTypes={hsl:ut.shape({h:ut.number,s:ut.number,l:ut.number,a:ut.number})};V2.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var DK=function(e){var n=e.onChange,r=e.rgb,o=e.hsl,l=e.hex,h=e.hsv,d=function(T,w){if(T.hex)pl(T.hex)&&n({hex:T.hex,source:"hex"},w);else if(T.rgb){var M=T.rgb.split(",");kv(T.rgb,"rgb")&&n({r:M[0],g:M[1],b:M[2],a:1,source:"rgb"},w)}else if(T.hsv){var S=T.hsv.split(",");kv(T.hsv,"hsv")&&(S[2]=S[2].replace("%",""),S[1]=S[1].replace("%",""),S[0]=S[0].replace("°",""),S[1]==1?S[1]=.01:S[2]==1&&(S[2]=.01),n({h:Number(S[0]),s:Number(S[1]),v:Number(S[2]),source:"hsv"},w))}else if(T.hsl){var j=T.hsl.split(",");kv(T.hsl,"hsl")&&(j[2]=j[2].replace("%",""),j[1]=j[1].replace("%",""),j[0]=j[0].replace("°",""),y[1]==1?y[1]=.01:y[2]==1&&(y[2]=.01),n({h:Number(j[0]),s:Number(j[1]),v:Number(j[2]),source:"hsl"},w))}},p=Kt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),g=r.r+", "+r.g+", "+r.b,v=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.l*100)+"%",y=Math.round(h.h)+"°, "+Math.round(h.s*100)+"%, "+Math.round(h.v*100)+"%";return P.React.createElement("div",{style:p.wrap,className:"flexbox-fix"},P.React.createElement("div",{style:p.fields},P.React.createElement("div",{style:p.double},P.React.createElement(wn,{style:{input:p.input,label:p.label},label:"hex",value:l,onChange:d})),P.React.createElement("div",{style:p.column},P.React.createElement("div",{style:p.single},P.React.createElement(wn,{style:{input:p.input2,label:p.label2},label:"rgb",value:g,onChange:d})),P.React.createElement("div",{style:p.single},P.React.createElement(wn,{style:{input:p.input2,label:p.label2},label:"hsv",value:y,onChange:d})),P.React.createElement("div",{style:p.single},P.React.createElement(wn,{style:{input:p.input2,label:p.label2},label:"hsl",value:v,onChange:d})))))},H2=function(e){var n=e.width,r=e.onChange,o=e.rgb,l=e.hsl,h=e.hsv,d=e.hex,p=e.header,g=e.styles,v=g===void 0?{}:g,y=e.className,x=y===void 0?"":y,T=Kt(_i({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+o.r+", "+o.g+", "+o.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},v));return P.React.createElement("div",{style:T.picker,className:"google-picker "+x},P.React.createElement("div",{style:T.head},p),P.React.createElement("div",{style:T.swatch}),P.React.createElement("div",{style:T.saturation},P.React.createElement(l0,{hsl:l,hsv:h,pointer:W2,onChange:r})),P.React.createElement("div",{style:T.body},P.React.createElement("div",{style:T.controls,className:"flexbox-fix"},P.React.createElement("div",{style:T.hue},P.React.createElement(Vu,{style:T.Hue,hsl:l,radius:"4px",pointer:V2,onChange:r}))),P.React.createElement(DK,{rgb:o,hsl:l,hex:d,hsv:h,onChange:r})))};H2.propTypes={width:ut.oneOfType([ut.string,ut.number]),styles:ut.object,header:ut.string};H2.defaultProps={width:652,styles:{},header:"Color picker"};Ti(H2);const FK=P.reactExports.memo(({color:a,setState:e})=>{const n=P.reactExports.useRef(null);return P.reactExports.useEffect(()=>{},[]),P.jsxRuntimeExports.jsx("div",{ref:n,className:"ColorPicker",children:P.jsxRuntimeExports.jsx(AK,{color:a,onChangeComplete:r=>{e(o=>({...o,color:r.hex}))}})})}),kK=P.reactExports.memo(({color:a,index:e})=>{var v;const[n,r]=P.reactExports.useContext(P.Context),o=(v=n[P.ActionType.GUI_Color])==null?void 0:v.data,[l,h]=P.reactExports.useState({enabled:!1,color:a.defaultValue}),d=a.defaultValue,[p]=eo("enterPantone","Enter a Pantone#");P.reactExports.useEffect(()=>{if(o){const y=[...o];y[e]={...y[e],value:l.color},r({type:P.ActionType.GUI_Color,state:{data:y}})}},[l]),P.reactExports.useEffect(()=>{h(y=>({...y,color:d}))},[d]);const g=y=>{h(x=>({...x,color:y.target.value}))};return P.jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-row items-center justify-between",children:[P.jsxRuntimeExports.jsxs("div",{className:"flex flex-row",children:[P.jsxRuntimeExports.jsxs("div",{className:"relative flex h-[22px] w-[22px] flex-row",children:[P.jsxRuntimeExports.jsx(ri,{className:"h-full w-full",onClick:()=>h(y=>({...y,enabled:!y.enabled})),children:P.jsxRuntimeExports.jsx("div",{className:"relative h-full w-full rounded border border-grey-700",style:{backgroundColor:l.color}})}),l.enabled&&P.jsxRuntimeExports.jsxs("div",{className:"absolute top-full z-10 h-full w-full",children:[P.jsxRuntimeExports.jsx("div",{className:"fixed left-0 top-0 h-full w-full bg-transparent",onClick:()=>h(y=>({...y,enabled:!1}))}),P.jsxRuntimeExports.jsx("div",{className:"h-full w-full",children:P.jsxRuntimeExports.jsx(FK,{color:l.color,setState:h})})]})]}),P.jsxRuntimeExports.jsx("span",{className:"ml-3 flex min-w-12 items-center text-sm text-grey-250",children:l.color})]}),P.jsxRuntimeExports.jsx("div",{className:"flex h-11 w-40 items-center rounded border border-grey-700 px-4",children:P.jsxRuntimeExports.jsxs("select",{className:"w-full flex-grow overflow-hidden bg-transparent text-sm text-grey-400 outline-none placeholder:overflow-visible placeholder:text-grey-400",defaultValue:"",onChange:g,children:[P.jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:p}),mB.result.code.pantoneList.map((y,x)=>P.jsxRuntimeExports.jsx("option",{value:`#${gB(y.r,y.g,y.b)}`,children:`${y.colorName}(${y.name})`},`pantone-${x}`))]})})]})}),XK=P.reactExports.memo(()=>{const[a,e]=P.reactExports.useContext(P.Context),n=a[P.ActionType.GUI_Color],r=a[P.ActionType.DiffuseColor]||P.COLOR_PICKER_COLOR.defaultValue,[o]=eo("colorEditor","Color editor"),[l]=eo("removeColor","Remove Color"),[h]=eo("addColor","Add Color");return P.jsxRuntimeExports.jsxs(P.jsxRuntimeExports.Fragment,{children:[P.jsxRuntimeExports.jsx("h5",{className:"mb-2 text-base font-bold text-white",children:o}),P.jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-col space-y-3",children:[n&&n.data.map((d,p)=>P.jsxRuntimeExports.jsx(kK,{color:d,index:p},`panel-${p}`)),P.jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-row",children:[P.jsxRuntimeExports.jsx(ri,{disabled:n?n.data.length<=1:!1,className:"text-body1 min-w-21 flex h-10 items-center justify-center gap-x-1 whitespace-nowrap rounded border-none bg-transparent px-4 font-normal text-grey-300 hover:text-primary-500 disabled:text-grey-700",onClick:()=>{if(n){if(n.data.length<=1)return;const d=[...n.data].slice(0,-1);e({type:P.ActionType.GUI_Color,state:{data:d}})}},children:l}),P.jsxRuntimeExports.jsxs(ri,{className:"text-body1 min-w-21 flex h-10 items-center justify-center gap-x-1 whitespace-nowrap rounded border border-grey-700 bg-transparent px-3 font-normal text-primary-400 hover:border-grey-600 hover:text-primary-500 disabled:text-grey-600",onClick:()=>{if(n){const d=[...n.data];d.push({defaultValue:r,value:r}),e({type:P.ActionType.GUI_Color,state:{data:d}})}},children:[P.jsxRuntimeExports.jsx(pB,{}),h]})]})]})]})}),zK=P.reactExports.memo(({data:a})=>{const[e,n]=P.reactExports.useContext(P.Context),r=e[P.ActionType.GUI_Panorama],[o]=eo(a.toggle.name,a.toggle.name),l=h=>{r&&n({type:P.ActionType.GUI_Panorama,state:{...r,toggle:{...r.toggle,visible:h.target.checked}}})};return P.jsxRuntimeExports.jsxs("label",{className:"inline-flex cursor-pointer items-center",children:[P.jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"peer sr-only",defaultChecked:r==null?void 0:r.toggle.visible,onChange:l}),P.jsxRuntimeExports.jsx("div",{className:"peer relative h-6 w-11 rounded-full bg-grey-200 after:absolute after:start-[2px] after:top-0.5 after:h-5 after:w-5 after:rounded-full after:border after:border-grey-300 after:bg-white after:transition-all after:content-[''] peer-checked:bg-primary-400 peer-checked:after:translate-x-full peer-checked:after:border-white rtl:peer-checked:after:-translate-x-full dark:border-grey-600 dark:bg-grey-700"}),P.jsxRuntimeExports.jsx("span",{className:"ms-3 text-sm font-medium text-white dark:text-white",children:o})]})}),UK=P.reactExports.memo(({data:a})=>{const[,e]=P.reactExports.useContext(P.Context),[n]=eo(a.name,a.name),r=o=>{e({type:P.ActionType.GUI_Panorama,state:{index:Number(o.target.value)}})};return P.jsxRuntimeExports.jsxs("div",{className:"w-full",children:[P.jsxRuntimeExports.jsx("h5",{className:"mb-2 text-base font-bold text-white",children:n}),P.jsxRuntimeExports.jsx("div",{className:"my-4 flex h-11 w-full items-center rounded border border-grey-700 px-4",children:P.jsxRuntimeExports.jsx("select",{className:"w-full flex-grow overflow-hidden bg-transparent text-sm text-grey-400 outline-none placeholder:overflow-visible placeholder:text-grey-400",defaultValue:a.index,onChange:r,children:a.data.map((o,l)=>P.jsxRuntimeExports.jsx("option",{value:l,children:o.name},o.name+l))})}),P.jsxRuntimeExports.jsx("div",{className:"w-full",children:P.jsxRuntimeExports.jsx(zK,{data:a})})]})});var $2={},u0={},Am=function(a){return a&&a.Math===Math&&a},ro=Am(typeof globalThis=="object"&&globalThis)||Am(typeof window=="object"&&window)||Am(typeof self=="object"&&self)||Am(typeof P.commonjsGlobal=="object"&&P.commonjsGlobal)||Am(typeof P.commonjsGlobal=="object"&&P.commonjsGlobal)||function(){return this}()||Function("return this")(),GK={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},zv=typeof document=="object"&&document.all,wi=typeof zv>"u"&&zv!==void 0?function(a){return typeof a=="function"||a===zv}:function(a){return typeof a=="function"},WK=wi,fl=function(a){return typeof a=="object"?a!==null:WK(a)},VK=ro,GN=fl,Ax=VK.document,HK=GN(Ax)&&GN(Ax.createElement),q2=function(a){return HK?Ax.createElement(a):{}},$K=q2,Uv=$K("span").classList,WN=Uv&&Uv.constructor&&Uv.constructor.prototype,qK=WN===Object.prototype?void 0:WN,Do=function(a){try{return!!a()}catch{return!0}},YK=Do,cE=!YK(function(){var a=(function(){}).bind();return typeof a!="function"||a.hasOwnProperty("prototype")}),hE=cE,uE=Function.prototype,Ex=uE.call,KK=hE&&uE.bind.bind(Ex,Ex),io=hE?KK:function(a){return function(){return Ex.apply(a,arguments)}},dE=io,ZK=dE({}.toString),JK=dE("".slice),mE=function(a){return JK(ZK(a),8,-1)},QK=io,eZ=Do,tZ=mE,Gv=Object,nZ=QK("".split),rZ=eZ(function(){return!Gv("z").propertyIsEnumerable(0)})?function(a){return tZ(a)==="String"?nZ(a,""):Gv(a)}:Gv,pE=function(a){return a==null},iZ=pE,oZ=TypeError,d0=function(a){if(iZ(a))throw new oZ("Can't call method on "+a);return a},aZ=rZ,sZ=d0,xp=function(a){return aZ(sZ(a))},fE={exports:{}},VN=ro,lZ=Object.defineProperty,Y2=function(a,e){try{lZ(VN,a,{value:e,configurable:!0,writable:!0})}catch{VN[a]=e}return e},cZ=ro,hZ=Y2,HN="__core-js_shared__",$N=fE.exports=cZ[HN]||hZ(HN,{});($N.versions||($N.versions=[])).push({version:"3.37.1",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"});var K2=fE.exports,qN=K2,gE=function(a,e){return qN[a]||(qN[a]=e||{})},uZ=d0,dZ=Object,bE=function(a){return dZ(uZ(a))},mZ=io,pZ=bE,fZ=mZ({}.hasOwnProperty),ss=Object.hasOwn||function(e,n){return fZ(pZ(e),n)},gZ=io,bZ=0,vZ=Math.random(),yZ=gZ(1 .toString),vE=function(a){return"Symbol("+(a===void 0?"":a)+")_"+yZ(++bZ+vZ,36)},xZ=typeof navigator<"u"&&String(navigator.userAgent)||"",yE=ro,Wv=xZ,YN=yE.process,KN=yE.Deno,ZN=YN&&YN.versions||KN&&KN.version,JN=ZN&&ZN.v8,Io,Fg;JN&&(Io=JN.split("."),Fg=Io[0]>0&&Io[0]<4?1:+(Io[0]+Io[1]));!Fg&&Wv&&(Io=Wv.match(/Edge\/(\d+)/),(!Io||Io[1]>=74)&&(Io=Wv.match(/Chrome\/(\d+)/),Io&&(Fg=+Io[1])));var CZ=Fg,QN=CZ,_Z=Do,TZ=ro,wZ=TZ.String,xE=!!Object.getOwnPropertySymbols&&!_Z(function(){var a=Symbol("symbol detection");return!wZ(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&QN&&QN<41}),NZ=xE,CE=NZ&&!Symbol.sham&&typeof Symbol.iterator=="symbol",MZ=ro,SZ=gE,eM=ss,AZ=vE,EZ=xE,IZ=CE,Nu=MZ.Symbol,Vv=SZ("wks"),RZ=IZ?Nu.for||Nu:Nu&&Nu.withoutSetter||AZ,gl=function(a){return eM(Vv,a)||(Vv[a]=EZ&&eM(Nu,a)?Nu[a]:RZ("Symbol."+a)),Vv[a]},PZ=fl,BZ=String,OZ=TypeError,m0=function(a){if(PZ(a))return a;throw new OZ(BZ(a)+" is not an object")},_E={},LZ=Do,ls=!LZ(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),jZ=ls,DZ=Do,TE=jZ&&DZ(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),bl={},FZ=ls,kZ=Do,XZ=q2,wE=!FZ&&!kZ(function(){return Object.defineProperty(XZ("div"),"a",{get:function(){return 7}}).a!==7}),zZ=cE,M1=Function.prototype.call,p0=zZ?M1.bind(M1):function(){return M1.apply(M1,arguments)},Hv=ro,UZ=wi,GZ=function(a){return UZ(a)?a:void 0},Z2=function(a,e){return arguments.length<2?GZ(Hv[a]):Hv[a]&&Hv[a][e]},WZ=io,VZ=WZ({}.isPrototypeOf),HZ=Z2,$Z=wi,qZ=VZ,YZ=CE,KZ=Object,NE=YZ?function(a){return typeof a=="symbol"}:function(a){var e=HZ("Symbol");return $Z(e)&&qZ(e.prototype,KZ(a))},ZZ=String,JZ=function(a){try{return ZZ(a)}catch{return"Object"}},QZ=wi,eJ=JZ,tJ=TypeError,ME=function(a){if(QZ(a))return a;throw new tJ(eJ(a)+" is not a function")},nJ=ME,rJ=pE,iJ=function(a,e){var n=a[e];return rJ(n)?void 0:nJ(n)},$v=p0,qv=wi,Yv=fl,oJ=TypeError,aJ=function(a,e){var n,r;if(e==="string"&&qv(n=a.toString)&&!Yv(r=$v(n,a))||qv(n=a.valueOf)&&!Yv(r=$v(n,a))||e!=="string"&&qv(n=a.toString)&&!Yv(r=$v(n,a)))return r;throw new oJ("Can't convert object to primitive value")},sJ=p0,tM=fl,nM=NE,lJ=iJ,cJ=aJ,hJ=gl,uJ=TypeError,dJ=hJ("toPrimitive"),mJ=function(a,e){if(!tM(a)||nM(a))return a;var n=lJ(a,dJ),r;if(n){if(e===void 0&&(e="default"),r=sJ(n,a,e),!tM(r)||nM(r))return r;throw new uJ("Can't convert object to primitive value")}return e===void 0&&(e="number"),cJ(a,e)},pJ=mJ,fJ=NE,SE=function(a){var e=pJ(a,"string");return fJ(e)?e:e+""},gJ=ls,bJ=wE,vJ=TE,S1=m0,rM=SE,yJ=TypeError,Kv=Object.defineProperty,xJ=Object.getOwnPropertyDescriptor,Zv="enumerable",Jv="configurable",Qv="writable";bl.f=gJ?vJ?function(e,n,r){if(S1(e),n=rM(n),S1(r),typeof e=="function"&&n==="prototype"&&"value"in r&&Qv in r&&!r[Qv]){var o=xJ(e,n);o&&o[Qv]&&(e[n]=r.value,r={configurable:Jv in r?r[Jv]:o[Jv],enumerable:Zv in r?r[Zv]:o[Zv],writable:!1})}return Kv(e,n,r)}:Kv:function(e,n,r){if(S1(e),n=rM(n),S1(r),bJ)try{return Kv(e,n,r)}catch{}if("get"in r||"set"in r)throw new yJ("Accessors not supported");return"value"in r&&(e[n]=r.value),e};var CJ=Math.ceil,_J=Math.floor,TJ=Math.trunc||function(e){var n=+e;return(n>0?_J:CJ)(n)},wJ=TJ,AE=function(a){var e=+a;return e!==e||e===0?0:wJ(e)},NJ=AE,MJ=Math.max,SJ=Math.min,AJ=function(a,e){var n=NJ(a);return n<0?MJ(n+e,0):SJ(n,e)},EJ=AE,IJ=Math.min,RJ=function(a){var e=EJ(a);return e>0?IJ(e,9007199254740991):0},PJ=RJ,BJ=function(a){return PJ(a.length)},OJ=xp,LJ=AJ,jJ=BJ,iM=function(a){return function(e,n,r){var o=OJ(e),l=jJ(o);if(l===0)return!a&&-1;var h=LJ(r,l),d;if(a&&n!==n){for(;l>h;)if(d=o[h++],d!==d)return!0}else for(;l>h;h++)if((a||h in o)&&o[h]===n)return a||h||0;return!a&&-1}},DJ={includes:iM(!0),indexOf:iM(!1)},J2={},FJ=io,ey=ss,kJ=xp,XJ=DJ.indexOf,zJ=J2,oM=FJ([].push),EE=function(a,e){var n=kJ(a),r=0,o=[],l;for(l in n)!ey(zJ,l)&&ey(n,l)&&oM(o,l);for(;e.length>r;)ey(n,l=e[r++])&&(~XJ(o,l)||oM(o,l));return o},Q2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],UJ=EE,GJ=Q2,WJ=Object.keys||function(e){return UJ(e,GJ)},VJ=ls,HJ=TE,$J=bl,qJ=m0,YJ=xp,KJ=WJ;_E.f=VJ&&!HJ?Object.defineProperties:function(e,n){qJ(e);for(var r=YJ(n),o=KJ(n),l=o.length,h=0,d;l>h;)$J.f(e,d=o[h++],r[d]);return e};var ZJ=Z2,JJ=ZJ("document","documentElement"),QJ=gE,eQ=vE,aM=QJ("keys"),eC=function(a){return aM[a]||(aM[a]=eQ(a))},tQ=m0,nQ=_E,sM=Q2,rQ=J2,iQ=JJ,oQ=q2,aQ=eC,lM=">",cM="<",Ix="prototype",Rx="script",IE=aQ("IE_PROTO"),ty=function(){},RE=function(a){return cM+Rx+lM+a+cM+"/"+Rx+lM},hM=function(a){a.write(RE("")),a.close();var e=a.parentWindow.Object;return a=null,e},sQ=function(){var a=oQ("iframe"),e="java"+Rx+":",n;return a.style.display="none",iQ.appendChild(a),a.src=String(e),n=a.contentWindow.document,n.open(),n.write(RE("document.F=Object")),n.close(),n.F},A1,_g=function(){try{A1=new ActiveXObject("htmlfile")}catch{}_g=typeof document<"u"?document.domain&&A1?hM(A1):sQ():hM(A1);for(var a=sM.length;a--;)delete _g[Ix][sM[a]];return _g()};rQ[IE]=!0;var PE=Object.create||function(e,n){var r;return e!==null?(ty[Ix]=tQ(e),r=new ty,ty[Ix]=null,r[IE]=e):r=_g(),n===void 0?r:nQ.f(r,n)},lQ=gl,cQ=PE,hQ=bl.f,Px=lQ("unscopables"),Bx=Array.prototype;Bx[Px]===void 0&&hQ(Bx,Px,{configurable:!0,value:cQ(null)});var uQ=function(a){Bx[Px][a]=!0},tC={},dQ=ro,mQ=wi,uM=dQ.WeakMap,pQ=mQ(uM)&&/native code/.test(String(uM)),nC=function(a,e){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:e}},fQ=ls,gQ=bl,bQ=nC,f0=fQ?function(a,e,n){return gQ.f(a,e,bQ(1,n))}:function(a,e,n){return a[e]=n,a},vQ=pQ,BE=ro,yQ=fl,xQ=f0,ny=ss,ry=K2,CQ=eC,_Q=J2,dM="Object already initialized",Ox=BE.TypeError,TQ=BE.WeakMap,kg,rp,Xg,wQ=function(a){return Xg(a)?rp(a):kg(a,{})},NQ=function(a){return function(e){var n;if(!yQ(e)||(n=rp(e)).type!==a)throw new Ox("Incompatible receiver, "+a+" required");return n}};if(vQ||ry.state){var ta=ry.state||(ry.state=new TQ);ta.get=ta.get,ta.has=ta.has,ta.set=ta.set,kg=function(a,e){if(ta.has(a))throw new Ox(dM);return e.facade=a,ta.set(a,e),e},rp=function(a){return ta.get(a)||{}},Xg=function(a){return ta.has(a)}}else{var Uh=CQ("state");_Q[Uh]=!0,kg=function(a,e){if(ny(a,Uh))throw new Ox(dM);return e.facade=a,xQ(a,Uh,e),e},rp=function(a){return ny(a,Uh)?a[Uh]:{}},Xg=function(a){return ny(a,Uh)}}var OE={set:kg,get:rp,has:Xg,enforce:wQ,getterFor:NQ},rC={},LE={},jE={}.propertyIsEnumerable,DE=Object.getOwnPropertyDescriptor,MQ=DE&&!jE.call({1:2},1);LE.f=MQ?function(e){var n=DE(this,e);return!!n&&n.enumerable}:jE;var SQ=ls,AQ=p0,EQ=LE,IQ=nC,RQ=xp,PQ=SE,BQ=ss,OQ=wE,mM=Object.getOwnPropertyDescriptor;rC.f=SQ?mM:function(e,n){if(e=RQ(e),n=PQ(n),OQ)try{return mM(e,n)}catch{}if(BQ(e,n))return IQ(!AQ(EQ.f,e,n),e[n])};var FE={exports:{}},Lx=ls,LQ=ss,kE=Function.prototype,jQ=Lx&&Object.getOwnPropertyDescriptor,iC=LQ(kE,"name"),DQ=iC&&(function(){}).name==="something",FQ=iC&&(!Lx||Lx&&jQ(kE,"name").configurable),XE={EXISTS:iC,PROPER:DQ,CONFIGURABLE:FQ},kQ=io,XQ=wi,jx=K2,zQ=kQ(Function.toString);XQ(jx.inspectSource)||(jx.inspectSource=function(a){return zQ(a)});var UQ=jx.inspectSource,oC=io,GQ=Do,WQ=wi,E1=ss,Dx=ls,VQ=XE.CONFIGURABLE,HQ=UQ,zE=OE,$Q=zE.enforce,qQ=zE.get,pM=String,Tg=Object.defineProperty,YQ=oC("".slice),KQ=oC("".replace),ZQ=oC([].join),JQ=Dx&&!GQ(function(){return Tg(function(){},"length",{value:8}).length!==8}),QQ=String(String).split("String"),eee=FE.exports=function(a,e,n){YQ(pM(e),0,7)==="Symbol("&&(e="["+KQ(pM(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!E1(a,"name")||VQ&&a.name!==e)&&(Dx?Tg(a,"name",{value:e,configurable:!0}):a.name=e),JQ&&n&&E1(n,"arity")&&a.length!==n.arity&&Tg(a,"length",{value:n.arity});try{n&&E1(n,"constructor")&&n.constructor?Dx&&Tg(a,"prototype",{writable:!1}):a.prototype&&(a.prototype=void 0)}catch{}var r=$Q(a);return E1(r,"source")||(r.source=ZQ(QQ,typeof e=="string"?e:"")),a};Function.prototype.toString=eee(function(){return WQ(this)&&qQ(this).source||HQ(this)},"toString");var tee=FE.exports,nee=wi,ree=bl,iee=tee,oee=Y2,aC=function(a,e,n,r){r||(r={});var o=r.enumerable,l=r.name!==void 0?r.name:e;if(nee(n)&&iee(n,l,r),r.global)o?a[e]=n:oee(e,n);else{try{r.unsafe?a[e]&&(o=!0):delete a[e]}catch{}o?a[e]=n:ree.f(a,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return a},UE={},aee=EE,see=Q2,lee=see.concat("length","prototype");UE.f=Object.getOwnPropertyNames||function(e){return aee(e,lee)};var GE={};GE.f=Object.getOwnPropertySymbols;var cee=Z2,hee=io,uee=UE,dee=GE,mee=m0,pee=hee([].concat),fee=cee("Reflect","ownKeys")||function(e){var n=uee.f(mee(e)),r=dee.f;return r?pee(n,r(e)):n},fM=ss,gee=fee,bee=rC,vee=bl,yee=function(a,e,n){for(var r=gee(e),o=vee.f,l=bee.f,h=0;h<r.length;h++){var d=r[h];!fM(a,d)&&!(n&&fM(n,d))&&o(a,d,l(e,d))}},xee=Do,Cee=wi,_ee=/#|\.prototype\./,Cp=function(a,e){var n=wee[Tee(a)];return n===Mee?!0:n===Nee?!1:Cee(e)?xee(e):!!e},Tee=Cp.normalize=function(a){return String(a).replace(_ee,".").toLowerCase()},wee=Cp.data={},Nee=Cp.NATIVE="N",Mee=Cp.POLYFILL="P",See=Cp,I1=ro,Aee=rC.f,Eee=f0,Iee=aC,Ree=Y2,Pee=yee,Bee=See,WE=function(a,e){var n=a.target,r=a.global,o=a.stat,l,h,d,p,g,v;if(r?h=I1:o?h=I1[n]||Ree(n,{}):h=I1[n]&&I1[n].prototype,h)for(d in e){if(g=e[d],a.dontCallGetSet?(v=Aee(h,d),p=v&&v.value):p=h[d],l=Bee(r?d:n+(o?".":"#")+d,a.forced),!l&&p!==void 0){if(typeof g==typeof p)continue;Pee(g,p)}(a.sham||p&&p.sham)&&Eee(g,"sham",!0),Iee(h,d,g,a)}},Oee=Do,Lee=!Oee(function(){function a(){}return a.prototype.constructor=null,Object.getPrototypeOf(new a)!==a.prototype}),jee=ss,Dee=wi,Fee=bE,kee=eC,Xee=Lee,gM=kee("IE_PROTO"),Fx=Object,zee=Fx.prototype,VE=Xee?Fx.getPrototypeOf:function(a){var e=Fee(a);if(jee(e,gM))return e[gM];var n=e.constructor;return Dee(n)&&e instanceof n?n.prototype:e instanceof Fx?zee:null},Uee=Do,Gee=wi,Wee=fl,bM=VE,Vee=aC,Hee=gl,kx=Hee("iterator"),HE=!1,kc,iy,oy;[].keys&&(oy=[].keys(),"next"in oy?(iy=bM(bM(oy)),iy!==Object.prototype&&(kc=iy)):HE=!0);var $ee=!Wee(kc)||Uee(function(){var a={};return kc[kx].call(a)!==a});$ee&&(kc={});Gee(kc[kx])||Vee(kc,kx,function(){return this});var $E={IteratorPrototype:kc,BUGGY_SAFARI_ITERATORS:HE},qee=bl.f,Yee=ss,Kee=gl,vM=Kee("toStringTag"),sC=function(a,e,n){a&&!n&&(a=a.prototype),a&&!Yee(a,vM)&&qee(a,vM,{configurable:!0,value:e})},Zee=$E.IteratorPrototype,Jee=PE,Qee=nC,ete=sC,tte=tC,nte=function(){return this},rte=function(a,e,n,r){var o=e+" Iterator";return a.prototype=Jee(Zee,{next:Qee(+!r,n)}),ete(a,o,!1),tte[o]=nte,a},ite=io,ote=ME,ate=function(a,e,n){try{return ite(ote(Object.getOwnPropertyDescriptor(a,e)[n]))}catch{}},ste=fl,lte=function(a){return ste(a)||a===null},cte=lte,hte=String,ute=TypeError,dte=function(a){if(cte(a))return a;throw new ute("Can't set "+hte(a)+" as a prototype")},mte=ate,pte=fl,fte=d0,gte=dte,bte=Object.setPrototypeOf||("__proto__"in{}?function(){var a=!1,e={},n;try{n=mte(Object.prototype,"__proto__","set"),n(e,[]),a=e instanceof Array}catch{}return function(o,l){return fte(o),gte(l),pte(o)&&(a?n(o,l):o.__proto__=l),o}}():void 0),vte=WE,yte=p0,qE=XE,xte=wi,Cte=rte,yM=VE,xM=bte,_te=sC,Tte=f0,ay=aC,wte=gl,Nte=tC,YE=$E,Mte=qE.PROPER,Ste=qE.CONFIGURABLE,CM=YE.IteratorPrototype,R1=YE.BUGGY_SAFARI_ITERATORS,Em=wte("iterator"),_M="keys",Im="values",TM="entries",Ate=function(){return this},Ete=function(a,e,n,r,o,l,h){Cte(n,e,r);var d=function(j){if(j===o&&x)return x;if(!R1&&j&&j in v)return v[j];switch(j){case _M:return function(){return new n(this,j)};case Im:return function(){return new n(this,j)};case TM:return function(){return new n(this,j)}}return function(){return new n(this)}},p=e+" Iterator",g=!1,v=a.prototype,y=v[Em]||v["@@iterator"]||o&&v[o],x=!R1&&y||d(o),T=e==="Array"&&v.entries||y,w,M,S;if(T&&(w=yM(T.call(new a)),w!==Object.prototype&&w.next&&(yM(w)!==CM&&(xM?xM(w,CM):xte(w[Em])||ay(w,Em,Ate)),_te(w,p,!0))),Mte&&o===Im&&y&&y.name!==Im&&(Ste?Tte(v,"name",Im):(g=!0,x=function(){return yte(y,this)})),o)if(M={values:d(Im),keys:l?x:d(_M),entries:d(TM)},h)for(S in M)(R1||g||!(S in v))&&ay(v,S,M[S]);else vte({target:e,proto:!0,forced:R1||g},M);return v[Em]!==x&&ay(v,Em,x,{name:o}),Nte[e]=x,M},Ite=function(a,e){return{value:a,done:e}},Rte=xp,lC=uQ,wM=tC,KE=OE,Pte=bl.f,Bte=Ete,P1=Ite,Ote=ls,ZE="Array Iterator",Lte=KE.set,jte=KE.getterFor(ZE),Dte=Bte(Array,"Array",function(a,e){Lte(this,{type:ZE,target:Rte(a),index:0,kind:e})},function(){var a=jte(this),e=a.target,n=a.index++;if(!e||n>=e.length)return a.target=void 0,P1(void 0,!0);switch(a.kind){case"keys":return P1(n,!1);case"values":return P1(e[n],!1)}return P1([n,e[n]],!1)},"values"),NM=wM.Arguments=wM.Array;lC("keys");lC("values");lC("entries");if(Ote&&NM.name!=="values")try{Pte(NM,"name",{value:"values"})}catch{}var MM=ro,JE=GK,Fte=qK,Ym=Dte,SM=f0,kte=sC,Xte=gl,sy=Xte("iterator"),ly=Ym.values,QE=function(a,e){if(a){if(a[sy]!==ly)try{SM(a,sy,ly)}catch{a[sy]=ly}if(kte(a,e,!0),JE[e]){for(var n in Ym)if(a[n]!==Ym[n])try{SM(a,n,Ym[n])}catch{a[n]=Ym[n]}}}};for(var cy in JE)QE(MM[cy]&&MM[cy].prototype,cy);QE(Fte,"DOMTokenList");var zte=gl,Ute=zte("toStringTag"),eI={};eI[Ute]="z";var Gte=String(eI)==="[object z]",Wte=Gte,Vte=wi,wg=mE,Hte=gl,$te=Hte("toStringTag"),qte=Object,Yte=wg(function(){return arguments}())==="Arguments",Kte=function(a,e){try{return a[e]}catch{}},Zte=Wte?wg:function(a){var e,n,r;return a===void 0?"Undefined":a===null?"Null":typeof(n=Kte(e=qte(a),$te))=="string"?n:Yte?wg(e):(r=wg(e))==="Object"&&Vte(e.callee)?"Arguments":r},Jte=Zte,Qte=String,tI=function(a){if(Jte(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Qte(a)},nI=`	
\v\f\r                　\u2028\u2029\uFEFF`,ene=io,tne=d0,nne=tI,Xx=nI,AM=ene("".replace),rne=RegExp("^["+Xx+"]+"),ine=RegExp("(^|[^"+Xx+"])["+Xx+"]+$"),hy=function(a){return function(e){var n=nne(tne(e));return a&1&&(n=AM(n,rne,"")),a&2&&(n=AM(n,ine,"$1")),n}},one={start:hy(1),end:hy(2),trim:hy(3)},rI=ro,ane=Do,sne=io,lne=tI,cne=one.trim,hne=nI,une=sne("".charAt),zg=rI.parseFloat,EM=rI.Symbol,IM=EM&&EM.iterator,dne=1/zg(hne+"-0")!==-1/0||IM&&!ane(function(){zg(Object(IM))}),mne=dne?function(e){var n=cne(lne(e)),r=zg(n);return r===0&&une(n,0)==="-"?-0:r}:zg,pne=WE,RM=mne;pne({global:!0,forced:parseFloat!==RM},{parseFloat:RM});function iI(a){var e,n,r="";if(typeof a=="string"||typeof a=="number")r+=a;else if(typeof a=="object")if(Array.isArray(a))for(e=0;e<a.length;e++)a[e]&&(n=iI(a[e]))&&(r&&(r+=" "),r+=n);else for(e in a)a[e]&&(r&&(r+=" "),r+=e);return r}function PM(){for(var a,e,n=0,r="";n<arguments.length;)(a=arguments[n++])&&(e=iI(a))&&(r&&(r+=" "),r+=e);return r}const fne=Object.freeze(Object.defineProperty({__proto__:null,clsx:PM,default:PM},Symbol.toStringTag,{value:"Module"})),gne=P.getAugmentedNamespace(fne);Object.defineProperty(u0,"__esModule",{value:!0});u0.default=void 0;var Pi=yne(P.requireReact()),bne=vne(gne);function vne(a){return a&&a.__esModule?a:{default:a}}function oI(a){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(oI=function(o){return o?n:e})(a)}function yne(a,e){if(a&&a.__esModule)return a;if(a===null||typeof a!="object"&&typeof a!="function")return{default:a};var n=oI(e);if(n&&n.has(a))return n.get(a);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in a)if(l!=="default"&&Object.prototype.hasOwnProperty.call(a,l)){var h=o?Object.getOwnPropertyDescriptor(a,l):null;h&&(h.get||h.set)?Object.defineProperty(r,l,h):r[l]=a[l]}return r.default=a,n&&n.set(a,r),r}const BM=Math.abs,uy=parseFloat,Rm="min",B1="max",dy="any",OM="vertical",LM="tabindex",jM="data-lower",DM="data-upper",O1="data-active",FM="data-vertical",L1="data-disabled";class xne extends Pi.PureComponent{constructor(){super(),this.element=(0,Pi.createRef)(),this.input=[(0,Pi.createRef)(),(0,Pi.createRef)()],this.thumb=[(0,Pi.createRef)(),(0,Pi.createRef)()],this.range=(0,Pi.createRef)(),this.options={},this.firstCall=!0,this.isControlled=!1,this.externalInput=!1,this.isComponentMounted=!1,this.lastValueProp=[]}componentDidMount(){this.isComponentMounted||(this.value=this.setMinMaxProps(),this.index=this.setMinMaxProps(0,1),this.thumbWidth=this.setMinMaxProps(),this.thumbHeight=this.setMinMaxProps(),this.rangeLimits=this.setMinMaxProps(),this.sliderValue=this.setMinMaxProps(),this.maxRangeWidth=0,this.rangeWidth=0,this.isDragging=!1,this.thumbDrag=!1,this.startPos=0,this.reset(),this.addNodeEventListener(this.element.current,"pointerdown",e=>{this.elementFocused(e)}),this.thumb.forEach((e,n)=>{this.addNodeEventListener(e.current,"pointerdown",r=>{this.initiateThumbDrag(r,n,e.current)}),this.addNodeEventListener(e.current,"keydown",r=>{r.which>=37&&r.which<=40&&(r.preventDefault(),this.stepValue(n,r.which))})}),this.addNodeEventListener(this.range.current,"pointerdown",e=>{this.initiateRangeDrag(e)}),this.pointerMoveEvent=e=>{this.drag(e)},this.pointerUpEvent=()=>{this.isDragging&&(this.removeNodeAttribute(this.thumb[0].current,O1),this.removeNodeAttribute(this.thumb[1].current,O1),this.removeNodeAttribute(this.range.current,O1),this.isDragging=!1,this.thumbDrag?this.options.onThumbDragEnd&&this.options.onThumbDragEnd():this.options.onRangeDragEnd&&this.options.onRangeDragEnd())},this.resizeEvent=()=>{this.syncThumbDimensions(),this.updateThumbs(),this.updateRange()},this.addNodeEventListener(document,"pointermove",this.pointerMoveEvent),this.addNodeEventListener(document,"pointerup",this.pointerUpEvent),this.addNodeEventListener(window,"resize",this.resizeEvent),this.isComponentMounted=!0)}componentDidUpdate(){this.reset()}componentWillUnmount(){this.removeNodeEventListener(document,"pointermove",this.pointerMoveEvent),this.removeNodeEventListener(document,"pointerup",this.pointerUpEvent),this.removeNodeEventListener(window,"resize",this.resizeEvent),this.isComponentMounted=!1}reset(){this.isControlled=!!this.props.value,this.isControlled&&((this.firstCall||this.props.value!==this.lastValueProp)&&(this.firstCall=!1,this.externalInput=!0),this.lastValueProp=this.props.value),this.maxRangeWidth=this.options.max-this.options.min,this.updateOrientation(),this.setValue("",!0,!1),this.updateRangeLimits(),this.updateDisabledState(),this.updateThumbsDisabledState(),this.updateTabIndexes()}isNumber(e){return!isNaN(e)&&+e+""==e+""}setMinMaxProps(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{min:e,max:n}}iterateMinMaxProps(e){[Rm,B1].forEach(e)}getSetProps(e,n,r){if(e)return n;r()}setNodeAttribute(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";e.setAttribute(n,r)}removeNodeAttribute(e,n){e.removeAttribute(n)}addNodeEventListener(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;e.addEventListener(n,r,o?{passive:!1,capture:!0}:{})}removeNodeEventListener(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;e.removeEventListener(n,r,o?{passive:!1,capture:!0}:{})}fallbackToDefault(e,n){this.options[e]=this.props[e]?this.props[e]:n}ifVerticalElse(e,n){return this.options.orientation===OM?e:n}currentIndex(e){return e===1?this.index.max:this.index.min}safeMinMaxValues(){let e=!1;(!this.isNumber(this.options.min)||!this.isNumber(this.options.max))&&(e=!0),this.options.min=e?1:+this.options.min,this.options.max=e?1:+this.options.max}safeThumbsDisabledValues(){this.options.thumbsDisabled instanceof Array?(this.options.thumbsDisabled.length===1&&this.options.thumbsDisabled.push(!1),this.options.thumbsDisabled.length!==1&&this.options.thumbsDisabled.length!==2&&(this.options.thumbsDisabled=[!1,!1])):this.options.thumbsDisabled=[this.options.thumbsDisabled,this.options.thumbsDisabled],this.options.thumbsDisabled[0]=!!this.options.thumbsDisabled[0],this.options.thumbsDisabled[1]=!!this.options.thumbsDisabled[1]}setValue(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const o=this.setMinMaxProps(this.input[0].current.value,this.input[1].current.value);e=e||o,this.input[this.index.min].current.value=e.min,this.input[this.index.max].current.value=this.thumbDrag||n?e.max:e.min+this.rangeWidth,this.syncValues(),this.value.min>this.value.max&&(this.index.min=+!this.index.min,this.index.max=+!this.index.max,this.removeNodeAttribute(this.thumb[this.index.min].current,DM),this.removeNodeAttribute(this.thumb[this.index.max].current,jM),this.setNodeAttribute(this.thumb[this.index.min].current,jM),this.setNodeAttribute(this.thumb[this.index.max].current,DM),this.thumbDrag&&(this.thumbDrag=this.thumbDrag===Rm?B1:Rm),this.syncValues()),this.sliderValue=n?this.value:e;let l=!1;(o.min!==this.input[0].current.value||n)&&(l=!0),(o.max!==this.input[1].current.value||n)&&(l=!0),l&&(r&&this.options.onInput&&this.options.onInput([this.value.min,this.value.max]),(!this.isControlled||this.externalInput)&&(this.externalInput=!1,this.syncThumbDimensions(),this.updateThumbs(),this.updateRange(),this.updateAriaValueAttributes()))}syncValues(){this.iterateMinMaxProps(e=>{this.value[e]=+this.input[this.index[e]].current.value})}updateThumbs(){this.iterateMinMaxProps(e=>{this.thumb[this.index[e]].current.style[this.ifVerticalElse("top","left")]="calc(".concat((this.value[e]-this.options.min)/this.maxRangeWidth*100,"% + ").concat((.5-(this.value[e]-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth)[e],"px)")})}updateRange(){const e=this.element.current.getBoundingClientRect(),n=(.5-(this.value.min-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth).min/this.ifVerticalElse(e.bottom-e.top,e.right-e.left),r=(.5-(this.value.max-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth).max/this.ifVerticalElse(e.bottom-e.top,e.right-e.left);this.range.current.style[this.ifVerticalElse("top","left")]="".concat(((this.value.min-this.options.min)/this.maxRangeWidth+n)*100,"%"),this.range.current.style[this.ifVerticalElse("height","width")]="".concat(((this.value.max-this.options.min)/this.maxRangeWidth-(this.value.min-this.options.min)/this.maxRangeWidth-n+r)*100,"%")}updateRangeLimits(){this.iterateMinMaxProps((e,n)=>{this.rangeLimits[e]=this.options.thumbsDisabled[n]?this.value[e]:this.options[e]})}updateTabIndexes(){this.iterateMinMaxProps((e,n)=>{!this.options.disabled&&!this.options.thumbsDisabled[n]?this.setNodeAttribute(this.thumb[this.currentIndex(n)].current,LM,0):this.removeNodeAttribute(this.thumb[this.currentIndex(n)].current,LM)})}updateAriaValueAttributes(){this.iterateMinMaxProps(e=>{this.setNodeAttribute(this.thumb[this.index[e]].current,"aria-valuemin",this.options.min),this.setNodeAttribute(this.thumb[this.index[e]].current,"aria-valuemax",this.options.max),this.setNodeAttribute(this.thumb[this.index[e]].current,"aria-valuenow",this.value[e]),this.setNodeAttribute(this.thumb[this.index[e]].current,"aria-valuetext",this.value[e])})}updateDisabledState(){this.options.disabled?this.setNodeAttribute(this.element.current,L1):this.removeNodeAttribute(this.element.current,L1)}updateThumbsDisabledState(){this.options.thumbsDisabled.forEach((e,n)=>{const r=this.currentIndex(n);e?(this.setNodeAttribute(this.thumb[r].current,L1),this.setNodeAttribute(this.thumb[r].current,"aria-disabled",!0)):(this.removeNodeAttribute(this.thumb[r].current,L1),this.setNodeAttribute(this.thumb[r].current,"aria-disabled",!1))})}updateLimits(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.options[e]=n,this.safeMinMaxValues(),this.iterateMinMaxProps(r=>{this.input[0].current[r]=this.options[r],this.input[1].current[r]=this.options[r]}),this.maxRangeWidth=this.options.max-this.options.min,this.setValue("",!0),this.updateRangeLimits()}updateOrientation(){this.options.orientation===OM?this.setNodeAttribute(this.element.current,FM):this.removeNodeAttribute(this.element.current,FM),this.range.current.style[this.ifVerticalElse("left","top")]="",this.range.current.style[this.ifVerticalElse("width","height")]="",this.thumb[0].current.style[this.ifVerticalElse("left","top")]="",this.thumb[1].current.style[this.ifVerticalElse("left","top")]=""}syncThumbDimensions(){this.iterateMinMaxProps(e=>{this.thumbWidth[e]=uy(window.getComputedStyle(this.thumb[this.index[e]].current).width),this.thumbHeight[e]=uy(window.getComputedStyle(this.thumb[this.index[e]].current).height)})}currentPosition(e,n){const r=this.element.current.getBoundingClientRect(),o=n.getBoundingClientRect(),l=(this.ifVerticalElse(o.top-r.top,o.left-r.left)+(e["client".concat(this.ifVerticalElse("Y","X"))]-n.getBoundingClientRect()[this.ifVerticalElse("top","left")])-(this.thumbDrag?(.5-(this.value[this.thumbDrag]-this.options.min)/this.maxRangeWidth)*this.ifVerticalElse(this.thumbHeight,this.thumbWidth)[this.thumbDrag]:0))/this.ifVerticalElse(r.bottom-r.top,r.right-r.left)*this.maxRangeWidth+this.options.min;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l}doesntHaveClassName(e,n){return!e.target.classList.contains(n)}elementFocused(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=!1;if(!this.options.disabled&&(this.doesntHaveClassName(e,"range-slider__thumb")&&this.doesntHaveClassName(e,"range-slider__range")||this.options.rangeSlideDisabled&&this.doesntHaveClassName(e,"range-slider__thumb"))&&(r=!0),r&&this.options.thumbsDisabled[0]&&this.options.thumbsDisabled[1]&&(r=!1),r){const o=this.currentPosition(e,this.range.current),l=BM(this.value.min-o),h=BM(this.value.max-o);if(this.options.thumbsDisabled[0])o>=this.value.min&&(this.setValue(this.setMinMaxProps(this.value.min,o),!0,!n),this.initiateThumbDrag(e,this.index.max,this.thumb[this.index.max].current,!n));else if(this.options.thumbsDisabled[1])o<=this.value.max&&(this.setValue(this.setMinMaxProps(o,this.value.max),!0,!n),this.initiateThumbDrag(e,this.index.min,this.thumb[this.index.min].current,!n));else{let d=this.index.max;l===h?this.setValue(this.setMinMaxProps(this.value.min,o),!0,!n):(this.setValue(this.setMinMaxProps(l<h?o:this.value.min,h<l?o:this.value.max),!0,!n),d=l<h?this.index.min:this.index.max),this.initiateThumbDrag(e,d,this.thumb[d].current,!n)}n&&this.elementFocused(e,!1)}}initiateDrag(e,n){this.syncThumbDimensions(),this.setNodeAttribute(n,O1),this.startPos=this.currentPosition(e,n),this.isDragging=!0}initiateThumbDrag(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;!this.options.disabled&&!this.options.thumbsDisabled[this.currentIndex(n)]&&(this.initiateDrag(e,r),this.thumbDrag=this.index.min===n?Rm:B1,o&&this.options.onThumbDragStart&&this.options.onThumbDragStart())}initiateRangeDrag(e){!this.options.disabled&&!this.options.rangeSlideDisabled&&(this.initiateDrag(e,this.range.current),this.rangeWidth=this.value.max-this.value.min,this.thumbDrag=!1,this.options.onRangeDragStart&&this.options.onRangeDragStart())}drag(e){if(this.isDragging){const n=this.currentPosition(e,this.range.current),r=n-this.startPos;let o=this.value.min,l=this.value.max;const h=this.thumbDrag?this.rangeLimits.min:this.options.min,d=this.thumbDrag?this.rangeLimits.max:this.options.max;(!this.thumbDrag||this.thumbDrag===Rm)&&(o=this.thumbDrag?n:this.sliderValue.min+r),(!this.thumbDrag||this.thumbDrag===B1)&&(l=this.thumbDrag?n:this.sliderValue.max+r),o>=h&&o<=d&&l>=h&&l<=d?(this.setValue({min:o,max:l}),this.startPos=n):(o>d&&this.thumbDrag&&(this.setValue(this.setMinMaxProps(d,d)),this.startPos=n),l<h&&this.thumbDrag&&(this.setValue(this.setMinMaxProps(h,h)),this.startPos=n),o<h&&(this.thumbDrag?this.setValue(this.setMinMaxProps(h,this.value.max)):this.setValue(this.setMinMaxProps(h,this.value.max-this.value.min+h)),this.startPos=n),l>d&&(this.thumbDrag?this.setValue(this.setMinMaxProps(this.value.min,d)):this.setValue(this.setMinMaxProps(this.value.min-this.value.max+d,d)),this.startPos=n)),this.thumbDrag||this.updateRangeLimits()}}actualStepValue(){const e=uy(this.input[0].current.step);return this.input[0].current.step===dy?dy:e===0||isNaN(e)?1:e}stepValue(e,n){const r=(n===37||n===40?-1:1)*this.ifVerticalElse(-1,1);if(!this.options.disabled&&!this.options.thumbsDisabled[this.currentIndex(e)]){let o=this.actualStepValue();o=o===dy?1:o;let l=this.value.min+o*(this.index.min===e?r:0),h=this.value.max+o*(this.index.max===e?r:0);l>this.rangeLimits.max&&(l=this.rangeLimits.max),h<this.rangeLimits.min&&(h=this.rangeLimits.min),this.setValue({min:l,max:h},!0)}}render(){return this.fallbackToDefault("rangeSlideDisabled",!1),this.fallbackToDefault("thumbsDisabled",[!1,!1]),this.fallbackToDefault("orientation","horizontal"),this.fallbackToDefault("defaultValue",[25,75]),this.fallbackToDefault("disabled",!1),this.fallbackToDefault("onThumbDragStart",!1),this.fallbackToDefault("onRangeDragStart",!1),this.fallbackToDefault("onThumbDragEnd",!1),this.fallbackToDefault("onRangeDragEnd",!1),this.fallbackToDefault("onInput",!1),this.fallbackToDefault("step",1),this.fallbackToDefault("min",0),this.fallbackToDefault("max",100),this.props.value&&this.fallbackToDefault("value",[25,75]),this.safeMinMaxValues(),this.safeThumbsDisabledValues(),Pi.default.createElement("div",{"data-testid":"element",id:this.props.id,ref:this.element,className:(0,bne.default)("range-slider",this.props.className)},Pi.default.createElement("input",{ref:this.input[0],type:"range",min:this.options.min,max:this.options.max,step:this.options.step,value:this.props.value?this.options.value[0]:this.isComponentMounted?this.value.min:this.options.defaultValue[0],onChange:()=>{},disabled:!0}),Pi.default.createElement("input",{ref:this.input[1],type:"range",min:this.options.min,max:this.options.max,step:this.options.step,value:this.props.value?this.options.value[1]:this.isComponentMounted?this.value.max:this.options.defaultValue[1],onChange:()=>{},disabled:!0}),Pi.default.createElement("div",{ref:this.thumb[0],role:"slider",className:"range-slider__thumb","data-lower":!0}),Pi.default.createElement("div",{ref:this.thumb[1],role:"slider",className:"range-slider__thumb","data-upper":!0}),Pi.default.createElement("div",{ref:this.range,className:"range-slider__range"}))}}var Cne=xne;u0.default=Cne;Object.defineProperty($2,"__esModule",{value:!0});var aI=$2.default=void 0,_ne=Tne(u0);function Tne(a){return a&&a.__esModule?a:{default:a}}var wne=_ne.default;aI=$2.default=wne;function Nne(a,e,n){var r=this,o=P.reactExports.useRef(null),l=P.reactExports.useRef(0),h=P.reactExports.useRef(null),d=P.reactExports.useRef([]),p=P.reactExports.useRef(),g=P.reactExports.useRef(),v=P.reactExports.useRef(a),y=P.reactExports.useRef(!0);v.current=a;var x=typeof window<"u",T=!e&&e!==0&&x;if(typeof a!="function")throw new TypeError("Expected a function");e=+e||0;var w=!!(n=n||{}).leading,M=!("trailing"in n)||!!n.trailing,S="maxWait"in n,j="debounceOnServer"in n&&!!n.debounceOnServer,k=S?Math.max(+n.maxWait||0,e):null;P.reactExports.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var W=P.reactExports.useMemo(function(){var q=function(re){var se=d.current,oe=p.current;return d.current=p.current=null,l.current=re,g.current=v.current.apply(oe,se)},Z=function(re,se){T&&cancelAnimationFrame(h.current),h.current=T?requestAnimationFrame(re):setTimeout(re,se)},Y=function(re){if(!y.current)return!1;var se=re-o.current;return!o.current||se>=e||se<0||S&&re-l.current>=k},he=function(re){return h.current=null,M&&d.current?q(re):(d.current=p.current=null,g.current)},ae=function re(){var se=Date.now();if(Y(se))return he(se);if(y.current){var oe=e-(se-o.current),Q=S?Math.min(oe,k-(se-l.current)):oe;Z(re,Q)}},ve=function(){if(x||j){var re=Date.now(),se=Y(re);if(d.current=[].slice.call(arguments),p.current=r,o.current=re,se){if(!h.current&&y.current)return l.current=o.current,Z(ae,e),w?q(o.current):g.current;if(S)return Z(ae,e),q(o.current)}return h.current||Z(ae,e),g.current}};return ve.cancel=function(){h.current&&(T?cancelAnimationFrame(h.current):clearTimeout(h.current)),l.current=0,d.current=o.current=p.current=h.current=null},ve.isPending=function(){return!!h.current},ve.flush=function(){return h.current?he(Date.now()):g.current},ve},[w,S,e,k,M,T,x,j]);return W}function Mne(a,e){return a===e}function Sne(a,e){return e}function Ane(a,e,n){var r=Mne,o=P.reactExports.useReducer(Sne,a),l=o[0],h=o[1],d=Nne(P.reactExports.useCallback(function(g){return h(g)},[h]),e,n),p=P.reactExports.useRef(a);return r(p.current,a)||(d(a),p.current=a),[l,d]}const Ene=P.reactExports.memo(()=>P.jsxRuntimeExports.jsx("div",{className:"flex h-5 items-center rounded-xl bg-grey-700 px-2 text-xs text-grey-100 hover:bg-primary-700 hover:text-primary-300 disabled:bg-grey-700 disabled:text-grey-900",children:"Reset"})),Ine=P.reactExports.memo(({data:a})=>{var M;const[e,n]=P.reactExports.useContext(P.Context),r=(M=e[P.ActionType.GUI_Slider])==null?void 0:M.data,o=P.reactExports.useRef(null),{name:l,defaultValue:h,min:d,max:p}=a,[g]=eo(l,l),[v,y]=P.reactExports.useState(h/(p-d)),[x]=Ane(v,300),T=([,S])=>{y(S)},w=S=>{const j=Number(S.target.value)/(p-d);y(j)};return P.reactExports.useEffect(()=>{o.current&&(o.current.value=String((d+p*v).toFixed(2)))},[v]),P.reactExports.useEffect(()=>{if(r){const S=[...r].map(j=>(j.name===l&&(j.value=x),j));n({type:P.ActionType.GUI_Slider,state:{data:S}})}},[x]),P.jsxRuntimeExports.jsxs("div",{className:"flex w-full flex-col space-y-0 text-sm font-bold text-white",children:[P.jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center space-x-2",children:[P.jsxRuntimeExports.jsx("span",{children:g}),P.jsxRuntimeExports.jsx(ri,{disabled:h/(p-d)===v,onClick:()=>{y(h/(p-d))},children:P.jsxRuntimeExports.jsx(Ene,{})})]}),P.jsxRuntimeExports.jsxs("div",{className:"flex w-full items-center space-x-4",children:[P.jsxRuntimeExports.jsx("div",{className:"flex-1",children:P.jsxRuntimeExports.jsx(aI,{value:[0,v],onInput:T,min:0,max:1,step:.01,className:"single-thumb",defaultValue:[0,h/(p-d)],thumbsDisabled:[!0,!1],rangeSlideDisabled:!0})}),P.jsxRuntimeExports.jsx("div",{className:"flex h-9 w-20 items-center gap-x-1 rounded border border-grey-700 bg-grey-900 px-2",children:P.jsxRuntimeExports.jsx("input",{ref:o,type:"number",defaultValue:h,className:"h-full w-full flex-grow bg-transparent text-grey-250 outline-none placeholder:text-grey-400",max:p,min:d,step:p/100,onChange:w})})]})]})}),Rne=P.reactExports.memo(({data:a})=>{const[,e]=P.reactExports.useContext(P.Context),[n]=eo(a.name,a.name),r=o=>{e({type:P.ActionType.GUI_temperature,state:{index:parseInt(o.target.value)}})};return P.jsxRuntimeExports.jsxs("div",{className:"w-full",children:[P.jsxRuntimeExports.jsx("h5",{className:"mb-2 text-base font-bold text-white",children:n}),P.jsxRuntimeExports.jsx("div",{className:"my-4 flex h-11 w-full items-center rounded border border-grey-700 px-4",children:P.jsxRuntimeExports.jsx("select",{className:"w-full flex-grow overflow-hidden bg-transparent text-sm text-grey-400 outline-none placeholder:overflow-visible placeholder:text-grey-400",defaultValue:a.index,onChange:r,children:a.data.map((o,l)=>P.jsxRuntimeExports.jsx("option",{value:l,children:o.name},o.name+l))})})]})}),j1={Slider:Ine,Color:XK,Panorama:UK,Temperature:Rne},Pne=P.reactExports.memo(({title:a})=>{const[e,n]=P.reactExports.useContext(ju),{drawer:r}=e;return P.jsxRuntimeExports.jsx("div",{className:"absolute -right-0 -top-10 flex h-10 w-72 items-center justify-center rounded border-y border-l border-r border-grey-800 bg-grey-900 md:-right-5 md:-top-0 md:h-[108px] md:w-8 md:rounded-r-[20px] md:border-y-0 md:border-l-0",children:P.jsxRuntimeExports.jsxs(ri,{className:"flex h-full w-full items-center justify-between px-5 text-white hover:text-primary-400 md:w-8 md:p-0",onClick:()=>n(o=>({...o,drawer:o.drawer===jc.Open?jc.Close:jc.Open})),children:[P.jsxRuntimeExports.jsx("span",{className:"block md:hidden",children:a}),P.jsxRuntimeExports.jsx(kS,{className:la("hidden h-6 w-6 font-bold md:block",r?"rotate-180":"rotate-0")}),P.jsxRuntimeExports.jsx(_8,{className:la("block h-6 w-6 font-bold md:hidden",r?"rotate-0":"rotate-180")})]})})}),Bne=P.reactExports.memo(({children:a})=>{const[e]=P.reactExports.useContext(ju),{drawer:n}=e,[r]=eo("3dViewerEditor","3D viewer editor");return P.jsxRuntimeExports.jsxs("div",{className:la("pointer-events-none relative top-12 z-10 h-full w-[310px] md:top-0 [&>*]:pointer-events-auto",n===jc.Open?"md:left-0 md:w-[340px]":"md:-left-[0px] md:w-6"),children:[P.jsxRuntimeExports.jsx("div",{className:la("pointer-events-none absolute left-0 top-0 h-full w-full border-r border-grey-800 bg-grey-900 md:block",n===jc.Open?"":"hidden")}),P.jsxRuntimeExports.jsx(Pne,{title:r}),P.jsxRuntimeExports.jsxs("div",{className:la("no-scrollbar relative h-[calc(100%-48px)] w-full overflow-y-scroll py-6 pl-3 pr-6 md:h-full md:pl-10",n===jc.Open?"":"hidden"),children:[P.jsxRuntimeExports.jsx("h1",{className:"my-1 hidden text-base font-black text-white md:block",children:r}),P.jsxRuntimeExports.jsx("div",{className:"flex flex-col space-y-3 py-2",children:a})]})]})}),D1=()=>P.jsxRuntimeExports.jsx("div",{className:"w-full py-6",children:P.jsxRuntimeExports.jsx("hr",{className:"w-full border-grey-600"})}),One=P.reactExports.memo(({children:a})=>{const[e]=P.reactExports.useContext(P.Context),[n]=P.reactExports.useContext(ju),r=e[P.ActionType.GUI_Slider],o=e[P.ActionType.GUI_Panorama],l=e[P.ActionType.GUI_temperature];return P.jsxRuntimeExports.jsxs("div",{className:"h-full w-full flex-row md:flex",children:[P.jsxRuntimeExports.jsxs(Bne,{children:[r&&r.data.map(h=>P.jsxRuntimeExports.jsx(j1.Slider,{data:h},h.name)),P.jsxRuntimeExports.jsx(D1,{}),P.jsxRuntimeExports.jsx(j1.Color,{}),P.jsxRuntimeExports.jsx(D1,{}),o&&P.jsxRuntimeExports.jsx(j1.Panorama,{data:o}),P.jsxRuntimeExports.jsx(D1,{}),l&&P.jsxRuntimeExports.jsx(j1.Temperature,{data:l}),P.jsxRuntimeExports.jsx(D1,{}),P.jsxRuntimeExports.jsx("div",{className:"flex w-full justify-center",children:P.jsxRuntimeExports.jsx(ri,{onClick:()=>{var d;const h=(d=n.domElement)==null?void 0:d.toDataURL("image/png",1);if(h){const p=document.createElement("a");p.download="frontier-3d-viewer.png",p.href=h,p.setAttribute("target","_blank"),p.click()}},children:P.jsxRuntimeExports.jsx(ri.Screenshot,{})})})]}),P.jsxRuntimeExports.jsx("div",{className:"absolute top-0 h-full w-full overflow-hidden md:relative md:flex-1",children:a})]})});var sI={},cC={},g0={};Object.defineProperty(g0,"__esModule",{value:!0});g0.Status=void 0;var kM;(function(a){a[a.unload=0]="unload",a[a.loading=1]="loading",a[a.loaded=2]="loaded"})(kM||(g0.Status=kM={}));var Ug=P.commonjsGlobal&&P.commonjsGlobal.__assign||function(){return Ug=Object.assign||function(a){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Ug.apply(this,arguments)},Lne=P.commonjsGlobal&&P.commonjsGlobal.__spreadArray||function(a,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,l;r<o;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return a.concat(l||Array.prototype.slice.call(e))};Object.defineProperty(cC,"__esModule",{value:!0});var F1=g0,XM={hideBeforeLoaded:!0,onUpdate:function(a){}},jne=function(){function a(){this.index=0,this.result=[]}return a.prototype.load=function(e,n){var r=this;if(n===void 0&&(n=XM),!e)return new Promise(function(y){y({total:0,loaded:0})});var o=Ug(Ug({},XM),n),l=o.onUpdate,h=o.hideBeforeLoaded,d=this.getStyle(e,"display")==="flex"?"flex":"block";h&&(e.style.display="none");var p=Array.from(e.querySelectorAll("*")),g=Lne([e],p,!0);g.forEach(function(y,x){var T=y.tagName,w=y.getAttribute("src"),M=r.getStyle(y,"background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),S=r.getStyle(y,"-webkit-mask-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2"),j=F1.Status.unload;return T==="IMG"&&w?(r.result.push({url:w,index:x,status:j}),!0):T==="DIV"&&M!=="none"?(M.includes("gradient")||r.result.push({url:M,index:x,status:j}),!0):(T==="DIV"&&S!=="none"&&r.result.push({url:S,index:x,status:j}),!1)});var v=function(y){var x=y.resolve,T=x===void 0?function(Z){return console.log(Z)}:x,w=y.reject,M=w===void 0?function(Z){return console.log(Z)}:w;if(r.result.length===0){h&&(e.style.display=d),T({total:0,loaded:0});return}var S=r.result[r.index],j=r.result.length,k=S.url,W=S.index;S.status=F1.Status.loading;var q=new Image;q.onload=function(){S.status=F1.Status.loaded;var Z=r.result.filter(function(Y){return Y.status===F1.Status.loaded}).length;j===Z?(h&&(e.style.display=d),requestAnimationFrame(function(){return T({url:k,total:j,loaded:Z,index:W})})):(l({url:k,total:j,loaded:Z,index:W}),r.index++,v({resolve:T,reject:M}))},q.src=k};return new Promise(function(y,x){v({resolve:y,reject:x})})},a.prototype.getStyle=function(e,n){var r,o=e.ownerDocument.defaultView;return o&&o.getComputedStyle?(n=n.replace(/([A-Z])/g,"-$1").toLowerCase(),o.getComputedStyle(e,null).getPropertyValue(n)):e.currentStyle?(n=n.replace(/\-(\w)/g,function(l,h){return h.toUpperCase()}),r=e.currentStyle[n],r):""},a}();cC.default=jne;var Gg=P.commonjsGlobal&&P.commonjsGlobal.__assign||function(){return Gg=Object.assign||function(a){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a},Gg.apply(this,arguments)},Dne=P.commonjsGlobal&&P.commonjsGlobal.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(sI,"__esModule",{value:!0});var Fne=Dne(cC),k1=P.requireReact(),kne=function(a){var e=a.children,n=a.hideBeforeLoaded,r=n===void 0?!0:n,o=a.onStep,l=o===void 0?function(){}:o,h=a.onload,d=h===void 0?function(){}:h,p=(0,k1.useRef)();return(0,k1.useEffect)(function(){p.current&&new Fne.default().load(p.current,{hideBeforeLoaded:r,onUpdate:function(g){return l==null?void 0:l(g)}}).then(function(g){d==null||d(g)})},[]),k1.Children.map(e,function(g){return(0,k1.cloneElement)(g,Gg(Gg({},g.props),{ref:p}))})},lI=sI.default=kne;const Xne=P.reactExports.memo(()=>{const[a,e]=P.reactExports.useContext(P.Context),n=a[P.ActionType.UserProps]||null,{texture:r}=n||{texture:{base:""}},o=a[P.ActionType.ImagePicker]||"base",l=P.reactExports.useMemo(()=>{if(n){const h={base:r.base};return r.dispImgUrl&&(h.dispImgUrl=r.dispImgUrl),r.roughImgUrl&&(h.roughImgUrl=r.roughImgUrl),r.normalImgUrl&&(h.normalImgUrl=r.normalImgUrl),r.alpha&&(h.alpha=r.alpha),r.bump&&(h.bump=r.bump),o!=="bumpScale"&&o!=="mapScale"&&o!=="defaultMapScale"&&o!=="dpi"&&o!=="color"&&o!=="normalScale"?h[o]:""}return""},[n,o]);return P.reactExports.useEffect(()=>{e({type:P.ActionType.LoadingProcess,state:{enabled:!0}})},[l]),P.jsxRuntimeExports.jsxs("div",{className:"relative flex h-full w-full items-center justify-center",children:[P.jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 h-full w-full bg-grey-800 opacity-50"}),P.jsxRuntimeExports.jsx(lI,{onload:()=>e({type:P.ActionType.LoadingProcess,state:{enabled:!1}}),children:P.jsxRuntimeExports.jsx("img",{src:l,alt:"2d Material",className:"relative max-h-[75%] max-w-[75%] select-none",draggable:!1})},l)]})});var cI={exports:{}};(function(a){(function(){function e(re){if(re=re||{},this.method=re.method||2,this.colors=re.colors||256,this.initColors=re.initColors||4096,this.initDist=re.initDist||.01,this.distIncr=re.distIncr||.005,this.hueGroups=re.hueGroups||10,this.satGroups=re.satGroups||10,this.lumGroups=re.lumGroups||10,this.minHueCols=re.minHueCols||0,this.hueStats=this.minHueCols?new n(this.hueGroups,this.minHueCols):null,this.boxSize=re.boxSize||[64,64],this.boxPxls=re.boxPxls||2,this.palLocked=!1,this.dithKern=re.dithKern||null,this.dithSerp=re.dithSerp||!1,this.dithDelta=re.dithDelta||0,this.histogram={},this.idxrgb=re.palette?re.palette.slice(0):[],this.idxi32=[],this.i32idx={},this.i32rgb={},this.useCache=re.useCache!==!1,this.cacheFreq=re.cacheFreq||10,this.reIndex=re.reIndex||this.idxrgb.length==0,this.colorDist=re.colorDist=="manhattan"?T:y,this.idxrgb.length>0){var se=this;this.idxrgb.forEach(function(oe,Q){var pe=(-16777216|oe[2]<<16|oe[1]<<8|oe[0])>>>0;se.idxi32[Q]=pe,se.i32idx[pe]=Q,se.i32rgb[pe]=oe})}}e.prototype.sample=function(se,oe){if(this.palLocked)throw"Cannot sample additional images, palette already assembled.";var Q=Y(se,oe);switch(this.method){case 1:this.colorStats1D(Q.buf32);break;case 2:this.colorStats2D(Q.buf32,Q.width);break}},e.prototype.reduce=function(se,oe,Q,pe){if(this.palLocked||this.buildPal(),Q=Q||this.dithKern,pe=typeof pe<"u"?pe:this.dithSerp,oe=oe||1,Q)var be=this.dither(se,Q,pe);else for(var fe=Y(se),de=fe.buf32,De=de.length,be=new Uint32Array(De),Be=0;Be<De;Be++){var _e=de[Be];be[Be]=this.nearestColor(_e)}if(oe==1)return new Uint8Array(be.buffer);if(oe==2){for(var ke=[],De=be.length,Be=0;Be<De;Be++){var _e=be[Be];ke[Be]=this.i32idx[_e]}return ke}},e.prototype.dither=function(re,se,oe){var Q={FloydSteinberg:[[.4375,1,0],[.1875,-1,1],[.3125,0,1],[.0625,1,1]],FalseFloydSteinberg:[[.375,1,0],[.375,0,1],[.25,1,1]],Stucki:[[.19047619047619047,1,0],[.09523809523809523,2,0],[.047619047619047616,-2,1],[.09523809523809523,-1,1],[.19047619047619047,0,1],[.09523809523809523,1,1],[.047619047619047616,2,1],[.023809523809523808,-2,2],[.047619047619047616,-1,2],[.09523809523809523,0,2],[.047619047619047616,1,2],[.023809523809523808,2,2]],Atkinson:[[.125,1,0],[.125,2,0],[.125,-1,1],[.125,0,1],[.125,1,1],[.125,0,2]],Jarvis:[[.14583333333333334,1,0],[.10416666666666667,2,0],[.0625,-2,1],[.10416666666666667,-1,1],[.14583333333333334,0,1],[.10416666666666667,1,1],[.0625,2,1],[.020833333333333332,-2,2],[.0625,-1,2],[.10416666666666667,0,2],[.0625,1,2],[.020833333333333332,2,2]],Burkes:[[.25,1,0],[.125,2,0],[.0625,-2,1],[.125,-1,1],[.25,0,1],[.125,1,1],[.0625,2,1]],Sierra:[[.15625,1,0],[.09375,2,0],[.0625,-2,1],[.125,-1,1],[.15625,0,1],[.125,1,1],[.0625,2,1],[.0625,-1,2],[.09375,0,2],[.0625,1,2]],TwoSierra:[[.25,1,0],[.1875,2,0],[.0625,-2,1],[.125,-1,1],[.1875,0,1],[.125,1,1],[.0625,2,1]],SierraLite:[[.5,1,0],[.25,-1,1],[.25,0,1]]};if(!se||!Q[se])throw"Unknown dithering kernel: "+se;var pe=Q[se],be=Y(re),fe=be.buf32,de=be.width,De=be.height;fe.length;for(var Be=oe?-1:1,_e=0;_e<De;_e++){oe&&(Be=Be*-1);for(var ke=_e*de,je=Be==1?0:de-1,mt=Be==1?de:0;je!==mt;je+=Be){var pt=ke+je,Bt=fe[pt],Tt=Bt&255,wt=(Bt&65280)>>8,Vt=(Bt&16711680)>>16,Ft=this.nearestColor(Bt),zt=Ft&255,An=(Ft&65280)>>8,it=(Ft&16711680)>>16;if(fe[pt]=255<<24|it<<16|An<<8|zt,this.dithDelta){var ir=this.colorDist([Tt,wt,Vt],[zt,An,it]);if(ir<this.dithDelta)continue}for(var yr=Tt-zt,Sr=wt-An,Yc=Vt-it,ko=Be==1?0:pe.length-1,ms=Be==1?pe.length:0;ko!==ms;ko+=Be){var ps=pe[ko][1]*Be,fa=pe[ko][2],Tl=fa*de;if(ps+je>=0&&ps+je<de&&fa+_e>=0&&fa+_e<De){var ga=pe[ko][0],ao=pt+(Tl+ps),wl=fe[ao]&255,ba=(fe[ao]&65280)>>8,fi=(fe[ao]&16711680)>>16,Ni=Math.max(0,Math.min(255,wl+yr*ga)),Xo=Math.max(0,Math.min(255,ba+Sr*ga)),zo=Math.max(0,Math.min(255,fi+Yc*ga));fe[ao]=255<<24|zo<<16|Xo<<8|Ni}}}}return fe},e.prototype.buildPal=function(se){if(!(this.palLocked||this.idxrgb.length>0&&this.idxrgb.length<=this.colors)){var oe=this.histogram,Q=ve(oe);if(Q.length==0)throw"Nothing has been sampled, palette cannot be built.";switch(this.method){case 1:for(var pe=this.initColors,be=Q[pe-1],fe=oe[be],Be=Q.slice(0,pe),de=pe,De=Q.length;de<De&&oe[Q[de]]==fe;)Be.push(Q[de++]);this.hueStats&&this.hueStats.inject(Be);break;case 2:var Be=Q;break}Be=Be.map(function(_e){return+_e}),this.reducePal(Be),!se&&this.reIndex&&this.sortPal(),this.useCache&&this.cacheHistogram(Be),this.palLocked=!0}},e.prototype.palette=function(se,oe){return this.buildPal(oe),se?this.idxrgb:new Uint8Array(new Uint32Array(this.idxi32).buffer)},e.prototype.prunePal=function(se){for(var oe,Q=0;Q<this.idxrgb.length;Q++)se[Q]||(oe=this.idxi32[Q],this.idxrgb[Q]=null,this.idxi32[Q]=null,delete this.i32idx[oe]);if(this.reIndex){for(var pe=[],be=[],fe={},Q=0,de=0;Q<this.idxrgb.length;Q++)this.idxrgb[Q]&&(oe=this.idxi32[Q],pe[de]=this.idxrgb[Q],fe[oe]=de,be[de]=oe,de++);this.idxrgb=pe,this.idxi32=be,this.i32idx=fe}},e.prototype.reducePal=function(se){if(this.idxrgb.length>this.colors){for(var oe=se.length,Q={},pe=0,be,fe=!1,de=0;de<oe;de++)pe==this.colors&&!fe&&(this.prunePal(Q),fe=!0),be=this.nearestIndex(se[de]),pe<this.colors&&!Q[be]&&(Q[be]=!0,pe++);fe||(this.prunePal(Q),fe=!0)}else{var De=se.map(function(Ft){return[Ft&255,(Ft&65280)>>8,(Ft&16711680)>>16]}),oe=De.length,Be=oe,_e=this.initDist;if(Be>this.colors){for(;Be>this.colors;){for(var ke=[],de=0;de<oe;de++){var je=De[de];if(se[de],!!je)for(var mt=de+1;mt<oe;mt++){var pt=De[mt],Bt=se[mt];if(pt){var Tt=this.colorDist(je,pt);Tt<_e&&(ke.push([mt,pt,Bt,Tt]),delete De[mt],Be--)}}}_e+=Be>this.colors*3?this.initDist:this.distIncr}if(Be<this.colors){W.call(ke,function(Ft,zt){return zt[3]-Ft[3]});for(var wt=0;Be<this.colors;)De[ke[wt][0]]=ke[wt][1],Be++,wt++}}for(var oe=De.length,de=0;de<oe;de++)De[de]&&(this.idxrgb.push(De[de]),this.idxi32.push(se[de]),this.i32idx[se[de]]=this.idxi32.length-1,this.i32rgb[se[de]]=De[de])}},e.prototype.colorStats1D=function(se){for(var oe=this.histogram,Q,pe=se.length,be=0;be<pe;be++)Q=se[be],(Q&4278190080)>>24&&(this.hueStats&&this.hueStats.check(Q),Q in oe?oe[Q]++:oe[Q]=1)},e.prototype.colorStats2D=function(se,oe){var Q=this.boxSize[0],pe=this.boxSize[1],be=Q*pe,fe=he(oe,se.length/oe,Q,pe),de=this.histogram,De=this;fe.forEach(function(Be){var _e=Math.max(Math.round(Be.w*Be.h/be)*De.boxPxls,2),ke={},je;ae(Be,oe,function(mt){je=se[mt],(je&4278190080)>>24&&(De.hueStats&&De.hueStats.check(je),je in de?de[je]++:je in ke?++ke[je]>=_e&&(de[je]=ke[je]):ke[je]=1)})}),this.hueStats&&this.hueStats.inject(de)},e.prototype.sortPal=function(){var se=this;this.idxi32.sort(function(oe,Q){var pe=se.i32idx[oe],be=se.i32idx[Q],fe=se.idxrgb[pe],de=se.idxrgb[be],De=w(fe[0],fe[1],fe[2]),Be=w(de[0],de[1],de[2]),_e=fe[0]==fe[1]&&fe[1]==fe[2]?-1:M(De.h,se.hueGroups),ke=de[0]==de[1]&&de[1]==de[2]?-1:M(Be.h,se.hueGroups),je=ke-_e;if(je)return-je;var mt=+Be.l.toFixed(2)-+De.l.toFixed(2);if(mt)return-mt;var pt=+Be.s.toFixed(2)-+De.s.toFixed(2);if(pt)return-pt}),this.idxi32.forEach(function(oe,Q){se.idxrgb[Q]=se.i32rgb[oe],se.i32idx[oe]=Q})},e.prototype.nearestColor=function(se){var oe=this.nearestIndex(se);return oe===null?0:this.idxi32[oe]},e.prototype.nearestIndex=function(se){if(!((se&4278190080)>>24))return null;if(this.useCache&&""+se in this.i32idx)return this.i32idx[se];for(var oe=1e3,Q,pe=[se&255,(se&65280)>>8,(se&16711680)>>16],be=this.idxrgb.length,fe=0;fe<be;fe++)if(this.idxrgb[fe]){var de=this.colorDist(pe,this.idxrgb[fe]);de<oe&&(oe=de,Q=fe)}return Q},e.prototype.cacheHistogram=function(se){for(var oe=0,Q=se[oe];oe<se.length&&this.histogram[Q]>=this.cacheFreq;Q=se[oe++])this.i32idx[Q]=this.nearestIndex(Q)};function n(re,se){this.numGroups=re,this.minCols=se,this.stats={};for(var oe=-1;oe<re;oe++)this.stats[oe]={num:0,cols:[]};this.groupsFull=0}n.prototype.check=function(se){this.groupsFull==this.numGroups+1&&(this.check=function(){});var oe=se&255,Q=(se&65280)>>8,pe=(se&16711680)>>16,be=oe==Q&&Q==pe?-1:M(w(oe,Q,pe).h,this.numGroups),fe=this.stats[be],de=this.minCols;fe.num++,!(fe.num>de)&&(fe.num==de&&this.groupsFull++,fe.num<=de&&this.stats[be].cols.push(se))},n.prototype.inject=function(se){for(var oe=-1;oe<this.numGroups;oe++)if(this.stats[oe].num<=this.minCols)switch(k(se)){case"Array":this.stats[oe].cols.forEach(function(Q){se.indexOf(Q)==-1&&se.push(Q)});break;case"Object":this.stats[oe].cols.forEach(function(Q){se[Q]?se[Q]++:se[Q]=1});break}};var r=.2126,o=.7152,l=.0722;function h(re,se,oe){return Math.sqrt(r*re*re+o*se*se+l*oe*oe)}var d=255,p=255,g=255,v=Math.sqrt(r*d*d+o*p*p+l*g*g);function y(re,se){var oe=se[0]-re[0],Q=se[1]-re[1],pe=se[2]-re[2];return Math.sqrt(r*oe*oe+o*Q*Q+l*pe*pe)/v}var x=r*d+o*p+l*g;function T(re,se){var oe=Math.abs(se[0]-re[0]),Q=Math.abs(se[1]-re[1]),pe=Math.abs(se[2]-re[2]);return(r*oe+o*Q+l*pe)/x}function w(re,se,oe){var Q,pe,be,fe,de,De;if(re/=255,se/=255,oe/=255,Q=Math.max(re,se,oe),pe=Math.min(re,se,oe),de=(Q+pe)/2,Q==pe)be=fe=0;else{switch(De=Q-pe,fe=de>.5?De/(2-Q-pe):De/(Q+pe),Q){case re:be=(se-oe)/De+(se<oe?6:0);break;case se:be=(oe-re)/De+2;break;case oe:be=(re-se)/De+4;break}be/=6}return{h:be,s:fe,l:h(re,se,oe)}}function M(re,se){var oe=1/se,Q=oe/2;if(re>=1-Q||re<=Q)return 0;for(var pe=1;pe<se;pe++){var be=pe*oe;if(re>=be-Q&&re<=be+Q)return pe}}function S(re){return re}function j(re){return re}function k(re){return Object.prototype.toString.call(re).slice(8,-1)}var W=Z()?Array.prototype.sort:q;function q(re){var se=k(this[0]);if(se=="Number"||se=="String"){for(var oe={},Q=this.length,pe,be=0;be<Q;be++)pe=this[be],!(oe[pe]||oe[pe]===0)&&(oe[pe]=be);return this.sort(function(fe,de){return re(fe,de)||oe[fe]-oe[de]})}else{var oe=this.map(function(de){return de});return this.sort(function(de,De){return re(de,De)||oe.indexOf(de)-oe.indexOf(De)})}}function Z(){var re="abcdefghijklmnopqrstuvwxyz";return re.split("").sort(function(se,oe){return~~(re.indexOf(oe)/2.3)-~~(re.indexOf(se)/2.3)}).join("")=="xyzvwtursopqmnklhijfgdeabc"}function Y(re,se){var oe,Q,pe,be,fe,de;switch(k(re)){case"HTMLImageElement":oe=document.createElement("canvas"),oe.width=re.naturalWidth,oe.height=re.naturalHeight,Q=oe.getContext("2d"),Q.drawImage(re,0,0);case"Canvas":case"HTMLCanvasElement":oe=oe||re,Q=Q||oe.getContext("2d");case"CanvasRenderingContext2D":Q=Q||re,oe=oe||Q.canvas,pe=Q.getImageData(0,0,oe.width,oe.height);case"ImageData":pe=pe||re,se=pe.width,k(pe.data)=="CanvasPixelArray"?be=new Uint8Array(pe.data):be=pe.data;case"Array":case"CanvasPixelArray":be=be||new Uint8Array(re);case"Uint8Array":case"Uint8ClampedArray":be=be||re,fe=new Uint32Array(be.buffer);case"Uint32Array":fe=fe||re,be=be||new Uint8Array(fe.buffer),se=se||fe.length,de=fe.length/se}return{can:oe,ctx:Q,imgd:pe,buf8:be,buf32:fe,width:se,height:de}}function he(re,se,oe,Q){for(var pe=re%oe,be=se%Q,fe=re-pe,de=se-be,De=[],Be=0;Be<se;Be+=Q)for(var _e=0;_e<re;_e+=oe)De.push({x:_e,y:Be,w:_e==fe?pe:oe,h:Be==de?be:Q});return De}function ae(re,se,oe){var Q=re,pe=Q.y*se+Q.x,be=(Q.y+Q.h-1)*se+(Q.x+Q.w-1),fe=0,de=se-Q.w+1,De=pe;do oe.call(this,De),De+=++fe%Q.w==0?de:1;while(De<=be)}function ve(re,se){var oe=[];for(var Q in re)oe.push(Q);return W.call(oe,function(pe,be){return re[be]-re[pe]})}this.RgbQuant=e,a.exports&&(a.exports=e)}).call(P.commonjsGlobal)})(cI);var zne=cI.exports;const Une=P.getDefaultExportFromCjs(zne);var hI={exports:{}};/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */(function(a,e){(function(n,r){a.exports=r()})(P.commonjsGlobal,function(){for(var n=function(O,F,V){return F===void 0&&(F=0),V===void 0&&(V=1),O<F?F:O>V?V:O},r=n,o=function(O){O._clipped=!1,O._unclipped=O.slice(0);for(var F=0;F<=3;F++)F<3?((O[F]<0||O[F]>255)&&(O._clipped=!0),O[F]=r(O[F],0,255)):F===3&&(O[F]=r(O[F],0,1));return O},l={},h=0,d=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];h<d.length;h+=1){var p=d[h];l["[object "+p+"]"]=p.toLowerCase()}var g=function(O){return l[Object.prototype.toString.call(O)]||"object"},v=g,y=function(O,F){return F===void 0&&(F=null),O.length>=3?Array.prototype.slice.call(O):v(O[0])=="object"&&F?F.split("").filter(function(V){return O[0][V]!==void 0}).map(function(V){return O[0][V]}):O[0]},x=g,T=function(O){if(O.length<2)return null;var F=O.length-1;return x(O[F])=="string"?O[F].toLowerCase():null},w=Math.PI,M={clip_rgb:o,limit:n,type:g,unpack:y,last:T,PI:w,TWOPI:w*2,PITHIRD:w/3,DEG2RAD:w/180,RAD2DEG:180/w},S={format:{},autodetect:[]},j=M.last,k=M.clip_rgb,W=M.type,q=S,Z=function(){for(var F=[],V=arguments.length;V--;)F[V]=arguments[V];var ne=this;if(W(F[0])==="object"&&F[0].constructor&&F[0].constructor===this.constructor)return F[0];var ge=j(F),xe=!1;if(!ge){xe=!0,q.sorted||(q.autodetect=q.autodetect.sort(function(Ke,bt){return bt.p-Ke.p}),q.sorted=!0);for(var ue=0,Ne=q.autodetect;ue<Ne.length;ue+=1){var Ae=Ne[ue];if(ge=Ae.test.apply(Ae,F),ge)break}}if(q.format[ge]){var ze=q.format[ge].apply(null,xe?F:F.slice(0,-1));ne._rgb=k(ze)}else throw new Error("unknown format: "+F);ne._rgb.length===3&&ne._rgb.push(1)};Z.prototype.toString=function(){return W(this.hex)=="function"?this.hex():"["+this._rgb.join(",")+"]"};var Y=Z,he=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(he.Color,[null].concat(O)))};he.Color=Y,he.version="2.4.2";var ae=he,ve=M.unpack,re=Math.max,se=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=ve(O,"rgb"),ne=V[0],ge=V[1],xe=V[2];ne=ne/255,ge=ge/255,xe=xe/255;var ue=1-re(ne,re(ge,xe)),Ne=ue<1?1/(1-ue):0,Ae=(1-ne-ue)*Ne,ze=(1-ge-ue)*Ne,Ke=(1-xe-ue)*Ne;return[Ae,ze,Ke,ue]},oe=se,Q=M.unpack,pe=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=Q(O,"cmyk");var V=O[0],ne=O[1],ge=O[2],xe=O[3],ue=O.length>4?O[4]:1;return xe===1?[0,0,0,ue]:[V>=1?0:255*(1-V)*(1-xe),ne>=1?0:255*(1-ne)*(1-xe),ge>=1?0:255*(1-ge)*(1-xe),ue]},be=pe,fe=ae,de=Y,De=S,Be=M.unpack,_e=M.type,ke=oe;de.prototype.cmyk=function(){return ke(this._rgb)},fe.cmyk=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(de,[null].concat(O,["cmyk"])))},De.format.cmyk=be,De.autodetect.push({p:2,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=Be(O,"cmyk"),_e(O)==="array"&&O.length===4)return"cmyk"}});var je=M.unpack,mt=M.last,pt=function(O){return Math.round(O*100)/100},Bt=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=je(O,"hsla"),ne=mt(O)||"lsa";return V[0]=pt(V[0]||0),V[1]=pt(V[1]*100)+"%",V[2]=pt(V[2]*100)+"%",ne==="hsla"||V.length>3&&V[3]<1?(V[3]=V.length>3?V[3]:1,ne="hsla"):V.length=3,ne+"("+V.join(",")+")"},Tt=Bt,wt=M.unpack,Vt=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=wt(O,"rgba");var V=O[0],ne=O[1],ge=O[2];V/=255,ne/=255,ge/=255;var xe=Math.min(V,ne,ge),ue=Math.max(V,ne,ge),Ne=(ue+xe)/2,Ae,ze;return ue===xe?(Ae=0,ze=Number.NaN):Ae=Ne<.5?(ue-xe)/(ue+xe):(ue-xe)/(2-ue-xe),V==ue?ze=(ne-ge)/(ue-xe):ne==ue?ze=2+(ge-V)/(ue-xe):ge==ue&&(ze=4+(V-ne)/(ue-xe)),ze*=60,ze<0&&(ze+=360),O.length>3&&O[3]!==void 0?[ze,Ae,Ne,O[3]]:[ze,Ae,Ne]},Ft=Vt,zt=M.unpack,An=M.last,it=Tt,ir=Ft,yr=Math.round,Sr=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=zt(O,"rgba"),ne=An(O)||"rgb";return ne.substr(0,3)=="hsl"?it(ir(V),ne):(V[0]=yr(V[0]),V[1]=yr(V[1]),V[2]=yr(V[2]),(ne==="rgba"||V.length>3&&V[3]<1)&&(V[3]=V.length>3?V[3]:1,ne="rgba"),ne+"("+V.slice(0,ne==="rgb"?3:4).join(",")+")")},Yc=Sr,ko=M.unpack,ms=Math.round,ps=function(){for(var O,F=[],V=arguments.length;V--;)F[V]=arguments[V];F=ko(F,"hsl");var ne=F[0],ge=F[1],xe=F[2],ue,Ne,Ae;if(ge===0)ue=Ne=Ae=xe*255;else{var ze=[0,0,0],Ke=[0,0,0],bt=xe<.5?xe*(1+ge):xe+ge-xe*ge,et=2*xe-bt,Mt=ne/360;ze[0]=Mt+1/3,ze[1]=Mt,ze[2]=Mt-1/3;for(var Nt=0;Nt<3;Nt++)ze[Nt]<0&&(ze[Nt]+=1),ze[Nt]>1&&(ze[Nt]-=1),6*ze[Nt]<1?Ke[Nt]=et+(bt-et)*6*ze[Nt]:2*ze[Nt]<1?Ke[Nt]=bt:3*ze[Nt]<2?Ke[Nt]=et+(bt-et)*(2/3-ze[Nt])*6:Ke[Nt]=et;O=[ms(Ke[0]*255),ms(Ke[1]*255),ms(Ke[2]*255)],ue=O[0],Ne=O[1],Ae=O[2]}return F.length>3?[ue,Ne,Ae,F[3]]:[ue,Ne,Ae,1]},fa=ps,Tl=fa,ga=S,ao=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,wl=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,ba=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,fi=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Ni=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Xo=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,zo=Math.round,va=function(O){O=O.toLowerCase().trim();var F;if(ga.format.named)try{return ga.format.named(O)}catch{}if(F=O.match(ao)){for(var V=F.slice(1,4),ne=0;ne<3;ne++)V[ne]=+V[ne];return V[3]=1,V}if(F=O.match(wl)){for(var ge=F.slice(1,5),xe=0;xe<4;xe++)ge[xe]=+ge[xe];return ge}if(F=O.match(ba)){for(var ue=F.slice(1,4),Ne=0;Ne<3;Ne++)ue[Ne]=zo(ue[Ne]*2.55);return ue[3]=1,ue}if(F=O.match(fi)){for(var Ae=F.slice(1,5),ze=0;ze<3;ze++)Ae[ze]=zo(Ae[ze]*2.55);return Ae[3]=+Ae[3],Ae}if(F=O.match(Ni)){var Ke=F.slice(1,4);Ke[1]*=.01,Ke[2]*=.01;var bt=Tl(Ke);return bt[3]=1,bt}if(F=O.match(Xo)){var et=F.slice(1,4);et[1]*=.01,et[2]*=.01;var Mt=Tl(et);return Mt[3]=+F[4],Mt}};va.test=function(O){return ao.test(O)||wl.test(O)||ba.test(O)||fi.test(O)||Ni.test(O)||Xo.test(O)};var Nl=va,gi=ae,fs=Y,gr=S,Ku=M.type,S0=Yc,ya=Nl;fs.prototype.css=function(O){return S0(this._rgb,O)},gi.css=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(fs,[null].concat(O,["css"])))},gr.format.css=ya,gr.autodetect.push({p:5,test:function(O){for(var F=[],V=arguments.length-1;V-- >0;)F[V]=arguments[V+1];if(!F.length&&Ku(O)==="string"&&ya.test(O))return"css"}});var Np=Y,ur=ae,Ml=S,A0=M.unpack;Ml.format.gl=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=A0(O,"rgba");return V[0]*=255,V[1]*=255,V[2]*=255,V},ur.gl=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(Np,[null].concat(O,["gl"])))},Np.prototype.gl=function(){var O=this._rgb;return[O[0]/255,O[1]/255,O[2]/255,O[3]]};var Xi=M.unpack,E0=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=Xi(O,"rgb"),ne=V[0],ge=V[1],xe=V[2],ue=Math.min(ne,ge,xe),Ne=Math.max(ne,ge,xe),Ae=Ne-ue,ze=Ae*100/255,Ke=ue/(255-Ae)*100,bt;return Ae===0?bt=Number.NaN:(ne===Ne&&(bt=(ge-xe)/Ae),ge===Ne&&(bt=2+(xe-ne)/Ae),xe===Ne&&(bt=4+(ne-ge)/Ae),bt*=60,bt<0&&(bt+=360)),[bt,ze,Ke]},so=E0,Mp=M.unpack,Sp=Math.floor,Zu=function(){for(var O,F,V,ne,ge,xe,ue=[],Ne=arguments.length;Ne--;)ue[Ne]=arguments[Ne];ue=Mp(ue,"hcg");var Ae=ue[0],ze=ue[1],Ke=ue[2],bt,et,Mt;Ke=Ke*255;var Nt=ze*255;if(ze===0)bt=et=Mt=Ke;else{Ae===360&&(Ae=0),Ae>360&&(Ae-=360),Ae<0&&(Ae+=360),Ae/=60;var nn=Sp(Ae),dn=Ae-nn,yn=Ke*(1-ze),En=yn+Nt*(1-dn),Er=yn+Nt*dn,Tr=yn+Nt;switch(nn){case 0:O=[Tr,Er,yn],bt=O[0],et=O[1],Mt=O[2];break;case 1:F=[En,Tr,yn],bt=F[0],et=F[1],Mt=F[2];break;case 2:V=[yn,Tr,Er],bt=V[0],et=V[1],Mt=V[2];break;case 3:ne=[yn,En,Tr],bt=ne[0],et=ne[1],Mt=ne[2];break;case 4:ge=[Er,yn,Tr],bt=ge[0],et=ge[1],Mt=ge[2];break;case 5:xe=[Tr,yn,En],bt=xe[0],et=xe[1],Mt=xe[2];break}}return[bt,et,Mt,ue.length>3?ue[3]:1]},Ju=Zu,xa=M.unpack,bi=M.type,Sl=ae,Kc=Y,Zc=S,gs=so;Kc.prototype.hcg=function(){return gs(this._rgb)},Sl.hcg=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(Kc,[null].concat(O,["hcg"])))},Zc.format.hcg=Ju,Zc.autodetect.push({p:1,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=xa(O,"hcg"),bi(O)==="array"&&O.length===3)return"hcg"}});var Ap=M.unpack,Ep=M.last,Al=Math.round,ii=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=Ap(O,"rgba"),ne=V[0],ge=V[1],xe=V[2],ue=V[3],Ne=Ep(O)||"auto";ue===void 0&&(ue=1),Ne==="auto"&&(Ne=ue<1?"rgba":"rgb"),ne=Al(ne),ge=Al(ge),xe=Al(xe);var Ae=ne<<16|ge<<8|xe,ze="000000"+Ae.toString(16);ze=ze.substr(ze.length-6);var Ke="0"+Al(ue*255).toString(16);switch(Ke=Ke.substr(Ke.length-2),Ne.toLowerCase()){case"rgba":return"#"+ze+Ke;case"argb":return"#"+Ke+ze;default:return"#"+ze}},Qu=ii,Ip=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,Ca=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,bs=function(O){if(O.match(Ip)){(O.length===4||O.length===7)&&(O=O.substr(1)),O.length===3&&(O=O.split(""),O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]);var F=parseInt(O,16),V=F>>16,ne=F>>8&255,ge=F&255;return[V,ne,ge,1]}if(O.match(Ca)){(O.length===5||O.length===9)&&(O=O.substr(1)),O.length===4&&(O=O.split(""),O=O[0]+O[0]+O[1]+O[1]+O[2]+O[2]+O[3]+O[3]);var xe=parseInt(O,16),ue=xe>>24&255,Ne=xe>>16&255,Ae=xe>>8&255,ze=Math.round((xe&255)/255*100)/100;return[ue,Ne,Ae,ze]}throw new Error("unknown hex color: "+O)},Jc=bs,ed=ae,td=Y,nd=M.type,Qc=S,eh=Qu;td.prototype.hex=function(O){return eh(this._rgb,O)},ed.hex=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(td,[null].concat(O,["hex"])))},Qc.format.hex=Jc,Qc.autodetect.push({p:4,test:function(O){for(var F=[],V=arguments.length-1;V-- >0;)F[V]=arguments[V+1];if(!F.length&&nd(O)==="string"&&[3,4,5,6,7,8,9].indexOf(O.length)>=0)return"hex"}});var th=M.unpack,El=M.TWOPI,nh=Math.min,rd=Math.sqrt,id=Math.acos,od=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=th(O,"rgb"),ne=V[0],ge=V[1],xe=V[2];ne/=255,ge/=255,xe/=255;var ue,Ne=nh(ne,ge,xe),Ae=(ne+ge+xe)/3,ze=Ae>0?1-Ne/Ae:0;return ze===0?ue=NaN:(ue=(ne-ge+(ne-xe))/2,ue/=rd((ne-ge)*(ne-ge)+(ne-xe)*(ge-xe)),ue=id(ue),xe>ge&&(ue=El-ue),ue/=El),[ue*360,ze,Ae]},ad=od,sd=M.unpack,Il=M.limit,Uo=M.TWOPI,Rl=M.PITHIRD,Go=Math.cos,ld=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=sd(O,"hsi");var V=O[0],ne=O[1],ge=O[2],xe,ue,Ne;return isNaN(V)&&(V=0),isNaN(ne)&&(ne=0),V>360&&(V-=360),V<0&&(V+=360),V/=360,V<1/3?(Ne=(1-ne)/3,xe=(1+ne*Go(Uo*V)/Go(Rl-Uo*V))/3,ue=1-(Ne+xe)):V<2/3?(V-=1/3,xe=(1-ne)/3,ue=(1+ne*Go(Uo*V)/Go(Rl-Uo*V))/3,Ne=1-(xe+ue)):(V-=2/3,ue=(1-ne)/3,Ne=(1+ne*Go(Uo*V)/Go(Rl-Uo*V))/3,xe=1-(ue+Ne)),xe=Il(ge*xe*3),ue=Il(ge*ue*3),Ne=Il(ge*Ne*3),[xe*255,ue*255,Ne*255,O.length>3?O[3]:1]},cd=ld,hd=M.unpack,ud=M.type,dd=ae,rh=Y,ih=S,md=ad;rh.prototype.hsi=function(){return md(this._rgb)},dd.hsi=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(rh,[null].concat(O,["hsi"])))},ih.format.hsi=cd,ih.autodetect.push({p:2,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=hd(O,"hsi"),ud(O)==="array"&&O.length===3)return"hsi"}});var pd=M.unpack,fd=M.type,gd=ae,oh=Y,Pl=S,bd=Ft;oh.prototype.hsl=function(){return bd(this._rgb)},gd.hsl=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(oh,[null].concat(O,["hsl"])))},Pl.format.hsl=fa,Pl.autodetect.push({p:2,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=pd(O,"hsl"),fd(O)==="array"&&O.length===3)return"hsl"}});var vd=M.unpack,Rp=Math.min,yd=Math.max,xd=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=vd(O,"rgb");var V=O[0],ne=O[1],ge=O[2],xe=Rp(V,ne,ge),ue=yd(V,ne,ge),Ne=ue-xe,Ae,ze,Ke;return Ke=ue/255,ue===0?(Ae=Number.NaN,ze=0):(ze=Ne/ue,V===ue&&(Ae=(ne-ge)/Ne),ne===ue&&(Ae=2+(ge-V)/Ne),ge===ue&&(Ae=4+(V-ne)/Ne),Ae*=60,Ae<0&&(Ae+=360)),[Ae,ze,Ke]},Cd=xd,Pp=M.unpack,Bp=Math.floor,Op=function(){for(var O,F,V,ne,ge,xe,ue=[],Ne=arguments.length;Ne--;)ue[Ne]=arguments[Ne];ue=Pp(ue,"hsv");var Ae=ue[0],ze=ue[1],Ke=ue[2],bt,et,Mt;if(Ke*=255,ze===0)bt=et=Mt=Ke;else{Ae===360&&(Ae=0),Ae>360&&(Ae-=360),Ae<0&&(Ae+=360),Ae/=60;var Nt=Bp(Ae),nn=Ae-Nt,dn=Ke*(1-ze),yn=Ke*(1-ze*nn),En=Ke*(1-ze*(1-nn));switch(Nt){case 0:O=[Ke,En,dn],bt=O[0],et=O[1],Mt=O[2];break;case 1:F=[yn,Ke,dn],bt=F[0],et=F[1],Mt=F[2];break;case 2:V=[dn,Ke,En],bt=V[0],et=V[1],Mt=V[2];break;case 3:ne=[dn,yn,Ke],bt=ne[0],et=ne[1],Mt=ne[2];break;case 4:ge=[En,dn,Ke],bt=ge[0],et=ge[1],Mt=ge[2];break;case 5:xe=[Ke,dn,yn],bt=xe[0],et=xe[1],Mt=xe[2];break}}return[bt,et,Mt,ue.length>3?ue[3]:1]},Bl=Op,Ol=M.unpack,ah=M.type,_a=ae,Wo=Y,vs=S,sh=Cd;Wo.prototype.hsv=function(){return sh(this._rgb)},_a.hsv=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(Wo,[null].concat(O,["hsv"])))},vs.format.hsv=Bl,vs.autodetect.push({p:2,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=Ol(O,"hsv"),ah(O)==="array"&&O.length===3)return"hsv"}});var ys={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},xs=ys,I0=M.unpack,Lp=Math.pow,jp=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=I0(O,"rgb"),ne=V[0],ge=V[1],xe=V[2],ue=Dp(ne,ge,xe),Ne=ue[0],Ae=ue[1],ze=ue[2],Ke=116*Ae-16;return[Ke<0?0:Ke,500*(Ne-Ae),200*(Ae-ze)]},lh=function(O){return(O/=255)<=.04045?O/12.92:Lp((O+.055)/1.055,2.4)},zi=function(O){return O>xs.t3?Lp(O,1/3):O/xs.t2+xs.t0},Dp=function(O,F,V){O=lh(O),F=lh(F),V=lh(V);var ne=zi((.4124564*O+.3575761*F+.1804375*V)/xs.Xn),ge=zi((.2126729*O+.7151522*F+.072175*V)/xs.Yn),xe=zi((.0193339*O+.119192*F+.9503041*V)/xs.Zn);return[ne,ge,xe]},Ui=jp,Ar=ys,lo=M.unpack,ch=Math.pow,Ll=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=lo(O,"lab");var V=O[0],ne=O[1],ge=O[2],xe,ue,Ne,Ae,ze,Ke;return ue=(V+16)/116,xe=isNaN(ne)?ue:ue+ne/500,Ne=isNaN(ge)?ue:ue-ge/200,ue=Ar.Yn*Fn(ue),xe=Ar.Xn*Fn(xe),Ne=Ar.Zn*Fn(Ne),Ae=Ta(3.2404542*xe-1.5371385*ue-.4985314*Ne),ze=Ta(-.969266*xe+1.8760108*ue+.041556*Ne),Ke=Ta(.0556434*xe-.2040259*ue+1.0572252*Ne),[Ae,ze,Ke,O.length>3?O[3]:1]},Ta=function(O){return 255*(O<=.00304?12.92*O:1.055*ch(O,1/2.4)-.055)},Fn=function(O){return O>Ar.t1?O*O*O:Ar.t2*(O-Ar.t0)},Cs=Ll,jl=M.unpack,R0=M.type,wa=ae,Fp=Y,kp=S,P0=Ui;Fp.prototype.lab=function(){return P0(this._rgb)},wa.lab=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(Fp,[null].concat(O,["lab"])))},kp.format.lab=Cs,kp.autodetect.push({p:2,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=jl(O,"lab"),R0(O)==="array"&&O.length===3)return"lab"}});var B0=M.unpack,O0=M.RAD2DEG,L0=Math.sqrt,j0=Math.atan2,D0=Math.round,F0=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=B0(O,"lab"),ne=V[0],ge=V[1],xe=V[2],ue=L0(ge*ge+xe*xe),Ne=(j0(xe,ge)*O0+360)%360;return D0(ue*1e4)===0&&(Ne=Number.NaN),[ne,ue,Ne]},Xp=F0,k0=M.unpack,X0=Ui,z0=Xp,_d=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=k0(O,"rgb"),ne=V[0],ge=V[1],xe=V[2],ue=X0(ne,ge,xe),Ne=ue[0],Ae=ue[1],ze=ue[2];return z0(Ne,Ae,ze)},zp=_d,Up=M.unpack,Gp=M.DEG2RAD,Td=Math.sin,Wp=Math.cos,Vp=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=Up(O,"lch"),ne=V[0],ge=V[1],xe=V[2];return isNaN(xe)&&(xe=0),xe=xe*Gp,[ne,Wp(xe)*ge,Td(xe)*ge]},wd=Vp,Hp=M.unpack,Dl=wd,U0=Cs,G0=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=Hp(O,"lch");var V=O[0],ne=O[1],ge=O[2],xe=Dl(V,ne,ge),ue=xe[0],Ne=xe[1],Ae=xe[2],ze=U0(ue,Ne,Ae),Ke=ze[0],bt=ze[1],et=ze[2];return[Ke,bt,et,O.length>3?O[3]:1]},$p=G0,W0=M.unpack,V0=$p,H0=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=W0(O,"hcl").reverse();return V0.apply(void 0,V)},$0=H0,q0=M.unpack,Y0=M.type,hh=ae,oi=Y,Na=S,Gi=zp;oi.prototype.lch=function(){return Gi(this._rgb)},oi.prototype.hcl=function(){return Gi(this._rgb).reverse()},hh.lch=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(oi,[null].concat(O,["lch"])))},hh.hcl=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(oi,[null].concat(O,["hcl"])))},Na.format.lch=$p,Na.format.hcl=$0,["lch","hcl"].forEach(function(O){return Na.autodetect.push({p:2,test:function(){for(var F=[],V=arguments.length;V--;)F[V]=arguments[V];if(F=q0(F,O),Y0(F)==="array"&&F.length===3)return O}})});var Or={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Nd=Or,Ma=Y,Sa=S,ai=M.type,Hn=Nd,Md=Jc,K0=Qu;Ma.prototype.name=function(){for(var O=K0(this._rgb,"rgb"),F=0,V=Object.keys(Hn);F<V.length;F+=1){var ne=V[F];if(Hn[ne]===O)return ne.toLowerCase()}return O},Sa.format.named=function(O){if(O=O.toLowerCase(),Hn[O])return Md(Hn[O]);throw new Error("unknown color name: "+O)},Sa.autodetect.push({p:5,test:function(O){for(var F=[],V=arguments.length-1;V-- >0;)F[V]=arguments[V+1];if(!F.length&&ai(O)==="string"&&Hn[O.toLowerCase()])return"named"}});var Z0=M.unpack,Fl=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=Z0(O,"rgb"),ne=V[0],ge=V[1],xe=V[2];return(ne<<16)+(ge<<8)+xe},J0=Fl,Q0=M.type,eb=function(O){if(Q0(O)=="number"&&O>=0&&O<=16777215){var F=O>>16,V=O>>8&255,ne=O&255;return[F,V,ne,1]}throw new Error("unknown num color: "+O)},tb=eb,nb=ae,qp=Y,Yp=S,rb=M.type,ib=J0;qp.prototype.num=function(){return ib(this._rgb)},nb.num=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(qp,[null].concat(O,["num"])))},Yp.format.num=tb,Yp.autodetect.push({p:5,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O.length===1&&rb(O[0])==="number"&&O[0]>=0&&O[0]<=16777215)return"num"}});var ob=ae,Sd=Y,Kp=S,Zp=M.unpack,Jp=M.type,Lr=Math.round;Sd.prototype.rgb=function(O){return O===void 0&&(O=!0),O===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Lr)},Sd.prototype.rgba=function(O){return O===void 0&&(O=!0),this._rgb.slice(0,4).map(function(F,V){return V<3?O===!1?F:Lr(F):F})},ob.rgb=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(Sd,[null].concat(O,["rgb"])))},Kp.format.rgb=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=Zp(O,"rgba");return V[3]===void 0&&(V[3]=1),V},Kp.autodetect.push({p:3,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=Zp(O,"rgba"),Jp(O)==="array"&&(O.length===3||O.length===4&&Jp(O[3])=="number"&&O[3]>=0&&O[3]<=1))return"rgb"}});var Yt=Math.log,ab=function(O){var F=O/100,V,ne,ge;return F<66?(V=255,ne=F<6?0:-155.25485562709179-.44596950469579133*(ne=F-2)+104.49216199393888*Yt(ne),ge=F<20?0:-254.76935184120902+.8274096064007395*(ge=F-10)+115.67994401066147*Yt(ge)):(V=351.97690566805693+.114206453784165*(V=F-55)-40.25366309332127*Yt(V),ne=325.4494125711974+.07943456536662342*(ne=F-50)-28.0852963507957*Yt(ne),ge=255),[V,ne,ge,1]},He=ab,Zt=He,Ad=M.unpack,Qp=Math.round,sb=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];for(var V=Ad(O,"rgb"),ne=V[0],ge=V[2],xe=1e3,ue=4e4,Ne=.4,Ae;ue-xe>Ne;){Ae=(ue+xe)*.5;var ze=Zt(Ae);ze[2]/ze[0]>=ge/ne?ue=Ae:xe=Ae}return Qp(Ae)},_s=sb,Aa=ae,kl=Y,uh=S,ef=_s;kl.prototype.temp=kl.prototype.kelvin=kl.prototype.temperature=function(){return ef(this._rgb)},Aa.temp=Aa.kelvin=Aa.temperature=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(kl,[null].concat(O,["temp"])))},uh.format.temp=uh.format.kelvin=uh.format.temperature=He;var tf=M.unpack,dh=Math.cbrt,mh=Math.pow,lb=Math.sign,Ln=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=tf(O,"rgb"),ne=V[0],ge=V[1],xe=V[2],ue=[Xl(ne/255),Xl(ge/255),Xl(xe/255)],Ne=ue[0],Ae=ue[1],ze=ue[2],Ke=dh(.4122214708*Ne+.5363325363*Ae+.0514459929*ze),bt=dh(.2119034982*Ne+.6806995451*Ae+.1073969566*ze),et=dh(.0883024619*Ne+.2817188376*Ae+.6299787005*ze);return[.2104542553*Ke+.793617785*bt-.0040720468*et,1.9779984951*Ke-2.428592205*bt+.4505937099*et,.0259040371*Ke+.7827717662*bt-.808675766*et]},Ea=Ln;function Xl(O){var F=Math.abs(O);return F<.04045?O/12.92:(lb(O)||1)*mh((F+.055)/1.055,2.4)}var Ts=M.unpack,zl=Math.pow,cb=Math.sign,Ia=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=Ts(O,"lab");var V=O[0],ne=O[1],ge=O[2],xe=zl(V+.3963377774*ne+.2158037573*ge,3),ue=zl(V-.1055613458*ne-.0638541728*ge,3),Ne=zl(V-.0894841775*ne-1.291485548*ge,3);return[255*Ed(4.0767416621*xe-3.3077115913*ue+.2309699292*Ne),255*Ed(-1.2684380046*xe+2.6097574011*ue-.3413193965*Ne),255*Ed(-.0041960863*xe-.7034186147*ue+1.707614701*Ne),O.length>3?O[3]:1]},ph=Ia;function Ed(O){var F=Math.abs(O);return F>.0031308?(cb(O)||1)*(1.055*zl(F,1/2.4)-.055):O*12.92}var or=M.unpack,jn=M.type,nf=ae,vi=Y,Ul=S,hb=Ea;vi.prototype.oklab=function(){return hb(this._rgb)},nf.oklab=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(vi,[null].concat(O,["oklab"])))},Ul.format.oklab=ph,Ul.autodetect.push({p:3,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=or(O,"oklab"),jn(O)==="array"&&O.length===3)return"oklab"}});var Id=M.unpack,ub=Ea,Hr=Xp,ie=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];var V=Id(O,"rgb"),ne=V[0],ge=V[1],xe=V[2],ue=ub(ne,ge,xe),Ne=ue[0],Ae=ue[1],ze=ue[2];return Hr(Ne,Ae,ze)},Rd=ie,rf=M.unpack,Ur=wd,co=ph,Mi=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];O=rf(O,"lch");var V=O[0],ne=O[1],ge=O[2],xe=Ur(V,ne,ge),ue=xe[0],Ne=xe[1],Ae=xe[2],ze=co(ue,Ne,Ae),Ke=ze[0],bt=ze[1],et=ze[2];return[Ke,bt,et,O.length>3?O[3]:1]},fh=Mi,ws=M.unpack,Ns=M.type,Ms=ae,ho=Y,uo=S,Ra=Rd;ho.prototype.oklch=function(){return Ra(this._rgb)},Ms.oklch=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];return new(Function.prototype.bind.apply(ho,[null].concat(O,["oklch"])))},uo.format.oklch=fh,uo.autodetect.push({p:3,test:function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];if(O=ws(O,"oklch"),Ns(O)==="array"&&O.length===3)return"oklch"}});var Ss=Y,gh=M.type;Ss.prototype.alpha=function(O,F){return F===void 0&&(F=!1),O!==void 0&&gh(O)==="number"?F?(this._rgb[3]=O,this):new Ss([this._rgb[0],this._rgb[1],this._rgb[2],O],"rgb"):this._rgb[3]};var bh=Y;bh.prototype.clipped=function(){return this._rgb._clipped||!1};var si=Y,Pd=ys;si.prototype.darken=function(O){O===void 0&&(O=1);var F=this,V=F.lab();return V[0]-=Pd.Kn*O,new si(V,"lab").alpha(F.alpha(),!0)},si.prototype.brighten=function(O){return O===void 0&&(O=1),this.darken(-O)},si.prototype.darker=si.prototype.darken,si.prototype.brighter=si.prototype.brighten;var db=Y;db.prototype.get=function(O){var F=O.split("."),V=F[0],ne=F[1],ge=this[V]();if(ne){var xe=V.indexOf(ne)-(V.substr(0,2)==="ok"?2:0);if(xe>-1)return ge[xe];throw new Error("unknown channel "+ne+" in mode "+V)}else return ge};var Wi=Y,Bd=M.type,jr=Math.pow,mo=1e-7,Od=20;Wi.prototype.luminance=function(O){if(O!==void 0&&Bd(O)==="number"){if(O===0)return new Wi([0,0,0,this._rgb[3]],"rgb");if(O===1)return new Wi([255,255,255,this._rgb[3]],"rgb");var F=this.luminance(),V="rgb",ne=Od,ge=function(ue,Ne){var Ae=ue.interpolate(Ne,.5,V),ze=Ae.luminance();return Math.abs(O-ze)<mo||!ne--?Ae:ze>O?ge(ue,Ae):ge(Ae,Ne)},xe=(F>O?ge(new Wi([0,0,0]),this):ge(this,new Wi([255,255,255]))).rgb();return new Wi(xe.concat([this._rgb[3]]))}return vh.apply(void 0,this._rgb.slice(0,3))};var vh=function(O,F,V){return O=Vi(O),F=Vi(F),V=Vi(V),.2126*O+.7152*F+.0722*V},Vi=function(O){return O/=255,O<=.03928?O/12.92:jr((O+.055)/1.055,2.4)},Gr={},Gl=Y,yh=M.type,po=Gr,Ut=function(O,F,V){V===void 0&&(V=.5);for(var ne=[],ge=arguments.length-3;ge-- >0;)ne[ge]=arguments[ge+3];var xe=ne[0]||"lrgb";if(!po[xe]&&!ne.length&&(xe=Object.keys(po)[0]),!po[xe])throw new Error("interpolation mode "+xe+" is not defined");return yh(O)!=="object"&&(O=new Gl(O)),yh(F)!=="object"&&(F=new Gl(F)),po[xe](O,F,V).alpha(O.alpha()+V*(F.alpha()-O.alpha()))},Pa=Y,Si=Ut;Pa.prototype.mix=Pa.prototype.interpolate=function(O,F){F===void 0&&(F=.5);for(var V=[],ne=arguments.length-2;ne-- >0;)V[ne]=arguments[ne+2];return Si.apply(void 0,[this,O,F].concat(V))};var of=Y;of.prototype.premultiply=function(O){O===void 0&&(O=!1);var F=this._rgb,V=F[3];return O?(this._rgb=[F[0]*V,F[1]*V,F[2]*V,V],this):new of([F[0]*V,F[1]*V,F[2]*V,V],"rgb")};var Ld=Y,Vo=ys;Ld.prototype.saturate=function(O){O===void 0&&(O=1);var F=this,V=F.lch();return V[1]+=Vo.Kn*O,V[1]<0&&(V[1]=0),new Ld(V,"lch").alpha(F.alpha(),!0)},Ld.prototype.desaturate=function(O){return O===void 0&&(O=1),this.saturate(-O)};var Wl=Y,$r=M.type;Wl.prototype.set=function(O,F,V){V===void 0&&(V=!1);var ne=O.split("."),ge=ne[0],xe=ne[1],ue=this[ge]();if(xe){var Ne=ge.indexOf(xe)-(ge.substr(0,2)==="ok"?2:0);if(Ne>-1){if($r(F)=="string")switch(F.charAt(0)){case"+":ue[Ne]+=+F;break;case"-":ue[Ne]+=+F;break;case"*":ue[Ne]*=+F.substr(1);break;case"/":ue[Ne]/=+F.substr(1);break;default:ue[Ne]=+F}else if($r(F)==="number")ue[Ne]=F;else throw new Error("unsupported value for Color.set");var Ae=new Wl(ue,ge);return V?(this._rgb=Ae._rgb,this):Ae}throw new Error("unknown channel "+xe+" in mode "+ge)}else return ue};var af=Y,sf=function(O,F,V){var ne=O._rgb,ge=F._rgb;return new af(ne[0]+V*(ge[0]-ne[0]),ne[1]+V*(ge[1]-ne[1]),ne[2]+V*(ge[2]-ne[2]),"rgb")};Gr.rgb=sf;var li=Y,As=Math.sqrt,Es=Math.pow,lf=function(O,F,V){var ne=O._rgb,ge=ne[0],xe=ne[1],ue=ne[2],Ne=F._rgb,Ae=Ne[0],ze=Ne[1],Ke=Ne[2];return new li(As(Es(ge,2)*(1-V)+Es(Ae,2)*V),As(Es(xe,2)*(1-V)+Es(ze,2)*V),As(Es(ue,2)*(1-V)+Es(Ke,2)*V),"rgb")};Gr.lrgb=lf;var Is=Y,fo=function(O,F,V){var ne=O.lab(),ge=F.lab();return new Is(ne[0]+V*(ge[0]-ne[0]),ne[1]+V*(ge[1]-ne[1]),ne[2]+V*(ge[2]-ne[2]),"lab")};Gr.lab=fo;var Vl=Y,Hi=function(O,F,V,ne){var ge,xe,ue,Ne;ne==="hsl"?(ue=O.hsl(),Ne=F.hsl()):ne==="hsv"?(ue=O.hsv(),Ne=F.hsv()):ne==="hcg"?(ue=O.hcg(),Ne=F.hcg()):ne==="hsi"?(ue=O.hsi(),Ne=F.hsi()):ne==="lch"||ne==="hcl"?(ne="hcl",ue=O.hcl(),Ne=F.hcl()):ne==="oklch"&&(ue=O.oklch().reverse(),Ne=F.oklch().reverse());var Ae,ze,Ke,bt,et,Mt;(ne.substr(0,1)==="h"||ne==="oklch")&&(ge=ue,Ae=ge[0],Ke=ge[1],et=ge[2],xe=Ne,ze=xe[0],bt=xe[1],Mt=xe[2]);var Nt,nn,dn,yn;return!isNaN(Ae)&&!isNaN(ze)?(ze>Ae&&ze-Ae>180?yn=ze-(Ae+360):ze<Ae&&Ae-ze>180?yn=ze+360-Ae:yn=ze-Ae,nn=Ae+V*yn):isNaN(Ae)?isNaN(ze)?nn=Number.NaN:(nn=ze,(et==1||et==0)&&ne!="hsv"&&(Nt=bt)):(nn=Ae,(Mt==1||Mt==0)&&ne!="hsv"&&(Nt=Ke)),Nt===void 0&&(Nt=Ke+V*(bt-Ke)),dn=et+V*(Mt-et),ne==="oklch"?new Vl([dn,Nt,nn],ne):new Vl([nn,Nt,dn],ne)},mb=Hi,cf=function(O,F,V){return mb(O,F,V,"lch")};Gr.lch=cf,Gr.hcl=cf;var hf=Y,uf=function(O,F,V){var ne=O.num(),ge=F.num();return new hf(ne+V*(ge-ne),"num")};Gr.num=uf;var df=Hi,mf=function(O,F,V){return df(O,F,V,"hcg")};Gr.hcg=mf;var pb=Hi,Rs=function(O,F,V){return pb(O,F,V,"hsi")};Gr.hsi=Rs;var jd=Hi,Mn=function(O,F,V){return jd(O,F,V,"hsl")};Gr.hsl=Mn;var Ai=Hi,go=function(O,F,V){return Ai(O,F,V,"hsv")};Gr.hsv=go;var Dd=Y,bo=function(O,F,V){var ne=O.oklab(),ge=F.oklab();return new Dd(ne[0]+V*(ge[0]-ne[0]),ne[1]+V*(ge[1]-ne[1]),ne[2]+V*(ge[2]-ne[2]),"oklab")};Gr.oklab=bo;var Ps=Hi,Bs=function(O,F,V){return Ps(O,F,V,"oklch")};Gr.oklch=Bs;var xh=Y,Fd=M.clip_rgb,Hl=Math.pow,$l=Math.sqrt,Wr=Math.PI,kd=Math.cos,vo=Math.sin,Ch=Math.atan2,Xd=function(O,F,V){F===void 0&&(F="lrgb"),V===void 0&&(V=null);var ne=O.length;V||(V=Array.from(new Array(ne)).map(function(){return 1}));var ge=ne/V.reduce(function(nn,dn){return nn+dn});if(V.forEach(function(nn,dn){V[dn]*=ge}),O=O.map(function(nn){return new xh(nn)}),F==="lrgb")return _t(O,V);for(var xe=O.shift(),ue=xe.get(F),Ne=[],Ae=0,ze=0,Ke=0;Ke<ue.length;Ke++)if(ue[Ke]=(ue[Ke]||0)*V[0],Ne.push(isNaN(ue[Ke])?0:V[0]),F.charAt(Ke)==="h"&&!isNaN(ue[Ke])){var bt=ue[Ke]/180*Wr;Ae+=kd(bt)*V[0],ze+=vo(bt)*V[0]}var et=xe.alpha()*V[0];O.forEach(function(nn,dn){var yn=nn.get(F);et+=nn.alpha()*V[dn+1];for(var En=0;En<ue.length;En++)if(!isNaN(yn[En]))if(Ne[En]+=V[dn+1],F.charAt(En)==="h"){var Er=yn[En]/180*Wr;Ae+=kd(Er)*V[dn+1],ze+=vo(Er)*V[dn+1]}else ue[En]+=yn[En]*V[dn+1]});for(var Mt=0;Mt<ue.length;Mt++)if(F.charAt(Mt)==="h"){for(var Nt=Ch(ze/Ne[Mt],Ae/Ne[Mt])/Wr*180;Nt<0;)Nt+=360;for(;Nt>=360;)Nt-=360;ue[Mt]=Nt}else ue[Mt]=ue[Mt]/Ne[Mt];return et/=ne,new xh(ue,F).alpha(et>.99999?1:et,!0)},_t=function(O,F){for(var V=O.length,ne=[0,0,0,0],ge=0;ge<O.length;ge++){var xe=O[ge],ue=F[ge]/V,Ne=xe._rgb;ne[0]+=Hl(Ne[0],2)*ue,ne[1]+=Hl(Ne[1],2)*ue,ne[2]+=Hl(Ne[2],2)*ue,ne[3]+=Ne[3]*ue}return ne[0]=$l(ne[0]),ne[1]=$l(ne[1]),ne[2]=$l(ne[2]),ne[3]>.9999999&&(ne[3]=1),new xh(Fd(ne))},$n=ae,Os=M.type,Dr=Math.pow,$i=function(O){var F="rgb",V=$n("#ccc"),ne=0,ge=[0,1],xe=[],ue=[0,0],Ne=!1,Ae=[],ze=!1,Ke=0,bt=1,et=!1,Mt={},Nt=!0,nn=1,dn=function(tt){if(tt=tt||["#fff","#000"],tt&&Os(tt)==="string"&&$n.brewer&&$n.brewer[tt.toLowerCase()]&&(tt=$n.brewer[tt.toLowerCase()]),Os(tt)==="array"){tt.length===1&&(tt=[tt[0],tt[0]]),tt=tt.slice(0);for(var Gt=0;Gt<tt.length;Gt++)tt[Gt]=$n(tt[Gt]);xe.length=0;for(var ln=0;ln<tt.length;ln++)xe.push(ln/(tt.length-1))}return Yr(),Ae=tt},yn=function(tt){if(Ne!=null){for(var Gt=Ne.length-1,ln=0;ln<Gt&&tt>=Ne[ln];)ln++;return ln-1}return 0},En=function(tt){return tt},Er=function(tt){return tt},Tr=function(tt,Gt){var ln,rn;if(Gt==null&&(Gt=!1),isNaN(tt)||tt===null)return V;if(Gt)rn=tt;else if(Ne&&Ne.length>2){var Ir=yn(tt);rn=Ir/(Ne.length-2)}else bt!==Ke?rn=(tt-Ke)/(bt-Ke):rn=1;rn=Er(rn),Gt||(rn=En(rn)),nn!==1&&(rn=Dr(rn,nn)),rn=ue[0]+rn*(1-ue[0]-ue[1]),rn=Math.min(1,Math.max(0,rn));var qn=Math.floor(rn*1e4);if(Nt&&Mt[qn])ln=Mt[qn];else{if(Os(Ae)==="array")for(var xn=0;xn<xe.length;xn++){var Rn=xe[xn];if(rn<=Rn){ln=Ae[xn];break}if(rn>=Rn&&xn===xe.length-1){ln=Ae[xn];break}if(rn>Rn&&rn<xe[xn+1]){rn=(rn-Rn)/(xe[xn+1]-Rn),ln=$n.interpolate(Ae[xn],Ae[xn+1],rn,F);break}}else Os(Ae)==="function"&&(ln=Ae(rn));Nt&&(Mt[qn]=ln)}return ln},Yr=function(){return Mt={}};dn(O);var gn=function(tt){var Gt=$n(Tr(tt));return ze&&Gt[ze]?Gt[ze]():Gt};return gn.classes=function(tt){if(tt!=null){if(Os(tt)==="array")Ne=tt,ge=[tt[0],tt[tt.length-1]];else{var Gt=$n.analyze(ge);tt===0?Ne=[Gt.min,Gt.max]:Ne=$n.limits(Gt,"e",tt)}return gn}return Ne},gn.domain=function(tt){if(!arguments.length)return ge;Ke=tt[0],bt=tt[tt.length-1],xe=[];var Gt=Ae.length;if(tt.length===Gt&&Ke!==bt)for(var ln=0,rn=Array.from(tt);ln<rn.length;ln+=1){var Ir=rn[ln];xe.push((Ir-Ke)/(bt-Ke))}else{for(var qn=0;qn<Gt;qn++)xe.push(qn/(Gt-1));if(tt.length>2){var xn=tt.map(function(Pn,Dn){return Dn/(tt.length-1)}),Rn=tt.map(function(Pn){return(Pn-Ke)/(bt-Ke)});Rn.every(function(Pn,Dn){return xn[Dn]===Pn})||(Er=function(Pn){if(Pn<=0||Pn>=1)return Pn;for(var Dn=0;Pn>=Rn[Dn+1];)Dn++;var Ii=(Pn-Rn[Dn])/(Rn[Dn+1]-Rn[Dn]),Ko=xn[Dn]+Ii*(xn[Dn+1]-xn[Dn]);return Ko})}}return ge=[Ke,bt],gn},gn.mode=function(tt){return arguments.length?(F=tt,Yr(),gn):F},gn.range=function(tt,Gt){return dn(tt),gn},gn.out=function(tt){return ze=tt,gn},gn.spread=function(tt){return arguments.length?(ne=tt,gn):ne},gn.correctLightness=function(tt){return tt==null&&(tt=!0),et=tt,Yr(),et?En=function(Gt){for(var ln=Tr(0,!0).lab()[0],rn=Tr(1,!0).lab()[0],Ir=ln>rn,qn=Tr(Gt,!0).lab()[0],xn=ln+(rn-ln)*Gt,Rn=qn-xn,Pn=0,Dn=1,Ii=20;Math.abs(Rn)>.01&&Ii-- >0;)(function(){return Ir&&(Rn*=-1),Rn<0?(Pn=Gt,Gt+=(Dn-Gt)*.5):(Dn=Gt,Gt+=(Pn-Gt)*.5),qn=Tr(Gt,!0).lab()[0],Rn=qn-xn})();return Gt}:En=function(Gt){return Gt},gn},gn.padding=function(tt){return tt!=null?(Os(tt)==="number"&&(tt=[tt,tt]),ue=tt,gn):ue},gn.colors=function(tt,Gt){arguments.length<2&&(Gt="hex");var ln=[];if(arguments.length===0)ln=Ae.slice(0);else if(tt===1)ln=[gn(.5)];else if(tt>1){var rn=ge[0],Ir=ge[1]-rn;ln=yo(0,tt).map(function(Dn){return gn(rn+Dn/(tt-1)*Ir)})}else{O=[];var qn=[];if(Ne&&Ne.length>2)for(var xn=1,Rn=Ne.length,Pn=1<=Rn;Pn?xn<Rn:xn>Rn;Pn?xn++:xn--)qn.push((Ne[xn-1]+Ne[xn])*.5);else qn=ge;ln=qn.map(function(Dn){return gn(Dn)})}return $n[Gt]&&(ln=ln.map(function(Dn){return Dn[Gt]()})),ln},gn.cache=function(tt){return tt!=null?(Nt=tt,gn):Nt},gn.gamma=function(tt){return tt!=null?(nn=tt,gn):nn},gn.nodata=function(tt){return tt!=null?(V=$n(tt),gn):V},gn};function yo(O,F,V){for(var ne=[],ge=O<F,xe=F,ue=O;ge?ue<xe:ue>xe;ge?ue++:ue--)ne.push(ue);return ne}var ql=Y,qr=$i,Yl=function(O){for(var F=[1,1],V=1;V<O;V++){for(var ne=[1],ge=1;ge<=F.length;ge++)ne[ge]=(F[ge]||0)+F[ge-1];F=ne}return F},fb=function(O){var F,V,ne,ge,xe,ue,Ne;if(O=O.map(function(et){return new ql(et)}),O.length===2)F=O.map(function(et){return et.lab()}),xe=F[0],ue=F[1],ge=function(et){var Mt=[0,1,2].map(function(Nt){return xe[Nt]+et*(ue[Nt]-xe[Nt])});return new ql(Mt,"lab")};else if(O.length===3)V=O.map(function(et){return et.lab()}),xe=V[0],ue=V[1],Ne=V[2],ge=function(et){var Mt=[0,1,2].map(function(Nt){return(1-et)*(1-et)*xe[Nt]+2*(1-et)*et*ue[Nt]+et*et*Ne[Nt]});return new ql(Mt,"lab")};else if(O.length===4){var Ae;ne=O.map(function(et){return et.lab()}),xe=ne[0],ue=ne[1],Ne=ne[2],Ae=ne[3],ge=function(et){var Mt=[0,1,2].map(function(Nt){return(1-et)*(1-et)*(1-et)*xe[Nt]+3*(1-et)*(1-et)*et*ue[Nt]+3*(1-et)*et*et*Ne[Nt]+et*et*et*Ae[Nt]});return new ql(Mt,"lab")}}else if(O.length>=5){var ze,Ke,bt;ze=O.map(function(et){return et.lab()}),bt=O.length-1,Ke=Yl(bt),ge=function(et){var Mt=1-et,Nt=[0,1,2].map(function(nn){return ze.reduce(function(dn,yn,En){return dn+Ke[En]*Math.pow(Mt,bt-En)*Math.pow(et,En)*yn[nn]},0)});return new ql(Nt,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return ge},dr=function(O){var F=fb(O);return F.scale=function(){return qr(F)},F},Ls=ae,tn=function(O,F,V){if(!tn[V])throw new Error("unknown blend mode "+V);return tn[V](O,F)},Ho=function(O){return function(F,V){var ne=Ls(V).rgb(),ge=Ls(F).rgb();return Ls.rgb(O(ne,ge))}},$o=function(O){return function(F,V){var ne=[];return ne[0]=O(F[0],V[0]),ne[1]=O(F[1],V[1]),ne[2]=O(F[2],V[2]),ne}},gb=function(O){return O},bb=function(O,F){return O*F/255},zd=function(O,F){return O>F?F:O},vb=function(O,F){return O>F?O:F},Ud=function(O,F){return 255*(1-(1-O/255)*(1-F/255))},yb=function(O,F){return F<128?2*O*F/255:255*(1-2*(1-O/255)*(1-F/255))},It=function(O,F){return 255*(1-(1-F/255)/(O/255))},xb=function(O,F){return O===255?255:(O=255*(F/255)/(1-O/255),O>255?255:O)};tn.normal=Ho($o(gb)),tn.multiply=Ho($o(bb)),tn.screen=Ho($o(Ud)),tn.overlay=Ho($o(yb)),tn.darken=Ho($o(zd)),tn.lighten=Ho($o(vb)),tn.dodge=Ho($o(xb)),tn.burn=Ho($o(It));for(var yi=tn,Kl=M.type,js=M.clip_rgb,ci=M.TWOPI,Zl=Math.pow,xr=Math.sin,Jt=Math.cos,Gd=ae,Ba=function(O,F,V,ne,ge){O===void 0&&(O=300),F===void 0&&(F=-1.5),V===void 0&&(V=1),ne===void 0&&(ne=1),ge===void 0&&(ge=[0,1]);var xe=0,ue;Kl(ge)==="array"?ue=ge[1]-ge[0]:(ue=0,ge=[ge,ge]);var Ne=function(Ae){var ze=ci*((O+120)/360+F*Ae),Ke=Zl(ge[0]+ue*Ae,ne),bt=xe!==0?V[0]+Ae*xe:V,et=bt*Ke*(1-Ke)/2,Mt=Jt(ze),Nt=xr(ze),nn=Ke+et*(-.14861*Mt+1.78277*Nt),dn=Ke+et*(-.29227*Mt-.90649*Nt),yn=Ke+et*(1.97294*Mt);return Gd(js([nn*255,dn*255,yn*255,1]))};return Ne.start=function(Ae){return Ae==null?O:(O=Ae,Ne)},Ne.rotations=function(Ae){return Ae==null?F:(F=Ae,Ne)},Ne.gamma=function(Ae){return Ae==null?ne:(ne=Ae,Ne)},Ne.hue=function(Ae){return Ae==null?V:(V=Ae,Kl(V)==="array"?(xe=V[1]-V[0],xe===0&&(V=V[1])):xe=0,Ne)},Ne.lightness=function(Ae){return Ae==null?ge:(Kl(Ae)==="array"?(ge=Ae,ue=Ae[1]-Ae[0]):(ge=[Ae,Ae],ue=0),Ne)},Ne.scale=function(){return Gd.scale(Ne)},Ne.hue(V),Ne},_h=Y,pf="0123456789abcdef",Ds=Math.floor,Fs=Math.random,ks=function(){for(var O="#",F=0;F<6;F++)O+=pf.charAt(Ds(Fs()*16));return new _h(O,"hex")},Jl=g,Ql=Math.log,Th=Math.pow,wh=Math.floor,Nh=Math.abs,Wd=function(O,F){F===void 0&&(F=null);var V={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return Jl(O)==="object"&&(O=Object.values(O)),O.forEach(function(ne){F&&Jl(ne)==="object"&&(ne=ne[F]),ne!=null&&!isNaN(ne)&&(V.values.push(ne),V.sum+=ne,ne<V.min&&(V.min=ne),ne>V.max&&(V.max=ne),V.count+=1)}),V.domain=[V.min,V.max],V.limits=function(ne,ge){return Vd(V,ne,ge)},V},Vd=function(O,F,V){F===void 0&&(F="equal"),V===void 0&&(V=7),Jl(O)=="array"&&(O=Wd(O));var ne=O.min,ge=O.max,xe=O.values.sort(function(Yd,Kd){return Yd-Kd});if(V===1)return[ne,ge];var ue=[];if(F.substr(0,1)==="c"&&(ue.push(ne),ue.push(ge)),F.substr(0,1)==="e"){ue.push(ne);for(var Ne=1;Ne<V;Ne++)ue.push(ne+Ne/V*(ge-ne));ue.push(ge)}else if(F.substr(0,1)==="l"){if(ne<=0)throw new Error("Logarithmic scales are only possible for values > 0");var Ae=Math.LOG10E*Ql(ne),ze=Math.LOG10E*Ql(ge);ue.push(ne);for(var Ke=1;Ke<V;Ke++)ue.push(Th(10,Ae+Ke/V*(ze-Ae)));ue.push(ge)}else if(F.substr(0,1)==="q"){ue.push(ne);for(var bt=1;bt<V;bt++){var et=(xe.length-1)*bt/V,Mt=wh(et);if(Mt===et)ue.push(xe[Mt]);else{var Nt=et-Mt;ue.push(xe[Mt]*(1-Nt)+xe[Mt+1]*Nt)}}ue.push(ge)}else if(F.substr(0,1)==="k"){var nn,dn=xe.length,yn=new Array(dn),En=new Array(V),Er=!0,Tr=0,Yr=null;Yr=[],Yr.push(ne);for(var gn=1;gn<V;gn++)Yr.push(ne+gn/V*(ge-ne));for(Yr.push(ge);Er;){for(var tt=0;tt<V;tt++)En[tt]=0;for(var Gt=0;Gt<dn;Gt++)for(var ln=xe[Gt],rn=Number.MAX_VALUE,Ir=void 0,qn=0;qn<V;qn++){var xn=Nh(Yr[qn]-ln);xn<rn&&(rn=xn,Ir=qn),En[Ir]++,yn[Gt]=Ir}for(var Rn=new Array(V),Pn=0;Pn<V;Pn++)Rn[Pn]=null;for(var Dn=0;Dn<dn;Dn++)nn=yn[Dn],Rn[nn]===null?Rn[nn]=xe[Dn]:Rn[nn]+=xe[Dn];for(var Ii=0;Ii<V;Ii++)Rn[Ii]*=1/En[Ii];Er=!1;for(var Ko=0;Ko<V;Ko++)if(Rn[Ko]!==Yr[Ko]){Er=!0;break}Yr=Rn,Tr++,Tr>200&&(Er=!1)}for(var Zo={},Us=0;Us<V;Us++)Zo[Us]=[];for(var Gs=0;Gs<dn;Gs++)nn=yn[Gs],Zo[nn].push(xe[Gs]);for(var Co=[],Da=0;Da<V;Da++)Co.push(Zo[Da][0]),Co.push(Zo[Da][Zo[Da].length-1]);Co=Co.sort(function(Yd,Kd){return Yd-Kd}),ue.push(Co[0]);for(var ic=1;ic<Co.length;ic+=2){var Fa=Co[ic];!isNaN(Fa)&&ue.indexOf(Fa)===-1&&ue.push(Fa)}}return ue},Hd={analyze:Wd,limits:Vd},ec=Y,Mh=function(O,F){O=new ec(O),F=new ec(F);var V=O.luminance(),ne=F.luminance();return V>ne?(V+.05)/(ne+.05):(ne+.05)/(V+.05)},lr=Y,xo=Math.sqrt,Jn=Math.pow,Oa=Math.min,Xs=Math.max,Fr=Math.atan2,ff=Math.abs,tc=Math.cos,$d=Math.sin,Cb=Math.exp,gf=Math.PI,Ei=function(O,F,V,ne,ge){V===void 0&&(V=1),ne===void 0&&(ne=1),ge===void 0&&(ge=1);var xe=function(Fa){return 360*Fa/(2*gf)},ue=function(Fa){return 2*gf*Fa/360};O=new lr(O),F=new lr(F);var Ne=Array.from(O.lab()),Ae=Ne[0],ze=Ne[1],Ke=Ne[2],bt=Array.from(F.lab()),et=bt[0],Mt=bt[1],Nt=bt[2],nn=(Ae+et)/2,dn=xo(Jn(ze,2)+Jn(Ke,2)),yn=xo(Jn(Mt,2)+Jn(Nt,2)),En=(dn+yn)/2,Er=.5*(1-xo(Jn(En,7)/(Jn(En,7)+Jn(25,7)))),Tr=ze*(1+Er),Yr=Mt*(1+Er),gn=xo(Jn(Tr,2)+Jn(Ke,2)),tt=xo(Jn(Yr,2)+Jn(Nt,2)),Gt=(gn+tt)/2,ln=xe(Fr(Ke,Tr)),rn=xe(Fr(Nt,Yr)),Ir=ln>=0?ln:ln+360,qn=rn>=0?rn:rn+360,xn=ff(Ir-qn)>180?(Ir+qn+360)/2:(Ir+qn)/2,Rn=1-.17*tc(ue(xn-30))+.24*tc(ue(2*xn))+.32*tc(ue(3*xn+6))-.2*tc(ue(4*xn-63)),Pn=qn-Ir;Pn=ff(Pn)<=180?Pn:qn<=Ir?Pn+360:Pn-360,Pn=2*xo(gn*tt)*$d(ue(Pn)/2);var Dn=et-Ae,Ii=tt-gn,Ko=1+.015*Jn(nn-50,2)/xo(20+Jn(nn-50,2)),Zo=1+.045*Gt,Us=1+.015*Gt*Rn,Gs=30*Cb(-Jn((xn-275)/25,2)),Co=2*xo(Jn(Gt,7)/(Jn(Gt,7)+Jn(25,7))),Da=-Co*$d(2*ue(Gs)),ic=xo(Jn(Dn/(V*Ko),2)+Jn(Ii/(ne*Zo),2)+Jn(Pn/(ge*Us),2)+Da*(Ii/(ne*Zo))*(Pn/(ge*Us)));return Xs(0,Oa(100,ic))},nc=Y,qo=function(O,F,V){V===void 0&&(V="lab"),O=new nc(O),F=new nc(F);var ne=O.get(V),ge=F.get(V),xe=0;for(var ue in ne){var Ne=(ne[ue]||0)-(ge[ue]||0);xe+=Ne*Ne}return Math.sqrt(xe)},bf=Y,vf=function(){for(var O=[],F=arguments.length;F--;)O[F]=arguments[F];try{return new(Function.prototype.bind.apply(bf,[null].concat(O))),!0}catch{return!1}},Cr=ae,La=$i,zs={cool:function(){return La([Cr.hsl(180,1,.9),Cr.hsl(250,.7,.4)])},hot:function(){return La(["#000","#f00","#ff0","#fff"]).mode("rgb")}},rc={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ja=0,qd=Object.keys(rc);ja<qd.length;ja+=1){var Sh=qd[ja];rc[Sh.toLowerCase()]=rc[Sh]}var _b=rc,_r=ae;_r.average=Xd,_r.bezier=dr,_r.blend=yi,_r.cubehelix=Ba,_r.mix=_r.interpolate=Ut,_r.random=ks,_r.scale=$i,_r.analyze=Hd.analyze,_r.contrast=Mh,_r.deltaE=Ei,_r.distance=qo,_r.limits=Hd.limits,_r.valid=vf,_r.scales=zs,_r.colors=Nd,_r.brewer=_b;var Yo=_r;return Yo})})(hI);var Gne=hI.exports;const ip=P.getDefaultExportFromCjs(Gne),Wne=(a,e)=>{const r=e.getContext("2d");if(!r)return;const{width:o,height:l}=a,h=1024/o,d=Math.floor(h*l);e.width=1024,e.height=d,r.drawImage(a,0,0,1024,d);const p=new Une({colors:1,minHueCols:256});return p.sample(e),p.palette(!0).map(v=>ip(v).hex())[0]},Vne=(a,e=!1)=>new Promise((n,r)=>{const o=new Image;o.onload=l=>{const{width:h,height:d}=l.target,p=document.createElement("canvas"),g=p.getContext("2d",{willReadFrequently:!0});if(!g){r("Failed to get canvas context");return}const v=e?Wne(o,p):void 0,y=Math.pow(2,Math.floor(Math.log2(h)));p.width=y,p.height=y/h*d,g.drawImage(o,0,0,y,y/h*d);const x=p.toDataURL("image/png",1);n({currentURI:x,currentColor:v,width:h,height:d,downscaleWidth:y})},o.onerror=()=>r("Failed to load image"),o.setAttribute("crossOrigin","anonymous"),o.src=a}),Hne=a=>new Promise(e=>{const n=new ResizeObserver(r=>{for(const o of r)o.contentRect.width>0&&o.contentRect.height>0&&(e(!0),n==null||n.unobserve(a))});n.observe(a)});var Ht={},uI={exports:{}};(function(a){function e(n){return n&&n.__esModule?n:{default:n}}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports})(uI);var Fo=uI.exports,dI={exports:{}};(function(a){function e(n){"@babel/helpers - typeof";return a.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},a.exports.__esModule=!0,a.exports.default=a.exports,e(n)}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports})(dI);var oo=dI.exports,my={exports:{}},zM;function vl(){return zM||(zM=1,function(a){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports}(my)),my.exports}var py={exports:{}},fy={exports:{}},gy={exports:{}},UM;function $ne(){return UM||(UM=1,function(a){var e=oo.default;function n(r,o){if(e(r)!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var h=l.call(r,o||"default");if(e(h)!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports}(gy)),gy.exports}var GM;function mI(){return GM||(GM=1,function(a){var e=oo.default,n=$ne();function r(o){var l=n(o,"string");return e(l)=="symbol"?l:l+""}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(fy)),fy.exports}var WM;function yl(){return WM||(WM=1,function(a){var e=mI();function n(o,l){for(var h=0;h<l.length;h++){var d=l[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,e(d.key),d)}}function r(o,l,h){return l&&n(o.prototype,l),h&&n(o,h),Object.defineProperty(o,"prototype",{writable:!1}),o}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports}(py)),py.exports}var by={exports:{}},VM;function ua(){return VM||(VM=1,function(a){var e=mI();function n(r,o,l){return(o=e(o))in r?Object.defineProperty(r,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[o]=l,r}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports}(by)),by.exports}var U={};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */var HM;function cs(){if(HM)return U;HM=1;const a="164",e={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},n={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},r=0,o=1,l=2,h=3,d=0,p=1,g=2,v=3,y=0,x=1,T=2,w=0,M=1,S=2,j=3,k=4,W=5,q=100,Z=101,Y=102,he=103,ae=104,ve=200,re=201,se=202,oe=203,Q=204,pe=205,be=206,fe=207,de=208,De=209,Be=210,_e=211,ke=212,je=213,mt=214,pt=0,Bt=1,Tt=2,wt=3,Vt=4,Ft=5,zt=6,An=7,it=0,ir=1,yr=2,Sr=0,Yc=1,ko=2,ms=3,ps=4,fa=5,Tl=6,ga=7,ao="attached",wl="detached",ba=300,fi=301,Ni=302,Xo=303,zo=304,va=306,Nl=1e3,gi=1001,fs=1002,gr=1003,Ku=1004,S0=1004,ya=1005,Np=1005,ur=1006,Ml=1007,A0=1007,Xi=1008,E0=1008,so=1009,Mp=1010,Sp=1011,Zu=1012,Ju=1013,xa=1014,bi=1015,Sl=1016,Kc=1017,Zc=1018,gs=1020,Ap=35902,Ep=1021,Al=1022,ii=1023,Qu=1024,Ip=1025,Ca=1026,bs=1027,Jc=1028,ed=1029,td=1030,nd=1031,Qc=1033,eh=33776,th=33777,El=33778,nh=33779,rd=35840,id=35841,od=35842,ad=35843,sd=36196,Il=37492,Uo=37496,Rl=37808,Go=37809,ld=37810,cd=37811,hd=37812,ud=37813,dd=37814,rh=37815,ih=37816,md=37817,pd=37818,fd=37819,gd=37820,oh=37821,Pl=36492,bd=36494,vd=36495,Rp=36283,yd=36284,xd=36285,Cd=36286,Pp=2200,Bp=2201,Op=2202,Bl=2300,Ol=2301,ah=2302,_a=2400,Wo=2401,vs=2402,sh=2500,ys=2501,xs=0,I0=1,Lp=2,jp=3200,lh=3201,zi=0,Dp=1,Ui="",Ar="srgb",lo="srgb-linear",ch="display-p3",Ll="display-p3-linear",Ta="linear",Fn="srgb",Cs="rec709",jl="p3",R0=0,wa=7680,Fp=7681,kp=7682,P0=7683,B0=34055,O0=34056,L0=5386,j0=512,D0=513,F0=514,Xp=515,k0=516,X0=517,z0=518,_d=519,zp=512,Up=513,Gp=514,Td=515,Wp=516,Vp=517,wd=518,Hp=519,Dl=35044,U0=35048,G0=35040,$p=35045,W0=35049,V0=35041,H0=35046,$0=35050,q0=35042,Y0="100",hh="300 es",oi=2e3,Na=2001;class Gi{addEventListener(t,i){this._listeners===void 0&&(this._listeners={});const s=this._listeners;s[t]===void 0&&(s[t]=[]),s[t].indexOf(i)===-1&&s[t].push(i)}hasEventListener(t,i){if(this._listeners===void 0)return!1;const s=this._listeners;return s[t]!==void 0&&s[t].indexOf(i)!==-1}removeEventListener(t,i){if(this._listeners===void 0)return;const c=this._listeners[t];if(c!==void 0){const u=c.indexOf(i);u!==-1&&c.splice(u,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const s=this._listeners[t.type];if(s!==void 0){t.target=this;const c=s.slice(0);for(let u=0,f=c.length;u<f;u++)c[u].call(this,t);t.target=null}}}const Or=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Nd=1234567;const Ma=Math.PI/180,Sa=180/Math.PI;function ai(){const m=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0,s=Math.random()*4294967295|0;return(Or[m&255]+Or[m>>8&255]+Or[m>>16&255]+Or[m>>24&255]+"-"+Or[t&255]+Or[t>>8&255]+"-"+Or[t>>16&15|64]+Or[t>>24&255]+"-"+Or[i&63|128]+Or[i>>8&255]+"-"+Or[i>>16&255]+Or[i>>24&255]+Or[s&255]+Or[s>>8&255]+Or[s>>16&255]+Or[s>>24&255]).toLowerCase()}function Hn(m,t,i){return Math.max(t,Math.min(i,m))}function Md(m,t){return(m%t+t)%t}function K0(m,t,i,s,c){return s+(m-t)*(c-s)/(i-t)}function Z0(m,t,i){return m!==t?(i-m)/(t-m):0}function Fl(m,t,i){return(1-i)*m+i*t}function J0(m,t,i,s){return Fl(m,t,1-Math.exp(-i*s))}function Q0(m,t=1){return t-Math.abs(Md(m,t*2)-t)}function eb(m,t,i){return m<=t?0:m>=i?1:(m=(m-t)/(i-t),m*m*(3-2*m))}function tb(m,t,i){return m<=t?0:m>=i?1:(m=(m-t)/(i-t),m*m*m*(m*(m*6-15)+10))}function nb(m,t){return m+Math.floor(Math.random()*(t-m+1))}function qp(m,t){return m+Math.random()*(t-m)}function Yp(m){return m*(.5-Math.random())}function rb(m){m!==void 0&&(Nd=m);let t=Nd+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function ib(m){return m*Ma}function ob(m){return m*Sa}function Sd(m){return(m&m-1)===0&&m!==0}function Kp(m){return Math.pow(2,Math.ceil(Math.log(m)/Math.LN2))}function Zp(m){return Math.pow(2,Math.floor(Math.log(m)/Math.LN2))}function Jp(m,t,i,s,c){const u=Math.cos,f=Math.sin,b=u(i/2),C=f(i/2),_=u((t+s)/2),N=f((t+s)/2),A=u((t-s)/2),E=f((t-s)/2),I=u((s-t)/2),B=f((s-t)/2);switch(c){case"XYX":m.set(b*N,C*A,C*E,b*_);break;case"YZY":m.set(C*E,b*N,C*A,b*_);break;case"ZXZ":m.set(C*A,C*E,b*N,b*_);break;case"XZX":m.set(b*N,C*B,C*I,b*_);break;case"YXY":m.set(C*I,b*N,C*B,b*_);break;case"ZYZ":m.set(C*B,C*I,b*N,b*_);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+c)}}function Lr(m,t){switch(t.constructor){case Float32Array:return m;case Uint32Array:return m/4294967295;case Uint16Array:return m/65535;case Uint8Array:return m/255;case Int32Array:return Math.max(m/2147483647,-1);case Int16Array:return Math.max(m/32767,-1);case Int8Array:return Math.max(m/127,-1);default:throw new Error("Invalid component type.")}}function Yt(m,t){switch(t.constructor){case Float32Array:return m;case Uint32Array:return Math.round(m*4294967295);case Uint16Array:return Math.round(m*65535);case Uint8Array:return Math.round(m*255);case Int32Array:return Math.round(m*2147483647);case Int16Array:return Math.round(m*32767);case Int8Array:return Math.round(m*127);default:throw new Error("Invalid component type.")}}const ab={DEG2RAD:Ma,RAD2DEG:Sa,generateUUID:ai,clamp:Hn,euclideanModulo:Md,mapLinear:K0,inverseLerp:Z0,lerp:Fl,damp:J0,pingpong:Q0,smoothstep:eb,smootherstep:tb,randInt:nb,randFloat:qp,randFloatSpread:Yp,seededRandom:rb,degToRad:ib,radToDeg:ob,isPowerOfTwo:Sd,ceilPowerOfTwo:Kp,floorPowerOfTwo:Zp,setQuaternionFromProperEuler:Jp,normalize:Yt,denormalize:Lr};class He{constructor(t=0,i=0){He.prototype.isVector2=!0,this.x=t,this.y=i}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,i){return this.x=t,this.y=i,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const i=this.x,s=this.y,c=t.elements;return this.x=c[0]*i+c[3]*s+c[6],this.y=c[1]*i+c[4]*s+c[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;const s=this.dot(t)/i;return Math.acos(Hn(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const i=this.x-t.x,s=this.y-t.y;return i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this}rotateAround(t,i){const s=Math.cos(i),c=Math.sin(i),u=this.x-t.x,f=this.y-t.y;return this.x=u*s-f*c+t.x,this.y=u*c+f*s+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Zt{constructor(t,i,s,c,u,f,b,C,_){Zt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,i,s,c,u,f,b,C,_)}set(t,i,s,c,u,f,b,C,_){const N=this.elements;return N[0]=t,N[1]=c,N[2]=b,N[3]=i,N[4]=u,N[5]=C,N[6]=s,N[7]=f,N[8]=_,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this}extractBasis(t,i,s){return t.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const i=t.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){const s=t.elements,c=i.elements,u=this.elements,f=s[0],b=s[3],C=s[6],_=s[1],N=s[4],A=s[7],E=s[2],I=s[5],B=s[8],D=c[0],L=c[3],R=c[6],G=c[1],X=c[4],H=c[7],me=c[2],te=c[5],le=c[8];return u[0]=f*D+b*G+C*me,u[3]=f*L+b*X+C*te,u[6]=f*R+b*H+C*le,u[1]=_*D+N*G+A*me,u[4]=_*L+N*X+A*te,u[7]=_*R+N*H+A*le,u[2]=E*D+I*G+B*me,u[5]=E*L+I*X+B*te,u[8]=E*R+I*H+B*le,this}multiplyScalar(t){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this}determinant(){const t=this.elements,i=t[0],s=t[1],c=t[2],u=t[3],f=t[4],b=t[5],C=t[6],_=t[7],N=t[8];return i*f*N-i*b*_-s*u*N+s*b*C+c*u*_-c*f*C}invert(){const t=this.elements,i=t[0],s=t[1],c=t[2],u=t[3],f=t[4],b=t[5],C=t[6],_=t[7],N=t[8],A=N*f-b*_,E=b*C-N*u,I=_*u-f*C,B=i*A+s*E+c*I;if(B===0)return this.set(0,0,0,0,0,0,0,0,0);const D=1/B;return t[0]=A*D,t[1]=(c*_-N*s)*D,t[2]=(b*s-c*f)*D,t[3]=E*D,t[4]=(N*i-c*C)*D,t[5]=(c*u-b*i)*D,t[6]=I*D,t[7]=(s*C-_*i)*D,t[8]=(f*i-s*u)*D,this}transpose(){let t;const i=this.elements;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this}setUvTransform(t,i,s,c,u,f,b){const C=Math.cos(u),_=Math.sin(u);return this.set(s*C,s*_,-s*(C*f+_*b)+f+t,-c*_,c*C,-c*(-_*f+C*b)+b+i,0,0,1),this}scale(t,i){return this.premultiply(Ad.makeScale(t,i)),this}rotate(t){return this.premultiply(Ad.makeRotation(-t)),this}translate(t,i){return this.premultiply(Ad.makeTranslation(t,i)),this}makeTranslation(t,i){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,i,0,0,1),this}makeRotation(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,-s,0,s,i,0,0,0,1),this}makeScale(t,i){return this.set(t,0,0,0,i,0,0,0,1),this}equals(t){const i=this.elements,s=t.elements;for(let c=0;c<9;c++)if(i[c]!==s[c])return!1;return!0}fromArray(t,i=0){for(let s=0;s<9;s++)this.elements[s]=t[s+i];return this}toArray(t=[],i=0){const s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const Ad=new Zt;function Qp(m){for(let t=m.length-1;t>=0;--t)if(m[t]>=65535)return!0;return!1}const sb={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _s(m,t){return new sb[m](t)}function Aa(m){return document.createElementNS("http://www.w3.org/1999/xhtml",m)}function kl(){const m=Aa("canvas");return m.style.display="block",m}const uh={};function ef(m){m in uh||(uh[m]=!0,console.warn(m))}const tf=new Zt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),dh=new Zt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),mh={[lo]:{transfer:Ta,primaries:Cs,toReference:m=>m,fromReference:m=>m},[Ar]:{transfer:Fn,primaries:Cs,toReference:m=>m.convertSRGBToLinear(),fromReference:m=>m.convertLinearToSRGB()},[Ll]:{transfer:Ta,primaries:jl,toReference:m=>m.applyMatrix3(dh),fromReference:m=>m.applyMatrix3(tf)},[ch]:{transfer:Fn,primaries:jl,toReference:m=>m.convertSRGBToLinear().applyMatrix3(dh),fromReference:m=>m.applyMatrix3(tf).convertLinearToSRGB()}},lb=new Set([lo,Ll]),Ln={enabled:!0,_workingColorSpace:lo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(m){if(!lb.has(m))throw new Error(`Unsupported working color space, "${m}".`);this._workingColorSpace=m},convert:function(m,t,i){if(this.enabled===!1||t===i||!t||!i)return m;const s=mh[t].toReference,c=mh[i].fromReference;return c(s(m))},fromWorkingColorSpace:function(m,t){return this.convert(m,this._workingColorSpace,t)},toWorkingColorSpace:function(m,t){return this.convert(m,t,this._workingColorSpace)},getPrimaries:function(m){return mh[m].primaries},getTransfer:function(m){return m===Ui?Ta:mh[m].transfer}};function Ea(m){return m<.04045?m*.0773993808:Math.pow(m*.9478672986+.0521327014,2.4)}function Xl(m){return m<.0031308?m*12.92:1.055*Math.pow(m,.41666)-.055}let Ts;class zl{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{Ts===void 0&&(Ts=Aa("canvas")),Ts.width=t.width,Ts.height=t.height;const s=Ts.getContext("2d");t instanceof ImageData?s.putImageData(t,0,0):s.drawImage(t,0,0,t.width,t.height),i=Ts}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const i=Aa("canvas");i.width=t.width,i.height=t.height;const s=i.getContext("2d");s.drawImage(t,0,0,t.width,t.height);const c=s.getImageData(0,0,t.width,t.height),u=c.data;for(let f=0;f<u.length;f++)u[f]=Ea(u[f]/255)*255;return s.putImageData(c,0,0),i}else if(t.data){const i=t.data.slice(0);for(let s=0;s<i.length;s++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[s]=Math.floor(Ea(i[s]/255)*255):i[s]=Ea(i[s]);return{data:i,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let cb=0;class Ia{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:cb++}),this.uuid=ai(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const i=t===void 0||typeof t=="string";if(!i&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const s={uuid:this.uuid,url:""},c=this.data;if(c!==null){let u;if(Array.isArray(c)){u=[];for(let f=0,b=c.length;f<b;f++)c[f].isDataTexture?u.push(ph(c[f].image)):u.push(ph(c[f]))}else u=ph(c);s.url=u}return i||(t.images[this.uuid]=s),s}}function ph(m){return typeof HTMLImageElement<"u"&&m instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&m instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&m instanceof ImageBitmap?zl.getDataURL(m):m.data?{data:Array.from(m.data),width:m.width,height:m.height,type:m.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ed=0;class or extends Gi{constructor(t=or.DEFAULT_IMAGE,i=or.DEFAULT_MAPPING,s=gi,c=gi,u=ur,f=Xi,b=ii,C=so,_=or.DEFAULT_ANISOTROPY,N=Ui){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ed++}),this.uuid=ai(),this.name="",this.source=new Ia(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=s,this.wrapT=c,this.magFilter=u,this.minFilter=f,this.anisotropy=_,this.format=b,this.internalFormat=null,this.type=C,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=N,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=t===void 0||typeof t=="string";if(!i&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const s={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(s.userData=this.userData),i||(t.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==ba)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Nl:t.x=t.x-Math.floor(t.x);break;case gi:t.x=t.x<0?0:1;break;case fs:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Nl:t.y=t.y-Math.floor(t.y);break;case gi:t.y=t.y<0?0:1;break;case fs:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}or.DEFAULT_IMAGE=null,or.DEFAULT_MAPPING=ba,or.DEFAULT_ANISOTROPY=1;class jn{constructor(t=0,i=0,s=0,c=1){jn.prototype.isVector4=!0,this.x=t,this.y=i,this.z=s,this.w=c}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,i,s,c){return this.x=t,this.y=i,this.z=s,this.w=c,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this.w=t.w+i.w,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this.w+=t.w*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this.w=t.w-i.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const i=this.x,s=this.y,c=this.z,u=this.w,f=t.elements;return this.x=f[0]*i+f[4]*s+f[8]*c+f[12]*u,this.y=f[1]*i+f[5]*s+f[9]*c+f[13]*u,this.z=f[2]*i+f[6]*s+f[10]*c+f[14]*u,this.w=f[3]*i+f[7]*s+f[11]*c+f[15]*u,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const i=Math.sqrt(1-t.w*t.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/i,this.y=t.y/i,this.z=t.z/i),this}setAxisAngleFromRotationMatrix(t){let i,s,c,u;const C=t.elements,_=C[0],N=C[4],A=C[8],E=C[1],I=C[5],B=C[9],D=C[2],L=C[6],R=C[10];if(Math.abs(N-E)<.01&&Math.abs(A-D)<.01&&Math.abs(B-L)<.01){if(Math.abs(N+E)<.1&&Math.abs(A+D)<.1&&Math.abs(B+L)<.1&&Math.abs(_+I+R-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const X=(_+1)/2,H=(I+1)/2,me=(R+1)/2,te=(N+E)/4,le=(A+D)/4,ye=(B+L)/4;return X>H&&X>me?X<.01?(s=0,c=.707106781,u=.707106781):(s=Math.sqrt(X),c=te/s,u=le/s):H>me?H<.01?(s=.707106781,c=0,u=.707106781):(c=Math.sqrt(H),s=te/c,u=ye/c):me<.01?(s=.707106781,c=.707106781,u=0):(u=Math.sqrt(me),s=le/u,c=ye/u),this.set(s,c,u,i),this}let G=Math.sqrt((L-B)*(L-B)+(A-D)*(A-D)+(E-N)*(E-N));return Math.abs(G)<.001&&(G=1),this.x=(L-B)/G,this.y=(A-D)/G,this.z=(E-N)/G,this.w=Math.acos((_+I+R-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this.w=Math.max(t.w,Math.min(i.w,this.w)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this.w=Math.max(t,Math.min(i,this.w)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this.w+=(t.w-this.w)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this.z=t.z+(i.z-t.z)*s,this.w=t.w+(i.w-t.w)*s,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this.w=t[i+3],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t[i+3]=this.w,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this.w=t.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nf extends Gi{constructor(t=1,i=1,s={}){super(),this.isRenderTarget=!0,this.width=t,this.height=i,this.depth=1,this.scissor=new jn(0,0,t,i),this.scissorTest=!1,this.viewport=new jn(0,0,t,i);const c={width:t,height:i,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ur,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const u=new or(c,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);u.flipY=!1,u.generateMipmaps=s.generateMipmaps,u.internalFormat=s.internalFormat,this.textures=[];const f=s.count;for(let b=0;b<f;b++)this.textures[b]=u.clone(),this.textures[b].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}setSize(t,i,s=1){if(this.width!==t||this.height!==i||this.depth!==s){this.width=t,this.height=i,this.depth=s;for(let c=0,u=this.textures.length;c<u;c++)this.textures[c].image.width=t,this.textures[c].image.height=i,this.textures[c].image.depth=s;this.dispose()}this.viewport.set(0,0,t,i),this.scissor.set(0,0,t,i)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let s=0,c=t.textures.length;s<c;s++)this.textures[s]=t.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const i=Object.assign({},t.texture.image);return this.texture.source=new Ia(i),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class vi extends nf{constructor(t=1,i=1,s={}){super(t,i,s),this.isWebGLRenderTarget=!0}}class Ul extends or{constructor(t=null,i=1,s=1,c=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:i,height:s,depth:c},this.magFilter=gr,this.minFilter=gr,this.wrapR=gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hb extends vi{constructor(t=1,i=1,s=1,c={}){super(t,i,c),this.isWebGLArrayRenderTarget=!0,this.depth=s,this.texture=new Ul(null,t,i,s),this.texture.isRenderTargetTexture=!0}}class Id extends or{constructor(t=null,i=1,s=1,c=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:i,height:s,depth:c},this.magFilter=gr,this.minFilter=gr,this.wrapR=gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ub extends vi{constructor(t=1,i=1,s=1,c={}){super(t,i,c),this.isWebGL3DRenderTarget=!0,this.depth=s,this.texture=new Id(null,t,i,s),this.texture.isRenderTargetTexture=!0}}class Hr{constructor(t=0,i=0,s=0,c=1){this.isQuaternion=!0,this._x=t,this._y=i,this._z=s,this._w=c}static slerpFlat(t,i,s,c,u,f,b){let C=s[c+0],_=s[c+1],N=s[c+2],A=s[c+3];const E=u[f+0],I=u[f+1],B=u[f+2],D=u[f+3];if(b===0){t[i+0]=C,t[i+1]=_,t[i+2]=N,t[i+3]=A;return}if(b===1){t[i+0]=E,t[i+1]=I,t[i+2]=B,t[i+3]=D;return}if(A!==D||C!==E||_!==I||N!==B){let L=1-b;const R=C*E+_*I+N*B+A*D,G=R>=0?1:-1,X=1-R*R;if(X>Number.EPSILON){const me=Math.sqrt(X),te=Math.atan2(me,R*G);L=Math.sin(L*te)/me,b=Math.sin(b*te)/me}const H=b*G;if(C=C*L+E*H,_=_*L+I*H,N=N*L+B*H,A=A*L+D*H,L===1-b){const me=1/Math.sqrt(C*C+_*_+N*N+A*A);C*=me,_*=me,N*=me,A*=me}}t[i]=C,t[i+1]=_,t[i+2]=N,t[i+3]=A}static multiplyQuaternionsFlat(t,i,s,c,u,f){const b=s[c],C=s[c+1],_=s[c+2],N=s[c+3],A=u[f],E=u[f+1],I=u[f+2],B=u[f+3];return t[i]=b*B+N*A+C*I-_*E,t[i+1]=C*B+N*E+_*A-b*I,t[i+2]=_*B+N*I+b*E-C*A,t[i+3]=N*B-b*A-C*E-_*I,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,i,s,c){return this._x=t,this._y=i,this._z=s,this._w=c,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,i=!0){const s=t._x,c=t._y,u=t._z,f=t._order,b=Math.cos,C=Math.sin,_=b(s/2),N=b(c/2),A=b(u/2),E=C(s/2),I=C(c/2),B=C(u/2);switch(f){case"XYZ":this._x=E*N*A+_*I*B,this._y=_*I*A-E*N*B,this._z=_*N*B+E*I*A,this._w=_*N*A-E*I*B;break;case"YXZ":this._x=E*N*A+_*I*B,this._y=_*I*A-E*N*B,this._z=_*N*B-E*I*A,this._w=_*N*A+E*I*B;break;case"ZXY":this._x=E*N*A-_*I*B,this._y=_*I*A+E*N*B,this._z=_*N*B+E*I*A,this._w=_*N*A-E*I*B;break;case"ZYX":this._x=E*N*A-_*I*B,this._y=_*I*A+E*N*B,this._z=_*N*B-E*I*A,this._w=_*N*A+E*I*B;break;case"YZX":this._x=E*N*A+_*I*B,this._y=_*I*A+E*N*B,this._z=_*N*B-E*I*A,this._w=_*N*A-E*I*B;break;case"XZY":this._x=E*N*A-_*I*B,this._y=_*I*A-E*N*B,this._z=_*N*B+E*I*A,this._w=_*N*A+E*I*B;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+f)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,i){const s=i/2,c=Math.sin(s);return this._x=t.x*c,this._y=t.y*c,this._z=t.z*c,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(t){const i=t.elements,s=i[0],c=i[4],u=i[8],f=i[1],b=i[5],C=i[9],_=i[2],N=i[6],A=i[10],E=s+b+A;if(E>0){const I=.5/Math.sqrt(E+1);this._w=.25/I,this._x=(N-C)*I,this._y=(u-_)*I,this._z=(f-c)*I}else if(s>b&&s>A){const I=2*Math.sqrt(1+s-b-A);this._w=(N-C)/I,this._x=.25*I,this._y=(c+f)/I,this._z=(u+_)/I}else if(b>A){const I=2*Math.sqrt(1+b-s-A);this._w=(u-_)/I,this._x=(c+f)/I,this._y=.25*I,this._z=(C+N)/I}else{const I=2*Math.sqrt(1+A-s-b);this._w=(f-c)/I,this._x=(u+_)/I,this._y=(C+N)/I,this._z=.25*I}return this._onChangeCallback(),this}setFromUnitVectors(t,i){let s=t.dot(i)+1;return s<Number.EPSILON?(s=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=s):(this._x=0,this._y=-t.z,this._z=t.y,this._w=s)):(this._x=t.y*i.z-t.z*i.y,this._y=t.z*i.x-t.x*i.z,this._z=t.x*i.y-t.y*i.x,this._w=s),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Hn(this.dot(t),-1,1)))}rotateTowards(t,i){const s=this.angleTo(t);if(s===0)return this;const c=Math.min(1,i/s);return this.slerp(t,c),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,i){const s=t._x,c=t._y,u=t._z,f=t._w,b=i._x,C=i._y,_=i._z,N=i._w;return this._x=s*N+f*b+c*_-u*C,this._y=c*N+f*C+u*b-s*_,this._z=u*N+f*_+s*C-c*b,this._w=f*N-s*b-c*C-u*_,this._onChangeCallback(),this}slerp(t,i){if(i===0)return this;if(i===1)return this.copy(t);const s=this._x,c=this._y,u=this._z,f=this._w;let b=f*t._w+s*t._x+c*t._y+u*t._z;if(b<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,b=-b):this.copy(t),b>=1)return this._w=f,this._x=s,this._y=c,this._z=u,this;const C=1-b*b;if(C<=Number.EPSILON){const I=1-i;return this._w=I*f+i*this._w,this._x=I*s+i*this._x,this._y=I*c+i*this._y,this._z=I*u+i*this._z,this.normalize(),this}const _=Math.sqrt(C),N=Math.atan2(_,b),A=Math.sin((1-i)*N)/_,E=Math.sin(i*N)/_;return this._w=f*A+this._w*E,this._x=s*A+this._x*E,this._y=c*A+this._y*E,this._z=u*A+this._z*E,this._onChangeCallback(),this}slerpQuaternions(t,i,s){return this.copy(t).slerp(i,s)}random(){const t=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),s=Math.random(),c=Math.sqrt(1-s),u=Math.sqrt(s);return this.set(c*Math.sin(t),c*Math.cos(t),u*Math.sin(i),u*Math.cos(i))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,i=0){return this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t}fromBufferAttribute(t,i){return this._x=t.getX(i),this._y=t.getY(i),this._z=t.getZ(i),this._w=t.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(t=0,i=0,s=0){ie.prototype.isVector3=!0,this.x=t,this.y=i,this.z=s}set(t,i,s){return s===void 0&&(s=this.z),this.x=t,this.y=i,this.z=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this}addScaledVector(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this}applyEuler(t){return this.applyQuaternion(rf.setFromEuler(t))}applyAxisAngle(t,i){return this.applyQuaternion(rf.setFromAxisAngle(t,i))}applyMatrix3(t){const i=this.x,s=this.y,c=this.z,u=t.elements;return this.x=u[0]*i+u[3]*s+u[6]*c,this.y=u[1]*i+u[4]*s+u[7]*c,this.z=u[2]*i+u[5]*s+u[8]*c,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const i=this.x,s=this.y,c=this.z,u=t.elements,f=1/(u[3]*i+u[7]*s+u[11]*c+u[15]);return this.x=(u[0]*i+u[4]*s+u[8]*c+u[12])*f,this.y=(u[1]*i+u[5]*s+u[9]*c+u[13])*f,this.z=(u[2]*i+u[6]*s+u[10]*c+u[14])*f,this}applyQuaternion(t){const i=this.x,s=this.y,c=this.z,u=t.x,f=t.y,b=t.z,C=t.w,_=2*(f*c-b*s),N=2*(b*i-u*c),A=2*(u*s-f*i);return this.x=i+C*_+f*A-b*N,this.y=s+C*N+b*_-u*A,this.z=c+C*A+u*N-f*_,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const i=this.x,s=this.y,c=this.z,u=t.elements;return this.x=u[0]*i+u[4]*s+u[8]*c,this.y=u[1]*i+u[5]*s+u[9]*c,this.z=u[2]*i+u[6]*s+u[10]*c,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this}clampScalar(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this}clampLength(t,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(t,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this}lerpVectors(t,i,s){return this.x=t.x+(i.x-t.x)*s,this.y=t.y+(i.y-t.y)*s,this.z=t.z+(i.z-t.z)*s,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,i){const s=t.x,c=t.y,u=t.z,f=i.x,b=i.y,C=i.z;return this.x=c*C-u*b,this.y=u*f-s*C,this.z=s*b-c*f,this}projectOnVector(t){const i=t.lengthSq();if(i===0)return this.set(0,0,0);const s=t.dot(this)/i;return this.copy(t).multiplyScalar(s)}projectOnPlane(t){return Rd.copy(this).projectOnVector(t),this.sub(Rd)}reflect(t){return this.sub(Rd.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const i=Math.sqrt(this.lengthSq()*t.lengthSq());if(i===0)return Math.PI/2;const s=this.dot(t)/i;return Math.acos(Hn(s,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const i=this.x-t.x,s=this.y-t.y,c=this.z-t.z;return i*i+s*s+c*c}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,i,s){const c=Math.sin(i)*t;return this.x=c*Math.sin(s),this.y=Math.cos(i)*t,this.z=c*Math.cos(s),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,i,s){return this.x=t*Math.sin(i),this.y=s,this.z=t*Math.cos(i),this}setFromMatrixPosition(t){const i=t.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(t){const i=this.setFromMatrixColumn(t,0).length(),s=this.setFromMatrixColumn(t,1).length(),c=this.setFromMatrixColumn(t,2).length();return this.x=i,this.y=s,this.z=c,this}setFromMatrixColumn(t,i){return this.fromArray(t.elements,i*4)}setFromMatrix3Column(t,i){return this.fromArray(t.elements,i*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,i=0){return this.x=t[i],this.y=t[i+1],this.z=t[i+2],this}toArray(t=[],i=0){return t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t}fromBufferAttribute(t,i){return this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,i=Math.random()*2-1,s=Math.sqrt(1-i*i);return this.x=s*Math.cos(t),this.y=i,this.z=s*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Rd=new ie,rf=new Hr;class Ur{constructor(t=new ie(1/0,1/0,1/0),i=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=i}set(t,i){return this.min.copy(t),this.max.copy(i),this}setFromArray(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i+=3)this.expandByPoint(Mi.fromArray(t,i));return this}setFromBufferAttribute(t){this.makeEmpty();for(let i=0,s=t.count;i<s;i++)this.expandByPoint(Mi.fromBufferAttribute(t,i));return this}setFromPoints(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,i){const s=Mi.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}setFromObject(t,i=!1){return this.makeEmpty(),this.expandByObject(t,i)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,i=!1){t.updateWorldMatrix(!1,!1);const s=t.geometry;if(s!==void 0){const u=s.getAttribute("position");if(i===!0&&u!==void 0&&t.isInstancedMesh!==!0)for(let f=0,b=u.count;f<b;f++)t.isMesh===!0?t.getVertexPosition(f,Mi):Mi.fromBufferAttribute(u,f),Mi.applyMatrix4(t.matrixWorld),this.expandByPoint(Mi);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),fh.copy(t.boundingBox)):(s.boundingBox===null&&s.computeBoundingBox(),fh.copy(s.boundingBox)),fh.applyMatrix4(t.matrixWorld),this.union(fh)}const c=t.children;for(let u=0,f=c.length;u<f;u++)this.expandByObject(c[u],i);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Mi),Mi.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let i,s;return t.normal.x>0?(i=t.normal.x*this.min.x,s=t.normal.x*this.max.x):(i=t.normal.x*this.max.x,s=t.normal.x*this.min.x),t.normal.y>0?(i+=t.normal.y*this.min.y,s+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,s+=t.normal.y*this.min.y),t.normal.z>0?(i+=t.normal.z*this.min.z,s+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,s+=t.normal.z*this.min.z),i<=-t.constant&&s>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Ss),gh.subVectors(this.max,Ss),ws.subVectors(t.a,Ss),Ns.subVectors(t.b,Ss),Ms.subVectors(t.c,Ss),ho.subVectors(Ns,ws),uo.subVectors(Ms,Ns),Ra.subVectors(ws,Ms);let i=[0,-ho.z,ho.y,0,-uo.z,uo.y,0,-Ra.z,Ra.y,ho.z,0,-ho.x,uo.z,0,-uo.x,Ra.z,0,-Ra.x,-ho.y,ho.x,0,-uo.y,uo.x,0,-Ra.y,Ra.x,0];return!Pd(i,ws,Ns,Ms,gh)||(i=[1,0,0,0,1,0,0,0,1],!Pd(i,ws,Ns,Ms,gh))?!1:(bh.crossVectors(ho,uo),i=[bh.x,bh.y,bh.z],Pd(i,ws,Ns,Ms,gh))}clampPoint(t,i){return i.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Mi).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Mi).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(co[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),co[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),co[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),co[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),co[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),co[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),co[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),co[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(co),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const co=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],Mi=new ie,fh=new Ur,ws=new ie,Ns=new ie,Ms=new ie,ho=new ie,uo=new ie,Ra=new ie,Ss=new ie,gh=new ie,bh=new ie,si=new ie;function Pd(m,t,i,s,c){for(let u=0,f=m.length-3;u<=f;u+=3){si.fromArray(m,u);const b=c.x*Math.abs(si.x)+c.y*Math.abs(si.y)+c.z*Math.abs(si.z),C=t.dot(si),_=i.dot(si),N=s.dot(si);if(Math.max(-Math.max(C,_,N),Math.min(C,_,N))>b)return!1}return!0}const db=new Ur,Wi=new ie,Bd=new ie;class jr{constructor(t=new ie,i=-1){this.isSphere=!0,this.center=t,this.radius=i}set(t,i){return this.center.copy(t),this.radius=i,this}setFromPoints(t,i){const s=this.center;i!==void 0?s.copy(i):db.setFromPoints(t).getCenter(s);let c=0;for(let u=0,f=t.length;u<f;u++)c=Math.max(c,s.distanceToSquared(t[u]));return this.radius=Math.sqrt(c),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,i){const s=this.center.distanceToSquared(t);return i.copy(t),s>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;Wi.subVectors(t,this.center);const i=Wi.lengthSq();if(i>this.radius*this.radius){const s=Math.sqrt(i),c=(s-this.radius)*.5;this.center.addScaledVector(Wi,c/s),this.radius+=c}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(Bd.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(Wi.copy(t.center).add(Bd)),this.expandByPoint(Wi.copy(t.center).sub(Bd))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const mo=new ie,Od=new ie,vh=new ie,Vi=new ie,Gr=new ie,Gl=new ie,yh=new ie;class po{constructor(t=new ie,i=new ie(0,0,-1)){this.origin=t,this.direction=i}set(t,i){return this.origin.copy(t),this.direction.copy(i),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,i){return i.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,mo)),this}closestPointToPoint(t,i){i.subVectors(t,this.origin);const s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const i=mo.subVectors(t,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(t):(mo.copy(this.origin).addScaledVector(this.direction,i),mo.distanceToSquared(t))}distanceSqToSegment(t,i,s,c){Od.copy(t).add(i).multiplyScalar(.5),vh.copy(i).sub(t).normalize(),Vi.copy(this.origin).sub(Od);const u=t.distanceTo(i)*.5,f=-this.direction.dot(vh),b=Vi.dot(this.direction),C=-Vi.dot(vh),_=Vi.lengthSq(),N=Math.abs(1-f*f);let A,E,I,B;if(N>0)if(A=f*C-b,E=f*b-C,B=u*N,A>=0)if(E>=-B)if(E<=B){const D=1/N;A*=D,E*=D,I=A*(A+f*E+2*b)+E*(f*A+E+2*C)+_}else E=u,A=Math.max(0,-(f*E+b)),I=-A*A+E*(E+2*C)+_;else E=-u,A=Math.max(0,-(f*E+b)),I=-A*A+E*(E+2*C)+_;else E<=-B?(A=Math.max(0,-(-f*u+b)),E=A>0?-u:Math.min(Math.max(-u,-C),u),I=-A*A+E*(E+2*C)+_):E<=B?(A=0,E=Math.min(Math.max(-u,-C),u),I=E*(E+2*C)+_):(A=Math.max(0,-(f*u+b)),E=A>0?u:Math.min(Math.max(-u,-C),u),I=-A*A+E*(E+2*C)+_);else E=f>0?-u:u,A=Math.max(0,-(f*E+b)),I=-A*A+E*(E+2*C)+_;return s&&s.copy(this.origin).addScaledVector(this.direction,A),c&&c.copy(Od).addScaledVector(vh,E),I}intersectSphere(t,i){mo.subVectors(t.center,this.origin);const s=mo.dot(this.direction),c=mo.dot(mo)-s*s,u=t.radius*t.radius;if(c>u)return null;const f=Math.sqrt(u-c),b=s-f,C=s+f;return C<0?null:b<0?this.at(C,i):this.at(b,i)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const i=t.normal.dot(this.direction);if(i===0)return t.distanceToPoint(this.origin)===0?0:null;const s=-(this.origin.dot(t.normal)+t.constant)/i;return s>=0?s:null}intersectPlane(t,i){const s=this.distanceToPlane(t);return s===null?null:this.at(s,i)}intersectsPlane(t){const i=t.distanceToPoint(this.origin);return i===0||t.normal.dot(this.direction)*i<0}intersectBox(t,i){let s,c,u,f,b,C;const _=1/this.direction.x,N=1/this.direction.y,A=1/this.direction.z,E=this.origin;return _>=0?(s=(t.min.x-E.x)*_,c=(t.max.x-E.x)*_):(s=(t.max.x-E.x)*_,c=(t.min.x-E.x)*_),N>=0?(u=(t.min.y-E.y)*N,f=(t.max.y-E.y)*N):(u=(t.max.y-E.y)*N,f=(t.min.y-E.y)*N),s>f||u>c||((u>s||isNaN(s))&&(s=u),(f<c||isNaN(c))&&(c=f),A>=0?(b=(t.min.z-E.z)*A,C=(t.max.z-E.z)*A):(b=(t.max.z-E.z)*A,C=(t.min.z-E.z)*A),s>C||b>c)||((b>s||s!==s)&&(s=b),(C<c||c!==c)&&(c=C),c<0)?null:this.at(s>=0?s:c,i)}intersectsBox(t){return this.intersectBox(t,mo)!==null}intersectTriangle(t,i,s,c,u){Gr.subVectors(i,t),Gl.subVectors(s,t),yh.crossVectors(Gr,Gl);let f=this.direction.dot(yh),b;if(f>0){if(c)return null;b=1}else if(f<0)b=-1,f=-f;else return null;Vi.subVectors(this.origin,t);const C=b*this.direction.dot(Gl.crossVectors(Vi,Gl));if(C<0)return null;const _=b*this.direction.dot(Gr.cross(Vi));if(_<0||C+_>f)return null;const N=-b*Vi.dot(yh);return N<0?null:this.at(N/f,u)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ut{constructor(t,i,s,c,u,f,b,C,_,N,A,E,I,B,D,L){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,i,s,c,u,f,b,C,_,N,A,E,I,B,D,L)}set(t,i,s,c,u,f,b,C,_,N,A,E,I,B,D,L){const R=this.elements;return R[0]=t,R[4]=i,R[8]=s,R[12]=c,R[1]=u,R[5]=f,R[9]=b,R[13]=C,R[2]=_,R[6]=N,R[10]=A,R[14]=E,R[3]=I,R[7]=B,R[11]=D,R[15]=L,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ut().fromArray(this.elements)}copy(t){const i=this.elements,s=t.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this}copyPosition(t){const i=this.elements,s=t.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this}setFromMatrix3(t){const i=t.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(t,i,s){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(t,i,s){return this.set(t.x,i.x,s.x,0,t.y,i.y,s.y,0,t.z,i.z,s.z,0,0,0,0,1),this}extractRotation(t){const i=this.elements,s=t.elements,c=1/Pa.setFromMatrixColumn(t,0).length(),u=1/Pa.setFromMatrixColumn(t,1).length(),f=1/Pa.setFromMatrixColumn(t,2).length();return i[0]=s[0]*c,i[1]=s[1]*c,i[2]=s[2]*c,i[3]=0,i[4]=s[4]*u,i[5]=s[5]*u,i[6]=s[6]*u,i[7]=0,i[8]=s[8]*f,i[9]=s[9]*f,i[10]=s[10]*f,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(t){const i=this.elements,s=t.x,c=t.y,u=t.z,f=Math.cos(s),b=Math.sin(s),C=Math.cos(c),_=Math.sin(c),N=Math.cos(u),A=Math.sin(u);if(t.order==="XYZ"){const E=f*N,I=f*A,B=b*N,D=b*A;i[0]=C*N,i[4]=-C*A,i[8]=_,i[1]=I+B*_,i[5]=E-D*_,i[9]=-b*C,i[2]=D-E*_,i[6]=B+I*_,i[10]=f*C}else if(t.order==="YXZ"){const E=C*N,I=C*A,B=_*N,D=_*A;i[0]=E+D*b,i[4]=B*b-I,i[8]=f*_,i[1]=f*A,i[5]=f*N,i[9]=-b,i[2]=I*b-B,i[6]=D+E*b,i[10]=f*C}else if(t.order==="ZXY"){const E=C*N,I=C*A,B=_*N,D=_*A;i[0]=E-D*b,i[4]=-f*A,i[8]=B+I*b,i[1]=I+B*b,i[5]=f*N,i[9]=D-E*b,i[2]=-f*_,i[6]=b,i[10]=f*C}else if(t.order==="ZYX"){const E=f*N,I=f*A,B=b*N,D=b*A;i[0]=C*N,i[4]=B*_-I,i[8]=E*_+D,i[1]=C*A,i[5]=D*_+E,i[9]=I*_-B,i[2]=-_,i[6]=b*C,i[10]=f*C}else if(t.order==="YZX"){const E=f*C,I=f*_,B=b*C,D=b*_;i[0]=C*N,i[4]=D-E*A,i[8]=B*A+I,i[1]=A,i[5]=f*N,i[9]=-b*N,i[2]=-_*N,i[6]=I*A+B,i[10]=E-D*A}else if(t.order==="XZY"){const E=f*C,I=f*_,B=b*C,D=b*_;i[0]=C*N,i[4]=-A,i[8]=_*N,i[1]=E*A+D,i[5]=f*N,i[9]=I*A-B,i[2]=B*A-I,i[6]=b*N,i[10]=D*A+E}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(t){return this.compose(of,t,Ld)}lookAt(t,i,s){const c=this.elements;return $r.subVectors(t,i),$r.lengthSq()===0&&($r.z=1),$r.normalize(),Vo.crossVectors(s,$r),Vo.lengthSq()===0&&(Math.abs(s.z)===1?$r.x+=1e-4:$r.z+=1e-4,$r.normalize(),Vo.crossVectors(s,$r)),Vo.normalize(),Wl.crossVectors($r,Vo),c[0]=Vo.x,c[4]=Wl.x,c[8]=$r.x,c[1]=Vo.y,c[5]=Wl.y,c[9]=$r.y,c[2]=Vo.z,c[6]=Wl.z,c[10]=$r.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,i){const s=t.elements,c=i.elements,u=this.elements,f=s[0],b=s[4],C=s[8],_=s[12],N=s[1],A=s[5],E=s[9],I=s[13],B=s[2],D=s[6],L=s[10],R=s[14],G=s[3],X=s[7],H=s[11],me=s[15],te=c[0],le=c[4],ye=c[8],J=c[12],$=c[1],we=c[5],Fe=c[9],Ce=c[13],Oe=c[2],We=c[6],Ye=c[10],gt=c[14],Xe=c[3],at=c[7],ot=c[11],Rt=c[15];return u[0]=f*te+b*$+C*Oe+_*Xe,u[4]=f*le+b*we+C*We+_*at,u[8]=f*ye+b*Fe+C*Ye+_*ot,u[12]=f*J+b*Ce+C*gt+_*Rt,u[1]=N*te+A*$+E*Oe+I*Xe,u[5]=N*le+A*we+E*We+I*at,u[9]=N*ye+A*Fe+E*Ye+I*ot,u[13]=N*J+A*Ce+E*gt+I*Rt,u[2]=B*te+D*$+L*Oe+R*Xe,u[6]=B*le+D*we+L*We+R*at,u[10]=B*ye+D*Fe+L*Ye+R*ot,u[14]=B*J+D*Ce+L*gt+R*Rt,u[3]=G*te+X*$+H*Oe+me*Xe,u[7]=G*le+X*we+H*We+me*at,u[11]=G*ye+X*Fe+H*Ye+me*ot,u[15]=G*J+X*Ce+H*gt+me*Rt,this}multiplyScalar(t){const i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this}determinant(){const t=this.elements,i=t[0],s=t[4],c=t[8],u=t[12],f=t[1],b=t[5],C=t[9],_=t[13],N=t[2],A=t[6],E=t[10],I=t[14],B=t[3],D=t[7],L=t[11],R=t[15];return B*(+u*C*A-c*_*A-u*b*E+s*_*E+c*b*I-s*C*I)+D*(+i*C*I-i*_*E+u*f*E-c*f*I+c*_*N-u*C*N)+L*(+i*_*A-i*b*I-u*f*A+s*f*I+u*b*N-s*_*N)+R*(-c*b*N-i*C*A+i*b*E+c*f*A-s*f*E+s*C*N)}transpose(){const t=this.elements;let i;return i=t[1],t[1]=t[4],t[4]=i,i=t[2],t[2]=t[8],t[8]=i,i=t[6],t[6]=t[9],t[9]=i,i=t[3],t[3]=t[12],t[12]=i,i=t[7],t[7]=t[13],t[13]=i,i=t[11],t[11]=t[14],t[14]=i,this}setPosition(t,i,s){const c=this.elements;return t.isVector3?(c[12]=t.x,c[13]=t.y,c[14]=t.z):(c[12]=t,c[13]=i,c[14]=s),this}invert(){const t=this.elements,i=t[0],s=t[1],c=t[2],u=t[3],f=t[4],b=t[5],C=t[6],_=t[7],N=t[8],A=t[9],E=t[10],I=t[11],B=t[12],D=t[13],L=t[14],R=t[15],G=A*L*_-D*E*_+D*C*I-b*L*I-A*C*R+b*E*R,X=B*E*_-N*L*_-B*C*I+f*L*I+N*C*R-f*E*R,H=N*D*_-B*A*_+B*b*I-f*D*I-N*b*R+f*A*R,me=B*A*C-N*D*C-B*b*E+f*D*E+N*b*L-f*A*L,te=i*G+s*X+c*H+u*me;if(te===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const le=1/te;return t[0]=G*le,t[1]=(D*E*u-A*L*u-D*c*I+s*L*I+A*c*R-s*E*R)*le,t[2]=(b*L*u-D*C*u+D*c*_-s*L*_-b*c*R+s*C*R)*le,t[3]=(A*C*u-b*E*u-A*c*_+s*E*_+b*c*I-s*C*I)*le,t[4]=X*le,t[5]=(N*L*u-B*E*u+B*c*I-i*L*I-N*c*R+i*E*R)*le,t[6]=(B*C*u-f*L*u-B*c*_+i*L*_+f*c*R-i*C*R)*le,t[7]=(f*E*u-N*C*u+N*c*_-i*E*_-f*c*I+i*C*I)*le,t[8]=H*le,t[9]=(B*A*u-N*D*u-B*s*I+i*D*I+N*s*R-i*A*R)*le,t[10]=(f*D*u-B*b*u+B*s*_-i*D*_-f*s*R+i*b*R)*le,t[11]=(N*b*u-f*A*u-N*s*_+i*A*_+f*s*I-i*b*I)*le,t[12]=me*le,t[13]=(N*D*c-B*A*c+B*s*E-i*D*E-N*s*L+i*A*L)*le,t[14]=(B*b*c-f*D*c-B*s*C+i*D*C+f*s*L-i*b*L)*le,t[15]=(f*A*c-N*b*c+N*s*C-i*A*C-f*s*E+i*b*E)*le,this}scale(t){const i=this.elements,s=t.x,c=t.y,u=t.z;return i[0]*=s,i[4]*=c,i[8]*=u,i[1]*=s,i[5]*=c,i[9]*=u,i[2]*=s,i[6]*=c,i[10]*=u,i[3]*=s,i[7]*=c,i[11]*=u,this}getMaxScaleOnAxis(){const t=this.elements,i=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],s=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],c=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(i,s,c))}makeTranslation(t,i,s){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,i,0,0,1,s,0,0,0,1),this}makeRotationX(t){const i=Math.cos(t),s=Math.sin(t);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this}makeRotationY(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this}makeRotationZ(t){const i=Math.cos(t),s=Math.sin(t);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,i){const s=Math.cos(i),c=Math.sin(i),u=1-s,f=t.x,b=t.y,C=t.z,_=u*f,N=u*b;return this.set(_*f+s,_*b-c*C,_*C+c*b,0,_*b+c*C,N*b+s,N*C-c*f,0,_*C-c*b,N*C+c*f,u*C*C+s,0,0,0,0,1),this}makeScale(t,i,s){return this.set(t,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this}makeShear(t,i,s,c,u,f){return this.set(1,s,u,0,t,1,f,0,i,c,1,0,0,0,0,1),this}compose(t,i,s){const c=this.elements,u=i._x,f=i._y,b=i._z,C=i._w,_=u+u,N=f+f,A=b+b,E=u*_,I=u*N,B=u*A,D=f*N,L=f*A,R=b*A,G=C*_,X=C*N,H=C*A,me=s.x,te=s.y,le=s.z;return c[0]=(1-(D+R))*me,c[1]=(I+H)*me,c[2]=(B-X)*me,c[3]=0,c[4]=(I-H)*te,c[5]=(1-(E+R))*te,c[6]=(L+G)*te,c[7]=0,c[8]=(B+X)*le,c[9]=(L-G)*le,c[10]=(1-(E+D))*le,c[11]=0,c[12]=t.x,c[13]=t.y,c[14]=t.z,c[15]=1,this}decompose(t,i,s){const c=this.elements;let u=Pa.set(c[0],c[1],c[2]).length();const f=Pa.set(c[4],c[5],c[6]).length(),b=Pa.set(c[8],c[9],c[10]).length();this.determinant()<0&&(u=-u),t.x=c[12],t.y=c[13],t.z=c[14],Si.copy(this);const _=1/u,N=1/f,A=1/b;return Si.elements[0]*=_,Si.elements[1]*=_,Si.elements[2]*=_,Si.elements[4]*=N,Si.elements[5]*=N,Si.elements[6]*=N,Si.elements[8]*=A,Si.elements[9]*=A,Si.elements[10]*=A,i.setFromRotationMatrix(Si),s.x=u,s.y=f,s.z=b,this}makePerspective(t,i,s,c,u,f,b=oi){const C=this.elements,_=2*u/(i-t),N=2*u/(s-c),A=(i+t)/(i-t),E=(s+c)/(s-c);let I,B;if(b===oi)I=-(f+u)/(f-u),B=-2*f*u/(f-u);else if(b===Na)I=-f/(f-u),B=-f*u/(f-u);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+b);return C[0]=_,C[4]=0,C[8]=A,C[12]=0,C[1]=0,C[5]=N,C[9]=E,C[13]=0,C[2]=0,C[6]=0,C[10]=I,C[14]=B,C[3]=0,C[7]=0,C[11]=-1,C[15]=0,this}makeOrthographic(t,i,s,c,u,f,b=oi){const C=this.elements,_=1/(i-t),N=1/(s-c),A=1/(f-u),E=(i+t)*_,I=(s+c)*N;let B,D;if(b===oi)B=(f+u)*A,D=-2*A;else if(b===Na)B=u*A,D=-1*A;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+b);return C[0]=2*_,C[4]=0,C[8]=0,C[12]=-E,C[1]=0,C[5]=2*N,C[9]=0,C[13]=-I,C[2]=0,C[6]=0,C[10]=D,C[14]=-B,C[3]=0,C[7]=0,C[11]=0,C[15]=1,this}equals(t){const i=this.elements,s=t.elements;for(let c=0;c<16;c++)if(i[c]!==s[c])return!1;return!0}fromArray(t,i=0){for(let s=0;s<16;s++)this.elements[s]=t[s+i];return this}toArray(t=[],i=0){const s=this.elements;return t[i]=s[0],t[i+1]=s[1],t[i+2]=s[2],t[i+3]=s[3],t[i+4]=s[4],t[i+5]=s[5],t[i+6]=s[6],t[i+7]=s[7],t[i+8]=s[8],t[i+9]=s[9],t[i+10]=s[10],t[i+11]=s[11],t[i+12]=s[12],t[i+13]=s[13],t[i+14]=s[14],t[i+15]=s[15],t}}const Pa=new ie,Si=new Ut,of=new ie(0,0,0),Ld=new ie(1,1,1),Vo=new ie,Wl=new ie,$r=new ie,af=new Ut,sf=new Hr;class li{constructor(t=0,i=0,s=0,c=li.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=s,this._order=c}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,s,c=this._order){return this._x=t,this._y=i,this._z=s,this._order=c,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,s=!0){const c=t.elements,u=c[0],f=c[4],b=c[8],C=c[1],_=c[5],N=c[9],A=c[2],E=c[6],I=c[10];switch(i){case"XYZ":this._y=Math.asin(Hn(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(-N,I),this._z=Math.atan2(-f,u)):(this._x=Math.atan2(E,_),this._z=0);break;case"YXZ":this._x=Math.asin(-Hn(N,-1,1)),Math.abs(N)<.9999999?(this._y=Math.atan2(b,I),this._z=Math.atan2(C,_)):(this._y=Math.atan2(-A,u),this._z=0);break;case"ZXY":this._x=Math.asin(Hn(E,-1,1)),Math.abs(E)<.9999999?(this._y=Math.atan2(-A,I),this._z=Math.atan2(-f,_)):(this._y=0,this._z=Math.atan2(C,u));break;case"ZYX":this._y=Math.asin(-Hn(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(E,I),this._z=Math.atan2(C,u)):(this._x=0,this._z=Math.atan2(-f,_));break;case"YZX":this._z=Math.asin(Hn(C,-1,1)),Math.abs(C)<.9999999?(this._x=Math.atan2(-N,_),this._y=Math.atan2(-A,u)):(this._x=0,this._y=Math.atan2(b,I));break;case"XZY":this._z=Math.asin(-Hn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(E,_),this._y=Math.atan2(b,u)):(this._x=Math.atan2(-N,I),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,s===!0&&this._onChangeCallback(),this}setFromQuaternion(t,i,s){return af.makeRotationFromQuaternion(t),this.setFromRotationMatrix(af,i,s)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return sf.setFromEuler(this),this.setFromQuaternion(sf,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}li.DEFAULT_ORDER="XYZ";class As{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let Es=0;const lf=new ie,Is=new Hr,fo=new Ut,Vl=new ie,Hi=new ie,mb=new ie,cf=new Hr,hf=new ie(1,0,0),uf=new ie(0,1,0),df=new ie(0,0,1),mf={type:"added"},pb={type:"removed"},Rs={type:"childadded",child:null},jd={type:"childremoved",child:null};class Mn extends Gi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Es++}),this.uuid=ai(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const t=new ie,i=new li,s=new Hr,c=new ie(1,1,1);function u(){s.setFromEuler(i,!1)}function f(){i.setFromQuaternion(s,void 0,!1)}i._onChange(u),s._onChange(f),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:s},scale:{configurable:!0,enumerable:!0,value:c},modelViewMatrix:{value:new Ut},normalMatrix:{value:new Zt}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new As,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return Is.setFromAxisAngle(t,i),this.quaternion.multiply(Is),this}rotateOnWorldAxis(t,i){return Is.setFromAxisAngle(t,i),this.quaternion.premultiply(Is),this}rotateX(t){return this.rotateOnAxis(hf,t)}rotateY(t){return this.rotateOnAxis(uf,t)}rotateZ(t){return this.rotateOnAxis(df,t)}translateOnAxis(t,i){return lf.copy(t).applyQuaternion(this.quaternion),this.position.add(lf.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(hf,t)}translateY(t){return this.translateOnAxis(uf,t)}translateZ(t){return this.translateOnAxis(df,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(fo.copy(this.matrixWorld).invert())}lookAt(t,i,s){t.isVector3?Vl.copy(t):Vl.set(t,i,s);const c=this.parent;this.updateWorldMatrix(!0,!1),Hi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?fo.lookAt(Hi,Vl,this.up):fo.lookAt(Vl,Hi,this.up),this.quaternion.setFromRotationMatrix(fo),c&&(fo.extractRotation(c.matrixWorld),Is.setFromRotationMatrix(fo),this.quaternion.premultiply(Is.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(mf),Rs.child=t,this.dispatchEvent(Rs),Rs.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.remove(arguments[s]);return this}const i=this.children.indexOf(t);return i!==-1&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(pb),jd.child=t,this.dispatchEvent(jd),jd.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),fo.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),fo.multiply(t.parent.matrixWorld)),t.applyMatrix4(fo),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(mf),Rs.child=t,this.dispatchEvent(Rs),Rs.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let s=0,c=this.children.length;s<c;s++){const f=this.children[s].getObjectByProperty(t,i);if(f!==void 0)return f}}getObjectsByProperty(t,i,s=[]){this[t]===i&&s.push(this);const c=this.children;for(let u=0,f=c.length;u<f;u++)c[u].getObjectsByProperty(t,i,s);return s}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hi,t,mb),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hi,cf,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let s=0,c=i.length;s<c;s++)i[s].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const i=this.children;for(let s=0,c=i.length;s<c;s++)i[s].traverseVisible(t)}traverseAncestors(t){const i=this.parent;i!==null&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let s=0,c=i.length;s<c;s++){const u=i[s];(u.matrixWorldAutoUpdate===!0||t===!0)&&u.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const s=this.parent;if(t===!0&&s!==null&&s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),i===!0){const c=this.children;for(let u=0,f=c.length;u<f;u++){const b=c[u];b.matrixWorldAutoUpdate===!0&&b.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=t===void 0||typeof t=="string",s={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},s.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const c={};c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.castShadow===!0&&(c.castShadow=!0),this.receiveShadow===!0&&(c.receiveShadow=!0),this.visible===!1&&(c.visible=!1),this.frustumCulled===!1&&(c.frustumCulled=!1),this.renderOrder!==0&&(c.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(c.userData=this.userData),c.layers=this.layers.mask,c.matrix=this.matrix.toArray(),c.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(c.matrixAutoUpdate=!1),this.isInstancedMesh&&(c.type="InstancedMesh",c.count=this.count,c.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(c.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(c.type="BatchedMesh",c.perObjectFrustumCulled=this.perObjectFrustumCulled,c.sortObjects=this.sortObjects,c.drawRanges=this._drawRanges,c.reservedRanges=this._reservedRanges,c.visibility=this._visibility,c.active=this._active,c.bounds=this._bounds.map(b=>({boxInitialized:b.boxInitialized,boxMin:b.box.min.toArray(),boxMax:b.box.max.toArray(),sphereInitialized:b.sphereInitialized,sphereRadius:b.sphere.radius,sphereCenter:b.sphere.center.toArray()})),c.maxGeometryCount=this._maxGeometryCount,c.maxVertexCount=this._maxVertexCount,c.maxIndexCount=this._maxIndexCount,c.geometryInitialized=this._geometryInitialized,c.geometryCount=this._geometryCount,c.matricesTexture=this._matricesTexture.toJSON(t),this.boundingSphere!==null&&(c.boundingSphere={center:c.boundingSphere.center.toArray(),radius:c.boundingSphere.radius}),this.boundingBox!==null&&(c.boundingBox={min:c.boundingBox.min.toArray(),max:c.boundingBox.max.toArray()}));function u(b,C){return b[C.uuid]===void 0&&(b[C.uuid]=C.toJSON(t)),C.uuid}if(this.isScene)this.background&&(this.background.isColor?c.background=this.background.toJSON():this.background.isTexture&&(c.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(c.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){c.geometry=u(t.geometries,this.geometry);const b=this.geometry.parameters;if(b!==void 0&&b.shapes!==void 0){const C=b.shapes;if(Array.isArray(C))for(let _=0,N=C.length;_<N;_++){const A=C[_];u(t.shapes,A)}else u(t.shapes,C)}}if(this.isSkinnedMesh&&(c.bindMode=this.bindMode,c.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(u(t.skeletons,this.skeleton),c.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const b=[];for(let C=0,_=this.material.length;C<_;C++)b.push(u(t.materials,this.material[C]));c.material=b}else c.material=u(t.materials,this.material);if(this.children.length>0){c.children=[];for(let b=0;b<this.children.length;b++)c.children.push(this.children[b].toJSON(t).object)}if(this.animations.length>0){c.animations=[];for(let b=0;b<this.animations.length;b++){const C=this.animations[b];c.animations.push(u(t.animations,C))}}if(i){const b=f(t.geometries),C=f(t.materials),_=f(t.textures),N=f(t.images),A=f(t.shapes),E=f(t.skeletons),I=f(t.animations),B=f(t.nodes);b.length>0&&(s.geometries=b),C.length>0&&(s.materials=C),_.length>0&&(s.textures=_),N.length>0&&(s.images=N),A.length>0&&(s.shapes=A),E.length>0&&(s.skeletons=E),I.length>0&&(s.animations=I),B.length>0&&(s.nodes=B)}return s.object=c,s;function f(b){const C=[];for(const _ in b){const N=b[_];delete N.metadata,C.push(N)}return C}}clone(t){return new this.constructor().copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),i===!0)for(let s=0;s<t.children.length;s++){const c=t.children[s];this.add(c.clone())}return this}}Mn.DEFAULT_UP=new ie(0,1,0),Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0,Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ai=new ie,go=new ie,Dd=new ie,bo=new ie,Ps=new ie,Bs=new ie,xh=new ie,Fd=new ie,Hl=new ie,$l=new ie;class Wr{constructor(t=new ie,i=new ie,s=new ie){this.a=t,this.b=i,this.c=s}static getNormal(t,i,s,c){c.subVectors(s,i),Ai.subVectors(t,i),c.cross(Ai);const u=c.lengthSq();return u>0?c.multiplyScalar(1/Math.sqrt(u)):c.set(0,0,0)}static getBarycoord(t,i,s,c,u){Ai.subVectors(c,i),go.subVectors(s,i),Dd.subVectors(t,i);const f=Ai.dot(Ai),b=Ai.dot(go),C=Ai.dot(Dd),_=go.dot(go),N=go.dot(Dd),A=f*_-b*b;if(A===0)return u.set(0,0,0),null;const E=1/A,I=(_*C-b*N)*E,B=(f*N-b*C)*E;return u.set(1-I-B,B,I)}static containsPoint(t,i,s,c){return this.getBarycoord(t,i,s,c,bo)===null?!1:bo.x>=0&&bo.y>=0&&bo.x+bo.y<=1}static getInterpolation(t,i,s,c,u,f,b,C){return this.getBarycoord(t,i,s,c,bo)===null?(C.x=0,C.y=0,"z"in C&&(C.z=0),"w"in C&&(C.w=0),null):(C.setScalar(0),C.addScaledVector(u,bo.x),C.addScaledVector(f,bo.y),C.addScaledVector(b,bo.z),C)}static isFrontFacing(t,i,s,c){return Ai.subVectors(s,i),go.subVectors(t,i),Ai.cross(go).dot(c)<0}set(t,i,s){return this.a.copy(t),this.b.copy(i),this.c.copy(s),this}setFromPointsAndIndices(t,i,s,c){return this.a.copy(t[i]),this.b.copy(t[s]),this.c.copy(t[c]),this}setFromAttributeAndIndices(t,i,s,c){return this.a.fromBufferAttribute(t,i),this.b.fromBufferAttribute(t,s),this.c.fromBufferAttribute(t,c),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ai.subVectors(this.c,this.b),go.subVectors(this.a,this.b),Ai.cross(go).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Wr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,i){return Wr.getBarycoord(t,this.a,this.b,this.c,i)}getInterpolation(t,i,s,c,u){return Wr.getInterpolation(t,this.a,this.b,this.c,i,s,c,u)}containsPoint(t){return Wr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Wr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,i){const s=this.a,c=this.b,u=this.c;let f,b;Ps.subVectors(c,s),Bs.subVectors(u,s),Fd.subVectors(t,s);const C=Ps.dot(Fd),_=Bs.dot(Fd);if(C<=0&&_<=0)return i.copy(s);Hl.subVectors(t,c);const N=Ps.dot(Hl),A=Bs.dot(Hl);if(N>=0&&A<=N)return i.copy(c);const E=C*A-N*_;if(E<=0&&C>=0&&N<=0)return f=C/(C-N),i.copy(s).addScaledVector(Ps,f);$l.subVectors(t,u);const I=Ps.dot($l),B=Bs.dot($l);if(B>=0&&I<=B)return i.copy(u);const D=I*_-C*B;if(D<=0&&_>=0&&B<=0)return b=_/(_-B),i.copy(s).addScaledVector(Bs,b);const L=N*B-I*A;if(L<=0&&A-N>=0&&I-B>=0)return xh.subVectors(u,c),b=(A-N)/(A-N+(I-B)),i.copy(c).addScaledVector(xh,b);const R=1/(L+D+E);return f=D*R,b=E*R,i.copy(s).addScaledVector(Ps,f).addScaledVector(Bs,b)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const kd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},vo={h:0,s:0,l:0},Ch={h:0,s:0,l:0};function Xd(m,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?m+(t-m)*6*i:i<1/2?t:i<2/3?m+(t-m)*6*(2/3-i):m}class _t{constructor(t,i,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,i,s)}set(t,i,s){if(i===void 0&&s===void 0){const c=t;c&&c.isColor?this.copy(c):typeof c=="number"?this.setHex(c):typeof c=="string"&&this.setStyle(c)}else this.setRGB(t,i,s);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,i=Ar){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,Ln.toWorkingColorSpace(this,i),this}setRGB(t,i,s,c=Ln.workingColorSpace){return this.r=t,this.g=i,this.b=s,Ln.toWorkingColorSpace(this,c),this}setHSL(t,i,s,c=Ln.workingColorSpace){if(t=Md(t,1),i=Hn(i,0,1),s=Hn(s,0,1),i===0)this.r=this.g=this.b=s;else{const u=s<=.5?s*(1+i):s+i-s*i,f=2*s-u;this.r=Xd(f,u,t+1/3),this.g=Xd(f,u,t),this.b=Xd(f,u,t-1/3)}return Ln.toWorkingColorSpace(this,c),this}setStyle(t,i=Ar){function s(u){u!==void 0&&parseFloat(u)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let c;if(c=/^(\w+)\(([^\)]*)\)/.exec(t)){let u;const f=c[1],b=c[2];switch(f){case"rgb":case"rgba":if(u=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return s(u[4]),this.setRGB(Math.min(255,parseInt(u[1],10))/255,Math.min(255,parseInt(u[2],10))/255,Math.min(255,parseInt(u[3],10))/255,i);if(u=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return s(u[4]),this.setRGB(Math.min(100,parseInt(u[1],10))/100,Math.min(100,parseInt(u[2],10))/100,Math.min(100,parseInt(u[3],10))/100,i);break;case"hsl":case"hsla":if(u=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return s(u[4]),this.setHSL(parseFloat(u[1])/360,parseFloat(u[2])/100,parseFloat(u[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(c=/^\#([A-Fa-f\d]+)$/.exec(t)){const u=c[1],f=u.length;if(f===3)return this.setRGB(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,i);if(f===6)return this.setHex(parseInt(u,16),i);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,i);return this}setColorName(t,i=Ar){const s=kd[t.toLowerCase()];return s!==void 0?this.setHex(s,i):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Ea(t.r),this.g=Ea(t.g),this.b=Ea(t.b),this}copyLinearToSRGB(t){return this.r=Xl(t.r),this.g=Xl(t.g),this.b=Xl(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Ar){return Ln.fromWorkingColorSpace($n.copy(this),t),Math.round(Hn($n.r*255,0,255))*65536+Math.round(Hn($n.g*255,0,255))*256+Math.round(Hn($n.b*255,0,255))}getHexString(t=Ar){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,i=Ln.workingColorSpace){Ln.fromWorkingColorSpace($n.copy(this),i);const s=$n.r,c=$n.g,u=$n.b,f=Math.max(s,c,u),b=Math.min(s,c,u);let C,_;const N=(b+f)/2;if(b===f)C=0,_=0;else{const A=f-b;switch(_=N<=.5?A/(f+b):A/(2-f-b),f){case s:C=(c-u)/A+(c<u?6:0);break;case c:C=(u-s)/A+2;break;case u:C=(s-c)/A+4;break}C/=6}return t.h=C,t.s=_,t.l=N,t}getRGB(t,i=Ln.workingColorSpace){return Ln.fromWorkingColorSpace($n.copy(this),i),t.r=$n.r,t.g=$n.g,t.b=$n.b,t}getStyle(t=Ar){Ln.fromWorkingColorSpace($n.copy(this),t);const i=$n.r,s=$n.g,c=$n.b;return t!==Ar?`color(${t} ${i.toFixed(3)} ${s.toFixed(3)} ${c.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(s*255)},${Math.round(c*255)})`}offsetHSL(t,i,s){return this.getHSL(vo),this.setHSL(vo.h+t,vo.s+i,vo.l+s)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this}lerpColors(t,i,s){return this.r=t.r+(i.r-t.r)*s,this.g=t.g+(i.g-t.g)*s,this.b=t.b+(i.b-t.b)*s,this}lerpHSL(t,i){this.getHSL(vo),t.getHSL(Ch);const s=Fl(vo.h,Ch.h,i),c=Fl(vo.s,Ch.s,i),u=Fl(vo.l,Ch.l,i);return this.setHSL(s,c,u),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const i=this.r,s=this.g,c=this.b,u=t.elements;return this.r=u[0]*i+u[3]*s+u[6]*c,this.g=u[1]*i+u[4]*s+u[7]*c,this.b=u[2]*i+u[5]*s+u[8]*c,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,i=0){return this.r=t[i],this.g=t[i+1],this.b=t[i+2],this}toArray(t=[],i=0){return t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t}fromBufferAttribute(t,i){return this.r=t.getX(i),this.g=t.getY(i),this.b=t.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const $n=new _t;_t.NAMES=kd;let Os=0;class Dr extends Gi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Os++}),this.uuid=ai(),this.name="",this.type="Material",this.blending=M,this.side=y,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Q,this.blendDst=pe,this.blendEquation=q,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new _t(0,0,0),this.blendAlpha=0,this.depthFunc=wt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_d,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wa,this.stencilZFail=wa,this.stencilZPass=wa,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const i in t){const s=t[i];if(s===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const c=this[i];if(c===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}c&&c.isColor?c.set(s):c&&c.isVector3&&s&&s.isVector3?c.copy(s):this[i]=s}}toJSON(t){const i=t===void 0||typeof t=="string";i&&(t={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),this.roughness!==void 0&&(s.roughness=this.roughness),this.metalness!==void 0&&(s.metalness=this.metalness),this.sheen!==void 0&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(s.shininess=this.shininess),this.clearcoat!==void 0&&(s.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(s.dispersion=this.dispersion),this.iridescence!==void 0&&(s.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(s.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(s.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(t).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(t).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(t).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(t).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(t).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(s.combine=this.combine)),this.envMapRotation!==void 0&&(s.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(s.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(s.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(s.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(s.size=this.size),this.shadowSide!==null&&(s.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(s.sizeAttenuation=this.sizeAttenuation),this.blending!==M&&(s.blending=this.blending),this.side!==y&&(s.side=this.side),this.vertexColors===!0&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),this.transparent===!0&&(s.transparent=!0),this.blendSrc!==Q&&(s.blendSrc=this.blendSrc),this.blendDst!==pe&&(s.blendDst=this.blendDst),this.blendEquation!==q&&(s.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(s.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(s.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(s.blendAlpha=this.blendAlpha),this.depthFunc!==wt&&(s.depthFunc=this.depthFunc),this.depthTest===!1&&(s.depthTest=this.depthTest),this.depthWrite===!1&&(s.depthWrite=this.depthWrite),this.colorWrite===!1&&(s.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(s.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==_d&&(s.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(s.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==wa&&(s.stencilFail=this.stencilFail),this.stencilZFail!==wa&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==wa&&(s.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(s.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(s.rotation=this.rotation),this.polygonOffset===!0&&(s.polygonOffset=!0),this.polygonOffsetFactor!==0&&(s.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(s.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(s.linewidth=this.linewidth),this.dashSize!==void 0&&(s.dashSize=this.dashSize),this.gapSize!==void 0&&(s.gapSize=this.gapSize),this.scale!==void 0&&(s.scale=this.scale),this.dithering===!0&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),this.alphaHash===!0&&(s.alphaHash=!0),this.alphaToCoverage===!0&&(s.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(s.premultipliedAlpha=!0),this.forceSinglePass===!0&&(s.forceSinglePass=!0),this.wireframe===!0&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(s.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(s.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(s.flatShading=!0),this.visible===!1&&(s.visible=!1),this.toneMapped===!1&&(s.toneMapped=!1),this.fog===!1&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData);function c(u){const f=[];for(const b in u){const C=u[b];delete C.metadata,f.push(C)}return f}if(i){const u=c(t.textures),f=c(t.images);u.length>0&&(s.textures=u),f.length>0&&(s.images=f)}return s}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const i=t.clippingPlanes;let s=null;if(i!==null){const c=i.length;s=new Array(c);for(let u=0;u!==c;++u)s[u]=i[u].clone()}return this.clippingPlanes=s,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}}class $i extends Dr{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const yo=ql();function ql(){const m=new ArrayBuffer(4),t=new Float32Array(m),i=new Uint32Array(m),s=new Uint32Array(512),c=new Uint32Array(512);for(let C=0;C<256;++C){const _=C-127;_<-27?(s[C]=0,s[C|256]=32768,c[C]=24,c[C|256]=24):_<-14?(s[C]=1024>>-_-14,s[C|256]=1024>>-_-14|32768,c[C]=-_-1,c[C|256]=-_-1):_<=15?(s[C]=_+15<<10,s[C|256]=_+15<<10|32768,c[C]=13,c[C|256]=13):_<128?(s[C]=31744,s[C|256]=64512,c[C]=24,c[C|256]=24):(s[C]=31744,s[C|256]=64512,c[C]=13,c[C|256]=13)}const u=new Uint32Array(2048),f=new Uint32Array(64),b=new Uint32Array(64);for(let C=1;C<1024;++C){let _=C<<13,N=0;for(;!(_&8388608);)_<<=1,N-=8388608;_&=-8388609,N+=947912704,u[C]=_|N}for(let C=1024;C<2048;++C)u[C]=939524096+(C-1024<<13);for(let C=1;C<31;++C)f[C]=C<<23;f[31]=1199570944,f[32]=2147483648;for(let C=33;C<63;++C)f[C]=2147483648+(C-32<<23);f[63]=3347054592;for(let C=1;C<64;++C)C!==32&&(b[C]=1024);return{floatView:t,uint32View:i,baseTable:s,shiftTable:c,mantissaTable:u,exponentTable:f,offsetTable:b}}function qr(m){Math.abs(m)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),m=Hn(m,-65504,65504),yo.floatView[0]=m;const t=yo.uint32View[0],i=t>>23&511;return yo.baseTable[i]+((t&8388607)>>yo.shiftTable[i])}function Yl(m){const t=m>>10;return yo.uint32View[0]=yo.mantissaTable[yo.offsetTable[t]+(m&1023)]+yo.exponentTable[t],yo.floatView[0]}const fb={toHalfFloat:qr,fromHalfFloat:Yl},dr=new ie,Ls=new He;class tn{constructor(t,i,s=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=i,this.count=t!==void 0?t.length/i:0,this.normalized=s,this.usage=Dl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=bi,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return ef("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,i){this.updateRanges.push({start:t,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,i,s){t*=this.itemSize,s*=i.itemSize;for(let c=0,u=this.itemSize;c<u;c++)this.array[t+c]=i.array[s+c];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let i=0,s=this.count;i<s;i++)Ls.fromBufferAttribute(this,i),Ls.applyMatrix3(t),this.setXY(i,Ls.x,Ls.y);else if(this.itemSize===3)for(let i=0,s=this.count;i<s;i++)dr.fromBufferAttribute(this,i),dr.applyMatrix3(t),this.setXYZ(i,dr.x,dr.y,dr.z);return this}applyMatrix4(t){for(let i=0,s=this.count;i<s;i++)dr.fromBufferAttribute(this,i),dr.applyMatrix4(t),this.setXYZ(i,dr.x,dr.y,dr.z);return this}applyNormalMatrix(t){for(let i=0,s=this.count;i<s;i++)dr.fromBufferAttribute(this,i),dr.applyNormalMatrix(t),this.setXYZ(i,dr.x,dr.y,dr.z);return this}transformDirection(t){for(let i=0,s=this.count;i<s;i++)dr.fromBufferAttribute(this,i),dr.transformDirection(t),this.setXYZ(i,dr.x,dr.y,dr.z);return this}set(t,i=0){return this.array.set(t,i),this}getComponent(t,i){let s=this.array[t*this.itemSize+i];return this.normalized&&(s=Lr(s,this.array)),s}setComponent(t,i,s){return this.normalized&&(s=Yt(s,this.array)),this.array[t*this.itemSize+i]=s,this}getX(t){let i=this.array[t*this.itemSize];return this.normalized&&(i=Lr(i,this.array)),i}setX(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize]=i,this}getY(t){let i=this.array[t*this.itemSize+1];return this.normalized&&(i=Lr(i,this.array)),i}setY(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize+1]=i,this}getZ(t){let i=this.array[t*this.itemSize+2];return this.normalized&&(i=Lr(i,this.array)),i}setZ(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize+2]=i,this}getW(t){let i=this.array[t*this.itemSize+3];return this.normalized&&(i=Lr(i,this.array)),i}setW(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize+3]=i,this}setXY(t,i,s){return t*=this.itemSize,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array)),this.array[t+0]=i,this.array[t+1]=s,this}setXYZ(t,i,s,c){return t*=this.itemSize,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array),c=Yt(c,this.array)),this.array[t+0]=i,this.array[t+1]=s,this.array[t+2]=c,this}setXYZW(t,i,s,c,u){return t*=this.itemSize,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array),c=Yt(c,this.array),u=Yt(u,this.array)),this.array[t+0]=i,this.array[t+1]=s,this.array[t+2]=c,this.array[t+3]=u,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Dl&&(t.usage=this.usage),t}}class Ho extends tn{constructor(t,i,s){super(new Int8Array(t),i,s)}}class $o extends tn{constructor(t,i,s){super(new Uint8Array(t),i,s)}}class gb extends tn{constructor(t,i,s){super(new Uint8ClampedArray(t),i,s)}}class bb extends tn{constructor(t,i,s){super(new Int16Array(t),i,s)}}class zd extends tn{constructor(t,i,s){super(new Uint16Array(t),i,s)}}class vb extends tn{constructor(t,i,s){super(new Int32Array(t),i,s)}}class Ud extends tn{constructor(t,i,s){super(new Uint32Array(t),i,s)}}class yb extends tn{constructor(t,i,s){super(new Uint16Array(t),i,s),this.isFloat16BufferAttribute=!0}getX(t){let i=Yl(this.array[t*this.itemSize]);return this.normalized&&(i=Lr(i,this.array)),i}setX(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize]=qr(i),this}getY(t){let i=Yl(this.array[t*this.itemSize+1]);return this.normalized&&(i=Lr(i,this.array)),i}setY(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize+1]=qr(i),this}getZ(t){let i=Yl(this.array[t*this.itemSize+2]);return this.normalized&&(i=Lr(i,this.array)),i}setZ(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize+2]=qr(i),this}getW(t){let i=Yl(this.array[t*this.itemSize+3]);return this.normalized&&(i=Lr(i,this.array)),i}setW(t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[t*this.itemSize+3]=qr(i),this}setXY(t,i,s){return t*=this.itemSize,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array)),this.array[t+0]=qr(i),this.array[t+1]=qr(s),this}setXYZ(t,i,s,c){return t*=this.itemSize,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array),c=Yt(c,this.array)),this.array[t+0]=qr(i),this.array[t+1]=qr(s),this.array[t+2]=qr(c),this}setXYZW(t,i,s,c,u){return t*=this.itemSize,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array),c=Yt(c,this.array),u=Yt(u,this.array)),this.array[t+0]=qr(i),this.array[t+1]=qr(s),this.array[t+2]=qr(c),this.array[t+3]=qr(u),this}}class It extends tn{constructor(t,i,s){super(new Float32Array(t),i,s)}}let xb=0;const yi=new Ut,Kl=new Mn,js=new ie,ci=new Ur,Zl=new Ur,xr=new ie;class Jt extends Gi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xb++}),this.uuid=ai(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(Qp(t)?Ud:zd)(t,1):this.index=t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,i){return this.attributes[t]=i,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,i,s=0){this.groups.push({start:t,count:i,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(t,i){this.drawRange.start=t,this.drawRange.count=i}applyMatrix4(t){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(t),i.needsUpdate=!0);const s=this.attributes.normal;if(s!==void 0){const u=new Zt().getNormalMatrix(t);s.applyNormalMatrix(u),s.needsUpdate=!0}const c=this.attributes.tangent;return c!==void 0&&(c.transformDirection(t),c.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return yi.makeRotationFromQuaternion(t),this.applyMatrix4(yi),this}rotateX(t){return yi.makeRotationX(t),this.applyMatrix4(yi),this}rotateY(t){return yi.makeRotationY(t),this.applyMatrix4(yi),this}rotateZ(t){return yi.makeRotationZ(t),this.applyMatrix4(yi),this}translate(t,i,s){return yi.makeTranslation(t,i,s),this.applyMatrix4(yi),this}scale(t,i,s){return yi.makeScale(t,i,s),this.applyMatrix4(yi),this}lookAt(t){return Kl.lookAt(t),Kl.updateMatrix(),this.applyMatrix4(Kl.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(js).negate(),this.translate(js.x,js.y,js.z),this}setFromPoints(t){const i=[];for(let s=0,c=t.length;s<c;s++){const u=t[s];i.push(u.x,u.y,u.z||0)}return this.setAttribute("position",new It(i,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ur);const t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),i)for(let s=0,c=i.length;s<c;s++){const u=i[s];ci.setFromBufferAttribute(u),this.morphTargetsRelative?(xr.addVectors(this.boundingBox.min,ci.min),this.boundingBox.expandByPoint(xr),xr.addVectors(this.boundingBox.max,ci.max),this.boundingBox.expandByPoint(xr)):(this.boundingBox.expandByPoint(ci.min),this.boundingBox.expandByPoint(ci.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jr);const t=this.attributes.position,i=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(t){const s=this.boundingSphere.center;if(ci.setFromBufferAttribute(t),i)for(let u=0,f=i.length;u<f;u++){const b=i[u];Zl.setFromBufferAttribute(b),this.morphTargetsRelative?(xr.addVectors(ci.min,Zl.min),ci.expandByPoint(xr),xr.addVectors(ci.max,Zl.max),ci.expandByPoint(xr)):(ci.expandByPoint(Zl.min),ci.expandByPoint(Zl.max))}ci.getCenter(s);let c=0;for(let u=0,f=t.count;u<f;u++)xr.fromBufferAttribute(t,u),c=Math.max(c,s.distanceToSquared(xr));if(i)for(let u=0,f=i.length;u<f;u++){const b=i[u],C=this.morphTargetsRelative;for(let _=0,N=b.count;_<N;_++)xr.fromBufferAttribute(b,_),C&&(js.fromBufferAttribute(t,_),xr.add(js)),c=Math.max(c,s.distanceToSquared(xr))}this.boundingSphere.radius=Math.sqrt(c),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,i=this.attributes;if(t===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const s=i.position,c=i.normal,u=i.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new tn(new Float32Array(4*s.count),4));const f=this.getAttribute("tangent"),b=[],C=[];for(let ye=0;ye<s.count;ye++)b[ye]=new ie,C[ye]=new ie;const _=new ie,N=new ie,A=new ie,E=new He,I=new He,B=new He,D=new ie,L=new ie;function R(ye,J,$){_.fromBufferAttribute(s,ye),N.fromBufferAttribute(s,J),A.fromBufferAttribute(s,$),E.fromBufferAttribute(u,ye),I.fromBufferAttribute(u,J),B.fromBufferAttribute(u,$),N.sub(_),A.sub(_),I.sub(E),B.sub(E);const we=1/(I.x*B.y-B.x*I.y);isFinite(we)&&(D.copy(N).multiplyScalar(B.y).addScaledVector(A,-I.y).multiplyScalar(we),L.copy(A).multiplyScalar(I.x).addScaledVector(N,-B.x).multiplyScalar(we),b[ye].add(D),b[J].add(D),b[$].add(D),C[ye].add(L),C[J].add(L),C[$].add(L))}let G=this.groups;G.length===0&&(G=[{start:0,count:t.count}]);for(let ye=0,J=G.length;ye<J;++ye){const $=G[ye],we=$.start,Fe=$.count;for(let Ce=we,Oe=we+Fe;Ce<Oe;Ce+=3)R(t.getX(Ce+0),t.getX(Ce+1),t.getX(Ce+2))}const X=new ie,H=new ie,me=new ie,te=new ie;function le(ye){me.fromBufferAttribute(c,ye),te.copy(me);const J=b[ye];X.copy(J),X.sub(me.multiplyScalar(me.dot(J))).normalize(),H.crossVectors(te,J);const we=H.dot(C[ye])<0?-1:1;f.setXYZW(ye,X.x,X.y,X.z,we)}for(let ye=0,J=G.length;ye<J;++ye){const $=G[ye],we=$.start,Fe=$.count;for(let Ce=we,Oe=we+Fe;Ce<Oe;Ce+=3)le(t.getX(Ce+0)),le(t.getX(Ce+1)),le(t.getX(Ce+2))}}computeVertexNormals(){const t=this.index,i=this.getAttribute("position");if(i!==void 0){let s=this.getAttribute("normal");if(s===void 0)s=new tn(new Float32Array(i.count*3),3),this.setAttribute("normal",s);else for(let E=0,I=s.count;E<I;E++)s.setXYZ(E,0,0,0);const c=new ie,u=new ie,f=new ie,b=new ie,C=new ie,_=new ie,N=new ie,A=new ie;if(t)for(let E=0,I=t.count;E<I;E+=3){const B=t.getX(E+0),D=t.getX(E+1),L=t.getX(E+2);c.fromBufferAttribute(i,B),u.fromBufferAttribute(i,D),f.fromBufferAttribute(i,L),N.subVectors(f,u),A.subVectors(c,u),N.cross(A),b.fromBufferAttribute(s,B),C.fromBufferAttribute(s,D),_.fromBufferAttribute(s,L),b.add(N),C.add(N),_.add(N),s.setXYZ(B,b.x,b.y,b.z),s.setXYZ(D,C.x,C.y,C.z),s.setXYZ(L,_.x,_.y,_.z)}else for(let E=0,I=i.count;E<I;E+=3)c.fromBufferAttribute(i,E+0),u.fromBufferAttribute(i,E+1),f.fromBufferAttribute(i,E+2),N.subVectors(f,u),A.subVectors(c,u),N.cross(A),s.setXYZ(E+0,N.x,N.y,N.z),s.setXYZ(E+1,N.x,N.y,N.z),s.setXYZ(E+2,N.x,N.y,N.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let i=0,s=t.count;i<s;i++)xr.fromBufferAttribute(t,i),xr.normalize(),t.setXYZ(i,xr.x,xr.y,xr.z)}toNonIndexed(){function t(b,C){const _=b.array,N=b.itemSize,A=b.normalized,E=new _.constructor(C.length*N);let I=0,B=0;for(let D=0,L=C.length;D<L;D++){b.isInterleavedBufferAttribute?I=C[D]*b.data.stride+b.offset:I=C[D]*N;for(let R=0;R<N;R++)E[B++]=_[I++]}return new tn(E,N,A)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new Jt,s=this.index.array,c=this.attributes;for(const b in c){const C=c[b],_=t(C,s);i.setAttribute(b,_)}const u=this.morphAttributes;for(const b in u){const C=[],_=u[b];for(let N=0,A=_.length;N<A;N++){const E=_[N],I=t(E,s);C.push(I)}i.morphAttributes[b]=C}i.morphTargetsRelative=this.morphTargetsRelative;const f=this.groups;for(let b=0,C=f.length;b<C;b++){const _=f[b];i.addGroup(_.start,_.count,_.materialIndex)}return i}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const C=this.parameters;for(const _ in C)C[_]!==void 0&&(t[_]=C[_]);return t}t.data={attributes:{}};const i=this.index;i!==null&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const s=this.attributes;for(const C in s){const _=s[C];t.data.attributes[C]=_.toJSON(t.data)}const c={};let u=!1;for(const C in this.morphAttributes){const _=this.morphAttributes[C],N=[];for(let A=0,E=_.length;A<E;A++){const I=_[A];N.push(I.toJSON(t.data))}N.length>0&&(c[C]=N,u=!0)}u&&(t.data.morphAttributes=c,t.data.morphTargetsRelative=this.morphTargetsRelative);const f=this.groups;f.length>0&&(t.data.groups=JSON.parse(JSON.stringify(f)));const b=this.boundingSphere;return b!==null&&(t.data.boundingSphere={center:b.center.toArray(),radius:b.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=t.name;const s=t.index;s!==null&&this.setIndex(s.clone(i));const c=t.attributes;for(const _ in c){const N=c[_];this.setAttribute(_,N.clone(i))}const u=t.morphAttributes;for(const _ in u){const N=[],A=u[_];for(let E=0,I=A.length;E<I;E++)N.push(A[E].clone(i));this.morphAttributes[_]=N}this.morphTargetsRelative=t.morphTargetsRelative;const f=t.groups;for(let _=0,N=f.length;_<N;_++){const A=f[_];this.addGroup(A.start,A.count,A.materialIndex)}const b=t.boundingBox;b!==null&&(this.boundingBox=b.clone());const C=t.boundingSphere;return C!==null&&(this.boundingSphere=C.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Gd=new Ut,Ba=new po,_h=new jr,pf=new ie,Ds=new ie,Fs=new ie,ks=new ie,Jl=new ie,Ql=new ie,Th=new He,wh=new He,Nh=new He,Wd=new ie,Vd=new ie,Hd=new ie,ec=new ie,Mh=new ie;class lr extends Mn{constructor(t=new Jt,i=new $i){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const c=i[s[0]];if(c!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=c.length;u<f;u++){const b=c[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=u}}}}getVertexPosition(t,i){const s=this.geometry,c=s.attributes.position,u=s.morphAttributes.position,f=s.morphTargetsRelative;i.fromBufferAttribute(c,t);const b=this.morphTargetInfluences;if(u&&b){Ql.set(0,0,0);for(let C=0,_=u.length;C<_;C++){const N=b[C],A=u[C];N!==0&&(Jl.fromBufferAttribute(A,t),f?Ql.addScaledVector(Jl,N):Ql.addScaledVector(Jl.sub(i),N))}i.add(Ql)}return i}raycast(t,i){const s=this.geometry,c=this.material,u=this.matrixWorld;c!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),_h.copy(s.boundingSphere),_h.applyMatrix4(u),Ba.copy(t.ray).recast(t.near),!(_h.containsPoint(Ba.origin)===!1&&(Ba.intersectSphere(_h,pf)===null||Ba.origin.distanceToSquared(pf)>(t.far-t.near)**2))&&(Gd.copy(u).invert(),Ba.copy(t.ray).applyMatrix4(Gd),!(s.boundingBox!==null&&Ba.intersectsBox(s.boundingBox)===!1)&&this._computeIntersections(t,i,Ba)))}_computeIntersections(t,i,s){let c;const u=this.geometry,f=this.material,b=u.index,C=u.attributes.position,_=u.attributes.uv,N=u.attributes.uv1,A=u.attributes.normal,E=u.groups,I=u.drawRange;if(b!==null)if(Array.isArray(f))for(let B=0,D=E.length;B<D;B++){const L=E[B],R=f[L.materialIndex],G=Math.max(L.start,I.start),X=Math.min(b.count,Math.min(L.start+L.count,I.start+I.count));for(let H=G,me=X;H<me;H+=3){const te=b.getX(H),le=b.getX(H+1),ye=b.getX(H+2);c=Jn(this,R,t,s,_,N,A,te,le,ye),c&&(c.faceIndex=Math.floor(H/3),c.face.materialIndex=L.materialIndex,i.push(c))}}else{const B=Math.max(0,I.start),D=Math.min(b.count,I.start+I.count);for(let L=B,R=D;L<R;L+=3){const G=b.getX(L),X=b.getX(L+1),H=b.getX(L+2);c=Jn(this,f,t,s,_,N,A,G,X,H),c&&(c.faceIndex=Math.floor(L/3),i.push(c))}}else if(C!==void 0)if(Array.isArray(f))for(let B=0,D=E.length;B<D;B++){const L=E[B],R=f[L.materialIndex],G=Math.max(L.start,I.start),X=Math.min(C.count,Math.min(L.start+L.count,I.start+I.count));for(let H=G,me=X;H<me;H+=3){const te=H,le=H+1,ye=H+2;c=Jn(this,R,t,s,_,N,A,te,le,ye),c&&(c.faceIndex=Math.floor(H/3),c.face.materialIndex=L.materialIndex,i.push(c))}}else{const B=Math.max(0,I.start),D=Math.min(C.count,I.start+I.count);for(let L=B,R=D;L<R;L+=3){const G=L,X=L+1,H=L+2;c=Jn(this,f,t,s,_,N,A,G,X,H),c&&(c.faceIndex=Math.floor(L/3),i.push(c))}}}}function xo(m,t,i,s,c,u,f,b){let C;if(t.side===x?C=s.intersectTriangle(f,u,c,!0,b):C=s.intersectTriangle(c,u,f,t.side===y,b),C===null)return null;Mh.copy(b),Mh.applyMatrix4(m.matrixWorld);const _=i.ray.origin.distanceTo(Mh);return _<i.near||_>i.far?null:{distance:_,point:Mh.clone(),object:m}}function Jn(m,t,i,s,c,u,f,b,C,_){m.getVertexPosition(b,Ds),m.getVertexPosition(C,Fs),m.getVertexPosition(_,ks);const N=xo(m,t,i,s,Ds,Fs,ks,ec);if(N){c&&(Th.fromBufferAttribute(c,b),wh.fromBufferAttribute(c,C),Nh.fromBufferAttribute(c,_),N.uv=Wr.getInterpolation(ec,Ds,Fs,ks,Th,wh,Nh,new He)),u&&(Th.fromBufferAttribute(u,b),wh.fromBufferAttribute(u,C),Nh.fromBufferAttribute(u,_),N.uv1=Wr.getInterpolation(ec,Ds,Fs,ks,Th,wh,Nh,new He)),f&&(Wd.fromBufferAttribute(f,b),Vd.fromBufferAttribute(f,C),Hd.fromBufferAttribute(f,_),N.normal=Wr.getInterpolation(ec,Ds,Fs,ks,Wd,Vd,Hd,new ie),N.normal.dot(s.direction)>0&&N.normal.multiplyScalar(-1));const A={a:b,b:C,c:_,normal:new ie,materialIndex:0};Wr.getNormal(Ds,Fs,ks,A.normal),N.face=A}return N}class Oa extends Jt{constructor(t=1,i=1,s=1,c=1,u=1,f=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:i,depth:s,widthSegments:c,heightSegments:u,depthSegments:f};const b=this;c=Math.floor(c),u=Math.floor(u),f=Math.floor(f);const C=[],_=[],N=[],A=[];let E=0,I=0;B("z","y","x",-1,-1,s,i,t,f,u,0),B("z","y","x",1,-1,s,i,-t,f,u,1),B("x","z","y",1,1,t,s,i,c,f,2),B("x","z","y",1,-1,t,s,-i,c,f,3),B("x","y","z",1,-1,t,i,s,c,u,4),B("x","y","z",-1,-1,t,i,-s,c,u,5),this.setIndex(C),this.setAttribute("position",new It(_,3)),this.setAttribute("normal",new It(N,3)),this.setAttribute("uv",new It(A,2));function B(D,L,R,G,X,H,me,te,le,ye,J){const $=H/le,we=me/ye,Fe=H/2,Ce=me/2,Oe=te/2,We=le+1,Ye=ye+1;let gt=0,Xe=0;const at=new ie;for(let ot=0;ot<Ye;ot++){const Rt=ot*we-Ce;for(let cn=0;cn<We;cn++){const Un=cn*$-Fe;at[D]=Un*G,at[L]=Rt*X,at[R]=Oe,_.push(at.x,at.y,at.z),at[D]=0,at[L]=0,at[R]=te>0?1:-1,N.push(at.x,at.y,at.z),A.push(cn/le),A.push(1-ot/ye),gt+=1}}for(let ot=0;ot<ye;ot++)for(let Rt=0;Rt<le;Rt++){const cn=E+Rt+We*ot,Un=E+Rt+We*(ot+1),Ue=E+(Rt+1)+We*(ot+1),lt=E+(Rt+1)+We*ot;C.push(cn,Un,lt),C.push(Un,Ue,lt),Xe+=6}b.addGroup(I,Xe,J),I+=Xe,E+=gt}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Oa(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Xs(m){const t={};for(const i in m){t[i]={};for(const s in m[i]){const c=m[i][s];c&&(c.isColor||c.isMatrix3||c.isMatrix4||c.isVector2||c.isVector3||c.isVector4||c.isTexture||c.isQuaternion)?c.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[i][s]=null):t[i][s]=c.clone():Array.isArray(c)?t[i][s]=c.slice():t[i][s]=c}}return t}function Fr(m){const t={};for(let i=0;i<m.length;i++){const s=Xs(m[i]);for(const c in s)t[c]=s[c]}return t}function ff(m){const t=[];for(let i=0;i<m.length;i++)t.push(m[i].clone());return t}function tc(m){const t=m.getRenderTarget();return t===null?m.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Ln.workingColorSpace}const $d={clone:Xs,merge:Fr};var Cb=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,gf=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ei extends Dr{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Cb,this.fragmentShader=gf,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Xs(t.uniforms),this.uniformsGroups=ff(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const i=super.toJSON(t);i.glslVersion=this.glslVersion,i.uniforms={};for(const c in this.uniforms){const f=this.uniforms[c].value;f&&f.isTexture?i.uniforms[c]={type:"t",value:f.toJSON(t).uuid}:f&&f.isColor?i.uniforms[c]={type:"c",value:f.getHex()}:f&&f.isVector2?i.uniforms[c]={type:"v2",value:f.toArray()}:f&&f.isVector3?i.uniforms[c]={type:"v3",value:f.toArray()}:f&&f.isVector4?i.uniforms[c]={type:"v4",value:f.toArray()}:f&&f.isMatrix3?i.uniforms[c]={type:"m3",value:f.toArray()}:f&&f.isMatrix4?i.uniforms[c]={type:"m4",value:f.toArray()}:i.uniforms[c]={value:f}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;const s={};for(const c in this.extensions)this.extensions[c]===!0&&(s[c]=!0);return Object.keys(s).length>0&&(i.extensions=s),i}}class nc extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut,this.coordinateSystem=oi}copy(t,i){return super.copy(t,i),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,i){super.updateWorldMatrix(t,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const qo=new ie,bf=new He,vf=new He;class Cr extends nc{constructor(t=50,i=1,s=.1,c=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=s,this.far=c,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,i){return super.copy(t,i),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const i=.5*this.getFilmHeight()/t;this.fov=Sa*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Ma*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Sa*2*Math.atan(Math.tan(Ma*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,i,s){qo.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(qo.x,qo.y).multiplyScalar(-t/qo.z),qo.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(qo.x,qo.y).multiplyScalar(-t/qo.z)}getViewSize(t,i){return this.getViewBounds(t,bf,vf),i.subVectors(vf,bf)}setViewOffset(t,i,s,c,u,f){this.aspect=t/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=c,this.view.width=u,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let i=t*Math.tan(Ma*.5*this.fov)/this.zoom,s=2*i,c=this.aspect*s,u=-.5*c;const f=this.view;if(this.view!==null&&this.view.enabled){const C=f.fullWidth,_=f.fullHeight;u+=f.offsetX*c/C,i-=f.offsetY*s/_,c*=f.width/C,s*=f.height/_}const b=this.filmOffset;b!==0&&(u+=t*b/this.getFilmWidth()),this.projectionMatrix.makePerspective(u,u+c,i,i-s,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const i=super.toJSON(t);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}const La=-90,zs=1;class rc extends Mn{constructor(t,i,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null,this.activeMipmapLevel=0;const c=new Cr(La,zs,t,i);c.layers=this.layers,this.add(c);const u=new Cr(La,zs,t,i);u.layers=this.layers,this.add(u);const f=new Cr(La,zs,t,i);f.layers=this.layers,this.add(f);const b=new Cr(La,zs,t,i);b.layers=this.layers,this.add(b);const C=new Cr(La,zs,t,i);C.layers=this.layers,this.add(C);const _=new Cr(La,zs,t,i);_.layers=this.layers,this.add(_)}updateCoordinateSystem(){const t=this.coordinateSystem,i=this.children.concat(),[s,c,u,f,b,C]=i;for(const _ of i)this.remove(_);if(t===oi)s.up.set(0,1,0),s.lookAt(1,0,0),c.up.set(0,1,0),c.lookAt(-1,0,0),u.up.set(0,0,-1),u.lookAt(0,1,0),f.up.set(0,0,1),f.lookAt(0,-1,0),b.up.set(0,1,0),b.lookAt(0,0,1),C.up.set(0,1,0),C.lookAt(0,0,-1);else if(t===Na)s.up.set(0,-1,0),s.lookAt(-1,0,0),c.up.set(0,-1,0),c.lookAt(1,0,0),u.up.set(0,0,1),u.lookAt(0,1,0),f.up.set(0,0,-1),f.lookAt(0,-1,0),b.up.set(0,-1,0),b.lookAt(0,0,1),C.up.set(0,-1,0),C.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const _ of i)this.add(_),_.updateMatrixWorld()}update(t,i){this.parent===null&&this.updateMatrixWorld();const{renderTarget:s,activeMipmapLevel:c}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[u,f,b,C,_,N]=this.children,A=t.getRenderTarget(),E=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),B=t.xr.enabled;t.xr.enabled=!1;const D=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,t.setRenderTarget(s,0,c),t.render(i,u),t.setRenderTarget(s,1,c),t.render(i,f),t.setRenderTarget(s,2,c),t.render(i,b),t.setRenderTarget(s,3,c),t.render(i,C),t.setRenderTarget(s,4,c),t.render(i,_),s.texture.generateMipmaps=D,t.setRenderTarget(s,5,c),t.render(i,N),t.setRenderTarget(A,E,I),t.xr.enabled=B,s.texture.needsPMREMUpdate=!0}}class ja extends or{constructor(t,i,s,c,u,f,b,C,_,N){t=t!==void 0?t:[],i=i!==void 0?i:fi,super(t,i,s,c,u,f,b,C,_,N),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class qd extends vi{constructor(t=1,i={}){super(t,t,i),this.isWebGLCubeRenderTarget=!0;const s={width:t,height:t,depth:1},c=[s,s,s,s,s,s];this.texture=new ja(c,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:ur}fromEquirectangularTexture(t,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const s={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},c=new Oa(5,5,5),u=new Ei({name:"CubemapFromEquirect",uniforms:Xs(s.uniforms),vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,side:x,blending:w});u.uniforms.tEquirect.value=i;const f=new lr(c,u),b=i.minFilter;return i.minFilter===Xi&&(i.minFilter=ur),new rc(1,10,this).update(t,f),i.minFilter=b,f.geometry.dispose(),f.material.dispose(),this}clear(t,i,s,c){const u=t.getRenderTarget();for(let f=0;f<6;f++)t.setRenderTarget(this,f),t.clear(i,s,c);t.setRenderTarget(u)}}const Sh=new ie,_b=new ie,_r=new Zt;class Yo{constructor(t=new ie(1,0,0),i=0){this.isPlane=!0,this.normal=t,this.constant=i}set(t,i){return this.normal.copy(t),this.constant=i,this}setComponents(t,i,s,c){return this.normal.set(t,i,s),this.constant=c,this}setFromNormalAndCoplanarPoint(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(t,i,s){const c=Sh.subVectors(s,i).cross(_b.subVectors(t,i)).normalize();return this.setFromNormalAndCoplanarPoint(c,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,i){return i.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,i){const s=t.delta(Sh),c=this.normal.dot(s);if(c===0)return this.distanceToPoint(t.start)===0?i.copy(t.start):null;const u=-(t.start.dot(this.normal)+this.constant)/c;return u<0||u>1?null:i.copy(t.start).addScaledVector(s,u)}intersectsLine(t){const i=this.distanceToPoint(t.start),s=this.distanceToPoint(t.end);return i<0&&s>0||s<0&&i>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,i){const s=i||_r.getNormalMatrix(t),c=this.coplanarPoint(Sh).applyMatrix4(t),u=this.normal.applyMatrix3(s).normalize();return this.constant=-c.dot(u),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const O=new jr,F=new ie;class V{constructor(t=new Yo,i=new Yo,s=new Yo,c=new Yo,u=new Yo,f=new Yo){this.planes=[t,i,s,c,u,f]}set(t,i,s,c,u,f){const b=this.planes;return b[0].copy(t),b[1].copy(i),b[2].copy(s),b[3].copy(c),b[4].copy(u),b[5].copy(f),this}copy(t){const i=this.planes;for(let s=0;s<6;s++)i[s].copy(t.planes[s]);return this}setFromProjectionMatrix(t,i=oi){const s=this.planes,c=t.elements,u=c[0],f=c[1],b=c[2],C=c[3],_=c[4],N=c[5],A=c[6],E=c[7],I=c[8],B=c[9],D=c[10],L=c[11],R=c[12],G=c[13],X=c[14],H=c[15];if(s[0].setComponents(C-u,E-_,L-I,H-R).normalize(),s[1].setComponents(C+u,E+_,L+I,H+R).normalize(),s[2].setComponents(C+f,E+N,L+B,H+G).normalize(),s[3].setComponents(C-f,E-N,L-B,H-G).normalize(),s[4].setComponents(C-b,E-A,L-D,H-X).normalize(),i===oi)s[5].setComponents(C+b,E+A,L+D,H+X).normalize();else if(i===Na)s[5].setComponents(b,A,D,X).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),O.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const i=t.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),O.copy(i.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(O)}intersectsSprite(t){return O.center.set(0,0,0),O.radius=.7071067811865476,O.applyMatrix4(t.matrixWorld),this.intersectsSphere(O)}intersectsSphere(t){const i=this.planes,s=t.center,c=-t.radius;for(let u=0;u<6;u++)if(i[u].distanceToPoint(s)<c)return!1;return!0}intersectsBox(t){const i=this.planes;for(let s=0;s<6;s++){const c=i[s];if(F.x=c.normal.x>0?t.max.x:t.min.x,F.y=c.normal.y>0?t.max.y:t.min.y,F.z=c.normal.z>0?t.max.z:t.min.z,c.distanceToPoint(F)<0)return!1}return!0}containsPoint(t){const i=this.planes;for(let s=0;s<6;s++)if(i[s].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ne(){let m=null,t=!1,i=null,s=null;function c(u,f){i(u,f),s=m.requestAnimationFrame(c)}return{start:function(){t!==!0&&i!==null&&(s=m.requestAnimationFrame(c),t=!0)},stop:function(){m.cancelAnimationFrame(s),t=!1},setAnimationLoop:function(u){i=u},setContext:function(u){m=u}}}function ge(m){const t=new WeakMap;function i(b,C){const _=b.array,N=b.usage,A=_.byteLength,E=m.createBuffer();m.bindBuffer(C,E),m.bufferData(C,_,N),b.onUploadCallback();let I;if(_ instanceof Float32Array)I=m.FLOAT;else if(_ instanceof Uint16Array)b.isFloat16BufferAttribute?I=m.HALF_FLOAT:I=m.UNSIGNED_SHORT;else if(_ instanceof Int16Array)I=m.SHORT;else if(_ instanceof Uint32Array)I=m.UNSIGNED_INT;else if(_ instanceof Int32Array)I=m.INT;else if(_ instanceof Int8Array)I=m.BYTE;else if(_ instanceof Uint8Array)I=m.UNSIGNED_BYTE;else if(_ instanceof Uint8ClampedArray)I=m.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+_);return{buffer:E,type:I,bytesPerElement:_.BYTES_PER_ELEMENT,version:b.version,size:A}}function s(b,C,_){const N=C.array,A=C._updateRange,E=C.updateRanges;if(m.bindBuffer(_,b),A.count===-1&&E.length===0&&m.bufferSubData(_,0,N),E.length!==0){for(let I=0,B=E.length;I<B;I++){const D=E[I];m.bufferSubData(_,D.start*N.BYTES_PER_ELEMENT,N,D.start,D.count)}C.clearUpdateRanges()}A.count!==-1&&(m.bufferSubData(_,A.offset*N.BYTES_PER_ELEMENT,N,A.offset,A.count),A.count=-1),C.onUploadCallback()}function c(b){return b.isInterleavedBufferAttribute&&(b=b.data),t.get(b)}function u(b){b.isInterleavedBufferAttribute&&(b=b.data);const C=t.get(b);C&&(m.deleteBuffer(C.buffer),t.delete(b))}function f(b,C){if(b.isGLBufferAttribute){const N=t.get(b);(!N||N.version<b.version)&&t.set(b,{buffer:b.buffer,type:b.type,bytesPerElement:b.elementSize,version:b.version});return}b.isInterleavedBufferAttribute&&(b=b.data);const _=t.get(b);if(_===void 0)t.set(b,i(b,C));else if(_.version<b.version){if(_.size!==b.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(_.buffer,b,C),_.version=b.version}}return{get:c,remove:u,update:f}}class xe extends Jt{constructor(t=1,i=1,s=1,c=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:i,widthSegments:s,heightSegments:c};const u=t/2,f=i/2,b=Math.floor(s),C=Math.floor(c),_=b+1,N=C+1,A=t/b,E=i/C,I=[],B=[],D=[],L=[];for(let R=0;R<N;R++){const G=R*E-f;for(let X=0;X<_;X++){const H=X*A-u;B.push(H,-G,0),D.push(0,0,1),L.push(X/b),L.push(1-R/C)}}for(let R=0;R<C;R++)for(let G=0;G<b;G++){const X=G+_*R,H=G+_*(R+1),me=G+1+_*(R+1),te=G+1+_*R;I.push(X,H,te),I.push(H,me,te)}this.setIndex(I),this.setAttribute("position",new It(B,3)),this.setAttribute("normal",new It(D,3)),this.setAttribute("uv",new It(L,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new xe(t.width,t.height,t.widthSegments,t.heightSegments)}}var ue=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Ne=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ae=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ze=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ke=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,bt=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,et=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Mt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Nt=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,nn=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,dn=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yn=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,En=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Er=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Tr=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Yr=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,gn=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,tt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Gt=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ln=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,rn=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Ir=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,qn=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xn=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Rn=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Pn=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Dn=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Ii=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ko=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Zo=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Us="gl_FragColor = linearToOutputTexel( gl_FragColor );",Gs=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Co=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Da=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ic=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Fa=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Yd=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Kd=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,t5=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,n5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,r5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,i5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,o5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,a5=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,s5=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,l5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,c5=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,h5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,u5=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,d5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,m5=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,p5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,f5=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,g5=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,b5=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,v5=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,y5=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,x5=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,C5=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,_5=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,T5=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,w5=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,N5=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,M5=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,S5=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,A5=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,E5=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,I5=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,R5=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,P5=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,B5=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,O5=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,L5=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,j5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,D5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,F5=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,k5=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,X5=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,z5=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,U5=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,G5=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,W5=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,V5=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,H5=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,$5=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,q5=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Y5=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,K5=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Z5=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,J5=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,Q5=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,e4=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,t4=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,n4=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,r4=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,i4=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,o4=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,a4=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,s4=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,l4=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,c4=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,h4=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,u4=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,d4=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,m4=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,p4=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,f4=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const on={alphahash_fragment:ue,alphahash_pars_fragment:Ne,alphamap_fragment:Ae,alphamap_pars_fragment:ze,alphatest_fragment:Ke,alphatest_pars_fragment:bt,aomap_fragment:et,aomap_pars_fragment:Mt,batching_pars_vertex:Nt,batching_vertex:nn,begin_vertex:dn,beginnormal_vertex:yn,bsdfs:En,iridescence_fragment:Er,bumpmap_pars_fragment:Tr,clipping_planes_fragment:Yr,clipping_planes_pars_fragment:gn,clipping_planes_pars_vertex:tt,clipping_planes_vertex:Gt,color_fragment:ln,color_pars_fragment:rn,color_pars_vertex:Ir,color_vertex:qn,common:xn,cube_uv_reflection_fragment:Rn,defaultnormal_vertex:Pn,displacementmap_pars_vertex:Dn,displacementmap_vertex:Ii,emissivemap_fragment:Ko,emissivemap_pars_fragment:Zo,colorspace_fragment:Us,colorspace_pars_fragment:Gs,envmap_fragment:Co,envmap_common_pars_fragment:Da,envmap_pars_fragment:ic,envmap_pars_vertex:Fa,envmap_physical_pars_fragment:c5,envmap_vertex:Yd,fog_vertex:Kd,fog_pars_vertex:t5,fog_fragment:n5,fog_pars_fragment:r5,gradientmap_pars_fragment:i5,lightmap_pars_fragment:o5,lights_lambert_fragment:a5,lights_lambert_pars_fragment:s5,lights_pars_begin:l5,lights_toon_fragment:h5,lights_toon_pars_fragment:u5,lights_phong_fragment:d5,lights_phong_pars_fragment:m5,lights_physical_fragment:p5,lights_physical_pars_fragment:f5,lights_fragment_begin:g5,lights_fragment_maps:b5,lights_fragment_end:v5,logdepthbuf_fragment:y5,logdepthbuf_pars_fragment:x5,logdepthbuf_pars_vertex:C5,logdepthbuf_vertex:_5,map_fragment:T5,map_pars_fragment:w5,map_particle_fragment:N5,map_particle_pars_fragment:M5,metalnessmap_fragment:S5,metalnessmap_pars_fragment:A5,morphinstance_vertex:E5,morphcolor_vertex:I5,morphnormal_vertex:R5,morphtarget_pars_vertex:P5,morphtarget_vertex:B5,normal_fragment_begin:O5,normal_fragment_maps:L5,normal_pars_fragment:j5,normal_pars_vertex:D5,normal_vertex:F5,normalmap_pars_fragment:k5,clearcoat_normal_fragment_begin:X5,clearcoat_normal_fragment_maps:z5,clearcoat_pars_fragment:U5,iridescence_pars_fragment:G5,opaque_fragment:W5,packing:V5,premultiplied_alpha_fragment:H5,project_vertex:$5,dithering_fragment:q5,dithering_pars_fragment:Y5,roughnessmap_fragment:K5,roughnessmap_pars_fragment:Z5,shadowmap_pars_fragment:J5,shadowmap_pars_vertex:Q5,shadowmap_vertex:e4,shadowmask_pars_fragment:t4,skinbase_vertex:n4,skinning_pars_vertex:r4,skinning_vertex:i4,skinnormal_vertex:o4,specularmap_fragment:a4,specularmap_pars_fragment:s4,tonemapping_fragment:l4,tonemapping_pars_fragment:c4,transmission_fragment:h4,transmission_pars_fragment:u4,uv_pars_fragment:d4,uv_pars_vertex:m4,uv_vertex:p4,worldpos_vertex:f4,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},ft={common:{diffuse:{value:new _t(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Zt}},envmap:{envMap:{value:null},envMapRotation:{value:new Zt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Zt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Zt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Zt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Zt},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Zt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Zt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Zt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Zt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new _t(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new _t(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0},uvTransform:{value:new Zt}},sprite:{diffuse:{value:new _t(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Zt},alphaMap:{value:null},alphaMapTransform:{value:new Zt},alphaTest:{value:0}}},_o={basic:{uniforms:Fr([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:Fr([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,ft.lights,{emissive:{value:new _t(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:Fr([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,ft.lights,{emissive:{value:new _t(0)},specular:{value:new _t(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:Fr([ft.common,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.roughnessmap,ft.metalnessmap,ft.fog,ft.lights,{emissive:{value:new _t(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:Fr([ft.common,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.gradientmap,ft.fog,ft.lights,{emissive:{value:new _t(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:Fr([ft.common,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:Fr([ft.points,ft.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:Fr([ft.common,ft.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:Fr([ft.common,ft.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:Fr([ft.common,ft.bumpmap,ft.normalmap,ft.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:Fr([ft.sprite,ft.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new Zt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Zt}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:Fr([ft.common,ft.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:Fr([ft.lights,ft.fog,{color:{value:new _t(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};_o.physical={uniforms:Fr([_o.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Zt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Zt},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Zt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Zt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Zt},sheen:{value:0},sheenColor:{value:new _t(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Zt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Zt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Zt},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Zt},attenuationDistance:{value:0},attenuationColor:{value:new _t(0)},specularColor:{value:new _t(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Zt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Zt},anisotropyVector:{value:new He},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Zt}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const yf={r:0,b:0,g:0},oc=new li,g4=new Ut;function b4(m,t,i,s,c,u,f){const b=new _t(0);let C=u===!0?0:1,_,N,A=null,E=0,I=null;function B(G){let X=G.isScene===!0?G.background:null;return X&&X.isTexture&&(X=(G.backgroundBlurriness>0?i:t).get(X)),X}function D(G){let X=!1;const H=B(G);H===null?R(b,C):H&&H.isColor&&(R(H,1),X=!0);const me=m.xr.getEnvironmentBlendMode();me==="additive"?s.buffers.color.setClear(0,0,0,1,f):me==="alpha-blend"&&s.buffers.color.setClear(0,0,0,0,f),(m.autoClear||X)&&m.clear(m.autoClearColor,m.autoClearDepth,m.autoClearStencil)}function L(G,X){const H=B(X);H&&(H.isCubeTexture||H.mapping===va)?(N===void 0&&(N=new lr(new Oa(1,1,1),new Ei({name:"BackgroundCubeMaterial",uniforms:Xs(_o.backgroundCube.uniforms),vertexShader:_o.backgroundCube.vertexShader,fragmentShader:_o.backgroundCube.fragmentShader,side:x,depthTest:!1,depthWrite:!1,fog:!1})),N.geometry.deleteAttribute("normal"),N.geometry.deleteAttribute("uv"),N.onBeforeRender=function(me,te,le){this.matrixWorld.copyPosition(le.matrixWorld)},Object.defineProperty(N.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),c.update(N)),oc.copy(X.backgroundRotation),oc.x*=-1,oc.y*=-1,oc.z*=-1,H.isCubeTexture&&H.isRenderTargetTexture===!1&&(oc.y*=-1,oc.z*=-1),N.material.uniforms.envMap.value=H,N.material.uniforms.flipEnvMap.value=H.isCubeTexture&&H.isRenderTargetTexture===!1?-1:1,N.material.uniforms.backgroundBlurriness.value=X.backgroundBlurriness,N.material.uniforms.backgroundIntensity.value=X.backgroundIntensity,N.material.uniforms.backgroundRotation.value.setFromMatrix4(g4.makeRotationFromEuler(oc)),N.material.toneMapped=Ln.getTransfer(H.colorSpace)!==Fn,(A!==H||E!==H.version||I!==m.toneMapping)&&(N.material.needsUpdate=!0,A=H,E=H.version,I=m.toneMapping),N.layers.enableAll(),G.unshift(N,N.geometry,N.material,0,0,null)):H&&H.isTexture&&(_===void 0&&(_=new lr(new xe(2,2),new Ei({name:"BackgroundMaterial",uniforms:Xs(_o.background.uniforms),vertexShader:_o.background.vertexShader,fragmentShader:_o.background.fragmentShader,side:y,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),Object.defineProperty(_.material,"map",{get:function(){return this.uniforms.t2D.value}}),c.update(_)),_.material.uniforms.t2D.value=H,_.material.uniforms.backgroundIntensity.value=X.backgroundIntensity,_.material.toneMapped=Ln.getTransfer(H.colorSpace)!==Fn,H.matrixAutoUpdate===!0&&H.updateMatrix(),_.material.uniforms.uvTransform.value.copy(H.matrix),(A!==H||E!==H.version||I!==m.toneMapping)&&(_.material.needsUpdate=!0,A=H,E=H.version,I=m.toneMapping),_.layers.enableAll(),G.unshift(_,_.geometry,_.material,0,0,null))}function R(G,X){G.getRGB(yf,tc(m)),s.buffers.color.setClear(yf.r,yf.g,yf.b,X,f)}return{getClearColor:function(){return b},setClearColor:function(G,X=1){b.set(G),C=X,R(b,C)},getClearAlpha:function(){return C},setClearAlpha:function(G){C=G,R(b,C)},render:D,addToRenderList:L}}function v4(m,t){const i=m.getParameter(m.MAX_VERTEX_ATTRIBS),s={},c=E(null);let u=c,f=!1;function b($,we,Fe,Ce,Oe){let We=!1;const Ye=A(Ce,Fe,we);u!==Ye&&(u=Ye,_(u.object)),We=I($,Ce,Fe,Oe),We&&B($,Ce,Fe,Oe),Oe!==null&&t.update(Oe,m.ELEMENT_ARRAY_BUFFER),(We||f)&&(f=!1,H($,we,Fe,Ce),Oe!==null&&m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,t.get(Oe).buffer))}function C(){return m.createVertexArray()}function _($){return m.bindVertexArray($)}function N($){return m.deleteVertexArray($)}function A($,we,Fe){const Ce=Fe.wireframe===!0;let Oe=s[$.id];Oe===void 0&&(Oe={},s[$.id]=Oe);let We=Oe[we.id];We===void 0&&(We={},Oe[we.id]=We);let Ye=We[Ce];return Ye===void 0&&(Ye=E(C()),We[Ce]=Ye),Ye}function E($){const we=[],Fe=[],Ce=[];for(let Oe=0;Oe<i;Oe++)we[Oe]=0,Fe[Oe]=0,Ce[Oe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:we,enabledAttributes:Fe,attributeDivisors:Ce,object:$,attributes:{},index:null}}function I($,we,Fe,Ce){const Oe=u.attributes,We=we.attributes;let Ye=0;const gt=Fe.getAttributes();for(const Xe in gt)if(gt[Xe].location>=0){const ot=Oe[Xe];let Rt=We[Xe];if(Rt===void 0&&(Xe==="instanceMatrix"&&$.instanceMatrix&&(Rt=$.instanceMatrix),Xe==="instanceColor"&&$.instanceColor&&(Rt=$.instanceColor)),ot===void 0||ot.attribute!==Rt||Rt&&ot.data!==Rt.data)return!0;Ye++}return u.attributesNum!==Ye||u.index!==Ce}function B($,we,Fe,Ce){const Oe={},We=we.attributes;let Ye=0;const gt=Fe.getAttributes();for(const Xe in gt)if(gt[Xe].location>=0){let ot=We[Xe];ot===void 0&&(Xe==="instanceMatrix"&&$.instanceMatrix&&(ot=$.instanceMatrix),Xe==="instanceColor"&&$.instanceColor&&(ot=$.instanceColor));const Rt={};Rt.attribute=ot,ot&&ot.data&&(Rt.data=ot.data),Oe[Xe]=Rt,Ye++}u.attributes=Oe,u.attributesNum=Ye,u.index=Ce}function D(){const $=u.newAttributes;for(let we=0,Fe=$.length;we<Fe;we++)$[we]=0}function L($){R($,0)}function R($,we){const Fe=u.newAttributes,Ce=u.enabledAttributes,Oe=u.attributeDivisors;Fe[$]=1,Ce[$]===0&&(m.enableVertexAttribArray($),Ce[$]=1),Oe[$]!==we&&(m.vertexAttribDivisor($,we),Oe[$]=we)}function G(){const $=u.newAttributes,we=u.enabledAttributes;for(let Fe=0,Ce=we.length;Fe<Ce;Fe++)we[Fe]!==$[Fe]&&(m.disableVertexAttribArray(Fe),we[Fe]=0)}function X($,we,Fe,Ce,Oe,We,Ye){Ye===!0?m.vertexAttribIPointer($,we,Fe,Oe,We):m.vertexAttribPointer($,we,Fe,Ce,Oe,We)}function H($,we,Fe,Ce){D();const Oe=Ce.attributes,We=Fe.getAttributes(),Ye=we.defaultAttributeValues;for(const gt in We){const Xe=We[gt];if(Xe.location>=0){let at=Oe[gt];if(at===void 0&&(gt==="instanceMatrix"&&$.instanceMatrix&&(at=$.instanceMatrix),gt==="instanceColor"&&$.instanceColor&&(at=$.instanceColor)),at!==void 0){const ot=at.normalized,Rt=at.itemSize,cn=t.get(at);if(cn===void 0)continue;const Un=cn.buffer,Ue=cn.type,lt=cn.bytesPerElement,Ot=Ue===m.INT||Ue===m.UNSIGNED_INT||at.gpuType===Ju;if(at.isInterleavedBufferAttribute){const ct=at.data,hn=ct.stride,bn=at.offset;if(ct.isInstancedInterleavedBuffer){for(let Se=0;Se<Xe.locationSize;Se++)R(Xe.location+Se,ct.meshPerAttribute);$.isInstancedMesh!==!0&&Ce._maxInstanceCount===void 0&&(Ce._maxInstanceCount=ct.meshPerAttribute*ct.count)}else for(let Se=0;Se<Xe.locationSize;Se++)L(Xe.location+Se);m.bindBuffer(m.ARRAY_BUFFER,Un);for(let Se=0;Se<Xe.locationSize;Se++)X(Xe.location+Se,Rt/Xe.locationSize,Ue,ot,hn*lt,(bn+Rt/Xe.locationSize*Se)*lt,Ot)}else{if(at.isInstancedBufferAttribute){for(let ct=0;ct<Xe.locationSize;ct++)R(Xe.location+ct,at.meshPerAttribute);$.isInstancedMesh!==!0&&Ce._maxInstanceCount===void 0&&(Ce._maxInstanceCount=at.meshPerAttribute*at.count)}else for(let ct=0;ct<Xe.locationSize;ct++)L(Xe.location+ct);m.bindBuffer(m.ARRAY_BUFFER,Un);for(let ct=0;ct<Xe.locationSize;ct++)X(Xe.location+ct,Rt/Xe.locationSize,Ue,ot,Rt*lt,Rt/Xe.locationSize*ct*lt,Ot)}}else if(Ye!==void 0){const ot=Ye[gt];if(ot!==void 0)switch(ot.length){case 2:m.vertexAttrib2fv(Xe.location,ot);break;case 3:m.vertexAttrib3fv(Xe.location,ot);break;case 4:m.vertexAttrib4fv(Xe.location,ot);break;default:m.vertexAttrib1fv(Xe.location,ot)}}}}G()}function me(){ye();for(const $ in s){const we=s[$];for(const Fe in we){const Ce=we[Fe];for(const Oe in Ce)N(Ce[Oe].object),delete Ce[Oe];delete we[Fe]}delete s[$]}}function te($){if(s[$.id]===void 0)return;const we=s[$.id];for(const Fe in we){const Ce=we[Fe];for(const Oe in Ce)N(Ce[Oe].object),delete Ce[Oe];delete we[Fe]}delete s[$.id]}function le($){for(const we in s){const Fe=s[we];if(Fe[$.id]===void 0)continue;const Ce=Fe[$.id];for(const Oe in Ce)N(Ce[Oe].object),delete Ce[Oe];delete Fe[$.id]}}function ye(){J(),f=!0,u!==c&&(u=c,_(u.object))}function J(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:b,reset:ye,resetDefaultState:J,dispose:me,releaseStatesOfGeometry:te,releaseStatesOfProgram:le,initAttributes:D,enableAttribute:L,disableUnusedAttributes:G}}function y4(m,t,i){let s;function c(_){s=_}function u(_,N){m.drawArrays(s,_,N),i.update(N,s,1)}function f(_,N,A){A!==0&&(m.drawArraysInstanced(s,_,N,A),i.update(N,s,A))}function b(_,N,A){if(A===0)return;const E=t.get("WEBGL_multi_draw");if(E===null)for(let I=0;I<A;I++)this.render(_[I],N[I]);else{E.multiDrawArraysWEBGL(s,_,0,N,0,A);let I=0;for(let B=0;B<A;B++)I+=N[B];i.update(I,s,1)}}function C(_,N,A,E){if(A===0)return;const I=t.get("WEBGL_multi_draw");if(I===null)for(let B=0;B<_.length;B++)f(_[B],N[B],E[B]);else{I.multiDrawArraysInstancedWEBGL(s,_,0,N,0,E,0,A);let B=0;for(let D=0;D<A;D++)B+=N[D];for(let D=0;D<E.length;D++)i.update(B,s,E[D])}}this.setMode=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=b,this.renderMultiDrawInstances=C}function x4(m,t,i,s){let c;function u(){if(c!==void 0)return c;if(t.has("EXT_texture_filter_anisotropic")===!0){const te=t.get("EXT_texture_filter_anisotropic");c=m.getParameter(te.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else c=0;return c}function f(te){return!(te!==ii&&s.convert(te)!==m.getParameter(m.IMPLEMENTATION_COLOR_READ_FORMAT))}function b(te){const le=te===Sl&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(te!==so&&s.convert(te)!==m.getParameter(m.IMPLEMENTATION_COLOR_READ_TYPE)&&te!==bi&&!le)}function C(te){if(te==="highp"){if(m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.HIGH_FLOAT).precision>0&&m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.HIGH_FLOAT).precision>0)return"highp";te="mediump"}return te==="mediump"&&m.getShaderPrecisionFormat(m.VERTEX_SHADER,m.MEDIUM_FLOAT).precision>0&&m.getShaderPrecisionFormat(m.FRAGMENT_SHADER,m.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let _=i.precision!==void 0?i.precision:"highp";const N=C(_);N!==_&&(console.warn("THREE.WebGLRenderer:",_,"not supported, using",N,"instead."),_=N);const A=i.logarithmicDepthBuffer===!0,E=m.getParameter(m.MAX_TEXTURE_IMAGE_UNITS),I=m.getParameter(m.MAX_VERTEX_TEXTURE_IMAGE_UNITS),B=m.getParameter(m.MAX_TEXTURE_SIZE),D=m.getParameter(m.MAX_CUBE_MAP_TEXTURE_SIZE),L=m.getParameter(m.MAX_VERTEX_ATTRIBS),R=m.getParameter(m.MAX_VERTEX_UNIFORM_VECTORS),G=m.getParameter(m.MAX_VARYING_VECTORS),X=m.getParameter(m.MAX_FRAGMENT_UNIFORM_VECTORS),H=I>0,me=m.getParameter(m.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:u,getMaxPrecision:C,textureFormatReadable:f,textureTypeReadable:b,precision:_,logarithmicDepthBuffer:A,maxTextures:E,maxVertexTextures:I,maxTextureSize:B,maxCubemapSize:D,maxAttributes:L,maxVertexUniforms:R,maxVaryings:G,maxFragmentUniforms:X,vertexTextures:H,maxSamples:me}}function C4(m){const t=this;let i=null,s=0,c=!1,u=!1;const f=new Yo,b=new Zt,C={value:null,needsUpdate:!1};this.uniform=C,this.numPlanes=0,this.numIntersection=0,this.init=function(A,E){const I=A.length!==0||E||s!==0||c;return c=E,s=A.length,I},this.beginShadows=function(){u=!0,N(null)},this.endShadows=function(){u=!1},this.setGlobalState=function(A,E){i=N(A,E,0)},this.setState=function(A,E,I){const B=A.clippingPlanes,D=A.clipIntersection,L=A.clipShadows,R=m.get(A);if(!c||B===null||B.length===0||u&&!L)u?N(null):_();else{const G=u?0:s,X=G*4;let H=R.clippingState||null;C.value=H,H=N(B,E,X,I);for(let me=0;me!==X;++me)H[me]=i[me];R.clippingState=H,this.numIntersection=D?this.numPlanes:0,this.numPlanes+=G}};function _(){C.value!==i&&(C.value=i,C.needsUpdate=s>0),t.numPlanes=s,t.numIntersection=0}function N(A,E,I,B){const D=A!==null?A.length:0;let L=null;if(D!==0){if(L=C.value,B!==!0||L===null){const R=I+D*4,G=E.matrixWorldInverse;b.getNormalMatrix(G),(L===null||L.length<R)&&(L=new Float32Array(R));for(let X=0,H=I;X!==D;++X,H+=4)f.copy(A[X]).applyMatrix4(G,b),f.normal.toArray(L,H),L[H+3]=f.constant}C.value=L,C.needsUpdate=!0}return t.numPlanes=D,t.numIntersection=0,L}}function _4(m){let t=new WeakMap;function i(f,b){return b===Xo?f.mapping=fi:b===zo&&(f.mapping=Ni),f}function s(f){if(f&&f.isTexture){const b=f.mapping;if(b===Xo||b===zo)if(t.has(f)){const C=t.get(f).texture;return i(C,f.mapping)}else{const C=f.image;if(C&&C.height>0){const _=new qd(C.height);return _.fromEquirectangularTexture(m,f),t.set(f,_),f.addEventListener("dispose",c),i(_.texture,f.mapping)}else return null}}return f}function c(f){const b=f.target;b.removeEventListener("dispose",c);const C=t.get(b);C!==void 0&&(t.delete(b),C.dispose())}function u(){t=new WeakMap}return{get:s,dispose:u}}class xf extends nc{constructor(t=-1,i=1,s=1,c=-1,u=.1,f=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=i,this.top=s,this.bottom=c,this.near=u,this.far=f,this.updateProjectionMatrix()}copy(t,i){return super.copy(t,i),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,i,s,c,u,f){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=c,this.view.width=u,this.view.height=f,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,c=(this.top+this.bottom)/2;let u=s-t,f=s+t,b=c+i,C=c-i;if(this.view!==null&&this.view.enabled){const _=(this.right-this.left)/this.view.fullWidth/this.zoom,N=(this.top-this.bottom)/this.view.fullHeight/this.zoom;u+=_*this.view.offsetX,f=u+_*this.view.width,b-=N*this.view.offsetY,C=b-N*this.view.height}this.projectionMatrix.makeOrthographic(u,f,b,C,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const i=super.toJSON(t);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}}const Ah=4,AC=[.125,.215,.35,.446,.526,.582],ac=20,Tb=new xf,EC=new _t;let wb=null,Nb=0,Mb=0,Sb=!1;const sc=(1+Math.sqrt(5))/2,Eh=1/sc,IC=[new ie(-sc,Eh,0),new ie(sc,Eh,0),new ie(-Eh,0,sc),new ie(Eh,0,sc),new ie(0,sc,-Eh),new ie(0,sc,Eh),new ie(-1,1,-1),new ie(1,1,-1),new ie(-1,1,1),new ie(1,1,1)];class Ab{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,i=0,s=.1,c=100){wb=this._renderer.getRenderTarget(),Nb=this._renderer.getActiveCubeFace(),Mb=this._renderer.getActiveMipmapLevel(),Sb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const u=this._allocateTargets();return u.depthBuffer=!0,this._sceneToCubeUV(t,s,c,u),i>0&&this._blur(u,0,0,i),this._applyPMREM(u),this._cleanup(u),u}fromEquirectangular(t,i=null){return this._fromTexture(t,i)}fromCubemap(t,i=null){return this._fromTexture(t,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=BC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=PC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(wb,Nb,Mb),this._renderer.xr.enabled=Sb,t.scissorTest=!1,Cf(t,0,0,t.width,t.height)}_fromTexture(t,i){t.mapping===fi||t.mapping===Ni?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),wb=this._renderer.getRenderTarget(),Nb=this._renderer.getActiveCubeFace(),Mb=this._renderer.getActiveMipmapLevel(),Sb=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const s=i||this._allocateTargets();return this._textureToCubeUV(t,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,s={magFilter:ur,minFilter:ur,generateMipmaps:!1,type:Sl,format:ii,colorSpace:lo,depthBuffer:!1},c=RC(t,i,s);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=RC(t,i,s);const{_lodMax:u}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=T4(u)),this._blurMaterial=w4(u,t,i)}return c}_compileMaterial(t){const i=new lr(this._lodPlanes[0],t);this._renderer.compile(i,Tb)}_sceneToCubeUV(t,i,s,c){const b=new Cr(90,1,i,s),C=[1,-1,1,1,1,1],_=[1,1,1,-1,-1,-1],N=this._renderer,A=N.autoClear,E=N.toneMapping;N.getClearColor(EC),N.toneMapping=Sr,N.autoClear=!1;const I=new $i({name:"PMREM.Background",side:x,depthWrite:!1,depthTest:!1}),B=new lr(new Oa,I);let D=!1;const L=t.background;L?L.isColor&&(I.color.copy(L),t.background=null,D=!0):(I.color.copy(EC),D=!0);for(let R=0;R<6;R++){const G=R%3;G===0?(b.up.set(0,C[R],0),b.lookAt(_[R],0,0)):G===1?(b.up.set(0,0,C[R]),b.lookAt(0,_[R],0)):(b.up.set(0,C[R],0),b.lookAt(0,0,_[R]));const X=this._cubeSize;Cf(c,G*X,R>2?X:0,X,X),N.setRenderTarget(c),D&&N.render(B,b),N.render(t,b)}B.geometry.dispose(),B.material.dispose(),N.toneMapping=E,N.autoClear=A,t.background=L}_textureToCubeUV(t,i){const s=this._renderer,c=t.mapping===fi||t.mapping===Ni;c?(this._cubemapMaterial===null&&(this._cubemapMaterial=BC()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=PC());const u=c?this._cubemapMaterial:this._equirectMaterial,f=new lr(this._lodPlanes[0],u),b=u.uniforms;b.envMap.value=t;const C=this._cubeSize;Cf(i,0,0,3*C,2*C),s.setRenderTarget(i),s.render(f,Tb)}_applyPMREM(t){const i=this._renderer,s=i.autoClear;i.autoClear=!1;const c=this._lodPlanes.length;for(let u=1;u<c;u++){const f=Math.sqrt(this._sigmas[u]*this._sigmas[u]-this._sigmas[u-1]*this._sigmas[u-1]),b=IC[(c-u-1)%IC.length];this._blur(t,u-1,u,f,b)}i.autoClear=s}_blur(t,i,s,c,u){const f=this._pingPongRenderTarget;this._halfBlur(t,f,i,s,c,"latitudinal",u),this._halfBlur(f,t,s,s,c,"longitudinal",u)}_halfBlur(t,i,s,c,u,f,b){const C=this._renderer,_=this._blurMaterial;f!=="latitudinal"&&f!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const N=3,A=new lr(this._lodPlanes[c],_),E=_.uniforms,I=this._sizeLods[s]-1,B=isFinite(u)?Math.PI/(2*I):2*Math.PI/(2*ac-1),D=u/B,L=isFinite(u)?1+Math.floor(N*D):ac;L>ac&&console.warn(`sigmaRadians, ${u}, is too large and will clip, as it requested ${L} samples when the maximum is set to ${ac}`);const R=[];let G=0;for(let le=0;le<ac;++le){const ye=le/D,J=Math.exp(-ye*ye/2);R.push(J),le===0?G+=J:le<L&&(G+=2*J)}for(let le=0;le<R.length;le++)R[le]=R[le]/G;E.envMap.value=t.texture,E.samples.value=L,E.weights.value=R,E.latitudinal.value=f==="latitudinal",b&&(E.poleAxis.value=b);const{_lodMax:X}=this;E.dTheta.value=B,E.mipInt.value=X-s;const H=this._sizeLods[c],me=3*H*(c>X-Ah?c-X+Ah:0),te=4*(this._cubeSize-H);Cf(i,me,te,3*H,2*H),C.setRenderTarget(i),C.render(A,Tb)}}function T4(m){const t=[],i=[],s=[];let c=m;const u=m-Ah+1+AC.length;for(let f=0;f<u;f++){const b=Math.pow(2,c);i.push(b);let C=1/b;f>m-Ah?C=AC[f-m+Ah-1]:f===0&&(C=0),s.push(C);const _=1/(b-2),N=-_,A=1+_,E=[N,N,A,N,A,A,N,N,A,A,N,A],I=6,B=6,D=3,L=2,R=1,G=new Float32Array(D*B*I),X=new Float32Array(L*B*I),H=new Float32Array(R*B*I);for(let te=0;te<I;te++){const le=te%3*2/3-1,ye=te>2?0:-1,J=[le,ye,0,le+2/3,ye,0,le+2/3,ye+1,0,le,ye,0,le+2/3,ye+1,0,le,ye+1,0];G.set(J,D*B*te),X.set(E,L*B*te);const $=[te,te,te,te,te,te];H.set($,R*B*te)}const me=new Jt;me.setAttribute("position",new tn(G,D)),me.setAttribute("uv",new tn(X,L)),me.setAttribute("faceIndex",new tn(H,R)),t.push(me),c>Ah&&c--}return{lodPlanes:t,sizeLods:i,sigmas:s}}function RC(m,t,i){const s=new vi(m,t,i);return s.texture.mapping=va,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function Cf(m,t,i,s,c){m.viewport.set(t,i,s,c),m.scissor.set(t,i,s,c)}function w4(m,t,i){const s=new Float32Array(ac),c=new ie(0,1,0);return new Ei({name:"SphericalGaussianBlur",defines:{n:ac,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${m}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c}},vertexShader:Eb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:w,depthTest:!1,depthWrite:!1})}function PC(){return new Ei({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Eb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:w,depthTest:!1,depthWrite:!1})}function BC(){return new Ei({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Eb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:w,depthTest:!1,depthWrite:!1})}function Eb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function N4(m){let t=new WeakMap,i=null;function s(b){if(b&&b.isTexture){const C=b.mapping,_=C===Xo||C===zo,N=C===fi||C===Ni;if(_||N){let A=t.get(b);const E=A!==void 0?A.texture.pmremVersion:0;if(b.isRenderTargetTexture&&b.pmremVersion!==E)return i===null&&(i=new Ab(m)),A=_?i.fromEquirectangular(b,A):i.fromCubemap(b,A),A.texture.pmremVersion=b.pmremVersion,t.set(b,A),A.texture;if(A!==void 0)return A.texture;{const I=b.image;return _&&I&&I.height>0||N&&I&&c(I)?(i===null&&(i=new Ab(m)),A=_?i.fromEquirectangular(b):i.fromCubemap(b),A.texture.pmremVersion=b.pmremVersion,t.set(b,A),b.addEventListener("dispose",u),A.texture):null}}}return b}function c(b){let C=0;const _=6;for(let N=0;N<_;N++)b[N]!==void 0&&C++;return C===_}function u(b){const C=b.target;C.removeEventListener("dispose",u);const _=t.get(C);_!==void 0&&(t.delete(C),_.dispose())}function f(){t=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:s,dispose:f}}function M4(m){const t={};function i(s){if(t[s]!==void 0)return t[s];let c;switch(s){case"WEBGL_depth_texture":c=m.getExtension("WEBGL_depth_texture")||m.getExtension("MOZ_WEBGL_depth_texture")||m.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":c=m.getExtension("EXT_texture_filter_anisotropic")||m.getExtension("MOZ_EXT_texture_filter_anisotropic")||m.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":c=m.getExtension("WEBGL_compressed_texture_s3tc")||m.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":c=m.getExtension("WEBGL_compressed_texture_pvrtc")||m.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:c=m.getExtension(s)}return t[s]=c,c}return{has:function(s){return i(s)!==null},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(s){const c=i(s);return c===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),c}}}function S4(m,t,i,s){const c={},u=new WeakMap;function f(A){const E=A.target;E.index!==null&&t.remove(E.index);for(const B in E.attributes)t.remove(E.attributes[B]);for(const B in E.morphAttributes){const D=E.morphAttributes[B];for(let L=0,R=D.length;L<R;L++)t.remove(D[L])}E.removeEventListener("dispose",f),delete c[E.id];const I=u.get(E);I&&(t.remove(I),u.delete(E)),s.releaseStatesOfGeometry(E),E.isInstancedBufferGeometry===!0&&delete E._maxInstanceCount,i.memory.geometries--}function b(A,E){return c[E.id]===!0||(E.addEventListener("dispose",f),c[E.id]=!0,i.memory.geometries++),E}function C(A){const E=A.attributes;for(const B in E)t.update(E[B],m.ARRAY_BUFFER);const I=A.morphAttributes;for(const B in I){const D=I[B];for(let L=0,R=D.length;L<R;L++)t.update(D[L],m.ARRAY_BUFFER)}}function _(A){const E=[],I=A.index,B=A.attributes.position;let D=0;if(I!==null){const G=I.array;D=I.version;for(let X=0,H=G.length;X<H;X+=3){const me=G[X+0],te=G[X+1],le=G[X+2];E.push(me,te,te,le,le,me)}}else if(B!==void 0){const G=B.array;D=B.version;for(let X=0,H=G.length/3-1;X<H;X+=3){const me=X+0,te=X+1,le=X+2;E.push(me,te,te,le,le,me)}}else return;const L=new(Qp(E)?Ud:zd)(E,1);L.version=D;const R=u.get(A);R&&t.remove(R),u.set(A,L)}function N(A){const E=u.get(A);if(E){const I=A.index;I!==null&&E.version<I.version&&_(A)}else _(A);return u.get(A)}return{get:b,update:C,getWireframeAttribute:N}}function A4(m,t,i){let s;function c(E){s=E}let u,f;function b(E){u=E.type,f=E.bytesPerElement}function C(E,I){m.drawElements(s,I,u,E*f),i.update(I,s,1)}function _(E,I,B){B!==0&&(m.drawElementsInstanced(s,I,u,E*f,B),i.update(I,s,B))}function N(E,I,B){if(B===0)return;const D=t.get("WEBGL_multi_draw");if(D===null)for(let L=0;L<B;L++)this.render(E[L]/f,I[L]);else{D.multiDrawElementsWEBGL(s,I,0,u,E,0,B);let L=0;for(let R=0;R<B;R++)L+=I[R];i.update(L,s,1)}}function A(E,I,B,D){if(B===0)return;const L=t.get("WEBGL_multi_draw");if(L===null)for(let R=0;R<E.length;R++)_(E[R]/f,I[R],D[R]);else{L.multiDrawElementsInstancedWEBGL(s,I,0,u,E,0,D,0,B);let R=0;for(let G=0;G<B;G++)R+=I[G];for(let G=0;G<D.length;G++)i.update(R,s,D[G])}}this.setMode=c,this.setIndex=b,this.render=C,this.renderInstances=_,this.renderMultiDraw=N,this.renderMultiDrawInstances=A}function E4(m){const t={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function s(u,f,b){switch(i.calls++,f){case m.TRIANGLES:i.triangles+=b*(u/3);break;case m.LINES:i.lines+=b*(u/2);break;case m.LINE_STRIP:i.lines+=b*(u-1);break;case m.LINE_LOOP:i.lines+=b*u;break;case m.POINTS:i.points+=b*u;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",f);break}}function c(){i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:t,render:i,programs:null,autoReset:!0,reset:c,update:s}}function I4(m,t,i){const s=new WeakMap,c=new jn;function u(f,b,C){const _=f.morphTargetInfluences,N=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,A=N!==void 0?N.length:0;let E=s.get(b);if(E===void 0||E.count!==A){let J=function(){le.dispose(),s.delete(b),b.removeEventListener("dispose",J)};E!==void 0&&E.texture.dispose();const I=b.morphAttributes.position!==void 0,B=b.morphAttributes.normal!==void 0,D=b.morphAttributes.color!==void 0,L=b.morphAttributes.position||[],R=b.morphAttributes.normal||[],G=b.morphAttributes.color||[];let X=0;I===!0&&(X=1),B===!0&&(X=2),D===!0&&(X=3);let H=b.attributes.position.count*X,me=1;H>t.maxTextureSize&&(me=Math.ceil(H/t.maxTextureSize),H=t.maxTextureSize);const te=new Float32Array(H*me*4*A),le=new Ul(te,H,me,A);le.type=bi,le.needsUpdate=!0;const ye=X*4;for(let $=0;$<A;$++){const we=L[$],Fe=R[$],Ce=G[$],Oe=H*me*4*$;for(let We=0;We<we.count;We++){const Ye=We*ye;I===!0&&(c.fromBufferAttribute(we,We),te[Oe+Ye+0]=c.x,te[Oe+Ye+1]=c.y,te[Oe+Ye+2]=c.z,te[Oe+Ye+3]=0),B===!0&&(c.fromBufferAttribute(Fe,We),te[Oe+Ye+4]=c.x,te[Oe+Ye+5]=c.y,te[Oe+Ye+6]=c.z,te[Oe+Ye+7]=0),D===!0&&(c.fromBufferAttribute(Ce,We),te[Oe+Ye+8]=c.x,te[Oe+Ye+9]=c.y,te[Oe+Ye+10]=c.z,te[Oe+Ye+11]=Ce.itemSize===4?c.w:1)}}E={count:A,texture:le,size:new He(H,me)},s.set(b,E),b.addEventListener("dispose",J)}if(f.isInstancedMesh===!0&&f.morphTexture!==null)C.getUniforms().setValue(m,"morphTexture",f.morphTexture,i);else{let I=0;for(let D=0;D<_.length;D++)I+=_[D];const B=b.morphTargetsRelative?1:1-I;C.getUniforms().setValue(m,"morphTargetBaseInfluence",B),C.getUniforms().setValue(m,"morphTargetInfluences",_)}C.getUniforms().setValue(m,"morphTargetsTexture",E.texture,i),C.getUniforms().setValue(m,"morphTargetsTextureSize",E.size)}return{update:u}}function R4(m,t,i,s){let c=new WeakMap;function u(C){const _=s.render.frame,N=C.geometry,A=t.get(C,N);if(c.get(A)!==_&&(t.update(A),c.set(A,_)),C.isInstancedMesh&&(C.hasEventListener("dispose",b)===!1&&C.addEventListener("dispose",b),c.get(C)!==_&&(i.update(C.instanceMatrix,m.ARRAY_BUFFER),C.instanceColor!==null&&i.update(C.instanceColor,m.ARRAY_BUFFER),c.set(C,_))),C.isSkinnedMesh){const E=C.skeleton;c.get(E)!==_&&(E.update(),c.set(E,_))}return A}function f(){c=new WeakMap}function b(C){const _=C.target;_.removeEventListener("dispose",b),i.remove(_.instanceMatrix),_.instanceColor!==null&&i.remove(_.instanceColor)}return{update:u,dispose:f}}class Ib extends or{constructor(t,i,s,c,u,f,b,C,_,N){if(N=N!==void 0?N:Ca,N!==Ca&&N!==bs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");s===void 0&&N===Ca&&(s=xa),s===void 0&&N===bs&&(s=gs),super(null,c,u,f,b,C,N,s,_),this.isDepthTexture=!0,this.image={width:t,height:i},this.magFilter=b!==void 0?b:gr,this.minFilter=C!==void 0?C:gr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const i=super.toJSON(t);return this.compareFunction!==null&&(i.compareFunction=this.compareFunction),i}}const OC=new or,LC=new Ib(1,1);LC.compareFunction=Td;const jC=new Ul,DC=new Id,FC=new ja,kC=[],XC=[],zC=new Float32Array(16),UC=new Float32Array(9),GC=new Float32Array(4);function Ih(m,t,i){const s=m[0];if(s<=0||s>0)return m;const c=t*i;let u=kC[c];if(u===void 0&&(u=new Float32Array(c),kC[c]=u),t!==0){s.toArray(u,0);for(let f=1,b=0;f!==t;++f)b+=i,m[f].toArray(u,b)}return u}function Rr(m,t){if(m.length!==t.length)return!1;for(let i=0,s=m.length;i<s;i++)if(m[i]!==t[i])return!1;return!0}function Pr(m,t){for(let i=0,s=t.length;i<s;i++)m[i]=t[i]}function _f(m,t){let i=XC[t];i===void 0&&(i=new Int32Array(t),XC[t]=i);for(let s=0;s!==t;++s)i[s]=m.allocateTextureUnit();return i}function P4(m,t){const i=this.cache;i[0]!==t&&(m.uniform1f(this.addr,t),i[0]=t)}function B4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(m.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Rr(i,t))return;m.uniform2fv(this.addr,t),Pr(i,t)}}function O4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(m.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(t.r!==void 0)(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(m.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(Rr(i,t))return;m.uniform3fv(this.addr,t),Pr(i,t)}}function L4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(m.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Rr(i,t))return;m.uniform4fv(this.addr,t),Pr(i,t)}}function j4(m,t){const i=this.cache,s=t.elements;if(s===void 0){if(Rr(i,t))return;m.uniformMatrix2fv(this.addr,!1,t),Pr(i,t)}else{if(Rr(i,s))return;GC.set(s),m.uniformMatrix2fv(this.addr,!1,GC),Pr(i,s)}}function D4(m,t){const i=this.cache,s=t.elements;if(s===void 0){if(Rr(i,t))return;m.uniformMatrix3fv(this.addr,!1,t),Pr(i,t)}else{if(Rr(i,s))return;UC.set(s),m.uniformMatrix3fv(this.addr,!1,UC),Pr(i,s)}}function F4(m,t){const i=this.cache,s=t.elements;if(s===void 0){if(Rr(i,t))return;m.uniformMatrix4fv(this.addr,!1,t),Pr(i,t)}else{if(Rr(i,s))return;zC.set(s),m.uniformMatrix4fv(this.addr,!1,zC),Pr(i,s)}}function k4(m,t){const i=this.cache;i[0]!==t&&(m.uniform1i(this.addr,t),i[0]=t)}function X4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(m.uniform2i(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Rr(i,t))return;m.uniform2iv(this.addr,t),Pr(i,t)}}function z4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(m.uniform3i(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(Rr(i,t))return;m.uniform3iv(this.addr,t),Pr(i,t)}}function U4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(m.uniform4i(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Rr(i,t))return;m.uniform4iv(this.addr,t),Pr(i,t)}}function G4(m,t){const i=this.cache;i[0]!==t&&(m.uniform1ui(this.addr,t),i[0]=t)}function W4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y)&&(m.uniform2ui(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(Rr(i,t))return;m.uniform2uiv(this.addr,t),Pr(i,t)}}function V4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(m.uniform3ui(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else{if(Rr(i,t))return;m.uniform3uiv(this.addr,t),Pr(i,t)}}function H4(m,t){const i=this.cache;if(t.x!==void 0)(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(m.uniform4ui(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(Rr(i,t))return;m.uniform4uiv(this.addr,t),Pr(i,t)}}function $4(m,t,i){const s=this.cache,c=i.allocateTextureUnit();s[0]!==c&&(m.uniform1i(this.addr,c),s[0]=c);const u=this.type===m.SAMPLER_2D_SHADOW?LC:OC;i.setTexture2D(t||u,c)}function q4(m,t,i){const s=this.cache,c=i.allocateTextureUnit();s[0]!==c&&(m.uniform1i(this.addr,c),s[0]=c),i.setTexture3D(t||DC,c)}function Y4(m,t,i){const s=this.cache,c=i.allocateTextureUnit();s[0]!==c&&(m.uniform1i(this.addr,c),s[0]=c),i.setTextureCube(t||FC,c)}function K4(m,t,i){const s=this.cache,c=i.allocateTextureUnit();s[0]!==c&&(m.uniform1i(this.addr,c),s[0]=c),i.setTexture2DArray(t||jC,c)}function Z4(m){switch(m){case 5126:return P4;case 35664:return B4;case 35665:return O4;case 35666:return L4;case 35674:return j4;case 35675:return D4;case 35676:return F4;case 5124:case 35670:return k4;case 35667:case 35671:return X4;case 35668:case 35672:return z4;case 35669:case 35673:return U4;case 5125:return G4;case 36294:return W4;case 36295:return V4;case 36296:return H4;case 35678:case 36198:case 36298:case 36306:case 35682:return $4;case 35679:case 36299:case 36307:return q4;case 35680:case 36300:case 36308:case 36293:return Y4;case 36289:case 36303:case 36311:case 36292:return K4}}function J4(m,t){m.uniform1fv(this.addr,t)}function Q4(m,t){const i=Ih(t,this.size,2);m.uniform2fv(this.addr,i)}function eR(m,t){const i=Ih(t,this.size,3);m.uniform3fv(this.addr,i)}function tR(m,t){const i=Ih(t,this.size,4);m.uniform4fv(this.addr,i)}function nR(m,t){const i=Ih(t,this.size,4);m.uniformMatrix2fv(this.addr,!1,i)}function rR(m,t){const i=Ih(t,this.size,9);m.uniformMatrix3fv(this.addr,!1,i)}function iR(m,t){const i=Ih(t,this.size,16);m.uniformMatrix4fv(this.addr,!1,i)}function oR(m,t){m.uniform1iv(this.addr,t)}function aR(m,t){m.uniform2iv(this.addr,t)}function sR(m,t){m.uniform3iv(this.addr,t)}function lR(m,t){m.uniform4iv(this.addr,t)}function cR(m,t){m.uniform1uiv(this.addr,t)}function hR(m,t){m.uniform2uiv(this.addr,t)}function uR(m,t){m.uniform3uiv(this.addr,t)}function dR(m,t){m.uniform4uiv(this.addr,t)}function mR(m,t,i){const s=this.cache,c=t.length,u=_f(i,c);Rr(s,u)||(m.uniform1iv(this.addr,u),Pr(s,u));for(let f=0;f!==c;++f)i.setTexture2D(t[f]||OC,u[f])}function pR(m,t,i){const s=this.cache,c=t.length,u=_f(i,c);Rr(s,u)||(m.uniform1iv(this.addr,u),Pr(s,u));for(let f=0;f!==c;++f)i.setTexture3D(t[f]||DC,u[f])}function fR(m,t,i){const s=this.cache,c=t.length,u=_f(i,c);Rr(s,u)||(m.uniform1iv(this.addr,u),Pr(s,u));for(let f=0;f!==c;++f)i.setTextureCube(t[f]||FC,u[f])}function gR(m,t,i){const s=this.cache,c=t.length,u=_f(i,c);Rr(s,u)||(m.uniform1iv(this.addr,u),Pr(s,u));for(let f=0;f!==c;++f)i.setTexture2DArray(t[f]||jC,u[f])}function bR(m){switch(m){case 5126:return J4;case 35664:return Q4;case 35665:return eR;case 35666:return tR;case 35674:return nR;case 35675:return rR;case 35676:return iR;case 5124:case 35670:return oR;case 35667:case 35671:return aR;case 35668:case 35672:return sR;case 35669:case 35673:return lR;case 5125:return cR;case 36294:return hR;case 36295:return uR;case 36296:return dR;case 35678:case 36198:case 36298:case 36306:case 35682:return mR;case 35679:case 36299:case 36307:return pR;case 35680:case 36300:case 36308:case 36293:return fR;case 36289:case 36303:case 36311:case 36292:return gR}}class vR{constructor(t,i,s){this.id=t,this.addr=s,this.cache=[],this.type=i.type,this.setValue=Z4(i.type)}}class yR{constructor(t,i,s){this.id=t,this.addr=s,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=bR(i.type)}}class xR{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,i,s){const c=this.seq;for(let u=0,f=c.length;u!==f;++u){const b=c[u];b.setValue(t,i[b.id],s)}}}const Rb=/(\w+)(\])?(\[|\.)?/g;function WC(m,t){m.seq.push(t),m.map[t.id]=t}function CR(m,t,i){const s=m.name,c=s.length;for(Rb.lastIndex=0;;){const u=Rb.exec(s),f=Rb.lastIndex;let b=u[1];const C=u[2]==="]",_=u[3];if(C&&(b=b|0),_===void 0||_==="["&&f+2===c){WC(i,_===void 0?new vR(b,m,t):new yR(b,m,t));break}else{let A=i.map[b];A===void 0&&(A=new xR(b),WC(i,A)),i=A}}}class Tf{constructor(t,i){this.seq=[],this.map={};const s=t.getProgramParameter(i,t.ACTIVE_UNIFORMS);for(let c=0;c<s;++c){const u=t.getActiveUniform(i,c),f=t.getUniformLocation(i,u.name);CR(u,f,this)}}setValue(t,i,s,c){const u=this.map[i];u!==void 0&&u.setValue(t,s,c)}setOptional(t,i,s){const c=i[s];c!==void 0&&this.setValue(t,s,c)}static upload(t,i,s,c){for(let u=0,f=i.length;u!==f;++u){const b=i[u],C=s[b.id];C.needsUpdate!==!1&&b.setValue(t,C.value,c)}}static seqWithValue(t,i){const s=[];for(let c=0,u=t.length;c!==u;++c){const f=t[c];f.id in i&&s.push(f)}return s}}function VC(m,t,i){const s=m.createShader(t);return m.shaderSource(s,i),m.compileShader(s),s}const _R=37297;let TR=0;function wR(m,t){const i=m.split(`
`),s=[],c=Math.max(t-6,0),u=Math.min(t+6,i.length);for(let f=c;f<u;f++){const b=f+1;s.push(`${b===t?">":" "} ${b}: ${i[f]}`)}return s.join(`
`)}function NR(m){const t=Ln.getPrimaries(Ln.workingColorSpace),i=Ln.getPrimaries(m);let s;switch(t===i?s="":t===jl&&i===Cs?s="LinearDisplayP3ToLinearSRGB":t===Cs&&i===jl&&(s="LinearSRGBToLinearDisplayP3"),m){case lo:case Ll:return[s,"LinearTransferOETF"];case Ar:case ch:return[s,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",m),[s,"LinearTransferOETF"]}}function HC(m,t,i){const s=m.getShaderParameter(t,m.COMPILE_STATUS),c=m.getShaderInfoLog(t).trim();if(s&&c==="")return"";const u=/ERROR: 0:(\d+)/.exec(c);if(u){const f=parseInt(u[1]);return i.toUpperCase()+`

`+c+`

`+wR(m.getShaderSource(t),f)}else return c}function MR(m,t){const i=NR(t);return`vec4 ${m}( vec4 value ) { return ${i[0]}( ${i[1]}( value ) ); }`}function SR(m,t){let i;switch(t){case Yc:i="Linear";break;case ko:i="Reinhard";break;case ms:i="OptimizedCineon";break;case ps:i="ACESFilmic";break;case Tl:i="AgX";break;case ga:i="Neutral";break;case fa:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+m+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function AR(m){return[m.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",m.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Zd).join(`
`)}function ER(m){const t=[];for(const i in m){const s=m[i];s!==!1&&t.push("#define "+i+" "+s)}return t.join(`
`)}function IR(m,t){const i={},s=m.getProgramParameter(t,m.ACTIVE_ATTRIBUTES);for(let c=0;c<s;c++){const u=m.getActiveAttrib(t,c),f=u.name;let b=1;u.type===m.FLOAT_MAT2&&(b=2),u.type===m.FLOAT_MAT3&&(b=3),u.type===m.FLOAT_MAT4&&(b=4),i[f]={type:u.type,location:m.getAttribLocation(t,f),locationSize:b}}return i}function Zd(m){return m!==""}function $C(m,t){const i=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return m.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function qC(m,t){return m.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const RR=/^[ \t]*#include +<([\w\d./]+)>/gm;function Pb(m){return m.replace(RR,BR)}const PR=new Map;function BR(m,t){let i=on[t];if(i===void 0){const s=PR.get(t);if(s!==void 0)i=on[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,s);else throw new Error("Can not resolve #include <"+t+">")}return Pb(i)}const OR=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function YC(m){return m.replace(OR,LR)}function LR(m,t,i,s){let c="";for(let u=parseInt(t);u<parseInt(i);u++)c+=s.replace(/\[\s*i\s*\]/g,"[ "+u+" ]").replace(/UNROLLED_LOOP_INDEX/g,u);return c}function KC(m){let t=`precision ${m.precision} float;
	precision ${m.precision} int;
	precision ${m.precision} sampler2D;
	precision ${m.precision} samplerCube;
	precision ${m.precision} sampler3D;
	precision ${m.precision} sampler2DArray;
	precision ${m.precision} sampler2DShadow;
	precision ${m.precision} samplerCubeShadow;
	precision ${m.precision} sampler2DArrayShadow;
	precision ${m.precision} isampler2D;
	precision ${m.precision} isampler3D;
	precision ${m.precision} isamplerCube;
	precision ${m.precision} isampler2DArray;
	precision ${m.precision} usampler2D;
	precision ${m.precision} usampler3D;
	precision ${m.precision} usamplerCube;
	precision ${m.precision} usampler2DArray;
	`;return m.precision==="highp"?t+=`
#define HIGH_PRECISION`:m.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:m.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function jR(m){let t="SHADOWMAP_TYPE_BASIC";return m.shadowMapType===p?t="SHADOWMAP_TYPE_PCF":m.shadowMapType===g?t="SHADOWMAP_TYPE_PCF_SOFT":m.shadowMapType===v&&(t="SHADOWMAP_TYPE_VSM"),t}function DR(m){let t="ENVMAP_TYPE_CUBE";if(m.envMap)switch(m.envMapMode){case fi:case Ni:t="ENVMAP_TYPE_CUBE";break;case va:t="ENVMAP_TYPE_CUBE_UV";break}return t}function FR(m){let t="ENVMAP_MODE_REFLECTION";if(m.envMap)switch(m.envMapMode){case Ni:t="ENVMAP_MODE_REFRACTION";break}return t}function kR(m){let t="ENVMAP_BLENDING_NONE";if(m.envMap)switch(m.combine){case it:t="ENVMAP_BLENDING_MULTIPLY";break;case ir:t="ENVMAP_BLENDING_MIX";break;case yr:t="ENVMAP_BLENDING_ADD";break}return t}function XR(m){const t=m.envMapCubeUVHeight;if(t===null)return null;const i=Math.log2(t)-2,s=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:s,maxMip:i}}function zR(m,t,i,s){const c=m.getContext(),u=i.defines;let f=i.vertexShader,b=i.fragmentShader;const C=jR(i),_=DR(i),N=FR(i),A=kR(i),E=XR(i),I=AR(i),B=ER(u),D=c.createProgram();let L,R,G=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(L=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,B].filter(Zd).join(`
`),L.length>0&&(L+=`
`),R=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,B].filter(Zd).join(`
`),R.length>0&&(R+=`
`)):(L=[KC(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,B,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+N:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+C:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Zd).join(`
`),R=[KC(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,B,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+_:"",i.envMap?"#define "+N:"",i.envMap?"#define "+A:"",E?"#define CUBEUV_TEXEL_WIDTH "+E.texelWidth:"",E?"#define CUBEUV_TEXEL_HEIGHT "+E.texelHeight:"",E?"#define CUBEUV_MAX_MIP "+E.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+C:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.useLegacyLights?"#define LEGACY_LIGHTS":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==Sr?"#define TONE_MAPPING":"",i.toneMapping!==Sr?on.tonemapping_pars_fragment:"",i.toneMapping!==Sr?SR("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",on.colorspace_pars_fragment,MR("linearToOutputTexel",i.outputColorSpace),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(Zd).join(`
`)),f=Pb(f),f=$C(f,i),f=qC(f,i),b=Pb(b),b=$C(b,i),b=qC(b,i),f=YC(f),b=YC(b),i.isRawShaderMaterial!==!0&&(G=`#version 300 es
`,L=[I,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+L,R=["#define varying in",i.glslVersion===hh?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===hh?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+R);const X=G+L+f,H=G+R+b,me=VC(c,c.VERTEX_SHADER,X),te=VC(c,c.FRAGMENT_SHADER,H);c.attachShader(D,me),c.attachShader(D,te),i.index0AttributeName!==void 0?c.bindAttribLocation(D,0,i.index0AttributeName):i.morphTargets===!0&&c.bindAttribLocation(D,0,"position"),c.linkProgram(D);function le(we){if(m.debug.checkShaderErrors){const Fe=c.getProgramInfoLog(D).trim(),Ce=c.getShaderInfoLog(me).trim(),Oe=c.getShaderInfoLog(te).trim();let We=!0,Ye=!0;if(c.getProgramParameter(D,c.LINK_STATUS)===!1)if(We=!1,typeof m.debug.onShaderError=="function")m.debug.onShaderError(c,D,me,te);else{const gt=HC(c,me,"vertex"),Xe=HC(c,te,"fragment");console.error("THREE.WebGLProgram: Shader Error "+c.getError()+" - VALIDATE_STATUS "+c.getProgramParameter(D,c.VALIDATE_STATUS)+`

Material Name: `+we.name+`
Material Type: `+we.type+`

Program Info Log: `+Fe+`
`+gt+`
`+Xe)}else Fe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Fe):(Ce===""||Oe==="")&&(Ye=!1);Ye&&(we.diagnostics={runnable:We,programLog:Fe,vertexShader:{log:Ce,prefix:L},fragmentShader:{log:Oe,prefix:R}})}c.deleteShader(me),c.deleteShader(te),ye=new Tf(c,D),J=IR(c,D)}let ye;this.getUniforms=function(){return ye===void 0&&le(this),ye};let J;this.getAttributes=function(){return J===void 0&&le(this),J};let $=i.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return $===!1&&($=c.getProgramParameter(D,_R)),$},this.destroy=function(){s.releaseStatesOfProgram(this),c.deleteProgram(D),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=TR++,this.cacheKey=t,this.usedTimes=1,this.program=D,this.vertexShader=me,this.fragmentShader=te,this}let UR=0;class GR{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.vertexShader,s=t.fragmentShader,c=this._getShaderStage(i),u=this._getShaderStage(s),f=this._getShaderCacheForMaterial(t);return f.has(c)===!1&&(f.add(c),c.usedTimes++),f.has(u)===!1&&(f.add(u),u.usedTimes++),this}remove(t){const i=this.materialCache.get(t);for(const s of i)s.usedTimes--,s.usedTimes===0&&this.shaderCache.delete(s.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const i=this.materialCache;let s=i.get(t);return s===void 0&&(s=new Set,i.set(t,s)),s}_getShaderStage(t){const i=this.shaderCache;let s=i.get(t);return s===void 0&&(s=new WR(t),i.set(t,s)),s}}class WR{constructor(t){this.id=UR++,this.code=t,this.usedTimes=0}}function VR(m,t,i,s,c,u,f){const b=new As,C=new GR,_=new Set,N=[],A=c.logarithmicDepthBuffer,E=c.vertexTextures;let I=c.precision;const B={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function D(J){return _.add(J),J===0?"uv":`uv${J}`}function L(J,$,we,Fe,Ce){const Oe=Fe.fog,We=Ce.geometry,Ye=J.isMeshStandardMaterial?Fe.environment:null,gt=(J.isMeshStandardMaterial?i:t).get(J.envMap||Ye),Xe=gt&&gt.mapping===va?gt.image.height:null,at=B[J.type];J.precision!==null&&(I=c.getMaxPrecision(J.precision),I!==J.precision&&console.warn("THREE.WebGLProgram.getParameters:",J.precision,"not supported, using",I,"instead."));const ot=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,Rt=ot!==void 0?ot.length:0;let cn=0;We.morphAttributes.position!==void 0&&(cn=1),We.morphAttributes.normal!==void 0&&(cn=2),We.morphAttributes.color!==void 0&&(cn=3);let Un,Ue,lt,Ot;if(at){const Gn=_o[at];Un=Gn.vertexShader,Ue=Gn.fragmentShader}else Un=J.vertexShader,Ue=J.fragmentShader,C.update(J),lt=C.getVertexShaderID(J),Ot=C.getFragmentShaderID(J);const ct=m.getRenderTarget(),hn=Ce.isInstancedMesh===!0,bn=Ce.isBatchedMesh===!0,Se=!!J.map,_n=!!J.matcap,Ge=!!gt,rt=!!J.aoMap,qe=!!J.lightMap,dt=!!J.bumpMap,nt=!!J.normalMap,Et=!!J.displacementMap,Wt=!!J.emissiveMap,ce=!!J.metalnessMap,K=!!J.roughnessMap,Ee=J.anisotropy>0,$e=J.clearcoat>0,Qe=J.dispersion>0,Ze=J.iridescence>0,Xt=J.sheen>0,yt=J.transmission>0,vt=Ee&&!!J.anisotropyMap,an=$e&&!!J.clearcoatMap,ht=$e&&!!J.clearcoatNormalMap,kt=$e&&!!J.clearcoatRoughnessMap,Cn=Ze&&!!J.iridescenceMap,$t=Ze&&!!J.iridescenceThicknessMap,Pt=Xt&&!!J.sheenColorMap,mn=Xt&&!!J.sheenRoughnessMap,Tn=!!J.specularMap,vr=!!J.specularColorMap,pn=!!J.specularIntensityMap,Te=yt&&!!J.transmissionMap,Je=yt&&!!J.thicknessMap,Ve=!!J.gradientMap,xt=!!J.alphaMap,St=J.alphaTest>0,Bn=!!J.alphaHash,Qn=!!J.extensions;let pr=Sr;J.toneMapped&&(ct===null||ct.isXRRenderTarget===!0)&&(pr=m.toneMapping);const Zr={shaderID:at,shaderType:J.type,shaderName:J.name,vertexShader:Un,fragmentShader:Ue,defines:J.defines,customVertexShaderID:lt,customFragmentShaderID:Ot,isRawShaderMaterial:J.isRawShaderMaterial===!0,glslVersion:J.glslVersion,precision:I,batching:bn,instancing:hn,instancingColor:hn&&Ce.instanceColor!==null,instancingMorph:hn&&Ce.morphTexture!==null,supportsVertexTextures:E,outputColorSpace:ct===null?m.outputColorSpace:ct.isXRRenderTarget===!0?ct.texture.colorSpace:lo,alphaToCoverage:!!J.alphaToCoverage,map:Se,matcap:_n,envMap:Ge,envMapMode:Ge&&gt.mapping,envMapCubeUVHeight:Xe,aoMap:rt,lightMap:qe,bumpMap:dt,normalMap:nt,displacementMap:E&&Et,emissiveMap:Wt,normalMapObjectSpace:nt&&J.normalMapType===Dp,normalMapTangentSpace:nt&&J.normalMapType===zi,metalnessMap:ce,roughnessMap:K,anisotropy:Ee,anisotropyMap:vt,clearcoat:$e,clearcoatMap:an,clearcoatNormalMap:ht,clearcoatRoughnessMap:kt,dispersion:Qe,iridescence:Ze,iridescenceMap:Cn,iridescenceThicknessMap:$t,sheen:Xt,sheenColorMap:Pt,sheenRoughnessMap:mn,specularMap:Tn,specularColorMap:vr,specularIntensityMap:pn,transmission:yt,transmissionMap:Te,thicknessMap:Je,gradientMap:Ve,opaque:J.transparent===!1&&J.blending===M&&J.alphaToCoverage===!1,alphaMap:xt,alphaTest:St,alphaHash:Bn,combine:J.combine,mapUv:Se&&D(J.map.channel),aoMapUv:rt&&D(J.aoMap.channel),lightMapUv:qe&&D(J.lightMap.channel),bumpMapUv:dt&&D(J.bumpMap.channel),normalMapUv:nt&&D(J.normalMap.channel),displacementMapUv:Et&&D(J.displacementMap.channel),emissiveMapUv:Wt&&D(J.emissiveMap.channel),metalnessMapUv:ce&&D(J.metalnessMap.channel),roughnessMapUv:K&&D(J.roughnessMap.channel),anisotropyMapUv:vt&&D(J.anisotropyMap.channel),clearcoatMapUv:an&&D(J.clearcoatMap.channel),clearcoatNormalMapUv:ht&&D(J.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:kt&&D(J.clearcoatRoughnessMap.channel),iridescenceMapUv:Cn&&D(J.iridescenceMap.channel),iridescenceThicknessMapUv:$t&&D(J.iridescenceThicknessMap.channel),sheenColorMapUv:Pt&&D(J.sheenColorMap.channel),sheenRoughnessMapUv:mn&&D(J.sheenRoughnessMap.channel),specularMapUv:Tn&&D(J.specularMap.channel),specularColorMapUv:vr&&D(J.specularColorMap.channel),specularIntensityMapUv:pn&&D(J.specularIntensityMap.channel),transmissionMapUv:Te&&D(J.transmissionMap.channel),thicknessMapUv:Je&&D(J.thicknessMap.channel),alphaMapUv:xt&&D(J.alphaMap.channel),vertexTangents:!!We.attributes.tangent&&(nt||Ee),vertexColors:J.vertexColors,vertexAlphas:J.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,pointsUvs:Ce.isPoints===!0&&!!We.attributes.uv&&(Se||xt),fog:!!Oe,useFog:J.fog===!0,fogExp2:!!Oe&&Oe.isFogExp2,flatShading:J.flatShading===!0,sizeAttenuation:J.sizeAttenuation===!0,logarithmicDepthBuffer:A,skinning:Ce.isSkinnedMesh===!0,morphTargets:We.morphAttributes.position!==void 0,morphNormals:We.morphAttributes.normal!==void 0,morphColors:We.morphAttributes.color!==void 0,morphTargetsCount:Rt,morphTextureStride:cn,numDirLights:$.directional.length,numPointLights:$.point.length,numSpotLights:$.spot.length,numSpotLightMaps:$.spotLightMap.length,numRectAreaLights:$.rectArea.length,numHemiLights:$.hemi.length,numDirLightShadows:$.directionalShadowMap.length,numPointLightShadows:$.pointShadowMap.length,numSpotLightShadows:$.spotShadowMap.length,numSpotLightShadowsWithMaps:$.numSpotLightShadowsWithMaps,numLightProbes:$.numLightProbes,numClippingPlanes:f.numPlanes,numClipIntersection:f.numIntersection,dithering:J.dithering,shadowMapEnabled:m.shadowMap.enabled&&we.length>0,shadowMapType:m.shadowMap.type,toneMapping:pr,useLegacyLights:m._useLegacyLights,decodeVideoTexture:Se&&J.map.isVideoTexture===!0&&Ln.getTransfer(J.map.colorSpace)===Fn,premultipliedAlpha:J.premultipliedAlpha,doubleSided:J.side===T,flipSided:J.side===x,useDepthPacking:J.depthPacking>=0,depthPacking:J.depthPacking||0,index0AttributeName:J.index0AttributeName,extensionClipCullDistance:Qn&&J.extensions.clipCullDistance===!0&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Qn&&J.extensions.multiDraw===!0&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:J.customProgramCacheKey()};return Zr.vertexUv1s=_.has(1),Zr.vertexUv2s=_.has(2),Zr.vertexUv3s=_.has(3),_.clear(),Zr}function R(J){const $=[];if(J.shaderID?$.push(J.shaderID):($.push(J.customVertexShaderID),$.push(J.customFragmentShaderID)),J.defines!==void 0)for(const we in J.defines)$.push(we),$.push(J.defines[we]);return J.isRawShaderMaterial===!1&&(G($,J),X($,J),$.push(m.outputColorSpace)),$.push(J.customProgramCacheKey),$.join()}function G(J,$){J.push($.precision),J.push($.outputColorSpace),J.push($.envMapMode),J.push($.envMapCubeUVHeight),J.push($.mapUv),J.push($.alphaMapUv),J.push($.lightMapUv),J.push($.aoMapUv),J.push($.bumpMapUv),J.push($.normalMapUv),J.push($.displacementMapUv),J.push($.emissiveMapUv),J.push($.metalnessMapUv),J.push($.roughnessMapUv),J.push($.anisotropyMapUv),J.push($.clearcoatMapUv),J.push($.clearcoatNormalMapUv),J.push($.clearcoatRoughnessMapUv),J.push($.iridescenceMapUv),J.push($.iridescenceThicknessMapUv),J.push($.sheenColorMapUv),J.push($.sheenRoughnessMapUv),J.push($.specularMapUv),J.push($.specularColorMapUv),J.push($.specularIntensityMapUv),J.push($.transmissionMapUv),J.push($.thicknessMapUv),J.push($.combine),J.push($.fogExp2),J.push($.sizeAttenuation),J.push($.morphTargetsCount),J.push($.morphAttributeCount),J.push($.numDirLights),J.push($.numPointLights),J.push($.numSpotLights),J.push($.numSpotLightMaps),J.push($.numHemiLights),J.push($.numRectAreaLights),J.push($.numDirLightShadows),J.push($.numPointLightShadows),J.push($.numSpotLightShadows),J.push($.numSpotLightShadowsWithMaps),J.push($.numLightProbes),J.push($.shadowMapType),J.push($.toneMapping),J.push($.numClippingPlanes),J.push($.numClipIntersection),J.push($.depthPacking)}function X(J,$){b.disableAll(),$.supportsVertexTextures&&b.enable(0),$.instancing&&b.enable(1),$.instancingColor&&b.enable(2),$.instancingMorph&&b.enable(3),$.matcap&&b.enable(4),$.envMap&&b.enable(5),$.normalMapObjectSpace&&b.enable(6),$.normalMapTangentSpace&&b.enable(7),$.clearcoat&&b.enable(8),$.iridescence&&b.enable(9),$.alphaTest&&b.enable(10),$.vertexColors&&b.enable(11),$.vertexAlphas&&b.enable(12),$.vertexUv1s&&b.enable(13),$.vertexUv2s&&b.enable(14),$.vertexUv3s&&b.enable(15),$.vertexTangents&&b.enable(16),$.anisotropy&&b.enable(17),$.alphaHash&&b.enable(18),$.batching&&b.enable(19),$.dispersion&&b.enable(20),J.push(b.mask),b.disableAll(),$.fog&&b.enable(0),$.useFog&&b.enable(1),$.flatShading&&b.enable(2),$.logarithmicDepthBuffer&&b.enable(3),$.skinning&&b.enable(4),$.morphTargets&&b.enable(5),$.morphNormals&&b.enable(6),$.morphColors&&b.enable(7),$.premultipliedAlpha&&b.enable(8),$.shadowMapEnabled&&b.enable(9),$.useLegacyLights&&b.enable(10),$.doubleSided&&b.enable(11),$.flipSided&&b.enable(12),$.useDepthPacking&&b.enable(13),$.dithering&&b.enable(14),$.transmission&&b.enable(15),$.sheen&&b.enable(16),$.opaque&&b.enable(17),$.pointsUvs&&b.enable(18),$.decodeVideoTexture&&b.enable(19),$.alphaToCoverage&&b.enable(20),J.push(b.mask)}function H(J){const $=B[J.type];let we;if($){const Fe=_o[$];we=$d.clone(Fe.uniforms)}else we=J.uniforms;return we}function me(J,$){let we;for(let Fe=0,Ce=N.length;Fe<Ce;Fe++){const Oe=N[Fe];if(Oe.cacheKey===$){we=Oe,++we.usedTimes;break}}return we===void 0&&(we=new zR(m,$,J,u),N.push(we)),we}function te(J){if(--J.usedTimes===0){const $=N.indexOf(J);N[$]=N[N.length-1],N.pop(),J.destroy()}}function le(J){C.remove(J)}function ye(){C.dispose()}return{getParameters:L,getProgramCacheKey:R,getUniforms:H,acquireProgram:me,releaseProgram:te,releaseShaderCache:le,programs:N,dispose:ye}}function HR(){let m=new WeakMap;function t(u){let f=m.get(u);return f===void 0&&(f={},m.set(u,f)),f}function i(u){m.delete(u)}function s(u,f,b){m.get(u)[f]=b}function c(){m=new WeakMap}return{get:t,remove:i,update:s,dispose:c}}function $R(m,t){return m.groupOrder!==t.groupOrder?m.groupOrder-t.groupOrder:m.renderOrder!==t.renderOrder?m.renderOrder-t.renderOrder:m.material.id!==t.material.id?m.material.id-t.material.id:m.z!==t.z?m.z-t.z:m.id-t.id}function ZC(m,t){return m.groupOrder!==t.groupOrder?m.groupOrder-t.groupOrder:m.renderOrder!==t.renderOrder?m.renderOrder-t.renderOrder:m.z!==t.z?t.z-m.z:m.id-t.id}function JC(){const m=[];let t=0;const i=[],s=[],c=[];function u(){t=0,i.length=0,s.length=0,c.length=0}function f(A,E,I,B,D,L){let R=m[t];return R===void 0?(R={id:A.id,object:A,geometry:E,material:I,groupOrder:B,renderOrder:A.renderOrder,z:D,group:L},m[t]=R):(R.id=A.id,R.object=A,R.geometry=E,R.material=I,R.groupOrder=B,R.renderOrder=A.renderOrder,R.z=D,R.group=L),t++,R}function b(A,E,I,B,D,L){const R=f(A,E,I,B,D,L);I.transmission>0?s.push(R):I.transparent===!0?c.push(R):i.push(R)}function C(A,E,I,B,D,L){const R=f(A,E,I,B,D,L);I.transmission>0?s.unshift(R):I.transparent===!0?c.unshift(R):i.unshift(R)}function _(A,E){i.length>1&&i.sort(A||$R),s.length>1&&s.sort(E||ZC),c.length>1&&c.sort(E||ZC)}function N(){for(let A=t,E=m.length;A<E;A++){const I=m[A];if(I.id===null)break;I.id=null,I.object=null,I.geometry=null,I.material=null,I.group=null}}return{opaque:i,transmissive:s,transparent:c,init:u,push:b,unshift:C,finish:N,sort:_}}function qR(){let m=new WeakMap;function t(s,c){const u=m.get(s);let f;return u===void 0?(f=new JC,m.set(s,[f])):c>=u.length?(f=new JC,u.push(f)):f=u[c],f}function i(){m=new WeakMap}return{get:t,dispose:i}}function YR(){const m={};return{get:function(t){if(m[t.id]!==void 0)return m[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new ie,color:new _t};break;case"SpotLight":i={position:new ie,direction:new ie,color:new _t,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new ie,color:new _t,distance:0,decay:0};break;case"HemisphereLight":i={direction:new ie,skyColor:new _t,groundColor:new _t};break;case"RectAreaLight":i={color:new _t,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return m[t.id]=i,i}}}function KR(){const m={};return{get:function(t){if(m[t.id]!==void 0)return m[t.id];let i;switch(t.type){case"DirectionalLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return m[t.id]=i,i}}}let ZR=0;function JR(m,t){return(t.castShadow?2:0)-(m.castShadow?2:0)+(t.map?1:0)-(m.map?1:0)}function QR(m){const t=new YR,i=KR(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let _=0;_<9;_++)s.probe.push(new ie);const c=new ie,u=new Ut,f=new Ut;function b(_,N){let A=0,E=0,I=0;for(let we=0;we<9;we++)s.probe[we].set(0,0,0);let B=0,D=0,L=0,R=0,G=0,X=0,H=0,me=0,te=0,le=0,ye=0;_.sort(JR);const J=N===!0?Math.PI:1;for(let we=0,Fe=_.length;we<Fe;we++){const Ce=_[we],Oe=Ce.color,We=Ce.intensity,Ye=Ce.distance,gt=Ce.shadow&&Ce.shadow.map?Ce.shadow.map.texture:null;if(Ce.isAmbientLight)A+=Oe.r*We*J,E+=Oe.g*We*J,I+=Oe.b*We*J;else if(Ce.isLightProbe){for(let Xe=0;Xe<9;Xe++)s.probe[Xe].addScaledVector(Ce.sh.coefficients[Xe],We);ye++}else if(Ce.isDirectionalLight){const Xe=t.get(Ce);if(Xe.color.copy(Ce.color).multiplyScalar(Ce.intensity*J),Ce.castShadow){const at=Ce.shadow,ot=i.get(Ce);ot.shadowBias=at.bias,ot.shadowNormalBias=at.normalBias,ot.shadowRadius=at.radius,ot.shadowMapSize=at.mapSize,s.directionalShadow[B]=ot,s.directionalShadowMap[B]=gt,s.directionalShadowMatrix[B]=Ce.shadow.matrix,X++}s.directional[B]=Xe,B++}else if(Ce.isSpotLight){const Xe=t.get(Ce);Xe.position.setFromMatrixPosition(Ce.matrixWorld),Xe.color.copy(Oe).multiplyScalar(We*J),Xe.distance=Ye,Xe.coneCos=Math.cos(Ce.angle),Xe.penumbraCos=Math.cos(Ce.angle*(1-Ce.penumbra)),Xe.decay=Ce.decay,s.spot[L]=Xe;const at=Ce.shadow;if(Ce.map&&(s.spotLightMap[te]=Ce.map,te++,at.updateMatrices(Ce),Ce.castShadow&&le++),s.spotLightMatrix[L]=at.matrix,Ce.castShadow){const ot=i.get(Ce);ot.shadowBias=at.bias,ot.shadowNormalBias=at.normalBias,ot.shadowRadius=at.radius,ot.shadowMapSize=at.mapSize,s.spotShadow[L]=ot,s.spotShadowMap[L]=gt,me++}L++}else if(Ce.isRectAreaLight){const Xe=t.get(Ce);Xe.color.copy(Oe).multiplyScalar(We),Xe.halfWidth.set(Ce.width*.5,0,0),Xe.halfHeight.set(0,Ce.height*.5,0),s.rectArea[R]=Xe,R++}else if(Ce.isPointLight){const Xe=t.get(Ce);if(Xe.color.copy(Ce.color).multiplyScalar(Ce.intensity*J),Xe.distance=Ce.distance,Xe.decay=Ce.decay,Ce.castShadow){const at=Ce.shadow,ot=i.get(Ce);ot.shadowBias=at.bias,ot.shadowNormalBias=at.normalBias,ot.shadowRadius=at.radius,ot.shadowMapSize=at.mapSize,ot.shadowCameraNear=at.camera.near,ot.shadowCameraFar=at.camera.far,s.pointShadow[D]=ot,s.pointShadowMap[D]=gt,s.pointShadowMatrix[D]=Ce.shadow.matrix,H++}s.point[D]=Xe,D++}else if(Ce.isHemisphereLight){const Xe=t.get(Ce);Xe.skyColor.copy(Ce.color).multiplyScalar(We*J),Xe.groundColor.copy(Ce.groundColor).multiplyScalar(We*J),s.hemi[G]=Xe,G++}}R>0&&(m.has("OES_texture_float_linear")===!0?(s.rectAreaLTC1=ft.LTC_FLOAT_1,s.rectAreaLTC2=ft.LTC_FLOAT_2):(s.rectAreaLTC1=ft.LTC_HALF_1,s.rectAreaLTC2=ft.LTC_HALF_2)),s.ambient[0]=A,s.ambient[1]=E,s.ambient[2]=I;const $=s.hash;($.directionalLength!==B||$.pointLength!==D||$.spotLength!==L||$.rectAreaLength!==R||$.hemiLength!==G||$.numDirectionalShadows!==X||$.numPointShadows!==H||$.numSpotShadows!==me||$.numSpotMaps!==te||$.numLightProbes!==ye)&&(s.directional.length=B,s.spot.length=L,s.rectArea.length=R,s.point.length=D,s.hemi.length=G,s.directionalShadow.length=X,s.directionalShadowMap.length=X,s.pointShadow.length=H,s.pointShadowMap.length=H,s.spotShadow.length=me,s.spotShadowMap.length=me,s.directionalShadowMatrix.length=X,s.pointShadowMatrix.length=H,s.spotLightMatrix.length=me+te-le,s.spotLightMap.length=te,s.numSpotLightShadowsWithMaps=le,s.numLightProbes=ye,$.directionalLength=B,$.pointLength=D,$.spotLength=L,$.rectAreaLength=R,$.hemiLength=G,$.numDirectionalShadows=X,$.numPointShadows=H,$.numSpotShadows=me,$.numSpotMaps=te,$.numLightProbes=ye,s.version=ZR++)}function C(_,N){let A=0,E=0,I=0,B=0,D=0;const L=N.matrixWorldInverse;for(let R=0,G=_.length;R<G;R++){const X=_[R];if(X.isDirectionalLight){const H=s.directional[A];H.direction.setFromMatrixPosition(X.matrixWorld),c.setFromMatrixPosition(X.target.matrixWorld),H.direction.sub(c),H.direction.transformDirection(L),A++}else if(X.isSpotLight){const H=s.spot[I];H.position.setFromMatrixPosition(X.matrixWorld),H.position.applyMatrix4(L),H.direction.setFromMatrixPosition(X.matrixWorld),c.setFromMatrixPosition(X.target.matrixWorld),H.direction.sub(c),H.direction.transformDirection(L),I++}else if(X.isRectAreaLight){const H=s.rectArea[B];H.position.setFromMatrixPosition(X.matrixWorld),H.position.applyMatrix4(L),f.identity(),u.copy(X.matrixWorld),u.premultiply(L),f.extractRotation(u),H.halfWidth.set(X.width*.5,0,0),H.halfHeight.set(0,X.height*.5,0),H.halfWidth.applyMatrix4(f),H.halfHeight.applyMatrix4(f),B++}else if(X.isPointLight){const H=s.point[E];H.position.setFromMatrixPosition(X.matrixWorld),H.position.applyMatrix4(L),E++}else if(X.isHemisphereLight){const H=s.hemi[D];H.direction.setFromMatrixPosition(X.matrixWorld),H.direction.transformDirection(L),D++}}}return{setup:b,setupView:C,state:s}}function QC(m){const t=new QR(m),i=[],s=[];function c(N){_.camera=N,i.length=0,s.length=0}function u(N){i.push(N)}function f(N){s.push(N)}function b(N){t.setup(i,N)}function C(N){t.setupView(i,N)}const _={lightsArray:i,shadowsArray:s,camera:null,lights:t,transmissionRenderTarget:{}};return{init:c,state:_,setupLights:b,setupLightsView:C,pushLight:u,pushShadow:f}}function eP(m){let t=new WeakMap;function i(c,u=0){const f=t.get(c);let b;return f===void 0?(b=new QC(m),t.set(c,[b])):u>=f.length?(b=new QC(m),f.push(b)):b=f[u],b}function s(){t=new WeakMap}return{get:i,dispose:s}}class Bb extends Dr{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=jp,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class Ob extends Dr{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}const tP=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,nP=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function rP(m,t,i){let s=new V;const c=new He,u=new He,f=new jn,b=new Bb({depthPacking:lh}),C=new Ob,_={},N=i.maxTextureSize,A={[y]:x,[x]:y,[T]:T},E=new Ei({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:tP,fragmentShader:nP}),I=E.clone();I.defines.HORIZONTAL_PASS=1;const B=new Jt;B.setAttribute("position",new tn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const D=new lr(B,E),L=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p;let R=this.type;this.render=function(te,le,ye){if(L.enabled===!1||L.autoUpdate===!1&&L.needsUpdate===!1||te.length===0)return;const J=m.getRenderTarget(),$=m.getActiveCubeFace(),we=m.getActiveMipmapLevel(),Fe=m.state;Fe.setBlending(w),Fe.buffers.color.setClear(1,1,1,1),Fe.buffers.depth.setTest(!0),Fe.setScissorTest(!1);const Ce=R!==v&&this.type===v,Oe=R===v&&this.type!==v;for(let We=0,Ye=te.length;We<Ye;We++){const gt=te[We],Xe=gt.shadow;if(Xe===void 0){console.warn("THREE.WebGLShadowMap:",gt,"has no shadow.");continue}if(Xe.autoUpdate===!1&&Xe.needsUpdate===!1)continue;c.copy(Xe.mapSize);const at=Xe.getFrameExtents();if(c.multiply(at),u.copy(Xe.mapSize),(c.x>N||c.y>N)&&(c.x>N&&(u.x=Math.floor(N/at.x),c.x=u.x*at.x,Xe.mapSize.x=u.x),c.y>N&&(u.y=Math.floor(N/at.y),c.y=u.y*at.y,Xe.mapSize.y=u.y)),Xe.map===null||Ce===!0||Oe===!0){const Rt=this.type!==v?{minFilter:gr,magFilter:gr}:{};Xe.map!==null&&Xe.map.dispose(),Xe.map=new vi(c.x,c.y,Rt),Xe.map.texture.name=gt.name+".shadowMap",Xe.camera.updateProjectionMatrix()}m.setRenderTarget(Xe.map),m.clear();const ot=Xe.getViewportCount();for(let Rt=0;Rt<ot;Rt++){const cn=Xe.getViewport(Rt);f.set(u.x*cn.x,u.y*cn.y,u.x*cn.z,u.y*cn.w),Fe.viewport(f),Xe.updateMatrices(gt,Rt),s=Xe.getFrustum(),H(le,ye,Xe.camera,gt,this.type)}Xe.isPointLightShadow!==!0&&this.type===v&&G(Xe,ye),Xe.needsUpdate=!1}R=this.type,L.needsUpdate=!1,m.setRenderTarget(J,$,we)};function G(te,le){const ye=t.update(D);E.defines.VSM_SAMPLES!==te.blurSamples&&(E.defines.VSM_SAMPLES=te.blurSamples,I.defines.VSM_SAMPLES=te.blurSamples,E.needsUpdate=!0,I.needsUpdate=!0),te.mapPass===null&&(te.mapPass=new vi(c.x,c.y)),E.uniforms.shadow_pass.value=te.map.texture,E.uniforms.resolution.value=te.mapSize,E.uniforms.radius.value=te.radius,m.setRenderTarget(te.mapPass),m.clear(),m.renderBufferDirect(le,null,ye,E,D,null),I.uniforms.shadow_pass.value=te.mapPass.texture,I.uniforms.resolution.value=te.mapSize,I.uniforms.radius.value=te.radius,m.setRenderTarget(te.map),m.clear(),m.renderBufferDirect(le,null,ye,I,D,null)}function X(te,le,ye,J){let $=null;const we=ye.isPointLight===!0?te.customDistanceMaterial:te.customDepthMaterial;if(we!==void 0)$=we;else if($=ye.isPointLight===!0?C:b,m.localClippingEnabled&&le.clipShadows===!0&&Array.isArray(le.clippingPlanes)&&le.clippingPlanes.length!==0||le.displacementMap&&le.displacementScale!==0||le.alphaMap&&le.alphaTest>0||le.map&&le.alphaTest>0){const Fe=$.uuid,Ce=le.uuid;let Oe=_[Fe];Oe===void 0&&(Oe={},_[Fe]=Oe);let We=Oe[Ce];We===void 0&&(We=$.clone(),Oe[Ce]=We,le.addEventListener("dispose",me)),$=We}if($.visible=le.visible,$.wireframe=le.wireframe,J===v?$.side=le.shadowSide!==null?le.shadowSide:le.side:$.side=le.shadowSide!==null?le.shadowSide:A[le.side],$.alphaMap=le.alphaMap,$.alphaTest=le.alphaTest,$.map=le.map,$.clipShadows=le.clipShadows,$.clippingPlanes=le.clippingPlanes,$.clipIntersection=le.clipIntersection,$.displacementMap=le.displacementMap,$.displacementScale=le.displacementScale,$.displacementBias=le.displacementBias,$.wireframeLinewidth=le.wireframeLinewidth,$.linewidth=le.linewidth,ye.isPointLight===!0&&$.isMeshDistanceMaterial===!0){const Fe=m.properties.get($);Fe.light=ye}return $}function H(te,le,ye,J,$){if(te.visible===!1)return;if(te.layers.test(le.layers)&&(te.isMesh||te.isLine||te.isPoints)&&(te.castShadow||te.receiveShadow&&$===v)&&(!te.frustumCulled||s.intersectsObject(te))){te.modelViewMatrix.multiplyMatrices(ye.matrixWorldInverse,te.matrixWorld);const Ce=t.update(te),Oe=te.material;if(Array.isArray(Oe)){const We=Ce.groups;for(let Ye=0,gt=We.length;Ye<gt;Ye++){const Xe=We[Ye],at=Oe[Xe.materialIndex];if(at&&at.visible){const ot=X(te,at,J,$);te.onBeforeShadow(m,te,le,ye,Ce,ot,Xe),m.renderBufferDirect(ye,null,Ce,ot,te,Xe),te.onAfterShadow(m,te,le,ye,Ce,ot,Xe)}}}else if(Oe.visible){const We=X(te,Oe,J,$);te.onBeforeShadow(m,te,le,ye,Ce,We,null),m.renderBufferDirect(ye,null,Ce,We,te,null),te.onAfterShadow(m,te,le,ye,Ce,We,null)}}const Fe=te.children;for(let Ce=0,Oe=Fe.length;Ce<Oe;Ce++)H(Fe[Ce],le,ye,J,$)}function me(te){te.target.removeEventListener("dispose",me);for(const ye in _){const J=_[ye],$=te.target.uuid;$ in J&&(J[$].dispose(),delete J[$])}}}function iP(m){function t(){let Te=!1;const Je=new jn;let Ve=null;const xt=new jn(0,0,0,0);return{setMask:function(St){Ve!==St&&!Te&&(m.colorMask(St,St,St,St),Ve=St)},setLocked:function(St){Te=St},setClear:function(St,Bn,Qn,pr,Zr){Zr===!0&&(St*=pr,Bn*=pr,Qn*=pr),Je.set(St,Bn,Qn,pr),xt.equals(Je)===!1&&(m.clearColor(St,Bn,Qn,pr),xt.copy(Je))},reset:function(){Te=!1,Ve=null,xt.set(-1,0,0,0)}}}function i(){let Te=!1,Je=null,Ve=null,xt=null;return{setTest:function(St){St?Ot(m.DEPTH_TEST):ct(m.DEPTH_TEST)},setMask:function(St){Je!==St&&!Te&&(m.depthMask(St),Je=St)},setFunc:function(St){if(Ve!==St){switch(St){case pt:m.depthFunc(m.NEVER);break;case Bt:m.depthFunc(m.ALWAYS);break;case Tt:m.depthFunc(m.LESS);break;case wt:m.depthFunc(m.LEQUAL);break;case Vt:m.depthFunc(m.EQUAL);break;case Ft:m.depthFunc(m.GEQUAL);break;case zt:m.depthFunc(m.GREATER);break;case An:m.depthFunc(m.NOTEQUAL);break;default:m.depthFunc(m.LEQUAL)}Ve=St}},setLocked:function(St){Te=St},setClear:function(St){xt!==St&&(m.clearDepth(St),xt=St)},reset:function(){Te=!1,Je=null,Ve=null,xt=null}}}function s(){let Te=!1,Je=null,Ve=null,xt=null,St=null,Bn=null,Qn=null,pr=null,Zr=null;return{setTest:function(Gn){Te||(Gn?Ot(m.STENCIL_TEST):ct(m.STENCIL_TEST))},setMask:function(Gn){Je!==Gn&&!Te&&(m.stencilMask(Gn),Je=Gn)},setFunc:function(Gn,ea,di){(Ve!==Gn||xt!==ea||St!==di)&&(m.stencilFunc(Gn,ea,di),Ve=Gn,xt=ea,St=di)},setOp:function(Gn,ea,di){(Bn!==Gn||Qn!==ea||pr!==di)&&(m.stencilOp(Gn,ea,di),Bn=Gn,Qn=ea,pr=di)},setLocked:function(Gn){Te=Gn},setClear:function(Gn){Zr!==Gn&&(m.clearStencil(Gn),Zr=Gn)},reset:function(){Te=!1,Je=null,Ve=null,xt=null,St=null,Bn=null,Qn=null,pr=null,Zr=null}}}const c=new t,u=new i,f=new s,b=new WeakMap,C=new WeakMap;let _={},N={},A=new WeakMap,E=[],I=null,B=!1,D=null,L=null,R=null,G=null,X=null,H=null,me=null,te=new _t(0,0,0),le=0,ye=!1,J=null,$=null,we=null,Fe=null,Ce=null;const Oe=m.getParameter(m.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let We=!1,Ye=0;const gt=m.getParameter(m.VERSION);gt.indexOf("WebGL")!==-1?(Ye=parseFloat(/^WebGL (\d)/.exec(gt)[1]),We=Ye>=1):gt.indexOf("OpenGL ES")!==-1&&(Ye=parseFloat(/^OpenGL ES (\d)/.exec(gt)[1]),We=Ye>=2);let Xe=null,at={};const ot=m.getParameter(m.SCISSOR_BOX),Rt=m.getParameter(m.VIEWPORT),cn=new jn().fromArray(ot),Un=new jn().fromArray(Rt);function Ue(Te,Je,Ve,xt){const St=new Uint8Array(4),Bn=m.createTexture();m.bindTexture(Te,Bn),m.texParameteri(Te,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(Te,m.TEXTURE_MAG_FILTER,m.NEAREST);for(let Qn=0;Qn<Ve;Qn++)Te===m.TEXTURE_3D||Te===m.TEXTURE_2D_ARRAY?m.texImage3D(Je,0,m.RGBA,1,1,xt,0,m.RGBA,m.UNSIGNED_BYTE,St):m.texImage2D(Je+Qn,0,m.RGBA,1,1,0,m.RGBA,m.UNSIGNED_BYTE,St);return Bn}const lt={};lt[m.TEXTURE_2D]=Ue(m.TEXTURE_2D,m.TEXTURE_2D,1),lt[m.TEXTURE_CUBE_MAP]=Ue(m.TEXTURE_CUBE_MAP,m.TEXTURE_CUBE_MAP_POSITIVE_X,6),lt[m.TEXTURE_2D_ARRAY]=Ue(m.TEXTURE_2D_ARRAY,m.TEXTURE_2D_ARRAY,1,1),lt[m.TEXTURE_3D]=Ue(m.TEXTURE_3D,m.TEXTURE_3D,1,1),c.setClear(0,0,0,1),u.setClear(1),f.setClear(0),Ot(m.DEPTH_TEST),u.setFunc(wt),dt(!1),nt(o),Ot(m.CULL_FACE),rt(w);function Ot(Te){_[Te]!==!0&&(m.enable(Te),_[Te]=!0)}function ct(Te){_[Te]!==!1&&(m.disable(Te),_[Te]=!1)}function hn(Te,Je){return N[Te]!==Je?(m.bindFramebuffer(Te,Je),N[Te]=Je,Te===m.DRAW_FRAMEBUFFER&&(N[m.FRAMEBUFFER]=Je),Te===m.FRAMEBUFFER&&(N[m.DRAW_FRAMEBUFFER]=Je),!0):!1}function bn(Te,Je){let Ve=E,xt=!1;if(Te){Ve=A.get(Je),Ve===void 0&&(Ve=[],A.set(Je,Ve));const St=Te.textures;if(Ve.length!==St.length||Ve[0]!==m.COLOR_ATTACHMENT0){for(let Bn=0,Qn=St.length;Bn<Qn;Bn++)Ve[Bn]=m.COLOR_ATTACHMENT0+Bn;Ve.length=St.length,xt=!0}}else Ve[0]!==m.BACK&&(Ve[0]=m.BACK,xt=!0);xt&&m.drawBuffers(Ve)}function Se(Te){return I!==Te?(m.useProgram(Te),I=Te,!0):!1}const _n={[q]:m.FUNC_ADD,[Z]:m.FUNC_SUBTRACT,[Y]:m.FUNC_REVERSE_SUBTRACT};_n[he]=m.MIN,_n[ae]=m.MAX;const Ge={[ve]:m.ZERO,[re]:m.ONE,[se]:m.SRC_COLOR,[Q]:m.SRC_ALPHA,[Be]:m.SRC_ALPHA_SATURATE,[de]:m.DST_COLOR,[be]:m.DST_ALPHA,[oe]:m.ONE_MINUS_SRC_COLOR,[pe]:m.ONE_MINUS_SRC_ALPHA,[De]:m.ONE_MINUS_DST_COLOR,[fe]:m.ONE_MINUS_DST_ALPHA,[_e]:m.CONSTANT_COLOR,[ke]:m.ONE_MINUS_CONSTANT_COLOR,[je]:m.CONSTANT_ALPHA,[mt]:m.ONE_MINUS_CONSTANT_ALPHA};function rt(Te,Je,Ve,xt,St,Bn,Qn,pr,Zr,Gn){if(Te===w){B===!0&&(ct(m.BLEND),B=!1);return}if(B===!1&&(Ot(m.BLEND),B=!0),Te!==W){if(Te!==D||Gn!==ye){if((L!==q||X!==q)&&(m.blendEquation(m.FUNC_ADD),L=q,X=q),Gn)switch(Te){case M:m.blendFuncSeparate(m.ONE,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA);break;case S:m.blendFunc(m.ONE,m.ONE);break;case j:m.blendFuncSeparate(m.ZERO,m.ONE_MINUS_SRC_COLOR,m.ZERO,m.ONE);break;case k:m.blendFuncSeparate(m.ZERO,m.SRC_COLOR,m.ZERO,m.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}else switch(Te){case M:m.blendFuncSeparate(m.SRC_ALPHA,m.ONE_MINUS_SRC_ALPHA,m.ONE,m.ONE_MINUS_SRC_ALPHA);break;case S:m.blendFunc(m.SRC_ALPHA,m.ONE);break;case j:m.blendFuncSeparate(m.ZERO,m.ONE_MINUS_SRC_COLOR,m.ZERO,m.ONE);break;case k:m.blendFunc(m.ZERO,m.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}R=null,G=null,H=null,me=null,te.set(0,0,0),le=0,D=Te,ye=Gn}return}St=St||Je,Bn=Bn||Ve,Qn=Qn||xt,(Je!==L||St!==X)&&(m.blendEquationSeparate(_n[Je],_n[St]),L=Je,X=St),(Ve!==R||xt!==G||Bn!==H||Qn!==me)&&(m.blendFuncSeparate(Ge[Ve],Ge[xt],Ge[Bn],Ge[Qn]),R=Ve,G=xt,H=Bn,me=Qn),(pr.equals(te)===!1||Zr!==le)&&(m.blendColor(pr.r,pr.g,pr.b,Zr),te.copy(pr),le=Zr),D=Te,ye=!1}function qe(Te,Je){Te.side===T?ct(m.CULL_FACE):Ot(m.CULL_FACE);let Ve=Te.side===x;Je&&(Ve=!Ve),dt(Ve),Te.blending===M&&Te.transparent===!1?rt(w):rt(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),u.setFunc(Te.depthFunc),u.setTest(Te.depthTest),u.setMask(Te.depthWrite),c.setMask(Te.colorWrite);const xt=Te.stencilWrite;f.setTest(xt),xt&&(f.setMask(Te.stencilWriteMask),f.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),f.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),Wt(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),Te.alphaToCoverage===!0?Ot(m.SAMPLE_ALPHA_TO_COVERAGE):ct(m.SAMPLE_ALPHA_TO_COVERAGE)}function dt(Te){J!==Te&&(Te?m.frontFace(m.CW):m.frontFace(m.CCW),J=Te)}function nt(Te){Te!==r?(Ot(m.CULL_FACE),Te!==$&&(Te===o?m.cullFace(m.BACK):Te===l?m.cullFace(m.FRONT):m.cullFace(m.FRONT_AND_BACK))):ct(m.CULL_FACE),$=Te}function Et(Te){Te!==we&&(We&&m.lineWidth(Te),we=Te)}function Wt(Te,Je,Ve){Te?(Ot(m.POLYGON_OFFSET_FILL),(Fe!==Je||Ce!==Ve)&&(m.polygonOffset(Je,Ve),Fe=Je,Ce=Ve)):ct(m.POLYGON_OFFSET_FILL)}function ce(Te){Te?Ot(m.SCISSOR_TEST):ct(m.SCISSOR_TEST)}function K(Te){Te===void 0&&(Te=m.TEXTURE0+Oe-1),Xe!==Te&&(m.activeTexture(Te),Xe=Te)}function Ee(Te,Je,Ve){Ve===void 0&&(Xe===null?Ve=m.TEXTURE0+Oe-1:Ve=Xe);let xt=at[Ve];xt===void 0&&(xt={type:void 0,texture:void 0},at[Ve]=xt),(xt.type!==Te||xt.texture!==Je)&&(Xe!==Ve&&(m.activeTexture(Ve),Xe=Ve),m.bindTexture(Te,Je||lt[Te]),xt.type=Te,xt.texture=Je)}function $e(){const Te=at[Xe];Te!==void 0&&Te.type!==void 0&&(m.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)}function Qe(){try{m.compressedTexImage2D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Ze(){try{m.compressedTexImage3D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Xt(){try{m.texSubImage2D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function yt(){try{m.texSubImage3D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function vt(){try{m.compressedTexSubImage2D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function an(){try{m.compressedTexSubImage3D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ht(){try{m.texStorage2D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function kt(){try{m.texStorage3D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Cn(){try{m.texImage2D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function $t(){try{m.texImage3D.apply(m,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Pt(Te){cn.equals(Te)===!1&&(m.scissor(Te.x,Te.y,Te.z,Te.w),cn.copy(Te))}function mn(Te){Un.equals(Te)===!1&&(m.viewport(Te.x,Te.y,Te.z,Te.w),Un.copy(Te))}function Tn(Te,Je){let Ve=C.get(Je);Ve===void 0&&(Ve=new WeakMap,C.set(Je,Ve));let xt=Ve.get(Te);xt===void 0&&(xt=m.getUniformBlockIndex(Je,Te.name),Ve.set(Te,xt))}function vr(Te,Je){const xt=C.get(Je).get(Te);b.get(Je)!==xt&&(m.uniformBlockBinding(Je,xt,Te.__bindingPointIndex),b.set(Je,xt))}function pn(){m.disable(m.BLEND),m.disable(m.CULL_FACE),m.disable(m.DEPTH_TEST),m.disable(m.POLYGON_OFFSET_FILL),m.disable(m.SCISSOR_TEST),m.disable(m.STENCIL_TEST),m.disable(m.SAMPLE_ALPHA_TO_COVERAGE),m.blendEquation(m.FUNC_ADD),m.blendFunc(m.ONE,m.ZERO),m.blendFuncSeparate(m.ONE,m.ZERO,m.ONE,m.ZERO),m.blendColor(0,0,0,0),m.colorMask(!0,!0,!0,!0),m.clearColor(0,0,0,0),m.depthMask(!0),m.depthFunc(m.LESS),m.clearDepth(1),m.stencilMask(4294967295),m.stencilFunc(m.ALWAYS,0,4294967295),m.stencilOp(m.KEEP,m.KEEP,m.KEEP),m.clearStencil(0),m.cullFace(m.BACK),m.frontFace(m.CCW),m.polygonOffset(0,0),m.activeTexture(m.TEXTURE0),m.bindFramebuffer(m.FRAMEBUFFER,null),m.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),m.bindFramebuffer(m.READ_FRAMEBUFFER,null),m.useProgram(null),m.lineWidth(1),m.scissor(0,0,m.canvas.width,m.canvas.height),m.viewport(0,0,m.canvas.width,m.canvas.height),_={},Xe=null,at={},N={},A=new WeakMap,E=[],I=null,B=!1,D=null,L=null,R=null,G=null,X=null,H=null,me=null,te=new _t(0,0,0),le=0,ye=!1,J=null,$=null,we=null,Fe=null,Ce=null,cn.set(0,0,m.canvas.width,m.canvas.height),Un.set(0,0,m.canvas.width,m.canvas.height),c.reset(),u.reset(),f.reset()}return{buffers:{color:c,depth:u,stencil:f},enable:Ot,disable:ct,bindFramebuffer:hn,drawBuffers:bn,useProgram:Se,setBlending:rt,setMaterial:qe,setFlipSided:dt,setCullFace:nt,setLineWidth:Et,setPolygonOffset:Wt,setScissorTest:ce,activeTexture:K,bindTexture:Ee,unbindTexture:$e,compressedTexImage2D:Qe,compressedTexImage3D:Ze,texImage2D:Cn,texImage3D:$t,updateUBOMapping:Tn,uniformBlockBinding:vr,texStorage2D:ht,texStorage3D:kt,texSubImage2D:Xt,texSubImage3D:yt,compressedTexSubImage2D:vt,compressedTexSubImage3D:an,scissor:Pt,viewport:mn,reset:pn}}function oP(m,t,i,s,c,u,f){const b=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,C=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),_=new He,N=new WeakMap;let A;const E=new WeakMap;let I=!1;try{I=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function B(ce,K){return I?new OffscreenCanvas(ce,K):Aa("canvas")}function D(ce,K,Ee){let $e=1;const Qe=Wt(ce);if((Qe.width>Ee||Qe.height>Ee)&&($e=Ee/Math.max(Qe.width,Qe.height)),$e<1)if(typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ce instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ce instanceof ImageBitmap||typeof VideoFrame<"u"&&ce instanceof VideoFrame){const Ze=Math.floor($e*Qe.width),Xt=Math.floor($e*Qe.height);A===void 0&&(A=B(Ze,Xt));const yt=K?B(Ze,Xt):A;return yt.width=Ze,yt.height=Xt,yt.getContext("2d").drawImage(ce,0,0,Ze,Xt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Qe.width+"x"+Qe.height+") to ("+Ze+"x"+Xt+")."),yt}else return"data"in ce&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Qe.width+"x"+Qe.height+")."),ce;return ce}function L(ce){return ce.generateMipmaps&&ce.minFilter!==gr&&ce.minFilter!==ur}function R(ce){m.generateMipmap(ce)}function G(ce,K,Ee,$e,Qe=!1){if(ce!==null){if(m[ce]!==void 0)return m[ce];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ce+"'")}let Ze=K;if(K===m.RED&&(Ee===m.FLOAT&&(Ze=m.R32F),Ee===m.HALF_FLOAT&&(Ze=m.R16F),Ee===m.UNSIGNED_BYTE&&(Ze=m.R8)),K===m.RED_INTEGER&&(Ee===m.UNSIGNED_BYTE&&(Ze=m.R8UI),Ee===m.UNSIGNED_SHORT&&(Ze=m.R16UI),Ee===m.UNSIGNED_INT&&(Ze=m.R32UI),Ee===m.BYTE&&(Ze=m.R8I),Ee===m.SHORT&&(Ze=m.R16I),Ee===m.INT&&(Ze=m.R32I)),K===m.RG&&(Ee===m.FLOAT&&(Ze=m.RG32F),Ee===m.HALF_FLOAT&&(Ze=m.RG16F),Ee===m.UNSIGNED_BYTE&&(Ze=m.RG8)),K===m.RG_INTEGER&&(Ee===m.UNSIGNED_BYTE&&(Ze=m.RG8UI),Ee===m.UNSIGNED_SHORT&&(Ze=m.RG16UI),Ee===m.UNSIGNED_INT&&(Ze=m.RG32UI),Ee===m.BYTE&&(Ze=m.RG8I),Ee===m.SHORT&&(Ze=m.RG16I),Ee===m.INT&&(Ze=m.RG32I)),K===m.RGB&&Ee===m.UNSIGNED_INT_5_9_9_9_REV&&(Ze=m.RGB9_E5),K===m.RGBA){const Xt=Qe?Ta:Ln.getTransfer($e);Ee===m.FLOAT&&(Ze=m.RGBA32F),Ee===m.HALF_FLOAT&&(Ze=m.RGBA16F),Ee===m.UNSIGNED_BYTE&&(Ze=Xt===Fn?m.SRGB8_ALPHA8:m.RGBA8),Ee===m.UNSIGNED_SHORT_4_4_4_4&&(Ze=m.RGBA4),Ee===m.UNSIGNED_SHORT_5_5_5_1&&(Ze=m.RGB5_A1)}return(Ze===m.R16F||Ze===m.R32F||Ze===m.RG16F||Ze===m.RG32F||Ze===m.RGBA16F||Ze===m.RGBA32F)&&t.get("EXT_color_buffer_float"),Ze}function X(ce,K){return L(ce)===!0||ce.isFramebufferTexture&&ce.minFilter!==gr&&ce.minFilter!==ur?Math.log2(Math.max(K.width,K.height))+1:ce.mipmaps!==void 0&&ce.mipmaps.length>0?ce.mipmaps.length:ce.isCompressedTexture&&Array.isArray(ce.image)?K.mipmaps.length:1}function H(ce){const K=ce.target;K.removeEventListener("dispose",H),te(K),K.isVideoTexture&&N.delete(K)}function me(ce){const K=ce.target;K.removeEventListener("dispose",me),ye(K)}function te(ce){const K=s.get(ce);if(K.__webglInit===void 0)return;const Ee=ce.source,$e=E.get(Ee);if($e){const Qe=$e[K.__cacheKey];Qe.usedTimes--,Qe.usedTimes===0&&le(ce),Object.keys($e).length===0&&E.delete(Ee)}s.remove(ce)}function le(ce){const K=s.get(ce);m.deleteTexture(K.__webglTexture);const Ee=ce.source,$e=E.get(Ee);delete $e[K.__cacheKey],f.memory.textures--}function ye(ce){const K=s.get(ce);if(ce.depthTexture&&ce.depthTexture.dispose(),ce.isWebGLCubeRenderTarget)for(let $e=0;$e<6;$e++){if(Array.isArray(K.__webglFramebuffer[$e]))for(let Qe=0;Qe<K.__webglFramebuffer[$e].length;Qe++)m.deleteFramebuffer(K.__webglFramebuffer[$e][Qe]);else m.deleteFramebuffer(K.__webglFramebuffer[$e]);K.__webglDepthbuffer&&m.deleteRenderbuffer(K.__webglDepthbuffer[$e])}else{if(Array.isArray(K.__webglFramebuffer))for(let $e=0;$e<K.__webglFramebuffer.length;$e++)m.deleteFramebuffer(K.__webglFramebuffer[$e]);else m.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&m.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&m.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let $e=0;$e<K.__webglColorRenderbuffer.length;$e++)K.__webglColorRenderbuffer[$e]&&m.deleteRenderbuffer(K.__webglColorRenderbuffer[$e]);K.__webglDepthRenderbuffer&&m.deleteRenderbuffer(K.__webglDepthRenderbuffer)}const Ee=ce.textures;for(let $e=0,Qe=Ee.length;$e<Qe;$e++){const Ze=s.get(Ee[$e]);Ze.__webglTexture&&(m.deleteTexture(Ze.__webglTexture),f.memory.textures--),s.remove(Ee[$e])}s.remove(ce)}let J=0;function $(){J=0}function we(){const ce=J;return ce>=c.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ce+" texture units while this GPU supports only "+c.maxTextures),J+=1,ce}function Fe(ce){const K=[];return K.push(ce.wrapS),K.push(ce.wrapT),K.push(ce.wrapR||0),K.push(ce.magFilter),K.push(ce.minFilter),K.push(ce.anisotropy),K.push(ce.internalFormat),K.push(ce.format),K.push(ce.type),K.push(ce.generateMipmaps),K.push(ce.premultiplyAlpha),K.push(ce.flipY),K.push(ce.unpackAlignment),K.push(ce.colorSpace),K.join()}function Ce(ce,K){const Ee=s.get(ce);if(ce.isVideoTexture&&nt(ce),ce.isRenderTargetTexture===!1&&ce.version>0&&Ee.__version!==ce.version){const $e=ce.image;if($e===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if($e.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{cn(Ee,ce,K);return}}i.bindTexture(m.TEXTURE_2D,Ee.__webglTexture,m.TEXTURE0+K)}function Oe(ce,K){const Ee=s.get(ce);if(ce.version>0&&Ee.__version!==ce.version){cn(Ee,ce,K);return}i.bindTexture(m.TEXTURE_2D_ARRAY,Ee.__webglTexture,m.TEXTURE0+K)}function We(ce,K){const Ee=s.get(ce);if(ce.version>0&&Ee.__version!==ce.version){cn(Ee,ce,K);return}i.bindTexture(m.TEXTURE_3D,Ee.__webglTexture,m.TEXTURE0+K)}function Ye(ce,K){const Ee=s.get(ce);if(ce.version>0&&Ee.__version!==ce.version){Un(Ee,ce,K);return}i.bindTexture(m.TEXTURE_CUBE_MAP,Ee.__webglTexture,m.TEXTURE0+K)}const gt={[Nl]:m.REPEAT,[gi]:m.CLAMP_TO_EDGE,[fs]:m.MIRRORED_REPEAT},Xe={[gr]:m.NEAREST,[Ku]:m.NEAREST_MIPMAP_NEAREST,[ya]:m.NEAREST_MIPMAP_LINEAR,[ur]:m.LINEAR,[Ml]:m.LINEAR_MIPMAP_NEAREST,[Xi]:m.LINEAR_MIPMAP_LINEAR},at={[zp]:m.NEVER,[Hp]:m.ALWAYS,[Up]:m.LESS,[Td]:m.LEQUAL,[Gp]:m.EQUAL,[wd]:m.GEQUAL,[Wp]:m.GREATER,[Vp]:m.NOTEQUAL};function ot(ce,K){if(K.type===bi&&t.has("OES_texture_float_linear")===!1&&(K.magFilter===ur||K.magFilter===Ml||K.magFilter===ya||K.magFilter===Xi||K.minFilter===ur||K.minFilter===Ml||K.minFilter===ya||K.minFilter===Xi)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),m.texParameteri(ce,m.TEXTURE_WRAP_S,gt[K.wrapS]),m.texParameteri(ce,m.TEXTURE_WRAP_T,gt[K.wrapT]),(ce===m.TEXTURE_3D||ce===m.TEXTURE_2D_ARRAY)&&m.texParameteri(ce,m.TEXTURE_WRAP_R,gt[K.wrapR]),m.texParameteri(ce,m.TEXTURE_MAG_FILTER,Xe[K.magFilter]),m.texParameteri(ce,m.TEXTURE_MIN_FILTER,Xe[K.minFilter]),K.compareFunction&&(m.texParameteri(ce,m.TEXTURE_COMPARE_MODE,m.COMPARE_REF_TO_TEXTURE),m.texParameteri(ce,m.TEXTURE_COMPARE_FUNC,at[K.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(K.magFilter===gr||K.minFilter!==ya&&K.minFilter!==Xi||K.type===bi&&t.has("OES_texture_float_linear")===!1)return;if(K.anisotropy>1||s.get(K).__currentAnisotropy){const Ee=t.get("EXT_texture_filter_anisotropic");m.texParameterf(ce,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(K.anisotropy,c.getMaxAnisotropy())),s.get(K).__currentAnisotropy=K.anisotropy}}}function Rt(ce,K){let Ee=!1;ce.__webglInit===void 0&&(ce.__webglInit=!0,K.addEventListener("dispose",H));const $e=K.source;let Qe=E.get($e);Qe===void 0&&(Qe={},E.set($e,Qe));const Ze=Fe(K);if(Ze!==ce.__cacheKey){Qe[Ze]===void 0&&(Qe[Ze]={texture:m.createTexture(),usedTimes:0},f.memory.textures++,Ee=!0),Qe[Ze].usedTimes++;const Xt=Qe[ce.__cacheKey];Xt!==void 0&&(Qe[ce.__cacheKey].usedTimes--,Xt.usedTimes===0&&le(K)),ce.__cacheKey=Ze,ce.__webglTexture=Qe[Ze].texture}return Ee}function cn(ce,K,Ee){let $e=m.TEXTURE_2D;(K.isDataArrayTexture||K.isCompressedArrayTexture)&&($e=m.TEXTURE_2D_ARRAY),K.isData3DTexture&&($e=m.TEXTURE_3D);const Qe=Rt(ce,K),Ze=K.source;i.bindTexture($e,ce.__webglTexture,m.TEXTURE0+Ee);const Xt=s.get(Ze);if(Ze.version!==Xt.__version||Qe===!0){i.activeTexture(m.TEXTURE0+Ee);const yt=Ln.getPrimaries(Ln.workingColorSpace),vt=K.colorSpace===Ui?null:Ln.getPrimaries(K.colorSpace),an=K.colorSpace===Ui||yt===vt?m.NONE:m.BROWSER_DEFAULT_WEBGL;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,K.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,K.unpackAlignment),m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL,an);let ht=D(K.image,!1,c.maxTextureSize);ht=Et(K,ht);const kt=u.convert(K.format,K.colorSpace),Cn=u.convert(K.type);let $t=G(K.internalFormat,kt,Cn,K.colorSpace,K.isVideoTexture);ot($e,K);let Pt;const mn=K.mipmaps,Tn=K.isVideoTexture!==!0,vr=Xt.__version===void 0||Qe===!0,pn=Ze.dataReady,Te=X(K,ht);if(K.isDepthTexture)$t=m.DEPTH_COMPONENT16,K.type===bi?$t=m.DEPTH_COMPONENT32F:K.type===xa?$t=m.DEPTH_COMPONENT24:K.type===gs&&($t=m.DEPTH24_STENCIL8),vr&&(Tn?i.texStorage2D(m.TEXTURE_2D,1,$t,ht.width,ht.height):i.texImage2D(m.TEXTURE_2D,0,$t,ht.width,ht.height,0,kt,Cn,null));else if(K.isDataTexture)if(mn.length>0){Tn&&vr&&i.texStorage2D(m.TEXTURE_2D,Te,$t,mn[0].width,mn[0].height);for(let Je=0,Ve=mn.length;Je<Ve;Je++)Pt=mn[Je],Tn?pn&&i.texSubImage2D(m.TEXTURE_2D,Je,0,0,Pt.width,Pt.height,kt,Cn,Pt.data):i.texImage2D(m.TEXTURE_2D,Je,$t,Pt.width,Pt.height,0,kt,Cn,Pt.data);K.generateMipmaps=!1}else Tn?(vr&&i.texStorage2D(m.TEXTURE_2D,Te,$t,ht.width,ht.height),pn&&i.texSubImage2D(m.TEXTURE_2D,0,0,0,ht.width,ht.height,kt,Cn,ht.data)):i.texImage2D(m.TEXTURE_2D,0,$t,ht.width,ht.height,0,kt,Cn,ht.data);else if(K.isCompressedTexture)if(K.isCompressedArrayTexture){Tn&&vr&&i.texStorage3D(m.TEXTURE_2D_ARRAY,Te,$t,mn[0].width,mn[0].height,ht.depth);for(let Je=0,Ve=mn.length;Je<Ve;Je++)Pt=mn[Je],K.format!==ii?kt!==null?Tn?pn&&i.compressedTexSubImage3D(m.TEXTURE_2D_ARRAY,Je,0,0,0,Pt.width,Pt.height,ht.depth,kt,Pt.data,0,0):i.compressedTexImage3D(m.TEXTURE_2D_ARRAY,Je,$t,Pt.width,Pt.height,ht.depth,0,Pt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tn?pn&&i.texSubImage3D(m.TEXTURE_2D_ARRAY,Je,0,0,0,Pt.width,Pt.height,ht.depth,kt,Cn,Pt.data):i.texImage3D(m.TEXTURE_2D_ARRAY,Je,$t,Pt.width,Pt.height,ht.depth,0,kt,Cn,Pt.data)}else{Tn&&vr&&i.texStorage2D(m.TEXTURE_2D,Te,$t,mn[0].width,mn[0].height);for(let Je=0,Ve=mn.length;Je<Ve;Je++)Pt=mn[Je],K.format!==ii?kt!==null?Tn?pn&&i.compressedTexSubImage2D(m.TEXTURE_2D,Je,0,0,Pt.width,Pt.height,kt,Pt.data):i.compressedTexImage2D(m.TEXTURE_2D,Je,$t,Pt.width,Pt.height,0,Pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Tn?pn&&i.texSubImage2D(m.TEXTURE_2D,Je,0,0,Pt.width,Pt.height,kt,Cn,Pt.data):i.texImage2D(m.TEXTURE_2D,Je,$t,Pt.width,Pt.height,0,kt,Cn,Pt.data)}else if(K.isDataArrayTexture)Tn?(vr&&i.texStorage3D(m.TEXTURE_2D_ARRAY,Te,$t,ht.width,ht.height,ht.depth),pn&&i.texSubImage3D(m.TEXTURE_2D_ARRAY,0,0,0,0,ht.width,ht.height,ht.depth,kt,Cn,ht.data)):i.texImage3D(m.TEXTURE_2D_ARRAY,0,$t,ht.width,ht.height,ht.depth,0,kt,Cn,ht.data);else if(K.isData3DTexture)Tn?(vr&&i.texStorage3D(m.TEXTURE_3D,Te,$t,ht.width,ht.height,ht.depth),pn&&i.texSubImage3D(m.TEXTURE_3D,0,0,0,0,ht.width,ht.height,ht.depth,kt,Cn,ht.data)):i.texImage3D(m.TEXTURE_3D,0,$t,ht.width,ht.height,ht.depth,0,kt,Cn,ht.data);else if(K.isFramebufferTexture){if(vr)if(Tn)i.texStorage2D(m.TEXTURE_2D,Te,$t,ht.width,ht.height);else{let Je=ht.width,Ve=ht.height;for(let xt=0;xt<Te;xt++)i.texImage2D(m.TEXTURE_2D,xt,$t,Je,Ve,0,kt,Cn,null),Je>>=1,Ve>>=1}}else if(mn.length>0){if(Tn&&vr){const Je=Wt(mn[0]);i.texStorage2D(m.TEXTURE_2D,Te,$t,Je.width,Je.height)}for(let Je=0,Ve=mn.length;Je<Ve;Je++)Pt=mn[Je],Tn?pn&&i.texSubImage2D(m.TEXTURE_2D,Je,0,0,kt,Cn,Pt):i.texImage2D(m.TEXTURE_2D,Je,$t,kt,Cn,Pt);K.generateMipmaps=!1}else if(Tn){if(vr){const Je=Wt(ht);i.texStorage2D(m.TEXTURE_2D,Te,$t,Je.width,Je.height)}pn&&i.texSubImage2D(m.TEXTURE_2D,0,0,0,kt,Cn,ht)}else i.texImage2D(m.TEXTURE_2D,0,$t,kt,Cn,ht);L(K)&&R($e),Xt.__version=Ze.version,K.onUpdate&&K.onUpdate(K)}ce.__version=K.version}function Un(ce,K,Ee){if(K.image.length!==6)return;const $e=Rt(ce,K),Qe=K.source;i.bindTexture(m.TEXTURE_CUBE_MAP,ce.__webglTexture,m.TEXTURE0+Ee);const Ze=s.get(Qe);if(Qe.version!==Ze.__version||$e===!0){i.activeTexture(m.TEXTURE0+Ee);const Xt=Ln.getPrimaries(Ln.workingColorSpace),yt=K.colorSpace===Ui?null:Ln.getPrimaries(K.colorSpace),vt=K.colorSpace===Ui||Xt===yt?m.NONE:m.BROWSER_DEFAULT_WEBGL;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,K.flipY),m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),m.pixelStorei(m.UNPACK_ALIGNMENT,K.unpackAlignment),m.pixelStorei(m.UNPACK_COLORSPACE_CONVERSION_WEBGL,vt);const an=K.isCompressedTexture||K.image[0].isCompressedTexture,ht=K.image[0]&&K.image[0].isDataTexture,kt=[];for(let Ve=0;Ve<6;Ve++)!an&&!ht?kt[Ve]=D(K.image[Ve],!0,c.maxCubemapSize):kt[Ve]=ht?K.image[Ve].image:K.image[Ve],kt[Ve]=Et(K,kt[Ve]);const Cn=kt[0],$t=u.convert(K.format,K.colorSpace),Pt=u.convert(K.type),mn=G(K.internalFormat,$t,Pt,K.colorSpace),Tn=K.isVideoTexture!==!0,vr=Ze.__version===void 0||$e===!0,pn=Qe.dataReady;let Te=X(K,Cn);ot(m.TEXTURE_CUBE_MAP,K);let Je;if(an){Tn&&vr&&i.texStorage2D(m.TEXTURE_CUBE_MAP,Te,mn,Cn.width,Cn.height);for(let Ve=0;Ve<6;Ve++){Je=kt[Ve].mipmaps;for(let xt=0;xt<Je.length;xt++){const St=Je[xt];K.format!==ii?$t!==null?Tn?pn&&i.compressedTexSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt,0,0,St.width,St.height,$t,St.data):i.compressedTexImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt,mn,St.width,St.height,0,St.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tn?pn&&i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt,0,0,St.width,St.height,$t,Pt,St.data):i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt,mn,St.width,St.height,0,$t,Pt,St.data)}}}else{if(Je=K.mipmaps,Tn&&vr){Je.length>0&&Te++;const Ve=Wt(kt[0]);i.texStorage2D(m.TEXTURE_CUBE_MAP,Te,mn,Ve.width,Ve.height)}for(let Ve=0;Ve<6;Ve++)if(ht){Tn?pn&&i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,kt[Ve].width,kt[Ve].height,$t,Pt,kt[Ve].data):i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,mn,kt[Ve].width,kt[Ve].height,0,$t,Pt,kt[Ve].data);for(let xt=0;xt<Je.length;xt++){const Bn=Je[xt].image[Ve].image;Tn?pn&&i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt+1,0,0,Bn.width,Bn.height,$t,Pt,Bn.data):i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt+1,mn,Bn.width,Bn.height,0,$t,Pt,Bn.data)}}else{Tn?pn&&i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,0,0,$t,Pt,kt[Ve]):i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0,mn,$t,Pt,kt[Ve]);for(let xt=0;xt<Je.length;xt++){const St=Je[xt];Tn?pn&&i.texSubImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt+1,0,0,$t,Pt,St.image[Ve]):i.texImage2D(m.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,xt+1,mn,$t,Pt,St.image[Ve])}}}L(K)&&R(m.TEXTURE_CUBE_MAP),Ze.__version=Qe.version,K.onUpdate&&K.onUpdate(K)}ce.__version=K.version}function Ue(ce,K,Ee,$e,Qe,Ze){const Xt=u.convert(Ee.format,Ee.colorSpace),yt=u.convert(Ee.type),vt=G(Ee.internalFormat,Xt,yt,Ee.colorSpace);if(!s.get(K).__hasExternalTextures){const ht=Math.max(1,K.width>>Ze),kt=Math.max(1,K.height>>Ze);Qe===m.TEXTURE_3D||Qe===m.TEXTURE_2D_ARRAY?i.texImage3D(Qe,Ze,vt,ht,kt,K.depth,0,Xt,yt,null):i.texImage2D(Qe,Ze,vt,ht,kt,0,Xt,yt,null)}i.bindFramebuffer(m.FRAMEBUFFER,ce),dt(K)?b.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,$e,Qe,s.get(Ee).__webglTexture,0,qe(K)):(Qe===m.TEXTURE_2D||Qe>=m.TEXTURE_CUBE_MAP_POSITIVE_X&&Qe<=m.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&m.framebufferTexture2D(m.FRAMEBUFFER,$e,Qe,s.get(Ee).__webglTexture,Ze),i.bindFramebuffer(m.FRAMEBUFFER,null)}function lt(ce,K,Ee){if(m.bindRenderbuffer(m.RENDERBUFFER,ce),K.depthBuffer&&!K.stencilBuffer){let $e=m.DEPTH_COMPONENT24;if(Ee||dt(K)){const Qe=K.depthTexture;Qe&&Qe.isDepthTexture&&(Qe.type===bi?$e=m.DEPTH_COMPONENT32F:Qe.type===xa&&($e=m.DEPTH_COMPONENT24));const Ze=qe(K);dt(K)?b.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,Ze,$e,K.width,K.height):m.renderbufferStorageMultisample(m.RENDERBUFFER,Ze,$e,K.width,K.height)}else m.renderbufferStorage(m.RENDERBUFFER,$e,K.width,K.height);m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.RENDERBUFFER,ce)}else if(K.depthBuffer&&K.stencilBuffer){const $e=qe(K);Ee&&dt(K)===!1?m.renderbufferStorageMultisample(m.RENDERBUFFER,$e,m.DEPTH24_STENCIL8,K.width,K.height):dt(K)?b.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,$e,m.DEPTH24_STENCIL8,K.width,K.height):m.renderbufferStorage(m.RENDERBUFFER,m.DEPTH_STENCIL,K.width,K.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.RENDERBUFFER,ce)}else{const $e=K.textures;for(let Qe=0;Qe<$e.length;Qe++){const Ze=$e[Qe],Xt=u.convert(Ze.format,Ze.colorSpace),yt=u.convert(Ze.type),vt=G(Ze.internalFormat,Xt,yt,Ze.colorSpace),an=qe(K);Ee&&dt(K)===!1?m.renderbufferStorageMultisample(m.RENDERBUFFER,an,vt,K.width,K.height):dt(K)?b.renderbufferStorageMultisampleEXT(m.RENDERBUFFER,an,vt,K.width,K.height):m.renderbufferStorage(m.RENDERBUFFER,vt,K.width,K.height)}}m.bindRenderbuffer(m.RENDERBUFFER,null)}function Ot(ce,K){if(K&&K.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(m.FRAMEBUFFER,ce),!(K.depthTexture&&K.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(K.depthTexture).__webglTexture||K.depthTexture.image.width!==K.width||K.depthTexture.image.height!==K.height)&&(K.depthTexture.image.width=K.width,K.depthTexture.image.height=K.height,K.depthTexture.needsUpdate=!0),Ce(K.depthTexture,0);const $e=s.get(K.depthTexture).__webglTexture,Qe=qe(K);if(K.depthTexture.format===Ca)dt(K)?b.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,$e,0,Qe):m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_ATTACHMENT,m.TEXTURE_2D,$e,0);else if(K.depthTexture.format===bs)dt(K)?b.framebufferTexture2DMultisampleEXT(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,$e,0,Qe):m.framebufferTexture2D(m.FRAMEBUFFER,m.DEPTH_STENCIL_ATTACHMENT,m.TEXTURE_2D,$e,0);else throw new Error("Unknown depthTexture format")}function ct(ce){const K=s.get(ce),Ee=ce.isWebGLCubeRenderTarget===!0;if(ce.depthTexture&&!K.__autoAllocateDepthBuffer){if(Ee)throw new Error("target.depthTexture not supported in Cube render targets");Ot(K.__webglFramebuffer,ce)}else if(Ee){K.__webglDepthbuffer=[];for(let $e=0;$e<6;$e++)i.bindFramebuffer(m.FRAMEBUFFER,K.__webglFramebuffer[$e]),K.__webglDepthbuffer[$e]=m.createRenderbuffer(),lt(K.__webglDepthbuffer[$e],ce,!1)}else i.bindFramebuffer(m.FRAMEBUFFER,K.__webglFramebuffer),K.__webglDepthbuffer=m.createRenderbuffer(),lt(K.__webglDepthbuffer,ce,!1);i.bindFramebuffer(m.FRAMEBUFFER,null)}function hn(ce,K,Ee){const $e=s.get(ce);K!==void 0&&Ue($e.__webglFramebuffer,ce,ce.texture,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,0),Ee!==void 0&&ct(ce)}function bn(ce){const K=ce.texture,Ee=s.get(ce),$e=s.get(K);ce.addEventListener("dispose",me);const Qe=ce.textures,Ze=ce.isWebGLCubeRenderTarget===!0,Xt=Qe.length>1;if(Xt||($e.__webglTexture===void 0&&($e.__webglTexture=m.createTexture()),$e.__version=K.version,f.memory.textures++),Ze){Ee.__webglFramebuffer=[];for(let yt=0;yt<6;yt++)if(K.mipmaps&&K.mipmaps.length>0){Ee.__webglFramebuffer[yt]=[];for(let vt=0;vt<K.mipmaps.length;vt++)Ee.__webglFramebuffer[yt][vt]=m.createFramebuffer()}else Ee.__webglFramebuffer[yt]=m.createFramebuffer()}else{if(K.mipmaps&&K.mipmaps.length>0){Ee.__webglFramebuffer=[];for(let yt=0;yt<K.mipmaps.length;yt++)Ee.__webglFramebuffer[yt]=m.createFramebuffer()}else Ee.__webglFramebuffer=m.createFramebuffer();if(Xt)for(let yt=0,vt=Qe.length;yt<vt;yt++){const an=s.get(Qe[yt]);an.__webglTexture===void 0&&(an.__webglTexture=m.createTexture(),f.memory.textures++)}if(ce.samples>0&&dt(ce)===!1){Ee.__webglMultisampledFramebuffer=m.createFramebuffer(),Ee.__webglColorRenderbuffer=[],i.bindFramebuffer(m.FRAMEBUFFER,Ee.__webglMultisampledFramebuffer);for(let yt=0;yt<Qe.length;yt++){const vt=Qe[yt];Ee.__webglColorRenderbuffer[yt]=m.createRenderbuffer(),m.bindRenderbuffer(m.RENDERBUFFER,Ee.__webglColorRenderbuffer[yt]);const an=u.convert(vt.format,vt.colorSpace),ht=u.convert(vt.type),kt=G(vt.internalFormat,an,ht,vt.colorSpace,ce.isXRRenderTarget===!0),Cn=qe(ce);m.renderbufferStorageMultisample(m.RENDERBUFFER,Cn,kt,ce.width,ce.height),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+yt,m.RENDERBUFFER,Ee.__webglColorRenderbuffer[yt])}m.bindRenderbuffer(m.RENDERBUFFER,null),ce.depthBuffer&&(Ee.__webglDepthRenderbuffer=m.createRenderbuffer(),lt(Ee.__webglDepthRenderbuffer,ce,!0)),i.bindFramebuffer(m.FRAMEBUFFER,null)}}if(Ze){i.bindTexture(m.TEXTURE_CUBE_MAP,$e.__webglTexture),ot(m.TEXTURE_CUBE_MAP,K);for(let yt=0;yt<6;yt++)if(K.mipmaps&&K.mipmaps.length>0)for(let vt=0;vt<K.mipmaps.length;vt++)Ue(Ee.__webglFramebuffer[yt][vt],ce,K,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+yt,vt);else Ue(Ee.__webglFramebuffer[yt],ce,K,m.COLOR_ATTACHMENT0,m.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0);L(K)&&R(m.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(Xt){for(let yt=0,vt=Qe.length;yt<vt;yt++){const an=Qe[yt],ht=s.get(an);i.bindTexture(m.TEXTURE_2D,ht.__webglTexture),ot(m.TEXTURE_2D,an),Ue(Ee.__webglFramebuffer,ce,an,m.COLOR_ATTACHMENT0+yt,m.TEXTURE_2D,0),L(an)&&R(m.TEXTURE_2D)}i.unbindTexture()}else{let yt=m.TEXTURE_2D;if((ce.isWebGL3DRenderTarget||ce.isWebGLArrayRenderTarget)&&(yt=ce.isWebGL3DRenderTarget?m.TEXTURE_3D:m.TEXTURE_2D_ARRAY),i.bindTexture(yt,$e.__webglTexture),ot(yt,K),K.mipmaps&&K.mipmaps.length>0)for(let vt=0;vt<K.mipmaps.length;vt++)Ue(Ee.__webglFramebuffer[vt],ce,K,m.COLOR_ATTACHMENT0,yt,vt);else Ue(Ee.__webglFramebuffer,ce,K,m.COLOR_ATTACHMENT0,yt,0);L(K)&&R(yt),i.unbindTexture()}ce.depthBuffer&&ct(ce)}function Se(ce){const K=ce.textures;for(let Ee=0,$e=K.length;Ee<$e;Ee++){const Qe=K[Ee];if(L(Qe)){const Ze=ce.isWebGLCubeRenderTarget?m.TEXTURE_CUBE_MAP:m.TEXTURE_2D,Xt=s.get(Qe).__webglTexture;i.bindTexture(Ze,Xt),R(Ze),i.unbindTexture()}}}const _n=[],Ge=[];function rt(ce){if(ce.samples>0){if(dt(ce)===!1){const K=ce.textures,Ee=ce.width,$e=ce.height;let Qe=m.COLOR_BUFFER_BIT;const Ze=ce.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT,Xt=s.get(ce),yt=K.length>1;if(yt)for(let vt=0;vt<K.length;vt++)i.bindFramebuffer(m.FRAMEBUFFER,Xt.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+vt,m.RENDERBUFFER,null),i.bindFramebuffer(m.FRAMEBUFFER,Xt.__webglFramebuffer),m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0+vt,m.TEXTURE_2D,null,0);i.bindFramebuffer(m.READ_FRAMEBUFFER,Xt.__webglMultisampledFramebuffer),i.bindFramebuffer(m.DRAW_FRAMEBUFFER,Xt.__webglFramebuffer);for(let vt=0;vt<K.length;vt++){if(ce.resolveDepthBuffer&&(ce.depthBuffer&&(Qe|=m.DEPTH_BUFFER_BIT),ce.stencilBuffer&&ce.resolveStencilBuffer&&(Qe|=m.STENCIL_BUFFER_BIT)),yt){m.framebufferRenderbuffer(m.READ_FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.RENDERBUFFER,Xt.__webglColorRenderbuffer[vt]);const an=s.get(K[vt]).__webglTexture;m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,an,0)}m.blitFramebuffer(0,0,Ee,$e,0,0,Ee,$e,Qe,m.NEAREST),C===!0&&(_n.length=0,Ge.length=0,_n.push(m.COLOR_ATTACHMENT0+vt),ce.depthBuffer&&ce.resolveDepthBuffer===!1&&(_n.push(Ze),Ge.push(Ze),m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER,Ge)),m.invalidateFramebuffer(m.READ_FRAMEBUFFER,_n))}if(i.bindFramebuffer(m.READ_FRAMEBUFFER,null),i.bindFramebuffer(m.DRAW_FRAMEBUFFER,null),yt)for(let vt=0;vt<K.length;vt++){i.bindFramebuffer(m.FRAMEBUFFER,Xt.__webglMultisampledFramebuffer),m.framebufferRenderbuffer(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0+vt,m.RENDERBUFFER,Xt.__webglColorRenderbuffer[vt]);const an=s.get(K[vt]).__webglTexture;i.bindFramebuffer(m.FRAMEBUFFER,Xt.__webglFramebuffer),m.framebufferTexture2D(m.DRAW_FRAMEBUFFER,m.COLOR_ATTACHMENT0+vt,m.TEXTURE_2D,an,0)}i.bindFramebuffer(m.DRAW_FRAMEBUFFER,Xt.__webglMultisampledFramebuffer)}else if(ce.depthBuffer&&ce.resolveDepthBuffer===!1&&C){const K=ce.stencilBuffer?m.DEPTH_STENCIL_ATTACHMENT:m.DEPTH_ATTACHMENT;m.invalidateFramebuffer(m.DRAW_FRAMEBUFFER,[K])}}}function qe(ce){return Math.min(c.maxSamples,ce.samples)}function dt(ce){const K=s.get(ce);return ce.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&K.__useRenderToTexture!==!1}function nt(ce){const K=f.render.frame;N.get(ce)!==K&&(N.set(ce,K),ce.update())}function Et(ce,K){const Ee=ce.colorSpace,$e=ce.format,Qe=ce.type;return ce.isCompressedTexture===!0||ce.isVideoTexture===!0||Ee!==lo&&Ee!==Ui&&(Ln.getTransfer(Ee)===Fn?($e!==ii||Qe!==so)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ee)),K}function Wt(ce){return typeof HTMLImageElement<"u"&&ce instanceof HTMLImageElement?(_.width=ce.naturalWidth||ce.width,_.height=ce.naturalHeight||ce.height):typeof VideoFrame<"u"&&ce instanceof VideoFrame?(_.width=ce.displayWidth,_.height=ce.displayHeight):(_.width=ce.width,_.height=ce.height),_}this.allocateTextureUnit=we,this.resetTextureUnits=$,this.setTexture2D=Ce,this.setTexture2DArray=Oe,this.setTexture3D=We,this.setTextureCube=Ye,this.rebindTextures=hn,this.setupRenderTarget=bn,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=rt,this.setupDepthRenderbuffer=ct,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=dt}function e_(m,t){function i(s,c=Ui){let u;const f=Ln.getTransfer(c);if(s===so)return m.UNSIGNED_BYTE;if(s===Kc)return m.UNSIGNED_SHORT_4_4_4_4;if(s===Zc)return m.UNSIGNED_SHORT_5_5_5_1;if(s===Ap)return m.UNSIGNED_INT_5_9_9_9_REV;if(s===Mp)return m.BYTE;if(s===Sp)return m.SHORT;if(s===Zu)return m.UNSIGNED_SHORT;if(s===Ju)return m.INT;if(s===xa)return m.UNSIGNED_INT;if(s===bi)return m.FLOAT;if(s===Sl)return m.HALF_FLOAT;if(s===Ep)return m.ALPHA;if(s===Al)return m.RGB;if(s===ii)return m.RGBA;if(s===Qu)return m.LUMINANCE;if(s===Ip)return m.LUMINANCE_ALPHA;if(s===Ca)return m.DEPTH_COMPONENT;if(s===bs)return m.DEPTH_STENCIL;if(s===Jc)return m.RED;if(s===ed)return m.RED_INTEGER;if(s===td)return m.RG;if(s===nd)return m.RG_INTEGER;if(s===Qc)return m.RGBA_INTEGER;if(s===eh||s===th||s===El||s===nh)if(f===Fn)if(u=t.get("WEBGL_compressed_texture_s3tc_srgb"),u!==null){if(s===eh)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===th)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===El)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===nh)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(u=t.get("WEBGL_compressed_texture_s3tc"),u!==null){if(s===eh)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===th)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===El)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===nh)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===rd||s===id||s===od||s===ad)if(u=t.get("WEBGL_compressed_texture_pvrtc"),u!==null){if(s===rd)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===id)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===od)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===ad)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===sd||s===Il||s===Uo)if(u=t.get("WEBGL_compressed_texture_etc"),u!==null){if(s===sd||s===Il)return f===Fn?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(s===Uo)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Rl||s===Go||s===ld||s===cd||s===hd||s===ud||s===dd||s===rh||s===ih||s===md||s===pd||s===fd||s===gd||s===oh)if(u=t.get("WEBGL_compressed_texture_astc"),u!==null){if(s===Rl)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===Go)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===ld)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===cd)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===hd)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===ud)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===dd)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===rh)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===ih)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===md)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===pd)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===fd)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===gd)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===oh)return f===Fn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Pl||s===bd||s===vd)if(u=t.get("EXT_texture_compression_bptc"),u!==null){if(s===Pl)return f===Fn?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===bd)return u.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===vd)return u.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===Rp||s===yd||s===xd||s===Cd)if(u=t.get("EXT_texture_compression_rgtc"),u!==null){if(s===Pl)return u.COMPRESSED_RED_RGTC1_EXT;if(s===yd)return u.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xd)return u.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===Cd)return u.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===gs?m.UNSIGNED_INT_24_8:m[s]!==void 0?m[s]:null}return{convert:i}}class t_ extends Cr{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class Rh extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const aP={type:"move"};class Lb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rh,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const i=this._hand;if(i)for(const s of t.hand.values())this._getHandJoint(i,s)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,i,s){let c=null,u=null,f=null;const b=this._targetRay,C=this._grip,_=this._hand;if(t&&i.session.visibilityState!=="visible-blurred"){if(_&&t.hand){f=!0;for(const D of t.hand.values()){const L=i.getJointPose(D,s),R=this._getHandJoint(_,D);L!==null&&(R.matrix.fromArray(L.transform.matrix),R.matrix.decompose(R.position,R.rotation,R.scale),R.matrixWorldNeedsUpdate=!0,R.jointRadius=L.radius),R.visible=L!==null}const N=_.joints["index-finger-tip"],A=_.joints["thumb-tip"],E=N.position.distanceTo(A.position),I=.02,B=.005;_.inputState.pinching&&E>I+B?(_.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!_.inputState.pinching&&E<=I-B&&(_.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else C!==null&&t.gripSpace&&(u=i.getPose(t.gripSpace,s),u!==null&&(C.matrix.fromArray(u.transform.matrix),C.matrix.decompose(C.position,C.rotation,C.scale),C.matrixWorldNeedsUpdate=!0,u.linearVelocity?(C.hasLinearVelocity=!0,C.linearVelocity.copy(u.linearVelocity)):C.hasLinearVelocity=!1,u.angularVelocity?(C.hasAngularVelocity=!0,C.angularVelocity.copy(u.angularVelocity)):C.hasAngularVelocity=!1));b!==null&&(c=i.getPose(t.targetRaySpace,s),c===null&&u!==null&&(c=u),c!==null&&(b.matrix.fromArray(c.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,c.linearVelocity?(b.hasLinearVelocity=!0,b.linearVelocity.copy(c.linearVelocity)):b.hasLinearVelocity=!1,c.angularVelocity?(b.hasAngularVelocity=!0,b.angularVelocity.copy(c.angularVelocity)):b.hasAngularVelocity=!1,this.dispatchEvent(aP)))}return b!==null&&(b.visible=c!==null),C!==null&&(C.visible=u!==null),_!==null&&(_.visible=f!==null),this}_getHandJoint(t,i){if(t.joints[i.jointName]===void 0){const s=new Rh;s.matrixAutoUpdate=!1,s.visible=!1,t.joints[i.jointName]=s,t.add(s)}return t.joints[i.jointName]}}const sP=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,lP=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class cP{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,i,s){if(this.texture===null){const c=new or,u=t.properties.get(c);u.__webglTexture=i.texture,(i.depthNear!=s.depthNear||i.depthFar!=s.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=c}}render(t,i){if(this.texture!==null){if(this.mesh===null){const s=i.cameras[0].viewport,c=new Ei({vertexShader:sP,fragmentShader:lP,uniforms:{depthColor:{value:this.texture},depthWidth:{value:s.z},depthHeight:{value:s.w}}});this.mesh=new lr(new xe(20,20),c)}t.render(this.mesh,i)}}reset(){this.texture=null,this.mesh=null}}class hP extends Gi{constructor(t,i){super();const s=this;let c=null,u=1,f=null,b="local-floor",C=1,_=null,N=null,A=null,E=null,I=null,B=null;const D=new cP,L=i.getContextAttributes();let R=null,G=null;const X=[],H=[],me=new He;let te=null;const le=new Cr;le.layers.enable(1),le.viewport=new jn;const ye=new Cr;ye.layers.enable(2),ye.viewport=new jn;const J=[le,ye],$=new t_;$.layers.enable(1),$.layers.enable(2);let we=null,Fe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ue){let lt=X[Ue];return lt===void 0&&(lt=new Lb,X[Ue]=lt),lt.getTargetRaySpace()},this.getControllerGrip=function(Ue){let lt=X[Ue];return lt===void 0&&(lt=new Lb,X[Ue]=lt),lt.getGripSpace()},this.getHand=function(Ue){let lt=X[Ue];return lt===void 0&&(lt=new Lb,X[Ue]=lt),lt.getHandSpace()};function Ce(Ue){const lt=H.indexOf(Ue.inputSource);if(lt===-1)return;const Ot=X[lt];Ot!==void 0&&(Ot.update(Ue.inputSource,Ue.frame,_||f),Ot.dispatchEvent({type:Ue.type,data:Ue.inputSource}))}function Oe(){c.removeEventListener("select",Ce),c.removeEventListener("selectstart",Ce),c.removeEventListener("selectend",Ce),c.removeEventListener("squeeze",Ce),c.removeEventListener("squeezestart",Ce),c.removeEventListener("squeezeend",Ce),c.removeEventListener("end",Oe),c.removeEventListener("inputsourceschange",We);for(let Ue=0;Ue<X.length;Ue++){const lt=H[Ue];lt!==null&&(H[Ue]=null,X[Ue].disconnect(lt))}we=null,Fe=null,D.reset(),t.setRenderTarget(R),I=null,E=null,A=null,c=null,G=null,Un.stop(),s.isPresenting=!1,t.setPixelRatio(te),t.setSize(me.width,me.height,!1),s.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ue){u=Ue,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ue){b=Ue,s.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _||f},this.setReferenceSpace=function(Ue){_=Ue},this.getBaseLayer=function(){return E!==null?E:I},this.getBinding=function(){return A},this.getFrame=function(){return B},this.getSession=function(){return c},this.setSession=async function(Ue){if(c=Ue,c!==null){if(R=t.getRenderTarget(),c.addEventListener("select",Ce),c.addEventListener("selectstart",Ce),c.addEventListener("selectend",Ce),c.addEventListener("squeeze",Ce),c.addEventListener("squeezestart",Ce),c.addEventListener("squeezeend",Ce),c.addEventListener("end",Oe),c.addEventListener("inputsourceschange",We),L.xrCompatible!==!0&&await i.makeXRCompatible(),te=t.getPixelRatio(),t.getSize(me),c.renderState.layers===void 0){const lt={antialias:L.antialias,alpha:!0,depth:L.depth,stencil:L.stencil,framebufferScaleFactor:u};I=new XRWebGLLayer(c,i,lt),c.updateRenderState({baseLayer:I}),t.setPixelRatio(1),t.setSize(I.framebufferWidth,I.framebufferHeight,!1),G=new vi(I.framebufferWidth,I.framebufferHeight,{format:ii,type:so,colorSpace:t.outputColorSpace,stencilBuffer:L.stencil})}else{let lt=null,Ot=null,ct=null;L.depth&&(ct=L.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,lt=L.stencil?bs:Ca,Ot=L.stencil?gs:xa);const hn={colorFormat:i.RGBA8,depthFormat:ct,scaleFactor:u};A=new XRWebGLBinding(c,i),E=A.createProjectionLayer(hn),c.updateRenderState({layers:[E]}),t.setPixelRatio(1),t.setSize(E.textureWidth,E.textureHeight,!1),G=new vi(E.textureWidth,E.textureHeight,{format:ii,type:so,depthTexture:new Ib(E.textureWidth,E.textureHeight,Ot,void 0,void 0,void 0,void 0,void 0,void 0,lt),stencilBuffer:L.stencil,colorSpace:t.outputColorSpace,samples:L.antialias?4:0,resolveDepthBuffer:E.ignoreDepthValues===!1})}G.isXRRenderTarget=!0,this.setFoveation(C),_=null,f=await c.requestReferenceSpace(b),Un.setContext(c),Un.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(c!==null)return c.environmentBlendMode};function We(Ue){for(let lt=0;lt<Ue.removed.length;lt++){const Ot=Ue.removed[lt],ct=H.indexOf(Ot);ct>=0&&(H[ct]=null,X[ct].disconnect(Ot))}for(let lt=0;lt<Ue.added.length;lt++){const Ot=Ue.added[lt];let ct=H.indexOf(Ot);if(ct===-1){for(let bn=0;bn<X.length;bn++)if(bn>=H.length){H.push(Ot),ct=bn;break}else if(H[bn]===null){H[bn]=Ot,ct=bn;break}if(ct===-1)break}const hn=X[ct];hn&&hn.connect(Ot)}}const Ye=new ie,gt=new ie;function Xe(Ue,lt,Ot){Ye.setFromMatrixPosition(lt.matrixWorld),gt.setFromMatrixPosition(Ot.matrixWorld);const ct=Ye.distanceTo(gt),hn=lt.projectionMatrix.elements,bn=Ot.projectionMatrix.elements,Se=hn[14]/(hn[10]-1),_n=hn[14]/(hn[10]+1),Ge=(hn[9]+1)/hn[5],rt=(hn[9]-1)/hn[5],qe=(hn[8]-1)/hn[0],dt=(bn[8]+1)/bn[0],nt=Se*qe,Et=Se*dt,Wt=ct/(-qe+dt),ce=Wt*-qe;lt.matrixWorld.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.translateX(ce),Ue.translateZ(Wt),Ue.matrixWorld.compose(Ue.position,Ue.quaternion,Ue.scale),Ue.matrixWorldInverse.copy(Ue.matrixWorld).invert();const K=Se+Wt,Ee=_n+Wt,$e=nt-ce,Qe=Et+(ct-ce),Ze=Ge*_n/Ee*K,Xt=rt*_n/Ee*K;Ue.projectionMatrix.makePerspective($e,Qe,Ze,Xt,K,Ee),Ue.projectionMatrixInverse.copy(Ue.projectionMatrix).invert()}function at(Ue,lt){lt===null?Ue.matrixWorld.copy(Ue.matrix):Ue.matrixWorld.multiplyMatrices(lt.matrixWorld,Ue.matrix),Ue.matrixWorldInverse.copy(Ue.matrixWorld).invert()}this.updateCamera=function(Ue){if(c===null)return;D.texture!==null&&(Ue.near=D.depthNear,Ue.far=D.depthFar),$.near=ye.near=le.near=Ue.near,$.far=ye.far=le.far=Ue.far,(we!==$.near||Fe!==$.far)&&(c.updateRenderState({depthNear:$.near,depthFar:$.far}),we=$.near,Fe=$.far,le.near=we,le.far=Fe,ye.near=we,ye.far=Fe,le.updateProjectionMatrix(),ye.updateProjectionMatrix(),Ue.updateProjectionMatrix());const lt=Ue.parent,Ot=$.cameras;at($,lt);for(let ct=0;ct<Ot.length;ct++)at(Ot[ct],lt);Ot.length===2?Xe($,le,ye):$.projectionMatrix.copy(le.projectionMatrix),ot(Ue,$,lt)};function ot(Ue,lt,Ot){Ot===null?Ue.matrix.copy(lt.matrixWorld):(Ue.matrix.copy(Ot.matrixWorld),Ue.matrix.invert(),Ue.matrix.multiply(lt.matrixWorld)),Ue.matrix.decompose(Ue.position,Ue.quaternion,Ue.scale),Ue.updateMatrixWorld(!0),Ue.projectionMatrix.copy(lt.projectionMatrix),Ue.projectionMatrixInverse.copy(lt.projectionMatrixInverse),Ue.isPerspectiveCamera&&(Ue.fov=Sa*2*Math.atan(1/Ue.projectionMatrix.elements[5]),Ue.zoom=1)}this.getCamera=function(){return $},this.getFoveation=function(){if(!(E===null&&I===null))return C},this.setFoveation=function(Ue){C=Ue,E!==null&&(E.fixedFoveation=Ue),I!==null&&I.fixedFoveation!==void 0&&(I.fixedFoveation=Ue)},this.hasDepthSensing=function(){return D.texture!==null};let Rt=null;function cn(Ue,lt){if(N=lt.getViewerPose(_||f),B=lt,N!==null){const Ot=N.views;I!==null&&(t.setRenderTargetFramebuffer(G,I.framebuffer),t.setRenderTarget(G));let ct=!1;Ot.length!==$.cameras.length&&($.cameras.length=0,ct=!0);for(let bn=0;bn<Ot.length;bn++){const Se=Ot[bn];let _n=null;if(I!==null)_n=I.getViewport(Se);else{const rt=A.getViewSubImage(E,Se);_n=rt.viewport,bn===0&&(t.setRenderTargetTextures(G,rt.colorTexture,E.ignoreDepthValues?void 0:rt.depthStencilTexture),t.setRenderTarget(G))}let Ge=J[bn];Ge===void 0&&(Ge=new Cr,Ge.layers.enable(bn),Ge.viewport=new jn,J[bn]=Ge),Ge.matrix.fromArray(Se.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(Se.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(_n.x,_n.y,_n.width,_n.height),bn===0&&($.matrix.copy(Ge.matrix),$.matrix.decompose($.position,$.quaternion,$.scale)),ct===!0&&$.cameras.push(Ge)}const hn=c.enabledFeatures;if(hn&&hn.includes("depth-sensing")){const bn=A.getDepthInformation(Ot[0]);bn&&bn.isValid&&bn.texture&&D.init(t,bn,c.renderState)}}for(let Ot=0;Ot<X.length;Ot++){const ct=H[Ot],hn=X[Ot];ct!==null&&hn!==void 0&&hn.update(ct,lt,_||f)}D.render(t,$),Rt&&Rt(Ue,lt),lt.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:lt}),B=null}const Un=new ne;Un.setAnimationLoop(cn),this.setAnimationLoop=function(Ue){Rt=Ue},this.dispose=function(){}}}const lc=new li,uP=new Ut;function dP(m,t){function i(L,R){L.matrixAutoUpdate===!0&&L.updateMatrix(),R.value.copy(L.matrix)}function s(L,R){R.color.getRGB(L.fogColor.value,tc(m)),R.isFog?(L.fogNear.value=R.near,L.fogFar.value=R.far):R.isFogExp2&&(L.fogDensity.value=R.density)}function c(L,R,G,X,H){R.isMeshBasicMaterial||R.isMeshLambertMaterial?u(L,R):R.isMeshToonMaterial?(u(L,R),A(L,R)):R.isMeshPhongMaterial?(u(L,R),N(L,R)):R.isMeshStandardMaterial?(u(L,R),E(L,R),R.isMeshPhysicalMaterial&&I(L,R,H)):R.isMeshMatcapMaterial?(u(L,R),B(L,R)):R.isMeshDepthMaterial?u(L,R):R.isMeshDistanceMaterial?(u(L,R),D(L,R)):R.isMeshNormalMaterial?u(L,R):R.isLineBasicMaterial?(f(L,R),R.isLineDashedMaterial&&b(L,R)):R.isPointsMaterial?C(L,R,G,X):R.isSpriteMaterial?_(L,R):R.isShadowMaterial?(L.color.value.copy(R.color),L.opacity.value=R.opacity):R.isShaderMaterial&&(R.uniformsNeedUpdate=!1)}function u(L,R){L.opacity.value=R.opacity,R.color&&L.diffuse.value.copy(R.color),R.emissive&&L.emissive.value.copy(R.emissive).multiplyScalar(R.emissiveIntensity),R.map&&(L.map.value=R.map,i(R.map,L.mapTransform)),R.alphaMap&&(L.alphaMap.value=R.alphaMap,i(R.alphaMap,L.alphaMapTransform)),R.bumpMap&&(L.bumpMap.value=R.bumpMap,i(R.bumpMap,L.bumpMapTransform),L.bumpScale.value=R.bumpScale,R.side===x&&(L.bumpScale.value*=-1)),R.normalMap&&(L.normalMap.value=R.normalMap,i(R.normalMap,L.normalMapTransform),L.normalScale.value.copy(R.normalScale),R.side===x&&L.normalScale.value.negate()),R.displacementMap&&(L.displacementMap.value=R.displacementMap,i(R.displacementMap,L.displacementMapTransform),L.displacementScale.value=R.displacementScale,L.displacementBias.value=R.displacementBias),R.emissiveMap&&(L.emissiveMap.value=R.emissiveMap,i(R.emissiveMap,L.emissiveMapTransform)),R.specularMap&&(L.specularMap.value=R.specularMap,i(R.specularMap,L.specularMapTransform)),R.alphaTest>0&&(L.alphaTest.value=R.alphaTest);const G=t.get(R),X=G.envMap,H=G.envMapRotation;if(X&&(L.envMap.value=X,lc.copy(H),lc.x*=-1,lc.y*=-1,lc.z*=-1,X.isCubeTexture&&X.isRenderTargetTexture===!1&&(lc.y*=-1,lc.z*=-1),L.envMapRotation.value.setFromMatrix4(uP.makeRotationFromEuler(lc)),L.flipEnvMap.value=X.isCubeTexture&&X.isRenderTargetTexture===!1?-1:1,L.reflectivity.value=R.reflectivity,L.ior.value=R.ior,L.refractionRatio.value=R.refractionRatio),R.lightMap){L.lightMap.value=R.lightMap;const me=m._useLegacyLights===!0?Math.PI:1;L.lightMapIntensity.value=R.lightMapIntensity*me,i(R.lightMap,L.lightMapTransform)}R.aoMap&&(L.aoMap.value=R.aoMap,L.aoMapIntensity.value=R.aoMapIntensity,i(R.aoMap,L.aoMapTransform))}function f(L,R){L.diffuse.value.copy(R.color),L.opacity.value=R.opacity,R.map&&(L.map.value=R.map,i(R.map,L.mapTransform))}function b(L,R){L.dashSize.value=R.dashSize,L.totalSize.value=R.dashSize+R.gapSize,L.scale.value=R.scale}function C(L,R,G,X){L.diffuse.value.copy(R.color),L.opacity.value=R.opacity,L.size.value=R.size*G,L.scale.value=X*.5,R.map&&(L.map.value=R.map,i(R.map,L.uvTransform)),R.alphaMap&&(L.alphaMap.value=R.alphaMap,i(R.alphaMap,L.alphaMapTransform)),R.alphaTest>0&&(L.alphaTest.value=R.alphaTest)}function _(L,R){L.diffuse.value.copy(R.color),L.opacity.value=R.opacity,L.rotation.value=R.rotation,R.map&&(L.map.value=R.map,i(R.map,L.mapTransform)),R.alphaMap&&(L.alphaMap.value=R.alphaMap,i(R.alphaMap,L.alphaMapTransform)),R.alphaTest>0&&(L.alphaTest.value=R.alphaTest)}function N(L,R){L.specular.value.copy(R.specular),L.shininess.value=Math.max(R.shininess,1e-4)}function A(L,R){R.gradientMap&&(L.gradientMap.value=R.gradientMap)}function E(L,R){L.metalness.value=R.metalness,R.metalnessMap&&(L.metalnessMap.value=R.metalnessMap,i(R.metalnessMap,L.metalnessMapTransform)),L.roughness.value=R.roughness,R.roughnessMap&&(L.roughnessMap.value=R.roughnessMap,i(R.roughnessMap,L.roughnessMapTransform)),R.envMap&&(L.envMapIntensity.value=R.envMapIntensity)}function I(L,R,G){L.ior.value=R.ior,R.sheen>0&&(L.sheenColor.value.copy(R.sheenColor).multiplyScalar(R.sheen),L.sheenRoughness.value=R.sheenRoughness,R.sheenColorMap&&(L.sheenColorMap.value=R.sheenColorMap,i(R.sheenColorMap,L.sheenColorMapTransform)),R.sheenRoughnessMap&&(L.sheenRoughnessMap.value=R.sheenRoughnessMap,i(R.sheenRoughnessMap,L.sheenRoughnessMapTransform))),R.clearcoat>0&&(L.clearcoat.value=R.clearcoat,L.clearcoatRoughness.value=R.clearcoatRoughness,R.clearcoatMap&&(L.clearcoatMap.value=R.clearcoatMap,i(R.clearcoatMap,L.clearcoatMapTransform)),R.clearcoatRoughnessMap&&(L.clearcoatRoughnessMap.value=R.clearcoatRoughnessMap,i(R.clearcoatRoughnessMap,L.clearcoatRoughnessMapTransform)),R.clearcoatNormalMap&&(L.clearcoatNormalMap.value=R.clearcoatNormalMap,i(R.clearcoatNormalMap,L.clearcoatNormalMapTransform),L.clearcoatNormalScale.value.copy(R.clearcoatNormalScale),R.side===x&&L.clearcoatNormalScale.value.negate())),R.dispersion>0&&(L.dispersion.value=R.dispersion),R.iridescence>0&&(L.iridescence.value=R.iridescence,L.iridescenceIOR.value=R.iridescenceIOR,L.iridescenceThicknessMinimum.value=R.iridescenceThicknessRange[0],L.iridescenceThicknessMaximum.value=R.iridescenceThicknessRange[1],R.iridescenceMap&&(L.iridescenceMap.value=R.iridescenceMap,i(R.iridescenceMap,L.iridescenceMapTransform)),R.iridescenceThicknessMap&&(L.iridescenceThicknessMap.value=R.iridescenceThicknessMap,i(R.iridescenceThicknessMap,L.iridescenceThicknessMapTransform))),R.transmission>0&&(L.transmission.value=R.transmission,L.transmissionSamplerMap.value=G.texture,L.transmissionSamplerSize.value.set(G.width,G.height),R.transmissionMap&&(L.transmissionMap.value=R.transmissionMap,i(R.transmissionMap,L.transmissionMapTransform)),L.thickness.value=R.thickness,R.thicknessMap&&(L.thicknessMap.value=R.thicknessMap,i(R.thicknessMap,L.thicknessMapTransform)),L.attenuationDistance.value=R.attenuationDistance,L.attenuationColor.value.copy(R.attenuationColor)),R.anisotropy>0&&(L.anisotropyVector.value.set(R.anisotropy*Math.cos(R.anisotropyRotation),R.anisotropy*Math.sin(R.anisotropyRotation)),R.anisotropyMap&&(L.anisotropyMap.value=R.anisotropyMap,i(R.anisotropyMap,L.anisotropyMapTransform))),L.specularIntensity.value=R.specularIntensity,L.specularColor.value.copy(R.specularColor),R.specularColorMap&&(L.specularColorMap.value=R.specularColorMap,i(R.specularColorMap,L.specularColorMapTransform)),R.specularIntensityMap&&(L.specularIntensityMap.value=R.specularIntensityMap,i(R.specularIntensityMap,L.specularIntensityMapTransform))}function B(L,R){R.matcap&&(L.matcap.value=R.matcap)}function D(L,R){const G=t.get(R).light;L.referencePosition.value.setFromMatrixPosition(G.matrixWorld),L.nearDistance.value=G.shadow.camera.near,L.farDistance.value=G.shadow.camera.far}return{refreshFogUniforms:s,refreshMaterialUniforms:c}}function mP(m,t,i,s){let c={},u={},f=[];const b=m.getParameter(m.MAX_UNIFORM_BUFFER_BINDINGS);function C(G,X){const H=X.program;s.uniformBlockBinding(G,H)}function _(G,X){let H=c[G.id];H===void 0&&(B(G),H=N(G),c[G.id]=H,G.addEventListener("dispose",L));const me=X.program;s.updateUBOMapping(G,me);const te=t.render.frame;u[G.id]!==te&&(E(G),u[G.id]=te)}function N(G){const X=A();G.__bindingPointIndex=X;const H=m.createBuffer(),me=G.__size,te=G.usage;return m.bindBuffer(m.UNIFORM_BUFFER,H),m.bufferData(m.UNIFORM_BUFFER,me,te),m.bindBuffer(m.UNIFORM_BUFFER,null),m.bindBufferBase(m.UNIFORM_BUFFER,X,H),H}function A(){for(let G=0;G<b;G++)if(f.indexOf(G)===-1)return f.push(G),G;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function E(G){const X=c[G.id],H=G.uniforms,me=G.__cache;m.bindBuffer(m.UNIFORM_BUFFER,X);for(let te=0,le=H.length;te<le;te++){const ye=Array.isArray(H[te])?H[te]:[H[te]];for(let J=0,$=ye.length;J<$;J++){const we=ye[J];if(I(we,te,J,me)===!0){const Fe=we.__offset,Ce=Array.isArray(we.value)?we.value:[we.value];let Oe=0;for(let We=0;We<Ce.length;We++){const Ye=Ce[We],gt=D(Ye);typeof Ye=="number"||typeof Ye=="boolean"?(we.__data[0]=Ye,m.bufferSubData(m.UNIFORM_BUFFER,Fe+Oe,we.__data)):Ye.isMatrix3?(we.__data[0]=Ye.elements[0],we.__data[1]=Ye.elements[1],we.__data[2]=Ye.elements[2],we.__data[3]=0,we.__data[4]=Ye.elements[3],we.__data[5]=Ye.elements[4],we.__data[6]=Ye.elements[5],we.__data[7]=0,we.__data[8]=Ye.elements[6],we.__data[9]=Ye.elements[7],we.__data[10]=Ye.elements[8],we.__data[11]=0):(Ye.toArray(we.__data,Oe),Oe+=gt.storage/Float32Array.BYTES_PER_ELEMENT)}m.bufferSubData(m.UNIFORM_BUFFER,Fe,we.__data)}}}m.bindBuffer(m.UNIFORM_BUFFER,null)}function I(G,X,H,me){const te=G.value,le=X+"_"+H;if(me[le]===void 0)return typeof te=="number"||typeof te=="boolean"?me[le]=te:me[le]=te.clone(),!0;{const ye=me[le];if(typeof te=="number"||typeof te=="boolean"){if(ye!==te)return me[le]=te,!0}else if(ye.equals(te)===!1)return ye.copy(te),!0}return!1}function B(G){const X=G.uniforms;let H=0;const me=16;for(let le=0,ye=X.length;le<ye;le++){const J=Array.isArray(X[le])?X[le]:[X[le]];for(let $=0,we=J.length;$<we;$++){const Fe=J[$],Ce=Array.isArray(Fe.value)?Fe.value:[Fe.value];for(let Oe=0,We=Ce.length;Oe<We;Oe++){const Ye=Ce[Oe],gt=D(Ye),Xe=H%me;Xe!==0&&me-Xe<gt.boundary&&(H+=me-Xe),Fe.__data=new Float32Array(gt.storage/Float32Array.BYTES_PER_ELEMENT),Fe.__offset=H,H+=gt.storage}}}const te=H%me;return te>0&&(H+=me-te),G.__size=H,G.__cache={},this}function D(G){const X={boundary:0,storage:0};return typeof G=="number"||typeof G=="boolean"?(X.boundary=4,X.storage=4):G.isVector2?(X.boundary=8,X.storage=8):G.isVector3||G.isColor?(X.boundary=16,X.storage=12):G.isVector4?(X.boundary=16,X.storage=16):G.isMatrix3?(X.boundary=48,X.storage=48):G.isMatrix4?(X.boundary=64,X.storage=64):G.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",G),X}function L(G){const X=G.target;X.removeEventListener("dispose",L);const H=f.indexOf(X.__bindingPointIndex);f.splice(H,1),m.deleteBuffer(c[X.id]),delete c[X.id],delete u[X.id]}function R(){for(const G in c)m.deleteBuffer(c[G]);f=[],c={},u={}}return{bind:C,update:_,dispose:R}}class pP{constructor(t={}){const{canvas:i=kl(),context:s=null,depth:c=!0,stencil:u=!1,alpha:f=!1,antialias:b=!1,premultipliedAlpha:C=!0,preserveDrawingBuffer:_=!1,powerPreference:N="default",failIfMajorPerformanceCaveat:A=!1}=t;this.isWebGLRenderer=!0;let E;if(s!==null){if(typeof WebGLRenderingContext<"u"&&s instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");E=s.getContextAttributes().alpha}else E=f;const I=new Uint32Array(4),B=new Int32Array(4);let D=null,L=null;const R=[],G=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Ar,this._useLegacyLights=!1,this.toneMapping=Sr,this.toneMappingExposure=1;const X=this;let H=!1,me=0,te=0,le=null,ye=-1,J=null;const $=new jn,we=new jn;let Fe=null;const Ce=new _t(0);let Oe=0,We=i.width,Ye=i.height,gt=1,Xe=null,at=null;const ot=new jn(0,0,We,Ye),Rt=new jn(0,0,We,Ye);let cn=!1;const Un=new V;let Ue=!1,lt=!1;const Ot=new Ut,ct=new ie,hn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function bn(){return le===null?gt:1}let Se=s;function _n(ee,Me){return i.getContext(ee,Me)}try{const ee={alpha:!0,depth:c,stencil:u,antialias:b,premultipliedAlpha:C,preserveDrawingBuffer:_,powerPreference:N,failIfMajorPerformanceCaveat:A};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${a}`),i.addEventListener("webglcontextlost",Te,!1),i.addEventListener("webglcontextrestored",Je,!1),i.addEventListener("webglcontextcreationerror",Ve,!1),Se===null){const Me="webgl2";if(Se=_n(Me,ee),Se===null)throw _n(Me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let Ge,rt,qe,dt,nt,Et,Wt,ce,K,Ee,$e,Qe,Ze,Xt,yt,vt,an,ht,kt,Cn,$t,Pt,mn,Tn;function vr(){Ge=new M4(Se),Ge.init(),Pt=new e_(Se,Ge),rt=new x4(Se,Ge,t,Pt),qe=new iP(Se),dt=new E4(Se),nt=new HR,Et=new oP(Se,Ge,qe,nt,rt,Pt,dt),Wt=new _4(X),ce=new N4(X),K=new ge(Se),mn=new v4(Se,K),Ee=new S4(Se,K,dt,mn),$e=new R4(Se,Ee,K,dt),kt=new I4(Se,rt,Et),vt=new C4(nt),Qe=new VR(X,Wt,ce,Ge,rt,mn,vt),Ze=new dP(X,nt),Xt=new qR,yt=new eP(Ge),ht=new b4(X,Wt,ce,qe,$e,E,C),an=new rP(X,$e,rt),Tn=new mP(Se,dt,rt,qe),Cn=new y4(Se,Ge,dt),$t=new A4(Se,Ge,dt),dt.programs=Qe.programs,X.capabilities=rt,X.extensions=Ge,X.properties=nt,X.renderLists=Xt,X.shadowMap=an,X.state=qe,X.info=dt}vr();const pn=new hP(X,Se);this.xr=pn,this.getContext=function(){return Se},this.getContextAttributes=function(){return Se.getContextAttributes()},this.forceContextLoss=function(){const ee=Ge.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=Ge.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return gt},this.setPixelRatio=function(ee){ee!==void 0&&(gt=ee,this.setSize(We,Ye,!1))},this.getSize=function(ee){return ee.set(We,Ye)},this.setSize=function(ee,Me,Le=!0){if(pn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}We=ee,Ye=Me,i.width=Math.floor(ee*gt),i.height=Math.floor(Me*gt),Le===!0&&(i.style.width=ee+"px",i.style.height=Me+"px"),this.setViewport(0,0,ee,Me)},this.getDrawingBufferSize=function(ee){return ee.set(We*gt,Ye*gt).floor()},this.setDrawingBufferSize=function(ee,Me,Le){We=ee,Ye=Me,gt=Le,i.width=Math.floor(ee*Le),i.height=Math.floor(Me*Le),this.setViewport(0,0,ee,Me)},this.getCurrentViewport=function(ee){return ee.copy($)},this.getViewport=function(ee){return ee.copy(ot)},this.setViewport=function(ee,Me,Le,Ie){ee.isVector4?ot.set(ee.x,ee.y,ee.z,ee.w):ot.set(ee,Me,Le,Ie),qe.viewport($.copy(ot).multiplyScalar(gt).round())},this.getScissor=function(ee){return ee.copy(Rt)},this.setScissor=function(ee,Me,Le,Ie){ee.isVector4?Rt.set(ee.x,ee.y,ee.z,ee.w):Rt.set(ee,Me,Le,Ie),qe.scissor(we.copy(Rt).multiplyScalar(gt).round())},this.getScissorTest=function(){return cn},this.setScissorTest=function(ee){qe.setScissorTest(cn=ee)},this.setOpaqueSort=function(ee){Xe=ee},this.setTransparentSort=function(ee){at=ee},this.getClearColor=function(ee){return ee.copy(ht.getClearColor())},this.setClearColor=function(){ht.setClearColor.apply(ht,arguments)},this.getClearAlpha=function(){return ht.getClearAlpha()},this.setClearAlpha=function(){ht.setClearAlpha.apply(ht,arguments)},this.clear=function(ee=!0,Me=!0,Le=!0){let Ie=0;if(ee){let Re=!1;if(le!==null){const Ct=le.texture.format;Re=Ct===Qc||Ct===nd||Ct===ed}if(Re){const Ct=le.texture.type,jt=Ct===so||Ct===xa||Ct===Zu||Ct===gs||Ct===Kc||Ct===Zc,Dt=ht.getClearColor(),qt=ht.getClearAlpha(),Qt=Dt.r,un=Dt.g,fn=Dt.b;jt?(I[0]=Qt,I[1]=un,I[2]=fn,I[3]=qt,Se.clearBufferuiv(Se.COLOR,0,I)):(B[0]=Qt,B[1]=un,B[2]=fn,B[3]=qt,Se.clearBufferiv(Se.COLOR,0,B))}else Ie|=Se.COLOR_BUFFER_BIT}Me&&(Ie|=Se.DEPTH_BUFFER_BIT),Le&&(Ie|=Se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Se.clear(Ie)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Te,!1),i.removeEventListener("webglcontextrestored",Je,!1),i.removeEventListener("webglcontextcreationerror",Ve,!1),Xt.dispose(),yt.dispose(),nt.dispose(),Wt.dispose(),ce.dispose(),$e.dispose(),mn.dispose(),Tn.dispose(),Qe.dispose(),pn.dispose(),pn.removeEventListener("sessionstart",Gn),pn.removeEventListener("sessionend",ea),di.stop()};function Te(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),H=!0}function Je(){console.log("THREE.WebGLRenderer: Context Restored."),H=!1;const ee=dt.autoReset,Me=an.enabled,Le=an.autoUpdate,Ie=an.needsUpdate,Re=an.type;vr(),dt.autoReset=ee,an.enabled=Me,an.autoUpdate=Le,an.needsUpdate=Ie,an.type=Re}function Ve(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function xt(ee){const Me=ee.target;Me.removeEventListener("dispose",xt),St(Me)}function St(ee){Bn(ee),nt.remove(ee)}function Bn(ee){const Me=nt.get(ee).programs;Me!==void 0&&(Me.forEach(function(Le){Qe.releaseProgram(Le)}),ee.isShaderMaterial&&Qe.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,Me,Le,Ie,Re,Ct){Me===null&&(Me=hn);const jt=Re.isMesh&&Re.matrixWorld.determinant()<0,Dt=l8(ee,Me,Le,Ie,Re);qe.setMaterial(Ie,jt);let qt=Le.index,Qt=1;if(Ie.wireframe===!0){if(qt=Ee.getWireframeAttribute(Le),qt===void 0)return;Qt=2}const un=Le.drawRange,fn=Le.attributes.position;let wr=un.start*Qt,Jr=(un.start+un.count)*Qt;Ct!==null&&(wr=Math.max(wr,Ct.start*Qt),Jr=Math.min(Jr,(Ct.start+Ct.count)*Qt)),qt!==null?(wr=Math.max(wr,0),Jr=Math.min(Jr,qt.count)):fn!=null&&(wr=Math.max(wr,0),Jr=Math.min(Jr,fn.count));const Ri=Jr-wr;if(Ri<0||Ri===1/0)return;mn.setup(Re,Ie,Dt,Le,qt);let Ua,kn=Cn;if(qt!==null&&(Ua=K.get(qt),kn=$t,kn.setIndex(Ua)),Re.isMesh)Ie.wireframe===!0?(qe.setLineWidth(Ie.wireframeLinewidth*bn()),kn.setMode(Se.LINES)):kn.setMode(Se.TRIANGLES);else if(Re.isLine){let en=Ie.linewidth;en===void 0&&(en=1),qe.setLineWidth(en*bn()),Re.isLineSegments?kn.setMode(Se.LINES):Re.isLineLoop?kn.setMode(Se.LINE_LOOP):kn.setMode(Se.LINE_STRIP)}else Re.isPoints?kn.setMode(Se.POINTS):Re.isSprite&&kn.setMode(Se.TRIANGLES);if(Re.isBatchedMesh)Re._multiDrawInstances!==null?kn.renderMultiDrawInstances(Re._multiDrawStarts,Re._multiDrawCounts,Re._multiDrawCount,Re._multiDrawInstances):kn.renderMultiDraw(Re._multiDrawStarts,Re._multiDrawCounts,Re._multiDrawCount);else if(Re.isInstancedMesh)kn.renderInstances(wr,Ri,Re.count);else if(Le.isInstancedBufferGeometry){const en=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,xm=Math.min(Le.instanceCount,en);kn.renderInstances(wr,Ri,xm)}else kn.render(wr,Ri)};function Qn(ee,Me,Le){ee.transparent===!0&&ee.side===T&&ee.forceSinglePass===!1?(ee.side=x,ee.needsUpdate=!0,y1(ee,Me,Le),ee.side=y,ee.needsUpdate=!0,y1(ee,Me,Le),ee.side=T):y1(ee,Me,Le)}this.compile=function(ee,Me,Le=null){Le===null&&(Le=ee),L=yt.get(Le),L.init(Me),G.push(L),Le.traverseVisible(function(Re){Re.isLight&&Re.layers.test(Me.layers)&&(L.pushLight(Re),Re.castShadow&&L.pushShadow(Re))}),ee!==Le&&ee.traverseVisible(function(Re){Re.isLight&&Re.layers.test(Me.layers)&&(L.pushLight(Re),Re.castShadow&&L.pushShadow(Re))}),L.setupLights(X._useLegacyLights);const Ie=new Set;return ee.traverse(function(Re){const Ct=Re.material;if(Ct)if(Array.isArray(Ct))for(let jt=0;jt<Ct.length;jt++){const Dt=Ct[jt];Qn(Dt,Le,Re),Ie.add(Dt)}else Qn(Ct,Le,Re),Ie.add(Ct)}),G.pop(),L=null,Ie},this.compileAsync=function(ee,Me,Le=null){const Ie=this.compile(ee,Me,Le);return new Promise(Re=>{function Ct(){if(Ie.forEach(function(jt){nt.get(jt).currentProgram.isReady()&&Ie.delete(jt)}),Ie.size===0){Re(ee);return}setTimeout(Ct,10)}Ge.get("KHR_parallel_shader_compile")!==null?Ct():setTimeout(Ct,10)})};let pr=null;function Zr(ee){pr&&pr(ee)}function Gn(){di.stop()}function ea(){di.start()}const di=new ne;di.setAnimationLoop(Zr),typeof self<"u"&&di.setContext(self),this.setAnimationLoop=function(ee){pr=ee,pn.setAnimationLoop(ee),ee===null?di.stop():di.start()},pn.addEventListener("sessionstart",Gn),pn.addEventListener("sessionend",ea),this.render=function(ee,Me){if(Me!==void 0&&Me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(H===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Me.parent===null&&Me.matrixWorldAutoUpdate===!0&&Me.updateMatrixWorld(),pn.enabled===!0&&pn.isPresenting===!0&&(pn.cameraAutoUpdate===!0&&pn.updateCamera(Me),Me=pn.getCamera()),ee.isScene===!0&&ee.onBeforeRender(X,ee,Me,le),L=yt.get(ee,G.length),L.init(Me),G.push(L),Ot.multiplyMatrices(Me.projectionMatrix,Me.matrixWorldInverse),Un.setFromProjectionMatrix(Ot),lt=this.localClippingEnabled,Ue=vt.init(this.clippingPlanes,lt),D=Xt.get(ee,R.length),D.init(),R.push(D),UT(ee,Me,0,X.sortObjects),D.finish(),X.sortObjects===!0&&D.sort(Xe,at);const Le=pn.enabled===!1||pn.isPresenting===!1||pn.hasDepthSensing()===!1;Le&&ht.addToRenderList(D,ee),this.info.render.frame++,Ue===!0&&vt.beginShadows();const Ie=L.state.shadowsArray;an.render(Ie,ee,Me),Ue===!0&&vt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Re=D.opaque,Ct=D.transmissive;if(L.setupLights(X._useLegacyLights),Me.isArrayCamera){const jt=Me.cameras;if(Ct.length>0)for(let Dt=0,qt=jt.length;Dt<qt;Dt++){const Qt=jt[Dt];WT(Re,Ct,ee,Qt)}Le&&ht.render(ee);for(let Dt=0,qt=jt.length;Dt<qt;Dt++){const Qt=jt[Dt];GT(D,ee,Qt,Qt.viewport)}}else Ct.length>0&&WT(Re,Ct,ee,Me),Le&&ht.render(ee),GT(D,ee,Me);le!==null&&(Et.updateMultisampleRenderTarget(le),Et.updateRenderTargetMipmap(le)),ee.isScene===!0&&ee.onAfterRender(X,ee,Me),mn.resetDefaultState(),ye=-1,J=null,G.pop(),G.length>0?(L=G[G.length-1],Ue===!0&&vt.setGlobalState(X.clippingPlanes,L.state.camera)):L=null,R.pop(),R.length>0?D=R[R.length-1]:D=null};function UT(ee,Me,Le,Ie){if(ee.visible===!1)return;if(ee.layers.test(Me.layers)){if(ee.isGroup)Le=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(Me);else if(ee.isLight)L.pushLight(ee),ee.castShadow&&L.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||Un.intersectsSprite(ee)){Ie&&ct.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(Ot);const jt=$e.update(ee),Dt=ee.material;Dt.visible&&D.push(ee,jt,Dt,Le,ct.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||Un.intersectsObject(ee))){const jt=$e.update(ee),Dt=ee.material;if(Ie&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),ct.copy(ee.boundingSphere.center)):(jt.boundingSphere===null&&jt.computeBoundingSphere(),ct.copy(jt.boundingSphere.center)),ct.applyMatrix4(ee.matrixWorld).applyMatrix4(Ot)),Array.isArray(Dt)){const qt=jt.groups;for(let Qt=0,un=qt.length;Qt<un;Qt++){const fn=qt[Qt],wr=Dt[fn.materialIndex];wr&&wr.visible&&D.push(ee,jt,wr,Le,ct.z,fn)}}else Dt.visible&&D.push(ee,jt,Dt,Le,ct.z,null)}}const Ct=ee.children;for(let jt=0,Dt=Ct.length;jt<Dt;jt++)UT(Ct[jt],Me,Le,Ie)}function GT(ee,Me,Le,Ie){const Re=ee.opaque,Ct=ee.transmissive,jt=ee.transparent;L.setupLightsView(Le),Ue===!0&&vt.setGlobalState(X.clippingPlanes,Le),Ie&&qe.viewport($.copy(Ie)),Re.length>0&&v1(Re,Me,Le),Ct.length>0&&v1(Ct,Me,Le),jt.length>0&&v1(jt,Me,Le),qe.buffers.depth.setTest(!0),qe.buffers.depth.setMask(!0),qe.buffers.color.setMask(!0),qe.setPolygonOffset(!1)}function WT(ee,Me,Le,Ie){if((Le.isScene===!0?Le.overrideMaterial:null)!==null)return;L.state.transmissionRenderTarget[Ie.id]===void 0&&(L.state.transmissionRenderTarget[Ie.id]=new vi(1,1,{generateMipmaps:!0,type:Ge.has("EXT_color_buffer_half_float")||Ge.has("EXT_color_buffer_float")?Sl:so,minFilter:Xi,samples:4,stencilBuffer:u,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const Ct=L.state.transmissionRenderTarget[Ie.id],jt=Ie.viewport||$;Ct.setSize(jt.z,jt.w);const Dt=X.getRenderTarget();X.setRenderTarget(Ct),X.getClearColor(Ce),Oe=X.getClearAlpha(),Oe<1&&X.setClearColor(16777215,.5),X.clear();const qt=X.toneMapping;X.toneMapping=Sr;const Qt=Ie.viewport;if(Ie.viewport!==void 0&&(Ie.viewport=void 0),L.setupLightsView(Ie),Ue===!0&&vt.setGlobalState(X.clippingPlanes,Ie),v1(ee,Le,Ie),Et.updateMultisampleRenderTarget(Ct),Et.updateRenderTargetMipmap(Ct),Ge.has("WEBGL_multisampled_render_to_texture")===!1){let un=!1;for(let fn=0,wr=Me.length;fn<wr;fn++){const Jr=Me[fn],Ri=Jr.object,Ua=Jr.geometry,kn=Jr.material,en=Jr.group;if(kn.side===T&&Ri.layers.test(Ie.layers)){const xm=kn.side;kn.side=x,kn.needsUpdate=!0,VT(Ri,Le,Ie,Ua,kn,en),kn.side=xm,kn.needsUpdate=!0,un=!0}}un===!0&&(Et.updateMultisampleRenderTarget(Ct),Et.updateRenderTargetMipmap(Ct))}X.setRenderTarget(Dt),X.setClearColor(Ce,Oe),Qt!==void 0&&(Ie.viewport=Qt),X.toneMapping=qt}function v1(ee,Me,Le){const Ie=Me.isScene===!0?Me.overrideMaterial:null;for(let Re=0,Ct=ee.length;Re<Ct;Re++){const jt=ee[Re],Dt=jt.object,qt=jt.geometry,Qt=Ie===null?jt.material:Ie,un=jt.group;Dt.layers.test(Le.layers)&&VT(Dt,Me,Le,qt,Qt,un)}}function VT(ee,Me,Le,Ie,Re,Ct){ee.onBeforeRender(X,Me,Le,Ie,Re,Ct),ee.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Re.onBeforeRender(X,Me,Le,Ie,ee,Ct),Re.transparent===!0&&Re.side===T&&Re.forceSinglePass===!1?(Re.side=x,Re.needsUpdate=!0,X.renderBufferDirect(Le,Me,Ie,Re,ee,Ct),Re.side=y,Re.needsUpdate=!0,X.renderBufferDirect(Le,Me,Ie,Re,ee,Ct),Re.side=T):X.renderBufferDirect(Le,Me,Ie,Re,ee,Ct),ee.onAfterRender(X,Me,Le,Ie,Re,Ct)}function y1(ee,Me,Le){Me.isScene!==!0&&(Me=hn);const Ie=nt.get(ee),Re=L.state.lights,Ct=L.state.shadowsArray,jt=Re.state.version,Dt=Qe.getParameters(ee,Re.state,Ct,Me,Le),qt=Qe.getProgramCacheKey(Dt);let Qt=Ie.programs;Ie.environment=ee.isMeshStandardMaterial?Me.environment:null,Ie.fog=Me.fog,Ie.envMap=(ee.isMeshStandardMaterial?ce:Wt).get(ee.envMap||Ie.environment),Ie.envMapRotation=Ie.environment!==null&&ee.envMap===null?Me.environmentRotation:ee.envMapRotation,Qt===void 0&&(ee.addEventListener("dispose",xt),Qt=new Map,Ie.programs=Qt);let un=Qt.get(qt);if(un!==void 0){if(Ie.currentProgram===un&&Ie.lightsStateVersion===jt)return $T(ee,Dt),un}else Dt.uniforms=Qe.getUniforms(ee),ee.onBuild(Le,Dt,X),ee.onBeforeCompile(Dt,X),un=Qe.acquireProgram(Dt,qt),Qt.set(qt,un),Ie.uniforms=Dt.uniforms;const fn=Ie.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(fn.clippingPlanes=vt.uniform),$T(ee,Dt),Ie.needsLights=h8(ee),Ie.lightsStateVersion=jt,Ie.needsLights&&(fn.ambientLightColor.value=Re.state.ambient,fn.lightProbe.value=Re.state.probe,fn.directionalLights.value=Re.state.directional,fn.directionalLightShadows.value=Re.state.directionalShadow,fn.spotLights.value=Re.state.spot,fn.spotLightShadows.value=Re.state.spotShadow,fn.rectAreaLights.value=Re.state.rectArea,fn.ltc_1.value=Re.state.rectAreaLTC1,fn.ltc_2.value=Re.state.rectAreaLTC2,fn.pointLights.value=Re.state.point,fn.pointLightShadows.value=Re.state.pointShadow,fn.hemisphereLights.value=Re.state.hemi,fn.directionalShadowMap.value=Re.state.directionalShadowMap,fn.directionalShadowMatrix.value=Re.state.directionalShadowMatrix,fn.spotShadowMap.value=Re.state.spotShadowMap,fn.spotLightMatrix.value=Re.state.spotLightMatrix,fn.spotLightMap.value=Re.state.spotLightMap,fn.pointShadowMap.value=Re.state.pointShadowMap,fn.pointShadowMatrix.value=Re.state.pointShadowMatrix),Ie.currentProgram=un,Ie.uniformsList=null,un}function HT(ee){if(ee.uniformsList===null){const Me=ee.currentProgram.getUniforms();ee.uniformsList=Tf.seqWithValue(Me.seq,ee.uniforms)}return ee.uniformsList}function $T(ee,Me){const Le=nt.get(ee);Le.outputColorSpace=Me.outputColorSpace,Le.batching=Me.batching,Le.instancing=Me.instancing,Le.instancingColor=Me.instancingColor,Le.instancingMorph=Me.instancingMorph,Le.skinning=Me.skinning,Le.morphTargets=Me.morphTargets,Le.morphNormals=Me.morphNormals,Le.morphColors=Me.morphColors,Le.morphTargetsCount=Me.morphTargetsCount,Le.numClippingPlanes=Me.numClippingPlanes,Le.numIntersection=Me.numClipIntersection,Le.vertexAlphas=Me.vertexAlphas,Le.vertexTangents=Me.vertexTangents,Le.toneMapping=Me.toneMapping}function l8(ee,Me,Le,Ie,Re){Me.isScene!==!0&&(Me=hn),Et.resetTextureUnits();const Ct=Me.fog,jt=Ie.isMeshStandardMaterial?Me.environment:null,Dt=le===null?X.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:lo,qt=(Ie.isMeshStandardMaterial?ce:Wt).get(Ie.envMap||jt),Qt=Ie.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,un=!!Le.attributes.tangent&&(!!Ie.normalMap||Ie.anisotropy>0),fn=!!Le.morphAttributes.position,wr=!!Le.morphAttributes.normal,Jr=!!Le.morphAttributes.color;let Ri=Sr;Ie.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(Ri=X.toneMapping);const Ua=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,kn=Ua!==void 0?Ua.length:0,en=nt.get(Ie),xm=L.state.lights;if(Ue===!0&&(lt===!0||ee!==J)){const qi=ee===J&&Ie.id===ye;vt.setState(Ie,ee,qi)}let ar=!1;Ie.version===en.__version?(en.needsLights&&en.lightsStateVersion!==xm.state.version||en.outputColorSpace!==Dt||Re.isBatchedMesh&&en.batching===!1||!Re.isBatchedMesh&&en.batching===!0||Re.isInstancedMesh&&en.instancing===!1||!Re.isInstancedMesh&&en.instancing===!0||Re.isSkinnedMesh&&en.skinning===!1||!Re.isSkinnedMesh&&en.skinning===!0||Re.isInstancedMesh&&en.instancingColor===!0&&Re.instanceColor===null||Re.isInstancedMesh&&en.instancingColor===!1&&Re.instanceColor!==null||Re.isInstancedMesh&&en.instancingMorph===!0&&Re.morphTexture===null||Re.isInstancedMesh&&en.instancingMorph===!1&&Re.morphTexture!==null||en.envMap!==qt||Ie.fog===!0&&en.fog!==Ct||en.numClippingPlanes!==void 0&&(en.numClippingPlanes!==vt.numPlanes||en.numIntersection!==vt.numIntersection)||en.vertexAlphas!==Qt||en.vertexTangents!==un||en.morphTargets!==fn||en.morphNormals!==wr||en.morphColors!==Jr||en.toneMapping!==Ri||en.morphTargetsCount!==kn)&&(ar=!0):(ar=!0,en.__version=Ie.version);let Cc=en.currentProgram;ar===!0&&(Cc=y1(Ie,Me,Re));let qT=!1,Cm=!1,Cv=!1;const Qr=Cc.getUniforms(),Ks=en.uniforms;if(qe.useProgram(Cc.program)&&(qT=!0,Cm=!0,Cv=!0),Ie.id!==ye&&(ye=Ie.id,Cm=!0),qT||J!==ee){Qr.setValue(Se,"projectionMatrix",ee.projectionMatrix),Qr.setValue(Se,"viewMatrix",ee.matrixWorldInverse);const qi=Qr.map.cameraPosition;qi!==void 0&&qi.setValue(Se,ct.setFromMatrixPosition(ee.matrixWorld)),rt.logarithmicDepthBuffer&&Qr.setValue(Se,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Ie.isMeshPhongMaterial||Ie.isMeshToonMaterial||Ie.isMeshLambertMaterial||Ie.isMeshBasicMaterial||Ie.isMeshStandardMaterial||Ie.isShaderMaterial)&&Qr.setValue(Se,"isOrthographic",ee.isOrthographicCamera===!0),J!==ee&&(J=ee,Cm=!0,Cv=!0)}if(Re.isSkinnedMesh){Qr.setOptional(Se,Re,"bindMatrix"),Qr.setOptional(Se,Re,"bindMatrixInverse");const qi=Re.skeleton;qi&&(qi.boneTexture===null&&qi.computeBoneTexture(),Qr.setValue(Se,"boneTexture",qi.boneTexture,Et))}Re.isBatchedMesh&&(Qr.setOptional(Se,Re,"batchingTexture"),Qr.setValue(Se,"batchingTexture",Re._matricesTexture,Et));const _v=Le.morphAttributes;if((_v.position!==void 0||_v.normal!==void 0||_v.color!==void 0)&&kt.update(Re,Le,Cc),(Cm||en.receiveShadow!==Re.receiveShadow)&&(en.receiveShadow=Re.receiveShadow,Qr.setValue(Se,"receiveShadow",Re.receiveShadow)),Ie.isMeshGouraudMaterial&&Ie.envMap!==null&&(Ks.envMap.value=qt,Ks.flipEnvMap.value=qt.isCubeTexture&&qt.isRenderTargetTexture===!1?-1:1),Ie.isMeshStandardMaterial&&Ie.envMap===null&&Me.environment!==null&&(Ks.envMapIntensity.value=Me.environmentIntensity),Cm&&(Qr.setValue(Se,"toneMappingExposure",X.toneMappingExposure),en.needsLights&&c8(Ks,Cv),Ct&&Ie.fog===!0&&Ze.refreshFogUniforms(Ks,Ct),Ze.refreshMaterialUniforms(Ks,Ie,gt,Ye,L.state.transmissionRenderTarget[ee.id]),Tf.upload(Se,HT(en),Ks,Et)),Ie.isShaderMaterial&&Ie.uniformsNeedUpdate===!0&&(Tf.upload(Se,HT(en),Ks,Et),Ie.uniformsNeedUpdate=!1),Ie.isSpriteMaterial&&Qr.setValue(Se,"center",Re.center),Qr.setValue(Se,"modelViewMatrix",Re.modelViewMatrix),Qr.setValue(Se,"normalMatrix",Re.normalMatrix),Qr.setValue(Se,"modelMatrix",Re.matrixWorld),Ie.isShaderMaterial||Ie.isRawShaderMaterial){const qi=Ie.uniformsGroups;for(let Tv=0,u8=qi.length;Tv<u8;Tv++){const YT=qi[Tv];Tn.update(YT,Cc),Tn.bind(YT,Cc)}}return Cc}function c8(ee,Me){ee.ambientLightColor.needsUpdate=Me,ee.lightProbe.needsUpdate=Me,ee.directionalLights.needsUpdate=Me,ee.directionalLightShadows.needsUpdate=Me,ee.pointLights.needsUpdate=Me,ee.pointLightShadows.needsUpdate=Me,ee.spotLights.needsUpdate=Me,ee.spotLightShadows.needsUpdate=Me,ee.rectAreaLights.needsUpdate=Me,ee.hemisphereLights.needsUpdate=Me}function h8(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.getActiveCubeFace=function(){return me},this.getActiveMipmapLevel=function(){return te},this.getRenderTarget=function(){return le},this.setRenderTargetTextures=function(ee,Me,Le){nt.get(ee.texture).__webglTexture=Me,nt.get(ee.depthTexture).__webglTexture=Le;const Ie=nt.get(ee);Ie.__hasExternalTextures=!0,Ie.__autoAllocateDepthBuffer=Le===void 0,Ie.__autoAllocateDepthBuffer||Ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ie.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ee,Me){const Le=nt.get(ee);Le.__webglFramebuffer=Me,Le.__useDefaultFramebuffer=Me===void 0},this.setRenderTarget=function(ee,Me=0,Le=0){le=ee,me=Me,te=Le;let Ie=!0,Re=null,Ct=!1,jt=!1;if(ee){const qt=nt.get(ee);qt.__useDefaultFramebuffer!==void 0?(qe.bindFramebuffer(Se.FRAMEBUFFER,null),Ie=!1):qt.__webglFramebuffer===void 0?Et.setupRenderTarget(ee):qt.__hasExternalTextures&&Et.rebindTextures(ee,nt.get(ee.texture).__webglTexture,nt.get(ee.depthTexture).__webglTexture);const Qt=ee.texture;(Qt.isData3DTexture||Qt.isDataArrayTexture||Qt.isCompressedArrayTexture)&&(jt=!0);const un=nt.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(un[Me])?Re=un[Me][Le]:Re=un[Me],Ct=!0):ee.samples>0&&Et.useMultisampledRTT(ee)===!1?Re=nt.get(ee).__webglMultisampledFramebuffer:Array.isArray(un)?Re=un[Le]:Re=un,$.copy(ee.viewport),we.copy(ee.scissor),Fe=ee.scissorTest}else $.copy(ot).multiplyScalar(gt).floor(),we.copy(Rt).multiplyScalar(gt).floor(),Fe=cn;if(qe.bindFramebuffer(Se.FRAMEBUFFER,Re)&&Ie&&qe.drawBuffers(ee,Re),qe.viewport($),qe.scissor(we),qe.setScissorTest(Fe),Ct){const qt=nt.get(ee.texture);Se.framebufferTexture2D(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,Se.TEXTURE_CUBE_MAP_POSITIVE_X+Me,qt.__webglTexture,Le)}else if(jt){const qt=nt.get(ee.texture),Qt=Me||0;Se.framebufferTextureLayer(Se.FRAMEBUFFER,Se.COLOR_ATTACHMENT0,qt.__webglTexture,Le||0,Qt)}ye=-1},this.readRenderTargetPixels=function(ee,Me,Le,Ie,Re,Ct,jt){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dt=nt.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&jt!==void 0&&(Dt=Dt[jt]),Dt){qe.bindFramebuffer(Se.FRAMEBUFFER,Dt);try{const qt=ee.texture,Qt=qt.format,un=qt.type;if(!rt.textureFormatReadable(Qt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!rt.textureTypeReadable(un)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Me>=0&&Me<=ee.width-Ie&&Le>=0&&Le<=ee.height-Re&&Se.readPixels(Me,Le,Ie,Re,Pt.convert(Qt),Pt.convert(un),Ct)}finally{const qt=le!==null?nt.get(le).__webglFramebuffer:null;qe.bindFramebuffer(Se.FRAMEBUFFER,qt)}}},this.copyFramebufferToTexture=function(ee,Me,Le=0){const Ie=Math.pow(2,-Le),Re=Math.floor(Me.image.width*Ie),Ct=Math.floor(Me.image.height*Ie);Et.setTexture2D(Me,0),Se.copyTexSubImage2D(Se.TEXTURE_2D,Le,0,0,ee.x,ee.y,Re,Ct),qe.unbindTexture()},this.copyTextureToTexture=function(ee,Me,Le,Ie=0){const Re=Me.image.width,Ct=Me.image.height,jt=Pt.convert(Le.format),Dt=Pt.convert(Le.type);Et.setTexture2D(Le,0),Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,Le.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,Le.unpackAlignment),Me.isDataTexture?Se.texSubImage2D(Se.TEXTURE_2D,Ie,ee.x,ee.y,Re,Ct,jt,Dt,Me.image.data):Me.isCompressedTexture?Se.compressedTexSubImage2D(Se.TEXTURE_2D,Ie,ee.x,ee.y,Me.mipmaps[0].width,Me.mipmaps[0].height,jt,Me.mipmaps[0].data):Se.texSubImage2D(Se.TEXTURE_2D,Ie,ee.x,ee.y,jt,Dt,Me.image),Ie===0&&Le.generateMipmaps&&Se.generateMipmap(Se.TEXTURE_2D),qe.unbindTexture()},this.copyTextureToTexture3D=function(ee,Me,Le,Ie,Re=0){const Ct=ee.max.x-ee.min.x,jt=ee.max.y-ee.min.y,Dt=ee.max.z-ee.min.z,qt=Pt.convert(Ie.format),Qt=Pt.convert(Ie.type);let un;if(Ie.isData3DTexture)Et.setTexture3D(Ie,0),un=Se.TEXTURE_3D;else if(Ie.isDataArrayTexture||Ie.isCompressedArrayTexture)Et.setTexture2DArray(Ie,0),un=Se.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Se.pixelStorei(Se.UNPACK_FLIP_Y_WEBGL,Ie.flipY),Se.pixelStorei(Se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ie.premultiplyAlpha),Se.pixelStorei(Se.UNPACK_ALIGNMENT,Ie.unpackAlignment);const fn=Se.getParameter(Se.UNPACK_ROW_LENGTH),wr=Se.getParameter(Se.UNPACK_IMAGE_HEIGHT),Jr=Se.getParameter(Se.UNPACK_SKIP_PIXELS),Ri=Se.getParameter(Se.UNPACK_SKIP_ROWS),Ua=Se.getParameter(Se.UNPACK_SKIP_IMAGES),kn=Le.isCompressedTexture?Le.mipmaps[Re]:Le.image;Se.pixelStorei(Se.UNPACK_ROW_LENGTH,kn.width),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,kn.height),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,ee.min.x),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,ee.min.y),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,ee.min.z),Le.isDataTexture||Le.isData3DTexture?Se.texSubImage3D(un,Re,Me.x,Me.y,Me.z,Ct,jt,Dt,qt,Qt,kn.data):Ie.isCompressedArrayTexture?Se.compressedTexSubImage3D(un,Re,Me.x,Me.y,Me.z,Ct,jt,Dt,qt,kn.data):Se.texSubImage3D(un,Re,Me.x,Me.y,Me.z,Ct,jt,Dt,qt,Qt,kn),Se.pixelStorei(Se.UNPACK_ROW_LENGTH,fn),Se.pixelStorei(Se.UNPACK_IMAGE_HEIGHT,wr),Se.pixelStorei(Se.UNPACK_SKIP_PIXELS,Jr),Se.pixelStorei(Se.UNPACK_SKIP_ROWS,Ri),Se.pixelStorei(Se.UNPACK_SKIP_IMAGES,Ua),Re===0&&Ie.generateMipmaps&&Se.generateMipmap(un),qe.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?Et.setTextureCube(ee,0):ee.isData3DTexture?Et.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?Et.setTexture2DArray(ee,0):Et.setTexture2D(ee,0),qe.unbindTexture()},this.resetState=function(){me=0,te=0,le=null,qe.reset(),mn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return oi}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const i=this.getContext();i.drawingBufferColorSpace=t===ch?"display-p3":"srgb",i.unpackColorSpace=Ln.workingColorSpace===Ll?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}class wf{constructor(t,i=25e-5){this.isFogExp2=!0,this.name="",this.color=new _t(t),this.density=i}clone(){return new wf(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Nf{constructor(t,i=1,s=1e3){this.isFog=!0,this.name="",this.color=new _t(t),this.near=i,this.far=s}clone(){return new Nf(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class n_ extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new li,this.environmentIntensity=1,this.environmentRotation=new li,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,i){return super.copy(t,i),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const i=super.toJSON(t);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(i.object.environmentIntensity=this.environmentIntensity),i.object.environmentRotation=this.environmentRotation.toArray(),i}}class Mf{constructor(t,i){this.isInterleavedBuffer=!0,this.array=t,this.stride=i,this.count=t!==void 0?t.length/i:0,this.usage=Dl,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=ai()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}get updateRange(){return ef("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(t){return this.usage=t,this}addUpdateRange(t,i){this.updateRanges.push({start:t,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,i,s){t*=this.stride,s*=i.stride;for(let c=0,u=this.stride;c<u;c++)this.array[t+c]=i.array[s+c];return this}set(t,i=0){return this.array.set(t,i),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ai()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(i,this.stride);return s.setUsage(this.usage),s}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ai()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const hi=new ie;class cc{constructor(t,i,s,c=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=i,this.offset=s,this.normalized=c}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let i=0,s=this.data.count;i<s;i++)hi.fromBufferAttribute(this,i),hi.applyMatrix4(t),this.setXYZ(i,hi.x,hi.y,hi.z);return this}applyNormalMatrix(t){for(let i=0,s=this.count;i<s;i++)hi.fromBufferAttribute(this,i),hi.applyNormalMatrix(t),this.setXYZ(i,hi.x,hi.y,hi.z);return this}transformDirection(t){for(let i=0,s=this.count;i<s;i++)hi.fromBufferAttribute(this,i),hi.transformDirection(t),this.setXYZ(i,hi.x,hi.y,hi.z);return this}getComponent(t,i){let s=this.array[t*this.data.stride+this.offset+i];return this.normalized&&(s=Lr(s,this.array)),s}setComponent(t,i,s){return this.normalized&&(s=Yt(s,this.array)),this.data.array[t*this.data.stride+this.offset+i]=s,this}setX(t,i){return this.normalized&&(i=Yt(i,this.array)),this.data.array[t*this.data.stride+this.offset]=i,this}setY(t,i){return this.normalized&&(i=Yt(i,this.array)),this.data.array[t*this.data.stride+this.offset+1]=i,this}setZ(t,i){return this.normalized&&(i=Yt(i,this.array)),this.data.array[t*this.data.stride+this.offset+2]=i,this}setW(t,i){return this.normalized&&(i=Yt(i,this.array)),this.data.array[t*this.data.stride+this.offset+3]=i,this}getX(t){let i=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(i=Lr(i,this.array)),i}getY(t){let i=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(i=Lr(i,this.array)),i}getZ(t){let i=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(i=Lr(i,this.array)),i}getW(t){let i=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(i=Lr(i,this.array)),i}setXY(t,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array)),this.data.array[t+0]=i,this.data.array[t+1]=s,this}setXYZ(t,i,s,c){return t=t*this.data.stride+this.offset,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array),c=Yt(c,this.array)),this.data.array[t+0]=i,this.data.array[t+1]=s,this.data.array[t+2]=c,this}setXYZW(t,i,s,c,u){return t=t*this.data.stride+this.offset,this.normalized&&(i=Yt(i,this.array),s=Yt(s,this.array),c=Yt(c,this.array),u=Yt(u,this.array)),this.data.array[t+0]=i,this.data.array[t+1]=s,this.data.array[t+2]=c,this.data.array[t+3]=u,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const c=s*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)i.push(this.data.array[c+u])}return new tn(new this.array.constructor(i),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new cc(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const c=s*this.data.stride+this.offset;for(let u=0;u<this.itemSize;u++)i.push(this.data.array[c+u])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class jb extends Dr{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Ph;const Jd=new ie,Bh=new ie,Oh=new ie,Lh=new He,Qd=new He,r_=new Ut,Sf=new ie,em=new ie,Af=new ie,i_=new He,Db=new He,o_=new He;class a_ extends Mn{constructor(t=new jb){if(super(),this.isSprite=!0,this.type="Sprite",Ph===void 0){Ph=new Jt;const i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),s=new Mf(i,5);Ph.setIndex([0,1,2,0,2,3]),Ph.setAttribute("position",new cc(s,3,0,!1)),Ph.setAttribute("uv",new cc(s,2,3,!1))}this.geometry=Ph,this.material=t,this.center=new He(.5,.5)}raycast(t,i){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bh.setFromMatrixScale(this.matrixWorld),r_.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Oh.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bh.multiplyScalar(-Oh.z);const s=this.material.rotation;let c,u;s!==0&&(u=Math.cos(s),c=Math.sin(s));const f=this.center;Ef(Sf.set(-.5,-.5,0),Oh,f,Bh,c,u),Ef(em.set(.5,-.5,0),Oh,f,Bh,c,u),Ef(Af.set(.5,.5,0),Oh,f,Bh,c,u),i_.set(0,0),Db.set(1,0),o_.set(1,1);let b=t.ray.intersectTriangle(Sf,em,Af,!1,Jd);if(b===null&&(Ef(em.set(-.5,.5,0),Oh,f,Bh,c,u),Db.set(0,1),b=t.ray.intersectTriangle(Sf,Af,em,!1,Jd),b===null))return;const C=t.ray.origin.distanceTo(Jd);C<t.near||C>t.far||i.push({distance:C,point:Jd.clone(),uv:Wr.getInterpolation(Jd,Sf,em,Af,i_,Db,o_,new He),face:null,object:this})}copy(t,i){return super.copy(t,i),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function Ef(m,t,i,s,c,u){Lh.subVectors(m,i).addScalar(.5).multiply(s),c!==void 0?(Qd.x=u*Lh.x-c*Lh.y,Qd.y=c*Lh.x+u*Lh.y):Qd.copy(Lh),m.copy(t),m.x+=Qd.x,m.y+=Qd.y,m.applyMatrix4(r_)}const If=new ie,s_=new ie;class l_ extends Mn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const i=t.levels;for(let s=0,c=i.length;s<c;s++){const u=i[s];this.addLevel(u.object.clone(),u.distance,u.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,i=0,s=0){i=Math.abs(i);const c=this.levels;let u;for(u=0;u<c.length&&!(i<c[u].distance);u++);return c.splice(u,0,{distance:i,hysteresis:s,object:t}),this.add(t),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const i=this.levels;if(i.length>0){let s,c;for(s=1,c=i.length;s<c;s++){let u=i[s].distance;if(i[s].object.visible&&(u-=u*i[s].hysteresis),t<u)break}return i[s-1].object}return null}raycast(t,i){if(this.levels.length>0){If.setFromMatrixPosition(this.matrixWorld);const c=t.ray.origin.distanceTo(If);this.getObjectForDistance(c).raycast(t,i)}}update(t){const i=this.levels;if(i.length>1){If.setFromMatrixPosition(t.matrixWorld),s_.setFromMatrixPosition(this.matrixWorld);const s=If.distanceTo(s_)/t.zoom;i[0].object.visible=!0;let c,u;for(c=1,u=i.length;c<u;c++){let f=i[c].distance;if(i[c].object.visible&&(f-=f*i[c].hysteresis),s>=f)i[c-1].object.visible=!1,i[c].object.visible=!0;else break}for(this._currentLevel=c-1;c<u;c++)i[c].object.visible=!1}}toJSON(t){const i=super.toJSON(t);this.autoUpdate===!1&&(i.object.autoUpdate=!1),i.object.levels=[];const s=this.levels;for(let c=0,u=s.length;c<u;c++){const f=s[c];i.object.levels.push({object:f.object.uuid,distance:f.distance,hysteresis:f.hysteresis})}return i}}const c_=new ie,h_=new jn,u_=new jn,fP=new ie,d_=new Ut,Rf=new ie,Fb=new jr,m_=new Ut,kb=new po;class p_ extends lr{constructor(t,i){super(t,i),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ao,this.bindMatrix=new Ut,this.bindMatrixInverse=new Ut,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ur),this.boundingBox.makeEmpty();const i=t.getAttribute("position");for(let s=0;s<i.count;s++)this.getVertexPosition(s,Rf),this.boundingBox.expandByPoint(Rf)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new jr),this.boundingSphere.makeEmpty();const i=t.getAttribute("position");for(let s=0;s<i.count;s++)this.getVertexPosition(s,Rf),this.boundingSphere.expandByPoint(Rf)}copy(t,i){return super.copy(t,i),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,i){const s=this.material,c=this.matrixWorld;s!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fb.copy(this.boundingSphere),Fb.applyMatrix4(c),t.ray.intersectsSphere(Fb)!==!1&&(m_.copy(c).invert(),kb.copy(t.ray).applyMatrix4(m_),!(this.boundingBox!==null&&kb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,i,kb)))}getVertexPosition(t,i){return super.getVertexPosition(t,i),this.applyBoneTransform(t,i),i}bind(t,i){this.skeleton=t,i===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new jn,i=this.geometry.attributes.skinWeight;for(let s=0,c=i.count;s<c;s++){t.fromBufferAttribute(i,s);const u=1/t.manhattanLength();u!==1/0?t.multiplyScalar(u):t.set(1,0,0,0),i.setXYZW(s,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===ao?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===wl?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,i){const s=this.skeleton,c=this.geometry;h_.fromBufferAttribute(c.attributes.skinIndex,t),u_.fromBufferAttribute(c.attributes.skinWeight,t),c_.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let u=0;u<4;u++){const f=u_.getComponent(u);if(f!==0){const b=h_.getComponent(u);d_.multiplyMatrices(s.bones[b].matrixWorld,s.boneInverses[b]),i.addScaledVector(fP.copy(c_).applyMatrix4(d_),f)}}return i.applyMatrix4(this.bindMatrixInverse)}}class Xb extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ws extends or{constructor(t=null,i=1,s=1,c,u,f,b,C,_=gr,N=gr,A,E){super(null,f,b,C,_,N,c,u,A,E),this.isDataTexture=!0,this.image={data:t,width:i,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const f_=new Ut,gP=new Ut;class Pf{constructor(t=[],i=[]){this.uuid=ai(),this.bones=t.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),i.length===0)this.calculateInverses();else if(t.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,c=this.bones.length;s<c;s++)this.boneInverses.push(new Ut)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,i=this.bones.length;t<i;t++){const s=new Ut;this.bones[t]&&s.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];s&&s.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,i=this.bones.length;t<i;t++){const s=this.bones[t];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const t=this.bones,i=this.boneInverses,s=this.boneMatrices,c=this.boneTexture;for(let u=0,f=t.length;u<f;u++){const b=t[u]?t[u].matrixWorld:gP;f_.multiplyMatrices(b,i[u]),f_.toArray(s,u*16)}c!==null&&(c.needsUpdate=!0)}clone(){return new Pf(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const i=new Float32Array(t*t*4);i.set(this.boneMatrices);const s=new Ws(i,t,t,ii,bi);return s.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=s,this}getBoneByName(t){for(let i=0,s=this.bones.length;i<s;i++){const c=this.bones[i];if(c.name===t)return c}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,i){this.uuid=t.uuid;for(let s=0,c=t.bones.length;s<c;s++){const u=t.bones[s];let f=i[u];f===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",u),f=new Xb),this.bones.push(f),this.boneInverses.push(new Ut().fromArray(t.boneInverses[s]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const i=this.bones,s=this.boneInverses;for(let c=0,u=i.length;c<u;c++){const f=i[c];t.bones.push(f.uuid);const b=s[c];t.boneInverses.push(b.toArray())}return t}}class jh extends tn{constructor(t,i,s,c=1){super(t,i,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=c}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Dh=new Ut,g_=new Ut,Bf=[],b_=new Ur,bP=new Ut,tm=new lr,nm=new jr;class v_ extends lr{constructor(t,i,s){super(t,i),this.isInstancedMesh=!0,this.instanceMatrix=new jh(new Float32Array(s*16),16),this.instanceColor=null,this.morphTexture=null,this.count=s,this.boundingBox=null,this.boundingSphere=null;for(let c=0;c<s;c++)this.setMatrixAt(c,bP)}computeBoundingBox(){const t=this.geometry,i=this.count;this.boundingBox===null&&(this.boundingBox=new Ur),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let s=0;s<i;s++)this.getMatrixAt(s,Dh),b_.copy(t.boundingBox).applyMatrix4(Dh),this.boundingBox.union(b_)}computeBoundingSphere(){const t=this.geometry,i=this.count;this.boundingSphere===null&&(this.boundingSphere=new jr),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let s=0;s<i;s++)this.getMatrixAt(s,Dh),nm.copy(t.boundingSphere).applyMatrix4(Dh),this.boundingSphere.union(nm)}copy(t,i){return super.copy(t,i),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,i){i.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,i){i.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,i){const s=i.morphTargetInfluences,c=this.morphTexture.source.data.data,u=s.length+1,f=t*u+1;for(let b=0;b<s.length;b++)s[b]=c[f+b]}raycast(t,i){const s=this.matrixWorld,c=this.count;if(tm.geometry=this.geometry,tm.material=this.material,tm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),nm.copy(this.boundingSphere),nm.applyMatrix4(s),t.ray.intersectsSphere(nm)!==!1))for(let u=0;u<c;u++){this.getMatrixAt(u,Dh),g_.multiplyMatrices(s,Dh),tm.matrixWorld=g_,tm.raycast(t,Bf);for(let f=0,b=Bf.length;f<b;f++){const C=Bf[f];C.instanceId=u,C.object=this,i.push(C)}Bf.length=0}}setColorAt(t,i){this.instanceColor===null&&(this.instanceColor=new jh(new Float32Array(this.instanceMatrix.count*3),3)),i.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,i){i.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,i){const s=i.morphTargetInfluences,c=s.length+1;this.morphTexture===null&&(this.morphTexture=new Ws(new Float32Array(c*this.count),c,this.count,Jc,bi));const u=this.morphTexture.source.data.data;let f=0;for(let _=0;_<s.length;_++)f+=s[_];const b=this.geometry.morphTargetsRelative?1:1-f,C=c*t;u[C]=b,u.set(s,C+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function vP(m,t){return m.z-t.z}function yP(m,t){return t.z-m.z}class xP{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,i){const s=this.pool,c=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1});const u=s[this.index];c.push(u),this.index++,u.start=t.start,u.count=t.count,u.z=i}reset(){this.list.length=0,this.index=0}}const Fh="batchId",Vs=new Ut,y_=new Ut,CP=new Ut,x_=new Ut,zb=new V,Of=new Ur,hc=new jr,rm=new ie,Ub=new xP,Kr=new lr,Lf=[];function _P(m,t,i=0){const s=t.itemSize;if(m.isInterleavedBufferAttribute||m.array.constructor!==t.array.constructor){const c=m.count;for(let u=0;u<c;u++)for(let f=0;f<s;f++)t.setComponent(u+i,f,m.getComponent(u,f))}else t.array.set(m.array,i*s);t.needsUpdate=!0}class C_ extends lr{get maxGeometryCount(){return this._maxGeometryCount}constructor(t,i,s=i*2,c){super(new Jt,c),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=t,this._maxVertexCount=i,this._maxIndexCount=s,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let t=Math.sqrt(this._maxGeometryCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const i=new Float32Array(t*t*4),s=new Ws(i,t,t,ii,bi);this._matricesTexture=s}_initializeGeometry(t){const i=this.geometry,s=this._maxVertexCount,c=this._maxGeometryCount,u=this._maxIndexCount;if(this._geometryInitialized===!1){for(const b in t.attributes){const C=t.getAttribute(b),{array:_,itemSize:N,normalized:A}=C,E=new _.constructor(s*N),I=new tn(E,N,A);i.setAttribute(b,I)}if(t.getIndex()!==null){const b=s>65536?new Uint32Array(u):new Uint16Array(u);i.setIndex(new tn(b,1))}const f=c>65536?new Uint32Array(s):new Uint16Array(s);i.setAttribute(Fh,new tn(f,1)),this._geometryInitialized=!0}}_validateGeometry(t){if(t.getAttribute(Fh))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Fh}"`);const i=this.geometry;if(!!t.getIndex()!=!!i.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const s in i.attributes){if(s===Fh)continue;if(!t.hasAttribute(s))throw new Error(`BatchedMesh: Added geometry missing "${s}". All geometries must have consistent attributes.`);const c=t.getAttribute(s),u=i.getAttribute(s);if(c.itemSize!==u.itemSize||c.normalized!==u.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ur);const t=this._geometryCount,i=this.boundingBox,s=this._active;i.makeEmpty();for(let c=0;c<t;c++)s[c]!==!1&&(this.getMatrixAt(c,Vs),this.getBoundingBoxAt(c,Of).applyMatrix4(Vs),i.union(Of))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new jr);const t=this._geometryCount,i=this.boundingSphere,s=this._active;i.makeEmpty();for(let c=0;c<t;c++)s[c]!==!1&&(this.getMatrixAt(c,Vs),this.getBoundingSphereAt(c,hc).applyMatrix4(Vs),i.union(hc))}addGeometry(t,i=-1,s=-1){if(this._initializeGeometry(t),this._validateGeometry(t),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const c={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let u=null;const f=this._reservedRanges,b=this._drawRanges,C=this._bounds;this._geometryCount!==0&&(u=f[f.length-1]),i===-1?c.vertexCount=t.getAttribute("position").count:c.vertexCount=i,u===null?c.vertexStart=0:c.vertexStart=u.vertexStart+u.vertexCount;const _=t.getIndex(),N=_!==null;if(N&&(s===-1?c.indexCount=_.count:c.indexCount=s,u===null?c.indexStart=0:c.indexStart=u.indexStart+u.indexCount),c.indexStart!==-1&&c.indexStart+c.indexCount>this._maxIndexCount||c.vertexStart+c.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const A=this._visibility,E=this._active,I=this._matricesTexture,B=this._matricesTexture.image.data;A.push(!0),E.push(!0);const D=this._geometryCount;this._geometryCount++,CP.toArray(B,D*16),I.needsUpdate=!0,f.push(c),b.push({start:N?c.indexStart:c.vertexStart,count:-1}),C.push({boxInitialized:!1,box:new Ur,sphereInitialized:!1,sphere:new jr});const L=this.geometry.getAttribute(Fh);for(let R=0;R<c.vertexCount;R++)L.setX(c.vertexStart+R,D);return L.needsUpdate=!0,this.setGeometryAt(D,t),D}setGeometryAt(t,i){if(t>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(i);const s=this.geometry,c=s.getIndex()!==null,u=s.getIndex(),f=i.getIndex(),b=this._reservedRanges[t];if(c&&f.count>b.indexCount||i.attributes.position.count>b.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const C=b.vertexStart,_=b.vertexCount;for(const I in s.attributes){if(I===Fh)continue;const B=i.getAttribute(I),D=s.getAttribute(I);_P(B,D,C);const L=B.itemSize;for(let R=B.count,G=_;R<G;R++){const X=C+R;for(let H=0;H<L;H++)D.setComponent(X,H,0)}D.needsUpdate=!0,D.addUpdateRange(C*L,_*L)}if(c){const I=b.indexStart;for(let B=0;B<f.count;B++)u.setX(I+B,C+f.getX(B));for(let B=f.count,D=b.indexCount;B<D;B++)u.setX(I+B,C);u.needsUpdate=!0,u.addUpdateRange(I,b.indexCount)}const N=this._bounds[t];i.boundingBox!==null?(N.box.copy(i.boundingBox),N.boxInitialized=!0):N.boxInitialized=!1,i.boundingSphere!==null?(N.sphere.copy(i.boundingSphere),N.sphereInitialized=!0):N.sphereInitialized=!1;const A=this._drawRanges[t],E=i.getAttribute("position");return A.count=c?f.count:E.count,this._visibilityChanged=!0,t}deleteGeometry(t){const i=this._active;return t>=i.length||i[t]===!1?this:(i[t]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(t){return this._multiDrawInstances===null?null:this._multiDrawInstances[t]}setInstanceCountAt(t,i){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[t]=i,t}getBoundingBoxAt(t,i){if(this._active[t]===!1)return null;const c=this._bounds[t],u=c.box,f=this.geometry;if(c.boxInitialized===!1){u.makeEmpty();const b=f.index,C=f.attributes.position,_=this._drawRanges[t];for(let N=_.start,A=_.start+_.count;N<A;N++){let E=N;b&&(E=b.getX(E)),u.expandByPoint(rm.fromBufferAttribute(C,E))}c.boxInitialized=!0}return i.copy(u),i}getBoundingSphereAt(t,i){if(this._active[t]===!1)return null;const c=this._bounds[t],u=c.sphere,f=this.geometry;if(c.sphereInitialized===!1){u.makeEmpty(),this.getBoundingBoxAt(t,Of),Of.getCenter(u.center);const b=f.index,C=f.attributes.position,_=this._drawRanges[t];let N=0;for(let A=_.start,E=_.start+_.count;A<E;A++){let I=A;b&&(I=b.getX(I)),rm.fromBufferAttribute(C,I),N=Math.max(N,u.center.distanceToSquared(rm))}u.radius=Math.sqrt(N),c.sphereInitialized=!0}return i.copy(u),i}setMatrixAt(t,i){const s=this._active,c=this._matricesTexture,u=this._matricesTexture.image.data,f=this._geometryCount;return t>=f||s[t]===!1?this:(i.toArray(u,t*16),c.needsUpdate=!0,this)}getMatrixAt(t,i){const s=this._active,c=this._matricesTexture.image.data,u=this._geometryCount;return t>=u||s[t]===!1?null:i.fromArray(c,t*16)}setVisibleAt(t,i){const s=this._visibility,c=this._active,u=this._geometryCount;return t>=u||c[t]===!1||s[t]===i?this:(s[t]=i,this._visibilityChanged=!0,this)}getVisibleAt(t){const i=this._visibility,s=this._active,c=this._geometryCount;return t>=c||s[t]===!1?!1:i[t]}raycast(t,i){const s=this._visibility,c=this._active,u=this._drawRanges,f=this._geometryCount,b=this.matrixWorld,C=this.geometry;Kr.material=this.material,Kr.geometry.index=C.index,Kr.geometry.attributes=C.attributes,Kr.geometry.boundingBox===null&&(Kr.geometry.boundingBox=new Ur),Kr.geometry.boundingSphere===null&&(Kr.geometry.boundingSphere=new jr);for(let _=0;_<f;_++){if(!s[_]||!c[_])continue;const N=u[_];Kr.geometry.setDrawRange(N.start,N.count),this.getMatrixAt(_,Kr.matrixWorld).premultiply(b),this.getBoundingBoxAt(_,Kr.geometry.boundingBox),this.getBoundingSphereAt(_,Kr.geometry.boundingSphere),Kr.raycast(t,Lf);for(let A=0,E=Lf.length;A<E;A++){const I=Lf[A];I.object=this,I.batchId=_,i.push(I)}Lf.length=0}Kr.material=null,Kr.geometry.index=null,Kr.geometry.attributes={},Kr.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._drawRanges=t._drawRanges.map(i=>({...i})),this._reservedRanges=t._reservedRanges.map(i=>({...i})),this._visibility=t._visibility.slice(),this._active=t._active.slice(),this._bounds=t._bounds.map(i=>({boxInitialized:i.boxInitialized,box:i.box.clone(),sphereInitialized:i.sphereInitialized,sphere:i.sphere.clone()})),this._maxGeometryCount=t._maxGeometryCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(t,i,s,c,u){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const f=c.getIndex(),b=f===null?1:f.array.BYTES_PER_ELEMENT,C=this._active,_=this._visibility,N=this._multiDrawStarts,A=this._multiDrawCounts,E=this._drawRanges,I=this.perObjectFrustumCulled;I&&(x_.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse).multiply(this.matrixWorld),zb.setFromProjectionMatrix(x_,t.coordinateSystem));let B=0;if(this.sortObjects){y_.copy(this.matrixWorld).invert(),rm.setFromMatrixPosition(s.matrixWorld).applyMatrix4(y_);for(let R=0,G=_.length;R<G;R++)if(_[R]&&C[R]){this.getMatrixAt(R,Vs),this.getBoundingSphereAt(R,hc).applyMatrix4(Vs);let X=!1;if(I&&(X=!zb.intersectsSphere(hc)),!X){const H=rm.distanceTo(hc.center);Ub.push(E[R],H)}}const D=Ub.list,L=this.customSort;L===null?D.sort(u.transparent?yP:vP):L.call(this,D,s);for(let R=0,G=D.length;R<G;R++){const X=D[R];N[B]=X.start*b,A[B]=X.count,B++}Ub.reset()}else for(let D=0,L=_.length;D<L;D++)if(_[D]&&C[D]){let R=!1;if(I&&(this.getMatrixAt(D,Vs),this.getBoundingSphereAt(D,hc).applyMatrix4(Vs),R=!zb.intersectsSphere(hc)),!R){const G=E[D];N[B]=G.start*b,A[B]=G.count,B++}}this._multiDrawCount=B,this._visibilityChanged=!1}onBeforeShadow(t,i,s,c,u,f){this.onBeforeRender(t,null,c,u,f)}}class ui extends Dr{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new _t(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const jf=new ie,Df=new ie,__=new Ut,im=new po,Ff=new jr,Gb=new ie,T_=new ie;class Hs extends Mn{constructor(t=new Jt,i=new ui){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const i=t.attributes.position,s=[0];for(let c=1,u=i.count;c<u;c++)jf.fromBufferAttribute(i,c-1),Df.fromBufferAttribute(i,c),s[c]=s[c-1],s[c]+=jf.distanceTo(Df);t.setAttribute("lineDistance",new It(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,i){const s=this.geometry,c=this.matrixWorld,u=t.params.Line.threshold,f=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Ff.copy(s.boundingSphere),Ff.applyMatrix4(c),Ff.radius+=u,t.ray.intersectsSphere(Ff)===!1)return;__.copy(c).invert(),im.copy(t.ray).applyMatrix4(__);const b=u/((this.scale.x+this.scale.y+this.scale.z)/3),C=b*b,_=this.isLineSegments?2:1,N=s.index,E=s.attributes.position;if(N!==null){const I=Math.max(0,f.start),B=Math.min(N.count,f.start+f.count);for(let D=I,L=B-1;D<L;D+=_){const R=N.getX(D),G=N.getX(D+1),X=kf(this,t,im,C,R,G);X&&i.push(X)}if(this.isLineLoop){const D=N.getX(B-1),L=N.getX(I),R=kf(this,t,im,C,D,L);R&&i.push(R)}}else{const I=Math.max(0,f.start),B=Math.min(E.count,f.start+f.count);for(let D=I,L=B-1;D<L;D+=_){const R=kf(this,t,im,C,D,D+1);R&&i.push(R)}if(this.isLineLoop){const D=kf(this,t,im,C,B-1,I);D&&i.push(D)}}}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const c=i[s[0]];if(c!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=c.length;u<f;u++){const b=c[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=u}}}}}function kf(m,t,i,s,c,u){const f=m.geometry.attributes.position;if(jf.fromBufferAttribute(f,c),Df.fromBufferAttribute(f,u),i.distanceSqToSegment(jf,Df,Gb,T_)>s)return;Gb.applyMatrix4(m.matrixWorld);const C=t.ray.origin.distanceTo(Gb);if(!(C<t.near||C>t.far))return{distance:C,point:T_.clone().applyMatrix4(m.matrixWorld),index:c,face:null,faceIndex:null,object:m}}const w_=new ie,N_=new ie;class Jo extends Hs{constructor(t,i){super(t,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const i=t.attributes.position,s=[];for(let c=0,u=i.count;c<u;c+=2)w_.fromBufferAttribute(i,c),N_.fromBufferAttribute(i,c+1),s[c]=c===0?0:s[c-1],s[c+1]=s[c]+w_.distanceTo(N_);t.setAttribute("lineDistance",new It(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class M_ extends Hs{constructor(t,i){super(t,i),this.isLineLoop=!0,this.type="LineLoop"}}class Wb extends Dr{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new _t(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const S_=new Ut,Vb=new po,Xf=new jr,zf=new ie;class A_ extends Mn{constructor(t=new Jt,i=new Wb){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=i,this.updateMorphTargets()}copy(t,i){return super.copy(t,i),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,i){const s=this.geometry,c=this.matrixWorld,u=t.params.Points.threshold,f=s.drawRange;if(s.boundingSphere===null&&s.computeBoundingSphere(),Xf.copy(s.boundingSphere),Xf.applyMatrix4(c),Xf.radius+=u,t.ray.intersectsSphere(Xf)===!1)return;S_.copy(c).invert(),Vb.copy(t.ray).applyMatrix4(S_);const b=u/((this.scale.x+this.scale.y+this.scale.z)/3),C=b*b,_=s.index,A=s.attributes.position;if(_!==null){const E=Math.max(0,f.start),I=Math.min(_.count,f.start+f.count);for(let B=E,D=I;B<D;B++){const L=_.getX(B);zf.fromBufferAttribute(A,L),E_(zf,L,C,c,t,i,this)}}else{const E=Math.max(0,f.start),I=Math.min(A.count,f.start+f.count);for(let B=E,D=I;B<D;B++)zf.fromBufferAttribute(A,B),E_(zf,B,C,c,t,i,this)}}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const c=i[s[0]];if(c!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let u=0,f=c.length;u<f;u++){const b=c[u].name||String(u);this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=u}}}}}function E_(m,t,i,s,c,u,f){const b=Vb.distanceSqToPoint(m);if(b<i){const C=new ie;Vb.closestPointToPoint(m,C),C.applyMatrix4(s);const _=c.ray.origin.distanceTo(C);if(_<c.near||_>c.far)return;u.push({distance:_,distanceToRay:Math.sqrt(b),point:C,index:t,face:null,object:f})}}class TP extends or{constructor(t,i,s,c,u,f,b,C,_){super(t,i,s,c,u,f,b,C,_),this.isVideoTexture=!0,this.minFilter=f!==void 0?f:ur,this.magFilter=u!==void 0?u:ur,this.generateMipmaps=!1;const N=this;function A(){N.needsUpdate=!0,t.requestVideoFrameCallback(A)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(A)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class wP extends or{constructor(t,i){super({width:t,height:i}),this.isFramebufferTexture=!0,this.magFilter=gr,this.minFilter=gr,this.generateMipmaps=!1,this.needsUpdate=!0}}class Uf extends or{constructor(t,i,s,c,u,f,b,C,_,N,A,E){super(null,f,b,C,_,N,c,u,A,E),this.isCompressedTexture=!0,this.image={width:i,height:s},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class NP extends Uf{constructor(t,i,s,c,u,f){super(t,i,s,u,f),this.isCompressedArrayTexture=!0,this.image.depth=c,this.wrapR=gi}}class MP extends Uf{constructor(t,i,s){super(void 0,t[0].width,t[0].height,i,s,fi),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class SP extends or{constructor(t,i,s,c,u,f,b,C,_){super(t,i,s,c,u,f,b,C,_),this.isCanvasTexture=!0,this.needsUpdate=!0}}class To{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,i){const s=this.getUtoTmapping(t);return this.getPoint(s,i)}getPoints(t=5){const i=[];for(let s=0;s<=t;s++)i.push(this.getPoint(s/t));return i}getSpacedPoints(t=5){const i=[];for(let s=0;s<=t;s++)i.push(this.getPointAt(s/t));return i}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const i=[];let s,c=this.getPoint(0),u=0;i.push(0);for(let f=1;f<=t;f++)s=this.getPoint(f/t),u+=s.distanceTo(c),i.push(u),c=s;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,i){const s=this.getLengths();let c=0;const u=s.length;let f;i?f=i:f=t*s[u-1];let b=0,C=u-1,_;for(;b<=C;)if(c=Math.floor(b+(C-b)/2),_=s[c]-f,_<0)b=c+1;else if(_>0)C=c-1;else{C=c;break}if(c=C,s[c]===f)return c/(u-1);const N=s[c],E=s[c+1]-N,I=(f-N)/E;return(c+I)/(u-1)}getTangent(t,i){let c=t-1e-4,u=t+1e-4;c<0&&(c=0),u>1&&(u=1);const f=this.getPoint(c),b=this.getPoint(u),C=i||(f.isVector2?new He:new ie);return C.copy(b).sub(f).normalize(),C}getTangentAt(t,i){const s=this.getUtoTmapping(t);return this.getTangent(s,i)}computeFrenetFrames(t,i){const s=new ie,c=[],u=[],f=[],b=new ie,C=new Ut;for(let I=0;I<=t;I++){const B=I/t;c[I]=this.getTangentAt(B,new ie)}u[0]=new ie,f[0]=new ie;let _=Number.MAX_VALUE;const N=Math.abs(c[0].x),A=Math.abs(c[0].y),E=Math.abs(c[0].z);N<=_&&(_=N,s.set(1,0,0)),A<=_&&(_=A,s.set(0,1,0)),E<=_&&s.set(0,0,1),b.crossVectors(c[0],s).normalize(),u[0].crossVectors(c[0],b),f[0].crossVectors(c[0],u[0]);for(let I=1;I<=t;I++){if(u[I]=u[I-1].clone(),f[I]=f[I-1].clone(),b.crossVectors(c[I-1],c[I]),b.length()>Number.EPSILON){b.normalize();const B=Math.acos(Hn(c[I-1].dot(c[I]),-1,1));u[I].applyMatrix4(C.makeRotationAxis(b,B))}f[I].crossVectors(c[I],u[I])}if(i===!0){let I=Math.acos(Hn(u[0].dot(u[t]),-1,1));I/=t,c[0].dot(b.crossVectors(u[0],u[t]))>0&&(I=-I);for(let B=1;B<=t;B++)u[B].applyMatrix4(C.makeRotationAxis(c[B],I*B)),f[B].crossVectors(c[B],u[B])}return{tangents:c,normals:u,binormals:f}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class Gf extends To{constructor(t=0,i=0,s=1,c=1,u=0,f=Math.PI*2,b=!1,C=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=i,this.xRadius=s,this.yRadius=c,this.aStartAngle=u,this.aEndAngle=f,this.aClockwise=b,this.aRotation=C}getPoint(t,i=new He){const s=i,c=Math.PI*2;let u=this.aEndAngle-this.aStartAngle;const f=Math.abs(u)<Number.EPSILON;for(;u<0;)u+=c;for(;u>c;)u-=c;u<Number.EPSILON&&(f?u=0:u=c),this.aClockwise===!0&&!f&&(u===c?u=-c:u=u-c);const b=this.aStartAngle+t*u;let C=this.aX+this.xRadius*Math.cos(b),_=this.aY+this.yRadius*Math.sin(b);if(this.aRotation!==0){const N=Math.cos(this.aRotation),A=Math.sin(this.aRotation),E=C-this.aX,I=_-this.aY;C=E*N-I*A+this.aX,_=E*A+I*N+this.aY}return s.set(C,_)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class I_ extends Gf{constructor(t,i,s,c,u,f){super(t,i,s,s,c,u,f),this.isArcCurve=!0,this.type="ArcCurve"}}function Hb(){let m=0,t=0,i=0,s=0;function c(u,f,b,C){m=u,t=b,i=-3*u+3*f-2*b-C,s=2*u-2*f+b+C}return{initCatmullRom:function(u,f,b,C,_){c(f,b,_*(b-u),_*(C-f))},initNonuniformCatmullRom:function(u,f,b,C,_,N,A){let E=(f-u)/_-(b-u)/(_+N)+(b-f)/N,I=(b-f)/N-(C-f)/(N+A)+(C-b)/A;E*=N,I*=N,c(f,b,E,I)},calc:function(u){const f=u*u,b=f*u;return m+t*u+i*f+s*b}}}const Wf=new ie,$b=new Hb,qb=new Hb,Yb=new Hb;class R_ extends To{constructor(t=[],i=!1,s="centripetal",c=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=i,this.curveType=s,this.tension=c}getPoint(t,i=new ie){const s=i,c=this.points,u=c.length,f=(u-(this.closed?0:1))*t;let b=Math.floor(f),C=f-b;this.closed?b+=b>0?0:(Math.floor(Math.abs(b)/u)+1)*u:C===0&&b===u-1&&(b=u-2,C=1);let _,N;this.closed||b>0?_=c[(b-1)%u]:(Wf.subVectors(c[0],c[1]).add(c[0]),_=Wf);const A=c[b%u],E=c[(b+1)%u];if(this.closed||b+2<u?N=c[(b+2)%u]:(Wf.subVectors(c[u-1],c[u-2]).add(c[u-1]),N=Wf),this.curveType==="centripetal"||this.curveType==="chordal"){const I=this.curveType==="chordal"?.5:.25;let B=Math.pow(_.distanceToSquared(A),I),D=Math.pow(A.distanceToSquared(E),I),L=Math.pow(E.distanceToSquared(N),I);D<1e-4&&(D=1),B<1e-4&&(B=D),L<1e-4&&(L=D),$b.initNonuniformCatmullRom(_.x,A.x,E.x,N.x,B,D,L),qb.initNonuniformCatmullRom(_.y,A.y,E.y,N.y,B,D,L),Yb.initNonuniformCatmullRom(_.z,A.z,E.z,N.z,B,D,L)}else this.curveType==="catmullrom"&&($b.initCatmullRom(_.x,A.x,E.x,N.x,this.tension),qb.initCatmullRom(_.y,A.y,E.y,N.y,this.tension),Yb.initCatmullRom(_.z,A.z,E.z,N.z,this.tension));return s.set($b.calc(C),qb.calc(C),Yb.calc(C)),s}copy(t){super.copy(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const c=t.points[i];this.points.push(c.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let i=0,s=this.points.length;i<s;i++){const c=this.points[i];t.points.push(c.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const c=t.points[i];this.points.push(new ie().fromArray(c))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function P_(m,t,i,s,c){const u=(s-t)*.5,f=(c-i)*.5,b=m*m,C=m*b;return(2*i-2*s+u+f)*C+(-3*i+3*s-2*u-f)*b+u*m+i}function AP(m,t){const i=1-m;return i*i*t}function EP(m,t){return 2*(1-m)*m*t}function IP(m,t){return m*m*t}function om(m,t,i,s){return AP(m,t)+EP(m,i)+IP(m,s)}function RP(m,t){const i=1-m;return i*i*i*t}function PP(m,t){const i=1-m;return 3*i*i*m*t}function BP(m,t){return 3*(1-m)*m*m*t}function OP(m,t){return m*m*m*t}function am(m,t,i,s,c){return RP(m,t)+PP(m,i)+BP(m,s)+OP(m,c)}class Kb extends To{constructor(t=new He,i=new He,s=new He,c=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=i,this.v2=s,this.v3=c}getPoint(t,i=new He){const s=i,c=this.v0,u=this.v1,f=this.v2,b=this.v3;return s.set(am(t,c.x,u.x,f.x,b.x),am(t,c.y,u.y,f.y,b.y)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class B_ extends To{constructor(t=new ie,i=new ie,s=new ie,c=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=i,this.v2=s,this.v3=c}getPoint(t,i=new ie){const s=i,c=this.v0,u=this.v1,f=this.v2,b=this.v3;return s.set(am(t,c.x,u.x,f.x,b.x),am(t,c.y,u.y,f.y,b.y),am(t,c.z,u.z,f.z,b.z)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class Zb extends To{constructor(t=new He,i=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=i}getPoint(t,i=new He){const s=i;return t===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(t).add(this.v1)),s}getPointAt(t,i){return this.getPoint(t,i)}getTangent(t,i=new He){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,i){return this.getTangent(t,i)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class O_ extends To{constructor(t=new ie,i=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=i}getPoint(t,i=new ie){const s=i;return t===1?s.copy(this.v2):(s.copy(this.v2).sub(this.v1),s.multiplyScalar(t).add(this.v1)),s}getPointAt(t,i){return this.getPoint(t,i)}getTangent(t,i=new ie){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,i){return this.getTangent(t,i)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Jb extends To{constructor(t=new He,i=new He,s=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=i,this.v2=s}getPoint(t,i=new He){const s=i,c=this.v0,u=this.v1,f=this.v2;return s.set(om(t,c.x,u.x,f.x),om(t,c.y,u.y,f.y)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class Qb extends To{constructor(t=new ie,i=new ie,s=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=i,this.v2=s}getPoint(t,i=new ie){const s=i,c=this.v0,u=this.v1,f=this.v2;return s.set(om(t,c.x,u.x,f.x),om(t,c.y,u.y,f.y),om(t,c.z,u.z,f.z)),s}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ev extends To{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,i=new He){const s=i,c=this.points,u=(c.length-1)*t,f=Math.floor(u),b=u-f,C=c[f===0?f:f-1],_=c[f],N=c[f>c.length-2?c.length-1:f+1],A=c[f>c.length-3?c.length-1:f+2];return s.set(P_(b,C.x,_.x,N.x,A.x),P_(b,C.y,_.y,N.y,A.y)),s}copy(t){super.copy(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const c=t.points[i];this.points.push(c.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let i=0,s=this.points.length;i<s;i++){const c=this.points[i];t.points.push(c.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let i=0,s=t.points.length;i<s;i++){const c=t.points[i];this.points.push(new He().fromArray(c))}return this}}var Vf=Object.freeze({__proto__:null,ArcCurve:I_,CatmullRomCurve3:R_,CubicBezierCurve:Kb,CubicBezierCurve3:B_,EllipseCurve:Gf,LineCurve:Zb,LineCurve3:O_,QuadraticBezierCurve:Jb,QuadraticBezierCurve3:Qb,SplineCurve:ev});class L_ extends To{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),i=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(i)){const s=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Vf[s](i,t))}return this}getPoint(t,i){const s=t*this.getLength(),c=this.getCurveLengths();let u=0;for(;u<c.length;){if(c[u]>=s){const f=c[u]-s,b=this.curves[u],C=b.getLength(),_=C===0?0:1-f/C;return b.getPointAt(_,i)}u++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let i=0;for(let s=0,c=this.curves.length;s<c;s++)i+=this.curves[s].getLength(),t.push(i);return this.cacheLengths=t,t}getSpacedPoints(t=40){const i=[];for(let s=0;s<=t;s++)i.push(this.getPoint(s/t));return this.autoClose&&i.push(i[0]),i}getPoints(t=12){const i=[];let s;for(let c=0,u=this.curves;c<u.length;c++){const f=u[c],b=f.isEllipseCurve?t*2:f.isLineCurve||f.isLineCurve3?1:f.isSplineCurve?t*f.points.length:t,C=f.getPoints(b);for(let _=0;_<C.length;_++){const N=C[_];s&&s.equals(N)||(i.push(N),s=N)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}copy(t){super.copy(t),this.curves=[];for(let i=0,s=t.curves.length;i<s;i++){const c=t.curves[i];this.curves.push(c.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let i=0,s=this.curves.length;i<s;i++){const c=this.curves[i];t.curves.push(c.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let i=0,s=t.curves.length;i<s;i++){const c=t.curves[i];this.curves.push(new Vf[c.type]().fromJSON(c))}return this}}class sm extends L_{constructor(t){super(),this.type="Path",this.currentPoint=new He,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let i=1,s=t.length;i<s;i++)this.lineTo(t[i].x,t[i].y);return this}moveTo(t,i){return this.currentPoint.set(t,i),this}lineTo(t,i){const s=new Zb(this.currentPoint.clone(),new He(t,i));return this.curves.push(s),this.currentPoint.set(t,i),this}quadraticCurveTo(t,i,s,c){const u=new Jb(this.currentPoint.clone(),new He(t,i),new He(s,c));return this.curves.push(u),this.currentPoint.set(s,c),this}bezierCurveTo(t,i,s,c,u,f){const b=new Kb(this.currentPoint.clone(),new He(t,i),new He(s,c),new He(u,f));return this.curves.push(b),this.currentPoint.set(u,f),this}splineThru(t){const i=[this.currentPoint.clone()].concat(t),s=new ev(i);return this.curves.push(s),this.currentPoint.copy(t[t.length-1]),this}arc(t,i,s,c,u,f){const b=this.currentPoint.x,C=this.currentPoint.y;return this.absarc(t+b,i+C,s,c,u,f),this}absarc(t,i,s,c,u,f){return this.absellipse(t,i,s,s,c,u,f),this}ellipse(t,i,s,c,u,f,b,C){const _=this.currentPoint.x,N=this.currentPoint.y;return this.absellipse(t+_,i+N,s,c,u,f,b,C),this}absellipse(t,i,s,c,u,f,b,C){const _=new Gf(t,i,s,c,u,f,b,C);if(this.curves.length>0){const A=_.getPoint(0);A.equals(this.currentPoint)||this.lineTo(A.x,A.y)}this.curves.push(_);const N=_.getPoint(1);return this.currentPoint.copy(N),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class lm extends Jt{constructor(t=[new He(0,-.5),new He(.5,0),new He(0,.5)],i=12,s=0,c=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:i,phiStart:s,phiLength:c},i=Math.floor(i),c=Hn(c,0,Math.PI*2);const u=[],f=[],b=[],C=[],_=[],N=1/i,A=new ie,E=new He,I=new ie,B=new ie,D=new ie;let L=0,R=0;for(let G=0;G<=t.length-1;G++)switch(G){case 0:L=t[G+1].x-t[G].x,R=t[G+1].y-t[G].y,I.x=R*1,I.y=-L,I.z=R*0,D.copy(I),I.normalize(),C.push(I.x,I.y,I.z);break;case t.length-1:C.push(D.x,D.y,D.z);break;default:L=t[G+1].x-t[G].x,R=t[G+1].y-t[G].y,I.x=R*1,I.y=-L,I.z=R*0,B.copy(I),I.x+=D.x,I.y+=D.y,I.z+=D.z,I.normalize(),C.push(I.x,I.y,I.z),D.copy(B)}for(let G=0;G<=i;G++){const X=s+G*N*c,H=Math.sin(X),me=Math.cos(X);for(let te=0;te<=t.length-1;te++){A.x=t[te].x*H,A.y=t[te].y,A.z=t[te].x*me,f.push(A.x,A.y,A.z),E.x=G/i,E.y=te/(t.length-1),b.push(E.x,E.y);const le=C[3*te+0]*H,ye=C[3*te+1],J=C[3*te+0]*me;_.push(le,ye,J)}}for(let G=0;G<i;G++)for(let X=0;X<t.length-1;X++){const H=X+G*t.length,me=H,te=H+t.length,le=H+t.length+1,ye=H+1;u.push(me,te,ye),u.push(le,ye,te)}this.setIndex(u),this.setAttribute("position",new It(f,3)),this.setAttribute("uv",new It(b,2)),this.setAttribute("normal",new It(_,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new lm(t.points,t.segments,t.phiStart,t.phiLength)}}class Hf extends lm{constructor(t=1,i=1,s=4,c=8){const u=new sm;u.absarc(0,-i/2,t,Math.PI*1.5,0),u.absarc(0,i/2,t,0,Math.PI*.5),super(u.getPoints(s),c),this.type="CapsuleGeometry",this.parameters={radius:t,length:i,capSegments:s,radialSegments:c}}static fromJSON(t){return new Hf(t.radius,t.length,t.capSegments,t.radialSegments)}}class $f extends Jt{constructor(t=1,i=32,s=0,c=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:i,thetaStart:s,thetaLength:c},i=Math.max(3,i);const u=[],f=[],b=[],C=[],_=new ie,N=new He;f.push(0,0,0),b.push(0,0,1),C.push(.5,.5);for(let A=0,E=3;A<=i;A++,E+=3){const I=s+A/i*c;_.x=t*Math.cos(I),_.y=t*Math.sin(I),f.push(_.x,_.y,_.z),b.push(0,0,1),N.x=(f[E]/t+1)/2,N.y=(f[E+1]/t+1)/2,C.push(N.x,N.y)}for(let A=1;A<=i;A++)u.push(A,A+1,0);this.setIndex(u),this.setAttribute("position",new It(f,3)),this.setAttribute("normal",new It(b,3)),this.setAttribute("uv",new It(C,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new $f(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class kh extends Jt{constructor(t=1,i=1,s=1,c=32,u=1,f=!1,b=0,C=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:i,height:s,radialSegments:c,heightSegments:u,openEnded:f,thetaStart:b,thetaLength:C};const _=this;c=Math.floor(c),u=Math.floor(u);const N=[],A=[],E=[],I=[];let B=0;const D=[],L=s/2;let R=0;G(),f===!1&&(t>0&&X(!0),i>0&&X(!1)),this.setIndex(N),this.setAttribute("position",new It(A,3)),this.setAttribute("normal",new It(E,3)),this.setAttribute("uv",new It(I,2));function G(){const H=new ie,me=new ie;let te=0;const le=(i-t)/s;for(let ye=0;ye<=u;ye++){const J=[],$=ye/u,we=$*(i-t)+t;for(let Fe=0;Fe<=c;Fe++){const Ce=Fe/c,Oe=Ce*C+b,We=Math.sin(Oe),Ye=Math.cos(Oe);me.x=we*We,me.y=-$*s+L,me.z=we*Ye,A.push(me.x,me.y,me.z),H.set(We,le,Ye).normalize(),E.push(H.x,H.y,H.z),I.push(Ce,1-$),J.push(B++)}D.push(J)}for(let ye=0;ye<c;ye++)for(let J=0;J<u;J++){const $=D[J][ye],we=D[J+1][ye],Fe=D[J+1][ye+1],Ce=D[J][ye+1];N.push($,we,Ce),N.push(we,Fe,Ce),te+=6}_.addGroup(R,te,0),R+=te}function X(H){const me=B,te=new He,le=new ie;let ye=0;const J=H===!0?t:i,$=H===!0?1:-1;for(let Fe=1;Fe<=c;Fe++)A.push(0,L*$,0),E.push(0,$,0),I.push(.5,.5),B++;const we=B;for(let Fe=0;Fe<=c;Fe++){const Oe=Fe/c*C+b,We=Math.cos(Oe),Ye=Math.sin(Oe);le.x=J*Ye,le.y=L*$,le.z=J*We,A.push(le.x,le.y,le.z),E.push(0,$,0),te.x=We*.5+.5,te.y=Ye*.5*$+.5,I.push(te.x,te.y),B++}for(let Fe=0;Fe<c;Fe++){const Ce=me+Fe,Oe=we+Fe;H===!0?N.push(Oe,Oe+1,Ce):N.push(Oe+1,Oe,Ce),ye+=3}_.addGroup(R,ye,H===!0?1:2),R+=ye}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new kh(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class qf extends kh{constructor(t=1,i=1,s=32,c=1,u=!1,f=0,b=Math.PI*2){super(0,t,i,s,c,u,f,b),this.type="ConeGeometry",this.parameters={radius:t,height:i,radialSegments:s,heightSegments:c,openEnded:u,thetaStart:f,thetaLength:b}}static fromJSON(t){return new qf(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class $s extends Jt{constructor(t=[],i=[],s=1,c=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:i,radius:s,detail:c};const u=[],f=[];b(c),_(s),N(),this.setAttribute("position",new It(u,3)),this.setAttribute("normal",new It(u.slice(),3)),this.setAttribute("uv",new It(f,2)),c===0?this.computeVertexNormals():this.normalizeNormals();function b(G){const X=new ie,H=new ie,me=new ie;for(let te=0;te<i.length;te+=3)I(i[te+0],X),I(i[te+1],H),I(i[te+2],me),C(X,H,me,G)}function C(G,X,H,me){const te=me+1,le=[];for(let ye=0;ye<=te;ye++){le[ye]=[];const J=G.clone().lerp(H,ye/te),$=X.clone().lerp(H,ye/te),we=te-ye;for(let Fe=0;Fe<=we;Fe++)Fe===0&&ye===te?le[ye][Fe]=J:le[ye][Fe]=J.clone().lerp($,Fe/we)}for(let ye=0;ye<te;ye++)for(let J=0;J<2*(te-ye)-1;J++){const $=Math.floor(J/2);J%2===0?(E(le[ye][$+1]),E(le[ye+1][$]),E(le[ye][$])):(E(le[ye][$+1]),E(le[ye+1][$+1]),E(le[ye+1][$]))}}function _(G){const X=new ie;for(let H=0;H<u.length;H+=3)X.x=u[H+0],X.y=u[H+1],X.z=u[H+2],X.normalize().multiplyScalar(G),u[H+0]=X.x,u[H+1]=X.y,u[H+2]=X.z}function N(){const G=new ie;for(let X=0;X<u.length;X+=3){G.x=u[X+0],G.y=u[X+1],G.z=u[X+2];const H=L(G)/2/Math.PI+.5,me=R(G)/Math.PI+.5;f.push(H,1-me)}B(),A()}function A(){for(let G=0;G<f.length;G+=6){const X=f[G+0],H=f[G+2],me=f[G+4],te=Math.max(X,H,me),le=Math.min(X,H,me);te>.9&&le<.1&&(X<.2&&(f[G+0]+=1),H<.2&&(f[G+2]+=1),me<.2&&(f[G+4]+=1))}}function E(G){u.push(G.x,G.y,G.z)}function I(G,X){const H=G*3;X.x=t[H+0],X.y=t[H+1],X.z=t[H+2]}function B(){const G=new ie,X=new ie,H=new ie,me=new ie,te=new He,le=new He,ye=new He;for(let J=0,$=0;J<u.length;J+=9,$+=6){G.set(u[J+0],u[J+1],u[J+2]),X.set(u[J+3],u[J+4],u[J+5]),H.set(u[J+6],u[J+7],u[J+8]),te.set(f[$+0],f[$+1]),le.set(f[$+2],f[$+3]),ye.set(f[$+4],f[$+5]),me.copy(G).add(X).add(H).divideScalar(3);const we=L(me);D(te,$+0,G,we),D(le,$+2,X,we),D(ye,$+4,H,we)}}function D(G,X,H,me){me<0&&G.x===1&&(f[X]=G.x-1),H.x===0&&H.z===0&&(f[X]=me/2/Math.PI+.5)}function L(G){return Math.atan2(G.z,-G.x)}function R(G){return Math.atan2(-G.y,Math.sqrt(G.x*G.x+G.z*G.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new $s(t.vertices,t.indices,t.radius,t.details)}}class Yf extends $s{constructor(t=1,i=0){const s=(1+Math.sqrt(5))/2,c=1/s,u=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-c,-s,0,-c,s,0,c,-s,0,c,s,-c,-s,0,-c,s,0,c,-s,0,c,s,0,-s,0,-c,s,0,-c,-s,0,c,s,0,c],f=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(u,f,t,i),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new Yf(t.radius,t.detail)}}const Kf=new ie,Zf=new ie,tv=new ie,Jf=new Wr;class j_ extends Jt{constructor(t=null,i=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:i},t!==null){const c=Math.pow(10,4),u=Math.cos(Ma*i),f=t.getIndex(),b=t.getAttribute("position"),C=f?f.count:b.count,_=[0,0,0],N=["a","b","c"],A=new Array(3),E={},I=[];for(let B=0;B<C;B+=3){f?(_[0]=f.getX(B),_[1]=f.getX(B+1),_[2]=f.getX(B+2)):(_[0]=B,_[1]=B+1,_[2]=B+2);const{a:D,b:L,c:R}=Jf;if(D.fromBufferAttribute(b,_[0]),L.fromBufferAttribute(b,_[1]),R.fromBufferAttribute(b,_[2]),Jf.getNormal(tv),A[0]=`${Math.round(D.x*c)},${Math.round(D.y*c)},${Math.round(D.z*c)}`,A[1]=`${Math.round(L.x*c)},${Math.round(L.y*c)},${Math.round(L.z*c)}`,A[2]=`${Math.round(R.x*c)},${Math.round(R.y*c)},${Math.round(R.z*c)}`,!(A[0]===A[1]||A[1]===A[2]||A[2]===A[0]))for(let G=0;G<3;G++){const X=(G+1)%3,H=A[G],me=A[X],te=Jf[N[G]],le=Jf[N[X]],ye=`${H}_${me}`,J=`${me}_${H}`;J in E&&E[J]?(tv.dot(E[J].normal)<=u&&(I.push(te.x,te.y,te.z),I.push(le.x,le.y,le.z)),E[J]=null):ye in E||(E[ye]={index0:_[G],index1:_[X],normal:tv.clone()})}}for(const B in E)if(E[B]){const{index0:D,index1:L}=E[B];Kf.fromBufferAttribute(b,D),Zf.fromBufferAttribute(b,L),I.push(Kf.x,Kf.y,Kf.z),I.push(Zf.x,Zf.y,Zf.z)}this.setAttribute("position",new It(I,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class uc extends sm{constructor(t){super(t),this.uuid=ai(),this.type="Shape",this.holes=[]}getPointsHoles(t){const i=[];for(let s=0,c=this.holes.length;s<c;s++)i[s]=this.holes[s].getPoints(t);return i}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let i=0,s=t.holes.length;i<s;i++){const c=t.holes[i];this.holes.push(c.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let i=0,s=this.holes.length;i<s;i++){const c=this.holes[i];t.holes.push(c.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let i=0,s=t.holes.length;i<s;i++){const c=t.holes[i];this.holes.push(new sm().fromJSON(c))}return this}}const LP={triangulate:function(m,t,i=2){const s=t&&t.length,c=s?t[0]*i:m.length;let u=D_(m,0,c,i,!0);const f=[];if(!u||u.next===u.prev)return f;let b,C,_,N,A,E,I;if(s&&(u=XP(m,t,u,i)),m.length>80*i){b=_=m[0],C=N=m[1];for(let B=i;B<c;B+=i)A=m[B],E=m[B+1],A<b&&(b=A),E<C&&(C=E),A>_&&(_=A),E>N&&(N=E);I=Math.max(_-b,N-C),I=I!==0?32767/I:0}return cm(u,f,i,b,C,I,0),f}};function D_(m,t,i,s,c){let u,f;if(c===ZP(m,t,i,s)>0)for(u=t;u<i;u+=s)f=X_(u,m[u],m[u+1],f);else for(u=i-s;u>=t;u-=s)f=X_(u,m[u],m[u+1],f);return f&&Qf(f,f.next)&&(um(f),f=f.next),f}function dc(m,t){if(!m)return m;t||(t=m);let i=m,s;do if(s=!1,!i.steiner&&(Qf(i,i.next)||cr(i.prev,i,i.next)===0)){if(um(i),i=t=i.prev,i===i.next)break;s=!0}else i=i.next;while(s||i!==t);return t}function cm(m,t,i,s,c,u,f){if(!m)return;!f&&u&&VP(m,s,c,u);let b=m,C,_;for(;m.prev!==m.next;){if(C=m.prev,_=m.next,u?DP(m,s,c,u):jP(m)){t.push(C.i/i|0),t.push(m.i/i|0),t.push(_.i/i|0),um(m),m=_.next,b=_.next;continue}if(m=_,m===b){f?f===1?(m=FP(dc(m),t,i),cm(m,t,i,s,c,u,2)):f===2&&kP(m,t,i,s,c,u):cm(dc(m),t,i,s,c,u,1);break}}}function jP(m){const t=m.prev,i=m,s=m.next;if(cr(t,i,s)>=0)return!1;const c=t.x,u=i.x,f=s.x,b=t.y,C=i.y,_=s.y,N=c<u?c<f?c:f:u<f?u:f,A=b<C?b<_?b:_:C<_?C:_,E=c>u?c>f?c:f:u>f?u:f,I=b>C?b>_?b:_:C>_?C:_;let B=s.next;for(;B!==t;){if(B.x>=N&&B.x<=E&&B.y>=A&&B.y<=I&&Xh(c,b,u,C,f,_,B.x,B.y)&&cr(B.prev,B,B.next)>=0)return!1;B=B.next}return!0}function DP(m,t,i,s){const c=m.prev,u=m,f=m.next;if(cr(c,u,f)>=0)return!1;const b=c.x,C=u.x,_=f.x,N=c.y,A=u.y,E=f.y,I=b<C?b<_?b:_:C<_?C:_,B=N<A?N<E?N:E:A<E?A:E,D=b>C?b>_?b:_:C>_?C:_,L=N>A?N>E?N:E:A>E?A:E,R=nv(I,B,t,i,s),G=nv(D,L,t,i,s);let X=m.prevZ,H=m.nextZ;for(;X&&X.z>=R&&H&&H.z<=G;){if(X.x>=I&&X.x<=D&&X.y>=B&&X.y<=L&&X!==c&&X!==f&&Xh(b,N,C,A,_,E,X.x,X.y)&&cr(X.prev,X,X.next)>=0||(X=X.prevZ,H.x>=I&&H.x<=D&&H.y>=B&&H.y<=L&&H!==c&&H!==f&&Xh(b,N,C,A,_,E,H.x,H.y)&&cr(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;X&&X.z>=R;){if(X.x>=I&&X.x<=D&&X.y>=B&&X.y<=L&&X!==c&&X!==f&&Xh(b,N,C,A,_,E,X.x,X.y)&&cr(X.prev,X,X.next)>=0)return!1;X=X.prevZ}for(;H&&H.z<=G;){if(H.x>=I&&H.x<=D&&H.y>=B&&H.y<=L&&H!==c&&H!==f&&Xh(b,N,C,A,_,E,H.x,H.y)&&cr(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function FP(m,t,i){let s=m;do{const c=s.prev,u=s.next.next;!Qf(c,u)&&F_(c,s,s.next,u)&&hm(c,u)&&hm(u,c)&&(t.push(c.i/i|0),t.push(s.i/i|0),t.push(u.i/i|0),um(s),um(s.next),s=m=u),s=s.next}while(s!==m);return dc(s)}function kP(m,t,i,s,c,u){let f=m;do{let b=f.next.next;for(;b!==f.prev;){if(f.i!==b.i&&qP(f,b)){let C=k_(f,b);f=dc(f,f.next),C=dc(C,C.next),cm(f,t,i,s,c,u,0),cm(C,t,i,s,c,u,0);return}b=b.next}f=f.next}while(f!==m)}function XP(m,t,i,s){const c=[];let u,f,b,C,_;for(u=0,f=t.length;u<f;u++)b=t[u]*s,C=u<f-1?t[u+1]*s:m.length,_=D_(m,b,C,s,!1),_===_.next&&(_.steiner=!0),c.push($P(_));for(c.sort(zP),u=0;u<c.length;u++)i=UP(c[u],i);return i}function zP(m,t){return m.x-t.x}function UP(m,t){const i=GP(m,t);if(!i)return t;const s=k_(i,m);return dc(s,s.next),dc(i,i.next)}function GP(m,t){let i=t,s=-1/0,c;const u=m.x,f=m.y;do{if(f<=i.y&&f>=i.next.y&&i.next.y!==i.y){const E=i.x+(f-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(E<=u&&E>s&&(s=E,c=i.x<i.next.x?i:i.next,E===u))return c}i=i.next}while(i!==t);if(!c)return null;const b=c,C=c.x,_=c.y;let N=1/0,A;i=c;do u>=i.x&&i.x>=C&&u!==i.x&&Xh(f<_?u:s,f,C,_,f<_?s:u,f,i.x,i.y)&&(A=Math.abs(f-i.y)/(u-i.x),hm(i,m)&&(A<N||A===N&&(i.x>c.x||i.x===c.x&&WP(c,i)))&&(c=i,N=A)),i=i.next;while(i!==b);return c}function WP(m,t){return cr(m.prev,m,t.prev)<0&&cr(t.next,m,m.next)<0}function VP(m,t,i,s){let c=m;do c.z===0&&(c.z=nv(c.x,c.y,t,i,s)),c.prevZ=c.prev,c.nextZ=c.next,c=c.next;while(c!==m);c.prevZ.nextZ=null,c.prevZ=null,HP(c)}function HP(m){let t,i,s,c,u,f,b,C,_=1;do{for(i=m,m=null,u=null,f=0;i;){for(f++,s=i,b=0,t=0;t<_&&(b++,s=s.nextZ,!!s);t++);for(C=_;b>0||C>0&&s;)b!==0&&(C===0||!s||i.z<=s.z)?(c=i,i=i.nextZ,b--):(c=s,s=s.nextZ,C--),u?u.nextZ=c:m=c,c.prevZ=u,u=c;i=s}u.nextZ=null,_*=2}while(f>1);return m}function nv(m,t,i,s,c){return m=(m-i)*c|0,t=(t-s)*c|0,m=(m|m<<8)&16711935,m=(m|m<<4)&252645135,m=(m|m<<2)&858993459,m=(m|m<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,m|t<<1}function $P(m){let t=m,i=m;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==m);return i}function Xh(m,t,i,s,c,u,f,b){return(c-f)*(t-b)>=(m-f)*(u-b)&&(m-f)*(s-b)>=(i-f)*(t-b)&&(i-f)*(u-b)>=(c-f)*(s-b)}function qP(m,t){return m.next.i!==t.i&&m.prev.i!==t.i&&!YP(m,t)&&(hm(m,t)&&hm(t,m)&&KP(m,t)&&(cr(m.prev,m,t.prev)||cr(m,t.prev,t))||Qf(m,t)&&cr(m.prev,m,m.next)>0&&cr(t.prev,t,t.next)>0)}function cr(m,t,i){return(t.y-m.y)*(i.x-t.x)-(t.x-m.x)*(i.y-t.y)}function Qf(m,t){return m.x===t.x&&m.y===t.y}function F_(m,t,i,s){const c=t1(cr(m,t,i)),u=t1(cr(m,t,s)),f=t1(cr(i,s,m)),b=t1(cr(i,s,t));return!!(c!==u&&f!==b||c===0&&e1(m,i,t)||u===0&&e1(m,s,t)||f===0&&e1(i,m,s)||b===0&&e1(i,t,s))}function e1(m,t,i){return t.x<=Math.max(m.x,i.x)&&t.x>=Math.min(m.x,i.x)&&t.y<=Math.max(m.y,i.y)&&t.y>=Math.min(m.y,i.y)}function t1(m){return m>0?1:m<0?-1:0}function YP(m,t){let i=m;do{if(i.i!==m.i&&i.next.i!==m.i&&i.i!==t.i&&i.next.i!==t.i&&F_(i,i.next,m,t))return!0;i=i.next}while(i!==m);return!1}function hm(m,t){return cr(m.prev,m,m.next)<0?cr(m,t,m.next)>=0&&cr(m,m.prev,t)>=0:cr(m,t,m.prev)<0||cr(m,m.next,t)<0}function KP(m,t){let i=m,s=!1;const c=(m.x+t.x)/2,u=(m.y+t.y)/2;do i.y>u!=i.next.y>u&&i.next.y!==i.y&&c<(i.next.x-i.x)*(u-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next;while(i!==m);return s}function k_(m,t){const i=new rv(m.i,m.x,m.y),s=new rv(t.i,t.x,t.y),c=m.next,u=t.prev;return m.next=t,t.prev=m,i.next=c,c.prev=i,s.next=i,i.prev=s,u.next=s,s.prev=u,s}function X_(m,t,i,s){const c=new rv(m,t,i);return s?(c.next=s.next,c.prev=s,s.next.prev=c,s.next=c):(c.prev=c,c.next=c),c}function um(m){m.next.prev=m.prev,m.prev.next=m.next,m.prevZ&&(m.prevZ.nextZ=m.nextZ),m.nextZ&&(m.nextZ.prevZ=m.prevZ)}function rv(m,t,i){this.i=m,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ZP(m,t,i,s){let c=0;for(let u=t,f=i-s;u<i;u+=s)c+=(m[f]-m[u])*(m[u+1]+m[f+1]),f=u;return c}class Qo{static area(t){const i=t.length;let s=0;for(let c=i-1,u=0;u<i;c=u++)s+=t[c].x*t[u].y-t[u].x*t[c].y;return s*.5}static isClockWise(t){return Qo.area(t)<0}static triangulateShape(t,i){const s=[],c=[],u=[];z_(t),U_(s,t);let f=t.length;i.forEach(z_);for(let C=0;C<i.length;C++)c.push(f),f+=i[C].length,U_(s,i[C]);const b=LP.triangulate(s,c);for(let C=0;C<b.length;C+=3)u.push(b.slice(C,C+3));return u}}function z_(m){const t=m.length;t>2&&m[t-1].equals(m[0])&&m.pop()}function U_(m,t){for(let i=0;i<t.length;i++)m.push(t[i].x),m.push(t[i].y)}class n1 extends Jt{constructor(t=new uc([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),i={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:i},t=Array.isArray(t)?t:[t];const s=this,c=[],u=[];for(let b=0,C=t.length;b<C;b++){const _=t[b];f(_)}this.setAttribute("position",new It(c,3)),this.setAttribute("uv",new It(u,2)),this.computeVertexNormals();function f(b){const C=[],_=i.curveSegments!==void 0?i.curveSegments:12,N=i.steps!==void 0?i.steps:1,A=i.depth!==void 0?i.depth:1;let E=i.bevelEnabled!==void 0?i.bevelEnabled:!0,I=i.bevelThickness!==void 0?i.bevelThickness:.2,B=i.bevelSize!==void 0?i.bevelSize:I-.1,D=i.bevelOffset!==void 0?i.bevelOffset:0,L=i.bevelSegments!==void 0?i.bevelSegments:3;const R=i.extrudePath,G=i.UVGenerator!==void 0?i.UVGenerator:JP;let X,H=!1,me,te,le,ye;R&&(X=R.getSpacedPoints(N),H=!0,E=!1,me=R.computeFrenetFrames(N,!1),te=new ie,le=new ie,ye=new ie),E||(L=0,I=0,B=0,D=0);const J=b.extractPoints(_);let $=J.shape;const we=J.holes;if(!Qo.isClockWise($)){$=$.reverse();for(let Ge=0,rt=we.length;Ge<rt;Ge++){const qe=we[Ge];Qo.isClockWise(qe)&&(we[Ge]=qe.reverse())}}const Ce=Qo.triangulateShape($,we),Oe=$;for(let Ge=0,rt=we.length;Ge<rt;Ge++){const qe=we[Ge];$=$.concat(qe)}function We(Ge,rt,qe){return rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ge.clone().addScaledVector(rt,qe)}const Ye=$.length,gt=Ce.length;function Xe(Ge,rt,qe){let dt,nt,Et;const Wt=Ge.x-rt.x,ce=Ge.y-rt.y,K=qe.x-Ge.x,Ee=qe.y-Ge.y,$e=Wt*Wt+ce*ce,Qe=Wt*Ee-ce*K;if(Math.abs(Qe)>Number.EPSILON){const Ze=Math.sqrt($e),Xt=Math.sqrt(K*K+Ee*Ee),yt=rt.x-ce/Ze,vt=rt.y+Wt/Ze,an=qe.x-Ee/Xt,ht=qe.y+K/Xt,kt=((an-yt)*Ee-(ht-vt)*K)/(Wt*Ee-ce*K);dt=yt+Wt*kt-Ge.x,nt=vt+ce*kt-Ge.y;const Cn=dt*dt+nt*nt;if(Cn<=2)return new He(dt,nt);Et=Math.sqrt(Cn/2)}else{let Ze=!1;Wt>Number.EPSILON?K>Number.EPSILON&&(Ze=!0):Wt<-Number.EPSILON?K<-Number.EPSILON&&(Ze=!0):Math.sign(ce)===Math.sign(Ee)&&(Ze=!0),Ze?(dt=-ce,nt=Wt,Et=Math.sqrt($e)):(dt=Wt,nt=ce,Et=Math.sqrt($e/2))}return new He(dt/Et,nt/Et)}const at=[];for(let Ge=0,rt=Oe.length,qe=rt-1,dt=Ge+1;Ge<rt;Ge++,qe++,dt++)qe===rt&&(qe=0),dt===rt&&(dt=0),at[Ge]=Xe(Oe[Ge],Oe[qe],Oe[dt]);const ot=[];let Rt,cn=at.concat();for(let Ge=0,rt=we.length;Ge<rt;Ge++){const qe=we[Ge];Rt=[];for(let dt=0,nt=qe.length,Et=nt-1,Wt=dt+1;dt<nt;dt++,Et++,Wt++)Et===nt&&(Et=0),Wt===nt&&(Wt=0),Rt[dt]=Xe(qe[dt],qe[Et],qe[Wt]);ot.push(Rt),cn=cn.concat(Rt)}for(let Ge=0;Ge<L;Ge++){const rt=Ge/L,qe=I*Math.cos(rt*Math.PI/2),dt=B*Math.sin(rt*Math.PI/2)+D;for(let nt=0,Et=Oe.length;nt<Et;nt++){const Wt=We(Oe[nt],at[nt],dt);ct(Wt.x,Wt.y,-qe)}for(let nt=0,Et=we.length;nt<Et;nt++){const Wt=we[nt];Rt=ot[nt];for(let ce=0,K=Wt.length;ce<K;ce++){const Ee=We(Wt[ce],Rt[ce],dt);ct(Ee.x,Ee.y,-qe)}}}const Un=B+D;for(let Ge=0;Ge<Ye;Ge++){const rt=E?We($[Ge],cn[Ge],Un):$[Ge];H?(le.copy(me.normals[0]).multiplyScalar(rt.x),te.copy(me.binormals[0]).multiplyScalar(rt.y),ye.copy(X[0]).add(le).add(te),ct(ye.x,ye.y,ye.z)):ct(rt.x,rt.y,0)}for(let Ge=1;Ge<=N;Ge++)for(let rt=0;rt<Ye;rt++){const qe=E?We($[rt],cn[rt],Un):$[rt];H?(le.copy(me.normals[Ge]).multiplyScalar(qe.x),te.copy(me.binormals[Ge]).multiplyScalar(qe.y),ye.copy(X[Ge]).add(le).add(te),ct(ye.x,ye.y,ye.z)):ct(qe.x,qe.y,A/N*Ge)}for(let Ge=L-1;Ge>=0;Ge--){const rt=Ge/L,qe=I*Math.cos(rt*Math.PI/2),dt=B*Math.sin(rt*Math.PI/2)+D;for(let nt=0,Et=Oe.length;nt<Et;nt++){const Wt=We(Oe[nt],at[nt],dt);ct(Wt.x,Wt.y,A+qe)}for(let nt=0,Et=we.length;nt<Et;nt++){const Wt=we[nt];Rt=ot[nt];for(let ce=0,K=Wt.length;ce<K;ce++){const Ee=We(Wt[ce],Rt[ce],dt);H?ct(Ee.x,Ee.y+X[N-1].y,X[N-1].x+qe):ct(Ee.x,Ee.y,A+qe)}}}Ue(),lt();function Ue(){const Ge=c.length/3;if(E){let rt=0,qe=Ye*rt;for(let dt=0;dt<gt;dt++){const nt=Ce[dt];hn(nt[2]+qe,nt[1]+qe,nt[0]+qe)}rt=N+L*2,qe=Ye*rt;for(let dt=0;dt<gt;dt++){const nt=Ce[dt];hn(nt[0]+qe,nt[1]+qe,nt[2]+qe)}}else{for(let rt=0;rt<gt;rt++){const qe=Ce[rt];hn(qe[2],qe[1],qe[0])}for(let rt=0;rt<gt;rt++){const qe=Ce[rt];hn(qe[0]+Ye*N,qe[1]+Ye*N,qe[2]+Ye*N)}}s.addGroup(Ge,c.length/3-Ge,0)}function lt(){const Ge=c.length/3;let rt=0;Ot(Oe,rt),rt+=Oe.length;for(let qe=0,dt=we.length;qe<dt;qe++){const nt=we[qe];Ot(nt,rt),rt+=nt.length}s.addGroup(Ge,c.length/3-Ge,1)}function Ot(Ge,rt){let qe=Ge.length;for(;--qe>=0;){const dt=qe;let nt=qe-1;nt<0&&(nt=Ge.length-1);for(let Et=0,Wt=N+L*2;Et<Wt;Et++){const ce=Ye*Et,K=Ye*(Et+1),Ee=rt+dt+ce,$e=rt+nt+ce,Qe=rt+nt+K,Ze=rt+dt+K;bn(Ee,$e,Qe,Ze)}}}function ct(Ge,rt,qe){C.push(Ge),C.push(rt),C.push(qe)}function hn(Ge,rt,qe){Se(Ge),Se(rt),Se(qe);const dt=c.length/3,nt=G.generateTopUV(s,c,dt-3,dt-2,dt-1);_n(nt[0]),_n(nt[1]),_n(nt[2])}function bn(Ge,rt,qe,dt){Se(Ge),Se(rt),Se(dt),Se(rt),Se(qe),Se(dt);const nt=c.length/3,Et=G.generateSideWallUV(s,c,nt-6,nt-3,nt-2,nt-1);_n(Et[0]),_n(Et[1]),_n(Et[3]),_n(Et[1]),_n(Et[2]),_n(Et[3])}function Se(Ge){c.push(C[Ge*3+0]),c.push(C[Ge*3+1]),c.push(C[Ge*3+2])}function _n(Ge){u.push(Ge.x),u.push(Ge.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),i=this.parameters.shapes,s=this.parameters.options;return QP(i,s,t)}static fromJSON(t,i){const s=[];for(let u=0,f=t.shapes.length;u<f;u++){const b=i[t.shapes[u]];s.push(b)}const c=t.options.extrudePath;return c!==void 0&&(t.options.extrudePath=new Vf[c.type]().fromJSON(c)),new n1(s,t.options)}}const JP={generateTopUV:function(m,t,i,s,c){const u=t[i*3],f=t[i*3+1],b=t[s*3],C=t[s*3+1],_=t[c*3],N=t[c*3+1];return[new He(u,f),new He(b,C),new He(_,N)]},generateSideWallUV:function(m,t,i,s,c,u){const f=t[i*3],b=t[i*3+1],C=t[i*3+2],_=t[s*3],N=t[s*3+1],A=t[s*3+2],E=t[c*3],I=t[c*3+1],B=t[c*3+2],D=t[u*3],L=t[u*3+1],R=t[u*3+2];return Math.abs(b-N)<Math.abs(f-_)?[new He(f,1-C),new He(_,1-A),new He(E,1-B),new He(D,1-R)]:[new He(b,1-C),new He(N,1-A),new He(I,1-B),new He(L,1-R)]}};function QP(m,t,i){if(i.shapes=[],Array.isArray(m))for(let s=0,c=m.length;s<c;s++){const u=m[s];i.shapes.push(u.uuid)}else i.shapes.push(m.uuid);return i.options=Object.assign({},t),t.extrudePath!==void 0&&(i.options.extrudePath=t.extrudePath.toJSON()),i}class r1 extends $s{constructor(t=1,i=0){const s=(1+Math.sqrt(5))/2,c=[-1,s,0,1,s,0,-1,-s,0,1,-s,0,0,-1,s,0,1,s,0,-1,-s,0,1,-s,s,0,-1,s,0,1,-s,0,-1,-s,0,1],u=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(c,u,t,i),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new r1(t.radius,t.detail)}}class dm extends $s{constructor(t=1,i=0){const s=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],c=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(s,c,t,i),this.type="OctahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new dm(t.radius,t.detail)}}class i1 extends Jt{constructor(t=.5,i=1,s=32,c=1,u=0,f=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:i,thetaSegments:s,phiSegments:c,thetaStart:u,thetaLength:f},s=Math.max(3,s),c=Math.max(1,c);const b=[],C=[],_=[],N=[];let A=t;const E=(i-t)/c,I=new ie,B=new He;for(let D=0;D<=c;D++){for(let L=0;L<=s;L++){const R=u+L/s*f;I.x=A*Math.cos(R),I.y=A*Math.sin(R),C.push(I.x,I.y,I.z),_.push(0,0,1),B.x=(I.x/i+1)/2,B.y=(I.y/i+1)/2,N.push(B.x,B.y)}A+=E}for(let D=0;D<c;D++){const L=D*(s+1);for(let R=0;R<s;R++){const G=R+L,X=G,H=G+s+1,me=G+s+2,te=G+1;b.push(X,H,te),b.push(H,me,te)}}this.setIndex(b),this.setAttribute("position",new It(C,3)),this.setAttribute("normal",new It(_,3)),this.setAttribute("uv",new It(N,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new i1(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class o1 extends Jt{constructor(t=new uc([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),i=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:i};const s=[],c=[],u=[],f=[];let b=0,C=0;if(Array.isArray(t)===!1)_(t);else for(let N=0;N<t.length;N++)_(t[N]),this.addGroup(b,C,N),b+=C,C=0;this.setIndex(s),this.setAttribute("position",new It(c,3)),this.setAttribute("normal",new It(u,3)),this.setAttribute("uv",new It(f,2));function _(N){const A=c.length/3,E=N.extractPoints(i);let I=E.shape;const B=E.holes;Qo.isClockWise(I)===!1&&(I=I.reverse());for(let L=0,R=B.length;L<R;L++){const G=B[L];Qo.isClockWise(G)===!0&&(B[L]=G.reverse())}const D=Qo.triangulateShape(I,B);for(let L=0,R=B.length;L<R;L++){const G=B[L];I=I.concat(G)}for(let L=0,R=I.length;L<R;L++){const G=I[L];c.push(G.x,G.y,0),u.push(0,0,1),f.push(G.x,G.y)}for(let L=0,R=D.length;L<R;L++){const G=D[L],X=G[0]+A,H=G[1]+A,me=G[2]+A;s.push(X,H,me),C+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),i=this.parameters.shapes;return e6(i,t)}static fromJSON(t,i){const s=[];for(let c=0,u=t.shapes.length;c<u;c++){const f=i[t.shapes[c]];s.push(f)}return new o1(s,t.curveSegments)}}function e6(m,t){if(t.shapes=[],Array.isArray(m))for(let i=0,s=m.length;i<s;i++){const c=m[i];t.shapes.push(c.uuid)}else t.shapes.push(m.uuid);return t}class mm extends Jt{constructor(t=1,i=32,s=16,c=0,u=Math.PI*2,f=0,b=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:i,heightSegments:s,phiStart:c,phiLength:u,thetaStart:f,thetaLength:b},i=Math.max(3,Math.floor(i)),s=Math.max(2,Math.floor(s));const C=Math.min(f+b,Math.PI);let _=0;const N=[],A=new ie,E=new ie,I=[],B=[],D=[],L=[];for(let R=0;R<=s;R++){const G=[],X=R/s;let H=0;R===0&&f===0?H=.5/i:R===s&&C===Math.PI&&(H=-.5/i);for(let me=0;me<=i;me++){const te=me/i;A.x=-t*Math.cos(c+te*u)*Math.sin(f+X*b),A.y=t*Math.cos(f+X*b),A.z=t*Math.sin(c+te*u)*Math.sin(f+X*b),B.push(A.x,A.y,A.z),E.copy(A).normalize(),D.push(E.x,E.y,E.z),L.push(te+H,1-X),G.push(_++)}N.push(G)}for(let R=0;R<s;R++)for(let G=0;G<i;G++){const X=N[R][G+1],H=N[R][G],me=N[R+1][G],te=N[R+1][G+1];(R!==0||f>0)&&I.push(X,H,te),(R!==s-1||C<Math.PI)&&I.push(H,me,te)}this.setIndex(I),this.setAttribute("position",new It(B,3)),this.setAttribute("normal",new It(D,3)),this.setAttribute("uv",new It(L,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new mm(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class a1 extends $s{constructor(t=1,i=0){const s=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],c=[2,1,0,0,3,2,1,3,0,2,3,1];super(s,c,t,i),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:i}}static fromJSON(t){return new a1(t.radius,t.detail)}}class s1 extends Jt{constructor(t=1,i=.4,s=12,c=48,u=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:i,radialSegments:s,tubularSegments:c,arc:u},s=Math.floor(s),c=Math.floor(c);const f=[],b=[],C=[],_=[],N=new ie,A=new ie,E=new ie;for(let I=0;I<=s;I++)for(let B=0;B<=c;B++){const D=B/c*u,L=I/s*Math.PI*2;A.x=(t+i*Math.cos(L))*Math.cos(D),A.y=(t+i*Math.cos(L))*Math.sin(D),A.z=i*Math.sin(L),b.push(A.x,A.y,A.z),N.x=t*Math.cos(D),N.y=t*Math.sin(D),E.subVectors(A,N).normalize(),C.push(E.x,E.y,E.z),_.push(B/c),_.push(I/s)}for(let I=1;I<=s;I++)for(let B=1;B<=c;B++){const D=(c+1)*I+B-1,L=(c+1)*(I-1)+B-1,R=(c+1)*(I-1)+B,G=(c+1)*I+B;f.push(D,L,G),f.push(L,R,G)}this.setIndex(f),this.setAttribute("position",new It(b,3)),this.setAttribute("normal",new It(C,3)),this.setAttribute("uv",new It(_,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new s1(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class l1 extends Jt{constructor(t=1,i=.4,s=64,c=8,u=2,f=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:i,tubularSegments:s,radialSegments:c,p:u,q:f},s=Math.floor(s),c=Math.floor(c);const b=[],C=[],_=[],N=[],A=new ie,E=new ie,I=new ie,B=new ie,D=new ie,L=new ie,R=new ie;for(let X=0;X<=s;++X){const H=X/s*u*Math.PI*2;G(H,u,f,t,I),G(H+.01,u,f,t,B),L.subVectors(B,I),R.addVectors(B,I),D.crossVectors(L,R),R.crossVectors(D,L),D.normalize(),R.normalize();for(let me=0;me<=c;++me){const te=me/c*Math.PI*2,le=-i*Math.cos(te),ye=i*Math.sin(te);A.x=I.x+(le*R.x+ye*D.x),A.y=I.y+(le*R.y+ye*D.y),A.z=I.z+(le*R.z+ye*D.z),C.push(A.x,A.y,A.z),E.subVectors(A,I).normalize(),_.push(E.x,E.y,E.z),N.push(X/s),N.push(me/c)}}for(let X=1;X<=s;X++)for(let H=1;H<=c;H++){const me=(c+1)*(X-1)+(H-1),te=(c+1)*X+(H-1),le=(c+1)*X+H,ye=(c+1)*(X-1)+H;b.push(me,te,ye),b.push(te,le,ye)}this.setIndex(b),this.setAttribute("position",new It(C,3)),this.setAttribute("normal",new It(_,3)),this.setAttribute("uv",new It(N,2));function G(X,H,me,te,le){const ye=Math.cos(X),J=Math.sin(X),$=me/H*X,we=Math.cos($);le.x=te*(2+we)*.5*ye,le.y=te*(2+we)*J*.5,le.z=te*Math.sin($)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new l1(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class c1 extends Jt{constructor(t=new Qb(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),i=64,s=1,c=8,u=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:i,radius:s,radialSegments:c,closed:u};const f=t.computeFrenetFrames(i,u);this.tangents=f.tangents,this.normals=f.normals,this.binormals=f.binormals;const b=new ie,C=new ie,_=new He;let N=new ie;const A=[],E=[],I=[],B=[];D(),this.setIndex(B),this.setAttribute("position",new It(A,3)),this.setAttribute("normal",new It(E,3)),this.setAttribute("uv",new It(I,2));function D(){for(let X=0;X<i;X++)L(X);L(u===!1?i:0),G(),R()}function L(X){N=t.getPointAt(X/i,N);const H=f.normals[X],me=f.binormals[X];for(let te=0;te<=c;te++){const le=te/c*Math.PI*2,ye=Math.sin(le),J=-Math.cos(le);C.x=J*H.x+ye*me.x,C.y=J*H.y+ye*me.y,C.z=J*H.z+ye*me.z,C.normalize(),E.push(C.x,C.y,C.z),b.x=N.x+s*C.x,b.y=N.y+s*C.y,b.z=N.z+s*C.z,A.push(b.x,b.y,b.z)}}function R(){for(let X=1;X<=i;X++)for(let H=1;H<=c;H++){const me=(c+1)*(X-1)+(H-1),te=(c+1)*X+(H-1),le=(c+1)*X+H,ye=(c+1)*(X-1)+H;B.push(me,te,ye),B.push(te,le,ye)}}function G(){for(let X=0;X<=i;X++)for(let H=0;H<=c;H++)_.x=X/i,_.y=H/c,I.push(_.x,_.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new c1(new Vf[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class G_ extends Jt{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const i=[],s=new Set,c=new ie,u=new ie;if(t.index!==null){const f=t.attributes.position,b=t.index;let C=t.groups;C.length===0&&(C=[{start:0,count:b.count,materialIndex:0}]);for(let _=0,N=C.length;_<N;++_){const A=C[_],E=A.start,I=A.count;for(let B=E,D=E+I;B<D;B+=3)for(let L=0;L<3;L++){const R=b.getX(B+L),G=b.getX(B+(L+1)%3);c.fromBufferAttribute(f,R),u.fromBufferAttribute(f,G),W_(c,u,s)===!0&&(i.push(c.x,c.y,c.z),i.push(u.x,u.y,u.z))}}}else{const f=t.attributes.position;for(let b=0,C=f.count/3;b<C;b++)for(let _=0;_<3;_++){const N=3*b+_,A=3*b+(_+1)%3;c.fromBufferAttribute(f,N),u.fromBufferAttribute(f,A),W_(c,u,s)===!0&&(i.push(c.x,c.y,c.z),i.push(u.x,u.y,u.z))}}this.setAttribute("position",new It(i,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function W_(m,t,i){const s=`${m.x},${m.y},${m.z}-${t.x},${t.y},${t.z}`,c=`${t.x},${t.y},${t.z}-${m.x},${m.y},${m.z}`;return i.has(s)===!0||i.has(c)===!0?!1:(i.add(s),i.add(c),!0)}var V_=Object.freeze({__proto__:null,BoxGeometry:Oa,CapsuleGeometry:Hf,CircleGeometry:$f,ConeGeometry:qf,CylinderGeometry:kh,DodecahedronGeometry:Yf,EdgesGeometry:j_,ExtrudeGeometry:n1,IcosahedronGeometry:r1,LatheGeometry:lm,OctahedronGeometry:dm,PlaneGeometry:xe,PolyhedronGeometry:$s,RingGeometry:i1,ShapeGeometry:o1,SphereGeometry:mm,TetrahedronGeometry:a1,TorusGeometry:s1,TorusKnotGeometry:l1,TubeGeometry:c1,WireframeGeometry:G_});class H_ extends Dr{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new _t(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class $_ extends Ei{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class iv extends Dr{constructor(t){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new _t(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class q_ extends iv{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Hn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new _t(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new _t(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new _t(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class Y_ extends Dr{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new _t(16777215),this.specular=new _t(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class K_ extends Dr{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new _t(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class Z_ extends Dr{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class J_ extends Dr{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new _t(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new _t(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new li,this.combine=it,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Q_ extends Dr{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new _t(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zi,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class eT extends ui{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function mc(m,t,i){return!m||!i&&m.constructor===t?m:typeof t.BYTES_PER_ELEMENT=="number"?new t(m):Array.prototype.slice.call(m)}function tT(m){return ArrayBuffer.isView(m)&&!(m instanceof DataView)}function nT(m){function t(c,u){return m[c]-m[u]}const i=m.length,s=new Array(i);for(let c=0;c!==i;++c)s[c]=c;return s.sort(t),s}function ov(m,t,i){const s=m.length,c=new m.constructor(s);for(let u=0,f=0;f!==s;++u){const b=i[u]*t;for(let C=0;C!==t;++C)c[f++]=m[b+C]}return c}function av(m,t,i,s){let c=1,u=m[0];for(;u!==void 0&&u[s]===void 0;)u=m[c++];if(u===void 0)return;let f=u[s];if(f!==void 0)if(Array.isArray(f))do f=u[s],f!==void 0&&(t.push(u.time),i.push.apply(i,f)),u=m[c++];while(u!==void 0);else if(f.toArray!==void 0)do f=u[s],f!==void 0&&(t.push(u.time),f.toArray(i,i.length)),u=m[c++];while(u!==void 0);else do f=u[s],f!==void 0&&(t.push(u.time),i.push(f)),u=m[c++];while(u!==void 0)}function t6(m,t,i,s,c=30){const u=m.clone();u.name=t;const f=[];for(let C=0;C<u.tracks.length;++C){const _=u.tracks[C],N=_.getValueSize(),A=[],E=[];for(let I=0;I<_.times.length;++I){const B=_.times[I]*c;if(!(B<i||B>=s)){A.push(_.times[I]);for(let D=0;D<N;++D)E.push(_.values[I*N+D])}}A.length!==0&&(_.times=mc(A,_.times.constructor),_.values=mc(E,_.values.constructor),f.push(_))}u.tracks=f;let b=1/0;for(let C=0;C<u.tracks.length;++C)b>u.tracks[C].times[0]&&(b=u.tracks[C].times[0]);for(let C=0;C<u.tracks.length;++C)u.tracks[C].shift(-1*b);return u.resetDuration(),u}function n6(m,t=0,i=m,s=30){s<=0&&(s=30);const c=i.tracks.length,u=t/s;for(let f=0;f<c;++f){const b=i.tracks[f],C=b.ValueTypeName;if(C==="bool"||C==="string")continue;const _=m.tracks.find(function(R){return R.name===b.name&&R.ValueTypeName===C});if(_===void 0)continue;let N=0;const A=b.getValueSize();b.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(N=A/3);let E=0;const I=_.getValueSize();_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(E=I/3);const B=b.times.length-1;let D;if(u<=b.times[0]){const R=N,G=A-N;D=b.values.slice(R,G)}else if(u>=b.times[B]){const R=B*A+N,G=R+A-N;D=b.values.slice(R,G)}else{const R=b.createInterpolant(),G=N,X=A-N;R.evaluate(u),D=R.resultBuffer.slice(G,X)}C==="quaternion"&&new Hr().fromArray(D).normalize().conjugate().toArray(D);const L=_.times.length;for(let R=0;R<L;++R){const G=R*I+E;if(C==="quaternion")Hr.multiplyQuaternionsFlat(_.values,G,D,0,_.values,G);else{const X=I-E*2;for(let H=0;H<X;++H)_.values[G+H]-=D[H]}}}return m.blendMode=ys,m}const r6={convertArray:mc,isTypedArray:tT,getKeyframeOrder:nT,sortedArray:ov,flattenJSON:av,subclip:t6,makeClipAdditive:n6};class pm{constructor(t,i,s,c){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=c!==void 0?c:new i.constructor(s),this.sampleValues=i,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(t){const i=this.parameterPositions;let s=this._cachedIndex,c=i[s],u=i[s-1];n:{e:{let f;t:{r:if(!(t<c)){for(let b=s+2;;){if(c===void 0){if(t<u)break r;return s=i.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===b)break;if(u=c,c=i[++s],t<c)break e}f=i.length;break t}if(!(t>=u)){const b=i[1];t<b&&(s=2,u=b);for(let C=s-2;;){if(u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===C)break;if(c=u,u=i[--s-1],t>=u)break e}f=s,s=0;break t}break n}for(;s<f;){const b=s+f>>>1;t<i[b]?f=b:s=b+1}if(c=i[s],u=i[s-1],u===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(c===void 0)return s=i.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,u,c)}return this.interpolate_(s,u,t,c)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const i=this.resultBuffer,s=this.sampleValues,c=this.valueSize,u=t*c;for(let f=0;f!==c;++f)i[f]=s[u+f];return i}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class rT extends pm{constructor(t,i,s,c){super(t,i,s,c),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:_a,endingEnd:_a}}intervalChanged_(t,i,s){const c=this.parameterPositions;let u=t-2,f=t+1,b=c[u],C=c[f];if(b===void 0)switch(this.getSettings_().endingStart){case Wo:u=t,b=2*i-s;break;case vs:u=c.length-2,b=i+c[u]-c[u+1];break;default:u=t,b=s}if(C===void 0)switch(this.getSettings_().endingEnd){case Wo:f=t,C=2*s-i;break;case vs:f=1,C=s+c[1]-c[0];break;default:f=t-1,C=i}const _=(s-i)*.5,N=this.valueSize;this._weightPrev=_/(i-b),this._weightNext=_/(C-s),this._offsetPrev=u*N,this._offsetNext=f*N}interpolate_(t,i,s,c){const u=this.resultBuffer,f=this.sampleValues,b=this.valueSize,C=t*b,_=C-b,N=this._offsetPrev,A=this._offsetNext,E=this._weightPrev,I=this._weightNext,B=(s-i)/(c-i),D=B*B,L=D*B,R=-E*L+2*E*D-E*B,G=(1+E)*L+(-1.5-2*E)*D+(-.5+E)*B+1,X=(-1-I)*L+(1.5+I)*D+.5*B,H=I*L-I*D;for(let me=0;me!==b;++me)u[me]=R*f[N+me]+G*f[_+me]+X*f[C+me]+H*f[A+me];return u}}class sv extends pm{constructor(t,i,s,c){super(t,i,s,c)}interpolate_(t,i,s,c){const u=this.resultBuffer,f=this.sampleValues,b=this.valueSize,C=t*b,_=C-b,N=(s-i)/(c-i),A=1-N;for(let E=0;E!==b;++E)u[E]=f[_+E]*A+f[C+E]*N;return u}}class iT extends pm{constructor(t,i,s,c){super(t,i,s,c)}interpolate_(t){return this.copySampleValue_(t-1)}}class wo{constructor(t,i,s,c){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(i===void 0||i.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=mc(i,this.TimeBufferType),this.values=mc(s,this.ValueBufferType),this.setInterpolation(c||this.DefaultInterpolation)}static toJSON(t){const i=t.constructor;let s;if(i.toJSON!==this.toJSON)s=i.toJSON(t);else{s={name:t.name,times:mc(t.times,Array),values:mc(t.values,Array)};const c=t.getInterpolation();c!==t.DefaultInterpolation&&(s.interpolation=c)}return s.type=t.ValueTypeName,s}InterpolantFactoryMethodDiscrete(t){return new iT(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new sv(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new rT(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let i;switch(t){case Bl:i=this.InterpolantFactoryMethodDiscrete;break;case Ol:i=this.InterpolantFactoryMethodLinear;break;case ah:i=this.InterpolantFactoryMethodSmooth;break}if(i===void 0){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(s);return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Bl;case this.InterpolantFactoryMethodLinear:return Ol;case this.InterpolantFactoryMethodSmooth:return ah}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const i=this.times;for(let s=0,c=i.length;s!==c;++s)i[s]+=t}return this}scale(t){if(t!==1){const i=this.times;for(let s=0,c=i.length;s!==c;++s)i[s]*=t}return this}trim(t,i){const s=this.times,c=s.length;let u=0,f=c-1;for(;u!==c&&s[u]<t;)++u;for(;f!==-1&&s[f]>i;)--f;if(++f,u!==0||f!==c){u>=f&&(f=Math.max(f,1),u=f-1);const b=this.getValueSize();this.times=s.slice(u,f),this.values=this.values.slice(u*b,f*b)}return this}validate(){let t=!0;const i=this.getValueSize();i-Math.floor(i)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const s=this.times,c=this.values,u=s.length;u===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let f=null;for(let b=0;b!==u;b++){const C=s[b];if(typeof C=="number"&&isNaN(C)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,b,C),t=!1;break}if(f!==null&&f>C){console.error("THREE.KeyframeTrack: Out of order keys.",this,b,C,f),t=!1;break}f=C}if(c!==void 0&&tT(c))for(let b=0,C=c.length;b!==C;++b){const _=c[b];if(isNaN(_)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,b,_),t=!1;break}}return t}optimize(){const t=this.times.slice(),i=this.values.slice(),s=this.getValueSize(),c=this.getInterpolation()===ah,u=t.length-1;let f=1;for(let b=1;b<u;++b){let C=!1;const _=t[b],N=t[b+1];if(_!==N&&(b!==1||_!==t[0]))if(c)C=!0;else{const A=b*s,E=A-s,I=A+s;for(let B=0;B!==s;++B){const D=i[A+B];if(D!==i[E+B]||D!==i[I+B]){C=!0;break}}}if(C){if(b!==f){t[f]=t[b];const A=b*s,E=f*s;for(let I=0;I!==s;++I)i[E+I]=i[A+I]}++f}}if(u>0){t[f]=t[u];for(let b=u*s,C=f*s,_=0;_!==s;++_)i[C+_]=i[b+_];++f}return f!==t.length?(this.times=t.slice(0,f),this.values=i.slice(0,f*s)):(this.times=t,this.values=i),this}clone(){const t=this.times.slice(),i=this.values.slice(),s=this.constructor,c=new s(this.name,t,i);return c.createInterpolant=this.createInterpolant,c}}wo.prototype.TimeBufferType=Float32Array,wo.prototype.ValueBufferType=Float32Array,wo.prototype.DefaultInterpolation=Ol;class pc extends wo{}pc.prototype.ValueTypeName="bool",pc.prototype.ValueBufferType=Array,pc.prototype.DefaultInterpolation=Bl,pc.prototype.InterpolantFactoryMethodLinear=void 0,pc.prototype.InterpolantFactoryMethodSmooth=void 0;class lv extends wo{}lv.prototype.ValueTypeName="color";class fm extends wo{}fm.prototype.ValueTypeName="number";class oT extends pm{constructor(t,i,s,c){super(t,i,s,c)}interpolate_(t,i,s,c){const u=this.resultBuffer,f=this.sampleValues,b=this.valueSize,C=(s-i)/(c-i);let _=t*b;for(let N=_+b;_!==N;_+=4)Hr.slerpFlat(u,0,f,_-b,f,_,C);return u}}class zh extends wo{InterpolantFactoryMethodLinear(t){return new oT(this.times,this.values,this.getValueSize(),t)}}zh.prototype.ValueTypeName="quaternion",zh.prototype.DefaultInterpolation=Ol,zh.prototype.InterpolantFactoryMethodSmooth=void 0;class fc extends wo{}fc.prototype.ValueTypeName="string",fc.prototype.ValueBufferType=Array,fc.prototype.DefaultInterpolation=Bl,fc.prototype.InterpolantFactoryMethodLinear=void 0,fc.prototype.InterpolantFactoryMethodSmooth=void 0;class gm extends wo{}gm.prototype.ValueTypeName="vector";class bm{constructor(t="",i=-1,s=[],c=sh){this.name=t,this.tracks=s,this.duration=i,this.blendMode=c,this.uuid=ai(),this.duration<0&&this.resetDuration()}static parse(t){const i=[],s=t.tracks,c=1/(t.fps||1);for(let f=0,b=s.length;f!==b;++f)i.push(o6(s[f]).scale(c));const u=new this(t.name,t.duration,i,t.blendMode);return u.uuid=t.uuid,u}static toJSON(t){const i=[],s=t.tracks,c={name:t.name,duration:t.duration,tracks:i,uuid:t.uuid,blendMode:t.blendMode};for(let u=0,f=s.length;u!==f;++u)i.push(wo.toJSON(s[u]));return c}static CreateFromMorphTargetSequence(t,i,s,c){const u=i.length,f=[];for(let b=0;b<u;b++){let C=[],_=[];C.push((b+u-1)%u,b,(b+1)%u),_.push(0,1,0);const N=nT(C);C=ov(C,1,N),_=ov(_,1,N),!c&&C[0]===0&&(C.push(u),_.push(_[0])),f.push(new fm(".morphTargetInfluences["+i[b].name+"]",C,_).scale(1/s))}return new this(t,-1,f)}static findByName(t,i){let s=t;if(!Array.isArray(t)){const c=t;s=c.geometry&&c.geometry.animations||c.animations}for(let c=0;c<s.length;c++)if(s[c].name===i)return s[c];return null}static CreateClipsFromMorphTargetSequences(t,i,s){const c={},u=/^([\w-]*?)([\d]+)$/;for(let b=0,C=t.length;b<C;b++){const _=t[b],N=_.name.match(u);if(N&&N.length>1){const A=N[1];let E=c[A];E||(c[A]=E=[]),E.push(_)}}const f=[];for(const b in c)f.push(this.CreateFromMorphTargetSequence(b,c[b],i,s));return f}static parseAnimation(t,i){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(A,E,I,B,D){if(I.length!==0){const L=[],R=[];av(I,L,R,B),L.length!==0&&D.push(new A(E,L,R))}},c=[],u=t.name||"default",f=t.fps||30,b=t.blendMode;let C=t.length||-1;const _=t.hierarchy||[];for(let A=0;A<_.length;A++){const E=_[A].keys;if(!(!E||E.length===0))if(E[0].morphTargets){const I={};let B;for(B=0;B<E.length;B++)if(E[B].morphTargets)for(let D=0;D<E[B].morphTargets.length;D++)I[E[B].morphTargets[D]]=-1;for(const D in I){const L=[],R=[];for(let G=0;G!==E[B].morphTargets.length;++G){const X=E[B];L.push(X.time),R.push(X.morphTarget===D?1:0)}c.push(new fm(".morphTargetInfluence["+D+"]",L,R))}C=I.length*f}else{const I=".bones["+i[A].name+"]";s(gm,I+".position",E,"pos",c),s(zh,I+".quaternion",E,"rot",c),s(gm,I+".scale",E,"scl",c)}}return c.length===0?null:new this(u,C,c,b)}resetDuration(){const t=this.tracks;let i=0;for(let s=0,c=t.length;s!==c;++s){const u=this.tracks[s];i=Math.max(i,u.times[u.times.length-1])}return this.duration=i,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function i6(m){switch(m.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fm;case"vector":case"vector2":case"vector3":case"vector4":return gm;case"color":return lv;case"quaternion":return zh;case"bool":case"boolean":return pc;case"string":return fc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+m)}function o6(m){if(m.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=i6(m.type);if(m.times===void 0){const i=[],s=[];av(m.keys,i,s,"value"),m.times=i,m.values=s}return t.parse!==void 0?t.parse(m):new t(m.name,m.times,m.values,m.interpolation)}const ka={enabled:!1,files:{},add:function(m,t){this.enabled!==!1&&(this.files[m]=t)},get:function(m){if(this.enabled!==!1)return this.files[m]},remove:function(m){delete this.files[m]},clear:function(){this.files={}}};class cv{constructor(t,i,s){const c=this;let u=!1,f=0,b=0,C;const _=[];this.onStart=void 0,this.onLoad=t,this.onProgress=i,this.onError=s,this.itemStart=function(N){b++,u===!1&&c.onStart!==void 0&&c.onStart(N,f,b),u=!0},this.itemEnd=function(N){f++,c.onProgress!==void 0&&c.onProgress(N,f,b),f===b&&(u=!1,c.onLoad!==void 0&&c.onLoad())},this.itemError=function(N){c.onError!==void 0&&c.onError(N)},this.resolveURL=function(N){return C?C(N):N},this.setURLModifier=function(N){return C=N,this},this.addHandler=function(N,A){return _.push(N,A),this},this.removeHandler=function(N){const A=_.indexOf(N);return A!==-1&&_.splice(A,2),this},this.getHandler=function(N){for(let A=0,E=_.length;A<E;A+=2){const I=_[A],B=_[A+1];if(I.global&&(I.lastIndex=0),I.test(N))return B}return null}}}const aT=new cv;class xi{constructor(t){this.manager=t!==void 0?t:aT,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const s=this;return new Promise(function(c,u){s.load(t,c,i,u)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}xi.DEFAULT_MATERIAL_NAME="__DEFAULT";const Xa={};class a6 extends Error{constructor(t,i){super(t),this.response=i}}class za extends xi{constructor(t){super(t)}load(t,i,s,c){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const u=ka.get(t);if(u!==void 0)return this.manager.itemStart(t),setTimeout(()=>{i&&i(u),this.manager.itemEnd(t)},0),u;if(Xa[t]!==void 0){Xa[t].push({onLoad:i,onProgress:s,onError:c});return}Xa[t]=[],Xa[t].push({onLoad:i,onProgress:s,onError:c});const f=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),b=this.mimeType,C=this.responseType;fetch(f).then(_=>{if(_.status===200||_.status===0){if(_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||_.body===void 0||_.body.getReader===void 0)return _;const N=Xa[t],A=_.body.getReader(),E=_.headers.get("X-File-Size")||_.headers.get("Content-Length"),I=E?parseInt(E):0,B=I!==0;let D=0;const L=new ReadableStream({start(R){G();function G(){A.read().then(({done:X,value:H})=>{if(X)R.close();else{D+=H.byteLength;const me=new ProgressEvent("progress",{lengthComputable:B,loaded:D,total:I});for(let te=0,le=N.length;te<le;te++){const ye=N[te];ye.onProgress&&ye.onProgress(me)}R.enqueue(H),G()}})}}});return new Response(L)}else throw new a6(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`,_)}).then(_=>{switch(C){case"arraybuffer":return _.arrayBuffer();case"blob":return _.blob();case"document":return _.text().then(N=>new DOMParser().parseFromString(N,b));case"json":return _.json();default:if(b===void 0)return _.text();{const A=/charset="?([^;"\s]*)"?/i.exec(b),E=A&&A[1]?A[1].toLowerCase():void 0,I=new TextDecoder(E);return _.arrayBuffer().then(B=>I.decode(B))}}}).then(_=>{ka.add(t,_);const N=Xa[t];delete Xa[t];for(let A=0,E=N.length;A<E;A++){const I=N[A];I.onLoad&&I.onLoad(_)}}).catch(_=>{const N=Xa[t];if(N===void 0)throw this.manager.itemError(t),_;delete Xa[t];for(let A=0,E=N.length;A<E;A++){const I=N[A];I.onError&&I.onError(_)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class s6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=this,f=new za(this.manager);f.setPath(this.path),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(t,function(b){try{i(u.parse(JSON.parse(b)))}catch(C){c?c(C):console.error(C),u.manager.itemError(t)}},s,c)}parse(t){const i=[];for(let s=0;s<t.length;s++){const c=bm.parse(t[s]);i.push(c)}return i}}class l6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=this,f=[],b=new Uf,C=new za(this.manager);C.setPath(this.path),C.setResponseType("arraybuffer"),C.setRequestHeader(this.requestHeader),C.setWithCredentials(u.withCredentials);let _=0;function N(A){C.load(t[A],function(E){const I=u.parse(E,!0);f[A]={width:I.width,height:I.height,format:I.format,mipmaps:I.mipmaps},_+=1,_===6&&(I.mipmapCount===1&&(b.minFilter=ur),b.image=f,b.format=I.format,b.needsUpdate=!0,i&&i(b))},s,c)}if(Array.isArray(t))for(let A=0,E=t.length;A<E;++A)N(A);else C.load(t,function(A){const E=u.parse(A,!0);if(E.isCubemap){const I=E.mipmaps.length/E.mipmapCount;for(let B=0;B<I;B++){f[B]={mipmaps:[]};for(let D=0;D<E.mipmapCount;D++)f[B].mipmaps.push(E.mipmaps[B*E.mipmapCount+D]),f[B].format=E.format,f[B].width=E.width,f[B].height=E.height}b.image=f}else b.image.width=E.width,b.image.height=E.height,b.mipmaps=E.mipmaps;E.mipmapCount===1&&(b.minFilter=ur),b.format=E.format,b.needsUpdate=!0,i&&i(b)},s,c);return b}}class vm extends xi{constructor(t){super(t)}load(t,i,s,c){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const u=this,f=ka.get(t);if(f!==void 0)return u.manager.itemStart(t),setTimeout(function(){i&&i(f),u.manager.itemEnd(t)},0),f;const b=Aa("img");function C(){N(),ka.add(t,this),i&&i(this),u.manager.itemEnd(t)}function _(A){N(),c&&c(A),u.manager.itemError(t),u.manager.itemEnd(t)}function N(){b.removeEventListener("load",C,!1),b.removeEventListener("error",_,!1)}return b.addEventListener("load",C,!1),b.addEventListener("error",_,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(b.crossOrigin=this.crossOrigin),u.manager.itemStart(t),b.src=t,b}}class c6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=new ja;u.colorSpace=Ar;const f=new vm(this.manager);f.setCrossOrigin(this.crossOrigin),f.setPath(this.path);let b=0;function C(_){f.load(t[_],function(N){u.images[_]=N,b++,b===6&&(u.needsUpdate=!0,i&&i(u))},void 0,c)}for(let _=0;_<t.length;++_)C(_);return u}}class h6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=this,f=new Ws,b=new za(this.manager);return b.setResponseType("arraybuffer"),b.setRequestHeader(this.requestHeader),b.setPath(this.path),b.setWithCredentials(u.withCredentials),b.load(t,function(C){let _;try{_=u.parse(C)}catch(N){if(c!==void 0)c(N);else{console.error(N);return}}_.image!==void 0?f.image=_.image:_.data!==void 0&&(f.image.width=_.width,f.image.height=_.height,f.image.data=_.data),f.wrapS=_.wrapS!==void 0?_.wrapS:gi,f.wrapT=_.wrapT!==void 0?_.wrapT:gi,f.magFilter=_.magFilter!==void 0?_.magFilter:ur,f.minFilter=_.minFilter!==void 0?_.minFilter:ur,f.anisotropy=_.anisotropy!==void 0?_.anisotropy:1,_.colorSpace!==void 0&&(f.colorSpace=_.colorSpace),_.flipY!==void 0&&(f.flipY=_.flipY),_.format!==void 0&&(f.format=_.format),_.type!==void 0&&(f.type=_.type),_.mipmaps!==void 0&&(f.mipmaps=_.mipmaps,f.minFilter=Xi),_.mipmapCount===1&&(f.minFilter=ur),_.generateMipmaps!==void 0&&(f.generateMipmaps=_.generateMipmaps),f.needsUpdate=!0,i&&i(f,_)},s,c),f}}class u6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=new or,f=new vm(this.manager);return f.setCrossOrigin(this.crossOrigin),f.setPath(this.path),f.load(t,function(b){u.image=b,u.needsUpdate=!0,i!==void 0&&i(u)},s,c),u}}class qs extends Mn{constructor(t,i=1){super(),this.isLight=!0,this.type="Light",this.color=new _t(t),this.intensity=i}dispose(){}copy(t,i){return super.copy(t,i),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const i=super.toJSON(t);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),i}}class sT extends qs{constructor(t,i,s){super(t,s),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new _t(i)}copy(t,i){return super.copy(t,i),this.groundColor.copy(t.groundColor),this}}const hv=new Ut,lT=new ie,cT=new ie;class uv{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new V,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new jn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const i=this.camera,s=this.matrix;lT.setFromMatrixPosition(t.matrixWorld),i.position.copy(lT),cT.setFromMatrixPosition(t.target.matrixWorld),i.lookAt(cT),i.updateMatrixWorld(),hv.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hv),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(hv)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class d6 extends uv{constructor(){super(new Cr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const i=this.camera,s=Sa*2*t.angle*this.focus,c=this.mapSize.width/this.mapSize.height,u=t.distance||i.far;(s!==i.fov||c!==i.aspect||u!==i.far)&&(i.fov=s,i.aspect=c,i.far=u,i.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class hT extends qs{constructor(t,i,s=0,c=Math.PI/3,u=0,f=2){super(t,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=s,this.angle=c,this.penumbra=u,this.decay=f,this.map=null,this.shadow=new d6}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,i){return super.copy(t,i),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const uT=new Ut,ym=new ie,dv=new ie;class m6 extends uv{constructor(){super(new Cr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new jn(2,1,1,1),new jn(0,1,1,1),new jn(3,1,1,1),new jn(1,1,1,1),new jn(3,0,1,1),new jn(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(t,i=0){const s=this.camera,c=this.matrix,u=t.distance||s.far;u!==s.far&&(s.far=u,s.updateProjectionMatrix()),ym.setFromMatrixPosition(t.matrixWorld),s.position.copy(ym),dv.copy(s.position),dv.add(this._cubeDirections[i]),s.up.copy(this._cubeUps[i]),s.lookAt(dv),s.updateMatrixWorld(),c.makeTranslation(-ym.x,-ym.y,-ym.z),uT.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uT)}}class dT extends qs{constructor(t,i,s=0,c=2){super(t,i),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=c,this.shadow=new m6}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,i){return super.copy(t,i),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class p6 extends uv{constructor(){super(new xf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mT extends qs{constructor(t,i){super(t,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new p6}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class pT extends qs{constructor(t,i){super(t,i),this.isAmbientLight=!0,this.type="AmbientLight"}}class fT extends qs{constructor(t,i,s=10,c=10){super(t,i),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=s,this.height=c}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const i=super.toJSON(t);return i.object.width=this.width,i.object.height=this.height,i}}class gT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new ie)}set(t){for(let i=0;i<9;i++)this.coefficients[i].copy(t[i]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,i){const s=t.x,c=t.y,u=t.z,f=this.coefficients;return i.copy(f[0]).multiplyScalar(.282095),i.addScaledVector(f[1],.488603*c),i.addScaledVector(f[2],.488603*u),i.addScaledVector(f[3],.488603*s),i.addScaledVector(f[4],1.092548*(s*c)),i.addScaledVector(f[5],1.092548*(c*u)),i.addScaledVector(f[6],.315392*(3*u*u-1)),i.addScaledVector(f[7],1.092548*(s*u)),i.addScaledVector(f[8],.546274*(s*s-c*c)),i}getIrradianceAt(t,i){const s=t.x,c=t.y,u=t.z,f=this.coefficients;return i.copy(f[0]).multiplyScalar(.886227),i.addScaledVector(f[1],2*.511664*c),i.addScaledVector(f[2],2*.511664*u),i.addScaledVector(f[3],2*.511664*s),i.addScaledVector(f[4],2*.429043*s*c),i.addScaledVector(f[5],2*.429043*c*u),i.addScaledVector(f[6],.743125*u*u-.247708),i.addScaledVector(f[7],2*.429043*s*u),i.addScaledVector(f[8],.429043*(s*s-c*c)),i}add(t){for(let i=0;i<9;i++)this.coefficients[i].add(t.coefficients[i]);return this}addScaledSH(t,i){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(t.coefficients[s],i);return this}scale(t){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(t);return this}lerp(t,i){for(let s=0;s<9;s++)this.coefficients[s].lerp(t.coefficients[s],i);return this}equals(t){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(t.coefficients[i]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,i=0){const s=this.coefficients;for(let c=0;c<9;c++)s[c].fromArray(t,i+c*3);return this}toArray(t=[],i=0){const s=this.coefficients;for(let c=0;c<9;c++)s[c].toArray(t,i+c*3);return t}static getBasisAt(t,i){const s=t.x,c=t.y,u=t.z;i[0]=.282095,i[1]=.488603*c,i[2]=.488603*u,i[3]=.488603*s,i[4]=1.092548*s*c,i[5]=1.092548*c*u,i[6]=.315392*(3*u*u-1),i[7]=1.092548*s*u,i[8]=.546274*(s*s-c*c)}}class bT extends qs{constructor(t=new gT,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const i=super.toJSON(t);return i.object.sh=this.sh.toArray(),i}}class h1 extends xi{constructor(t){super(t),this.textures={}}load(t,i,s,c){const u=this,f=new za(u.manager);f.setPath(u.path),f.setRequestHeader(u.requestHeader),f.setWithCredentials(u.withCredentials),f.load(t,function(b){try{i(u.parse(JSON.parse(b)))}catch(C){c?c(C):console.error(C),u.manager.itemError(t)}},s,c)}parse(t){const i=this.textures;function s(u){return i[u]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",u),i[u]}const c=h1.createMaterialFromType(t.type);if(t.uuid!==void 0&&(c.uuid=t.uuid),t.name!==void 0&&(c.name=t.name),t.color!==void 0&&c.color!==void 0&&c.color.setHex(t.color),t.roughness!==void 0&&(c.roughness=t.roughness),t.metalness!==void 0&&(c.metalness=t.metalness),t.sheen!==void 0&&(c.sheen=t.sheen),t.sheenColor!==void 0&&(c.sheenColor=new _t().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(c.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&c.emissive!==void 0&&c.emissive.setHex(t.emissive),t.specular!==void 0&&c.specular!==void 0&&c.specular.setHex(t.specular),t.specularIntensity!==void 0&&(c.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&c.specularColor!==void 0&&c.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(c.shininess=t.shininess),t.clearcoat!==void 0&&(c.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(c.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(c.dispersion=t.dispersion),t.iridescence!==void 0&&(c.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(c.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(c.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(c.transmission=t.transmission),t.thickness!==void 0&&(c.thickness=t.thickness),t.attenuationDistance!==void 0&&(c.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&c.attenuationColor!==void 0&&c.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(c.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(c.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(c.fog=t.fog),t.flatShading!==void 0&&(c.flatShading=t.flatShading),t.blending!==void 0&&(c.blending=t.blending),t.combine!==void 0&&(c.combine=t.combine),t.side!==void 0&&(c.side=t.side),t.shadowSide!==void 0&&(c.shadowSide=t.shadowSide),t.opacity!==void 0&&(c.opacity=t.opacity),t.transparent!==void 0&&(c.transparent=t.transparent),t.alphaTest!==void 0&&(c.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(c.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(c.depthFunc=t.depthFunc),t.depthTest!==void 0&&(c.depthTest=t.depthTest),t.depthWrite!==void 0&&(c.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(c.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(c.blendSrc=t.blendSrc),t.blendDst!==void 0&&(c.blendDst=t.blendDst),t.blendEquation!==void 0&&(c.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(c.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(c.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(c.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&c.blendColor!==void 0&&c.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(c.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(c.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(c.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(c.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(c.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(c.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(c.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(c.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(c.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(c.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(c.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(c.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(c.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(c.rotation=t.rotation),t.linewidth!==void 0&&(c.linewidth=t.linewidth),t.dashSize!==void 0&&(c.dashSize=t.dashSize),t.gapSize!==void 0&&(c.gapSize=t.gapSize),t.scale!==void 0&&(c.scale=t.scale),t.polygonOffset!==void 0&&(c.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(c.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(c.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(c.dithering=t.dithering),t.alphaToCoverage!==void 0&&(c.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(c.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(c.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(c.visible=t.visible),t.toneMapped!==void 0&&(c.toneMapped=t.toneMapped),t.userData!==void 0&&(c.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?c.vertexColors=t.vertexColors>0:c.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const u in t.uniforms){const f=t.uniforms[u];switch(c.uniforms[u]={},f.type){case"t":c.uniforms[u].value=s(f.value);break;case"c":c.uniforms[u].value=new _t().setHex(f.value);break;case"v2":c.uniforms[u].value=new He().fromArray(f.value);break;case"v3":c.uniforms[u].value=new ie().fromArray(f.value);break;case"v4":c.uniforms[u].value=new jn().fromArray(f.value);break;case"m3":c.uniforms[u].value=new Zt().fromArray(f.value);break;case"m4":c.uniforms[u].value=new Ut().fromArray(f.value);break;default:c.uniforms[u].value=f.value}}if(t.defines!==void 0&&(c.defines=t.defines),t.vertexShader!==void 0&&(c.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(c.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(c.glslVersion=t.glslVersion),t.extensions!==void 0)for(const u in t.extensions)c.extensions[u]=t.extensions[u];if(t.lights!==void 0&&(c.lights=t.lights),t.clipping!==void 0&&(c.clipping=t.clipping),t.size!==void 0&&(c.size=t.size),t.sizeAttenuation!==void 0&&(c.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(c.map=s(t.map)),t.matcap!==void 0&&(c.matcap=s(t.matcap)),t.alphaMap!==void 0&&(c.alphaMap=s(t.alphaMap)),t.bumpMap!==void 0&&(c.bumpMap=s(t.bumpMap)),t.bumpScale!==void 0&&(c.bumpScale=t.bumpScale),t.normalMap!==void 0&&(c.normalMap=s(t.normalMap)),t.normalMapType!==void 0&&(c.normalMapType=t.normalMapType),t.normalScale!==void 0){let u=t.normalScale;Array.isArray(u)===!1&&(u=[u,u]),c.normalScale=new He().fromArray(u)}return t.displacementMap!==void 0&&(c.displacementMap=s(t.displacementMap)),t.displacementScale!==void 0&&(c.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(c.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(c.roughnessMap=s(t.roughnessMap)),t.metalnessMap!==void 0&&(c.metalnessMap=s(t.metalnessMap)),t.emissiveMap!==void 0&&(c.emissiveMap=s(t.emissiveMap)),t.emissiveIntensity!==void 0&&(c.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(c.specularMap=s(t.specularMap)),t.specularIntensityMap!==void 0&&(c.specularIntensityMap=s(t.specularIntensityMap)),t.specularColorMap!==void 0&&(c.specularColorMap=s(t.specularColorMap)),t.envMap!==void 0&&(c.envMap=s(t.envMap)),t.envMapRotation!==void 0&&c.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(c.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(c.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(c.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(c.lightMap=s(t.lightMap)),t.lightMapIntensity!==void 0&&(c.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(c.aoMap=s(t.aoMap)),t.aoMapIntensity!==void 0&&(c.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(c.gradientMap=s(t.gradientMap)),t.clearcoatMap!==void 0&&(c.clearcoatMap=s(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(c.clearcoatRoughnessMap=s(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(c.clearcoatNormalMap=s(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(c.clearcoatNormalScale=new He().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(c.iridescenceMap=s(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(c.iridescenceThicknessMap=s(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(c.transmissionMap=s(t.transmissionMap)),t.thicknessMap!==void 0&&(c.thicknessMap=s(t.thicknessMap)),t.anisotropyMap!==void 0&&(c.anisotropyMap=s(t.anisotropyMap)),t.sheenColorMap!==void 0&&(c.sheenColorMap=s(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(c.sheenRoughnessMap=s(t.sheenRoughnessMap)),c}setTextures(t){return this.textures=t,this}static createMaterialFromType(t){const i={ShadowMaterial:H_,SpriteMaterial:jb,RawShaderMaterial:$_,ShaderMaterial:Ei,PointsMaterial:Wb,MeshPhysicalMaterial:q_,MeshStandardMaterial:iv,MeshPhongMaterial:Y_,MeshToonMaterial:K_,MeshNormalMaterial:Z_,MeshLambertMaterial:J_,MeshDepthMaterial:Bb,MeshDistanceMaterial:Ob,MeshBasicMaterial:$i,MeshMatcapMaterial:Q_,LineDashedMaterial:eT,LineBasicMaterial:ui,Material:Dr};return new i[t]}}class mv{static decodeText(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let i="";for(let s=0,c=t.length;s<c;s++)i+=String.fromCharCode(t[s]);try{return decodeURIComponent(escape(i))}catch{return i}}static extractUrlBase(t){const i=t.lastIndexOf("/");return i===-1?"./":t.slice(0,i+1)}static resolveURL(t,i){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(i)&&/^\//.test(t)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:i+t)}}class vT extends Jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class yT extends xi{constructor(t){super(t)}load(t,i,s,c){const u=this,f=new za(u.manager);f.setPath(u.path),f.setRequestHeader(u.requestHeader),f.setWithCredentials(u.withCredentials),f.load(t,function(b){try{i(u.parse(JSON.parse(b)))}catch(C){c?c(C):console.error(C),u.manager.itemError(t)}},s,c)}parse(t){const i={},s={};function c(I,B){if(i[B]!==void 0)return i[B];const L=I.interleavedBuffers[B],R=u(I,L.buffer),G=_s(L.type,R),X=new Mf(G,L.stride);return X.uuid=L.uuid,i[B]=X,X}function u(I,B){if(s[B]!==void 0)return s[B];const L=I.arrayBuffers[B],R=new Uint32Array(L).buffer;return s[B]=R,R}const f=t.isInstancedBufferGeometry?new vT:new Jt,b=t.data.index;if(b!==void 0){const I=_s(b.type,b.array);f.setIndex(new tn(I,1))}const C=t.data.attributes;for(const I in C){const B=C[I];let D;if(B.isInterleavedBufferAttribute){const L=c(t.data,B.data);D=new cc(L,B.itemSize,B.offset,B.normalized)}else{const L=_s(B.type,B.array),R=B.isInstancedBufferAttribute?jh:tn;D=new R(L,B.itemSize,B.normalized)}B.name!==void 0&&(D.name=B.name),B.usage!==void 0&&D.setUsage(B.usage),f.setAttribute(I,D)}const _=t.data.morphAttributes;if(_)for(const I in _){const B=_[I],D=[];for(let L=0,R=B.length;L<R;L++){const G=B[L];let X;if(G.isInterleavedBufferAttribute){const H=c(t.data,G.data);X=new cc(H,G.itemSize,G.offset,G.normalized)}else{const H=_s(G.type,G.array);X=new tn(H,G.itemSize,G.normalized)}G.name!==void 0&&(X.name=G.name),D.push(X)}f.morphAttributes[I]=D}t.data.morphTargetsRelative&&(f.morphTargetsRelative=!0);const A=t.data.groups||t.data.drawcalls||t.data.offsets;if(A!==void 0)for(let I=0,B=A.length;I!==B;++I){const D=A[I];f.addGroup(D.start,D.count,D.materialIndex)}const E=t.data.boundingSphere;if(E!==void 0){const I=new ie;E.center!==void 0&&I.fromArray(E.center),f.boundingSphere=new jr(I,E.radius)}return t.name&&(f.name=t.name),t.userData&&(f.userData=t.userData),f}}class f6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=this,f=this.path===""?mv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||f;const b=new za(this.manager);b.setPath(this.path),b.setRequestHeader(this.requestHeader),b.setWithCredentials(this.withCredentials),b.load(t,function(C){let _=null;try{_=JSON.parse(C)}catch(A){c!==void 0&&c(A),console.error("THREE:ObjectLoader: Can't parse "+t+".",A.message);return}const N=_.metadata;if(N===void 0||N.type===void 0||N.type.toLowerCase()==="geometry"){c!==void 0&&c(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}u.parse(_,i)},s,c)}async loadAsync(t,i){const s=this,c=this.path===""?mv.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||c;const u=new za(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials);const f=await u.loadAsync(t,i),b=JSON.parse(f),C=b.metadata;if(C===void 0||C.type===void 0||C.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await s.parseAsync(b)}parse(t,i){const s=this.parseAnimations(t.animations),c=this.parseShapes(t.shapes),u=this.parseGeometries(t.geometries,c),f=this.parseImages(t.images,function(){i!==void 0&&i(_)}),b=this.parseTextures(t.textures,f),C=this.parseMaterials(t.materials,b),_=this.parseObject(t.object,u,C,b,s),N=this.parseSkeletons(t.skeletons,_);if(this.bindSkeletons(_,N),i!==void 0){let A=!1;for(const E in f)if(f[E].data instanceof HTMLImageElement){A=!0;break}A===!1&&i(_)}return _}async parseAsync(t){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),c=this.parseGeometries(t.geometries,s),u=await this.parseImagesAsync(t.images),f=this.parseTextures(t.textures,u),b=this.parseMaterials(t.materials,f),C=this.parseObject(t.object,c,b,f,i),_=this.parseSkeletons(t.skeletons,C);return this.bindSkeletons(C,_),C}parseShapes(t){const i={};if(t!==void 0)for(let s=0,c=t.length;s<c;s++){const u=new uc().fromJSON(t[s]);i[u.uuid]=u}return i}parseSkeletons(t,i){const s={},c={};if(i.traverse(function(u){u.isBone&&(c[u.uuid]=u)}),t!==void 0)for(let u=0,f=t.length;u<f;u++){const b=new Pf().fromJSON(t[u],c);s[b.uuid]=b}return s}parseGeometries(t,i){const s={};if(t!==void 0){const c=new yT;for(let u=0,f=t.length;u<f;u++){let b;const C=t[u];switch(C.type){case"BufferGeometry":case"InstancedBufferGeometry":b=c.parse(C);break;default:C.type in V_?b=V_[C.type].fromJSON(C,i):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${C.type}"`)}b.uuid=C.uuid,C.name!==void 0&&(b.name=C.name),C.userData!==void 0&&(b.userData=C.userData),s[C.uuid]=b}}return s}parseMaterials(t,i){const s={},c={};if(t!==void 0){const u=new h1;u.setTextures(i);for(let f=0,b=t.length;f<b;f++){const C=t[f];s[C.uuid]===void 0&&(s[C.uuid]=u.parse(C)),c[C.uuid]=s[C.uuid]}}return c}parseAnimations(t){const i={};if(t!==void 0)for(let s=0;s<t.length;s++){const c=t[s],u=bm.parse(c);i[u.uuid]=u}return i}parseImages(t,i){const s=this,c={};let u;function f(C){return s.manager.itemStart(C),u.load(C,function(){s.manager.itemEnd(C)},void 0,function(){s.manager.itemError(C),s.manager.itemEnd(C)})}function b(C){if(typeof C=="string"){const _=C,N=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:s.resourcePath+_;return f(N)}else return C.data?{data:_s(C.type,C.data),width:C.width,height:C.height}:null}if(t!==void 0&&t.length>0){const C=new cv(i);u=new vm(C),u.setCrossOrigin(this.crossOrigin);for(let _=0,N=t.length;_<N;_++){const A=t[_],E=A.url;if(Array.isArray(E)){const I=[];for(let B=0,D=E.length;B<D;B++){const L=E[B],R=b(L);R!==null&&(R instanceof HTMLImageElement?I.push(R):I.push(new Ws(R.data,R.width,R.height)))}c[A.uuid]=new Ia(I)}else{const I=b(A.url);c[A.uuid]=new Ia(I)}}}return c}async parseImagesAsync(t){const i=this,s={};let c;async function u(f){if(typeof f=="string"){const b=f,C=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(b)?b:i.resourcePath+b;return await c.loadAsync(C)}else return f.data?{data:_s(f.type,f.data),width:f.width,height:f.height}:null}if(t!==void 0&&t.length>0){c=new vm(this.manager),c.setCrossOrigin(this.crossOrigin);for(let f=0,b=t.length;f<b;f++){const C=t[f],_=C.url;if(Array.isArray(_)){const N=[];for(let A=0,E=_.length;A<E;A++){const I=_[A],B=await u(I);B!==null&&(B instanceof HTMLImageElement?N.push(B):N.push(new Ws(B.data,B.width,B.height)))}s[C.uuid]=new Ia(N)}else{const N=await u(C.url);s[C.uuid]=new Ia(N)}}}return s}parseTextures(t,i){function s(u,f){return typeof u=="number"?u:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",u),f[u])}const c={};if(t!==void 0)for(let u=0,f=t.length;u<f;u++){const b=t[u];b.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',b.uuid),i[b.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",b.image);const C=i[b.image],_=C.data;let N;Array.isArray(_)?(N=new ja,_.length===6&&(N.needsUpdate=!0)):(_&&_.data?N=new Ws:N=new or,_&&(N.needsUpdate=!0)),N.source=C,N.uuid=b.uuid,b.name!==void 0&&(N.name=b.name),b.mapping!==void 0&&(N.mapping=s(b.mapping,g6)),b.channel!==void 0&&(N.channel=b.channel),b.offset!==void 0&&N.offset.fromArray(b.offset),b.repeat!==void 0&&N.repeat.fromArray(b.repeat),b.center!==void 0&&N.center.fromArray(b.center),b.rotation!==void 0&&(N.rotation=b.rotation),b.wrap!==void 0&&(N.wrapS=s(b.wrap[0],xT),N.wrapT=s(b.wrap[1],xT)),b.format!==void 0&&(N.format=b.format),b.internalFormat!==void 0&&(N.internalFormat=b.internalFormat),b.type!==void 0&&(N.type=b.type),b.colorSpace!==void 0&&(N.colorSpace=b.colorSpace),b.minFilter!==void 0&&(N.minFilter=s(b.minFilter,CT)),b.magFilter!==void 0&&(N.magFilter=s(b.magFilter,CT)),b.anisotropy!==void 0&&(N.anisotropy=b.anisotropy),b.flipY!==void 0&&(N.flipY=b.flipY),b.generateMipmaps!==void 0&&(N.generateMipmaps=b.generateMipmaps),b.premultiplyAlpha!==void 0&&(N.premultiplyAlpha=b.premultiplyAlpha),b.unpackAlignment!==void 0&&(N.unpackAlignment=b.unpackAlignment),b.compareFunction!==void 0&&(N.compareFunction=b.compareFunction),b.userData!==void 0&&(N.userData=b.userData),c[b.uuid]=N}return c}parseObject(t,i,s,c,u){let f;function b(E){return i[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",E),i[E]}function C(E){if(E!==void 0){if(Array.isArray(E)){const I=[];for(let B=0,D=E.length;B<D;B++){const L=E[B];s[L]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",L),I.push(s[L])}return I}return s[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",E),s[E]}}function _(E){return c[E]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",E),c[E]}let N,A;switch(t.type){case"Scene":f=new n_,t.background!==void 0&&(Number.isInteger(t.background)?f.background=new _t(t.background):f.background=_(t.background)),t.environment!==void 0&&(f.environment=_(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?f.fog=new Nf(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(f.fog=new wf(t.fog.color,t.fog.density)),t.fog.name!==""&&(f.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(f.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(f.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&f.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(f.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&f.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":f=new Cr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(f.focus=t.focus),t.zoom!==void 0&&(f.zoom=t.zoom),t.filmGauge!==void 0&&(f.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(f.filmOffset=t.filmOffset),t.view!==void 0&&(f.view=Object.assign({},t.view));break;case"OrthographicCamera":f=new xf(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(f.zoom=t.zoom),t.view!==void 0&&(f.view=Object.assign({},t.view));break;case"AmbientLight":f=new pT(t.color,t.intensity);break;case"DirectionalLight":f=new mT(t.color,t.intensity);break;case"PointLight":f=new dT(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":f=new fT(t.color,t.intensity,t.width,t.height);break;case"SpotLight":f=new hT(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":f=new sT(t.color,t.groundColor,t.intensity);break;case"LightProbe":f=new bT().fromJSON(t);break;case"SkinnedMesh":N=b(t.geometry),A=C(t.material),f=new p_(N,A),t.bindMode!==void 0&&(f.bindMode=t.bindMode),t.bindMatrix!==void 0&&f.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(f.skeleton=t.skeleton);break;case"Mesh":N=b(t.geometry),A=C(t.material),f=new lr(N,A);break;case"InstancedMesh":N=b(t.geometry),A=C(t.material);const E=t.count,I=t.instanceMatrix,B=t.instanceColor;f=new v_(N,A,E),f.instanceMatrix=new jh(new Float32Array(I.array),16),B!==void 0&&(f.instanceColor=new jh(new Float32Array(B.array),B.itemSize));break;case"BatchedMesh":N=b(t.geometry),A=C(t.material),f=new C_(t.maxGeometryCount,t.maxVertexCount,t.maxIndexCount,A),f.geometry=N,f.perObjectFrustumCulled=t.perObjectFrustumCulled,f.sortObjects=t.sortObjects,f._drawRanges=t.drawRanges,f._reservedRanges=t.reservedRanges,f._visibility=t.visibility,f._active=t.active,f._bounds=t.bounds.map(D=>{const L=new Ur;L.min.fromArray(D.boxMin),L.max.fromArray(D.boxMax);const R=new jr;return R.radius=D.sphereRadius,R.center.fromArray(D.sphereCenter),{boxInitialized:D.boxInitialized,box:L,sphereInitialized:D.sphereInitialized,sphere:R}}),f._maxGeometryCount=t.maxGeometryCount,f._maxVertexCount=t.maxVertexCount,f._maxIndexCount=t.maxIndexCount,f._geometryInitialized=t.geometryInitialized,f._geometryCount=t.geometryCount,f._matricesTexture=_(t.matricesTexture.uuid);break;case"LOD":f=new l_;break;case"Line":f=new Hs(b(t.geometry),C(t.material));break;case"LineLoop":f=new M_(b(t.geometry),C(t.material));break;case"LineSegments":f=new Jo(b(t.geometry),C(t.material));break;case"PointCloud":case"Points":f=new A_(b(t.geometry),C(t.material));break;case"Sprite":f=new a_(C(t.material));break;case"Group":f=new Rh;break;case"Bone":f=new Xb;break;default:f=new Mn}if(f.uuid=t.uuid,t.name!==void 0&&(f.name=t.name),t.matrix!==void 0?(f.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(f.matrixAutoUpdate=t.matrixAutoUpdate),f.matrixAutoUpdate&&f.matrix.decompose(f.position,f.quaternion,f.scale)):(t.position!==void 0&&f.position.fromArray(t.position),t.rotation!==void 0&&f.rotation.fromArray(t.rotation),t.quaternion!==void 0&&f.quaternion.fromArray(t.quaternion),t.scale!==void 0&&f.scale.fromArray(t.scale)),t.up!==void 0&&f.up.fromArray(t.up),t.castShadow!==void 0&&(f.castShadow=t.castShadow),t.receiveShadow!==void 0&&(f.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(f.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(f.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(f.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&f.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(f.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(f.visible=t.visible),t.frustumCulled!==void 0&&(f.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(f.renderOrder=t.renderOrder),t.userData!==void 0&&(f.userData=t.userData),t.layers!==void 0&&(f.layers.mask=t.layers),t.children!==void 0){const E=t.children;for(let I=0;I<E.length;I++)f.add(this.parseObject(E[I],i,s,c,u))}if(t.animations!==void 0){const E=t.animations;for(let I=0;I<E.length;I++){const B=E[I];f.animations.push(u[B])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(f.autoUpdate=t.autoUpdate);const E=t.levels;for(let I=0;I<E.length;I++){const B=E[I],D=f.getObjectByProperty("uuid",B.object);D!==void 0&&f.addLevel(D,B.distance,B.hysteresis)}}return f}bindSkeletons(t,i){Object.keys(i).length!==0&&t.traverse(function(s){if(s.isSkinnedMesh===!0&&s.skeleton!==void 0){const c=i[s.skeleton];c===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",s.skeleton):s.bind(c,s.bindMatrix)}})}}const g6={UVMapping:ba,CubeReflectionMapping:fi,CubeRefractionMapping:Ni,EquirectangularReflectionMapping:Xo,EquirectangularRefractionMapping:zo,CubeUVReflectionMapping:va},xT={RepeatWrapping:Nl,ClampToEdgeWrapping:gi,MirroredRepeatWrapping:fs},CT={NearestFilter:gr,NearestMipmapNearestFilter:Ku,NearestMipmapLinearFilter:ya,LinearFilter:ur,LinearMipmapNearestFilter:Ml,LinearMipmapLinearFilter:Xi};class b6 extends xi{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,i,s,c){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const u=this,f=ka.get(t);if(f!==void 0){if(u.manager.itemStart(t),f.then){f.then(_=>{i&&i(_),u.manager.itemEnd(t)}).catch(_=>{c&&c(_)});return}return setTimeout(function(){i&&i(f),u.manager.itemEnd(t)},0),f}const b={};b.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",b.headers=this.requestHeader;const C=fetch(t,b).then(function(_){return _.blob()}).then(function(_){return createImageBitmap(_,Object.assign(u.options,{colorSpaceConversion:"none"}))}).then(function(_){return ka.add(t,_),i&&i(_),u.manager.itemEnd(t),_}).catch(function(_){c&&c(_),ka.remove(t),u.manager.itemError(t),u.manager.itemEnd(t)});ka.add(t,C),u.manager.itemStart(t)}}let u1;class pv{static getContext(){return u1===void 0&&(u1=new(window.AudioContext||window.webkitAudioContext)),u1}static setContext(t){u1=t}}class v6 extends xi{constructor(t){super(t)}load(t,i,s,c){const u=this,f=new za(this.manager);f.setResponseType("arraybuffer"),f.setPath(this.path),f.setRequestHeader(this.requestHeader),f.setWithCredentials(this.withCredentials),f.load(t,function(C){try{const _=C.slice(0);pv.getContext().decodeAudioData(_,function(A){i(A)}).catch(b)}catch(_){b(_)}},s,c);function b(C){c?c(C):console.error(C),u.manager.itemError(t)}}}const _T=new Ut,TT=new Ut,gc=new Ut;class y6{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Cr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Cr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const i=this._cache;if(i.focus!==t.focus||i.fov!==t.fov||i.aspect!==t.aspect*this.aspect||i.near!==t.near||i.far!==t.far||i.zoom!==t.zoom||i.eyeSep!==this.eyeSep){i.focus=t.focus,i.fov=t.fov,i.aspect=t.aspect*this.aspect,i.near=t.near,i.far=t.far,i.zoom=t.zoom,i.eyeSep=this.eyeSep,gc.copy(t.projectionMatrix);const c=i.eyeSep/2,u=c*i.near/i.focus,f=i.near*Math.tan(Ma*i.fov*.5)/i.zoom;let b,C;TT.elements[12]=-c,_T.elements[12]=c,b=-f*i.aspect+u,C=f*i.aspect+u,gc.elements[0]=2*i.near/(C-b),gc.elements[8]=(C+b)/(C-b),this.cameraL.projectionMatrix.copy(gc),b=-f*i.aspect-u,C=f*i.aspect-u,gc.elements[0]=2*i.near/(C-b),gc.elements[8]=(C+b)/(C-b),this.cameraR.projectionMatrix.copy(gc)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(TT),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(_T)}}class wT{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=NT(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=NT();t=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=t}return t}}function NT(){return(typeof performance>"u"?Date:performance).now()}const bc=new ie,MT=new Hr,x6=new ie,vc=new ie;class C6 extends Mn{constructor(){super(),this.type="AudioListener",this.context=pv.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new wT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const i=this.context.listener,s=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bc,MT,x6),vc.set(0,0,-1).applyQuaternion(MT),i.positionX){const c=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(bc.x,c),i.positionY.linearRampToValueAtTime(bc.y,c),i.positionZ.linearRampToValueAtTime(bc.z,c),i.forwardX.linearRampToValueAtTime(vc.x,c),i.forwardY.linearRampToValueAtTime(vc.y,c),i.forwardZ.linearRampToValueAtTime(vc.z,c),i.upX.linearRampToValueAtTime(s.x,c),i.upY.linearRampToValueAtTime(s.y,c),i.upZ.linearRampToValueAtTime(s.z,c)}else i.setPosition(bc.x,bc.y,bc.z),i.setOrientation(vc.x,vc.y,vc.z,s.x,s.y,s.z)}}class ST extends Mn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,i=this.filters.length;t<i;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,i=this.filters.length;t<i;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}const yc=new ie,AT=new Hr,_6=new ie,xc=new ie;class T6 extends ST{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,i,s){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=s,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(yc,AT,_6),xc.set(0,0,1).applyQuaternion(AT);const i=this.panner;if(i.positionX){const s=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(yc.x,s),i.positionY.linearRampToValueAtTime(yc.y,s),i.positionZ.linearRampToValueAtTime(yc.z,s),i.orientationX.linearRampToValueAtTime(xc.x,s),i.orientationY.linearRampToValueAtTime(xc.y,s),i.orientationZ.linearRampToValueAtTime(xc.z,s)}else i.setPosition(yc.x,yc.y,yc.z),i.setOrientation(xc.x,xc.y,xc.z)}}class w6{constructor(t,i=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const i=this.getFrequencyData();for(let s=0;s<i.length;s++)t+=i[s];return t/i.length}}class ET{constructor(t,i,s){this.binding=t,this.valueSize=s;let c,u,f;switch(i){case"quaternion":c=this._slerp,u=this._slerpAdditive,f=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(s*6),this._workIndex=5;break;case"string":case"bool":c=this._select,u=this._select,f=this._setAdditiveIdentityOther,this.buffer=new Array(s*5);break;default:c=this._lerp,u=this._lerpAdditive,f=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(s*5)}this._mixBufferRegion=c,this._mixBufferRegionAdditive=u,this._setIdentity=f,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,i){const s=this.buffer,c=this.valueSize,u=t*c+c;let f=this.cumulativeWeight;if(f===0){for(let b=0;b!==c;++b)s[u+b]=s[b];f=i}else{f+=i;const b=i/f;this._mixBufferRegion(s,u,0,b,c)}this.cumulativeWeight=f}accumulateAdditive(t){const i=this.buffer,s=this.valueSize,c=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(i,c,0,t,s),this.cumulativeWeightAdditive+=t}apply(t){const i=this.valueSize,s=this.buffer,c=t*i+i,u=this.cumulativeWeight,f=this.cumulativeWeightAdditive,b=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,u<1){const C=i*this._origIndex;this._mixBufferRegion(s,c,C,1-u,i)}f>0&&this._mixBufferRegionAdditive(s,c,this._addIndex*i,1,i);for(let C=i,_=i+i;C!==_;++C)if(s[C]!==s[C+i]){b.setValue(s,c);break}}saveOriginalState(){const t=this.binding,i=this.buffer,s=this.valueSize,c=s*this._origIndex;t.getValue(i,c);for(let u=s,f=c;u!==f;++u)i[u]=i[c+u%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,i=t+this.valueSize;for(let s=t;s<i;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[i+s]=this.buffer[t+s]}_select(t,i,s,c,u){if(c>=.5)for(let f=0;f!==u;++f)t[i+f]=t[s+f]}_slerp(t,i,s,c){Hr.slerpFlat(t,i,t,i,t,s,c)}_slerpAdditive(t,i,s,c,u){const f=this._workIndex*u;Hr.multiplyQuaternionsFlat(t,f,t,i,t,s),Hr.slerpFlat(t,i,t,i,t,f,c)}_lerp(t,i,s,c,u){const f=1-c;for(let b=0;b!==u;++b){const C=i+b;t[C]=t[C]*f+t[s+b]*c}}_lerpAdditive(t,i,s,c,u){for(let f=0;f!==u;++f){const b=i+f;t[b]=t[b]+t[s+f]*c}}}const fv="\\[\\]\\.:\\/",N6=new RegExp("["+fv+"]","g"),gv="[^"+fv+"]",M6="[^"+fv.replace("\\.","")+"]",S6=/((?:WC+[\/:])*)/.source.replace("WC",gv),A6=/(WCOD+)?/.source.replace("WCOD",M6),E6=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gv),I6=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gv),R6=new RegExp("^"+S6+A6+E6+I6+"$"),P6=["material","materials","bones","map"];class B6{constructor(t,i,s){const c=s||In.parseTrackName(i);this._targetGroup=t,this._bindings=t.subscribe_(i,c)}getValue(t,i){this.bind();const s=this._targetGroup.nCachedObjects_,c=this._bindings[s];c!==void 0&&c.getValue(t,i)}setValue(t,i){const s=this._bindings;for(let c=this._targetGroup.nCachedObjects_,u=s.length;c!==u;++c)s[c].setValue(t,i)}bind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=t.length;i!==s;++i)t[i].bind()}unbind(){const t=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=t.length;i!==s;++i)t[i].unbind()}}class In{constructor(t,i,s){this.path=i,this.parsedPath=s||In.parseTrackName(i),this.node=In.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,s){return t&&t.isAnimationObjectGroup?new In.Composite(t,i,s):new In(t,i,s)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(N6,"")}static parseTrackName(t){const i=R6.exec(t);if(i===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},c=s.nodeName&&s.nodeName.lastIndexOf(".");if(c!==void 0&&c!==-1){const u=s.nodeName.substring(c+1);P6.indexOf(u)!==-1&&(s.nodeName=s.nodeName.substring(0,c),s.objectName=u)}if(s.propertyName===null||s.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return s}static findNode(t,i){if(i===void 0||i===""||i==="."||i===-1||i===t.name||i===t.uuid)return t;if(t.skeleton){const s=t.skeleton.getBoneByName(i);if(s!==void 0)return s}if(t.children){const s=function(u){for(let f=0;f<u.length;f++){const b=u[f];if(b.name===i||b.uuid===i)return b;const C=s(b.children);if(C)return C}return null},c=s(t.children);if(c)return c}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const s=this.resolvedProperty;for(let c=0,u=s.length;c!==u;++c)t[i++]=s[c]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const s=this.resolvedProperty;for(let c=0,u=s.length;c!==u;++c)s[c]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const s=this.resolvedProperty;for(let c=0,u=s.length;c!==u;++c)s[c]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const s=this.resolvedProperty;for(let c=0,u=s.length;c!==u;++c)s[c]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,s=i.objectName,c=i.propertyName;let u=i.propertyIndex;if(t||(t=In.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(s){let _=i.objectIndex;switch(s){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let N=0;N<t.length;N++)if(t[N].name===_){_=N;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[s]}if(_!==void 0){if(t[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[_]}}const f=t[c];if(f===void 0){const _=i.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+_+"."+c+" but it wasn't found.",t);return}let b=this.Versioning.None;this.targetObject=t,t.needsUpdate!==void 0?b=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(b=this.Versioning.MatrixWorldNeedsUpdate);let C=this.BindingType.Direct;if(u!==void 0){if(c==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[u]!==void 0&&(u=t.morphTargetDictionary[u])}C=this.BindingType.ArrayElement,this.resolvedProperty=f,this.propertyIndex=u}else f.fromArray!==void 0&&f.toArray!==void 0?(C=this.BindingType.HasFromToArray,this.resolvedProperty=f):Array.isArray(f)?(C=this.BindingType.EntireArray,this.resolvedProperty=f):this.propertyName=c;this.getValue=this.GetterByBindingType[C],this.setValue=this.SetterByBindingTypeAndVersioning[C][b]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}In.Composite=B6,In.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},In.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},In.prototype.GetterByBindingType=[In.prototype._getValue_direct,In.prototype._getValue_array,In.prototype._getValue_arrayElement,In.prototype._getValue_toArray],In.prototype.SetterByBindingTypeAndVersioning=[[In.prototype._setValue_direct,In.prototype._setValue_direct_setNeedsUpdate,In.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[In.prototype._setValue_array,In.prototype._setValue_array_setNeedsUpdate,In.prototype._setValue_array_setMatrixWorldNeedsUpdate],[In.prototype._setValue_arrayElement,In.prototype._setValue_arrayElement_setNeedsUpdate,In.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[In.prototype._setValue_fromArray,In.prototype._setValue_fromArray_setNeedsUpdate,In.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class O6{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ai(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let s=0,c=arguments.length;s!==c;++s)t[arguments[s].uuid]=s;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}add(){const t=this._objects,i=this._indicesByUUID,s=this._paths,c=this._parsedPaths,u=this._bindings,f=u.length;let b,C=t.length,_=this.nCachedObjects_;for(let N=0,A=arguments.length;N!==A;++N){const E=arguments[N],I=E.uuid;let B=i[I];if(B===void 0){B=C++,i[I]=B,t.push(E);for(let D=0,L=f;D!==L;++D)u[D].push(new In(E,s[D],c[D]))}else if(B<_){b=t[B];const D=--_,L=t[D];i[L.uuid]=B,t[B]=L,i[I]=D,t[D]=E;for(let R=0,G=f;R!==G;++R){const X=u[R],H=X[D];let me=X[B];X[B]=H,me===void 0&&(me=new In(E,s[R],c[R])),X[D]=me}}else t[B]!==b&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=_}remove(){const t=this._objects,i=this._indicesByUUID,s=this._bindings,c=s.length;let u=this.nCachedObjects_;for(let f=0,b=arguments.length;f!==b;++f){const C=arguments[f],_=C.uuid,N=i[_];if(N!==void 0&&N>=u){const A=u++,E=t[A];i[E.uuid]=N,t[N]=E,i[_]=A,t[A]=C;for(let I=0,B=c;I!==B;++I){const D=s[I],L=D[A],R=D[N];D[N]=L,D[A]=R}}}this.nCachedObjects_=u}uncache(){const t=this._objects,i=this._indicesByUUID,s=this._bindings,c=s.length;let u=this.nCachedObjects_,f=t.length;for(let b=0,C=arguments.length;b!==C;++b){const _=arguments[b],N=_.uuid,A=i[N];if(A!==void 0)if(delete i[N],A<u){const E=--u,I=t[E],B=--f,D=t[B];i[I.uuid]=A,t[A]=I,i[D.uuid]=E,t[E]=D,t.pop();for(let L=0,R=c;L!==R;++L){const G=s[L],X=G[E],H=G[B];G[A]=X,G[E]=H,G.pop()}}else{const E=--f,I=t[E];E>0&&(i[I.uuid]=A),t[A]=I,t.pop();for(let B=0,D=c;B!==D;++B){const L=s[B];L[A]=L[E],L.pop()}}}this.nCachedObjects_=u}subscribe_(t,i){const s=this._bindingsIndicesByPath;let c=s[t];const u=this._bindings;if(c!==void 0)return u[c];const f=this._paths,b=this._parsedPaths,C=this._objects,_=C.length,N=this.nCachedObjects_,A=new Array(_);c=u.length,s[t]=c,f.push(t),b.push(i),u.push(A);for(let E=N,I=C.length;E!==I;++E){const B=C[E];A[E]=new In(B,t,i)}return A}unsubscribe_(t){const i=this._bindingsIndicesByPath,s=i[t];if(s!==void 0){const c=this._paths,u=this._parsedPaths,f=this._bindings,b=f.length-1,C=f[b],_=t[b];i[_]=s,f[s]=C,f.pop(),u[s]=u[b],u.pop(),c[s]=c[b],c.pop()}}}class IT{constructor(t,i,s=null,c=i.blendMode){this._mixer=t,this._clip=i,this._localRoot=s,this.blendMode=c;const u=i.tracks,f=u.length,b=new Array(f),C={endingStart:_a,endingEnd:_a};for(let _=0;_!==f;++_){const N=u[_].createInterpolant(null);b[_]=N,N.settings=C}this._interpolantSettings=C,this._interpolants=b,this._propertyBindings=new Array(f),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Bp,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,i){return this.loop=t,this.repetitions=i,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,i,s){if(t.fadeOut(i),this.fadeIn(i),s){const c=this._clip.duration,u=t._clip.duration,f=u/c,b=c/u;t.warp(1,f,i),this.warp(b,1,i)}return this}crossFadeTo(t,i,s){return t.crossFadeFrom(this,i,s)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,i,s){const c=this._mixer,u=c.time,f=this.timeScale;let b=this._timeScaleInterpolant;b===null&&(b=c._lendControlInterpolant(),this._timeScaleInterpolant=b);const C=b.parameterPositions,_=b.sampleValues;return C[0]=u,C[1]=u+s,_[0]=t/f,_[1]=i/f,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,i,s,c){if(!this.enabled){this._updateWeight(t);return}const u=this._startTime;if(u!==null){const C=(t-u)*s;C<0||s===0?i=0:(this._startTime=null,i=s*C)}i*=this._updateTimeScale(t);const f=this._updateTime(i),b=this._updateWeight(t);if(b>0){const C=this._interpolants,_=this._propertyBindings;switch(this.blendMode){case ys:for(let N=0,A=C.length;N!==A;++N)C[N].evaluate(f),_[N].accumulateAdditive(b);break;case sh:default:for(let N=0,A=C.length;N!==A;++N)C[N].evaluate(f),_[N].accumulate(c,b)}}}_updateWeight(t){let i=0;if(this.enabled){i=this.weight;const s=this._weightInterpolant;if(s!==null){const c=s.evaluate(t)[0];i*=c,t>s.parameterPositions[1]&&(this.stopFading(),c===0&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(t){let i=0;if(!this.paused){i=this.timeScale;const s=this._timeScaleInterpolant;if(s!==null){const c=s.evaluate(t)[0];i*=c,t>s.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i)}}return this._effectiveTimeScale=i,i}_updateTime(t){const i=this._clip.duration,s=this.loop;let c=this.time+t,u=this._loopCount;const f=s===Op;if(t===0)return u===-1?c:f&&(u&1)===1?i-c:c;if(s===Pp){u===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));n:{if(c>=i)c=i;else if(c<0)c=0;else{this.time=c;break n}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=c,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(u===-1&&(t>=0?(u=0,this._setEndings(!0,this.repetitions===0,f)):this._setEndings(this.repetitions===0,!0,f)),c>=i||c<0){const b=Math.floor(c/i);c-=i*b,u+=Math.abs(b);const C=this.repetitions-u;if(C<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=t>0?i:0,this.time=c,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(C===1){const _=t<0;this._setEndings(_,!_,f)}else this._setEndings(!1,!1,f);this._loopCount=u,this.time=c,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:b})}}else this.time=c;if(f&&(u&1)===1)return i-c}return c}_setEndings(t,i,s){const c=this._interpolantSettings;s?(c.endingStart=Wo,c.endingEnd=Wo):(t?c.endingStart=this.zeroSlopeAtStart?Wo:_a:c.endingStart=vs,i?c.endingEnd=this.zeroSlopeAtEnd?Wo:_a:c.endingEnd=vs)}_scheduleFading(t,i,s){const c=this._mixer,u=c.time;let f=this._weightInterpolant;f===null&&(f=c._lendControlInterpolant(),this._weightInterpolant=f);const b=f.parameterPositions,C=f.sampleValues;return b[0]=u,C[0]=i,b[1]=u+t,C[1]=s,this}}const L6=new Float32Array(1);class j6 extends Gi{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,i){const s=t._localRoot||this._root,c=t._clip.tracks,u=c.length,f=t._propertyBindings,b=t._interpolants,C=s.uuid,_=this._bindingsByRootAndName;let N=_[C];N===void 0&&(N={},_[C]=N);for(let A=0;A!==u;++A){const E=c[A],I=E.name;let B=N[I];if(B!==void 0)++B.referenceCount,f[A]=B;else{if(B=f[A],B!==void 0){B._cacheIndex===null&&(++B.referenceCount,this._addInactiveBinding(B,C,I));continue}const D=i&&i._propertyBindings[A].binding.parsedPath;B=new ET(In.create(s,I,D),E.ValueTypeName,E.getValueSize()),++B.referenceCount,this._addInactiveBinding(B,C,I),f[A]=B}b[A].resultBuffer=B.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const s=(t._localRoot||this._root).uuid,c=t._clip.uuid,u=this._actionsByClip[c];this._bindAction(t,u&&u.knownActions[0]),this._addInactiveAction(t,c,s)}const i=t._propertyBindings;for(let s=0,c=i.length;s!==c;++s){const u=i[s];u.useCount++===0&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const i=t._propertyBindings;for(let s=0,c=i.length;s!==c;++s){const u=i[s];--u.useCount===0&&(u.restoreOriginalState(),this._takeBackBinding(u))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const i=t._cacheIndex;return i!==null&&i<this._nActiveActions}_addInactiveAction(t,i,s){const c=this._actions,u=this._actionsByClip;let f=u[i];if(f===void 0)f={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,u[i]=f;else{const b=f.knownActions;t._byClipCacheIndex=b.length,b.push(t)}t._cacheIndex=c.length,c.push(t),f.actionByRoot[s]=t}_removeInactiveAction(t){const i=this._actions,s=i[i.length-1],c=t._cacheIndex;s._cacheIndex=c,i[c]=s,i.pop(),t._cacheIndex=null;const u=t._clip.uuid,f=this._actionsByClip,b=f[u],C=b.knownActions,_=C[C.length-1],N=t._byClipCacheIndex;_._byClipCacheIndex=N,C[N]=_,C.pop(),t._byClipCacheIndex=null;const A=b.actionByRoot,E=(t._localRoot||this._root).uuid;delete A[E],C.length===0&&delete f[u],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const i=t._propertyBindings;for(let s=0,c=i.length;s!==c;++s){const u=i[s];--u.referenceCount===0&&this._removeInactiveBinding(u)}}_lendAction(t){const i=this._actions,s=t._cacheIndex,c=this._nActiveActions++,u=i[c];t._cacheIndex=c,i[c]=t,u._cacheIndex=s,i[s]=u}_takeBackAction(t){const i=this._actions,s=t._cacheIndex,c=--this._nActiveActions,u=i[c];t._cacheIndex=c,i[c]=t,u._cacheIndex=s,i[s]=u}_addInactiveBinding(t,i,s){const c=this._bindingsByRootAndName,u=this._bindings;let f=c[i];f===void 0&&(f={},c[i]=f),f[s]=t,t._cacheIndex=u.length,u.push(t)}_removeInactiveBinding(t){const i=this._bindings,s=t.binding,c=s.rootNode.uuid,u=s.path,f=this._bindingsByRootAndName,b=f[c],C=i[i.length-1],_=t._cacheIndex;C._cacheIndex=_,i[_]=C,i.pop(),delete b[u],Object.keys(b).length===0&&delete f[c]}_lendBinding(t){const i=this._bindings,s=t._cacheIndex,c=this._nActiveBindings++,u=i[c];t._cacheIndex=c,i[c]=t,u._cacheIndex=s,i[s]=u}_takeBackBinding(t){const i=this._bindings,s=t._cacheIndex,c=--this._nActiveBindings,u=i[c];t._cacheIndex=c,i[c]=t,u._cacheIndex=s,i[s]=u}_lendControlInterpolant(){const t=this._controlInterpolants,i=this._nActiveControlInterpolants++;let s=t[i];return s===void 0&&(s=new sv(new Float32Array(2),new Float32Array(2),1,L6),s.__cacheIndex=i,t[i]=s),s}_takeBackControlInterpolant(t){const i=this._controlInterpolants,s=t.__cacheIndex,c=--this._nActiveControlInterpolants,u=i[c];t.__cacheIndex=c,i[c]=t,u.__cacheIndex=s,i[s]=u}clipAction(t,i,s){const c=i||this._root,u=c.uuid;let f=typeof t=="string"?bm.findByName(c,t):t;const b=f!==null?f.uuid:t,C=this._actionsByClip[b];let _=null;if(s===void 0&&(f!==null?s=f.blendMode:s=sh),C!==void 0){const A=C.actionByRoot[u];if(A!==void 0&&A.blendMode===s)return A;_=C.knownActions[0],f===null&&(f=_._clip)}if(f===null)return null;const N=new IT(this,f,i,s);return this._bindAction(N,_),this._addInactiveAction(N,b,u),N}existingAction(t,i){const s=i||this._root,c=s.uuid,u=typeof t=="string"?bm.findByName(s,t):t,f=u?u.uuid:t,b=this._actionsByClip[f];return b!==void 0&&b.actionByRoot[c]||null}stopAllAction(){const t=this._actions,i=this._nActiveActions;for(let s=i-1;s>=0;--s)t[s].stop();return this}update(t){t*=this.timeScale;const i=this._actions,s=this._nActiveActions,c=this.time+=t,u=Math.sign(t),f=this._accuIndex^=1;for(let _=0;_!==s;++_)i[_]._update(c,t,u,f);const b=this._bindings,C=this._nActiveBindings;for(let _=0;_!==C;++_)b[_].apply(f);return this}setTime(t){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const i=this._actions,s=t.uuid,c=this._actionsByClip,u=c[s];if(u!==void 0){const f=u.knownActions;for(let b=0,C=f.length;b!==C;++b){const _=f[b];this._deactivateAction(_);const N=_._cacheIndex,A=i[i.length-1];_._cacheIndex=null,_._byClipCacheIndex=null,A._cacheIndex=N,i[N]=A,i.pop(),this._removeInactiveBindingsForAction(_)}delete c[s]}}uncacheRoot(t){const i=t.uuid,s=this._actionsByClip;for(const f in s){const b=s[f].actionByRoot,C=b[i];C!==void 0&&(this._deactivateAction(C),this._removeInactiveAction(C))}const c=this._bindingsByRootAndName,u=c[i];if(u!==void 0)for(const f in u){const b=u[f];b.restoreOriginalState(),this._removeInactiveBinding(b)}}uncacheAction(t,i){const s=this.existingAction(t,i);s!==null&&(this._deactivateAction(s),this._removeInactiveAction(s))}}class bv{constructor(t){this.value=t}clone(){return new bv(this.value.clone===void 0?this.value:this.value.clone())}}let D6=0;class F6 extends Gi{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:D6++}),this.name="",this.usage=Dl,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const i=this.uniforms.indexOf(t);return i!==-1&&this.uniforms.splice(i,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(t){this.name=t.name,this.usage=t.usage;const i=t.uniforms;this.uniforms.length=0;for(let s=0,c=i.length;s<c;s++){const u=Array.isArray(i[s])?i[s]:[i[s]];for(let f=0;f<u.length;f++)this.uniforms.push(u[f].clone())}return this}clone(){return new this.constructor().copy(this)}}class k6 extends Mf{constructor(t,i,s=1){super(t,i),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const i=super.clone(t);return i.meshPerAttribute=this.meshPerAttribute,i}toJSON(t){const i=super.toJSON(t);return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=this.meshPerAttribute,i}}class X6{constructor(t,i,s,c,u){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=i,this.itemSize=s,this.elementSize=c,this.count=u,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,i){return this.type=t,this.elementSize=i,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const RT=new Ut;class z6{constructor(t,i,s=0,c=1/0){this.ray=new po(t,i),this.near=s,this.far=c,this.camera=null,this.layers=new As,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,i){this.ray.set(t,i)}setFromCamera(t,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}setFromXRController(t){return RT.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(RT),this}intersectObject(t,i=!0,s=[]){return vv(t,this,s,i),s.sort(PT),s}intersectObjects(t,i=!0,s=[]){for(let c=0,u=t.length;c<u;c++)vv(t[c],this,s,i);return s.sort(PT),s}}function PT(m,t){return m.distance-t.distance}function vv(m,t,i,s){if(m.layers.test(t.layers)&&m.raycast(t,i),s===!0){const c=m.children;for(let u=0,f=c.length;u<f;u++)vv(c[u],t,i,!0)}}class U6{constructor(t=1,i=0,s=0){return this.radius=t,this.phi=i,this.theta=s,this}set(t,i,s){return this.radius=t,this.phi=i,this.theta=s,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,i,s){return this.radius=Math.sqrt(t*t+i*i+s*s),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,s),this.phi=Math.acos(Hn(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class G6{constructor(t=1,i=0,s=0){return this.radius=t,this.theta=i,this.y=s,this}set(t,i,s){return this.radius=t,this.theta=i,this.y=s,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,i,s){return this.radius=Math.sqrt(t*t+s*s),this.theta=Math.atan2(t,s),this.y=i,this}clone(){return new this.constructor().copy(this)}}const BT=new He;class W6{constructor(t=new He(1/0,1/0),i=new He(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=i}set(t,i){return this.min.copy(t),this.max.copy(i),this}setFromPoints(t){this.makeEmpty();for(let i=0,s=t.length;i<s;i++)this.expandByPoint(t[i]);return this}setFromCenterAndSize(t,i){const s=BT.copy(i).multiplyScalar(.5);return this.min.copy(t).sub(s),this.max.copy(t).add(s),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,i){return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,i){return i.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,BT).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const OT=new ie,d1=new ie;class V6{constructor(t=new ie,i=new ie){this.start=t,this.end=i}set(t,i){return this.start.copy(t),this.end.copy(i),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,i){return this.delta(i).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,i){OT.subVectors(t,this.start),d1.subVectors(this.end,this.start);const s=d1.dot(d1);let u=d1.dot(OT)/s;return i&&(u=Hn(u,0,1)),u}closestPointToPoint(t,i,s){const c=this.closestPointToPointParameter(t,i);return this.delta(s).multiplyScalar(c).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const LT=new ie;class H6 extends Mn{constructor(t,i){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=i,this.type="SpotLightHelper";const s=new Jt,c=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let f=0,b=1,C=32;f<C;f++,b++){const _=f/C*Math.PI*2,N=b/C*Math.PI*2;c.push(Math.cos(_),Math.sin(_),1,Math.cos(N),Math.sin(N),1)}s.setAttribute("position",new It(c,3));const u=new ui({fog:!1,toneMapped:!1});this.cone=new Jo(s,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,i=t*Math.tan(this.light.angle);this.cone.scale.set(i,i,t),LT.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(LT),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ys=new ie,m1=new Ut,yv=new Ut;class $6 extends Jo{constructor(t){const i=jT(t),s=new Jt,c=[],u=[],f=new _t(0,0,1),b=new _t(0,1,0);for(let _=0;_<i.length;_++){const N=i[_];N.parent&&N.parent.isBone&&(c.push(0,0,0),c.push(0,0,0),u.push(f.r,f.g,f.b),u.push(b.r,b.g,b.b))}s.setAttribute("position",new It(c,3)),s.setAttribute("color",new It(u,3));const C=new ui({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(s,C),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=i,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const i=this.bones,s=this.geometry,c=s.getAttribute("position");yv.copy(this.root.matrixWorld).invert();for(let u=0,f=0;u<i.length;u++){const b=i[u];b.parent&&b.parent.isBone&&(m1.multiplyMatrices(yv,b.matrixWorld),Ys.setFromMatrixPosition(m1),c.setXYZ(f,Ys.x,Ys.y,Ys.z),m1.multiplyMatrices(yv,b.parent.matrixWorld),Ys.setFromMatrixPosition(m1),c.setXYZ(f+1,Ys.x,Ys.y,Ys.z),f+=2)}s.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function jT(m){const t=[];m.isBone===!0&&t.push(m);for(let i=0;i<m.children.length;i++)t.push.apply(t,jT(m.children[i]));return t}class q6 extends lr{constructor(t,i,s){const c=new mm(i,4,2),u=new $i({wireframe:!0,fog:!1,toneMapped:!1});super(c,u),this.light=t,this.color=s,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Y6=new ie,DT=new _t,FT=new _t;class K6 extends Mn{constructor(t,i,s){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=s,this.type="HemisphereLightHelper";const c=new dm(i);c.rotateY(Math.PI*.5),this.material=new $i({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const u=c.getAttribute("position"),f=new Float32Array(u.count*3);c.setAttribute("color",new tn(f,3)),this.add(new lr(c,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const i=t.geometry.getAttribute("color");DT.copy(this.light.color),FT.copy(this.light.groundColor);for(let s=0,c=i.count;s<c;s++){const u=s<c/2?DT:FT;i.setXYZ(s,u.r,u.g,u.b)}i.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(Y6.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Z6 extends Jo{constructor(t=10,i=10,s=4473924,c=8947848){s=new _t(s),c=new _t(c);const u=i/2,f=t/i,b=t/2,C=[],_=[];for(let E=0,I=0,B=-b;E<=i;E++,B+=f){C.push(-b,0,B,b,0,B),C.push(B,0,-b,B,0,b);const D=E===u?s:c;D.toArray(_,I),I+=3,D.toArray(_,I),I+=3,D.toArray(_,I),I+=3,D.toArray(_,I),I+=3}const N=new Jt;N.setAttribute("position",new It(C,3)),N.setAttribute("color",new It(_,3));const A=new ui({vertexColors:!0,toneMapped:!1});super(N,A),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class J6 extends Jo{constructor(t=10,i=16,s=8,c=64,u=4473924,f=8947848){u=new _t(u),f=new _t(f);const b=[],C=[];if(i>1)for(let A=0;A<i;A++){const E=A/i*(Math.PI*2),I=Math.sin(E)*t,B=Math.cos(E)*t;b.push(0,0,0),b.push(I,0,B);const D=A&1?u:f;C.push(D.r,D.g,D.b),C.push(D.r,D.g,D.b)}for(let A=0;A<s;A++){const E=A&1?u:f,I=t-t/s*A;for(let B=0;B<c;B++){let D=B/c*(Math.PI*2),L=Math.sin(D)*I,R=Math.cos(D)*I;b.push(L,0,R),C.push(E.r,E.g,E.b),D=(B+1)/c*(Math.PI*2),L=Math.sin(D)*I,R=Math.cos(D)*I,b.push(L,0,R),C.push(E.r,E.g,E.b)}}const _=new Jt;_.setAttribute("position",new It(b,3)),_.setAttribute("color",new It(C,3));const N=new ui({vertexColors:!0,toneMapped:!1});super(_,N),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const kT=new ie,p1=new ie,XT=new ie;class Q6 extends Mn{constructor(t,i,s){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=s,this.type="DirectionalLightHelper",i===void 0&&(i=1);let c=new Jt;c.setAttribute("position",new It([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));const u=new ui({fog:!1,toneMapped:!1});this.lightPlane=new Hs(c,u),this.add(this.lightPlane),c=new Jt,c.setAttribute("position",new It([0,0,0,0,0,1],3)),this.targetLine=new Hs(c,u),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),kT.setFromMatrixPosition(this.light.matrixWorld),p1.setFromMatrixPosition(this.light.target.matrixWorld),XT.subVectors(p1,kT),this.lightPlane.lookAt(p1),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(p1),this.targetLine.scale.z=XT.length()}}const f1=new ie,mr=new nc;class e8 extends Jo{constructor(t){const i=new Jt,s=new ui({color:16777215,vertexColors:!0,toneMapped:!1}),c=[],u=[],f={};b("n1","n2"),b("n2","n4"),b("n4","n3"),b("n3","n1"),b("f1","f2"),b("f2","f4"),b("f4","f3"),b("f3","f1"),b("n1","f1"),b("n2","f2"),b("n3","f3"),b("n4","f4"),b("p","n1"),b("p","n2"),b("p","n3"),b("p","n4"),b("u1","u2"),b("u2","u3"),b("u3","u1"),b("c","t"),b("p","c"),b("cn1","cn2"),b("cn3","cn4"),b("cf1","cf2"),b("cf3","cf4");function b(B,D){C(B),C(D)}function C(B){c.push(0,0,0),u.push(0,0,0),f[B]===void 0&&(f[B]=[]),f[B].push(c.length/3-1)}i.setAttribute("position",new It(c,3)),i.setAttribute("color",new It(u,3)),super(i,s),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=f,this.update();const _=new _t(16755200),N=new _t(16711680),A=new _t(43775),E=new _t(16777215),I=new _t(3355443);this.setColors(_,N,A,E,I)}setColors(t,i,s,c,u){const b=this.geometry.getAttribute("color");b.setXYZ(0,t.r,t.g,t.b),b.setXYZ(1,t.r,t.g,t.b),b.setXYZ(2,t.r,t.g,t.b),b.setXYZ(3,t.r,t.g,t.b),b.setXYZ(4,t.r,t.g,t.b),b.setXYZ(5,t.r,t.g,t.b),b.setXYZ(6,t.r,t.g,t.b),b.setXYZ(7,t.r,t.g,t.b),b.setXYZ(8,t.r,t.g,t.b),b.setXYZ(9,t.r,t.g,t.b),b.setXYZ(10,t.r,t.g,t.b),b.setXYZ(11,t.r,t.g,t.b),b.setXYZ(12,t.r,t.g,t.b),b.setXYZ(13,t.r,t.g,t.b),b.setXYZ(14,t.r,t.g,t.b),b.setXYZ(15,t.r,t.g,t.b),b.setXYZ(16,t.r,t.g,t.b),b.setXYZ(17,t.r,t.g,t.b),b.setXYZ(18,t.r,t.g,t.b),b.setXYZ(19,t.r,t.g,t.b),b.setXYZ(20,t.r,t.g,t.b),b.setXYZ(21,t.r,t.g,t.b),b.setXYZ(22,t.r,t.g,t.b),b.setXYZ(23,t.r,t.g,t.b),b.setXYZ(24,i.r,i.g,i.b),b.setXYZ(25,i.r,i.g,i.b),b.setXYZ(26,i.r,i.g,i.b),b.setXYZ(27,i.r,i.g,i.b),b.setXYZ(28,i.r,i.g,i.b),b.setXYZ(29,i.r,i.g,i.b),b.setXYZ(30,i.r,i.g,i.b),b.setXYZ(31,i.r,i.g,i.b),b.setXYZ(32,s.r,s.g,s.b),b.setXYZ(33,s.r,s.g,s.b),b.setXYZ(34,s.r,s.g,s.b),b.setXYZ(35,s.r,s.g,s.b),b.setXYZ(36,s.r,s.g,s.b),b.setXYZ(37,s.r,s.g,s.b),b.setXYZ(38,c.r,c.g,c.b),b.setXYZ(39,c.r,c.g,c.b),b.setXYZ(40,u.r,u.g,u.b),b.setXYZ(41,u.r,u.g,u.b),b.setXYZ(42,u.r,u.g,u.b),b.setXYZ(43,u.r,u.g,u.b),b.setXYZ(44,u.r,u.g,u.b),b.setXYZ(45,u.r,u.g,u.b),b.setXYZ(46,u.r,u.g,u.b),b.setXYZ(47,u.r,u.g,u.b),b.setXYZ(48,u.r,u.g,u.b),b.setXYZ(49,u.r,u.g,u.b),b.needsUpdate=!0}update(){const t=this.geometry,i=this.pointMap,s=1,c=1;mr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),br("c",i,t,mr,0,0,-1),br("t",i,t,mr,0,0,1),br("n1",i,t,mr,-s,-c,-1),br("n2",i,t,mr,s,-c,-1),br("n3",i,t,mr,-s,c,-1),br("n4",i,t,mr,s,c,-1),br("f1",i,t,mr,-s,-c,1),br("f2",i,t,mr,s,-c,1),br("f3",i,t,mr,-s,c,1),br("f4",i,t,mr,s,c,1),br("u1",i,t,mr,s*.7,c*1.1,-1),br("u2",i,t,mr,-s*.7,c*1.1,-1),br("u3",i,t,mr,0,c*2,-1),br("cf1",i,t,mr,-s,0,1),br("cf2",i,t,mr,s,0,1),br("cf3",i,t,mr,0,-c,1),br("cf4",i,t,mr,0,c,1),br("cn1",i,t,mr,-s,0,-1),br("cn2",i,t,mr,s,0,-1),br("cn3",i,t,mr,0,-c,-1),br("cn4",i,t,mr,0,c,-1),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function br(m,t,i,s,c,u,f){f1.set(c,u,f).unproject(s);const b=t[m];if(b!==void 0){const C=i.getAttribute("position");for(let _=0,N=b.length;_<N;_++)C.setXYZ(b[_],f1.x,f1.y,f1.z)}}const g1=new Ur;class t8 extends Jo{constructor(t,i=16776960){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=new Float32Array(8*3),u=new Jt;u.setIndex(new tn(s,1)),u.setAttribute("position",new tn(c,3)),super(u,new ui({color:i,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(t){if(t!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&g1.setFromObject(this.object),g1.isEmpty())return;const i=g1.min,s=g1.max,c=this.geometry.attributes.position,u=c.array;u[0]=s.x,u[1]=s.y,u[2]=s.z,u[3]=i.x,u[4]=s.y,u[5]=s.z,u[6]=i.x,u[7]=i.y,u[8]=s.z,u[9]=s.x,u[10]=i.y,u[11]=s.z,u[12]=s.x,u[13]=s.y,u[14]=i.z,u[15]=i.x,u[16]=s.y,u[17]=i.z,u[18]=i.x,u[19]=i.y,u[20]=i.z,u[21]=s.x,u[22]=i.y,u[23]=i.z,c.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,i){return super.copy(t,i),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class n8 extends Jo{constructor(t,i=16776960){const s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),c=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],u=new Jt;u.setIndex(new tn(s,1)),u.setAttribute("position",new It(c,3)),super(u,new ui({color:i,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class r8 extends Hs{constructor(t,i=1,s=16776960){const c=s,u=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],f=new Jt;f.setAttribute("position",new It(u,3)),f.computeBoundingSphere(),super(f,new ui({color:c,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=i;const b=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],C=new Jt;C.setAttribute("position",new It(b,3)),C.computeBoundingSphere(),this.add(new lr(C,new $i({color:c,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const zT=new ie;let b1,xv;class i8 extends Mn{constructor(t=new ie(0,0,1),i=new ie(0,0,0),s=1,c=16776960,u=s*.2,f=u*.2){super(),this.type="ArrowHelper",b1===void 0&&(b1=new Jt,b1.setAttribute("position",new It([0,0,0,0,1,0],3)),xv=new kh(0,.5,1,5,1),xv.translate(0,-.5,0)),this.position.copy(i),this.line=new Hs(b1,new ui({color:c,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new lr(xv,new $i({color:c,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(s,u,f)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{zT.set(t.z,0,-t.x).normalize();const i=Math.acos(t.y);this.quaternion.setFromAxisAngle(zT,i)}}setLength(t,i=t*.2,s=i*.2){this.line.scale.set(1,Math.max(1e-4,t-i),1),this.line.updateMatrix(),this.cone.scale.set(s,i,s),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class o8 extends Jo{constructor(t=1){const i=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],s=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],c=new Jt;c.setAttribute("position",new It(i,3)),c.setAttribute("color",new It(s,3));const u=new ui({vertexColors:!0,toneMapped:!1});super(c,u),this.type="AxesHelper"}setColors(t,i,s){const c=new _t,u=this.geometry.attributes.color.array;return c.set(t),c.toArray(u,0),c.toArray(u,3),c.set(i),c.toArray(u,6),c.toArray(u,9),c.set(s),c.toArray(u,12),c.toArray(u,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class a8{constructor(){this.type="ShapePath",this.color=new _t,this.subPaths=[],this.currentPath=null}moveTo(t,i){return this.currentPath=new sm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,i),this}lineTo(t,i){return this.currentPath.lineTo(t,i),this}quadraticCurveTo(t,i,s,c){return this.currentPath.quadraticCurveTo(t,i,s,c),this}bezierCurveTo(t,i,s,c,u,f){return this.currentPath.bezierCurveTo(t,i,s,c,u,f),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function i(R){const G=[];for(let X=0,H=R.length;X<H;X++){const me=R[X],te=new uc;te.curves=me.curves,G.push(te)}return G}function s(R,G){const X=G.length;let H=!1;for(let me=X-1,te=0;te<X;me=te++){let le=G[me],ye=G[te],J=ye.x-le.x,$=ye.y-le.y;if(Math.abs($)>Number.EPSILON){if($<0&&(le=G[te],J=-J,ye=G[me],$=-$),R.y<le.y||R.y>ye.y)continue;if(R.y===le.y){if(R.x===le.x)return!0}else{const we=$*(R.x-le.x)-J*(R.y-le.y);if(we===0)return!0;if(we<0)continue;H=!H}}else{if(R.y!==le.y)continue;if(ye.x<=R.x&&R.x<=le.x||le.x<=R.x&&R.x<=ye.x)return!0}}return H}const c=Qo.isClockWise,u=this.subPaths;if(u.length===0)return[];let f,b,C;const _=[];if(u.length===1)return b=u[0],C=new uc,C.curves=b.curves,_.push(C),_;let N=!c(u[0].getPoints());N=t?!N:N;const A=[],E=[];let I=[],B=0,D;E[B]=void 0,I[B]=[];for(let R=0,G=u.length;R<G;R++)b=u[R],D=b.getPoints(),f=c(D),f=t?!f:f,f?(!N&&E[B]&&B++,E[B]={s:new uc,p:D},E[B].s.curves=b.curves,N&&B++,I[B]=[]):I[B].push({h:b,p:D[0]});if(!E[0])return i(u);if(E.length>1){let R=!1,G=0;for(let X=0,H=E.length;X<H;X++)A[X]=[];for(let X=0,H=E.length;X<H;X++){const me=I[X];for(let te=0;te<me.length;te++){const le=me[te];let ye=!0;for(let J=0;J<E.length;J++)s(le.p,E[J].p)&&(X!==J&&G++,ye?(ye=!1,A[J].push(le)):R=!0);ye&&A[X].push(le)}}G>0&&R===!1&&(I=A)}let L;for(let R=0,G=E.length;R<G;R++){C=E[R].s,_.push(C),L=I[R];for(let X=0,H=L.length;X<H;X++)C.holes.push(L[X].h)}return _}}class s8 extends vi{constructor(t=1,i=1,s=1,c={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(t,i,{...c,count:s}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}return typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=a),U.ACESFilmicToneMapping=ps,U.AddEquation=q,U.AddOperation=yr,U.AdditiveAnimationBlendMode=ys,U.AdditiveBlending=S,U.AgXToneMapping=Tl,U.AlphaFormat=Ep,U.AlwaysCompare=Hp,U.AlwaysDepth=Bt,U.AlwaysStencilFunc=_d,U.AmbientLight=pT,U.AnimationAction=IT,U.AnimationClip=bm,U.AnimationLoader=s6,U.AnimationMixer=j6,U.AnimationObjectGroup=O6,U.AnimationUtils=r6,U.ArcCurve=I_,U.ArrayCamera=t_,U.ArrowHelper=i8,U.AttachedBindMode=ao,U.Audio=ST,U.AudioAnalyser=w6,U.AudioContext=pv,U.AudioListener=C6,U.AudioLoader=v6,U.AxesHelper=o8,U.BackSide=x,U.BasicDepthPacking=jp,U.BasicShadowMap=d,U.BatchedMesh=C_,U.Bone=Xb,U.BooleanKeyframeTrack=pc,U.Box2=W6,U.Box3=Ur,U.Box3Helper=n8,U.BoxGeometry=Oa,U.BoxHelper=t8,U.BufferAttribute=tn,U.BufferGeometry=Jt,U.BufferGeometryLoader=yT,U.ByteType=Mp,U.Cache=ka,U.Camera=nc,U.CameraHelper=e8,U.CanvasTexture=SP,U.CapsuleGeometry=Hf,U.CatmullRomCurve3=R_,U.CineonToneMapping=ms,U.CircleGeometry=$f,U.ClampToEdgeWrapping=gi,U.Clock=wT,U.Color=_t,U.ColorKeyframeTrack=lv,U.ColorManagement=Ln,U.CompressedArrayTexture=NP,U.CompressedCubeTexture=MP,U.CompressedTexture=Uf,U.CompressedTextureLoader=l6,U.ConeGeometry=qf,U.ConstantAlphaFactor=je,U.ConstantColorFactor=_e,U.CubeCamera=rc,U.CubeReflectionMapping=fi,U.CubeRefractionMapping=Ni,U.CubeTexture=ja,U.CubeTextureLoader=c6,U.CubeUVReflectionMapping=va,U.CubicBezierCurve=Kb,U.CubicBezierCurve3=B_,U.CubicInterpolant=rT,U.CullFaceBack=o,U.CullFaceFront=l,U.CullFaceFrontBack=h,U.CullFaceNone=r,U.Curve=To,U.CurvePath=L_,U.CustomBlending=W,U.CustomToneMapping=fa,U.CylinderGeometry=kh,U.Cylindrical=G6,U.Data3DTexture=Id,U.DataArrayTexture=Ul,U.DataTexture=Ws,U.DataTextureLoader=h6,U.DataUtils=fb,U.DecrementStencilOp=P0,U.DecrementWrapStencilOp=O0,U.DefaultLoadingManager=aT,U.DepthFormat=Ca,U.DepthStencilFormat=bs,U.DepthTexture=Ib,U.DetachedBindMode=wl,U.DirectionalLight=mT,U.DirectionalLightHelper=Q6,U.DiscreteInterpolant=iT,U.DisplayP3ColorSpace=ch,U.DodecahedronGeometry=Yf,U.DoubleSide=T,U.DstAlphaFactor=be,U.DstColorFactor=de,U.DynamicCopyUsage=$0,U.DynamicDrawUsage=U0,U.DynamicReadUsage=W0,U.EdgesGeometry=j_,U.EllipseCurve=Gf,U.EqualCompare=Gp,U.EqualDepth=Vt,U.EqualStencilFunc=F0,U.EquirectangularReflectionMapping=Xo,U.EquirectangularRefractionMapping=zo,U.Euler=li,U.EventDispatcher=Gi,U.ExtrudeGeometry=n1,U.FileLoader=za,U.Float16BufferAttribute=yb,U.Float32BufferAttribute=It,U.FloatType=bi,U.Fog=Nf,U.FogExp2=wf,U.FramebufferTexture=wP,U.FrontSide=y,U.Frustum=V,U.GLBufferAttribute=X6,U.GLSL1=Y0,U.GLSL3=hh,U.GreaterCompare=Wp,U.GreaterDepth=zt,U.GreaterEqualCompare=wd,U.GreaterEqualDepth=Ft,U.GreaterEqualStencilFunc=z0,U.GreaterStencilFunc=k0,U.GridHelper=Z6,U.Group=Rh,U.HalfFloatType=Sl,U.HemisphereLight=sT,U.HemisphereLightHelper=K6,U.IcosahedronGeometry=r1,U.ImageBitmapLoader=b6,U.ImageLoader=vm,U.ImageUtils=zl,U.IncrementStencilOp=kp,U.IncrementWrapStencilOp=B0,U.InstancedBufferAttribute=jh,U.InstancedBufferGeometry=vT,U.InstancedInterleavedBuffer=k6,U.InstancedMesh=v_,U.Int16BufferAttribute=bb,U.Int32BufferAttribute=vb,U.Int8BufferAttribute=Ho,U.IntType=Ju,U.InterleavedBuffer=Mf,U.InterleavedBufferAttribute=cc,U.Interpolant=pm,U.InterpolateDiscrete=Bl,U.InterpolateLinear=Ol,U.InterpolateSmooth=ah,U.InvertStencilOp=L0,U.KeepStencilOp=wa,U.KeyframeTrack=wo,U.LOD=l_,U.LatheGeometry=lm,U.Layers=As,U.LessCompare=Up,U.LessDepth=Tt,U.LessEqualCompare=Td,U.LessEqualDepth=wt,U.LessEqualStencilFunc=Xp,U.LessStencilFunc=D0,U.Light=qs,U.LightProbe=bT,U.Line=Hs,U.Line3=V6,U.LineBasicMaterial=ui,U.LineCurve=Zb,U.LineCurve3=O_,U.LineDashedMaterial=eT,U.LineLoop=M_,U.LineSegments=Jo,U.LinearDisplayP3ColorSpace=Ll,U.LinearFilter=ur,U.LinearInterpolant=sv,U.LinearMipMapLinearFilter=E0,U.LinearMipMapNearestFilter=A0,U.LinearMipmapLinearFilter=Xi,U.LinearMipmapNearestFilter=Ml,U.LinearSRGBColorSpace=lo,U.LinearToneMapping=Yc,U.LinearTransfer=Ta,U.Loader=xi,U.LoaderUtils=mv,U.LoadingManager=cv,U.LoopOnce=Pp,U.LoopPingPong=Op,U.LoopRepeat=Bp,U.LuminanceAlphaFormat=Ip,U.LuminanceFormat=Qu,U.MOUSE=e,U.Material=Dr,U.MaterialLoader=h1,U.MathUtils=ab,U.Matrix3=Zt,U.Matrix4=Ut,U.MaxEquation=ae,U.Mesh=lr,U.MeshBasicMaterial=$i,U.MeshDepthMaterial=Bb,U.MeshDistanceMaterial=Ob,U.MeshLambertMaterial=J_,U.MeshMatcapMaterial=Q_,U.MeshNormalMaterial=Z_,U.MeshPhongMaterial=Y_,U.MeshPhysicalMaterial=q_,U.MeshStandardMaterial=iv,U.MeshToonMaterial=K_,U.MinEquation=he,U.MirroredRepeatWrapping=fs,U.MixOperation=ir,U.MultiplyBlending=k,U.MultiplyOperation=it,U.NearestFilter=gr,U.NearestMipMapLinearFilter=Np,U.NearestMipMapNearestFilter=S0,U.NearestMipmapLinearFilter=ya,U.NearestMipmapNearestFilter=Ku,U.NeutralToneMapping=ga,U.NeverCompare=zp,U.NeverDepth=pt,U.NeverStencilFunc=j0,U.NoBlending=w,U.NoColorSpace=Ui,U.NoToneMapping=Sr,U.NormalAnimationBlendMode=sh,U.NormalBlending=M,U.NotEqualCompare=Vp,U.NotEqualDepth=An,U.NotEqualStencilFunc=X0,U.NumberKeyframeTrack=fm,U.Object3D=Mn,U.ObjectLoader=f6,U.ObjectSpaceNormalMap=Dp,U.OctahedronGeometry=dm,U.OneFactor=re,U.OneMinusConstantAlphaFactor=mt,U.OneMinusConstantColorFactor=ke,U.OneMinusDstAlphaFactor=fe,U.OneMinusDstColorFactor=De,U.OneMinusSrcAlphaFactor=pe,U.OneMinusSrcColorFactor=oe,U.OrthographicCamera=xf,U.P3Primaries=jl,U.PCFShadowMap=p,U.PCFSoftShadowMap=g,U.PMREMGenerator=Ab,U.Path=sm,U.PerspectiveCamera=Cr,U.Plane=Yo,U.PlaneGeometry=xe,U.PlaneHelper=r8,U.PointLight=dT,U.PointLightHelper=q6,U.Points=A_,U.PointsMaterial=Wb,U.PolarGridHelper=J6,U.PolyhedronGeometry=$s,U.PositionalAudio=T6,U.PropertyBinding=In,U.PropertyMixer=ET,U.QuadraticBezierCurve=Jb,U.QuadraticBezierCurve3=Qb,U.Quaternion=Hr,U.QuaternionKeyframeTrack=zh,U.QuaternionLinearInterpolant=oT,U.RED_GREEN_RGTC2_Format=xd,U.RED_RGTC1_Format=Rp,U.REVISION=a,U.RGBADepthPacking=lh,U.RGBAFormat=ii,U.RGBAIntegerFormat=Qc,U.RGBA_ASTC_10x10_Format=fd,U.RGBA_ASTC_10x5_Format=ih,U.RGBA_ASTC_10x6_Format=md,U.RGBA_ASTC_10x8_Format=pd,U.RGBA_ASTC_12x10_Format=gd,U.RGBA_ASTC_12x12_Format=oh,U.RGBA_ASTC_4x4_Format=Rl,U.RGBA_ASTC_5x4_Format=Go,U.RGBA_ASTC_5x5_Format=ld,U.RGBA_ASTC_6x5_Format=cd,U.RGBA_ASTC_6x6_Format=hd,U.RGBA_ASTC_8x5_Format=ud,U.RGBA_ASTC_8x6_Format=dd,U.RGBA_ASTC_8x8_Format=rh,U.RGBA_BPTC_Format=Pl,U.RGBA_ETC2_EAC_Format=Uo,U.RGBA_PVRTC_2BPPV1_Format=ad,U.RGBA_PVRTC_4BPPV1_Format=od,U.RGBA_S3TC_DXT1_Format=th,U.RGBA_S3TC_DXT3_Format=El,U.RGBA_S3TC_DXT5_Format=nh,U.RGBFormat=Al,U.RGB_BPTC_SIGNED_Format=bd,U.RGB_BPTC_UNSIGNED_Format=vd,U.RGB_ETC1_Format=sd,U.RGB_ETC2_Format=Il,U.RGB_PVRTC_2BPPV1_Format=id,U.RGB_PVRTC_4BPPV1_Format=rd,U.RGB_S3TC_DXT1_Format=eh,U.RGFormat=td,U.RGIntegerFormat=nd,U.RawShaderMaterial=$_,U.Ray=po,U.Raycaster=z6,U.Rec709Primaries=Cs,U.RectAreaLight=fT,U.RedFormat=Jc,U.RedIntegerFormat=ed,U.ReinhardToneMapping=ko,U.RenderTarget=nf,U.RepeatWrapping=Nl,U.ReplaceStencilOp=Fp,U.ReverseSubtractEquation=Y,U.RingGeometry=i1,U.SIGNED_RED_GREEN_RGTC2_Format=Cd,U.SIGNED_RED_RGTC1_Format=yd,U.SRGBColorSpace=Ar,U.SRGBTransfer=Fn,U.Scene=n_,U.ShaderChunk=on,U.ShaderLib=_o,U.ShaderMaterial=Ei,U.ShadowMaterial=H_,U.Shape=uc,U.ShapeGeometry=o1,U.ShapePath=a8,U.ShapeUtils=Qo,U.ShortType=Sp,U.Skeleton=Pf,U.SkeletonHelper=$6,U.SkinnedMesh=p_,U.Source=Ia,U.Sphere=jr,U.SphereGeometry=mm,U.Spherical=U6,U.SphericalHarmonics3=gT,U.SplineCurve=ev,U.SpotLight=hT,U.SpotLightHelper=H6,U.Sprite=a_,U.SpriteMaterial=jb,U.SrcAlphaFactor=Q,U.SrcAlphaSaturateFactor=Be,U.SrcColorFactor=se,U.StaticCopyUsage=H0,U.StaticDrawUsage=Dl,U.StaticReadUsage=$p,U.StereoCamera=y6,U.StreamCopyUsage=q0,U.StreamDrawUsage=G0,U.StreamReadUsage=V0,U.StringKeyframeTrack=fc,U.SubtractEquation=Z,U.SubtractiveBlending=j,U.TOUCH=n,U.TangentSpaceNormalMap=zi,U.TetrahedronGeometry=a1,U.Texture=or,U.TextureLoader=u6,U.TorusGeometry=s1,U.TorusKnotGeometry=l1,U.Triangle=Wr,U.TriangleFanDrawMode=Lp,U.TriangleStripDrawMode=I0,U.TrianglesDrawMode=xs,U.TubeGeometry=c1,U.UVMapping=ba,U.Uint16BufferAttribute=zd,U.Uint32BufferAttribute=Ud,U.Uint8BufferAttribute=$o,U.Uint8ClampedBufferAttribute=gb,U.Uniform=bv,U.UniformsGroup=F6,U.UniformsLib=ft,U.UniformsUtils=$d,U.UnsignedByteType=so,U.UnsignedInt248Type=gs,U.UnsignedInt5999Type=Ap,U.UnsignedIntType=xa,U.UnsignedShort4444Type=Kc,U.UnsignedShort5551Type=Zc,U.UnsignedShortType=Zu,U.VSMShadowMap=v,U.Vector2=He,U.Vector3=ie,U.Vector4=jn,U.VectorKeyframeTrack=gm,U.VideoTexture=TP,U.WebGL3DRenderTarget=ub,U.WebGLArrayRenderTarget=hb,U.WebGLCoordinateSystem=oi,U.WebGLCubeRenderTarget=qd,U.WebGLMultipleRenderTargets=s8,U.WebGLRenderTarget=vi,U.WebGLRenderer=pP,U.WebGLUtils=e_,U.WebGPUCoordinateSystem=Na,U.WireframeGeometry=G_,U.WrapAroundEnding=vs,U.ZeroCurvatureEnding=_a,U.ZeroFactor=ve,U.ZeroSlopeEnding=Wo,U.ZeroStencilOp=R0,U.createCanvasElement=kl,U}var vy={},Pm={},$M;function hC(){return $M||($M=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.CameraType=void 0,Pm.CameraType=function(a){return a[a.perspective=0]="perspective",a[a.orthographic=1]="orthographic",a}({})),Pm}var qM;function xl(){return qM||(qM=1,function(a){var e=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.sky=a.renderer=a.physics=a.light=a.default=a.controls=a.camera=a.GLBLoaderConfig=void 0;var n=l(cs()),r=hC();function o(M){if(typeof WeakMap!="function")return null;var S=new WeakMap,j=new WeakMap;return(o=function(W){return W?j:S})(M)}function l(M,S){if(M&&M.__esModule)return M;if(M===null||e(M)!="object"&&typeof M!="function")return{default:M};var j=o(S);if(j&&j.has(M))return j.get(M);var k={__proto__:null},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var q in M)if(q!=="default"&&{}.hasOwnProperty.call(M,q)){var Z=W?Object.getOwnPropertyDescriptor(M,q):null;Z&&(Z.get||Z.set)?Object.defineProperty(k,q,Z):k[q]=M[q]}return k.default=M,j&&j.set(M,k),k}var h=0,d=a.camera={fov:70,far:1e3,type:r.CameraType.perspective,dom:void 0},p=a.sky={enabled:!0,turbidity:0,rayleigh:.079,mieCoefficient:.023,mieDirectionalG:.226,inclination:70,azimuth:-102.7},g=a.controls={distance:{min:3,max:100},polar:{min:-90,max:90},azimuth:{min:-1/0,max:1/0},default:{polar:0,azimuth:0,distance:50},offsetAzimuth:0,enabled:!0,panEasing:100,damping:!1,dampingFactor:1},v=a.light={ambient:{enabled:!0,color:12035183,intensity:.6},lights:[{type:"point",enabled:!0,castShadow:!0,bias:0,blurSamples:1,color:10066329,intensity:.9,distance:3,decay:.5,position:{x:0,y:3,z:0}},{type:"spot",enabled:!1,castShadow:!0,bias:0,blurSamples:1,color:10066329,intensity:.9,distance:3,decay:.5,angle:Math.PI*.12,penumbra:1,position:{x:0,y:3,z:3}}],shadowMapSize:256,debug:!1},y=a.renderer={alpha:!1,preserveDrawingBuffer:!1,shadowType:n.PCFSoftShadowMap,exposure:.5,outputEncoding:n.SRGBColorSpace,background:{color:0,alpha:1}},x=a.physics=!1,T=!1,w={fps:h,camera:d,sky:p,controls:g,light:v,renderer:y,physics:x,stats:T};a.GLBLoaderConfig={onProcess:function(S,j){return"".concat(S/j*100,"% loaded")},loop:!0,castShadow:!0,receiveShadow:!1,material:{metalness:0,roughness:1,clearcoat:0,clearcoatRoughness:.5}},a.default=w}(vy)),vy}var yy={},YM;function qne(){return YM||(YM=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(yl()),o=e(vl()),l=e(ua()),h=hC(),d=v(cs()),p=xl();function g(S){if(typeof WeakMap!="function")return null;var j=new WeakMap,k=new WeakMap;return(g=function(q){return q?k:j})(S)}function v(S,j){if(S&&S.__esModule)return S;if(S===null||n(S)!="object"&&typeof S!="function")return{default:S};var k=g(j);if(k&&k.has(S))return k.get(S);var W={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in S)if(Z!=="default"&&{}.hasOwnProperty.call(S,Z)){var Y=q?Object.getOwnPropertyDescriptor(S,Z):null;Y&&(Y.get||Y.set)?Object.defineProperty(W,Z,Y):W[Z]=S[Z]}return W.default=S,k&&k.set(S,W),W}function y(S,j){var k=Object.keys(S);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(S);j&&(W=W.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),k.push.apply(k,W)}return k}function x(S){for(var j=1;j<arguments.length;j++){var k=arguments[j]!=null?arguments[j]:{};j%2?y(Object(k),!0).forEach(function(W){(0,l.default)(S,W,k[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(k)):y(Object(k)).forEach(function(W){Object.defineProperty(S,W,Object.getOwnPropertyDescriptor(k,W))})}return S}var T=window,w=T.innerWidth,M=T.innerHeight;a.default=(0,r.default)(function S(j){(0,o.default)(this,S),(0,l.default)(this,"options",void 0),(0,l.default)(this,"camera",void 0),this.options=x(x({},p.camera),j);var k=this.options,W=k.fov,q=k.far,Z=k.dom,Y=k.type,he=Z instanceof HTMLElement?Z.clientWidth:w,ae=Z instanceof HTMLElement?Z.clientHeight:M;Y===h.CameraType.orthographic?(this.camera=new d.OrthographicCamera(Number(he)/-2,Number(he)/2,Number(ae)/2,Number(ae)/-2,.01,q),this.camera.zoom=W):this.camera=new d.PerspectiveCamera(W,Number(he)/Number(ae),.01,q),this.camera.position.set(0,0,-10)})}(yy)),yy}var xy={},KM;function Yne(){return KM||(KM=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(yl()),o=e(vl()),l=e(ua()),h=g(cs()),d=xl();function p(x){if(typeof WeakMap!="function")return null;var T=new WeakMap,w=new WeakMap;return(p=function(S){return S?w:T})(x)}function g(x,T){if(x&&x.__esModule)return x;if(x===null||n(x)!="object"&&typeof x!="function")return{default:x};var w=p(T);if(w&&w.has(x))return w.get(x);var M={__proto__:null},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in x)if(j!=="default"&&{}.hasOwnProperty.call(x,j)){var k=S?Object.getOwnPropertyDescriptor(x,j):null;k&&(k.get||k.set)?Object.defineProperty(M,j,k):M[j]=x[j]}return M.default=x,w&&w.set(x,M),M}function v(x,T){var w=Object.keys(x);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(x);T&&(M=M.filter(function(S){return Object.getOwnPropertyDescriptor(x,S).enumerable})),w.push.apply(w,M)}return w}function y(x){for(var T=1;T<arguments.length;T++){var w=arguments[T]!=null?arguments[T]:{};T%2?v(Object(w),!0).forEach(function(M){(0,l.default)(x,M,w[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(w)):v(Object(w)).forEach(function(M){Object.defineProperty(x,M,Object.getOwnPropertyDescriptor(w,M))})}return x}new h.Mesh,d.light.lights[0].position.y,a.default=(0,r.default)(function x(T,w){var M=this;(0,o.default)(this,x),(0,l.default)(this,"options",void 0),(0,l.default)(this,"lights",void 0),(0,l.default)(this,"target",void 0),this.options=y(y({},d.light),w),this.lights=[],this.target=void 0;var S=this.options,j=S.ambient,k=S.lights,W=S.shadowMapSize,q=S.debug;if(j.enabled){var Z=new h.AmbientLight(j.color,j.intensity);T.add(Z)}this.lights=k.map(function(Y){switch(Y.type){case"spot":if(!Y.enabled)return;var he=new h.SpotLight(Y.color,Y.intensity,Y.distance);he.castShadow=Y.castShadow,he.angle=Y.angle,he.penumbra=Y.penumbra,he.decay=Y.decay,he.shadow.mapSize.width=W,he.shadow.mapSize.height=W,he.shadow.bias=Y.bias,he.shadow.blurSamples=Y.blurSamples;var ae=Y.position,ve=ae.x,re=ae.y,se=ae.z;if(he.position.set(ve,re,se),T.add(he),M.target=he.target,q){var oe=new h.SpotLightHelper(he);T.add(oe)}return he;case"hemisphere":if(!Y.enabled)return;var Q=new h.HemisphereLight(Y.color,Y.groundColor,Y.intensity);if(Q.position.set(Y.position.x,Y.position.y,Y.position.z),T.add(Q),q){var pe=new h.HemisphereLightHelper(Q,5);T.add(pe)}return Q;case"direct":if(!Y.enabled)return;var be=new h.DirectionalLight(Y.color,Y.intensity);if(be.position.set(Y.position.x,Y.position.y,Y.position.z),be.castShadow=Y.castShadow,T.add(be),q){var fe=new h.DirectionalLightHelper(be);T.add(fe)}return be;default:case"point":if(!Y.enabled)return;var de=new h.PointLight(Y.color,Y.intensity,Y.distance);if(de.castShadow=Y.castShadow,de.decay=Y.decay,de.shadow.bias=Y.bias,de.shadow.blurSamples=Y.blurSamples,de.shadow.mapSize.width=W,de.shadow.mapSize.height=W,de.position.set(Y.position.x,Y.position.y,Y.position.z),T.add(de),q){var De=new h.PointLightHelper(de);T.add(De)}return de}})})}(xy)),xy}var Cy={},_y={},Ty,ZM;function Kne(){return ZM||(ZM=1,Ty=function(a){a.MOUSE;function e(r){this.object=r,this.target=new a.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var o=this,l=1e-6,h=0,d=0,p=0,g=0,v=1,y=new a.Vector3,x=!1;this.getPolarAngle=function(){return d},this.getAzimuthalAngle=function(){return h},this.setPolarAngle=function(T){d=T,this.forceUpdate()},this.setAzimuthalAngle=function(T){h=T,this.forceUpdate()},this.rotateLeft=function(T){g-=T},this.rotateUp=function(T){p-=T},this.panLeft=function(){var T=new a.Vector3;return function(M){var S=this.object.matrix.elements;T.set(S[0],S[1],S[2]),T.multiplyScalar(-M),y.add(T)}}(),this.panUp=function(){var T=new a.Vector3;return function(M){var S=this.object.matrix.elements;T.set(S[4],S[5],S[6]),T.multiplyScalar(M),y.add(T)}}(),this.pan=function(T,w,M,S){if(o.object instanceof a.PerspectiveCamera){var j=o.object.position,k=j.clone().sub(o.target),W=k.length();W*=Math.tan(o.object.fov/2*Math.PI/180),o.panLeft(2*T*W/S),o.panUp(2*w*W/S)}else o.object instanceof a.OrthographicCamera?(o.panLeft(T*(o.object.right-o.object.left)/M),o.panUp(w*(o.object.top-o.object.bottom)/S)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(T){o.object instanceof a.PerspectiveCamera?v/=T:o.object instanceof a.OrthographicCamera?(o.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*T)),o.object.updateProjectionMatrix(),x=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(T){o.object instanceof a.PerspectiveCamera?v*=T:o.object instanceof a.OrthographicCamera?(o.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/T)),o.object.updateProjectionMatrix(),x=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.forceUpdate=function(){var T=new a.Vector3,w=new a.Quaternion().setFromUnitVectors(r.up,new a.Vector3(0,1,0)),M=w.clone().invert(),S=new a.Vector3,j=new a.Quaternion;return function(){var k=this.object.position;T.copy(k).sub(this.target),T.applyQuaternion(w),h=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,h)),d=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,d)),d=Math.max(l,Math.min(Math.PI-l,d));var W=T.length()*v;return W=Math.max(this.minDistance,Math.min(this.maxDistance,W)),this.target.add(y),T.x=W*Math.sin(d)*Math.sin(h),T.y=W*Math.cos(d),T.z=W*Math.sin(d)*Math.cos(h),T.applyQuaternion(M),k.copy(this.target).add(T),this.object.lookAt(this.target),this.enableDamping===!0?(g*=1-this.dampingFactor,p*=1-this.dampingFactor):(g=0,p=0),v=1,y.set(0,0,0),x||S.distanceToSquared(this.object.position)>l||8*(1-j.dot(this.object.quaternion))>l?(S.copy(this.object.position),j.copy(this.object.quaternion),x=!1,!0):!1}}(),this.update=function(){var T=new a.Vector3,w=new a.Quaternion().setFromUnitVectors(r.up,new a.Vector3(0,1,0)),M=w.clone().invert(),S=new a.Vector3,j=new a.Quaternion;return function(){var k=this.object.position;T.copy(k).sub(this.target),T.applyQuaternion(w),h=Math.atan2(T.x,T.z),d=Math.atan2(Math.sqrt(T.x*T.x+T.z*T.z),T.y),h+=g,d+=p,h=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,h)),d=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,d)),d=Math.max(l,Math.min(Math.PI-l,d));var W=T.length()*v;return W=Math.max(this.minDistance,Math.min(this.maxDistance,W)),this.target.add(y),T.x=W*Math.sin(d)*Math.sin(h),T.y=W*Math.cos(d),T.z=W*Math.sin(d)*Math.cos(h),T.applyQuaternion(M),k.copy(this.target).add(T),this.object.lookAt(this.target),this.enableDamping===!0?(g*=1-this.dampingFactor,p*=1-this.dampingFactor):(g=0,p=0),v=1,y.set(0,0,0),x||S.distanceToSquared(this.object.position)>l||8*(1-j.dot(this.object.quaternion))>l?(S.copy(this.object.position),j.copy(this.object.quaternion),x=!1,!0):!1}}()}function n(r,o){var l=new e(r);this.domElement=o!==void 0?o:document,Object.defineProperty(this,"constraint",{get:function(){return l}}),this.getPolarAngle=function(){return l.getPolarAngle()},this.getAzimuthalAngle=function(){return l.getAzimuthalAngle()},this.setPolarAngle=function(de){return l.setPolarAngle(de)},this.setAzimuthalAngle=function(de){return l.setAzimuthalAngle(de)},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:a.MOUSE.LEFT,ZOOM:a.MOUSE.MIDDLE,PAN:a.MOUSE.RIGHT};var h=this,d=new a.Vector2,p=new a.Vector2,g=new a.Vector2,v=new a.Vector2,y=new a.Vector2,x=new a.Vector2,T=new a.Vector2,w=new a.Vector2,M=new a.Vector2,S={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},j=S.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var k={type:"change"},W={type:"start"},q={type:"end"};function Z(de,De){var Be=h.domElement===document?h.domElement.body:h.domElement;l.pan(de,De,Be.clientWidth,Be.clientHeight)}this.update=function(){this.autoRotate&&j===S.NONE&&l.rotateLeft(Y()),l.update()===!0&&this.dispatchEvent(k)},this.reset=function(){j=S.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(k),this.update()};function Y(){return 2*Math.PI/60/60*h.autoRotateSpeed}function he(){return Math.pow(.95,h.zoomSpeed)}function ae(de){if(h.enabled!==!1){if(de.preventDefault(),de.button===h.mouseButtons.ORBIT){if(h.enableRotate===!1)return;j=S.ROTATE,d.set(de.clientX,de.clientY)}else if(de.button===h.mouseButtons.ZOOM){if(h.enableZoom===!1)return;j=S.DOLLY,T.set(de.clientX,de.clientY)}else if(de.button===h.mouseButtons.PAN){if(h.enablePan===!1)return;j=S.PAN,v.set(de.clientX,de.clientY)}j!==S.NONE&&(document.addEventListener("mousemove",ve,!1),document.addEventListener("mouseup",re,!1),h.dispatchEvent(W))}}function ve(de){var De;if(de==null||(De=de.preventDefault)===null||De===void 0||De.call(de),h.enabled!==!1){var Be=h.domElement===document?h.domElement.body:h.domElement;if(j===S.ROTATE){if(h.enableRotate===!1)return;p.set(de.clientX,de.clientY),g.subVectors(p,d),l.rotateLeft(2*Math.PI*g.x/Be.clientWidth*h.rotateSpeed),l.rotateUp(2*Math.PI*g.y/Be.clientHeight*h.rotateSpeed),d.copy(p)}else if(j===S.DOLLY){if(h.enableZoom===!1)return;w.set(de.clientX,de.clientY),M.subVectors(w,T),M.y>0?l.dollyIn(he()):M.y<0&&l.dollyOut(he()),T.copy(w)}else if(j===S.PAN){if(h.enablePan===!1)return;y.set(de.clientX,de.clientY),x.subVectors(y,v),Z(x.x,x.y),v.copy(y)}j!==S.NONE&&h.update()}}function re(){h.enabled!==!1&&(document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",re),h.dispatchEvent(q),j=S.NONE)}function se(de){if(!(h.enabled===!1||h.enableZoom===!1||j!==S.NONE)){de.stopPropagation();var De=0;de.wheelDelta!==void 0?De=de.wheelDelta:de.detail!==void 0&&(De=-de.detail),De>0?l.dollyOut(he()):De<0&&l.dollyIn(he()),h.update(),h.dispatchEvent(W),h.dispatchEvent(q)}}function oe(de){if(!(h.enabled===!1||h.enableKeys===!1||h.enablePan===!1))switch(de.keyCode){case h.keys.UP:Z(0,h.keyPanSpeed),h.update();break;case h.keys.BOTTOM:Z(0,-h.keyPanSpeed),h.update();break;case h.keys.LEFT:Z(h.keyPanSpeed,0),h.update();break;case h.keys.RIGHT:Z(-h.keyPanSpeed,0),h.update();break}}function Q(de){if(h.enabled!==!1){switch(de.touches.length){case 1:if(h.enableRotate===!1)return;j=S.TOUCH_ROTATE,d.set(de.touches[0].pageX,de.touches[0].pageY);break;case 2:if(h.enableZoom===!1)return;j=S.TOUCH_DOLLY;var De=de.touches[0].pageX-de.touches[1].pageX,Be=de.touches[0].pageY-de.touches[1].pageY,_e=Math.sqrt(De*De+Be*Be);T.set(0,_e);break;case 3:if(h.enablePan===!1)return;j=S.TOUCH_PAN,v.set(de.touches[0].pageX,de.touches[0].pageY);break;default:j=S.NONE}j!==S.NONE&&h.dispatchEvent(W)}}function pe(de){if(de.stopPropagation(),h.enabled!==!1){var De=h.domElement===document?h.domElement.body:h.domElement;switch(de.touches.length){case 1:if(h.enableRotate===!1||j!==S.TOUCH_ROTATE)return;p.set(de.touches[0].pageX,de.touches[0].pageY),g.subVectors(p,d),l.rotateLeft(2*Math.PI*g.x/De.clientWidth*h.rotateSpeed),l.rotateUp(2*Math.PI*g.y/De.clientHeight*h.rotateSpeed),d.copy(p),h.update();break;case 2:if(h.enableZoom===!1||j!==S.TOUCH_DOLLY)return;var Be=de.touches[0].pageX-de.touches[1].pageX,_e=de.touches[0].pageY-de.touches[1].pageY,ke=Math.sqrt(Be*Be+_e*_e);w.set(0,ke),M.subVectors(w,T),M.y>0?l.dollyOut(he()):M.y<0&&l.dollyIn(he()),T.copy(w),h.update();break;case 3:if(h.enablePan===!1||j!==S.TOUCH_PAN)return;y.set(de.touches[0].pageX,de.touches[0].pageY),x.subVectors(y,v),Z(x.x,x.y),v.copy(y),h.update();break;default:j=S.NONE}}}function be(){h.enabled!==!1&&(h.dispatchEvent(q),j=S.NONE)}function fe(de){de.preventDefault()}this.dispose=function(){this.domElement.removeEventListener("contextmenu",fe,!1),this.domElement.removeEventListener("mousedown",ae,!1),this.domElement.removeEventListener("mousewheel",se,!1),this.domElement.removeEventListener("MozMousePixelScroll",se,!1),this.domElement.removeEventListener("touchstart",Q,!1),this.domElement.removeEventListener("touchend",be,!1),this.domElement.removeEventListener("touchmove",pe,!1),document.removeEventListener("mousemove",ve,!1),document.removeEventListener("mouseup",re,!1),window.removeEventListener("keydown",oe,!1)},this.domElement.addEventListener("contextmenu",fe,!1),this.domElement.addEventListener("mousedown",ae,!1),this.domElement.addEventListener("mousewheel",se,{passive:!0}),this.domElement.addEventListener("MozMousePixelScroll",se,!1),this.domElement.addEventListener("touchstart",Q,{passive:!0}),this.domElement.addEventListener("touchend",be,!1),this.domElement.addEventListener("touchmove",pe,{passive:!0}),window.addEventListener("keydown",oe,!1),this.update()}return n.prototype=Object.create(a.EventDispatcher.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(o){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(o)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(o){this.constraint.minDistance=o}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(o){this.constraint.maxDistance=o}},minZoom:{get:function(){return this.constraint.minZoom},set:function(o){this.constraint.minZoom=o}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(o){this.constraint.maxZoom=o}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(o){this.constraint.minPolarAngle=o}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(o){this.constraint.maxPolarAngle=o}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(o){this.constraint.minAzimuthAngle=o}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(o){this.constraint.maxAzimuthAngle=o}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(o){this.constraint.enableDamping=o}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(o){this.constraint.dampingFactor=o}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(o){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!o}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(o){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!o}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(o){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!o}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(o){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!o}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(o){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!o}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(o){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=o}}}),n}),Ty}var JM;function Zne(){return JM||(JM=1,function(a){var e=Fo;Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"OrbitControls",{enumerable:!0,get:function(){return n.default}}),a.default=void 0;var n=e(Kne()),r=n.default;a.default=r}(_y)),_y}var QM;function Jne(){return QM||(QM=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(vl()),o=e(yl()),l=e(ua()),h=g(cs()),d=xl();function p(S){if(typeof WeakMap!="function")return null;var j=new WeakMap,k=new WeakMap;return(p=function(q){return q?k:j})(S)}function g(S,j){if(S&&S.__esModule)return S;if(S===null||n(S)!="object"&&typeof S!="function")return{default:S};var k=p(j);if(k&&k.has(S))return k.get(S);var W={__proto__:null},q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Z in S)if(Z!=="default"&&{}.hasOwnProperty.call(S,Z)){var Y=q?Object.getOwnPropertyDescriptor(S,Z):null;Y&&(Y.get||Y.set)?Object.defineProperty(W,Z,Y):W[Z]=S[Z]}return W.default=S,k&&k.set(S,W),W}function v(S,j){var k=Object.keys(S);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(S);j&&(W=W.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),k.push.apply(k,W)}return k}function y(S){for(var j=1;j<arguments.length;j++){var k=arguments[j]!=null?arguments[j]:{};j%2?v(Object(k),!0).forEach(function(W){(0,l.default)(S,W,k[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(k)):v(Object(k)).forEach(function(W){Object.defineProperty(S,W,Object.getOwnPropertyDescriptor(k,W))})}return S}var x=Zne().OrbitControls,T=new x(h),w=function(j){return Math.PI/180*j},M=function(j){return j/(Math.PI/180)};a.default=function(){function S(j,k,W){(0,r.default)(this,S),(0,l.default)(this,"options",void 0),(0,l.default)(this,"controls",void 0),(0,l.default)(this,"azimuthAngle",void 0),(0,l.default)(this,"camera",void 0),this.options=y(y({},d.controls),W);var q=this.options,Z=q.polar,Y=q.azimuth,he=q.enabled,ae=q.damping,ve=q.dampingFactor;this.controls=new T(j,k.domElement),this.camera=j,this.controls.enabled=he,this.controls.maxPolarAngle=w(90-Z.min),this.controls.minPolarAngle=w(90-Z.max),this.controls.maxAzimuthAngle=w(Y.max),this.controls.minAzimuthAngle=w(Y.min),this.azimuthAngle=this.controls.getPolarAngle(),this.controls.setPolarAngle(w(90-this.options.default.polar)),this.controls.setAzimuthalAngle(w(this.options.default.azimuth)),this.setDistance(this.options.default.distance),ae&&(this.controls.enablePan=!1,this.controls.enableDamping=!0,this.controls.dampingFactor=Math.max(.05-(ve-1)*.05,.001),this.controls.rotateSpeed=.07)}return(0,o.default)(S,[{key:"setDistance",value:function(k){var W=this,q=this.options.distance;this.controls.minDistance=k,this.controls.maxDistance=k,requestAnimationFrame(function(){W.controls.minDistance=q.min,W.controls.minZoom=q.min,W.controls.maxDistance=q.max,W.controls.maxZoom=q.max})}},{key:"fixed",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{target:new h.Vector3(0,0,0)},W=k.polar,q=k.azimuth,Z=k.target;W!=null&&(this.controls.maxPolarAngle=w(90+Number(W)),this.controls.minPolarAngle=w(90-Number(W))),q!=null&&(this.controls.maxAzimuthAngle=w(Number(q)),this.controls.minAzimuthAngle=w(Number(q))),this.lookAt(Z)}},{key:"getDistance",value:function(){var k=this.controls.target,W=k.x,q=k.y,Z=k.z,Y=this.camera.position,he=Y.x,ae=Y.y,ve=Y.z;return Math.sqrt(Math.pow(he-W,2)+Math.pow(ae-q,2)+Math.pow(ve-Z,2))}},{key:"get",value:function(){var k=90-M(this.controls.getPolarAngle()),W=M(this.controls.getAzimuthalAngle()),q=this.getDistance();return{polar:k,azimuth:W,distance:q}}},{key:"set",value:function(k){var W=k.polar,q=k.azimuth,Z=k.distance;W&&(this.controls.maxPolarAngle=w(90-W),this.controls.minPolarAngle=w(90-W)),q&&(this.controls.maxAzimuthAngle=w(q),this.controls.minAzimuthAngle=w(q)),Z&&(this.controls.minDistance=Z,this.controls.maxDistance=Z)}},{key:"lookAt",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new h.Vector3(0,0,0);this.controls.target.set(k.x,k.y,k.z)}},{key:"chase",value:function(k){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,q=this.options,Z=q.offsetAzimuth,Y=q.panEasing;this.controls.target.set(k.position.x,k.position.y+W,k.position.z),this.azimuthAngle+=(k.rotation.y+w(Z)-this.azimuthAngle)/Y,this.controls.maxAzimuthAngle=this.azimuthAngle,this.controls.minAzimuthAngle=this.azimuthAngle}},{key:"lock",value:function(){var k=this.controls.getPolarAngle();this.controls.maxPolarAngle=k,this.controls.minPolarAngle=k}},{key:"unlock",value:function(){var k=this.options.polar;this.controls.maxPolarAngle=w(90-k.min),this.controls.minPolarAngle=w(90-k.max)}}])}()}(Cy)),Cy}var wy={};class Qne{constructor(){this.matrix={}}get(e,n){let{id:r}=e,{id:o}=n;if(o>r){const l=o;o=r,r=l}return`${r}-${o}`in this.matrix}set(e,n,r){let{id:o}=e,{id:l}=n;if(l>o){const h=l;l=o,o=h}r?this.matrix[`${o}-${l}`]=!0:delete this.matrix[`${o}-${l}`]}reset(){this.matrix={}}setNumObjects(e){}}class Qi{constructor(e){e===void 0&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const n=this.elements;n[0]=e.x,n[4]=e.y,n[8]=e.z}getTrace(e){e===void 0&&(e=new z);const n=this.elements;return e.x=n[0],e.y=n[4],e.z=n[8],e}vmult(e,n){n===void 0&&(n=new z);const r=this.elements,o=e.x,l=e.y,h=e.z;return n.x=r[0]*o+r[1]*l+r[2]*h,n.y=r[3]*o+r[4]*l+r[5]*h,n.z=r[6]*o+r[7]*l+r[8]*h,n}smult(e){for(let n=0;n<this.elements.length;n++)this.elements[n]*=e}mmult(e,n){n===void 0&&(n=new Qi);const r=this.elements,o=e.elements,l=n.elements,h=r[0],d=r[1],p=r[2],g=r[3],v=r[4],y=r[5],x=r[6],T=r[7],w=r[8],M=o[0],S=o[1],j=o[2],k=o[3],W=o[4],q=o[5],Z=o[6],Y=o[7],he=o[8];return l[0]=h*M+d*k+p*Z,l[1]=h*S+d*W+p*Y,l[2]=h*j+d*q+p*he,l[3]=g*M+v*k+y*Z,l[4]=g*S+v*W+y*Y,l[5]=g*j+v*q+y*he,l[6]=x*M+T*k+w*Z,l[7]=x*S+T*W+w*Y,l[8]=x*j+T*q+w*he,n}scale(e,n){n===void 0&&(n=new Qi);const r=this.elements,o=n.elements;for(let l=0;l!==3;l++)o[3*l+0]=e.x*r[3*l+0],o[3*l+1]=e.y*r[3*l+1],o[3*l+2]=e.z*r[3*l+2];return n}solve(e,n){n===void 0&&(n=new z);const r=3,o=4,l=[];let h,d;for(h=0;h<r*o;h++)l.push(0);for(h=0;h<3;h++)for(d=0;d<3;d++)l[h+o*d]=this.elements[h+3*d];l[3+4*0]=e.x,l[3+4*1]=e.y,l[3+4*2]=e.z;let p=3;const g=p;let v;const y=4;let x;do{if(h=g-p,l[h+o*h]===0){for(d=h+1;d<g;d++)if(l[h+o*d]!==0){v=y;do x=y-v,l[x+o*h]+=l[x+o*d];while(--v);break}}if(l[h+o*h]!==0)for(d=h+1;d<g;d++){const T=l[h+o*d]/l[h+o*h];v=y;do x=y-v,l[x+o*d]=x<=h?0:l[x+o*d]-l[x+o*h]*T;while(--v)}}while(--p);if(n.z=l[2*o+3]/l[2*o+2],n.y=(l[1*o+3]-l[1*o+2]*n.z)/l[1*o+1],n.x=(l[0*o+3]-l[0*o+2]*n.z-l[0*o+1]*n.y)/l[0*o+0],isNaN(n.x)||isNaN(n.y)||isNaN(n.z)||n.x===1/0||n.y===1/0||n.z===1/0)throw`Could not solve equation! Got x=[${n.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return n}e(e,n,r){if(r===void 0)return this.elements[n+3*e];this.elements[n+3*e]=r}copy(e){for(let n=0;n<e.elements.length;n++)this.elements[n]=e.elements[n];return this}toString(){let e="";const n=",";for(let r=0;r<9;r++)e+=this.elements[r]+n;return e}reverse(e){e===void 0&&(e=new Qi);const n=3,r=6,o=ere;let l,h;for(l=0;l<3;l++)for(h=0;h<3;h++)o[l+r*h]=this.elements[l+3*h];o[3+6*0]=1,o[3+6*1]=0,o[3+6*2]=0,o[4+6*0]=0,o[4+6*1]=1,o[4+6*2]=0,o[5+6*0]=0,o[5+6*1]=0,o[5+6*2]=1;let d=3;const p=d;let g;const v=r;let y;do{if(l=p-d,o[l+r*l]===0){for(h=l+1;h<p;h++)if(o[l+r*h]!==0){g=v;do y=v-g,o[y+r*l]+=o[y+r*h];while(--g);break}}if(o[l+r*l]!==0)for(h=l+1;h<p;h++){const x=o[l+r*h]/o[l+r*l];g=v;do y=v-g,o[y+r*h]=y<=l?0:o[y+r*h]-o[y+r*l]*x;while(--g)}}while(--d);l=2;do{h=l-1;do{const x=o[l+r*h]/o[l+r*l];g=r;do y=r-g,o[y+r*h]=o[y+r*h]-o[y+r*l]*x;while(--g)}while(h--)}while(--l);l=2;do{const x=1/o[l+r*l];g=r;do y=r-g,o[y+r*l]=o[y+r*l]*x;while(--g)}while(l--);l=2;do{h=2;do{if(y=o[n+h+r*l],isNaN(y)||y===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(l,h,y)}while(h--)}while(l--);return e}setRotationFromQuaternion(e){const n=e.x,r=e.y,o=e.z,l=e.w,h=n+n,d=r+r,p=o+o,g=n*h,v=n*d,y=n*p,x=r*d,T=r*p,w=o*p,M=l*h,S=l*d,j=l*p,k=this.elements;return k[3*0+0]=1-(x+w),k[3*0+1]=v-j,k[3*0+2]=y+S,k[3*1+0]=v+j,k[3*1+1]=1-(g+w),k[3*1+2]=T-M,k[3*2+0]=y-S,k[3*2+1]=T+M,k[3*2+2]=1-(g+x),this}transpose(e){e===void 0&&(e=new Qi);const n=this.elements,r=e.elements;let o;return r[0]=n[0],r[4]=n[4],r[8]=n[8],o=n[1],r[1]=n[3],r[3]=o,o=n[2],r[2]=n[6],r[6]=o,o=n[5],r[5]=n[7],r[7]=o,e}}const ere=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class z{constructor(e,n,r){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),this.x=e,this.y=n,this.z=r}cross(e,n){n===void 0&&(n=new z);const r=e.x,o=e.y,l=e.z,h=this.x,d=this.y,p=this.z;return n.x=d*l-p*o,n.y=p*r-h*l,n.z=h*o-d*r,n}set(e,n,r){return this.x=e,this.y=n,this.z=r,this}setZero(){this.x=this.y=this.z=0}vadd(e,n){if(n)n.x=e.x+this.x,n.y=e.y+this.y,n.z=e.z+this.z;else return new z(this.x+e.x,this.y+e.y,this.z+e.z)}vsub(e,n){if(n)n.x=this.x-e.x,n.y=this.y-e.y,n.z=this.z-e.z;else return new z(this.x-e.x,this.y-e.y,this.z-e.z)}crossmat(){return new Qi([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,n=this.y,r=this.z,o=Math.sqrt(e*e+n*n+r*r);if(o>0){const l=1/o;this.x*=l,this.y*=l,this.z*=l}else this.x=0,this.y=0,this.z=0;return o}unit(e){e===void 0&&(e=new z);const n=this.x,r=this.y,o=this.z;let l=Math.sqrt(n*n+r*r+o*o);return l>0?(l=1/l,e.x=n*l,e.y=r*l,e.z=o*l):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,n=this.y,r=this.z;return Math.sqrt(e*e+n*n+r*r)}lengthSquared(){return this.dot(this)}distanceTo(e){const n=this.x,r=this.y,o=this.z,l=e.x,h=e.y,d=e.z;return Math.sqrt((l-n)*(l-n)+(h-r)*(h-r)+(d-o)*(d-o))}distanceSquared(e){const n=this.x,r=this.y,o=this.z,l=e.x,h=e.y,d=e.z;return(l-n)*(l-n)+(h-r)*(h-r)+(d-o)*(d-o)}scale(e,n){n===void 0&&(n=new z);const r=this.x,o=this.y,l=this.z;return n.x=e*r,n.y=e*o,n.z=e*l,n}vmul(e,n){return n===void 0&&(n=new z),n.x=e.x*this.x,n.y=e.y*this.y,n.z=e.z*this.z,n}addScaledVector(e,n,r){return r===void 0&&(r=new z),r.x=this.x+e*n.x,r.y=this.y+e*n.y,r.z=this.z+e*n.z,r}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return this.x===0&&this.y===0&&this.z===0}negate(e){return e===void 0&&(e=new z),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,n){const r=this.length();if(r>0){const o=tre,l=1/r;o.set(this.x*l,this.y*l,this.z*l);const h=nre;Math.abs(o.x)<.9?(h.set(1,0,0),o.cross(h,e)):(h.set(0,1,0),o.cross(h,e)),o.cross(e,n)}else e.set(1,0,0),n.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,n,r){const o=this.x,l=this.y,h=this.z;r.x=o+(e.x-o)*n,r.y=l+(e.y-l)*n,r.z=h+(e.z-h)*n}almostEquals(e,n){return n===void 0&&(n=1e-6),!(Math.abs(this.x-e.x)>n||Math.abs(this.y-e.y)>n||Math.abs(this.z-e.z)>n)}almostZero(e){return e===void 0&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,n){return this.negate(e3),e3.almostEquals(e,n)}clone(){return new z(this.x,this.y,this.z)}}z.ZERO=new z(0,0,0);z.UNIT_X=new z(1,0,0);z.UNIT_Y=new z(0,1,0);z.UNIT_Z=new z(0,0,1);const tre=new z,nre=new z,e3=new z;class rr{constructor(e){e===void 0&&(e={}),this.lowerBound=new z,this.upperBound=new z,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,n,r,o){const l=this.lowerBound,h=this.upperBound,d=r;l.copy(e[0]),d&&d.vmult(l,l),h.copy(l);for(let p=1;p<e.length;p++){let g=e[p];d&&(d.vmult(g,t3),g=t3),g.x>h.x&&(h.x=g.x),g.x<l.x&&(l.x=g.x),g.y>h.y&&(h.y=g.y),g.y<l.y&&(l.y=g.y),g.z>h.z&&(h.z=g.z),g.z<l.z&&(l.z=g.z)}return n&&(n.vadd(l,l),n.vadd(h,h)),o&&(l.x-=o,l.y-=o,l.z-=o,h.x+=o,h.y+=o,h.z+=o),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return new rr().copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const n=this.lowerBound,r=this.upperBound,o=e.lowerBound,l=e.upperBound,h=o.x<=r.x&&r.x<=l.x||n.x<=l.x&&l.x<=r.x,d=o.y<=r.y&&r.y<=l.y||n.y<=l.y&&l.y<=r.y,p=o.z<=r.z&&r.z<=l.z||n.z<=l.z&&l.z<=r.z;return h&&d&&p}volume(){const e=this.lowerBound,n=this.upperBound;return(n.x-e.x)*(n.y-e.y)*(n.z-e.z)}contains(e){const n=this.lowerBound,r=this.upperBound,o=e.lowerBound,l=e.upperBound;return n.x<=o.x&&r.x>=l.x&&n.y<=o.y&&r.y>=l.y&&n.z<=o.z&&r.z>=l.z}getCorners(e,n,r,o,l,h,d,p){const g=this.lowerBound,v=this.upperBound;e.copy(g),n.set(v.x,g.y,g.z),r.set(v.x,v.y,g.z),o.set(g.x,v.y,v.z),l.set(v.x,g.y,v.z),h.set(g.x,v.y,g.z),d.set(g.x,g.y,v.z),p.copy(v)}toLocalFrame(e,n){const r=n3,o=r[0],l=r[1],h=r[2],d=r[3],p=r[4],g=r[5],v=r[6],y=r[7];this.getCorners(o,l,h,d,p,g,v,y);for(let x=0;x!==8;x++){const T=r[x];e.pointToLocal(T,T)}return n.setFromPoints(r)}toWorldFrame(e,n){const r=n3,o=r[0],l=r[1],h=r[2],d=r[3],p=r[4],g=r[5],v=r[6],y=r[7];this.getCorners(o,l,h,d,p,g,v,y);for(let x=0;x!==8;x++){const T=r[x];e.pointToWorld(T,T)}return n.setFromPoints(r)}overlapsRay(e){const{direction:n,from:r}=e,o=1/n.x,l=1/n.y,h=1/n.z,d=(this.lowerBound.x-r.x)*o,p=(this.upperBound.x-r.x)*o,g=(this.lowerBound.y-r.y)*l,v=(this.upperBound.y-r.y)*l,y=(this.lowerBound.z-r.z)*h,x=(this.upperBound.z-r.z)*h,T=Math.max(Math.max(Math.min(d,p),Math.min(g,v)),Math.min(y,x)),w=Math.min(Math.min(Math.max(d,p),Math.max(g,v)),Math.max(y,x));return!(w<0||T>w)}}const t3=new z,n3=[new z,new z,new z,new z,new z,new z,new z,new z];class zx{constructor(){this.matrix=[]}get(e,n){let{index:r}=e,{index:o}=n;if(o>r){const l=o;o=r,r=l}return this.matrix[(r*(r+1)>>1)+o-1]}set(e,n,r){let{index:o}=e,{index:l}=n;if(l>o){const h=l;l=o,o=h}this.matrix[(o*(o+1)>>1)+l-1]=r?1:0}reset(){for(let e=0,n=this.matrix.length;e!==n;e++)this.matrix[e]=0}setNumObjects(e){this.matrix.length=e*(e-1)>>1}}class uC{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;return r[e]===void 0&&(r[e]=[]),r[e].includes(n)||r[e].push(n),this}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return!!(r[e]!==void 0&&r[e].includes(n))}hasAnyEventListener(e){return this._listeners===void 0?!1:this._listeners[e]!==void 0}removeEventListener(e,n){if(this._listeners===void 0)return this;const r=this._listeners;if(r[e]===void 0)return this;const o=r[e].indexOf(n);return o!==-1&&r[e].splice(o,1),this}dispatchEvent(e){if(this._listeners===void 0)return this;const r=this._listeners[e.type];if(r!==void 0){e.target=this;for(let o=0,l=r.length;o<l;o++)r[o].call(this,e)}return this}}let Vr=class Rc{constructor(e,n,r,o){e===void 0&&(e=0),n===void 0&&(n=0),r===void 0&&(r=0),o===void 0&&(o=1),this.x=e,this.y=n,this.z=r,this.w=o}set(e,n,r,o){return this.x=e,this.y=n,this.z=r,this.w=o,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,n){const r=Math.sin(n*.5);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n*.5),this}toAxisAngle(e){e===void 0&&(e=new z),this.normalize();const n=2*Math.acos(this.w),r=Math.sqrt(1-this.w*this.w);return r<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/r,e.y=this.y/r,e.z=this.z/r),[e,n]}setFromVectors(e,n){if(e.isAntiparallelTo(n)){const r=rre,o=ire;e.tangents(r,o),this.setFromAxisAngle(r,Math.PI)}else{const r=e.cross(n);this.x=r.x,this.y=r.y,this.z=r.z,this.w=Math.sqrt(e.length()**2*n.length()**2)+e.dot(n),this.normalize()}return this}mult(e,n){n===void 0&&(n=new Rc);const r=this.x,o=this.y,l=this.z,h=this.w,d=e.x,p=e.y,g=e.z,v=e.w;return n.x=r*v+h*d+o*g-l*p,n.y=o*v+h*p+l*d-r*g,n.z=l*v+h*g+r*p-o*d,n.w=h*v-r*d-o*p-l*g,n}inverse(e){e===void 0&&(e=new Rc);const n=this.x,r=this.y,o=this.z,l=this.w;this.conjugate(e);const h=1/(n*n+r*r+o*o+l*l);return e.x*=h,e.y*=h,e.z*=h,e.w*=h,e}conjugate(e){return e===void 0&&(e=new Rc),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return e===0?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,n){n===void 0&&(n=new z);const r=e.x,o=e.y,l=e.z,h=this.x,d=this.y,p=this.z,g=this.w,v=g*r+d*l-p*o,y=g*o+p*r-h*l,x=g*l+h*o-d*r,T=-h*r-d*o-p*l;return n.x=v*g+T*-h+y*-p-x*-d,n.y=y*g+T*-d+x*-h-v*-p,n.z=x*g+T*-p+v*-d-y*-h,n}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,n){n===void 0&&(n="YZX");let r,o,l;const h=this.x,d=this.y,p=this.z,g=this.w;switch(n){case"YZX":const v=h*d+p*g;if(v>.499&&(r=2*Math.atan2(h,g),o=Math.PI/2,l=0),v<-.499&&(r=-2*Math.atan2(h,g),o=-Math.PI/2,l=0),r===void 0){const y=h*h,x=d*d,T=p*p;r=Math.atan2(2*d*g-2*h*p,1-2*x-2*T),o=Math.asin(2*v),l=Math.atan2(2*h*g-2*d*p,1-2*y-2*T)}break;default:throw new Error(`Euler order ${n} not supported yet.`)}e.y=r,e.z=o,e.x=l}setFromEuler(e,n,r,o){o===void 0&&(o="XYZ");const l=Math.cos(e/2),h=Math.cos(n/2),d=Math.cos(r/2),p=Math.sin(e/2),g=Math.sin(n/2),v=Math.sin(r/2);return o==="XYZ"?(this.x=p*h*d+l*g*v,this.y=l*g*d-p*h*v,this.z=l*h*v+p*g*d,this.w=l*h*d-p*g*v):o==="YXZ"?(this.x=p*h*d+l*g*v,this.y=l*g*d-p*h*v,this.z=l*h*v-p*g*d,this.w=l*h*d+p*g*v):o==="ZXY"?(this.x=p*h*d-l*g*v,this.y=l*g*d+p*h*v,this.z=l*h*v+p*g*d,this.w=l*h*d-p*g*v):o==="ZYX"?(this.x=p*h*d-l*g*v,this.y=l*g*d+p*h*v,this.z=l*h*v-p*g*d,this.w=l*h*d+p*g*v):o==="YZX"?(this.x=p*h*d+l*g*v,this.y=l*g*d+p*h*v,this.z=l*h*v-p*g*d,this.w=l*h*d-p*g*v):o==="XZY"&&(this.x=p*h*d-l*g*v,this.y=l*g*d-p*h*v,this.z=l*h*v+p*g*d,this.w=l*h*d+p*g*v),this}clone(){return new Rc(this.x,this.y,this.z,this.w)}slerp(e,n,r){r===void 0&&(r=new Rc);const o=this.x,l=this.y,h=this.z,d=this.w;let p=e.x,g=e.y,v=e.z,y=e.w,x,T,w,M,S;return T=o*p+l*g+h*v+d*y,T<0&&(T=-T,p=-p,g=-g,v=-v,y=-y),1-T>1e-6?(x=Math.acos(T),w=Math.sin(x),M=Math.sin((1-n)*x)/w,S=Math.sin(n*x)/w):(M=1-n,S=n),r.x=M*o+S*p,r.y=M*l+S*g,r.z=M*h+S*v,r.w=M*d+S*y,r}integrate(e,n,r,o){o===void 0&&(o=new Rc);const l=e.x*r.x,h=e.y*r.y,d=e.z*r.z,p=this.x,g=this.y,v=this.z,y=this.w,x=n*.5;return o.x+=x*(l*y+h*v-d*g),o.y+=x*(h*y+d*p-l*v),o.z+=x*(d*y+l*g-h*p),o.w+=x*(-l*p-h*g-d*v),o}};const rre=new z,ire=new z,pI={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};class st{constructor(e){e===void 0&&(e={}),this.id=st.idCounter++,this.type=e.type||0,this.boundingSphereRadius=0,this.collisionResponse=e.collisionResponse?e.collisionResponse:!0,this.collisionFilterGroup=e.collisionFilterGroup!==void 0?e.collisionFilterGroup:1,this.collisionFilterMask=e.collisionFilterMask!==void 0?e.collisionFilterMask:-1,this.material=e.material?e.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(e,n){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(e,n,r,o){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}st.idCounter=0;st.types=pI;class Sn{constructor(e){e===void 0&&(e={}),this.position=new z,this.quaternion=new Vr,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,n){return Sn.pointToLocalFrame(this.position,this.quaternion,e,n)}pointToWorld(e,n){return Sn.pointToWorldFrame(this.position,this.quaternion,e,n)}vectorToWorldFrame(e,n){return n===void 0&&(n=new z),this.quaternion.vmult(e,n),n}static pointToLocalFrame(e,n,r,o){return o===void 0&&(o=new z),r.vsub(e,o),n.conjugate(r3),r3.vmult(o,o),o}static pointToWorldFrame(e,n,r,o){return o===void 0&&(o=new z),n.vmult(r,o),o.vadd(e,o),o}static vectorToWorldFrame(e,n,r){return r===void 0&&(r=new z),e.vmult(n,r),r}static vectorToLocalFrame(e,n,r,o){return o===void 0&&(o=new z),n.w*=-1,n.vmult(r,o),n.w*=-1,o}}const r3=new Vr;class ns extends st{constructor(e){e===void 0&&(e={});const{vertices:n=[],faces:r=[],normals:o=[],axes:l,boundingSphereRadius:h}=e;super({type:st.types.CONVEXPOLYHEDRON}),this.vertices=n,this.faces=r,this.faceNormals=o,this.faceNormals.length===0&&this.computeNormals(),h?this.boundingSphereRadius=h:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=l?l.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,n=this.vertices,r=this.uniqueEdges;r.length=0;const o=new z;for(let l=0;l!==e.length;l++){const h=e[l],d=h.length;for(let p=0;p!==d;p++){const g=(p+1)%d;n[h[p]].vsub(n[h[g]],o),o.normalize();let v=!1;for(let y=0;y!==r.length;y++)if(r[y].almostEquals(o)||r[y].almostEquals(o)){v=!0;break}v||r.push(o.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let o=0;o<this.faces[e].length;o++)if(!this.vertices[this.faces[e][o]])throw new Error(`Vertex ${this.faces[e][o]} not found!`);const n=this.faceNormals[e]||new z;this.getFaceNormal(e,n),n.negate(n),this.faceNormals[e]=n;const r=this.vertices[this.faces[e][0]];if(n.dot(r)<0){console.error(`.faceNormals[${e}] = Vec3(${n.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let o=0;o<this.faces[e].length;o++)console.warn(`.vertices[${this.faces[e][o]}] = Vec3(${this.vertices[this.faces[e][o]].toString()})`)}}}getFaceNormal(e,n){const r=this.faces[e],o=this.vertices[r[0]],l=this.vertices[r[1]],h=this.vertices[r[2]];ns.computeNormal(o,l,h,n)}static computeNormal(e,n,r,o){const l=new z,h=new z;n.vsub(e,h),r.vsub(n,l),l.cross(h,o),o.isZero()||o.normalize()}clipAgainstHull(e,n,r,o,l,h,d,p,g){const v=new z;let y=-1,x=-Number.MAX_VALUE;for(let w=0;w<r.faces.length;w++){v.copy(r.faceNormals[w]),l.vmult(v,v);const M=v.dot(h);M>x&&(x=M,y=w)}const T=[];for(let w=0;w<r.faces[y].length;w++){const M=r.vertices[r.faces[y][w]],S=new z;S.copy(M),l.vmult(S,S),o.vadd(S,S),T.push(S)}y>=0&&this.clipFaceAgainstHull(h,e,n,T,d,p,g)}findSeparatingAxis(e,n,r,o,l,h,d,p){const g=new z,v=new z,y=new z,x=new z,T=new z,w=new z;let M=Number.MAX_VALUE;const S=this;if(S.uniqueAxes)for(let j=0;j!==S.uniqueAxes.length;j++){r.vmult(S.uniqueAxes[j],g);const k=S.testSepAxis(g,e,n,r,o,l);if(k===!1)return!1;k<M&&(M=k,h.copy(g))}else{const j=d?d.length:S.faces.length;for(let k=0;k<j;k++){const W=d?d[k]:k;g.copy(S.faceNormals[W]),r.vmult(g,g);const q=S.testSepAxis(g,e,n,r,o,l);if(q===!1)return!1;q<M&&(M=q,h.copy(g))}}if(e.uniqueAxes)for(let j=0;j!==e.uniqueAxes.length;j++){l.vmult(e.uniqueAxes[j],v);const k=S.testSepAxis(v,e,n,r,o,l);if(k===!1)return!1;k<M&&(M=k,h.copy(v))}else{const j=p?p.length:e.faces.length;for(let k=0;k<j;k++){const W=p?p[k]:k;v.copy(e.faceNormals[W]),l.vmult(v,v);const q=S.testSepAxis(v,e,n,r,o,l);if(q===!1)return!1;q<M&&(M=q,h.copy(v))}}for(let j=0;j!==S.uniqueEdges.length;j++){r.vmult(S.uniqueEdges[j],x);for(let k=0;k!==e.uniqueEdges.length;k++)if(l.vmult(e.uniqueEdges[k],T),x.cross(T,w),!w.almostZero()){w.normalize();const W=S.testSepAxis(w,e,n,r,o,l);if(W===!1)return!1;W<M&&(M=W,h.copy(w))}}return o.vsub(n,y),y.dot(h)>0&&h.negate(h),!0}testSepAxis(e,n,r,o,l,h){const d=this;ns.project(d,e,r,o,Ny),ns.project(n,e,l,h,My);const p=Ny[0],g=Ny[1],v=My[0],y=My[1];if(p<y||v<g)return!1;const x=p-y,T=v-g;return x<T?x:T}calculateLocalInertia(e,n){const r=new z,o=new z;this.computeLocalAABB(o,r);const l=r.x-o.x,h=r.y-o.y,d=r.z-o.z;n.x=1/12*e*(2*h*2*h+2*d*2*d),n.y=1/12*e*(2*l*2*l+2*d*2*d),n.z=1/12*e*(2*h*2*h+2*l*2*l)}getPlaneConstantOfFace(e){const n=this.faces[e],r=this.faceNormals[e],o=this.vertices[n[0]];return-r.dot(o)}clipFaceAgainstHull(e,n,r,o,l,h,d){const p=new z,g=new z,v=new z,y=new z,x=new z,T=new z,w=new z,M=new z,S=this,j=[],k=o,W=j;let q=-1,Z=Number.MAX_VALUE;for(let re=0;re<S.faces.length;re++){p.copy(S.faceNormals[re]),r.vmult(p,p);const se=p.dot(e);se<Z&&(Z=se,q=re)}if(q<0)return;const Y=S.faces[q];Y.connectedFaces=[];for(let re=0;re<S.faces.length;re++)for(let se=0;se<S.faces[re].length;se++)Y.indexOf(S.faces[re][se])!==-1&&re!==q&&Y.connectedFaces.indexOf(re)===-1&&Y.connectedFaces.push(re);const he=Y.length;for(let re=0;re<he;re++){const se=S.vertices[Y[re]],oe=S.vertices[Y[(re+1)%he]];se.vsub(oe,g),v.copy(g),r.vmult(v,v),n.vadd(v,v),y.copy(this.faceNormals[q]),r.vmult(y,y),n.vadd(y,y),v.cross(y,x),x.negate(x),T.copy(se),r.vmult(T,T),n.vadd(T,T);const Q=Y.connectedFaces[re];w.copy(this.faceNormals[Q]);const pe=this.getPlaneConstantOfFace(Q);M.copy(w),r.vmult(M,M);const be=pe-M.dot(n);for(this.clipFaceAgainstPlane(k,W,M,be);k.length;)k.shift();for(;W.length;)k.push(W.shift())}w.copy(this.faceNormals[q]);const ae=this.getPlaneConstantOfFace(q);M.copy(w),r.vmult(M,M);const ve=ae-M.dot(n);for(let re=0;re<k.length;re++){let se=M.dot(k[re])+ve;if(se<=l&&(console.log(`clamped: depth=${se} to minDist=${l}`),se=l),se<=h){const oe=k[re];if(se<=1e-6){const Q={point:oe,normal:M,depth:se};d.push(Q)}}}}clipFaceAgainstPlane(e,n,r,o){let l,h;const d=e.length;if(d<2)return n;let p=e[e.length-1],g=e[0];l=r.dot(p)+o;for(let v=0;v<d;v++){if(g=e[v],h=r.dot(g)+o,l<0)if(h<0){const y=new z;y.copy(g),n.push(y)}else{const y=new z;p.lerp(g,l/(l-h),y),n.push(y)}else if(h<0){const y=new z;p.lerp(g,l/(l-h),y),n.push(y),n.push(g)}p=g,l=h}return n}computeWorldVertices(e,n){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new z);const r=this.vertices,o=this.worldVertices;for(let l=0;l!==this.vertices.length;l++)n.vmult(r[l],o[l]),e.vadd(o[l],o[l]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,n){const r=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let o=0;o<this.vertices.length;o++){const l=r[o];l.x<e.x?e.x=l.x:l.x>n.x&&(n.x=l.x),l.y<e.y?e.y=l.y:l.y>n.y&&(n.y=l.y),l.z<e.z?e.z=l.z:l.z>n.z&&(n.z=l.z)}}computeWorldFaceNormals(e){const n=this.faceNormals.length;for(;this.worldFaceNormals.length<n;)this.worldFaceNormals.push(new z);const r=this.faceNormals,o=this.worldFaceNormals;for(let l=0;l!==n;l++)e.vmult(r[l],o[l]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const n=this.vertices;for(let r=0;r!==n.length;r++){const o=n[r].lengthSquared();o>e&&(e=o)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,n,r,o){const l=this.vertices;let h,d,p,g,v,y,x=new z;for(let T=0;T<l.length;T++){x.copy(l[T]),n.vmult(x,x),e.vadd(x,x);const w=x;(h===void 0||w.x<h)&&(h=w.x),(g===void 0||w.x>g)&&(g=w.x),(d===void 0||w.y<d)&&(d=w.y),(v===void 0||w.y>v)&&(v=w.y),(p===void 0||w.z<p)&&(p=w.z),(y===void 0||w.z>y)&&(y=w.z)}r.set(h,d,p),o.set(g,v,y)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){e===void 0&&(e=new z);const n=this.vertices;for(let r=0;r<n.length;r++)e.vadd(n[r],e);return e.scale(1/n.length,e),e}transformAllPoints(e,n){const r=this.vertices.length,o=this.vertices;if(n){for(let l=0;l<r;l++){const h=o[l];n.vmult(h,h)}for(let l=0;l<this.faceNormals.length;l++){const h=this.faceNormals[l];n.vmult(h,h)}}if(e)for(let l=0;l<r;l++){const h=o[l];h.vadd(e,h)}}pointIsInside(e){const n=this.vertices,r=this.faces,o=this.faceNormals,l=null,h=new z;this.getAveragePointLocal(h);for(let d=0;d<this.faces.length;d++){let p=o[d];const g=n[r[d][0]],v=new z;e.vsub(g,v);const y=p.dot(v),x=new z;h.vsub(g,x);const T=p.dot(x);if(y<0&&T>0||y>0&&T<0)return!1}return l?1:-1}static project(e,n,r,o,l){const h=e.vertices.length,d=are;let p=0,g=0;const v=sre,y=e.vertices;v.setZero(),Sn.vectorToLocalFrame(r,o,n,d),Sn.pointToLocalFrame(r,o,v,v);const x=v.dot(d);g=p=y[0].dot(d);for(let T=1;T<h;T++){const w=y[T].dot(d);w>p&&(p=w),w<g&&(g=w)}if(g-=x,p-=x,g>p){const T=g;g=p,p=T}l[0]=p,l[1]=g}}const Ny=[],My=[],ore=new z,are=new z,sre=new z;class _p extends st{constructor(e){super({type:st.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,n=this.halfExtents.y,r=this.halfExtents.z,o=z,l=[new o(-e,-n,-r),new o(e,-n,-r),new o(e,n,-r),new o(-e,n,-r),new o(-e,-n,r),new o(e,-n,r),new o(e,n,r),new o(-e,n,r)],h=[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],d=[new o(0,0,1),new o(0,1,0),new o(1,0,0)],p=new ns({vertices:l,faces:h,axes:d});this.convexPolyhedronRepresentation=p,p.material=this.material}calculateLocalInertia(e,n){return n===void 0&&(n=new z),_p.calculateInertia(this.halfExtents,e,n),n}static calculateInertia(e,n,r){const o=e;r.x=1/12*n*(2*o.y*2*o.y+2*o.z*2*o.z),r.y=1/12*n*(2*o.x*2*o.x+2*o.z*2*o.z),r.z=1/12*n*(2*o.y*2*o.y+2*o.x*2*o.x)}getSideNormals(e,n){const r=e,o=this.halfExtents;if(r[0].set(o.x,0,0),r[1].set(0,o.y,0),r[2].set(0,0,o.z),r[3].set(-o.x,0,0),r[4].set(0,-o.y,0),r[5].set(0,0,-o.z),n!==void 0)for(let l=0;l!==r.length;l++)n.vmult(r[l],r[l]);return r}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,n,r){const o=this.halfExtents,l=[[o.x,o.y,o.z],[-o.x,o.y,o.z],[-o.x,-o.y,o.z],[-o.x,-o.y,-o.z],[o.x,-o.y,-o.z],[o.x,o.y,-o.z],[-o.x,o.y,-o.z],[o.x,-o.y,o.z]];for(let h=0;h<l.length;h++)Qs.set(l[h][0],l[h][1],l[h][2]),n.vmult(Qs,Qs),e.vadd(Qs,Qs),r(Qs.x,Qs.y,Qs.z)}calculateWorldAABB(e,n,r,o){const l=this.halfExtents;na[0].set(l.x,l.y,l.z),na[1].set(-l.x,l.y,l.z),na[2].set(-l.x,-l.y,l.z),na[3].set(-l.x,-l.y,-l.z),na[4].set(l.x,-l.y,-l.z),na[5].set(l.x,l.y,-l.z),na[6].set(-l.x,l.y,-l.z),na[7].set(l.x,-l.y,l.z);const h=na[0];n.vmult(h,h),e.vadd(h,h),o.copy(h),r.copy(h);for(let d=1;d<8;d++){const p=na[d];n.vmult(p,p),e.vadd(p,p);const g=p.x,v=p.y,y=p.z;g>o.x&&(o.x=g),v>o.y&&(o.y=v),y>o.z&&(o.z=y),g<r.x&&(r.x=g),v<r.y&&(r.y=v),y<r.z&&(r.z=y)}}}const Qs=new z,na=[new z,new z,new z,new z,new z,new z,new z,new z],b0={DYNAMIC:1,STATIC:2,KINEMATIC:4},v0={AWAKE:0,SLEEPY:1,SLEEPING:2};class At extends uC{constructor(e){e===void 0&&(e={}),super(),this.id=At.idCounter++,this.index=-1,this.world=null,this.vlambda=new z,this.collisionFilterGroup=typeof e.collisionFilterGroup=="number"?e.collisionFilterGroup:1,this.collisionFilterMask=typeof e.collisionFilterMask=="number"?e.collisionFilterMask:-1,this.collisionResponse=typeof e.collisionResponse=="boolean"?e.collisionResponse:!0,this.position=new z,this.previousPosition=new z,this.interpolatedPosition=new z,this.initPosition=new z,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new z,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new z,this.force=new z;const n=typeof e.mass=="number"?e.mass:0;this.mass=n,this.invMass=n>0?1/n:0,this.material=e.material||null,this.linearDamping=typeof e.linearDamping=="number"?e.linearDamping:.01,this.type=n<=0?At.STATIC:At.DYNAMIC,typeof e.type==typeof At.STATIC&&(this.type=e.type),this.allowSleep=typeof e.allowSleep<"u"?e.allowSleep:!0,this.sleepState=At.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new z,this.quaternion=new Vr,this.initQuaternion=new Vr,this.previousQuaternion=new Vr,this.interpolatedQuaternion=new Vr,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new z,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new z,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new z,this.invInertia=new z,this.invInertiaWorld=new Qi,this.invMassSolve=0,this.invInertiaSolve=new z,this.invInertiaWorldSolve=new Qi,this.fixedRotation=typeof e.fixedRotation<"u"?e.fixedRotation:!1,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new z(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new z(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new rr,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new z,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=At.AWAKE,this.wakeUpAfterNarrowphase=!1,e===At.SLEEPING&&this.dispatchEvent(At.wakeupEvent)}sleep(){this.sleepState=At.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const n=this.sleepState,r=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),o=this.sleepSpeedLimit**2;n===At.AWAKE&&r<o?(this.sleepState=At.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(At.sleepyEvent)):n===At.SLEEPY&&r>o?this.wakeUp():n===At.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(At.sleepEvent))}}updateSolveMassProperties(){this.sleepState===At.SLEEPING||this.type===At.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,n){return n===void 0&&(n=new z),e.vsub(this.position,n),this.quaternion.conjugate().vmult(n,n),n}vectorToLocalFrame(e,n){return n===void 0&&(n=new z),this.quaternion.conjugate().vmult(e,n),n}pointToWorldFrame(e,n){return n===void 0&&(n=new z),this.quaternion.vmult(e,n),n.vadd(this.position,n),n}vectorToWorldFrame(e,n){return n===void 0&&(n=new z),this.quaternion.vmult(e,n),n}addShape(e,n,r){const o=new z,l=new Vr;return n&&o.copy(n),r&&l.copy(r),this.shapes.push(e),this.shapeOffsets.push(o),this.shapeOrientations.push(l),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const n=this.shapes.indexOf(e);return n===-1?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(n,1),this.shapeOffsets.splice(n,1),this.shapeOrientations.splice(n,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,n=this.shapeOffsets,r=e.length;let o=0;for(let l=0;l!==r;l++){const h=e[l];h.updateBoundingSphereRadius();const d=n[l].length(),p=h.boundingSphereRadius;d+p>o&&(o=d+p)}this.boundingRadius=o}updateAABB(){const e=this.shapes,n=this.shapeOffsets,r=this.shapeOrientations,o=e.length,l=lre,h=cre,d=this.quaternion,p=this.aabb,g=hre;for(let v=0;v!==o;v++){const y=e[v];d.vmult(n[v],l),l.vadd(this.position,l),d.mult(r[v],h),y.calculateWorldAABB(l,h,g.lowerBound,g.upperBound),v===0?p.copy(g):p.extend(g)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const n=this.invInertia;if(!(n.x===n.y&&n.y===n.z&&!e)){const r=ure,o=dre;r.setRotationFromQuaternion(this.quaternion),r.transpose(o),r.scale(n,r),r.mmult(o,this.invInertiaWorld)}}applyForce(e,n){if(n===void 0&&(n=new z),this.type!==At.DYNAMIC)return;this.sleepState===At.SLEEPING&&this.wakeUp();const r=pre;n.cross(e,r),this.force.vadd(e,this.force),this.torque.vadd(r,this.torque)}applyLocalForce(e,n){if(n===void 0&&(n=new z),this.type!==At.DYNAMIC)return;const r=fre,o=gre;this.vectorToWorldFrame(e,r),this.vectorToWorldFrame(n,o),this.applyForce(r,o)}applyTorque(e){this.type===At.DYNAMIC&&(this.sleepState===At.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,n){if(n===void 0&&(n=new z),this.type!==At.DYNAMIC)return;this.sleepState===At.SLEEPING&&this.wakeUp();const r=n,o=bre;o.copy(e),o.scale(this.invMass,o),this.velocity.vadd(o,this.velocity);const l=vre;r.cross(e,l),this.invInertiaWorld.vmult(l,l),this.angularVelocity.vadd(l,this.angularVelocity)}applyLocalImpulse(e,n){if(n===void 0&&(n=new z),this.type!==At.DYNAMIC)return;const r=yre,o=xre;this.vectorToWorldFrame(e,r),this.vectorToWorldFrame(n,o),this.applyImpulse(r,o)}updateMassProperties(){const e=Cre;this.invMass=this.mass>0?1/this.mass:0;const n=this.inertia,r=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),_p.calculateInertia(e,this.mass,n),this.invInertia.set(n.x>0&&!r?1/n.x:0,n.y>0&&!r?1/n.y:0,n.z>0&&!r?1/n.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,n){const r=new z;return e.vsub(this.position,r),this.angularVelocity.cross(r,n),this.velocity.vadd(n,n),n}integrate(e,n,r){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),!(this.type===At.DYNAMIC||this.type===At.KINEMATIC)||this.sleepState===At.SLEEPING)return;const o=this.velocity,l=this.angularVelocity,h=this.position,d=this.force,p=this.torque,g=this.quaternion,v=this.invMass,y=this.invInertiaWorld,x=this.linearFactor,T=v*e;o.x+=d.x*T*x.x,o.y+=d.y*T*x.y,o.z+=d.z*T*x.z;const w=y.elements,M=this.angularFactor,S=p.x*M.x,j=p.y*M.y,k=p.z*M.z;l.x+=e*(w[0]*S+w[1]*j+w[2]*k),l.y+=e*(w[3]*S+w[4]*j+w[5]*k),l.z+=e*(w[6]*S+w[7]*j+w[8]*k),h.x+=o.x*e,h.y+=o.y*e,h.z+=o.z*e,g.integrate(this.angularVelocity,e,this.angularFactor,g),n&&(r?g.normalizeFast():g.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}At.idCounter=0;At.COLLIDE_EVENT_NAME="collide";At.DYNAMIC=b0.DYNAMIC;At.STATIC=b0.STATIC;At.KINEMATIC=b0.KINEMATIC;At.AWAKE=v0.AWAKE;At.SLEEPY=v0.SLEEPY;At.SLEEPING=v0.SLEEPING;At.wakeupEvent={type:"wakeup"};At.sleepyEvent={type:"sleepy"};At.sleepEvent={type:"sleep"};const lre=new z,cre=new Vr,hre=new rr,ure=new Qi,dre=new Qi,mre=new Qi,pre=new z,fre=new z,gre=new z,bre=new z,vre=new z,yre=new z,xre=new z,Cre=new z;class y0{constructor(){this.world=null,this.useBoundingBoxes=!1,this.dirty=!0}collisionPairs(e,n,r){throw new Error("collisionPairs not implemented for this BroadPhase class!")}needBroadphaseCollision(e,n){return!(!(e.collisionFilterGroup&n.collisionFilterMask)||!(n.collisionFilterGroup&e.collisionFilterMask)||(e.type&At.STATIC||e.sleepState===At.SLEEPING)&&(n.type&At.STATIC||n.sleepState===At.SLEEPING))}intersectionTest(e,n,r,o){this.useBoundingBoxes?this.doBoundingBoxBroadphase(e,n,r,o):this.doBoundingSphereBroadphase(e,n,r,o)}doBoundingSphereBroadphase(e,n,r,o){const l=_re;n.position.vsub(e.position,l);const h=(e.boundingRadius+n.boundingRadius)**2;l.lengthSquared()<h&&(r.push(e),o.push(n))}doBoundingBoxBroadphase(e,n,r,o){e.aabbNeedsUpdate&&e.updateAABB(),n.aabbNeedsUpdate&&n.updateAABB(),e.aabb.overlaps(n.aabb)&&(r.push(e),o.push(n))}makePairsUnique(e,n){const r=Tre,o=wre,l=Nre,h=e.length;for(let d=0;d!==h;d++)o[d]=e[d],l[d]=n[d];e.length=0,n.length=0;for(let d=0;d!==h;d++){const p=o[d].id,g=l[d].id,v=p<g?`${p},${g}`:`${g},${p}`;r[v]=d,r.keys.push(v)}for(let d=0;d!==r.keys.length;d++){const p=r.keys.pop(),g=r[p];e.push(o[g]),n.push(l[g]),delete r[p]}}setWorld(e){}static boundingSphereCheck(e,n){const r=new z;e.position.vsub(n.position,r);const o=e.shapes[0],l=n.shapes[0];return Math.pow(o.boundingSphereRadius+l.boundingSphereRadius,2)>r.lengthSquared()}aabbQuery(e,n,r){return console.warn(".aabbQuery is not implemented in this Broadphase subclass."),[]}}const _re=new z;new z;new Vr;new z;const Tre={keys:[]},wre=[],Nre=[];new z;class Mre extends y0{constructor(e,n,r,o,l){e===void 0&&(e=new z(100,100,100)),n===void 0&&(n=new z(-100,-100,-100)),r===void 0&&(r=10),o===void 0&&(o=10),l===void 0&&(l=10),super(),this.nx=r,this.ny=o,this.nz=l,this.aabbMin=e,this.aabbMax=n;const h=this.nx*this.ny*this.nz;if(h<=0)throw"GridBroadphase: Each dimension's n must be >0";this.bins=[],this.binLengths=[],this.bins.length=h,this.binLengths.length=h;for(let d=0;d<h;d++)this.bins[d]=[],this.binLengths[d]=0}collisionPairs(e,n,r){const o=e.bodies.length,l=e.bodies,h=this.aabbMax,d=this.aabbMin,p=this.nx,g=this.ny,v=this.nz,y=g*v,x=v,T=1,w=h.x,M=h.y,S=h.z,j=d.x,k=d.y,W=d.z,q=p/(w-j),Z=g/(M-k),Y=v/(S-W),he=(w-j)/p,ae=(M-k)/g,ve=(S-W)/v,re=Math.sqrt(he*he+ae*ae+ve*ve)*.5,se=st.types,oe=se.SPHERE,Q=se.PLANE;se.BOX,se.COMPOUND,se.CONVEXPOLYHEDRON;const pe=this.bins,be=this.binLengths,fe=this.bins.length;for(let Be=0;Be!==fe;Be++)be[Be]=0;const de=Math.ceil;function De(Be,_e,ke,je,mt,pt,Bt){let Tt=(Be-j)*q|0,wt=(_e-k)*Z|0,Vt=(ke-W)*Y|0,Ft=de((je-j)*q),zt=de((mt-k)*Z),An=de((pt-W)*Y);Tt<0?Tt=0:Tt>=p&&(Tt=p-1),wt<0?wt=0:wt>=g&&(wt=g-1),Vt<0?Vt=0:Vt>=v&&(Vt=v-1),Ft<0?Ft=0:Ft>=p&&(Ft=p-1),zt<0?zt=0:zt>=g&&(zt=g-1),An<0?An=0:An>=v&&(An=v-1),Tt*=y,wt*=x,Vt*=T,Ft*=y,zt*=x,An*=T;for(let it=Tt;it<=Ft;it+=y)for(let ir=wt;ir<=zt;ir+=x)for(let yr=Vt;yr<=An;yr+=T){const Sr=it+ir+yr;pe[Sr][be[Sr]++]=Bt}}for(let Be=0;Be!==o;Be++){const _e=l[Be],ke=_e.shapes[0];switch(ke.type){case oe:{const je=ke,mt=_e.position.x,pt=_e.position.y,Bt=_e.position.z,Tt=je.radius;De(mt-Tt,pt-Tt,Bt-Tt,mt+Tt,pt+Tt,Bt+Tt,_e);break}case Q:{const je=ke;je.worldNormalNeedsUpdate&&je.computeWorldNormal(_e.quaternion);const mt=je.worldNormal,pt=j+he*.5-_e.position.x,Bt=k+ae*.5-_e.position.y,Tt=W+ve*.5-_e.position.z,wt=Sre;wt.set(pt,Bt,Tt);for(let Vt=0,Ft=0;Vt!==p;Vt++,Ft+=y,wt.y=Bt,wt.x+=he)for(let zt=0,An=0;zt!==g;zt++,An+=x,wt.z=Tt,wt.y+=ae)for(let it=0,ir=0;it!==v;it++,ir+=T,wt.z+=ve)if(wt.dot(mt)<re){const yr=Ft+An+ir;pe[yr][be[yr]++]=_e}break}default:{_e.aabbNeedsUpdate&&_e.updateAABB(),De(_e.aabb.lowerBound.x,_e.aabb.lowerBound.y,_e.aabb.lowerBound.z,_e.aabb.upperBound.x,_e.aabb.upperBound.y,_e.aabb.upperBound.z,_e);break}}}for(let Be=0;Be!==fe;Be++){const _e=be[Be];if(_e>1){const ke=pe[Be];for(let je=0;je!==_e;je++){const mt=ke[je];for(let pt=0;pt!==je;pt++){const Bt=ke[pt];this.needBroadphaseCollision(mt,Bt)&&this.intersectionTest(mt,Bt,n,r)}}}}this.makePairsUnique(n,r)}}const Sre=new z;new z;class fI extends y0{constructor(){super()}collisionPairs(e,n,r){const o=e.bodies,l=o.length;let h,d;for(let p=0;p!==l;p++)for(let g=0;g!==p;g++)h=o[p],d=o[g],this.needBroadphaseCollision(h,d)&&this.intersectionTest(h,d,n,r)}aabbQuery(e,n,r){r===void 0&&(r=[]);for(let o=0;o<e.bodies.length;o++){const l=e.bodies[o];l.aabbNeedsUpdate&&l.updateAABB(),l.aabb.overlaps(n)&&r.push(l)}return r}}class Ru{constructor(){this.rayFromWorld=new z,this.rayToWorld=new z,this.hitNormalWorld=new z,this.hitPointWorld=new z,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,n,r,o,l,h,d){this.rayFromWorld.copy(e),this.rayToWorld.copy(n),this.hitNormalWorld.copy(r),this.hitPointWorld.copy(o),this.shape=l,this.body=h,this.distance=d}}let gI,bI,vI,yI,xI,CI,_I;const x0={CLOSEST:1,ANY:2,ALL:4};gI=st.types.SPHERE;bI=st.types.PLANE;vI=st.types.BOX;yI=st.types.CYLINDER;xI=st.types.CONVEXPOLYHEDRON;CI=st.types.HEIGHTFIELD;_I=st.types.TRIMESH;let Bo=class oa{get[gI](){return this._intersectSphere}get[bI](){return this._intersectPlane}get[vI](){return this._intersectBox}get[yI](){return this._intersectConvex}get[xI](){return this._intersectConvex}get[CI](){return this._intersectHeightfield}get[_I](){return this._intersectTrimesh}constructor(e,n){e===void 0&&(e=new z),n===void 0&&(n=new z),this.from=e.clone(),this.to=n.clone(),this.direction=new z,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=oa.ANY,this.result=new Ru,this.hasHit=!1,this.callback=r=>{}}intersectWorld(e,n){return this.mode=n.mode||oa.ANY,this.result=n.result||new Ru,this.skipBackfaces=!!n.skipBackfaces,this.collisionFilterMask=typeof n.collisionFilterMask<"u"?n.collisionFilterMask:-1,this.collisionFilterGroup=typeof n.collisionFilterGroup<"u"?n.collisionFilterGroup:-1,this.checkCollisionResponse=typeof n.checkCollisionResponse<"u"?n.checkCollisionResponse:!0,n.from&&this.from.copy(n.from),n.to&&this.to.copy(n.to),this.callback=n.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(i3),Sy.length=0,e.broadphase.aabbQuery(e,i3,Sy),this.intersectBodies(Sy),this.hasHit}intersectBody(e,n){n&&(this.result=n,this.updateDirection());const r=this.checkCollisionResponse;if(r&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const o=Are,l=Ere;for(let h=0,d=e.shapes.length;h<d;h++){const p=e.shapes[h];if(!(r&&!p.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[h],l),e.quaternion.vmult(e.shapeOffsets[h],o),o.vadd(e.position,o),this.intersectShape(p,l,o,e),this.result.shouldStop))break}}intersectBodies(e,n){n&&(this.result=n,this.updateDirection());for(let r=0,o=e.length;!this.result.shouldStop&&r<o;r++)this.intersectBody(e[r])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,n,r,o){const l=this.from;if(Vre(l,this.direction,r)>e.boundingSphereRadius)return;const d=this[e.type];d&&d.call(this,e,n,r,o,e)}_intersectBox(e,n,r,o,l){return this._intersectConvex(e.convexPolyhedronRepresentation,n,r,o,l)}_intersectPlane(e,n,r,o,l){const h=this.from,d=this.to,p=this.direction,g=new z(0,0,1);n.vmult(g,g);const v=new z;h.vsub(r,v);const y=v.dot(g);d.vsub(r,v);const x=v.dot(g);if(y*x>0||h.distanceTo(d)<y)return;const T=g.dot(p);if(Math.abs(T)<this.precision)return;const w=new z,M=new z,S=new z;h.vsub(r,w);const j=-g.dot(w)/T;p.scale(j,M),h.vadd(M,S),this.reportIntersection(g,S,l,o,-1)}getAABB(e){const{lowerBound:n,upperBound:r}=e,o=this.to,l=this.from;n.x=Math.min(o.x,l.x),n.y=Math.min(o.y,l.y),n.z=Math.min(o.z,l.z),r.x=Math.max(o.x,l.x),r.y=Math.max(o.y,l.y),r.z=Math.max(o.z,l.z)}_intersectHeightfield(e,n,r,o,l){e.data,e.elementSize;const h=Ire;h.from.copy(this.from),h.to.copy(this.to),Sn.pointToLocalFrame(r,n,h.from,h.from),Sn.pointToLocalFrame(r,n,h.to,h.to),h.updateDirection();const d=Rre;let p,g,v,y;p=g=0,v=y=e.data.length-1;const x=new rr;h.getAABB(x),e.getIndexOfPosition(x.lowerBound.x,x.lowerBound.y,d,!0),p=Math.max(p,d[0]),g=Math.max(g,d[1]),e.getIndexOfPosition(x.upperBound.x,x.upperBound.y,d,!0),v=Math.min(v,d[0]+1),y=Math.min(y,d[1]+1);for(let T=p;T<v;T++)for(let w=g;w<y;w++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(T,w,x),!!x.overlapsRay(h)){if(e.getConvexTrianglePillar(T,w,!1),Sn.pointToWorldFrame(r,n,e.pillarOffset,X1),this._intersectConvex(e.pillarConvex,n,X1,o,l,o3),this.result.shouldStop)return;e.getConvexTrianglePillar(T,w,!0),Sn.pointToWorldFrame(r,n,e.pillarOffset,X1),this._intersectConvex(e.pillarConvex,n,X1,o,l,o3)}}}_intersectSphere(e,n,r,o,l){const h=this.from,d=this.to,p=e.radius,g=(d.x-h.x)**2+(d.y-h.y)**2+(d.z-h.z)**2,v=2*((d.x-h.x)*(h.x-r.x)+(d.y-h.y)*(h.y-r.y)+(d.z-h.z)*(h.z-r.z)),y=(h.x-r.x)**2+(h.y-r.y)**2+(h.z-r.z)**2-p**2,x=v**2-4*g*y,T=Pre,w=Bre;if(!(x<0))if(x===0)h.lerp(d,x,T),T.vsub(r,w),w.normalize(),this.reportIntersection(w,T,l,o,-1);else{const M=(-v-Math.sqrt(x))/(2*g),S=(-v+Math.sqrt(x))/(2*g);if(M>=0&&M<=1&&(h.lerp(d,M,T),T.vsub(r,w),w.normalize(),this.reportIntersection(w,T,l,o,-1)),this.result.shouldStop)return;S>=0&&S<=1&&(h.lerp(d,S,T),T.vsub(r,w),w.normalize(),this.reportIntersection(w,T,l,o,-1))}}_intersectConvex(e,n,r,o,l,h){const d=Ore,p=a3,g=h&&h.faceList||null,v=e.faces,y=e.vertices,x=e.faceNormals,T=this.direction,w=this.from,M=this.to,S=w.distanceTo(M),j=g?g.length:v.length,k=this.result;for(let W=0;!k.shouldStop&&W<j;W++){const q=g?g[W]:W,Z=v[q],Y=x[q],he=n,ae=r;p.copy(y[Z[0]]),he.vmult(p,p),p.vadd(ae,p),p.vsub(w,p),he.vmult(Y,d);const ve=T.dot(d);if(Math.abs(ve)<this.precision)continue;const re=d.dot(p)/ve;if(!(re<0)){T.scale(re,Ci),Ci.vadd(w,Ci),No.copy(y[Z[0]]),he.vmult(No,No),ae.vadd(No,No);for(let se=1;!k.shouldStop&&se<Z.length-1;se++){ra.copy(y[Z[se]]),ia.copy(y[Z[se+1]]),he.vmult(ra,ra),he.vmult(ia,ia),ae.vadd(ra,ra),ae.vadd(ia,ia);const oe=Ci.distanceTo(w);!(oa.pointInTriangle(Ci,No,ra,ia)||oa.pointInTriangle(Ci,ra,No,ia))||oe>S||this.reportIntersection(d,Ci,l,o,q)}}}}_intersectTrimesh(e,n,r,o,l,h){const d=Dre,p=Gre,g=Wre,v=a3,y=Fre,x=kre,T=Xre,w=Ure,M=zre,S=e.indices;e.vertices;const j=this.from,k=this.to,W=this.direction;g.position.copy(r),g.quaternion.copy(n),Sn.vectorToLocalFrame(r,n,W,y),Sn.pointToLocalFrame(r,n,j,x),Sn.pointToLocalFrame(r,n,k,T),T.x*=e.scale.x,T.y*=e.scale.y,T.z*=e.scale.z,x.x*=e.scale.x,x.y*=e.scale.y,x.z*=e.scale.z,T.vsub(x,y),y.normalize();const q=x.distanceSquared(T);e.tree.rayQuery(this,g,p);for(let Z=0,Y=p.length;!this.result.shouldStop&&Z!==Y;Z++){const he=p[Z];e.getNormal(he,d),e.getVertex(S[he*3],No),No.vsub(x,v);const ae=y.dot(d),ve=d.dot(v)/ae;if(ve<0)continue;y.scale(ve,Ci),Ci.vadd(x,Ci),e.getVertex(S[he*3+1],ra),e.getVertex(S[he*3+2],ia);const re=Ci.distanceSquared(x);!(oa.pointInTriangle(Ci,ra,No,ia)||oa.pointInTriangle(Ci,No,ra,ia))||re>q||(Sn.vectorToWorldFrame(n,d,M),Sn.pointToWorldFrame(r,n,Ci,w),this.reportIntersection(M,w,l,o,he))}p.length=0}reportIntersection(e,n,r,o,l){const h=this.from,d=this.to,p=h.distanceTo(n),g=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(g.hitFaceIndex=typeof l<"u"?l:-1,this.mode){case oa.ALL:this.hasHit=!0,g.set(h,d,e,n,r,o,p),g.hasHit=!0,this.callback(g);break;case oa.CLOSEST:(p<g.distance||!g.hasHit)&&(this.hasHit=!0,g.hasHit=!0,g.set(h,d,e,n,r,o,p));break;case oa.ANY:this.hasHit=!0,g.hasHit=!0,g.set(h,d,e,n,r,o,p),g.shouldStop=!0;break}}static pointInTriangle(e,n,r,o){o.vsub(n,Pc),r.vsub(n,Bm),e.vsub(n,Ay);const l=Pc.dot(Pc),h=Pc.dot(Bm),d=Pc.dot(Ay),p=Bm.dot(Bm),g=Bm.dot(Ay);let v,y;return(v=p*d-h*g)>=0&&(y=l*g-h*d)>=0&&v+y<l*p-h*h}};Bo.CLOSEST=x0.CLOSEST;Bo.ANY=x0.ANY;Bo.ALL=x0.ALL;const i3=new rr,Sy=[],Bm=new z,Ay=new z,Are=new z,Ere=new Vr,Ci=new z,No=new z,ra=new z,ia=new z;new z;new Ru;const o3={faceList:[0]},X1=new z,Ire=new Bo,Rre=[],Pre=new z,Bre=new z,Ore=new z,Lre=new z,jre=new z,a3=new z,Dre=new z,Fre=new z,kre=new z,Xre=new z,zre=new z,Ure=new z;new rr;const Gre=[],Wre=new Sn,Pc=new z,z1=new z;function Vre(a,e,n){n.vsub(a,Pc);const r=Pc.dot(e);return e.scale(r,z1),z1.vadd(a,z1),n.distanceTo(z1)}class Mu extends y0{static checkBounds(e,n,r){let o,l;r===0?(o=e.position.x,l=n.position.x):r===1?(o=e.position.y,l=n.position.y):r===2&&(o=e.position.z,l=n.position.z);const h=e.boundingRadius,d=n.boundingRadius,p=o+h;return l-d<p}static insertionSortX(e){for(let n=1,r=e.length;n<r;n++){const o=e[n];let l;for(l=n-1;l>=0&&!(e[l].aabb.lowerBound.x<=o.aabb.lowerBound.x);l--)e[l+1]=e[l];e[l+1]=o}return e}static insertionSortY(e){for(let n=1,r=e.length;n<r;n++){const o=e[n];let l;for(l=n-1;l>=0&&!(e[l].aabb.lowerBound.y<=o.aabb.lowerBound.y);l--)e[l+1]=e[l];e[l+1]=o}return e}static insertionSortZ(e){for(let n=1,r=e.length;n<r;n++){const o=e[n];let l;for(l=n-1;l>=0&&!(e[l].aabb.lowerBound.z<=o.aabb.lowerBound.z);l--)e[l+1]=e[l];e[l+1]=o}return e}constructor(e){super(),this.axisList=[],this.world=null,this.axisIndex=0;const n=this.axisList;this._addBodyHandler=r=>{n.push(r.body)},this._removeBodyHandler=r=>{const o=n.indexOf(r.body);o!==-1&&n.splice(o,1)},e&&this.setWorld(e)}setWorld(e){this.axisList.length=0;for(let n=0;n<e.bodies.length;n++)this.axisList.push(e.bodies[n]);e.removeEventListener("addBody",this._addBodyHandler),e.removeEventListener("removeBody",this._removeBodyHandler),e.addEventListener("addBody",this._addBodyHandler),e.addEventListener("removeBody",this._removeBodyHandler),this.world=e,this.dirty=!0}collisionPairs(e,n,r){const o=this.axisList,l=o.length,h=this.axisIndex;let d,p;for(this.dirty&&(this.sortList(),this.dirty=!1),d=0;d!==l;d++){const g=o[d];for(p=d+1;p<l;p++){const v=o[p];if(this.needBroadphaseCollision(g,v)){if(!Mu.checkBounds(g,v,h))break;this.intersectionTest(g,v,n,r)}}}}sortList(){const e=this.axisList,n=this.axisIndex,r=e.length;for(let o=0;o!==r;o++){const l=e[o];l.aabbNeedsUpdate&&l.updateAABB()}n===0?Mu.insertionSortX(e):n===1?Mu.insertionSortY(e):n===2&&Mu.insertionSortZ(e)}autoDetectAxis(){let e=0,n=0,r=0,o=0,l=0,h=0;const d=this.axisList,p=d.length,g=1/p;for(let T=0;T!==p;T++){const w=d[T],M=w.position.x;e+=M,n+=M*M;const S=w.position.y;r+=S,o+=S*S;const j=w.position.z;l+=j,h+=j*j}const v=n-e*e*g,y=o-r*r*g,x=h-l*l*g;v>y?v>x?this.axisIndex=0:this.axisIndex=2:y>x?this.axisIndex=1:this.axisIndex=2}aabbQuery(e,n,r){r===void 0&&(r=[]),this.dirty&&(this.sortList(),this.dirty=!1);const o=this.axisIndex;let l="x";o===1&&(l="y"),o===2&&(l="z");const h=this.axisList;n.lowerBound[l],n.upperBound[l];for(let d=0;d<h.length;d++){const p=h[d];p.aabbNeedsUpdate&&p.updateAABB(),p.aabb.overlaps(n)&&r.push(p)}return r}}class C0{static defaults(e,n){e===void 0&&(e={});for(let r in n)r in e||(e[r]=n[r]);return e}}class $u{constructor(e,n,r){r===void 0&&(r={}),r=C0.defaults(r,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=e,this.bodyB=n,this.id=$u.idCounter++,this.collideConnected=r.collideConnected,r.wakeUpBodies&&(e&&e.wakeUp(),n&&n.wakeUp())}update(){throw new Error("method update() not implmemented in this Constraint subclass!")}enable(){const e=this.equations;for(let n=0;n<e.length;n++)e[n].enabled=!0}disable(){const e=this.equations;for(let n=0;n<e.length;n++)e[n].enabled=!1}}$u.idCounter=0;class Ux{constructor(){this.spatial=new z,this.rotational=new z}multiplyElement(e){return e.spatial.dot(this.spatial)+e.rotational.dot(this.rotational)}multiplyVectors(e,n){return e.dot(this.spatial)+n.dot(this.rotational)}}class hs{constructor(e,n,r,o){r===void 0&&(r=-1e6),o===void 0&&(o=1e6),this.id=hs.idCounter++,this.minForce=r,this.maxForce=o,this.bi=e,this.bj=n,this.a=0,this.b=0,this.eps=0,this.jacobianElementA=new Ux,this.jacobianElementB=new Ux,this.enabled=!0,this.multiplier=0,this.setSpookParams(1e7,4,1/60)}setSpookParams(e,n,r){const o=n,l=e,h=r;this.a=4/(h*(1+4*o)),this.b=4*o/(1+4*o),this.eps=4/(h*h*l*(1+4*o))}computeB(e,n,r){const o=this.computeGW(),l=this.computeGq(),h=this.computeGiMf();return-l*e-o*n-h*r}computeGq(){const e=this.jacobianElementA,n=this.jacobianElementB,r=this.bi,o=this.bj,l=r.position,h=o.position;return e.spatial.dot(l)+n.spatial.dot(h)}computeGW(){const e=this.jacobianElementA,n=this.jacobianElementB,r=this.bi,o=this.bj,l=r.velocity,h=o.velocity,d=r.angularVelocity,p=o.angularVelocity;return e.multiplyVectors(l,d)+n.multiplyVectors(h,p)}computeGWlambda(){const e=this.jacobianElementA,n=this.jacobianElementB,r=this.bi,o=this.bj,l=r.vlambda,h=o.vlambda,d=r.wlambda,p=o.wlambda;return e.multiplyVectors(l,d)+n.multiplyVectors(h,p)}computeGiMf(){const e=this.jacobianElementA,n=this.jacobianElementB,r=this.bi,o=this.bj,l=r.force,h=r.torque,d=o.force,p=o.torque,g=r.invMassSolve,v=o.invMassSolve;return l.scale(g,s3),d.scale(v,l3),r.invInertiaWorldSolve.vmult(h,c3),o.invInertiaWorldSolve.vmult(p,h3),e.multiplyVectors(s3,c3)+n.multiplyVectors(l3,h3)}computeGiMGt(){const e=this.jacobianElementA,n=this.jacobianElementB,r=this.bi,o=this.bj,l=r.invMassSolve,h=o.invMassSolve,d=r.invInertiaWorldSolve,p=o.invInertiaWorldSolve;let g=l+h;return d.vmult(e.rotational,U1),g+=U1.dot(e.rotational),p.vmult(n.rotational,U1),g+=U1.dot(n.rotational),g}addToWlambda(e){const n=this.jacobianElementA,r=this.jacobianElementB,o=this.bi,l=this.bj,h=Hre;o.vlambda.addScaledVector(o.invMassSolve*e,n.spatial,o.vlambda),l.vlambda.addScaledVector(l.invMassSolve*e,r.spatial,l.vlambda),o.invInertiaWorldSolve.vmult(n.rotational,h),o.wlambda.addScaledVector(e,h,o.wlambda),l.invInertiaWorldSolve.vmult(r.rotational,h),l.wlambda.addScaledVector(e,h,l.wlambda)}computeC(){return this.computeGiMGt()+this.eps}}hs.idCounter=0;const s3=new z,l3=new z,c3=new z,h3=new z,U1=new z,Hre=new z;class Su extends hs{constructor(e,n,r){r===void 0&&(r=1e6),super(e,n,0,r),this.restitution=0,this.ri=new z,this.rj=new z,this.ni=new z}computeB(e){const n=this.a,r=this.b,o=this.bi,l=this.bj,h=this.ri,d=this.rj,p=$re,g=qre,v=o.velocity,y=o.angularVelocity;o.force,o.torque;const x=l.velocity,T=l.angularVelocity;l.force,l.torque;const w=Yre,M=this.jacobianElementA,S=this.jacobianElementB,j=this.ni;h.cross(j,p),d.cross(j,g),j.negate(M.spatial),p.negate(M.rotational),S.spatial.copy(j),S.rotational.copy(g),w.copy(l.position),w.vadd(d,w),w.vsub(o.position,w),w.vsub(h,w);const k=j.dot(w),W=this.restitution+1,q=W*x.dot(j)-W*v.dot(j)+T.dot(g)-y.dot(p),Z=this.computeGiMf();return-k*n-q*r-e*Z}getImpactVelocityAlongNormal(){const e=Kre,n=Zre,r=Jre,o=Qre,l=eie;return this.bi.position.vadd(this.ri,r),this.bj.position.vadd(this.rj,o),this.bi.getVelocityAtWorldPoint(r,e),this.bj.getVelocityAtWorldPoint(o,n),e.vsub(n,l),this.ni.dot(l)}}const $re=new z,qre=new z,Yre=new z,Kre=new z,Zre=new z,Jre=new z,Qre=new z,eie=new z;class _0 extends $u{constructor(e,n,r,o,l){n===void 0&&(n=new z),o===void 0&&(o=new z),l===void 0&&(l=1e6),super(e,r),this.pivotA=n.clone(),this.pivotB=o.clone();const h=this.equationX=new Su(e,r),d=this.equationY=new Su(e,r),p=this.equationZ=new Su(e,r);this.equations.push(h,d,p),h.minForce=d.minForce=p.minForce=-l,h.maxForce=d.maxForce=p.maxForce=l,h.ni.set(1,0,0),d.ni.set(0,1,0),p.ni.set(0,0,1)}update(){const e=this.bodyA,n=this.bodyB,r=this.equationX,o=this.equationY,l=this.equationZ;e.quaternion.vmult(this.pivotA,r.ri),n.quaternion.vmult(this.pivotB,r.rj),o.ri.copy(r.ri),o.rj.copy(r.rj),l.ri.copy(r.ri),l.rj.copy(r.rj)}}class tie extends hs{constructor(e,n,r){r===void 0&&(r={});const o=typeof r.maxForce<"u"?r.maxForce:1e6;super(e,n,-o,o),this.axisA=r.axisA?r.axisA.clone():new z(1,0,0),this.axisB=r.axisB?r.axisB.clone():new z(0,1,0),this.angle=typeof r.angle<"u"?r.angle:0}computeB(e){const n=this.a,r=this.b,o=this.axisA,l=this.axisB,h=nie,d=rie,p=this.jacobianElementA,g=this.jacobianElementB;o.cross(l,h),l.cross(o,d),p.rotational.copy(d),g.rotational.copy(h);const v=Math.cos(this.angle)-o.dot(l),y=this.computeGW(),x=this.computeGiMf();return-v*n-y*r-e*x}}const nie=new z,rie=new z;class Dc extends hs{constructor(e,n,r){r===void 0&&(r={});const o=typeof r.maxForce<"u"?r.maxForce:1e6;super(e,n,-o,o),this.axisA=r.axisA?r.axisA.clone():new z(1,0,0),this.axisB=r.axisB?r.axisB.clone():new z(0,1,0),this.maxAngle=Math.PI/2}computeB(e){const n=this.a,r=this.b,o=this.axisA,l=this.axisB,h=iie,d=oie,p=this.jacobianElementA,g=this.jacobianElementB;o.cross(l,h),l.cross(o,d),p.rotational.copy(d),g.rotational.copy(h);const v=Math.cos(this.maxAngle)-o.dot(l),y=this.computeGW(),x=this.computeGiMf();return-v*n-y*r-e*x}}const iie=new z,oie=new z;class aie extends _0{constructor(e,n,r){r===void 0&&(r={});const o=typeof r.maxForce<"u"?r.maxForce:1e6,l=r.pivotA?r.pivotA.clone():new z,h=r.pivotB?r.pivotB.clone():new z;super(e,l,n,h,o),this.axisA=r.axisA?r.axisA.clone():new z,this.axisB=r.axisB?r.axisB.clone():new z,this.collideConnected=!!r.collideConnected,this.angle=typeof r.angle<"u"?r.angle:0;const d=this.coneEquation=new tie(e,n,r),p=this.twistEquation=new Dc(e,n,r);this.twistAngle=typeof r.twistAngle<"u"?r.twistAngle:0,d.maxForce=0,d.minForce=-o,p.maxForce=0,p.minForce=-o,this.equations.push(d,p)}update(){const e=this.bodyA,n=this.bodyB,r=this.coneEquation,o=this.twistEquation;super.update(),e.vectorToWorldFrame(this.axisA,r.axisA),n.vectorToWorldFrame(this.axisB,r.axisB),this.axisA.tangents(o.axisA,o.axisA),e.vectorToWorldFrame(o.axisA,o.axisA),this.axisB.tangents(o.axisB,o.axisB),n.vectorToWorldFrame(o.axisB,o.axisB),r.angle=this.angle,o.maxAngle=this.twistAngle}}new z;new z;class sie extends $u{constructor(e,n,r,o){o===void 0&&(o=1e6),super(e,n),typeof r>"u"&&(r=e.position.distanceTo(n.position)),this.distance=r;const l=this.distanceEquation=new Su(e,n);this.equations.push(l),l.minForce=-o,l.maxForce=o}update(){const e=this.bodyA,n=this.bodyB,r=this.distanceEquation,o=this.distance*.5,l=r.ni;n.position.vsub(e.position,l),l.normalize(),l.scale(o,r.ri),l.scale(-o,r.rj)}}class lie extends _0{constructor(e,n,r){r===void 0&&(r={});const o=typeof r.maxForce<"u"?r.maxForce:1e6,l=new z,h=new z,d=new z;e.position.vadd(n.position,d),d.scale(.5,d),n.pointToLocalFrame(d,h),e.pointToLocalFrame(d,l),super(e,l,n,h,o),this.xA=e.vectorToLocalFrame(z.UNIT_X),this.xB=n.vectorToLocalFrame(z.UNIT_X),this.yA=e.vectorToLocalFrame(z.UNIT_Y),this.yB=n.vectorToLocalFrame(z.UNIT_Y),this.zA=e.vectorToLocalFrame(z.UNIT_Z),this.zB=n.vectorToLocalFrame(z.UNIT_Z);const p=this.rotationalEquation1=new Dc(e,n,r),g=this.rotationalEquation2=new Dc(e,n,r),v=this.rotationalEquation3=new Dc(e,n,r);this.equations.push(p,g,v)}update(){const e=this.bodyA,n=this.bodyB;this.motorEquation;const r=this.rotationalEquation1,o=this.rotationalEquation2,l=this.rotationalEquation3;super.update(),e.vectorToWorldFrame(this.xA,r.axisA),n.vectorToWorldFrame(this.yB,r.axisB),e.vectorToWorldFrame(this.yA,o.axisA),n.vectorToWorldFrame(this.zB,o.axisB),e.vectorToWorldFrame(this.zA,l.axisA),n.vectorToWorldFrame(this.xB,l.axisB)}}const cie=new z,hie=new z;class TI extends hs{constructor(e,n,r){r===void 0&&(r=1e6),super(e,n,-r,r),this.axisA=new z,this.axisB=new z,this.targetVelocity=0}computeB(e){this.a;const n=this.b;this.bi,this.bj;const r=this.axisA,o=this.axisB,l=this.jacobianElementA,h=this.jacobianElementB;l.rotational.copy(r),o.negate(h.rotational);const d=this.computeGW()-this.targetVelocity,p=this.computeGiMf();return-d*n-e*p}}class wI extends _0{constructor(e,n,r){r===void 0&&(r={});const o=typeof r.maxForce<"u"?r.maxForce:1e6,l=r.pivotA?r.pivotA.clone():new z,h=r.pivotB?r.pivotB.clone():new z;super(e,l,n,h,o),(this.axisA=r.axisA?r.axisA.clone():new z(1,0,0)).normalize(),(this.axisB=r.axisB?r.axisB.clone():new z(1,0,0)).normalize(),this.collideConnected=!!r.collideConnected;const g=this.rotationalEquation1=new Dc(e,n,r),v=this.rotationalEquation2=new Dc(e,n,r),y=this.motorEquation=new TI(e,n,o);y.enabled=!1,this.equations.push(g,v,y)}enableMotor(){this.motorEquation.enabled=!0}disableMotor(){this.motorEquation.enabled=!1}setMotorSpeed(e){this.motorEquation.targetVelocity=e}setMotorMaxForce(e){this.motorEquation.maxForce=e,this.motorEquation.minForce=-e}update(){const e=this.bodyA,n=this.bodyB,r=this.motorEquation,o=this.rotationalEquation1,l=this.rotationalEquation2,h=uie,d=die,p=this.axisA,g=this.axisB;super.update(),e.quaternion.vmult(p,h),n.quaternion.vmult(g,d),h.tangents(o.axisA,l.axisA),o.axisB.copy(d),l.axisB.copy(d),this.motorEquation.enabled&&(e.quaternion.vmult(this.axisA,r.axisA),n.quaternion.vmult(this.axisB,r.axisB))}}const uie=new z,die=new z;class Gx extends hs{constructor(e,n,r){super(e,n,-r,r),this.ri=new z,this.rj=new z,this.t=new z}computeB(e){this.a;const n=this.b;this.bi,this.bj;const r=this.ri,o=this.rj,l=mie,h=pie,d=this.t;r.cross(d,l),o.cross(d,h);const p=this.jacobianElementA,g=this.jacobianElementB;d.negate(p.spatial),l.negate(p.rotational),g.spatial.copy(d),g.rotational.copy(h);const v=this.computeGW(),y=this.computeGiMf();return-v*n-e*y}}const mie=new z,pie=new z;class Tp{constructor(e,n,r){r=C0.defaults(r,{friction:.3,restitution:.3,contactEquationStiffness:1e7,contactEquationRelaxation:3,frictionEquationStiffness:1e7,frictionEquationRelaxation:3}),this.id=Tp.idCounter++,this.materials=[e,n],this.friction=r.friction,this.restitution=r.restitution,this.contactEquationStiffness=r.contactEquationStiffness,this.contactEquationRelaxation=r.contactEquationRelaxation,this.frictionEquationStiffness=r.frictionEquationStiffness,this.frictionEquationRelaxation=r.frictionEquationRelaxation}}Tp.idCounter=0;let dC=class NI{constructor(e){e===void 0&&(e={});let n="";typeof e=="string"&&(n=e,e={}),this.name=n,this.id=NI.idCounter++,this.friction=typeof e.friction<"u"?e.friction:-1,this.restitution=typeof e.restitution<"u"?e.restitution:-1}};dC.idCounter=0;class fie{constructor(e,n,r){r===void 0&&(r={}),this.restLength=typeof r.restLength=="number"?r.restLength:1,this.stiffness=r.stiffness||100,this.damping=r.damping||1,this.bodyA=e,this.bodyB=n,this.localAnchorA=new z,this.localAnchorB=new z,r.localAnchorA&&this.localAnchorA.copy(r.localAnchorA),r.localAnchorB&&this.localAnchorB.copy(r.localAnchorB),r.worldAnchorA&&this.setWorldAnchorA(r.worldAnchorA),r.worldAnchorB&&this.setWorldAnchorB(r.worldAnchorB)}setWorldAnchorA(e){this.bodyA.pointToLocalFrame(e,this.localAnchorA)}setWorldAnchorB(e){this.bodyB.pointToLocalFrame(e,this.localAnchorB)}getWorldAnchorA(e){this.bodyA.pointToWorldFrame(this.localAnchorA,e)}getWorldAnchorB(e){this.bodyB.pointToWorldFrame(this.localAnchorB,e)}applyForce(){const e=this.stiffness,n=this.damping,r=this.restLength,o=this.bodyA,l=this.bodyB,h=gie,d=bie,p=vie,g=yie,v=Mie,y=xie,x=Cie,T=_ie,w=Tie,M=wie,S=Nie;this.getWorldAnchorA(y),this.getWorldAnchorB(x),y.vsub(o.position,T),x.vsub(l.position,w),x.vsub(y,h);const j=h.length();d.copy(h),d.normalize(),l.velocity.vsub(o.velocity,p),l.angularVelocity.cross(w,v),p.vadd(v,p),o.angularVelocity.cross(T,v),p.vsub(v,p),d.scale(-e*(j-r)-n*p.dot(d),g),o.force.vsub(g,o.force),l.force.vadd(g,l.force),T.cross(g,M),w.cross(g,S),o.torque.vsub(M,o.torque),l.torque.vadd(S,l.torque)}}const gie=new z,bie=new z,vie=new z,yie=new z,xie=new z,Cie=new z,_ie=new z,Tie=new z,wie=new z,Nie=new z,Mie=new z;class MI{constructor(e){e===void 0&&(e={}),e=C0.defaults(e,{chassisConnectionPointLocal:new z,chassisConnectionPointWorld:new z,directionLocal:new z,directionWorld:new z,axleLocal:new z,axleWorld:new z,suspensionRestLength:1,suspensionMaxLength:2,radius:1,suspensionStiffness:100,dampingCompression:10,dampingRelaxation:10,frictionSlip:10.5,forwardAcceleration:1,sideAcceleration:1,steering:0,rotation:0,deltaRotation:0,rollInfluence:.01,maxSuspensionForce:Number.MAX_VALUE,isFrontWheel:!0,clippedInvContactDotSuspension:1,suspensionRelativeVelocity:0,suspensionForce:0,slipInfo:0,skidInfo:0,suspensionLength:0,maxSuspensionTravel:1,useCustomSlidingRotationalSpeed:!1,customSlidingRotationalSpeed:-.1}),this.maxSuspensionTravel=e.maxSuspensionTravel,this.customSlidingRotationalSpeed=e.customSlidingRotationalSpeed,this.useCustomSlidingRotationalSpeed=e.useCustomSlidingRotationalSpeed,this.sliding=!1,this.chassisConnectionPointLocal=e.chassisConnectionPointLocal.clone(),this.chassisConnectionPointWorld=e.chassisConnectionPointWorld.clone(),this.directionLocal=e.directionLocal.clone(),this.directionWorld=e.directionWorld.clone(),this.axleLocal=e.axleLocal.clone(),this.axleWorld=e.axleWorld.clone(),this.suspensionRestLength=e.suspensionRestLength,this.suspensionMaxLength=e.suspensionMaxLength,this.radius=e.radius,this.suspensionStiffness=e.suspensionStiffness,this.dampingCompression=e.dampingCompression,this.dampingRelaxation=e.dampingRelaxation,this.frictionSlip=e.frictionSlip,this.forwardAcceleration=e.forwardAcceleration,this.sideAcceleration=e.sideAcceleration,this.steering=0,this.rotation=0,this.deltaRotation=0,this.rollInfluence=e.rollInfluence,this.maxSuspensionForce=e.maxSuspensionForce,this.engineForce=0,this.brake=0,this.isFrontWheel=e.isFrontWheel,this.clippedInvContactDotSuspension=1,this.suspensionRelativeVelocity=0,this.suspensionForce=0,this.slipInfo=0,this.skidInfo=0,this.suspensionLength=0,this.sideImpulse=0,this.forwardImpulse=0,this.raycastResult=new Ru,this.worldTransform=new Sn,this.isInContact=!1}updateWheel(e){const n=this.raycastResult;if(this.isInContact){const r=n.hitNormalWorld.dot(n.directionWorld);n.hitPointWorld.vsub(e.position,d3),e.getVelocityAtWorldPoint(d3,u3);const o=n.hitNormalWorld.dot(u3);if(r>=-.1)this.suspensionRelativeVelocity=0,this.clippedInvContactDotSuspension=1/.1;else{const l=-1/r;this.suspensionRelativeVelocity=o*l,this.clippedInvContactDotSuspension=l}}else n.suspensionLength=this.suspensionRestLength,this.suspensionRelativeVelocity=0,n.directionWorld.scale(-1,n.hitNormalWorld),this.clippedInvContactDotSuspension=1}}const u3=new z,d3=new z;class Sie{constructor(e){this.chassisBody=e.chassisBody,this.wheelInfos=[],this.sliding=!1,this.world=null,this.indexRightAxis=typeof e.indexRightAxis<"u"?e.indexRightAxis:2,this.indexForwardAxis=typeof e.indexForwardAxis<"u"?e.indexForwardAxis:0,this.indexUpAxis=typeof e.indexUpAxis<"u"?e.indexUpAxis:1,this.constraints=[],this.preStepCallback=()=>{},this.currentVehicleSpeedKmHour=0,this.numWheelsOnGround=0}addWheel(e){e===void 0&&(e={});const n=new MI(e),r=this.wheelInfos.length;return this.wheelInfos.push(n),r}setSteeringValue(e,n){const r=this.wheelInfos[n];r.steering=e}applyEngineForce(e,n){this.wheelInfos[n].engineForce=e}setBrake(e,n){this.wheelInfos[n].brake=e}addToWorld(e){e.addBody(this.chassisBody);const n=this;this.preStepCallback=()=>{n.updateVehicle(e.dt)},e.addEventListener("preStep",this.preStepCallback),this.world=e}getVehicleAxisWorld(e,n){n.set(e===0?1:0,e===1?1:0,e===2?1:0),this.chassisBody.vectorToWorldFrame(n,n)}updateVehicle(e){const n=this.wheelInfos,r=n.length,o=this.chassisBody;for(let y=0;y<r;y++)this.updateWheelTransform(y);this.currentVehicleSpeedKmHour=3.6*o.velocity.length();const l=new z;this.getVehicleAxisWorld(this.indexForwardAxis,l),l.dot(o.velocity)<0&&(this.currentVehicleSpeedKmHour*=-1);for(let y=0;y<r;y++)this.castRay(n[y]);this.updateSuspension(e);const h=new z,d=new z;for(let y=0;y<r;y++){const x=n[y];let T=x.suspensionForce;T>x.maxSuspensionForce&&(T=x.maxSuspensionForce),x.raycastResult.hitNormalWorld.scale(T*e,h),x.raycastResult.hitPointWorld.vsub(o.position,d),o.applyImpulse(h,d)}this.updateFriction(e);const p=new z,g=new z,v=new z;for(let y=0;y<r;y++){const x=n[y];o.getVelocityAtWorldPoint(x.chassisConnectionPointWorld,v);let T=1;switch(this.indexUpAxis){case 1:T=-1;break}if(x.isInContact){this.getVehicleAxisWorld(this.indexForwardAxis,g);const w=g.dot(x.raycastResult.hitNormalWorld);x.raycastResult.hitNormalWorld.scale(w,p),g.vsub(p,g);const M=g.dot(v);x.deltaRotation=T*M*e/x.radius}(x.sliding||!x.isInContact)&&x.engineForce!==0&&x.useCustomSlidingRotationalSpeed&&(x.deltaRotation=(x.engineForce>0?1:-1)*x.customSlidingRotationalSpeed*e),Math.abs(x.brake)>Math.abs(x.engineForce)&&(x.deltaRotation=0),x.rotation+=x.deltaRotation,x.deltaRotation*=.99}}updateSuspension(e){const r=this.chassisBody.mass,o=this.wheelInfos,l=o.length;for(let h=0;h<l;h++){const d=o[h];if(d.isInContact){let p;const g=d.suspensionRestLength,v=d.suspensionLength,y=g-v;p=d.suspensionStiffness*y*d.clippedInvContactDotSuspension;const x=d.suspensionRelativeVelocity;let T;x<0?T=d.dampingCompression:T=d.dampingRelaxation,p-=T*x,d.suspensionForce=p*r,d.suspensionForce<0&&(d.suspensionForce=0)}else d.suspensionForce=0}}removeFromWorld(e){this.constraints,e.removeBody(this.chassisBody),e.removeEventListener("preStep",this.preStepCallback),this.world=null}castRay(e){const n=Rie,r=Pie;this.updateWheelTransformWorld(e);const o=this.chassisBody;let l=-1;const h=e.suspensionRestLength+e.radius;e.directionWorld.scale(h,n);const d=e.chassisConnectionPointWorld;d.vadd(n,r);const p=e.raycastResult;p.reset();const g=o.collisionResponse;o.collisionResponse=!1,this.world.rayTest(d,r,p),o.collisionResponse=g;const v=p.body;if(e.raycastResult.groundObject=0,v){l=p.distance,e.raycastResult.hitNormalWorld=p.hitNormalWorld,e.isInContact=!0;const y=p.distance;e.suspensionLength=y-e.radius;const x=e.suspensionRestLength-e.maxSuspensionTravel,T=e.suspensionRestLength+e.maxSuspensionTravel;e.suspensionLength<x&&(e.suspensionLength=x),e.suspensionLength>T&&(e.suspensionLength=T,e.raycastResult.reset());const w=e.raycastResult.hitNormalWorld.dot(e.directionWorld),M=new z;o.getVelocityAtWorldPoint(e.raycastResult.hitPointWorld,M);const S=e.raycastResult.hitNormalWorld.dot(M);if(w>=-.1)e.suspensionRelativeVelocity=0,e.clippedInvContactDotSuspension=1/.1;else{const j=-1/w;e.suspensionRelativeVelocity=S*j,e.clippedInvContactDotSuspension=j}}else e.suspensionLength=e.suspensionRestLength+0*e.maxSuspensionTravel,e.suspensionRelativeVelocity=0,e.directionWorld.scale(-1,e.raycastResult.hitNormalWorld),e.clippedInvContactDotSuspension=1;return l}updateWheelTransformWorld(e){e.isInContact=!1;const n=this.chassisBody;n.pointToWorldFrame(e.chassisConnectionPointLocal,e.chassisConnectionPointWorld),n.vectorToWorldFrame(e.directionLocal,e.directionWorld),n.vectorToWorldFrame(e.axleLocal,e.axleWorld)}updateWheelTransform(e){const n=Aie,r=Eie,o=Iie,l=this.wheelInfos[e];this.updateWheelTransformWorld(l),l.directionLocal.scale(-1,n),r.copy(l.axleLocal),n.cross(r,o),o.normalize(),r.normalize();const h=l.steering,d=new Vr;d.setFromAxisAngle(n,h);const p=new Vr;p.setFromAxisAngle(r,l.rotation);const g=l.worldTransform.quaternion;this.chassisBody.quaternion.mult(d,g),g.mult(p,g),g.normalize();const v=l.worldTransform.position;v.copy(l.directionWorld),v.scale(l.suspensionLength,v),v.vadd(l.chassisConnectionPointWorld,v)}getWheelTransformWorld(e){return this.wheelInfos[e].worldTransform}updateFriction(e){const n=Oie,r=this.wheelInfos,o=r.length,l=this.chassisBody,h=jie,d=Lie;this.numWheelsOnGround=0;for(let v=0;v<o;v++){const y=r[v];y.raycastResult.body&&this.numWheelsOnGround++,y.sideImpulse=0,y.forwardImpulse=0,h[v]||(h[v]=new z),d[v]||(d[v]=new z)}for(let v=0;v<o;v++){const y=r[v],x=y.raycastResult.body;if(x){const T=d[v];this.getWheelTransformWorld(v).vectorToWorldFrame(Bie[this.indexRightAxis],T);const M=y.raycastResult.hitNormalWorld,S=T.dot(M);M.scale(S,n),T.vsub(n,T),T.normalize(),M.cross(T,h[v]),h[v].normalize(),y.sideImpulse=Yie(l,y.raycastResult.hitPointWorld,x,y.raycastResult.hitPointWorld,T),y.sideImpulse*=Die}}const p=1,g=.5;this.sliding=!1;for(let v=0;v<o;v++){const y=r[v],x=y.raycastResult.body;let T=0;if(y.slipInfo=1,x){const M=y.brake?y.brake:0;T=zie(l,x,y.raycastResult.hitPointWorld,h[v],M),T+=y.engineForce*e;const S=M/T;y.slipInfo*=S}if(y.forwardImpulse=0,y.skidInfo=1,x){y.skidInfo=1;const w=y.suspensionForce*e*y.frictionSlip,S=w*w;y.forwardImpulse=T;const j=y.forwardImpulse*g/y.forwardAcceleration,k=y.sideImpulse*p/y.sideAcceleration,W=j*j+k*k;if(y.sliding=!1,W>S){this.sliding=!0,y.sliding=!0;const q=w/Math.sqrt(W);y.skidInfo*=q}}}if(this.sliding)for(let v=0;v<o;v++){const y=r[v];y.sideImpulse!==0&&y.skidInfo<1&&(y.forwardImpulse*=y.skidInfo,y.sideImpulse*=y.skidInfo)}for(let v=0;v<o;v++){const y=r[v],x=new z;if(y.raycastResult.hitPointWorld.vsub(l.position,x),y.forwardImpulse!==0){const T=new z;h[v].scale(y.forwardImpulse,T),l.applyImpulse(T,x)}if(y.sideImpulse!==0){const T=y.raycastResult.body,w=new z;y.raycastResult.hitPointWorld.vsub(T.position,w);const M=new z;d[v].scale(y.sideImpulse,M),l.vectorToLocalFrame(x,x),x["xyz"[this.indexUpAxis]]*=y.rollInfluence,l.vectorToWorldFrame(x,x),l.applyImpulse(M,x),M.scale(-1,M),T.applyImpulse(M,w)}}}}new z;new z;new z;const Aie=new z,Eie=new z,Iie=new z;new Bo;new z;const Rie=new z,Pie=new z,Bie=[new z(1,0,0),new z(0,1,0),new z(0,0,1)],Oie=new z,Lie=[],jie=[],Die=1,Fie=new z,kie=new z,Xie=new z;function zie(a,e,n,r,o){let l=0;const h=n,d=Fie,p=kie,g=Xie;a.getVelocityAtWorldPoint(h,d),e.getVelocityAtWorldPoint(h,p),d.vsub(p,g);const v=r.dot(g),y=m3(a,n,r),x=m3(e,n,r),w=1/(y+x);return l=-v*w,o<l&&(l=o),l<-o&&(l=-o),l}const Uie=new z,Gie=new z,Wie=new z,Vie=new z;function m3(a,e,n){const r=Uie,o=Gie,l=Wie,h=Vie;return e.vsub(a.position,r),r.cross(n,o),a.invInertiaWorld.vmult(o,h),h.cross(r,l),a.invMass+n.dot(l)}const Hie=new z,$ie=new z,qie=new z;function Yie(a,e,n,r,o){if(o.lengthSquared()>1.1)return 0;const h=Hie,d=$ie,p=qie;a.getVelocityAtWorldPoint(e,h),n.getVelocityAtWorldPoint(r,d),h.vsub(d,p);const g=o.dot(p),v=.2,y=1/(a.invMass+n.invMass);return-v*g*y}let SI=class extends st{constructor(e){if(super({type:st.types.SPHERE}),this.radius=e!==void 0?e:1,this.radius<0)throw new Error("The sphere radius cannot be negative.");this.updateBoundingSphereRadius()}calculateLocalInertia(e,n){n===void 0&&(n=new z);const r=2*e*this.radius*this.radius/5;return n.x=r,n.y=r,n.z=r,n}volume(){return 4*Math.PI*Math.pow(this.radius,3)/3}updateBoundingSphereRadius(){this.boundingSphereRadius=this.radius}calculateWorldAABB(e,n,r,o){const l=this.radius,h=["x","y","z"];for(let d=0;d<h.length;d++){const p=h[d];r[p]=e[p]-l,o[p]=e[p]+l}}};class Kie{constructor(e){e===void 0&&(e={}),this.wheelBodies=[],this.coordinateSystem=typeof e.coordinateSystem<"u"?e.coordinateSystem.clone():new z(1,2,3),e.chassisBody?this.chassisBody=e.chassisBody:this.chassisBody=new At({mass:1,shape:new _p(new z(5,.5,2))}),this.constraints=[],this.wheelAxes=[],this.wheelForces=[]}addWheel(e){e===void 0&&(e={});let n;e.body?n=e.body:n=new At({mass:1,shape:new SI(1.2)}),this.wheelBodies.push(n),this.wheelForces.push(0);const r=typeof e.position<"u"?e.position.clone():new z,o=new z;this.chassisBody.pointToWorldFrame(r,o),n.position.set(o.x,o.y,o.z);const l=typeof e.axis<"u"?e.axis.clone():new z(0,0,1);this.wheelAxes.push(l);const h=new wI(this.chassisBody,n,{pivotA:r,axisA:l,pivotB:z.ZERO,axisB:l,collideConnected:!1});return this.constraints.push(h),this.wheelBodies.length-1}setSteeringValue(e,n){const r=this.wheelAxes[n],o=Math.cos(e),l=Math.sin(e),h=r.x,d=r.z;this.constraints[n].axisA.set(-o*h+l*d,0,l*h+o*d)}setMotorSpeed(e,n){const r=this.constraints[n];r.enableMotor(),r.motorTargetVelocity=e}disableMotor(e){this.constraints[e].disableMotor()}setWheelForce(e,n){this.wheelForces[n]=e}applyWheelForce(e,n){const r=this.wheelAxes[n],o=this.wheelBodies[n],l=o.torque;r.scale(e,G1),o.vectorToWorldFrame(G1,G1),l.vadd(G1,l)}addToWorld(e){const n=this.constraints,r=this.wheelBodies.concat([this.chassisBody]);for(let o=0;o<r.length;o++)e.addBody(r[o]);for(let o=0;o<n.length;o++)e.addConstraint(n[o]);e.addEventListener("preStep",this._update.bind(this))}_update(){const e=this.wheelForces;for(let n=0;n<e.length;n++)this.applyWheelForce(e[n],n)}removeFromWorld(e){const n=this.constraints,r=this.wheelBodies.concat([this.chassisBody]);for(let o=0;o<r.length;o++)e.removeBody(r[o]);for(let o=0;o<n.length;o++)e.removeConstraint(n[o])}getWheelSpeed(e){const n=this.wheelAxes[e],o=this.wheelBodies[e].angularVelocity;return this.chassisBody.vectorToWorldFrame(n,p3),o.dot(p3)}}const G1=new z,p3=new z;class Zie{constructor(){this.particles=[],this.density=1,this.smoothingRadius=1,this.speedOfSound=1,this.viscosity=.01,this.eps=1e-6,this.pressures=[],this.densities=[],this.neighbors=[]}add(e){this.particles.push(e),this.neighbors.length<this.particles.length&&this.neighbors.push([])}remove(e){const n=this.particles.indexOf(e);n!==-1&&(this.particles.splice(n,1),this.neighbors.length>this.particles.length&&this.neighbors.pop())}getNeighbors(e,n){const r=this.particles.length,o=e.id,l=this.smoothingRadius*this.smoothingRadius,h=Jie;for(let d=0;d!==r;d++){const p=this.particles[d];p.position.vsub(e.position,h),o!==p.id&&h.lengthSquared()<l&&n.push(p)}}update(){const e=this.particles.length,n=Qie,r=this.speedOfSound,o=this.eps;for(let v=0;v!==e;v++){const y=this.particles[v],x=this.neighbors[v];x.length=0,this.getNeighbors(y,x),x.push(this.particles[v]);const T=x.length;let w=0;for(let M=0;M!==T;M++){y.position.vsub(x[M].position,n);const S=n.length(),j=this.w(S);w+=x[M].mass*j}this.densities[v]=w,this.pressures[v]=r*r*(this.densities[v]-this.density)}const l=eoe,h=toe,d=noe,p=roe,g=ioe;for(let v=0;v!==e;v++){const y=this.particles[v];l.set(0,0,0),h.set(0,0,0);let x,T;const w=this.neighbors[v],M=w.length;for(let S=0;S!==M;S++){const j=w[S];y.position.vsub(j.position,p);const k=p.length();x=-j.mass*(this.pressures[v]/(this.densities[v]*this.densities[v]+o)+this.pressures[S]/(this.densities[S]*this.densities[S]+o)),this.gradw(p,d),d.scale(x,d),l.vadd(d,l),j.velocity.vsub(y.velocity,g),g.scale(1/(1e-4+this.densities[v]*this.densities[S])*this.viscosity*j.mass,g),T=this.nablaw(k),g.scale(T,g),h.vadd(g,h)}h.scale(y.mass,h),l.scale(y.mass,l),y.force.vadd(h,y.force),y.force.vadd(l,y.force)}}w(e){const n=this.smoothingRadius;return 315/(64*Math.PI*n**9)*(n*n-e*e)**3}gradw(e,n){const r=e.length(),o=this.smoothingRadius;e.scale(945/(32*Math.PI*o**9)*(o*o-r*r)**2,n)}nablaw(e){const n=this.smoothingRadius;return 945/(32*Math.PI*n**9)*(n*n-e*e)*(7*e*e-3*n*n)}}const Jie=new z,Qie=new z,eoe=new z,toe=new z,noe=new z,roe=new z,ioe=new z;class ooe extends ns{constructor(e,n,r,o){if(e===void 0&&(e=1),n===void 0&&(n=1),r===void 0&&(r=1),o===void 0&&(o=8),e<0)throw new Error("The cylinder radiusTop cannot be negative.");if(n<0)throw new Error("The cylinder radiusBottom cannot be negative.");const l=o,h=[],d=[],p=[],g=[],v=[],y=Math.cos,x=Math.sin;h.push(new z(-n*x(0),-r*.5,n*y(0))),g.push(0),h.push(new z(-e*x(0),r*.5,e*y(0))),v.push(1);for(let w=0;w<l;w++){const M=2*Math.PI/l*(w+1),S=2*Math.PI/l*(w+.5);w<l-1?(h.push(new z(-n*x(M),-r*.5,n*y(M))),g.push(2*w+2),h.push(new z(-e*x(M),r*.5,e*y(M))),v.push(2*w+3),p.push([2*w,2*w+1,2*w+3,2*w+2])):p.push([2*w,2*w+1,1,0]),(l%2===1||w<l/2)&&d.push(new z(-x(S),0,y(S)))}p.push(g),d.push(new z(0,1,0));const T=[];for(let w=0;w<v.length;w++)T.push(v[v.length-w-1]);p.push(T),super({vertices:h,faces:p,axes:d}),this.type=st.types.CYLINDER,this.radiusTop=e,this.radiusBottom=n,this.height=r,this.numSegments=o}}class aoe extends st{constructor(){super({type:st.types.PARTICLE})}calculateLocalInertia(e,n){return n===void 0&&(n=new z),n.set(0,0,0),n}volume(){return 0}updateBoundingSphereRadius(){this.boundingSphereRadius=0}calculateWorldAABB(e,n,r,o){r.copy(e),o.copy(e)}}let soe=class extends st{constructor(){super({type:st.types.PLANE}),this.worldNormal=new z,this.worldNormalNeedsUpdate=!0,this.boundingSphereRadius=Number.MAX_VALUE}computeWorldNormal(e){const n=this.worldNormal;n.set(0,0,1),e.vmult(n,n),this.worldNormalNeedsUpdate=!1}calculateLocalInertia(e,n){return n===void 0&&(n=new z),n}volume(){return Number.MAX_VALUE}calculateWorldAABB(e,n,r,o){Va.set(0,0,1),n.vmult(Va,Va);const l=Number.MAX_VALUE;r.set(-l,-l,-l),o.set(l,l,l),Va.x===1?o.x=e.x:Va.x===-1&&(r.x=e.x),Va.y===1?o.y=e.y:Va.y===-1&&(r.y=e.y),Va.z===1?o.z=e.z:Va.z===-1&&(r.z=e.z)}updateBoundingSphereRadius(){this.boundingSphereRadius=Number.MAX_VALUE}};const Va=new z;class loe extends st{constructor(e,n){n===void 0&&(n={}),n=C0.defaults(n,{maxValue:null,minValue:null,elementSize:1}),super({type:st.types.HEIGHTFIELD}),this.data=e,this.maxValue=n.maxValue,this.minValue=n.minValue,this.elementSize=n.elementSize,n.minValue===null&&this.updateMinValue(),n.maxValue===null&&this.updateMaxValue(),this.cacheEnabled=!0,this.pillarConvex=new ns,this.pillarOffset=new z,this.updateBoundingSphereRadius(),this._cachedPillars={}}update(){this._cachedPillars={}}updateMinValue(){const e=this.data;let n=e[0][0];for(let r=0;r!==e.length;r++)for(let o=0;o!==e[r].length;o++){const l=e[r][o];l<n&&(n=l)}this.minValue=n}updateMaxValue(){const e=this.data;let n=e[0][0];for(let r=0;r!==e.length;r++)for(let o=0;o!==e[r].length;o++){const l=e[r][o];l>n&&(n=l)}this.maxValue=n}setHeightValueAtIndex(e,n,r){const o=this.data;o[e][n]=r,this.clearCachedConvexTrianglePillar(e,n,!1),e>0&&(this.clearCachedConvexTrianglePillar(e-1,n,!0),this.clearCachedConvexTrianglePillar(e-1,n,!1)),n>0&&(this.clearCachedConvexTrianglePillar(e,n-1,!0),this.clearCachedConvexTrianglePillar(e,n-1,!1)),n>0&&e>0&&this.clearCachedConvexTrianglePillar(e-1,n-1,!0)}getRectMinMax(e,n,r,o,l){l===void 0&&(l=[]);const h=this.data;let d=this.minValue;for(let p=e;p<=r;p++)for(let g=n;g<=o;g++){const v=h[p][g];v>d&&(d=v)}l[0]=this.minValue,l[1]=d}getIndexOfPosition(e,n,r,o){const l=this.elementSize,h=this.data;let d=Math.floor(e/l),p=Math.floor(n/l);return r[0]=d,r[1]=p,o&&(d<0&&(d=0),p<0&&(p=0),d>=h.length-1&&(d=h.length-1),p>=h[0].length-1&&(p=h[0].length-1)),!(d<0||p<0||d>=h.length-1||p>=h[0].length-1)}getTriangleAt(e,n,r,o,l,h){const d=f3;this.getIndexOfPosition(e,n,d,r);let p=d[0],g=d[1];const v=this.data;r&&(p=Math.min(v.length-2,Math.max(0,p)),g=Math.min(v[0].length-2,Math.max(0,g)));const y=this.elementSize,x=(e/y-p)**2+(n/y-g)**2,T=(e/y-(p+1))**2+(n/y-(g+1))**2,w=x>T;return this.getTriangle(p,g,w,o,l,h),w}getNormalAt(e,n,r,o){const l=doe,h=moe,d=poe,p=foe,g=goe;this.getTriangleAt(e,n,r,l,h,d),h.vsub(l,p),d.vsub(l,g),p.cross(g,o),o.normalize()}getAabbAtIndex(e,n,r){let{lowerBound:o,upperBound:l}=r;const h=this.data,d=this.elementSize;o.set(e*d,n*d,h[e][n]),l.set((e+1)*d,(n+1)*d,h[e+1][n+1])}getHeightAt(e,n,r){const o=this.data,l=coe,h=hoe,d=uoe,p=f3;this.getIndexOfPosition(e,n,p,r);let g=p[0],v=p[1];r&&(g=Math.min(o.length-2,Math.max(0,g)),v=Math.min(o[0].length-2,Math.max(0,v)));const y=this.getTriangleAt(e,n,r,l,h,d);boe(e,n,l.x,l.y,h.x,h.y,d.x,d.y,g3);const x=g3;return y?o[g+1][v+1]*x.x+o[g][v+1]*x.y+o[g+1][v]*x.z:o[g][v]*x.x+o[g+1][v]*x.y+o[g][v+1]*x.z}getCacheConvexTrianglePillarKey(e,n,r){return`${e}_${n}_${r?1:0}`}getCachedConvexTrianglePillar(e,n,r){return this._cachedPillars[this.getCacheConvexTrianglePillarKey(e,n,r)]}setCachedConvexTrianglePillar(e,n,r,o,l){this._cachedPillars[this.getCacheConvexTrianglePillarKey(e,n,r)]={convex:o,offset:l}}clearCachedConvexTrianglePillar(e,n,r){delete this._cachedPillars[this.getCacheConvexTrianglePillarKey(e,n,r)]}getTriangle(e,n,r,o,l,h){const d=this.data,p=this.elementSize;r?(o.set((e+1)*p,(n+1)*p,d[e+1][n+1]),l.set(e*p,(n+1)*p,d[e][n+1]),h.set((e+1)*p,n*p,d[e+1][n])):(o.set(e*p,n*p,d[e][n]),l.set((e+1)*p,n*p,d[e+1][n]),h.set(e*p,(n+1)*p,d[e][n+1]))}getConvexTrianglePillar(e,n,r){let o=this.pillarConvex,l=this.pillarOffset;if(this.cacheEnabled){const y=this.getCachedConvexTrianglePillar(e,n,r);if(y){this.pillarConvex=y.convex,this.pillarOffset=y.offset;return}o=new ns,l=new z,this.pillarConvex=o,this.pillarOffset=l}const h=this.data,d=this.elementSize,p=o.faces;o.vertices.length=6;for(let y=0;y<6;y++)o.vertices[y]||(o.vertices[y]=new z);p.length=5;for(let y=0;y<5;y++)p[y]||(p[y]=[]);const g=o.vertices,v=(Math.min(h[e][n],h[e+1][n],h[e][n+1],h[e+1][n+1])-this.minValue)/2+this.minValue;r?(l.set((e+.75)*d,(n+.75)*d,v),g[0].set(.25*d,.25*d,h[e+1][n+1]-v),g[1].set(-.75*d,.25*d,h[e][n+1]-v),g[2].set(.25*d,-.75*d,h[e+1][n]-v),g[3].set(.25*d,.25*d,-Math.abs(v)-1),g[4].set(-.75*d,.25*d,-Math.abs(v)-1),g[5].set(.25*d,-.75*d,-Math.abs(v)-1),p[0][0]=0,p[0][1]=1,p[0][2]=2,p[1][0]=5,p[1][1]=4,p[1][2]=3,p[2][0]=2,p[2][1]=5,p[2][2]=3,p[2][3]=0,p[3][0]=3,p[3][1]=4,p[3][2]=1,p[3][3]=0,p[4][0]=1,p[4][1]=4,p[4][2]=5,p[4][3]=2):(l.set((e+.25)*d,(n+.25)*d,v),g[0].set(-.25*d,-.25*d,h[e][n]-v),g[1].set(.75*d,-.25*d,h[e+1][n]-v),g[2].set(-.25*d,.75*d,h[e][n+1]-v),g[3].set(-.25*d,-.25*d,-Math.abs(v)-1),g[4].set(.75*d,-.25*d,-Math.abs(v)-1),g[5].set(-.25*d,.75*d,-Math.abs(v)-1),p[0][0]=0,p[0][1]=1,p[0][2]=2,p[1][0]=5,p[1][1]=4,p[1][2]=3,p[2][0]=0,p[2][1]=2,p[2][2]=5,p[2][3]=3,p[3][0]=1,p[3][1]=0,p[3][2]=3,p[3][3]=4,p[4][0]=4,p[4][1]=5,p[4][2]=2,p[4][3]=1),o.computeNormals(),o.computeEdges(),o.updateBoundingSphereRadius(),this.setCachedConvexTrianglePillar(e,n,r,o,l)}calculateLocalInertia(e,n){return n===void 0&&(n=new z),n.set(0,0,0),n}volume(){return Number.MAX_VALUE}calculateWorldAABB(e,n,r,o){r.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),o.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)}updateBoundingSphereRadius(){const e=this.data,n=this.elementSize;this.boundingSphereRadius=new z(e.length*n,e[0].length*n,Math.max(Math.abs(this.maxValue),Math.abs(this.minValue))).length()}setHeightsFromImage(e,n){const{x:r,z:o,y:l}=n,h=document.createElement("canvas");h.width=e.width,h.height=e.height;const d=h.getContext("2d");d.drawImage(e,0,0);const p=d.getImageData(0,0,e.width,e.height),g=this.data;g.length=0,this.elementSize=Math.abs(r)/p.width;for(let v=0;v<p.height;v++){const y=[];for(let x=0;x<p.width;x++){const T=p.data[(v*p.height+x)*4],w=p.data[(v*p.height+x)*4+1],M=p.data[(v*p.height+x)*4+2],S=(T+w+M)/4/255*o;r<0?y.push(S):y.unshift(S)}l<0?g.unshift(y):g.push(y)}this.updateMaxValue(),this.updateMinValue(),this.update()}}const f3=[],g3=new z,coe=new z,hoe=new z,uoe=new z,doe=new z,moe=new z,poe=new z,foe=new z,goe=new z;function boe(a,e,n,r,o,l,h,d,p){p.x=((l-d)*(a-h)+(h-o)*(e-d))/((l-d)*(n-h)+(h-o)*(r-d)),p.y=((d-r)*(a-h)+(n-h)*(e-d))/((l-d)*(n-h)+(h-o)*(r-d)),p.z=1-p.x-p.y}class aa{constructor(e){e===void 0&&(e={}),this.root=e.root||null,this.aabb=e.aabb?e.aabb.clone():new rr,this.data=[],this.children=[]}reset(){this.children.length=this.data.length=0}insert(e,n,r){r===void 0&&(r=0);const o=this.data;if(!this.aabb.contains(e))return!1;const l=this.children,h=this.maxDepth||this.root.maxDepth;if(r<h){let d=!1;l.length||(this.subdivide(),d=!0);for(let p=0;p!==8;p++)if(l[p].insert(e,n,r+1))return!0;d&&(l.length=0)}return o.push(n),!0}subdivide(){const e=this.aabb,n=e.lowerBound,r=e.upperBound,o=this.children;o.push(new aa({aabb:new rr({lowerBound:new z(0,0,0)})}),new aa({aabb:new rr({lowerBound:new z(1,0,0)})}),new aa({aabb:new rr({lowerBound:new z(1,1,0)})}),new aa({aabb:new rr({lowerBound:new z(1,1,1)})}),new aa({aabb:new rr({lowerBound:new z(0,1,1)})}),new aa({aabb:new rr({lowerBound:new z(0,0,1)})}),new aa({aabb:new rr({lowerBound:new z(1,0,1)})}),new aa({aabb:new rr({lowerBound:new z(0,1,0)})})),r.vsub(n,_c),_c.scale(.5,_c);const l=this.root||this;for(let h=0;h!==8;h++){const d=o[h];d.root=l;const p=d.aabb.lowerBound;p.x*=_c.x,p.y*=_c.y,p.z*=_c.z,p.vadd(n,p),p.vadd(_c,d.aabb.upperBound)}}aabbQuery(e,n){this.data,this.children;const r=[this];for(;r.length;){const o=r.pop();o.aabb.overlaps(e)&&Array.prototype.push.apply(n,o.data),Array.prototype.push.apply(r,o.children)}return n}rayQuery(e,n,r){return e.getAABB(W1),W1.toLocalFrame(n,W1),this.aabbQuery(W1,r),r}removeEmptyNodes(){for(let e=this.children.length-1;e>=0;e--)this.children[e].removeEmptyNodes(),!this.children[e].children.length&&!this.children[e].data.length&&this.children.splice(e,1)}}class voe extends aa{constructor(e,n){n===void 0&&(n={}),super({root:null,aabb:e}),this.maxDepth=typeof n.maxDepth<"u"?n.maxDepth:8}}const _c=new z,W1=new rr;class Wg extends st{constructor(e,n){super({type:st.types.TRIMESH}),this.vertices=new Float32Array(e),this.indices=new Int16Array(n),this.normals=new Float32Array(n.length),this.aabb=new rr,this.edges=null,this.scale=new z(1,1,1),this.tree=new voe,this.updateEdges(),this.updateNormals(),this.updateAABB(),this.updateBoundingSphereRadius(),this.updateTree()}updateTree(){const e=this.tree;e.reset(),e.aabb.copy(this.aabb);const n=this.scale;e.aabb.lowerBound.x*=1/n.x,e.aabb.lowerBound.y*=1/n.y,e.aabb.lowerBound.z*=1/n.z,e.aabb.upperBound.x*=1/n.x,e.aabb.upperBound.y*=1/n.y,e.aabb.upperBound.z*=1/n.z;const r=new rr,o=new z,l=new z,h=new z,d=[o,l,h];for(let p=0;p<this.indices.length/3;p++){const g=p*3;this._getUnscaledVertex(this.indices[g],o),this._getUnscaledVertex(this.indices[g+1],l),this._getUnscaledVertex(this.indices[g+2],h),r.setFromPoints(d),e.insert(r,p)}e.removeEmptyNodes()}getTrianglesInAABB(e,n){V1.copy(e);const r=this.scale,o=r.x,l=r.y,h=r.z,d=V1.lowerBound,p=V1.upperBound;return d.x/=o,d.y/=l,d.z/=h,p.x/=o,p.y/=l,p.z/=h,this.tree.aabbQuery(V1,n)}setScale(e){const n=this.scale.x===this.scale.y&&this.scale.y===this.scale.z,r=e.x===e.y&&e.y===e.z;n&&r||this.updateNormals(),this.scale.copy(e),this.updateAABB(),this.updateBoundingSphereRadius()}updateNormals(){const e=yoe,n=this.normals;for(let r=0;r<this.indices.length/3;r++){const o=r*3,l=this.indices[o],h=this.indices[o+1],d=this.indices[o+2];this.getVertex(l,y3),this.getVertex(h,x3),this.getVertex(d,C3),Wg.computeNormal(x3,y3,C3,e),n[o]=e.x,n[o+1]=e.y,n[o+2]=e.z}}updateEdges(){const e={},n=(o,l)=>{const h=o<l?`${o}_${l}`:`${l}_${o}`;e[h]=!0};for(let o=0;o<this.indices.length/3;o++){const l=o*3,h=this.indices[l],d=this.indices[l+1],p=this.indices[l+2];n(h,d),n(d,p),n(p,h)}const r=Object.keys(e);this.edges=new Int16Array(r.length*2);for(let o=0;o<r.length;o++){const l=r[o].split("_");this.edges[2*o]=parseInt(l[0],10),this.edges[2*o+1]=parseInt(l[1],10)}}getEdgeVertex(e,n,r){const o=this.edges[e*2+(n?1:0)];this.getVertex(o,r)}getEdgeVector(e,n){const r=xoe,o=Coe;this.getEdgeVertex(e,0,r),this.getEdgeVertex(e,1,o),o.vsub(r,n)}static computeNormal(e,n,r,o){n.vsub(e,v3),r.vsub(n,b3),b3.cross(v3,o),o.isZero()||o.normalize()}getVertex(e,n){const r=this.scale;return this._getUnscaledVertex(e,n),n.x*=r.x,n.y*=r.y,n.z*=r.z,n}_getUnscaledVertex(e,n){const r=e*3,o=this.vertices;return n.set(o[r],o[r+1],o[r+2])}getWorldVertex(e,n,r,o){return this.getVertex(e,o),Sn.pointToWorldFrame(n,r,o,o),o}getTriangleVertices(e,n,r,o){const l=e*3;this.getVertex(this.indices[l],n),this.getVertex(this.indices[l+1],r),this.getVertex(this.indices[l+2],o)}getNormal(e,n){const r=e*3;return n.set(this.normals[r],this.normals[r+1],this.normals[r+2])}calculateLocalInertia(e,n){this.computeLocalAABB(Tc);const r=Tc.upperBound.x-Tc.lowerBound.x,o=Tc.upperBound.y-Tc.lowerBound.y,l=Tc.upperBound.z-Tc.lowerBound.z;return n.set(1/12*e*(2*o*2*o+2*l*2*l),1/12*e*(2*r*2*r+2*l*2*l),1/12*e*(2*o*2*o+2*r*2*r))}computeLocalAABB(e){const n=e.lowerBound,r=e.upperBound,o=this.vertices.length;this.vertices;const l=_oe;this.getVertex(0,l),n.copy(l),r.copy(l);for(let h=0;h!==o;h++)this.getVertex(h,l),l.x<n.x?n.x=l.x:l.x>r.x&&(r.x=l.x),l.y<n.y?n.y=l.y:l.y>r.y&&(r.y=l.y),l.z<n.z?n.z=l.z:l.z>r.z&&(r.z=l.z)}updateAABB(){this.computeLocalAABB(this.aabb)}updateBoundingSphereRadius(){let e=0;const n=this.vertices,r=new z;for(let o=0,l=n.length/3;o!==l;o++){this.getVertex(o,r);const h=r.lengthSquared();h>e&&(e=h)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,n,r,o){const l=Toe,h=woe;l.position=e,l.quaternion=n,this.aabb.toWorldFrame(l,h),r.copy(h.lowerBound),o.copy(h.upperBound)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}static createTorus(e,n,r,o,l){e===void 0&&(e=1),n===void 0&&(n=.5),r===void 0&&(r=8),o===void 0&&(o=6),l===void 0&&(l=Math.PI*2);const h=[],d=[];for(let p=0;p<=r;p++)for(let g=0;g<=o;g++){const v=g/o*l,y=p/r*Math.PI*2,x=(e+n*Math.cos(y))*Math.cos(v),T=(e+n*Math.cos(y))*Math.sin(v),w=n*Math.sin(y);h.push(x,T,w)}for(let p=1;p<=r;p++)for(let g=1;g<=o;g++){const v=(o+1)*p+g-1,y=(o+1)*(p-1)+g-1,x=(o+1)*(p-1)+g,T=(o+1)*p+g;d.push(v,y,T),d.push(y,x,T)}return new Wg(h,d)}}const yoe=new z,V1=new rr,xoe=new z,Coe=new z,b3=new z,v3=new z,y3=new z,x3=new z,C3=new z,Tc=new rr,_oe=new z,Toe=new Sn,woe=new rr;class mC{constructor(){this.equations=[]}solve(e,n){return 0}addEquation(e){e.enabled&&!e.bi.isTrigger&&!e.bj.isTrigger&&this.equations.push(e)}removeEquation(e){const n=this.equations,r=n.indexOf(e);r!==-1&&n.splice(r,1)}removeAllEquations(){this.equations.length=0}}class AI extends mC{constructor(){super(),this.iterations=10,this.tolerance=1e-7}solve(e,n){let r=0;const o=this.iterations,l=this.tolerance*this.tolerance,h=this.equations,d=h.length,p=n.bodies,g=p.length,v=e;let y,x,T,w,M,S;if(d!==0)for(let q=0;q!==g;q++)p[q].updateSolveMassProperties();const j=Moe,k=Soe,W=Noe;j.length=d,k.length=d,W.length=d;for(let q=0;q!==d;q++){const Z=h[q];W[q]=0,k[q]=Z.computeB(v),j[q]=1/Z.computeC()}if(d!==0){for(let Y=0;Y!==g;Y++){const he=p[Y],ae=he.vlambda,ve=he.wlambda;ae.set(0,0,0),ve.set(0,0,0)}for(r=0;r!==o;r++){w=0;for(let Y=0;Y!==d;Y++){const he=h[Y];y=k[Y],x=j[Y],S=W[Y],M=he.computeGWlambda(),T=x*(y-M-he.eps*S),S+T<he.minForce?T=he.minForce-S:S+T>he.maxForce&&(T=he.maxForce-S),W[Y]+=T,w+=T>0?T:-T,he.addToWlambda(T)}if(w*w<l)break}for(let Y=0;Y!==g;Y++){const he=p[Y],ae=he.velocity,ve=he.angularVelocity;he.vlambda.vmul(he.linearFactor,he.vlambda),ae.vadd(he.vlambda,ae),he.wlambda.vmul(he.angularFactor,he.wlambda),ve.vadd(he.wlambda,ve)}let q=h.length;const Z=1/v;for(;q--;)h[q].multiplier=W[q]*Z}return r}}const Noe=[],Moe=[],Soe=[];class Aoe extends mC{constructor(e){for(super(),this.iterations=10,this.tolerance=1e-7,this.subsolver=e,this.nodes=[],this.nodePool=[];this.nodePool.length<128;)this.nodePool.push(this.createNode())}createNode(){return{body:null,children:[],eqs:[],visited:!1}}solve(e,n){const r=Eoe,o=this.nodePool,l=n.bodies,h=this.equations,d=h.length,p=l.length,g=this.subsolver;for(;o.length<p;)o.push(this.createNode());r.length=p;for(let w=0;w<p;w++)r[w]=o[w];for(let w=0;w!==p;w++){const M=r[w];M.body=l[w],M.children.length=0,M.eqs.length=0,M.visited=!1}for(let w=0;w!==d;w++){const M=h[w],S=l.indexOf(M.bi),j=l.indexOf(M.bj),k=r[S],W=r[j];k.children.push(W),k.eqs.push(M),W.children.push(k),W.eqs.push(M)}let v,y=0,x=Ioe;g.tolerance=this.tolerance,g.iterations=this.iterations;const T=Roe;for(;v=EI(r);){x.length=0,T.bodies.length=0,Boe(v,Ooe,T.bodies,x);const w=x.length;x=x.sort(Loe);for(let M=0;M!==w;M++)g.addEquation(x[M]);g.solve(e,T),g.removeAllEquations(),y++}return y}}const Eoe=[],Ioe=[],Roe={bodies:[]},Poe=At.STATIC;function EI(a){const e=a.length;for(let n=0;n!==e;n++){const r=a[n];if(!r.visited&&!(r.body.type&Poe))return r}return!1}const H1=[];function Boe(a,e,n,r){for(H1.push(a),a.visited=!0,e(a,n,r);H1.length;){const o=H1.pop();let l;for(;l=EI(o.children);)l.visited=!0,e(l,n,r),H1.push(l)}}function Ooe(a,e,n){e.push(a.body);const r=a.eqs.length;for(let o=0;o!==r;o++){const l=a.eqs[o];n.includes(l)||n.push(l)}}function Loe(a,e){return e.id-a.id}class II{constructor(){this.objects=[],this.type=Object}release(){const e=arguments.length;for(let n=0;n!==e;n++)this.objects.push(n<0||arguments.length<=n?void 0:arguments[n]);return this}get(){return this.objects.length===0?this.constructObject():this.objects.pop()}constructObject(){throw new Error("constructObject() not implemented in this Pool subclass yet!")}resize(e){const n=this.objects;for(;n.length>e;)n.pop();for(;n.length<e;)n.push(this.constructObject());return this}}class RI extends II{constructor(){super(...arguments),this.type=z}constructObject(){return new z}}const Kn={sphereSphere:st.types.SPHERE,spherePlane:st.types.SPHERE|st.types.PLANE,boxBox:st.types.BOX|st.types.BOX,sphereBox:st.types.SPHERE|st.types.BOX,planeBox:st.types.PLANE|st.types.BOX,convexConvex:st.types.CONVEXPOLYHEDRON,sphereConvex:st.types.SPHERE|st.types.CONVEXPOLYHEDRON,planeConvex:st.types.PLANE|st.types.CONVEXPOLYHEDRON,boxConvex:st.types.BOX|st.types.CONVEXPOLYHEDRON,sphereHeightfield:st.types.SPHERE|st.types.HEIGHTFIELD,boxHeightfield:st.types.BOX|st.types.HEIGHTFIELD,convexHeightfield:st.types.CONVEXPOLYHEDRON|st.types.HEIGHTFIELD,sphereParticle:st.types.PARTICLE|st.types.SPHERE,planeParticle:st.types.PLANE|st.types.PARTICLE,boxParticle:st.types.BOX|st.types.PARTICLE,convexParticle:st.types.PARTICLE|st.types.CONVEXPOLYHEDRON,cylinderCylinder:st.types.CYLINDER,sphereCylinder:st.types.SPHERE|st.types.CYLINDER,planeCylinder:st.types.PLANE|st.types.CYLINDER,boxCylinder:st.types.BOX|st.types.CYLINDER,convexCylinder:st.types.CONVEXPOLYHEDRON|st.types.CYLINDER,heightfieldCylinder:st.types.HEIGHTFIELD|st.types.CYLINDER,particleCylinder:st.types.PARTICLE|st.types.CYLINDER,sphereTrimesh:st.types.SPHERE|st.types.TRIMESH,planeTrimesh:st.types.PLANE|st.types.TRIMESH};class PI{get[Kn.sphereSphere](){return this.sphereSphere}get[Kn.spherePlane](){return this.spherePlane}get[Kn.boxBox](){return this.boxBox}get[Kn.sphereBox](){return this.sphereBox}get[Kn.planeBox](){return this.planeBox}get[Kn.convexConvex](){return this.convexConvex}get[Kn.sphereConvex](){return this.sphereConvex}get[Kn.planeConvex](){return this.planeConvex}get[Kn.boxConvex](){return this.boxConvex}get[Kn.sphereHeightfield](){return this.sphereHeightfield}get[Kn.boxHeightfield](){return this.boxHeightfield}get[Kn.convexHeightfield](){return this.convexHeightfield}get[Kn.sphereParticle](){return this.sphereParticle}get[Kn.planeParticle](){return this.planeParticle}get[Kn.boxParticle](){return this.boxParticle}get[Kn.convexParticle](){return this.convexParticle}get[Kn.cylinderCylinder](){return this.convexConvex}get[Kn.sphereCylinder](){return this.sphereConvex}get[Kn.planeCylinder](){return this.planeConvex}get[Kn.boxCylinder](){return this.boxConvex}get[Kn.convexCylinder](){return this.convexConvex}get[Kn.heightfieldCylinder](){return this.heightfieldCylinder}get[Kn.particleCylinder](){return this.particleCylinder}get[Kn.sphereTrimesh](){return this.sphereTrimesh}get[Kn.planeTrimesh](){return this.planeTrimesh}constructor(e){this.contactPointPool=[],this.frictionEquationPool=[],this.result=[],this.frictionResult=[],this.v3pool=new RI,this.world=e,this.currentContactMaterial=e.defaultContactMaterial,this.enableFrictionReduction=!1}createContactEquation(e,n,r,o,l,h){let d;this.contactPointPool.length?(d=this.contactPointPool.pop(),d.bi=e,d.bj=n):d=new Su(e,n),d.enabled=e.collisionResponse&&n.collisionResponse&&r.collisionResponse&&o.collisionResponse;const p=this.currentContactMaterial;d.restitution=p.restitution,d.setSpookParams(p.contactEquationStiffness,p.contactEquationRelaxation,this.world.dt);const g=r.material||e.material,v=o.material||n.material;return g&&v&&g.restitution>=0&&v.restitution>=0&&(d.restitution=g.restitution*v.restitution),d.si=l||r,d.sj=h||o,d}createFrictionEquationsFromContact(e,n){const r=e.bi,o=e.bj,l=e.si,h=e.sj,d=this.world,p=this.currentContactMaterial;let g=p.friction;const v=l.material||r.material,y=h.material||o.material;if(v&&y&&v.friction>=0&&y.friction>=0&&(g=v.friction*y.friction),g>0){const x=g*(d.frictionGravity||d.gravity).length();let T=r.invMass+o.invMass;T>0&&(T=1/T);const w=this.frictionEquationPool,M=w.length?w.pop():new Gx(r,o,x*T),S=w.length?w.pop():new Gx(r,o,x*T);return M.bi=S.bi=r,M.bj=S.bj=o,M.minForce=S.minForce=-x*T,M.maxForce=S.maxForce=x*T,M.ri.copy(e.ri),M.rj.copy(e.rj),S.ri.copy(e.ri),S.rj.copy(e.rj),e.ni.tangents(M.t,S.t),M.setSpookParams(p.frictionEquationStiffness,p.frictionEquationRelaxation,d.dt),S.setSpookParams(p.frictionEquationStiffness,p.frictionEquationRelaxation,d.dt),M.enabled=S.enabled=e.enabled,n.push(M,S),!0}return!1}createFrictionFromAverage(e){let n=this.result[this.result.length-1];if(!this.createFrictionEquationsFromContact(n,this.frictionResult)||e===1)return;const r=this.frictionResult[this.frictionResult.length-2],o=this.frictionResult[this.frictionResult.length-1];wc.setZero(),Gh.setZero(),Wh.setZero();const l=n.bi;n.bj;for(let d=0;d!==e;d++)n=this.result[this.result.length-1-d],n.bi!==l?(wc.vadd(n.ni,wc),Gh.vadd(n.ri,Gh),Wh.vadd(n.rj,Wh)):(wc.vsub(n.ni,wc),Gh.vadd(n.rj,Gh),Wh.vadd(n.ri,Wh));const h=1/e;Gh.scale(h,r.ri),Wh.scale(h,r.rj),o.ri.copy(r.ri),o.rj.copy(r.rj),wc.normalize(),wc.tangents(r.t,o.t)}getContacts(e,n,r,o,l,h,d){this.contactPointPool=l,this.frictionEquationPool=d,this.result=o,this.frictionResult=h;const p=Foe,g=koe,v=joe,y=Doe;for(let x=0,T=e.length;x!==T;x++){const w=e[x],M=n[x];let S=null;w.material&&M.material&&(S=r.getContactMaterial(w.material,M.material)||null);const j=w.type&At.KINEMATIC&&M.type&At.STATIC||w.type&At.STATIC&&M.type&At.KINEMATIC||w.type&At.KINEMATIC&&M.type&At.KINEMATIC;for(let k=0;k<w.shapes.length;k++){w.quaternion.mult(w.shapeOrientations[k],p),w.quaternion.vmult(w.shapeOffsets[k],v),v.vadd(w.position,v);const W=w.shapes[k];for(let q=0;q<M.shapes.length;q++){M.quaternion.mult(M.shapeOrientations[q],g),M.quaternion.vmult(M.shapeOffsets[q],y),y.vadd(M.position,y);const Z=M.shapes[q];if(!(W.collisionFilterMask&Z.collisionFilterGroup&&Z.collisionFilterMask&W.collisionFilterGroup)||v.distanceTo(y)>W.boundingSphereRadius+Z.boundingSphereRadius)continue;let Y=null;W.material&&Z.material&&(Y=r.getContactMaterial(W.material,Z.material)||null),this.currentContactMaterial=Y||S||r.defaultContactMaterial;const he=W.type|Z.type,ae=this[he];if(ae){let ve=!1;W.type<Z.type?ve=ae.call(this,W,Z,v,y,p,g,w,M,W,Z,j):ve=ae.call(this,Z,W,y,v,g,p,M,w,W,Z,j),ve&&j&&(r.shapeOverlapKeeper.set(W.id,Z.id),r.bodyOverlapKeeper.set(w.id,M.id))}}}}}sphereSphere(e,n,r,o,l,h,d,p,g,v,y){if(y)return r.distanceSquared(o)<(e.radius+n.radius)**2;const x=this.createContactEquation(d,p,e,n,g,v);o.vsub(r,x.ni),x.ni.normalize(),x.ri.copy(x.ni),x.rj.copy(x.ni),x.ri.scale(e.radius,x.ri),x.rj.scale(-n.radius,x.rj),x.ri.vadd(r,x.ri),x.ri.vsub(d.position,x.ri),x.rj.vadd(o,x.rj),x.rj.vsub(p.position,x.rj),this.result.push(x),this.createFrictionEquationsFromContact(x,this.frictionResult)}spherePlane(e,n,r,o,l,h,d,p,g,v,y){const x=this.createContactEquation(d,p,e,n,g,v);if(x.ni.set(0,0,1),h.vmult(x.ni,x.ni),x.ni.negate(x.ni),x.ni.normalize(),x.ni.scale(e.radius,x.ri),r.vsub(o,$1),x.ni.scale(x.ni.dot($1),_3),$1.vsub(_3,x.rj),-$1.dot(x.ni)<=e.radius){if(y)return!0;const T=x.ri,w=x.rj;T.vadd(r,T),T.vsub(d.position,T),w.vadd(o,w),w.vsub(p.position,w),this.result.push(x),this.createFrictionEquationsFromContact(x,this.frictionResult)}}boxBox(e,n,r,o,l,h,d,p,g,v,y){return e.convexPolyhedronRepresentation.material=e.material,n.convexPolyhedronRepresentation.material=n.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,n.convexPolyhedronRepresentation.collisionResponse=n.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,n.convexPolyhedronRepresentation,r,o,l,h,d,p,e,n,y)}sphereBox(e,n,r,o,l,h,d,p,g,v,y){const x=this.v3pool,T=uae;r.vsub(o,q1),n.getSideNormals(T,h);const w=e.radius;let M=!1;const S=mae,j=pae,k=fae;let W=null,q=0,Z=0,Y=0,he=null;for(let fe=0,de=T.length;fe!==de&&M===!1;fe++){const De=lae;De.copy(T[fe]);const Be=De.length();De.normalize();const _e=q1.dot(De);if(_e<Be+w&&_e>0){const ke=cae,je=hae;ke.copy(T[(fe+1)%3]),je.copy(T[(fe+2)%3]);const mt=ke.length(),pt=je.length();ke.normalize(),je.normalize();const Bt=q1.dot(ke),Tt=q1.dot(je);if(Bt<mt&&Bt>-mt&&Tt<pt&&Tt>-pt){const wt=Math.abs(_e-Be-w);if((he===null||wt<he)&&(he=wt,Z=Bt,Y=Tt,W=Be,S.copy(De),j.copy(ke),k.copy(je),q++,y))return!0}}}if(q){M=!0;const fe=this.createContactEquation(d,p,e,n,g,v);S.scale(-w,fe.ri),fe.ni.copy(S),fe.ni.negate(fe.ni),S.scale(W,S),j.scale(Z,j),S.vadd(j,S),k.scale(Y,k),S.vadd(k,fe.rj),fe.ri.vadd(r,fe.ri),fe.ri.vsub(d.position,fe.ri),fe.rj.vadd(o,fe.rj),fe.rj.vsub(p.position,fe.rj),this.result.push(fe),this.createFrictionEquationsFromContact(fe,this.frictionResult)}let ae=x.get();const ve=dae;for(let fe=0;fe!==2&&!M;fe++)for(let de=0;de!==2&&!M;de++)for(let De=0;De!==2&&!M;De++)if(ae.set(0,0,0),fe?ae.vadd(T[0],ae):ae.vsub(T[0],ae),de?ae.vadd(T[1],ae):ae.vsub(T[1],ae),De?ae.vadd(T[2],ae):ae.vsub(T[2],ae),o.vadd(ae,ve),ve.vsub(r,ve),ve.lengthSquared()<w*w){if(y)return!0;M=!0;const Be=this.createContactEquation(d,p,e,n,g,v);Be.ri.copy(ve),Be.ri.normalize(),Be.ni.copy(Be.ri),Be.ri.scale(w,Be.ri),Be.rj.copy(ae),Be.ri.vadd(r,Be.ri),Be.ri.vsub(d.position,Be.ri),Be.rj.vadd(o,Be.rj),Be.rj.vsub(p.position,Be.rj),this.result.push(Be),this.createFrictionEquationsFromContact(Be,this.frictionResult)}x.release(ae),ae=null;const re=x.get(),se=x.get(),oe=x.get(),Q=x.get(),pe=x.get(),be=T.length;for(let fe=0;fe!==be&&!M;fe++)for(let de=0;de!==be&&!M;de++)if(fe%3!==de%3){T[de].cross(T[fe],re),re.normalize(),T[fe].vadd(T[de],se),oe.copy(r),oe.vsub(se,oe),oe.vsub(o,oe);const De=oe.dot(re);re.scale(De,Q);let Be=0;for(;Be===fe%3||Be===de%3;)Be++;pe.copy(r),pe.vsub(Q,pe),pe.vsub(se,pe),pe.vsub(o,pe);const _e=Math.abs(De),ke=pe.length();if(_e<T[Be].length()&&ke<w){if(y)return!0;M=!0;const je=this.createContactEquation(d,p,e,n,g,v);se.vadd(Q,je.rj),je.rj.copy(je.rj),pe.negate(je.ni),je.ni.normalize(),je.ri.copy(je.rj),je.ri.vadd(o,je.ri),je.ri.vsub(r,je.ri),je.ri.normalize(),je.ri.scale(w,je.ri),je.ri.vadd(r,je.ri),je.ri.vsub(d.position,je.ri),je.rj.vadd(o,je.rj),je.rj.vsub(p.position,je.rj),this.result.push(je),this.createFrictionEquationsFromContact(je,this.frictionResult)}}x.release(re,se,oe,Q,pe)}planeBox(e,n,r,o,l,h,d,p,g,v,y){return n.convexPolyhedronRepresentation.material=n.material,n.convexPolyhedronRepresentation.collisionResponse=n.collisionResponse,n.convexPolyhedronRepresentation.id=n.id,this.planeConvex(e,n.convexPolyhedronRepresentation,r,o,l,h,d,p,e,n,y)}convexConvex(e,n,r,o,l,h,d,p,g,v,y,x,T){const w=Iae;if(!(r.distanceTo(o)>e.boundingSphereRadius+n.boundingSphereRadius)&&e.findSeparatingAxis(n,r,l,o,h,w,x,T)){const M=[],S=Rae;e.clipAgainstHull(r,l,n,o,h,w,-100,100,M);let j=0;for(let k=0;k!==M.length;k++){if(y)return!0;const W=this.createContactEquation(d,p,e,n,g,v),q=W.ri,Z=W.rj;w.negate(W.ni),M[k].normal.negate(S),S.scale(M[k].depth,S),M[k].point.vadd(S,q),Z.copy(M[k].point),q.vsub(r,q),Z.vsub(o,Z),q.vadd(r,q),q.vsub(d.position,q),Z.vadd(o,Z),Z.vsub(p.position,Z),this.result.push(W),j++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(W,this.frictionResult)}this.enableFrictionReduction&&j&&this.createFrictionFromAverage(j)}}sphereConvex(e,n,r,o,l,h,d,p,g,v,y){const x=this.v3pool;r.vsub(o,gae);const T=n.faceNormals,w=n.faces,M=n.vertices,S=e.radius;let j=!1;for(let k=0;k!==M.length;k++){const W=M[k],q=xae;h.vmult(W,q),o.vadd(q,q);const Z=yae;if(q.vsub(r,Z),Z.lengthSquared()<S*S){if(y)return!0;j=!0;const Y=this.createContactEquation(d,p,e,n,g,v);Y.ri.copy(Z),Y.ri.normalize(),Y.ni.copy(Y.ri),Y.ri.scale(S,Y.ri),q.vsub(o,Y.rj),Y.ri.vadd(r,Y.ri),Y.ri.vsub(d.position,Y.ri),Y.rj.vadd(o,Y.rj),Y.rj.vsub(p.position,Y.rj),this.result.push(Y),this.createFrictionEquationsFromContact(Y,this.frictionResult);return}}for(let k=0,W=w.length;k!==W&&j===!1;k++){const q=T[k],Z=w[k],Y=Cae;h.vmult(q,Y);const he=_ae;h.vmult(M[Z[0]],he),he.vadd(o,he);const ae=Tae;Y.scale(-S,ae),r.vadd(ae,ae);const ve=wae;ae.vsub(he,ve);const re=ve.dot(Y),se=Nae;if(r.vsub(he,se),re<0&&se.dot(Y)>0){const oe=[];for(let Q=0,pe=Z.length;Q!==pe;Q++){const be=x.get();h.vmult(M[Z[Q]],be),o.vadd(be,be),oe.push(be)}if(sae(oe,Y,r)){if(y)return!0;j=!0;const Q=this.createContactEquation(d,p,e,n,g,v);Y.scale(-S,Q.ri),Y.negate(Q.ni);const pe=x.get();Y.scale(-re,pe);const be=x.get();Y.scale(-S,be),r.vsub(o,Q.rj),Q.rj.vadd(be,Q.rj),Q.rj.vadd(pe,Q.rj),Q.rj.vadd(o,Q.rj),Q.rj.vsub(p.position,Q.rj),Q.ri.vadd(r,Q.ri),Q.ri.vsub(d.position,Q.ri),x.release(pe),x.release(be),this.result.push(Q),this.createFrictionEquationsFromContact(Q,this.frictionResult);for(let fe=0,de=oe.length;fe!==de;fe++)x.release(oe[fe]);return}else for(let Q=0;Q!==Z.length;Q++){const pe=x.get(),be=x.get();h.vmult(M[Z[(Q+1)%Z.length]],pe),h.vmult(M[Z[(Q+2)%Z.length]],be),o.vadd(pe,pe),o.vadd(be,be);const fe=bae;be.vsub(pe,fe);const de=vae;fe.unit(de);const De=x.get(),Be=x.get();r.vsub(pe,Be);const _e=Be.dot(de);de.scale(_e,De),De.vadd(pe,De);const ke=x.get();if(De.vsub(r,ke),_e>0&&_e*_e<fe.lengthSquared()&&ke.lengthSquared()<S*S){if(y)return!0;const je=this.createContactEquation(d,p,e,n,g,v);De.vsub(o,je.rj),De.vsub(r,je.ni),je.ni.normalize(),je.ni.scale(S,je.ri),je.rj.vadd(o,je.rj),je.rj.vsub(p.position,je.rj),je.ri.vadd(r,je.ri),je.ri.vsub(d.position,je.ri),this.result.push(je),this.createFrictionEquationsFromContact(je,this.frictionResult);for(let mt=0,pt=oe.length;mt!==pt;mt++)x.release(oe[mt]);x.release(pe),x.release(be),x.release(De),x.release(ke),x.release(Be);return}x.release(pe),x.release(be),x.release(De),x.release(ke),x.release(Be)}for(let Q=0,pe=oe.length;Q!==pe;Q++)x.release(oe[Q])}}}planeConvex(e,n,r,o,l,h,d,p,g,v,y){const x=Mae,T=Sae;T.set(0,0,1),l.vmult(T,T);let w=0;const M=Aae;for(let S=0;S!==n.vertices.length;S++)if(x.copy(n.vertices[S]),h.vmult(x,x),o.vadd(x,x),x.vsub(r,M),T.dot(M)<=0){if(y)return!0;const k=this.createContactEquation(d,p,e,n,g,v),W=Eae;T.scale(T.dot(M),W),x.vsub(W,W),W.vsub(r,k.ri),k.ni.copy(T),x.vsub(o,k.rj),k.ri.vadd(r,k.ri),k.ri.vsub(d.position,k.ri),k.rj.vadd(o,k.rj),k.rj.vsub(p.position,k.rj),this.result.push(k),w++,this.enableFrictionReduction||this.createFrictionEquationsFromContact(k,this.frictionResult)}this.enableFrictionReduction&&w&&this.createFrictionFromAverage(w)}boxConvex(e,n,r,o,l,h,d,p,g,v,y){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexConvex(e.convexPolyhedronRepresentation,n,r,o,l,h,d,p,e,n,y)}sphereHeightfield(e,n,r,o,l,h,d,p,g,v,y){const x=n.data,T=e.radius,w=n.elementSize,M=Gae,S=Uae;Sn.pointToLocalFrame(o,h,r,S);let j=Math.floor((S.x-T)/w)-1,k=Math.ceil((S.x+T)/w)+1,W=Math.floor((S.y-T)/w)-1,q=Math.ceil((S.y+T)/w)+1;if(k<0||q<0||j>x.length||W>x[0].length)return;j<0&&(j=0),k<0&&(k=0),W<0&&(W=0),q<0&&(q=0),j>=x.length&&(j=x.length-1),k>=x.length&&(k=x.length-1),q>=x[0].length&&(q=x[0].length-1),W>=x[0].length&&(W=x[0].length-1);const Z=[];n.getRectMinMax(j,W,k,q,Z);const Y=Z[0],he=Z[1];if(S.z-T>he||S.z+T<Y)return;const ae=this.result;for(let ve=j;ve<k;ve++)for(let re=W;re<q;re++){const se=ae.length;let oe=!1;if(n.getConvexTrianglePillar(ve,re,!1),Sn.pointToWorldFrame(o,h,n.pillarOffset,M),r.distanceTo(M)<n.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(oe=this.sphereConvex(e,n.pillarConvex,r,M,l,h,d,p,e,n,y)),y&&oe||(n.getConvexTrianglePillar(ve,re,!0),Sn.pointToWorldFrame(o,h,n.pillarOffset,M),r.distanceTo(M)<n.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(oe=this.sphereConvex(e,n.pillarConvex,r,M,l,h,d,p,e,n,y)),y&&oe))return!0;if(ae.length-se>2)return}}boxHeightfield(e,n,r,o,l,h,d,p,g,v,y){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexHeightfield(e.convexPolyhedronRepresentation,n,r,o,l,h,d,p,e,n,y)}convexHeightfield(e,n,r,o,l,h,d,p,g,v,y){const x=n.data,T=n.elementSize,w=e.boundingSphereRadius,M=Xae,S=zae,j=kae;Sn.pointToLocalFrame(o,h,r,j);let k=Math.floor((j.x-w)/T)-1,W=Math.ceil((j.x+w)/T)+1,q=Math.floor((j.y-w)/T)-1,Z=Math.ceil((j.y+w)/T)+1;if(W<0||Z<0||k>x.length||q>x[0].length)return;k<0&&(k=0),W<0&&(W=0),q<0&&(q=0),Z<0&&(Z=0),k>=x.length&&(k=x.length-1),W>=x.length&&(W=x.length-1),Z>=x[0].length&&(Z=x[0].length-1),q>=x[0].length&&(q=x[0].length-1);const Y=[];n.getRectMinMax(k,q,W,Z,Y);const he=Y[0],ae=Y[1];if(!(j.z-w>ae||j.z+w<he))for(let ve=k;ve<W;ve++)for(let re=q;re<Z;re++){let se=!1;if(n.getConvexTrianglePillar(ve,re,!1),Sn.pointToWorldFrame(o,h,n.pillarOffset,M),r.distanceTo(M)<n.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(se=this.convexConvex(e,n.pillarConvex,r,M,l,h,d,p,null,null,y,S,null)),y&&se||(n.getConvexTrianglePillar(ve,re,!0),Sn.pointToWorldFrame(o,h,n.pillarOffset,M),r.distanceTo(M)<n.pillarConvex.boundingSphereRadius+e.boundingSphereRadius&&(se=this.convexConvex(e,n.pillarConvex,r,M,l,h,d,p,null,null,y,S,null)),y&&se))return!0}}sphereParticle(e,n,r,o,l,h,d,p,g,v,y){const x=Lae;if(x.set(0,0,1),o.vsub(r,x),x.lengthSquared()<=e.radius*e.radius){if(y)return!0;const w=this.createContactEquation(p,d,n,e,g,v);x.normalize(),w.rj.copy(x),w.rj.scale(e.radius,w.rj),w.ni.copy(x),w.ni.negate(w.ni),w.ri.set(0,0,0),this.result.push(w),this.createFrictionEquationsFromContact(w,this.frictionResult)}}planeParticle(e,n,r,o,l,h,d,p,g,v,y){const x=Pae;x.set(0,0,1),d.quaternion.vmult(x,x);const T=Bae;if(o.vsub(d.position,T),x.dot(T)<=0){if(y)return!0;const M=this.createContactEquation(p,d,n,e,g,v);M.ni.copy(x),M.ni.negate(M.ni),M.ri.set(0,0,0);const S=Oae;x.scale(x.dot(o),S),o.vsub(S,S),M.rj.copy(S),this.result.push(M),this.createFrictionEquationsFromContact(M,this.frictionResult)}}boxParticle(e,n,r,o,l,h,d,p,g,v,y){return e.convexPolyhedronRepresentation.material=e.material,e.convexPolyhedronRepresentation.collisionResponse=e.collisionResponse,this.convexParticle(e.convexPolyhedronRepresentation,n,r,o,l,h,d,p,e,n,y)}convexParticle(e,n,r,o,l,h,d,p,g,v,y){let x=-1;const T=Dae,w=Fae;let M=null;const S=jae;if(S.copy(o),S.vsub(r,S),l.conjugate(T3),T3.vmult(S,S),e.pointIsInside(S)){e.worldVerticesNeedsUpdate&&e.computeWorldVertices(r,l),e.worldFaceNormalsNeedsUpdate&&e.computeWorldFaceNormals(l);for(let j=0,k=e.faces.length;j!==k;j++){const W=[e.worldVertices[e.faces[j][0]]],q=e.worldFaceNormals[j];o.vsub(W[0],w3);const Z=-q.dot(w3);if(M===null||Math.abs(Z)<Math.abs(M)){if(y)return!0;M=Z,x=j,T.copy(q)}}if(x!==-1){const j=this.createContactEquation(p,d,n,e,g,v);T.scale(M,w),w.vadd(o,w),w.vsub(r,w),j.rj.copy(w),T.negate(j.ni),j.ri.set(0,0,0);const k=j.ri,W=j.rj;k.vadd(o,k),k.vsub(p.position,k),W.vadd(r,W),W.vsub(d.position,W),this.result.push(j),this.createFrictionEquationsFromContact(j,this.frictionResult)}else console.warn("Point found inside convex, but did not find penetrating face!")}}heightfieldCylinder(e,n,r,o,l,h,d,p,g,v,y){return this.convexHeightfield(n,e,o,r,h,l,p,d,g,v,y)}particleCylinder(e,n,r,o,l,h,d,p,g,v,y){return this.convexParticle(n,e,o,r,h,l,p,d,g,v,y)}sphereTrimesh(e,n,r,o,l,h,d,p,g,v,y){const x=$oe,T=qoe,w=Yoe,M=Koe,S=Zoe,j=Joe,k=nae,W=Hoe,q=Woe,Z=rae;Sn.pointToLocalFrame(o,h,r,S);const Y=e.radius;k.lowerBound.set(S.x-Y,S.y-Y,S.z-Y),k.upperBound.set(S.x+Y,S.y+Y,S.z+Y),n.getTrianglesInAABB(k,Z);const he=Voe,ae=e.radius*e.radius;for(let Q=0;Q<Z.length;Q++)for(let pe=0;pe<3;pe++)if(n.getVertex(n.indices[Z[Q]*3+pe],he),he.vsub(S,q),q.lengthSquared()<=ae){if(W.copy(he),Sn.pointToWorldFrame(o,h,W,he),he.vsub(r,q),y)return!0;let be=this.createContactEquation(d,p,e,n,g,v);be.ni.copy(q),be.ni.normalize(),be.ri.copy(be.ni),be.ri.scale(e.radius,be.ri),be.ri.vadd(r,be.ri),be.ri.vsub(d.position,be.ri),be.rj.copy(he),be.rj.vsub(p.position,be.rj),this.result.push(be),this.createFrictionEquationsFromContact(be,this.frictionResult)}for(let Q=0;Q<Z.length;Q++)for(let pe=0;pe<3;pe++){n.getVertex(n.indices[Z[Q]*3+pe],x),n.getVertex(n.indices[Z[Q]*3+(pe+1)%3],T),T.vsub(x,w),S.vsub(T,j);const be=j.dot(w);S.vsub(x,j);let fe=j.dot(w);if(fe>0&&be<0&&(S.vsub(x,j),M.copy(w),M.normalize(),fe=j.dot(M),M.scale(fe,j),j.vadd(x,j),j.distanceTo(S)<e.radius)){if(y)return!0;const De=this.createContactEquation(d,p,e,n,g,v);j.vsub(S,De.ni),De.ni.normalize(),De.ni.scale(e.radius,De.ri),De.ri.vadd(r,De.ri),De.ri.vsub(d.position,De.ri),Sn.pointToWorldFrame(o,h,j,j),j.vsub(p.position,De.rj),Sn.vectorToWorldFrame(h,De.ni,De.ni),Sn.vectorToWorldFrame(h,De.ri,De.ri),this.result.push(De),this.createFrictionEquationsFromContact(De,this.frictionResult)}}const ve=Qoe,re=eae,se=tae,oe=Goe;for(let Q=0,pe=Z.length;Q!==pe;Q++){n.getTriangleVertices(Z[Q],ve,re,se),n.getNormal(Z[Q],oe),S.vsub(ve,j);let be=j.dot(oe);if(oe.scale(be,j),S.vsub(j,j),be=j.distanceTo(S),Bo.pointInTriangle(j,ve,re,se)&&be<e.radius){if(y)return!0;let fe=this.createContactEquation(d,p,e,n,g,v);j.vsub(S,fe.ni),fe.ni.normalize(),fe.ni.scale(e.radius,fe.ri),fe.ri.vadd(r,fe.ri),fe.ri.vsub(d.position,fe.ri),Sn.pointToWorldFrame(o,h,j,j),j.vsub(p.position,fe.rj),Sn.vectorToWorldFrame(h,fe.ni,fe.ni),Sn.vectorToWorldFrame(h,fe.ri,fe.ri),this.result.push(fe),this.createFrictionEquationsFromContact(fe,this.frictionResult)}}Z.length=0}planeTrimesh(e,n,r,o,l,h,d,p,g,v,y){const x=new z,T=Xoe;T.set(0,0,1),l.vmult(T,T);for(let w=0;w<n.vertices.length/3;w++){n.getVertex(w,x);const M=new z;M.copy(x),Sn.pointToWorldFrame(o,h,M,x);const S=zoe;if(x.vsub(r,S),T.dot(S)<=0){if(y)return!0;const k=this.createContactEquation(d,p,e,n,g,v);k.ni.copy(T);const W=Uoe;T.scale(S.dot(T),W),x.vsub(W,W),k.ri.copy(W),k.ri.vsub(d.position,k.ri),k.rj.copy(x),k.rj.vsub(p.position,k.rj),this.result.push(k),this.createFrictionEquationsFromContact(k,this.frictionResult)}}}}const wc=new z,Gh=new z,Wh=new z,joe=new z,Doe=new z,Foe=new Vr,koe=new Vr,Xoe=new z,zoe=new z,Uoe=new z,Goe=new z,Woe=new z;new z;const Voe=new z,Hoe=new z,$oe=new z,qoe=new z,Yoe=new z,Koe=new z,Zoe=new z,Joe=new z,Qoe=new z,eae=new z,tae=new z,nae=new rr,rae=[],$1=new z,_3=new z,iae=new z,oae=new z,aae=new z;function sae(a,e,n){let r=null;const o=a.length;for(let l=0;l!==o;l++){const h=a[l],d=iae;a[(l+1)%o].vsub(h,d);const p=oae;d.cross(e,p);const g=aae;n.vsub(h,g);const v=p.dot(g);if(r===null||v>0&&r===!0||v<=0&&r===!1){r===null&&(r=v>0);continue}else return!1}return!0}const q1=new z,lae=new z,cae=new z,hae=new z,uae=[new z,new z,new z,new z,new z,new z],dae=new z,mae=new z,pae=new z,fae=new z,gae=new z,bae=new z,vae=new z,yae=new z,xae=new z,Cae=new z,_ae=new z,Tae=new z,wae=new z,Nae=new z;new z;new z;const Mae=new z,Sae=new z,Aae=new z,Eae=new z,Iae=new z,Rae=new z,Pae=new z,Bae=new z,Oae=new z,Lae=new z,T3=new Vr,jae=new z;new z;const Dae=new z,w3=new z,Fae=new z,kae=new z,Xae=new z,zae=[0],Uae=new z,Gae=new z;class N3{constructor(){this.current=[],this.previous=[]}getKey(e,n){if(n<e){const r=n;n=e,e=r}return e<<16|n}set(e,n){const r=this.getKey(e,n),o=this.current;let l=0;for(;r>o[l];)l++;if(r!==o[l]){for(let h=o.length-1;h>=l;h--)o[h+1]=o[h];o[l]=r}}tick(){const e=this.current;this.current=this.previous,this.previous=e,this.current.length=0}getDiff(e,n){const r=this.current,o=this.previous,l=r.length,h=o.length;let d=0;for(let p=0;p<l;p++){let g=!1;const v=r[p];for(;v>o[d];)d++;g=v===o[d],g||M3(e,v)}d=0;for(let p=0;p<h;p++){let g=!1;const v=o[p];for(;v>r[d];)d++;g=r[d]===v,g||M3(n,v)}}}function M3(a,e){a.push((e&4294901760)>>16,e&65535)}const Ey=(a,e)=>a<e?`${a}-${e}`:`${e}-${a}`;class Wae{constructor(){this.data={keys:[]}}get(e,n){const r=Ey(e,n);return this.data[r]}set(e,n,r){const o=Ey(e,n);this.get(e,n)||this.data.keys.push(o),this.data[o]=r}delete(e,n){const r=Ey(e,n),o=this.data.keys.indexOf(r);o!==-1&&this.data.keys.splice(o,1),delete this.data[r]}reset(){const e=this.data,n=e.keys;for(;n.length>0;){const r=n.pop();delete e[r]}}}class Vae extends uC{constructor(e){e===void 0&&(e={}),super(),this.dt=-1,this.allowSleep=!!e.allowSleep,this.contacts=[],this.frictionEquations=[],this.quatNormalizeSkip=e.quatNormalizeSkip!==void 0?e.quatNormalizeSkip:0,this.quatNormalizeFast=e.quatNormalizeFast!==void 0?e.quatNormalizeFast:!1,this.time=0,this.stepnumber=0,this.default_dt=1/60,this.nextId=0,this.gravity=new z,e.gravity&&this.gravity.copy(e.gravity),e.frictionGravity&&(this.frictionGravity=new z,this.frictionGravity.copy(e.frictionGravity)),this.broadphase=e.broadphase!==void 0?e.broadphase:new fI,this.bodies=[],this.hasActiveBodies=!1,this.solver=e.solver!==void 0?e.solver:new AI,this.constraints=[],this.narrowphase=new PI(this),this.collisionMatrix=new zx,this.collisionMatrixPrevious=new zx,this.bodyOverlapKeeper=new N3,this.shapeOverlapKeeper=new N3,this.contactmaterials=[],this.contactMaterialTable=new Wae,this.defaultMaterial=new dC("default"),this.defaultContactMaterial=new Tp(this.defaultMaterial,this.defaultMaterial,{friction:.3,restitution:0}),this.doProfiling=!1,this.profile={solve:0,makeContactConstraints:0,broadphase:0,integrate:0,narrowphase:0},this.accumulator=0,this.subsystems=[],this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.idToBodyMap={},this.broadphase.setWorld(this)}getContactMaterial(e,n){return this.contactMaterialTable.get(e.id,n.id)}collisionMatrixTick(){const e=this.collisionMatrixPrevious;this.collisionMatrixPrevious=this.collisionMatrix,this.collisionMatrix=e,this.collisionMatrix.reset(),this.bodyOverlapKeeper.tick(),this.shapeOverlapKeeper.tick()}addConstraint(e){this.constraints.push(e)}removeConstraint(e){const n=this.constraints.indexOf(e);n!==-1&&this.constraints.splice(n,1)}rayTest(e,n,r){r instanceof Ru?this.raycastClosest(e,n,{skipBackfaces:!0},r):this.raycastAll(e,n,{skipBackfaces:!0},r)}raycastAll(e,n,r,o){return r===void 0&&(r={}),r.mode=Bo.ALL,r.from=e,r.to=n,r.callback=o,Iy.intersectWorld(this,r)}raycastAny(e,n,r,o){return r===void 0&&(r={}),r.mode=Bo.ANY,r.from=e,r.to=n,r.result=o,Iy.intersectWorld(this,r)}raycastClosest(e,n,r,o){return r===void 0&&(r={}),r.mode=Bo.CLOSEST,r.from=e,r.to=n,r.result=o,Iy.intersectWorld(this,r)}addBody(e){this.bodies.includes(e)||(e.index=this.bodies.length,this.bodies.push(e),e.world=this,e.initPosition.copy(e.position),e.initVelocity.copy(e.velocity),e.timeLastSleepy=this.time,e instanceof At&&(e.initAngularVelocity.copy(e.angularVelocity),e.initQuaternion.copy(e.quaternion)),this.collisionMatrix.setNumObjects(this.bodies.length),this.addBodyEvent.body=e,this.idToBodyMap[e.id]=e,this.dispatchEvent(this.addBodyEvent))}removeBody(e){e.world=null;const n=this.bodies.length-1,r=this.bodies,o=r.indexOf(e);if(o!==-1){r.splice(o,1);for(let l=0;l!==r.length;l++)r[l].index=l;this.collisionMatrix.setNumObjects(n),this.removeBodyEvent.body=e,delete this.idToBodyMap[e.id],this.dispatchEvent(this.removeBodyEvent)}}getBodyById(e){return this.idToBodyMap[e]}getShapeById(e){const n=this.bodies;for(let r=0;r<n.length;r++){const o=n[r].shapes;for(let l=0;l<o.length;l++){const h=o[l];if(h.id===e)return h}}return null}addContactMaterial(e){this.contactmaterials.push(e),this.contactMaterialTable.set(e.materials[0].id,e.materials[1].id,e)}removeContactMaterial(e){const n=this.contactmaterials.indexOf(e);n!==-1&&(this.contactmaterials.splice(n,1),this.contactMaterialTable.delete(e.materials[0].id,e.materials[1].id))}fixedStep(e,n){e===void 0&&(e=1/60),n===void 0&&(n=10);const r=Br.now()/1e3;if(!this.lastCallTime)this.step(e,void 0,n);else{const o=r-this.lastCallTime;this.step(e,o,n)}this.lastCallTime=r}step(e,n,r){if(r===void 0&&(r=10),n===void 0)this.internalStep(e),this.time+=e;else{this.accumulator+=n;const o=Br.now();let l=0;for(;this.accumulator>=e&&l<r&&(this.internalStep(e),this.accumulator-=e,l++,!(Br.now()-o>e*1e3)););this.accumulator=this.accumulator%e;const h=this.accumulator/e;for(let d=0;d!==this.bodies.length;d++){const p=this.bodies[d];p.previousPosition.lerp(p.position,h,p.interpolatedPosition),p.previousQuaternion.slerp(p.quaternion,h,p.interpolatedQuaternion),p.previousQuaternion.normalize()}this.time+=n}}internalStep(e){this.dt=e;const n=this.contacts,r=Kae,o=Zae,l=this.bodies.length,h=this.bodies,d=this.solver,p=this.gravity,g=this.doProfiling,v=this.profile,y=At.DYNAMIC;let x=-1/0;const T=this.constraints,w=Yae;p.length();const M=p.x,S=p.y,j=p.z;let k=0;for(g&&(x=Br.now()),k=0;k!==l;k++){const Q=h[k];if(Q.type===y){const pe=Q.force,be=Q.mass;pe.x+=be*M,pe.y+=be*S,pe.z+=be*j}}for(let Q=0,pe=this.subsystems.length;Q!==pe;Q++)this.subsystems[Q].update();g&&(x=Br.now()),r.length=0,o.length=0,this.broadphase.collisionPairs(this,r,o),g&&(v.broadphase=Br.now()-x);let W=T.length;for(k=0;k!==W;k++){const Q=T[k];if(!Q.collideConnected)for(let pe=r.length-1;pe>=0;pe-=1)(Q.bodyA===r[pe]&&Q.bodyB===o[pe]||Q.bodyB===r[pe]&&Q.bodyA===o[pe])&&(r.splice(pe,1),o.splice(pe,1))}this.collisionMatrixTick(),g&&(x=Br.now());const q=qae,Z=n.length;for(k=0;k!==Z;k++)q.push(n[k]);n.length=0;const Y=this.frictionEquations.length;for(k=0;k!==Y;k++)w.push(this.frictionEquations[k]);for(this.frictionEquations.length=0,this.narrowphase.getContacts(r,o,this,n,q,this.frictionEquations,w),g&&(v.narrowphase=Br.now()-x),g&&(x=Br.now()),k=0;k<this.frictionEquations.length;k++)d.addEquation(this.frictionEquations[k]);const he=n.length;for(let Q=0;Q!==he;Q++){const pe=n[Q],be=pe.bi,fe=pe.bj,de=pe.si,De=pe.sj;let Be;if(be.material&&fe.material?Be=this.getContactMaterial(be.material,fe.material)||this.defaultContactMaterial:Be=this.defaultContactMaterial,Be.friction,be.material&&fe.material&&(be.material.friction>=0&&fe.material.friction>=0&&be.material.friction*fe.material.friction,be.material.restitution>=0&&fe.material.restitution>=0&&(pe.restitution=be.material.restitution*fe.material.restitution)),d.addEquation(pe),be.allowSleep&&be.type===At.DYNAMIC&&be.sleepState===At.SLEEPING&&fe.sleepState===At.AWAKE&&fe.type!==At.STATIC){const _e=fe.velocity.lengthSquared()+fe.angularVelocity.lengthSquared(),ke=fe.sleepSpeedLimit**2;_e>=ke*2&&(be.wakeUpAfterNarrowphase=!0)}if(fe.allowSleep&&fe.type===At.DYNAMIC&&fe.sleepState===At.SLEEPING&&be.sleepState===At.AWAKE&&be.type!==At.STATIC){const _e=be.velocity.lengthSquared()+be.angularVelocity.lengthSquared(),ke=be.sleepSpeedLimit**2;_e>=ke*2&&(fe.wakeUpAfterNarrowphase=!0)}this.collisionMatrix.set(be,fe,!0),this.collisionMatrixPrevious.get(be,fe)||(Om.body=fe,Om.contact=pe,be.dispatchEvent(Om),Om.body=be,fe.dispatchEvent(Om)),this.bodyOverlapKeeper.set(be.id,fe.id),this.shapeOverlapKeeper.set(de.id,De.id)}for(this.emitContactEvents(),g&&(v.makeContactConstraints=Br.now()-x,x=Br.now()),k=0;k!==l;k++){const Q=h[k];Q.wakeUpAfterNarrowphase&&(Q.wakeUp(),Q.wakeUpAfterNarrowphase=!1)}for(W=T.length,k=0;k!==W;k++){const Q=T[k];Q.update();for(let pe=0,be=Q.equations.length;pe!==be;pe++){const fe=Q.equations[pe];d.addEquation(fe)}}d.solve(e,this),g&&(v.solve=Br.now()-x),d.removeAllEquations();const ae=Math.pow;for(k=0;k!==l;k++){const Q=h[k];if(Q.type&y){const pe=ae(1-Q.linearDamping,e),be=Q.velocity;be.scale(pe,be);const fe=Q.angularVelocity;if(fe){const de=ae(1-Q.angularDamping,e);fe.scale(de,fe)}}}this.dispatchEvent($ae),g&&(x=Br.now());const re=this.stepnumber%(this.quatNormalizeSkip+1)===0,se=this.quatNormalizeFast;for(k=0;k!==l;k++)h[k].integrate(e,re,se);this.clearForces(),this.broadphase.dirty=!0,g&&(v.integrate=Br.now()-x),this.stepnumber+=1,this.dispatchEvent(Hae);let oe=!0;if(this.allowSleep)for(oe=!1,k=0;k!==l;k++){const Q=h[k];Q.sleepTick(this.time),Q.sleepState!==At.SLEEPING&&(oe=!0)}this.hasActiveBodies=oe}emitContactEvents(){const e=this.hasAnyEventListener("beginContact"),n=this.hasAnyEventListener("endContact");if((e||n)&&this.bodyOverlapKeeper.getDiff(Ha,$a),e){for(let l=0,h=Ha.length;l<h;l+=2)Lm.bodyA=this.getBodyById(Ha[l]),Lm.bodyB=this.getBodyById(Ha[l+1]),this.dispatchEvent(Lm);Lm.bodyA=Lm.bodyB=null}if(n){for(let l=0,h=$a.length;l<h;l+=2)jm.bodyA=this.getBodyById($a[l]),jm.bodyB=this.getBodyById($a[l+1]),this.dispatchEvent(jm);jm.bodyA=jm.bodyB=null}Ha.length=$a.length=0;const r=this.hasAnyEventListener("beginShapeContact"),o=this.hasAnyEventListener("endShapeContact");if((r||o)&&this.shapeOverlapKeeper.getDiff(Ha,$a),r){for(let l=0,h=Ha.length;l<h;l+=2){const d=this.getShapeById(Ha[l]),p=this.getShapeById(Ha[l+1]);qa.shapeA=d,qa.shapeB=p,d&&(qa.bodyA=d.body),p&&(qa.bodyB=p.body),this.dispatchEvent(qa)}qa.bodyA=qa.bodyB=qa.shapeA=qa.shapeB=null}if(o){for(let l=0,h=$a.length;l<h;l+=2){const d=this.getShapeById($a[l]),p=this.getShapeById($a[l+1]);Ya.shapeA=d,Ya.shapeB=p,d&&(Ya.bodyA=d.body),p&&(Ya.bodyB=p.body),this.dispatchEvent(Ya)}Ya.bodyA=Ya.bodyB=Ya.shapeA=Ya.shapeB=null}}clearForces(){const e=this.bodies,n=e.length;for(let r=0;r!==n;r++){const o=e[r];o.force,o.torque,o.force.set(0,0,0),o.torque.set(0,0,0)}}}new rr;const Iy=new Bo,Br=globalThis.performance||{};if(!Br.now){let a=Date.now();Br.timing&&Br.timing.navigationStart&&(a=Br.timing.navigationStart),Br.now=()=>Date.now()-a}new z;const Hae={type:"postStep"},$ae={type:"preStep"},Om={type:At.COLLIDE_EVENT_NAME,body:null,contact:null},qae=[],Yae=[],Kae=[],Zae=[],Ha=[],$a=[],Lm={type:"beginContact",bodyA:null,bodyB:null},jm={type:"endContact",bodyA:null,bodyB:null},qa={type:"beginShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},Ya={type:"endShapeContact",bodyA:null,bodyB:null,shapeA:null,shapeB:null},Jae=Object.freeze(Object.defineProperty({__proto__:null,AABB:rr,ArrayCollisionMatrix:zx,BODY_SLEEP_STATES:v0,BODY_TYPES:b0,Body:At,Box:_p,Broadphase:y0,COLLISION_TYPES:Kn,ConeTwistConstraint:aie,Constraint:$u,ContactEquation:Su,ContactMaterial:Tp,ConvexPolyhedron:ns,Cylinder:ooe,DistanceConstraint:sie,Equation:hs,EventTarget:uC,FrictionEquation:Gx,GSSolver:AI,GridBroadphase:Mre,Heightfield:loe,HingeConstraint:wI,JacobianElement:Ux,LockConstraint:lie,Mat3:Qi,Material:dC,NaiveBroadphase:fI,Narrowphase:PI,ObjectCollisionMatrix:Qne,Particle:aoe,Plane:soe,PointToPointConstraint:_0,Pool:II,Quaternion:Vr,RAY_MODES:x0,Ray:Bo,RaycastResult:Ru,RaycastVehicle:Sie,RigidVehicle:Kie,RotationalEquation:Dc,RotationalMotorEquation:TI,SAPBroadphase:Mu,SHAPE_TYPES:pI,SPHSystem:Zie,Shape:st,Solver:mC,Sphere:SI,SplitSolver:Aoe,Spring:fie,Transform:Sn,Trimesh:Wg,Vec3:z,Vec3Pool:RI,WheelInfo:MI,World:Vae},Symbol.toStringTag,{value:"Module"})),BI=P.getAugmentedNamespace(Jae);var S3;function Qae(){return S3||(S3=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(yl()),o=e(vl()),l=e(ua()),h=p(BI);function d(g){if(typeof WeakMap!="function")return null;var v=new WeakMap,y=new WeakMap;return(d=function(T){return T?y:v})(g)}function p(g,v){if(g&&g.__esModule)return g;if(g===null||n(g)!="object"&&typeof g!="function")return{default:g};var y=d(v);if(y&&y.has(g))return y.get(g);var x={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in g)if(w!=="default"&&{}.hasOwnProperty.call(g,w)){var M=T?Object.getOwnPropertyDescriptor(g,w):null;M&&(M.get||M.set)?Object.defineProperty(x,w,M):x[w]=g[w]}return x.default=g,y&&y.set(g,x),x}a.default=(0,r.default)(function g(){(0,o.default)(this,g),(0,l.default)(this,"material",void 0),(0,l.default)(this,"Impact",void 0),(0,l.default)(this,"Static",void 0),this.Impact=new h.Material("Impact"),this.Static=new h.Material("Static"),this.material=new h.ContactMaterial(this.Impact,this.Static,{friction:.1,restitution:.1})})}(wy)),wy}var Ry={},A3;function ese(){return A3||(A3=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(yl()),o=e(vl()),l=e(ua()),h=p(BI);function d(g){if(typeof WeakMap!="function")return null;var v=new WeakMap,y=new WeakMap;return(d=function(T){return T?y:v})(g)}function p(g,v){if(g&&g.__esModule)return g;if(g===null||n(g)!="object"&&typeof g!="function")return{default:g};var y=d(v);if(y&&y.has(g))return y.get(g);var x={__proto__:null},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var w in g)if(w!=="default"&&{}.hasOwnProperty.call(g,w)){var M=T?Object.getOwnPropertyDescriptor(g,w):null;M&&(M.get||M.set)?Object.defineProperty(x,w,M):x[w]=g[w]}return x.default=g,y&&y.set(g,x),x}a.default=(0,r.default)(function g(){(0,o.default)(this,g),(0,l.default)(this,"world",void 0),this.world=new h.World({gravity:new h.Vec3(0,-9.82*2,0)})})}(Ry)),Ry}var Py={},E3;function tse(){return E3||(E3=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(yl()),o=e(vl()),l=e(ua()),h=g(cs()),d=xl();function p(w){if(typeof WeakMap!="function")return null;var M=new WeakMap,S=new WeakMap;return(p=function(k){return k?S:M})(w)}function g(w,M){if(w&&w.__esModule)return w;if(w===null||n(w)!="object"&&typeof w!="function")return{default:w};var S=p(M);if(S&&S.has(w))return S.get(w);var j={__proto__:null},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var W in w)if(W!=="default"&&{}.hasOwnProperty.call(w,W)){var q=k?Object.getOwnPropertyDescriptor(w,W):null;q&&(q.get||q.set)?Object.defineProperty(j,W,q):j[W]=w[W]}return j.default=w,S&&S.set(w,j),j}function v(w,M){var S=Object.keys(w);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(w);M&&(j=j.filter(function(k){return Object.getOwnPropertyDescriptor(w,k).enumerable})),S.push.apply(S,j)}return S}function y(w){for(var M=1;M<arguments.length;M++){var S=arguments[M]!=null?arguments[M]:{};M%2?v(Object(S),!0).forEach(function(j){(0,l.default)(w,j,S[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(S)):v(Object(S)).forEach(function(j){Object.defineProperty(w,j,Object.getOwnPropertyDescriptor(S,j))})}return w}var x=window,T=x.devicePixelRatio;a.default=(0,r.default)(function w(M){var S=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,k=arguments.length>2?arguments[2]:void 0;(0,o.default)(this,w),(0,l.default)(this,"dom",void 0),(0,l.default)(this,"options",void 0),(0,l.default)(this,"renderer",void 0),(0,l.default)(this,"camera",void 0),(0,l.default)(this,"update",void 0),(0,l.default)(this,"addListeners",void 0),(0,l.default)(this,"removeListeners",void 0),(0,l.default)(this,"updateDom",void 0),this.options=y(y({},d.renderer),M);var W=this.options,q=W.alpha,Z=W.shadowType,Y=W.exposure,he=W.outputEncoding,ae=W.preserveDrawingBuffer,ve=new h.WebGLRenderer({alpha:q,preserveDrawingBuffer:ae,antialias:!0});ve.setPixelRatio(T),ve.toneMapping=h.ACESFilmicToneMapping,ve.shadowMap.enabled=!0,ve.shadowMap.type=Z,ve.toneMappingExposure=Y,ve.outputColorSpace=he,ve.setClearColor(this.options.background.color,this.options.background.alpha),this.dom=j,this.camera=k,this.update=function(){var re=window,se=re.innerWidth,oe=re.innerHeight,Q=S.dom instanceof HTMLElement?S.dom.clientWidth:se,pe=S.dom instanceof HTMLElement?S.dom.clientHeight:oe;S.camera instanceof h.PerspectiveCamera?S.camera.aspect=Q/pe:(S.camera.left=Q/-2,S.camera.right=Q/2,S.camera.top=pe/2,S.camera.bottom=pe/-2),S.camera.updateProjectionMatrix(),ve.setSize(Q,pe)},this.updateDom=function(re){S.dom=re},this.addListeners=function(){S.update(),window.addEventListener("resize",S.update)},this.removeListeners=function(){window.removeEventListener("resize",S.update)},this.renderer=ve})}(Py)),Py}var By={};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const OI="164",Vg=0,pC=1,nse=2,I3=1,R3=100,P3=204,B3=205,O3=3,rse=0,L3="attached",ise="detached",LI=300,op=1e3,Km=1001,Wx=1002,ap=1003,ose=1004,ase=1005,fC=1006,sse=1007,gC=1008,lse=1009,cse=1014,bC=1015,hse=1020,jI=1023,Oy=1026,j3=1027,use=1028,sp=2300,Pu=2301,Ly=2302,D3=2400,F3=2401,k3=2402,dse=2500,mse=0,DI=1,Vx=2,pse=0,FI="",pi="srgb",ki="srgb-linear",fse="display-p3",kI="display-p3-linear",Hx="linear",X3="srgb",z3="rec709",U3="p3",Vh=7680,G3=519,gse=515,$x=35044,Oc=2e3,qx=2001;class T0{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const l=o.indexOf(n);l!==-1&&o.splice(l,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let l=0,h=o.length;l<h;l++)o[l].call(this,e);e.target=null}}}const ei=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let W3=1234567;const Jm=Math.PI/180,lp=180/Math.PI;function Oo(){const a=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ei[a&255]+ei[a>>8&255]+ei[a>>16&255]+ei[a>>24&255]+"-"+ei[e&255]+ei[e>>8&255]+"-"+ei[e>>16&15|64]+ei[e>>24&255]+"-"+ei[n&63|128]+ei[n>>8&255]+"-"+ei[n>>16&255]+ei[n>>24&255]+ei[r&255]+ei[r>>8&255]+ei[r>>16&255]+ei[r>>24&255]).toLowerCase()}function ni(a,e,n){return Math.max(e,Math.min(n,a))}function vC(a,e){return(a%e+e)%e}function bse(a,e,n,r,o){return r+(a-e)*(o-r)/(n-e)}function vse(a,e,n){return a!==e?(n-a)/(e-a):0}function Qm(a,e,n){return(1-n)*a+n*e}function yse(a,e,n,r){return Qm(a,e,1-Math.exp(-n*r))}function xse(a,e=1){return e-Math.abs(vC(a,e*2)-e)}function Cse(a,e,n){return a<=e?0:a>=n?1:(a=(a-e)/(n-e),a*a*(3-2*a))}function _se(a,e,n){return a<=e?0:a>=n?1:(a=(a-e)/(n-e),a*a*a*(a*(a*6-15)+10))}function Tse(a,e){return a+Math.floor(Math.random()*(e-a+1))}function wse(a,e){return a+Math.random()*(e-a)}function Nse(a){return a*(.5-Math.random())}function Mse(a){a!==void 0&&(W3=a);let e=W3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Sse(a){return a*Jm}function Ase(a){return a*lp}function Ese(a){return(a&a-1)===0&&a!==0}function Ise(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function Rse(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}function Pse(a,e,n,r,o){const l=Math.cos,h=Math.sin,d=l(n/2),p=h(n/2),g=l((e+r)/2),v=h((e+r)/2),y=l((e-r)/2),x=h((e-r)/2),T=l((r-e)/2),w=h((r-e)/2);switch(o){case"XYX":a.set(d*v,p*y,p*x,d*g);break;case"YZY":a.set(p*x,d*v,p*y,d*g);break;case"ZXZ":a.set(p*y,p*x,d*v,d*g);break;case"XZX":a.set(d*v,p*w,p*T,d*g);break;case"YXY":a.set(p*T,d*v,p*w,d*g);break;case"ZYZ":a.set(p*w,p*T,d*v,d*g);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function Ro(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return a/4294967295;case Uint16Array:return a/65535;case Uint8Array:return a/255;case Int32Array:return Math.max(a/2147483647,-1);case Int16Array:return Math.max(a/32767,-1);case Int8Array:return Math.max(a/127,-1);default:throw new Error("Invalid component type.")}}function Wn(a,e){switch(e.constructor){case Float32Array:return a;case Uint32Array:return Math.round(a*4294967295);case Uint16Array:return Math.round(a*65535);case Uint8Array:return Math.round(a*255);case Int32Array:return Math.round(a*2147483647);case Int16Array:return Math.round(a*32767);case Int8Array:return Math.round(a*127);default:throw new Error("Invalid component type.")}}const Bse={DEG2RAD:Jm,RAD2DEG:lp,generateUUID:Oo,clamp:ni,euclideanModulo:vC,mapLinear:bse,inverseLerp:vse,lerp:Qm,damp:yse,pingpong:xse,smoothstep:Cse,smootherstep:_se,randInt:Tse,randFloat:wse,randFloatSpread:Nse,seededRandom:Mse,degToRad:Sse,radToDeg:Ase,isPowerOfTwo:Ese,ceilPowerOfTwo:Ise,floorPowerOfTwo:Rse,setQuaternionFromProperEuler:Pse,normalize:Wn,denormalize:Ro};class hr{constructor(e=0,n=0){hr.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6],this.y=o[1]*n+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ni(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),o=Math.sin(n),l=this.x-e.x,h=this.y-e.y;return this.x=l*r-h*o+e.x,this.y=l*o+h*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class us{constructor(e,n,r,o,l,h,d,p,g){us.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,o,l,h,d,p,g)}set(e,n,r,o,l,h,d,p,g){const v=this.elements;return v[0]=e,v[1]=o,v[2]=d,v[3]=n,v[4]=l,v[5]=p,v[6]=r,v[7]=h,v[8]=g,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,l=this.elements,h=r[0],d=r[3],p=r[6],g=r[1],v=r[4],y=r[7],x=r[2],T=r[5],w=r[8],M=o[0],S=o[3],j=o[6],k=o[1],W=o[4],q=o[7],Z=o[2],Y=o[5],he=o[8];return l[0]=h*M+d*k+p*Z,l[3]=h*S+d*W+p*Y,l[6]=h*j+d*q+p*he,l[1]=g*M+v*k+y*Z,l[4]=g*S+v*W+y*Y,l[7]=g*j+v*q+y*he,l[2]=x*M+T*k+w*Z,l[5]=x*S+T*W+w*Y,l[8]=x*j+T*q+w*he,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],h=e[4],d=e[5],p=e[6],g=e[7],v=e[8];return n*h*v-n*d*g-r*l*v+r*d*p+o*l*g-o*h*p}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],h=e[4],d=e[5],p=e[6],g=e[7],v=e[8],y=v*h-d*g,x=d*p-v*l,T=g*l-h*p,w=n*y+r*x+o*T;if(w===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/w;return e[0]=y*M,e[1]=(o*g-v*r)*M,e[2]=(d*r-o*h)*M,e[3]=x*M,e[4]=(v*n-o*p)*M,e[5]=(o*l-d*n)*M,e[6]=T*M,e[7]=(r*p-g*n)*M,e[8]=(h*n-r*l)*M,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,o,l,h,d){const p=Math.cos(l),g=Math.sin(l);return this.set(r*p,r*g,-r*(p*h+g*d)+h+e,-o*g,o*p,-o*(-g*h+p*d)+d+n,0,0,1),this}scale(e,n){return this.premultiply(jy.makeScale(e,n)),this}rotate(e){return this.premultiply(jy.makeRotation(-e)),this}translate(e,n){return this.premultiply(jy.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<9;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const jy=new us;function Ose(a){for(let e=a.length-1;e>=0;--e)if(a[e]>=65535)return!0;return!1}function Yx(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}const V3={};function XI(a){a in V3||(V3[a]=!0,console.warn(a))}const H3=new us().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),$3=new us().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Y1={[ki]:{transfer:Hx,primaries:z3,toReference:a=>a,fromReference:a=>a},[pi]:{transfer:X3,primaries:z3,toReference:a=>a.convertSRGBToLinear(),fromReference:a=>a.convertLinearToSRGB()},[kI]:{transfer:Hx,primaries:U3,toReference:a=>a.applyMatrix3($3),fromReference:a=>a.applyMatrix3(H3)},[fse]:{transfer:X3,primaries:U3,toReference:a=>a.convertSRGBToLinear().applyMatrix3($3),fromReference:a=>a.applyMatrix3(H3).convertLinearToSRGB()}},Lse=new Set([ki,kI]),ji={enabled:!0,_workingColorSpace:ki,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(a){if(!Lse.has(a))throw new Error(`Unsupported working color space, "${a}".`);this._workingColorSpace=a},convert:function(a,e,n){if(this.enabled===!1||e===n||!e||!n)return a;const r=Y1[e].toReference,o=Y1[n].fromReference;return o(r(a))},fromWorkingColorSpace:function(a,e){return this.convert(a,this._workingColorSpace,e)},toWorkingColorSpace:function(a,e){return this.convert(a,e,this._workingColorSpace)},getPrimaries:function(a){return Y1[a].primaries},getTransfer:function(a){return a===FI?Hx:Y1[a].transfer}};function Au(a){return a<.04045?a*.0773993808:Math.pow(a*.9478672986+.0521327014,2.4)}function Dy(a){return a<.0031308?a*12.92:1.055*Math.pow(a,.41666)-.055}let Hh;class jse{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Hh===void 0&&(Hh=Yx("canvas")),Hh.width=e.width,Hh.height=e.height;const r=Hh.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Hh}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Yx("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),l=o.data;for(let h=0;h<l.length;h++)l[h]=Au(l[h]/255)*255;return r.putImageData(o,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Au(n[r]/255)*255):n[r]=Au(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Dse=0;class Fse{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Dse++}),this.uuid=Oo(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let l;if(Array.isArray(o)){l=[];for(let h=0,d=o.length;h<d;h++)o[h].isDataTexture?l.push(Fy(o[h].image)):l.push(Fy(o[h]))}else l=Fy(o);r.url=l}return n||(e.images[this.uuid]=r),r}}function Fy(a){return typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&a instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&a instanceof ImageBitmap?jse.getDataURL(a):a.data?{data:Array.from(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let kse=0;class to extends T0{constructor(e=to.DEFAULT_IMAGE,n=to.DEFAULT_MAPPING,r=Km,o=Km,l=fC,h=gC,d=jI,p=lse,g=to.DEFAULT_ANISOTROPY,v=FI){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kse++}),this.uuid=Oo(),this.name="",this.source=new Fse(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=l,this.minFilter=h,this.anisotropy=g,this.format=d,this.internalFormat=null,this.type=p,this.offset=new hr(0,0),this.repeat=new hr(1,1),this.center=new hr(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new us,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=v,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==LI)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case op:e.x=e.x-Math.floor(e.x);break;case Km:e.x=e.x<0?0:1;break;case Wx:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case op:e.y=e.y-Math.floor(e.y);break;case Km:e.y=e.y<0?0:1;break;case Wx:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}to.DEFAULT_IMAGE=null;to.DEFAULT_MAPPING=LI;to.DEFAULT_ANISOTROPY=1;class Zi{constructor(e=0,n=0,r=0,o=1){Zi.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,o){return this.x=e,this.y=n,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,l=this.w,h=e.elements;return this.x=h[0]*n+h[4]*r+h[8]*o+h[12]*l,this.y=h[1]*n+h[5]*r+h[9]*o+h[13]*l,this.z=h[2]*n+h[6]*r+h[10]*o+h[14]*l,this.w=h[3]*n+h[7]*r+h[11]*o+h[15]*l,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,o,l;const p=e.elements,g=p[0],v=p[4],y=p[8],x=p[1],T=p[5],w=p[9],M=p[2],S=p[6],j=p[10];if(Math.abs(v-x)<.01&&Math.abs(y-M)<.01&&Math.abs(w-S)<.01){if(Math.abs(v+x)<.1&&Math.abs(y+M)<.1&&Math.abs(w+S)<.1&&Math.abs(g+T+j-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const W=(g+1)/2,q=(T+1)/2,Z=(j+1)/2,Y=(v+x)/4,he=(y+M)/4,ae=(w+S)/4;return W>q&&W>Z?W<.01?(r=0,o=.707106781,l=.707106781):(r=Math.sqrt(W),o=Y/r,l=he/r):q>Z?q<.01?(r=.707106781,o=0,l=.707106781):(o=Math.sqrt(q),r=Y/o,l=ae/o):Z<.01?(r=.707106781,o=.707106781,l=0):(l=Math.sqrt(Z),r=he/l,o=ae/l),this.set(r,o,l,n),this}let k=Math.sqrt((S-w)*(S-w)+(y-M)*(y-M)+(x-v)*(x-v));return Math.abs(k)<.001&&(k=1),this.x=(S-w)/k,this.y=(y-M)/k,this.z=(x-v)/k,this.w=Math.acos((g+T+j-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Cl{constructor(e=0,n=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=o}static slerpFlat(e,n,r,o,l,h,d){let p=r[o+0],g=r[o+1],v=r[o+2],y=r[o+3];const x=l[h+0],T=l[h+1],w=l[h+2],M=l[h+3];if(d===0){e[n+0]=p,e[n+1]=g,e[n+2]=v,e[n+3]=y;return}if(d===1){e[n+0]=x,e[n+1]=T,e[n+2]=w,e[n+3]=M;return}if(y!==M||p!==x||g!==T||v!==w){let S=1-d;const j=p*x+g*T+v*w+y*M,k=j>=0?1:-1,W=1-j*j;if(W>Number.EPSILON){const Z=Math.sqrt(W),Y=Math.atan2(Z,j*k);S=Math.sin(S*Y)/Z,d=Math.sin(d*Y)/Z}const q=d*k;if(p=p*S+x*q,g=g*S+T*q,v=v*S+w*q,y=y*S+M*q,S===1-d){const Z=1/Math.sqrt(p*p+g*g+v*v+y*y);p*=Z,g*=Z,v*=Z,y*=Z}}e[n]=p,e[n+1]=g,e[n+2]=v,e[n+3]=y}static multiplyQuaternionsFlat(e,n,r,o,l,h){const d=r[o],p=r[o+1],g=r[o+2],v=r[o+3],y=l[h],x=l[h+1],T=l[h+2],w=l[h+3];return e[n]=d*w+v*y+p*T-g*x,e[n+1]=p*w+v*x+g*y-d*T,e[n+2]=g*w+v*T+d*x-p*y,e[n+3]=v*w-d*y-p*x-g*T,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,o){return this._x=e,this._y=n,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,o=e._y,l=e._z,h=e._order,d=Math.cos,p=Math.sin,g=d(r/2),v=d(o/2),y=d(l/2),x=p(r/2),T=p(o/2),w=p(l/2);switch(h){case"XYZ":this._x=x*v*y+g*T*w,this._y=g*T*y-x*v*w,this._z=g*v*w+x*T*y,this._w=g*v*y-x*T*w;break;case"YXZ":this._x=x*v*y+g*T*w,this._y=g*T*y-x*v*w,this._z=g*v*w-x*T*y,this._w=g*v*y+x*T*w;break;case"ZXY":this._x=x*v*y-g*T*w,this._y=g*T*y+x*v*w,this._z=g*v*w+x*T*y,this._w=g*v*y-x*T*w;break;case"ZYX":this._x=x*v*y-g*T*w,this._y=g*T*y+x*v*w,this._z=g*v*w-x*T*y,this._w=g*v*y+x*T*w;break;case"YZX":this._x=x*v*y+g*T*w,this._y=g*T*y+x*v*w,this._z=g*v*w-x*T*y,this._w=g*v*y-x*T*w;break;case"XZY":this._x=x*v*y-g*T*w,this._y=g*T*y-x*v*w,this._z=g*v*w+x*T*y,this._w=g*v*y+x*T*w;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+h)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],o=n[4],l=n[8],h=n[1],d=n[5],p=n[9],g=n[2],v=n[6],y=n[10],x=r+d+y;if(x>0){const T=.5/Math.sqrt(x+1);this._w=.25/T,this._x=(v-p)*T,this._y=(l-g)*T,this._z=(h-o)*T}else if(r>d&&r>y){const T=2*Math.sqrt(1+r-d-y);this._w=(v-p)/T,this._x=.25*T,this._y=(o+h)/T,this._z=(l+g)/T}else if(d>y){const T=2*Math.sqrt(1+d-r-y);this._w=(l-g)/T,this._x=(o+h)/T,this._y=.25*T,this._z=(p+v)/T}else{const T=2*Math.sqrt(1+y-r-d);this._w=(h-o)/T,this._x=(l+g)/T,this._y=(p+v)/T,this._z=.25*T}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ni(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,n/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,o=e._y,l=e._z,h=e._w,d=n._x,p=n._y,g=n._z,v=n._w;return this._x=r*v+h*d+o*g-l*p,this._y=o*v+h*p+l*d-r*g,this._z=l*v+h*g+r*p-o*d,this._w=h*v-r*d-o*p-l*g,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,o=this._y,l=this._z,h=this._w;let d=h*e._w+r*e._x+o*e._y+l*e._z;if(d<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,d=-d):this.copy(e),d>=1)return this._w=h,this._x=r,this._y=o,this._z=l,this;const p=1-d*d;if(p<=Number.EPSILON){const T=1-n;return this._w=T*h+n*this._w,this._x=T*r+n*this._x,this._y=T*o+n*this._y,this._z=T*l+n*this._z,this.normalize(),this}const g=Math.sqrt(p),v=Math.atan2(g,d),y=Math.sin((1-n)*v)/g,x=Math.sin(n*v)/g;return this._w=h*y+this._w*x,this._x=r*y+this._x*x,this._y=o*y+this._y*x,this._z=l*y+this._z*x,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),o=Math.sqrt(1-r),l=Math.sqrt(r);return this.set(o*Math.sin(e),o*Math.cos(e),l*Math.sin(n),l*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Pe{constructor(e=0,n=0,r=0){Pe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(q3.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(q3.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,o=this.z,l=e.elements;return this.x=l[0]*n+l[3]*r+l[6]*o,this.y=l[1]*n+l[4]*r+l[7]*o,this.z=l[2]*n+l[5]*r+l[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,o=this.z,l=e.elements,h=1/(l[3]*n+l[7]*r+l[11]*o+l[15]);return this.x=(l[0]*n+l[4]*r+l[8]*o+l[12])*h,this.y=(l[1]*n+l[5]*r+l[9]*o+l[13])*h,this.z=(l[2]*n+l[6]*r+l[10]*o+l[14])*h,this}applyQuaternion(e){const n=this.x,r=this.y,o=this.z,l=e.x,h=e.y,d=e.z,p=e.w,g=2*(h*o-d*r),v=2*(d*n-l*o),y=2*(l*r-h*n);return this.x=n+p*g+h*y-d*v,this.y=r+p*v+d*g-l*y,this.z=o+p*y+l*v-h*g,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,o=this.z,l=e.elements;return this.x=l[0]*n+l[4]*r+l[8]*o,this.y=l[1]*n+l[5]*r+l[9]*o,this.z=l[2]*n+l[6]*r+l[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,o=e.y,l=e.z,h=n.x,d=n.y,p=n.z;return this.x=o*p-l*d,this.y=l*h-r*p,this.z=r*d-o*h,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return ky.copy(this).projectOnVector(e),this.sub(ky)}reflect(e){return this.sub(ky.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(ni(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return n*n+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const o=Math.sin(n)*e;return this.x=o*Math.sin(r),this.y=Math.cos(n)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ky=new Pe,q3=new Cl;class ds{constructor(e=new Pe(1/0,1/0,1/0),n=new Pe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Mo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Mo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Mo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const l=r.getAttribute("position");if(n===!0&&l!==void 0&&e.isInstancedMesh!==!0)for(let h=0,d=l.count;h<d;h++)e.isMesh===!0?e.getVertexPosition(h,Mo):Mo.fromBufferAttribute(l,h),Mo.applyMatrix4(e.matrixWorld),this.expandByPoint(Mo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),K1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),K1.copy(r.boundingBox)),K1.applyMatrix4(e.matrixWorld),this.union(K1)}const o=e.children;for(let l=0,h=o.length;l<h;l++)this.expandByObject(o[l],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Mo),Mo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Dm),Z1.subVectors(this.max,Dm),$h.subVectors(e.a,Dm),qh.subVectors(e.b,Dm),Yh.subVectors(e.c,Dm),el.subVectors(qh,$h),tl.subVectors(Yh,qh),Nc.subVectors($h,Yh);let n=[0,-el.z,el.y,0,-tl.z,tl.y,0,-Nc.z,Nc.y,el.z,0,-el.x,tl.z,0,-tl.x,Nc.z,0,-Nc.x,-el.y,el.x,0,-tl.y,tl.x,0,-Nc.y,Nc.x,0];return!Xy(n,$h,qh,Yh,Z1)||(n=[1,0,0,0,1,0,0,0,1],!Xy(n,$h,qh,Yh,Z1))?!1:(J1.crossVectors(el,tl),n=[J1.x,J1.y,J1.z],Xy(n,$h,qh,Yh,Z1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Mo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Mo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ka[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ka[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ka[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ka[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ka[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ka[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ka[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ka[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ka),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ka=[new Pe,new Pe,new Pe,new Pe,new Pe,new Pe,new Pe,new Pe],Mo=new Pe,K1=new ds,$h=new Pe,qh=new Pe,Yh=new Pe,el=new Pe,tl=new Pe,Nc=new Pe,Dm=new Pe,Z1=new Pe,J1=new Pe,Mc=new Pe;function Xy(a,e,n,r,o){for(let l=0,h=a.length-3;l<=h;l+=3){Mc.fromArray(a,l);const d=o.x*Math.abs(Mc.x)+o.y*Math.abs(Mc.y)+o.z*Math.abs(Mc.z),p=e.dot(Mc),g=n.dot(Mc),v=r.dot(Mc);if(Math.max(-Math.max(p,g,v),Math.min(p,g,v))>d)return!1}return!0}const Xse=new ds,Fm=new Pe,zy=new Pe;class da{constructor(e=new Pe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Xse.setFromPoints(e).getCenter(r);let o=0;for(let l=0,h=e.length;l<h;l++)o=Math.max(o,r.distanceToSquared(e[l]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Fm.subVectors(e,this.center);const n=Fm.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),o=(r-this.radius)*.5;this.center.addScaledVector(Fm,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(zy.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Fm.copy(e.center).add(zy)),this.expandByPoint(Fm.copy(e.center).sub(zy))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Za=new Pe,Uy=new Pe,Q1=new Pe,nl=new Pe,Gy=new Pe,eg=new Pe,Wy=new Pe;class w0{constructor(e=new Pe,n=new Pe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Za)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Za.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Za.copy(this.origin).addScaledVector(this.direction,n),Za.distanceToSquared(e))}distanceSqToSegment(e,n,r,o){Uy.copy(e).add(n).multiplyScalar(.5),Q1.copy(n).sub(e).normalize(),nl.copy(this.origin).sub(Uy);const l=e.distanceTo(n)*.5,h=-this.direction.dot(Q1),d=nl.dot(this.direction),p=-nl.dot(Q1),g=nl.lengthSq(),v=Math.abs(1-h*h);let y,x,T,w;if(v>0)if(y=h*p-d,x=h*d-p,w=l*v,y>=0)if(x>=-w)if(x<=w){const M=1/v;y*=M,x*=M,T=y*(y+h*x+2*d)+x*(h*y+x+2*p)+g}else x=l,y=Math.max(0,-(h*x+d)),T=-y*y+x*(x+2*p)+g;else x=-l,y=Math.max(0,-(h*x+d)),T=-y*y+x*(x+2*p)+g;else x<=-w?(y=Math.max(0,-(-h*l+d)),x=y>0?-l:Math.min(Math.max(-l,-p),l),T=-y*y+x*(x+2*p)+g):x<=w?(y=0,x=Math.min(Math.max(-l,-p),l),T=x*(x+2*p)+g):(y=Math.max(0,-(h*l+d)),x=y>0?l:Math.min(Math.max(-l,-p),l),T=-y*y+x*(x+2*p)+g);else x=h>0?-l:l,y=Math.max(0,-(h*x+d)),T=-y*y+x*(x+2*p)+g;return r&&r.copy(this.origin).addScaledVector(this.direction,y),o&&o.copy(Uy).addScaledVector(Q1,x),T}intersectSphere(e,n){Za.subVectors(e.center,this.origin);const r=Za.dot(this.direction),o=Za.dot(Za)-r*r,l=e.radius*e.radius;if(o>l)return null;const h=Math.sqrt(l-o),d=r-h,p=r+h;return p<0?null:d<0?this.at(p,n):this.at(d,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,o,l,h,d,p;const g=1/this.direction.x,v=1/this.direction.y,y=1/this.direction.z,x=this.origin;return g>=0?(r=(e.min.x-x.x)*g,o=(e.max.x-x.x)*g):(r=(e.max.x-x.x)*g,o=(e.min.x-x.x)*g),v>=0?(l=(e.min.y-x.y)*v,h=(e.max.y-x.y)*v):(l=(e.max.y-x.y)*v,h=(e.min.y-x.y)*v),r>h||l>o||((l>r||isNaN(r))&&(r=l),(h<o||isNaN(o))&&(o=h),y>=0?(d=(e.min.z-x.z)*y,p=(e.max.z-x.z)*y):(d=(e.max.z-x.z)*y,p=(e.min.z-x.z)*y),r>p||d>o)||((d>r||r!==r)&&(r=d),(p<o||o!==o)&&(o=p),o<0)?null:this.at(r>=0?r:o,n)}intersectsBox(e){return this.intersectBox(e,Za)!==null}intersectTriangle(e,n,r,o,l){Gy.subVectors(n,e),eg.subVectors(r,e),Wy.crossVectors(Gy,eg);let h=this.direction.dot(Wy),d;if(h>0){if(o)return null;d=1}else if(h<0)d=-1,h=-h;else return null;nl.subVectors(this.origin,e);const p=d*this.direction.dot(eg.crossVectors(nl,eg));if(p<0)return null;const g=d*this.direction.dot(Gy.cross(nl));if(g<0||p+g>h)return null;const v=-d*nl.dot(Wy);return v<0?null:this.at(v/h,l)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nn{constructor(e,n,r,o,l,h,d,p,g,v,y,x,T,w,M,S){Nn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,o,l,h,d,p,g,v,y,x,T,w,M,S)}set(e,n,r,o,l,h,d,p,g,v,y,x,T,w,M,S){const j=this.elements;return j[0]=e,j[4]=n,j[8]=r,j[12]=o,j[1]=l,j[5]=h,j[9]=d,j[13]=p,j[2]=g,j[6]=v,j[10]=y,j[14]=x,j[3]=T,j[7]=w,j[11]=M,j[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,o=1/Kh.setFromMatrixColumn(e,0).length(),l=1/Kh.setFromMatrixColumn(e,1).length(),h=1/Kh.setFromMatrixColumn(e,2).length();return n[0]=r[0]*o,n[1]=r[1]*o,n[2]=r[2]*o,n[3]=0,n[4]=r[4]*l,n[5]=r[5]*l,n[6]=r[6]*l,n[7]=0,n[8]=r[8]*h,n[9]=r[9]*h,n[10]=r[10]*h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,o=e.y,l=e.z,h=Math.cos(r),d=Math.sin(r),p=Math.cos(o),g=Math.sin(o),v=Math.cos(l),y=Math.sin(l);if(e.order==="XYZ"){const x=h*v,T=h*y,w=d*v,M=d*y;n[0]=p*v,n[4]=-p*y,n[8]=g,n[1]=T+w*g,n[5]=x-M*g,n[9]=-d*p,n[2]=M-x*g,n[6]=w+T*g,n[10]=h*p}else if(e.order==="YXZ"){const x=p*v,T=p*y,w=g*v,M=g*y;n[0]=x+M*d,n[4]=w*d-T,n[8]=h*g,n[1]=h*y,n[5]=h*v,n[9]=-d,n[2]=T*d-w,n[6]=M+x*d,n[10]=h*p}else if(e.order==="ZXY"){const x=p*v,T=p*y,w=g*v,M=g*y;n[0]=x-M*d,n[4]=-h*y,n[8]=w+T*d,n[1]=T+w*d,n[5]=h*v,n[9]=M-x*d,n[2]=-h*g,n[6]=d,n[10]=h*p}else if(e.order==="ZYX"){const x=h*v,T=h*y,w=d*v,M=d*y;n[0]=p*v,n[4]=w*g-T,n[8]=x*g+M,n[1]=p*y,n[5]=M*g+x,n[9]=T*g-w,n[2]=-g,n[6]=d*p,n[10]=h*p}else if(e.order==="YZX"){const x=h*p,T=h*g,w=d*p,M=d*g;n[0]=p*v,n[4]=M-x*y,n[8]=w*y+T,n[1]=y,n[5]=h*v,n[9]=-d*v,n[2]=-g*v,n[6]=T*y+w,n[10]=x-M*y}else if(e.order==="XZY"){const x=h*p,T=h*g,w=d*p,M=d*g;n[0]=p*v,n[4]=-y,n[8]=g*v,n[1]=x*y+M,n[5]=h*v,n[9]=T*y-w,n[2]=w*y-T,n[6]=d*v,n[10]=M*y+x}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zse,e,Use)}lookAt(e,n,r){const o=this.elements;return Bi.subVectors(e,n),Bi.lengthSq()===0&&(Bi.z=1),Bi.normalize(),rl.crossVectors(r,Bi),rl.lengthSq()===0&&(Math.abs(r.z)===1?Bi.x+=1e-4:Bi.z+=1e-4,Bi.normalize(),rl.crossVectors(r,Bi)),rl.normalize(),tg.crossVectors(Bi,rl),o[0]=rl.x,o[4]=tg.x,o[8]=Bi.x,o[1]=rl.y,o[5]=tg.y,o[9]=Bi.y,o[2]=rl.z,o[6]=tg.z,o[10]=Bi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,o=n.elements,l=this.elements,h=r[0],d=r[4],p=r[8],g=r[12],v=r[1],y=r[5],x=r[9],T=r[13],w=r[2],M=r[6],S=r[10],j=r[14],k=r[3],W=r[7],q=r[11],Z=r[15],Y=o[0],he=o[4],ae=o[8],ve=o[12],re=o[1],se=o[5],oe=o[9],Q=o[13],pe=o[2],be=o[6],fe=o[10],de=o[14],De=o[3],Be=o[7],_e=o[11],ke=o[15];return l[0]=h*Y+d*re+p*pe+g*De,l[4]=h*he+d*se+p*be+g*Be,l[8]=h*ae+d*oe+p*fe+g*_e,l[12]=h*ve+d*Q+p*de+g*ke,l[1]=v*Y+y*re+x*pe+T*De,l[5]=v*he+y*se+x*be+T*Be,l[9]=v*ae+y*oe+x*fe+T*_e,l[13]=v*ve+y*Q+x*de+T*ke,l[2]=w*Y+M*re+S*pe+j*De,l[6]=w*he+M*se+S*be+j*Be,l[10]=w*ae+M*oe+S*fe+j*_e,l[14]=w*ve+M*Q+S*de+j*ke,l[3]=k*Y+W*re+q*pe+Z*De,l[7]=k*he+W*se+q*be+Z*Be,l[11]=k*ae+W*oe+q*fe+Z*_e,l[15]=k*ve+W*Q+q*de+Z*ke,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],o=e[8],l=e[12],h=e[1],d=e[5],p=e[9],g=e[13],v=e[2],y=e[6],x=e[10],T=e[14],w=e[3],M=e[7],S=e[11],j=e[15];return w*(+l*p*y-o*g*y-l*d*x+r*g*x+o*d*T-r*p*T)+M*(+n*p*T-n*g*x+l*h*x-o*h*T+o*g*v-l*p*v)+S*(+n*g*y-n*d*T-l*h*y+r*h*T+l*d*v-r*g*v)+j*(-o*d*v-n*p*y+n*d*x+o*h*y-r*h*x+r*p*v)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],o=e[2],l=e[3],h=e[4],d=e[5],p=e[6],g=e[7],v=e[8],y=e[9],x=e[10],T=e[11],w=e[12],M=e[13],S=e[14],j=e[15],k=y*S*g-M*x*g+M*p*T-d*S*T-y*p*j+d*x*j,W=w*x*g-v*S*g-w*p*T+h*S*T+v*p*j-h*x*j,q=v*M*g-w*y*g+w*d*T-h*M*T-v*d*j+h*y*j,Z=w*y*p-v*M*p-w*d*x+h*M*x+v*d*S-h*y*S,Y=n*k+r*W+o*q+l*Z;if(Y===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const he=1/Y;return e[0]=k*he,e[1]=(M*x*l-y*S*l-M*o*T+r*S*T+y*o*j-r*x*j)*he,e[2]=(d*S*l-M*p*l+M*o*g-r*S*g-d*o*j+r*p*j)*he,e[3]=(y*p*l-d*x*l-y*o*g+r*x*g+d*o*T-r*p*T)*he,e[4]=W*he,e[5]=(v*S*l-w*x*l+w*o*T-n*S*T-v*o*j+n*x*j)*he,e[6]=(w*p*l-h*S*l-w*o*g+n*S*g+h*o*j-n*p*j)*he,e[7]=(h*x*l-v*p*l+v*o*g-n*x*g-h*o*T+n*p*T)*he,e[8]=q*he,e[9]=(w*y*l-v*M*l-w*r*T+n*M*T+v*r*j-n*y*j)*he,e[10]=(h*M*l-w*d*l+w*r*g-n*M*g-h*r*j+n*d*j)*he,e[11]=(v*d*l-h*y*l-v*r*g+n*y*g+h*r*T-n*d*T)*he,e[12]=Z*he,e[13]=(v*M*o-w*y*o+w*r*x-n*M*x-v*r*S+n*y*S)*he,e[14]=(w*d*o-h*M*o-w*r*p+n*M*p+h*r*S-n*d*S)*he,e[15]=(h*y*o-v*d*o+v*r*p-n*y*p-h*r*x+n*d*x)*he,this}scale(e){const n=this.elements,r=e.x,o=e.y,l=e.z;return n[0]*=r,n[4]*=o,n[8]*=l,n[1]*=r,n[5]*=o,n[9]*=l,n[2]*=r,n[6]*=o,n[10]*=l,n[3]*=r,n[7]*=o,n[11]*=l,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,o))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),o=Math.sin(n),l=1-r,h=e.x,d=e.y,p=e.z,g=l*h,v=l*d;return this.set(g*h+r,g*d-o*p,g*p+o*d,0,g*d+o*p,v*d+r,v*p-o*h,0,g*p-o*d,v*p+o*h,l*p*p+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,o,l,h){return this.set(1,r,l,0,e,1,h,0,n,o,1,0,0,0,0,1),this}compose(e,n,r){const o=this.elements,l=n._x,h=n._y,d=n._z,p=n._w,g=l+l,v=h+h,y=d+d,x=l*g,T=l*v,w=l*y,M=h*v,S=h*y,j=d*y,k=p*g,W=p*v,q=p*y,Z=r.x,Y=r.y,he=r.z;return o[0]=(1-(M+j))*Z,o[1]=(T+q)*Z,o[2]=(w-W)*Z,o[3]=0,o[4]=(T-q)*Y,o[5]=(1-(x+j))*Y,o[6]=(S+k)*Y,o[7]=0,o[8]=(w+W)*he,o[9]=(S-k)*he,o[10]=(1-(x+M))*he,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,r){const o=this.elements;let l=Kh.set(o[0],o[1],o[2]).length();const h=Kh.set(o[4],o[5],o[6]).length(),d=Kh.set(o[8],o[9],o[10]).length();this.determinant()<0&&(l=-l),e.x=o[12],e.y=o[13],e.z=o[14],So.copy(this);const g=1/l,v=1/h,y=1/d;return So.elements[0]*=g,So.elements[1]*=g,So.elements[2]*=g,So.elements[4]*=v,So.elements[5]*=v,So.elements[6]*=v,So.elements[8]*=y,So.elements[9]*=y,So.elements[10]*=y,n.setFromRotationMatrix(So),r.x=l,r.y=h,r.z=d,this}makePerspective(e,n,r,o,l,h,d=Oc){const p=this.elements,g=2*l/(n-e),v=2*l/(r-o),y=(n+e)/(n-e),x=(r+o)/(r-o);let T,w;if(d===Oc)T=-(h+l)/(h-l),w=-2*h*l/(h-l);else if(d===qx)T=-h/(h-l),w=-h*l/(h-l);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+d);return p[0]=g,p[4]=0,p[8]=y,p[12]=0,p[1]=0,p[5]=v,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=T,p[14]=w,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,n,r,o,l,h,d=Oc){const p=this.elements,g=1/(n-e),v=1/(r-o),y=1/(h-l),x=(n+e)*g,T=(r+o)*v;let w,M;if(d===Oc)w=(h+l)*y,M=-2*y;else if(d===qx)w=l*y,M=-1*y;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+d);return p[0]=2*g,p[4]=0,p[8]=0,p[12]=-x,p[1]=0,p[5]=2*v,p[9]=0,p[13]=-T,p[2]=0,p[6]=0,p[10]=M,p[14]=-w,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let o=0;o<16;o++)if(n[o]!==r[o])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Kh=new Pe,So=new Nn,zse=new Pe(0,0,0),Use=new Pe(1,1,1),rl=new Pe,tg=new Pe,Bi=new Pe,Y3=new Nn,K3=new Cl;class ml{constructor(e=0,n=0,r=0,o=ml.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,o=this._order){return this._x=e,this._y=n,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const o=e.elements,l=o[0],h=o[4],d=o[8],p=o[1],g=o[5],v=o[9],y=o[2],x=o[6],T=o[10];switch(n){case"XYZ":this._y=Math.asin(ni(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-v,T),this._z=Math.atan2(-h,l)):(this._x=Math.atan2(x,g),this._z=0);break;case"YXZ":this._x=Math.asin(-ni(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(d,T),this._z=Math.atan2(p,g)):(this._y=Math.atan2(-y,l),this._z=0);break;case"ZXY":this._x=Math.asin(ni(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-y,T),this._z=Math.atan2(-h,g)):(this._y=0,this._z=Math.atan2(p,l));break;case"ZYX":this._y=Math.asin(-ni(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(x,T),this._z=Math.atan2(p,l)):(this._x=0,this._z=Math.atan2(-h,g));break;case"YZX":this._z=Math.asin(ni(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-v,g),this._y=Math.atan2(-y,l)):(this._x=0,this._y=Math.atan2(d,T));break;case"XZY":this._z=Math.asin(-ni(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(x,g),this._y=Math.atan2(d,l)):(this._x=Math.atan2(-v,T),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Y3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Y3,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return K3.setFromEuler(this),this.setFromQuaternion(K3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ml.DEFAULT_ORDER="XYZ";class Gse{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Wse=0;const Z3=new Pe,Zh=new Cl,Ja=new Nn,ng=new Pe,km=new Pe,Vse=new Pe,Hse=new Cl,J3=new Pe(1,0,0),Q3=new Pe(0,1,0),eS=new Pe(0,0,1),tS={type:"added"},$se={type:"removed"},Jh={type:"childadded",child:null},Vy={type:"childremoved",child:null};let zr=class Ng extends T0{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Wse++}),this.uuid=Oo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ng.DEFAULT_UP.clone();const e=new Pe,n=new ml,r=new Cl,o=new Pe(1,1,1);function l(){r.setFromEuler(n,!1)}function h(){n.setFromQuaternion(r,void 0,!1)}n._onChange(l),r._onChange(h),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Nn},normalMatrix:{value:new us}}),this.matrix=new Nn,this.matrixWorld=new Nn,this.matrixAutoUpdate=Ng.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ng.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Gse,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Zh.setFromAxisAngle(e,n),this.quaternion.multiply(Zh),this}rotateOnWorldAxis(e,n){return Zh.setFromAxisAngle(e,n),this.quaternion.premultiply(Zh),this}rotateX(e){return this.rotateOnAxis(J3,e)}rotateY(e){return this.rotateOnAxis(Q3,e)}rotateZ(e){return this.rotateOnAxis(eS,e)}translateOnAxis(e,n){return Z3.copy(e).applyQuaternion(this.quaternion),this.position.add(Z3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(J3,e)}translateY(e){return this.translateOnAxis(Q3,e)}translateZ(e){return this.translateOnAxis(eS,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ja.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ng.copy(e):ng.set(e,n,r);const o=this.parent;this.updateWorldMatrix(!0,!1),km.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ja.lookAt(km,ng,this.up):Ja.lookAt(ng,km,this.up),this.quaternion.setFromRotationMatrix(Ja),o&&(Ja.extractRotation(o.matrixWorld),Zh.setFromRotationMatrix(Ja),this.quaternion.premultiply(Zh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(tS),Jh.child=e,this.dispatchEvent(Jh),Jh.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent($se),Vy.child=e,this.dispatchEvent(Vy),Vy.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ja.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ja.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ja),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(tS),Jh.child=e,this.dispatchEvent(Jh),Jh.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,o=this.children.length;r<o;r++){const h=this.children[r].getObjectByProperty(e,n);if(h!==void 0)return h}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const o=this.children;for(let l=0,h=o.length;l<h;l++)o[l].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(km,e,Vse),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(km,Hse,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,o=n.length;r<o;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,o=n.length;r<o;r++){const l=n[r];(l.matrixWorldAutoUpdate===!0||e===!0)&&l.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const o=this.children;for(let l=0,h=o.length;l<h;l++){const d=o[l];d.matrixWorldAutoUpdate===!0&&d.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.visibility=this._visibility,o.active=this._active,o.bounds=this._bounds.map(d=>({boxInitialized:d.boxInitialized,boxMin:d.box.min.toArray(),boxMax:d.box.max.toArray(),sphereInitialized:d.sphereInitialized,sphereRadius:d.sphere.radius,sphereCenter:d.sphere.center.toArray()})),o.maxGeometryCount=this._maxGeometryCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.geometryCount=this._geometryCount,o.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(o.boundingSphere={center:o.boundingSphere.center.toArray(),radius:o.boundingSphere.radius}),this.boundingBox!==null&&(o.boundingBox={min:o.boundingBox.min.toArray(),max:o.boundingBox.max.toArray()}));function l(d,p){return d[p.uuid]===void 0&&(d[p.uuid]=p.toJSON(e)),p.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=l(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const p=d.shapes;if(Array.isArray(p))for(let g=0,v=p.length;g<v;g++){const y=p[g];l(e.shapes,y)}else l(e.shapes,p)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(l(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let p=0,g=this.material.length;p<g;p++)d.push(l(e.materials,this.material[p]));o.material=d}else o.material=l(e.materials,this.material);if(this.children.length>0){o.children=[];for(let d=0;d<this.children.length;d++)o.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let d=0;d<this.animations.length;d++){const p=this.animations[d];o.animations.push(l(e.animations,p))}}if(n){const d=h(e.geometries),p=h(e.materials),g=h(e.textures),v=h(e.images),y=h(e.shapes),x=h(e.skeletons),T=h(e.animations),w=h(e.nodes);d.length>0&&(r.geometries=d),p.length>0&&(r.materials=p),g.length>0&&(r.textures=g),v.length>0&&(r.images=v),y.length>0&&(r.shapes=y),x.length>0&&(r.skeletons=x),T.length>0&&(r.animations=T),w.length>0&&(r.nodes=w)}return r.object=o,r;function h(d){const p=[];for(const g in d){const v=d[g];delete v.metadata,p.push(v)}return p}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}};zr.DEFAULT_UP=new Pe(0,1,0);zr.DEFAULT_MATRIX_AUTO_UPDATE=!0;zr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ao=new Pe,Qa=new Pe,Hy=new Pe,es=new Pe,Qh=new Pe,eu=new Pe,nS=new Pe,$y=new Pe,qy=new Pe,Yy=new Pe;class sa{constructor(e=new Pe,n=new Pe,r=new Pe){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,o){o.subVectors(r,n),Ao.subVectors(e,n),o.cross(Ao);const l=o.lengthSq();return l>0?o.multiplyScalar(1/Math.sqrt(l)):o.set(0,0,0)}static getBarycoord(e,n,r,o,l){Ao.subVectors(o,n),Qa.subVectors(r,n),Hy.subVectors(e,n);const h=Ao.dot(Ao),d=Ao.dot(Qa),p=Ao.dot(Hy),g=Qa.dot(Qa),v=Qa.dot(Hy),y=h*g-d*d;if(y===0)return l.set(0,0,0),null;const x=1/y,T=(g*p-d*v)*x,w=(h*v-d*p)*x;return l.set(1-T-w,w,T)}static containsPoint(e,n,r,o){return this.getBarycoord(e,n,r,o,es)===null?!1:es.x>=0&&es.y>=0&&es.x+es.y<=1}static getInterpolation(e,n,r,o,l,h,d,p){return this.getBarycoord(e,n,r,o,es)===null?(p.x=0,p.y=0,"z"in p&&(p.z=0),"w"in p&&(p.w=0),null):(p.setScalar(0),p.addScaledVector(l,es.x),p.addScaledVector(h,es.y),p.addScaledVector(d,es.z),p)}static isFrontFacing(e,n,r,o){return Ao.subVectors(r,n),Qa.subVectors(e,n),Ao.cross(Qa).dot(o)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,o){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,r,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ao.subVectors(this.c,this.b),Qa.subVectors(this.a,this.b),Ao.cross(Qa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return sa.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,o,l){return sa.getInterpolation(e,this.a,this.b,this.c,n,r,o,l)}containsPoint(e){return sa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,o=this.b,l=this.c;let h,d;Qh.subVectors(o,r),eu.subVectors(l,r),$y.subVectors(e,r);const p=Qh.dot($y),g=eu.dot($y);if(p<=0&&g<=0)return n.copy(r);qy.subVectors(e,o);const v=Qh.dot(qy),y=eu.dot(qy);if(v>=0&&y<=v)return n.copy(o);const x=p*y-v*g;if(x<=0&&p>=0&&v<=0)return h=p/(p-v),n.copy(r).addScaledVector(Qh,h);Yy.subVectors(e,l);const T=Qh.dot(Yy),w=eu.dot(Yy);if(w>=0&&T<=w)return n.copy(l);const M=T*g-p*w;if(M<=0&&g>=0&&w<=0)return d=g/(g-w),n.copy(r).addScaledVector(eu,d);const S=v*w-T*y;if(S<=0&&y-v>=0&&T-w>=0)return nS.subVectors(l,o),d=(y-v)/(y-v+(T-w)),n.copy(o).addScaledVector(nS,d);const j=1/(S+M+x);return h=M*j,d=x*j,n.copy(r).addScaledVector(Qh,h).addScaledVector(eu,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const zI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},il={h:0,s:0,l:0},rg={h:0,s:0,l:0};function Ky(a,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?a+(e-a)*6*n:n<1/2?e:n<2/3?a+(e-a)*6*(2/3-n):a}class Mr{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=pi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ji.toWorkingColorSpace(this,n),this}setRGB(e,n,r,o=ji.workingColorSpace){return this.r=e,this.g=n,this.b=r,ji.toWorkingColorSpace(this,o),this}setHSL(e,n,r,o=ji.workingColorSpace){if(e=vC(e,1),n=ni(n,0,1),r=ni(r,0,1),n===0)this.r=this.g=this.b=r;else{const l=r<=.5?r*(1+n):r+n-r*n,h=2*r-l;this.r=Ky(h,l,e+1/3),this.g=Ky(h,l,e),this.b=Ky(h,l,e-1/3)}return ji.toWorkingColorSpace(this,o),this}setStyle(e,n=pi){function r(l){l!==void 0&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let l;const h=o[1],d=o[2];switch(h){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(l[4]),this.setRGB(Math.min(255,parseInt(l[1],10))/255,Math.min(255,parseInt(l[2],10))/255,Math.min(255,parseInt(l[3],10))/255,n);if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(l[4]),this.setRGB(Math.min(100,parseInt(l[1],10))/100,Math.min(100,parseInt(l[2],10))/100,Math.min(100,parseInt(l[3],10))/100,n);break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(l[4]),this.setHSL(parseFloat(l[1])/360,parseFloat(l[2])/100,parseFloat(l[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const l=o[1],h=l.length;if(h===3)return this.setRGB(parseInt(l.charAt(0),16)/15,parseInt(l.charAt(1),16)/15,parseInt(l.charAt(2),16)/15,n);if(h===6)return this.setHex(parseInt(l,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=pi){const r=zI[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Au(e.r),this.g=Au(e.g),this.b=Au(e.b),this}copyLinearToSRGB(e){return this.r=Dy(e.r),this.g=Dy(e.g),this.b=Dy(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=pi){return ji.fromWorkingColorSpace(ti.copy(this),e),Math.round(ni(ti.r*255,0,255))*65536+Math.round(ni(ti.g*255,0,255))*256+Math.round(ni(ti.b*255,0,255))}getHexString(e=pi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ji.workingColorSpace){ji.fromWorkingColorSpace(ti.copy(this),n);const r=ti.r,o=ti.g,l=ti.b,h=Math.max(r,o,l),d=Math.min(r,o,l);let p,g;const v=(d+h)/2;if(d===h)p=0,g=0;else{const y=h-d;switch(g=v<=.5?y/(h+d):y/(2-h-d),h){case r:p=(o-l)/y+(o<l?6:0);break;case o:p=(l-r)/y+2;break;case l:p=(r-o)/y+4;break}p/=6}return e.h=p,e.s=g,e.l=v,e}getRGB(e,n=ji.workingColorSpace){return ji.fromWorkingColorSpace(ti.copy(this),n),e.r=ti.r,e.g=ti.g,e.b=ti.b,e}getStyle(e=pi){ji.fromWorkingColorSpace(ti.copy(this),e);const n=ti.r,r=ti.g,o=ti.b;return e!==pi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,n,r){return this.getHSL(il),this.setHSL(il.h+e,il.s+n,il.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(il),e.getHSL(rg);const r=Qm(il.h,rg.h,n),o=Qm(il.s,rg.s,n),l=Qm(il.l,rg.l,n);return this.setHSL(r,o,l),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,o=this.b,l=e.elements;return this.r=l[0]*n+l[3]*r+l[6]*o,this.g=l[1]*n+l[4]*r+l[7]*o,this.b=l[2]*n+l[5]*r+l[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ti=new Mr;Mr.NAMES=zI;let qse=0;class hl extends T0{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qse++}),this.uuid=Oo(),this.name="",this.type="Material",this.blending=I3,this.side=Vg,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=P3,this.blendDst=B3,this.blendEquation=R3,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Mr(0,0,0),this.blendAlpha=0,this.depthFunc=O3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=G3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Vh,this.stencilZFail=Vh,this.stencilZPass=Vh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const o=this[n];if(o===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==I3&&(r.blending=this.blending),this.side!==Vg&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==P3&&(r.blendSrc=this.blendSrc),this.blendDst!==B3&&(r.blendDst=this.blendDst),this.blendEquation!==R3&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==O3&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==G3&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Vh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Vh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Vh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(l){const h=[];for(const d in l){const p=l[d];delete p.metadata,h.push(p)}return h}if(n){const l=o(e.textures),h=o(e.images);l.length>0&&(r.textures=l),h.length>0&&(r.images=h)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const o=n.length;r=new Array(o);for(let l=0;l!==o;++l)r[l]=n[l].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Lc extends hl{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Mr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.combine=rse,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nr=new Pe,ig=new hr;class Di{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=$x,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=bC,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return XI("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let o=0,l=this.itemSize;o<l;o++)this.array[e+o]=n.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ig.fromBufferAttribute(this,n),ig.applyMatrix3(e),this.setXY(n,ig.x,ig.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.applyMatrix3(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.applyMatrix4(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.applyNormalMatrix(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.transformDirection(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ro(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Wn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ro(n,this.array)),n}setX(e,n){return this.normalized&&(n=Wn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ro(n,this.array)),n}setY(e,n){return this.normalized&&(n=Wn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ro(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Wn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ro(n,this.array)),n}setW(e,n){return this.normalized&&(n=Wn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Wn(n,this.array),r=Wn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,o){return e*=this.itemSize,this.normalized&&(n=Wn(n,this.array),r=Wn(r,this.array),o=Wn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,n,r,o,l){return e*=this.itemSize,this.normalized&&(n=Wn(n,this.array),r=Wn(r,this.array),o=Wn(o,this.array),l=Wn(l,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=l,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==$x&&(e.usage=this.usage),e}}class Yse extends Di{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Kse extends Di{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Eu extends Di{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Zse=0;const Yi=new Nn,Zy=new zr,tu=new Pe,Oi=new ds,Xm=new ds,kr=new Pe;class _l extends T0{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zse++}),this.uuid=Oo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Ose(e)?Kse:Yse)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const l=new us().getNormalMatrix(e);r.applyNormalMatrix(l),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yi.makeRotationFromQuaternion(e),this.applyMatrix4(Yi),this}rotateX(e){return Yi.makeRotationX(e),this.applyMatrix4(Yi),this}rotateY(e){return Yi.makeRotationY(e),this.applyMatrix4(Yi),this}rotateZ(e){return Yi.makeRotationZ(e),this.applyMatrix4(Yi),this}translate(e,n,r){return Yi.makeTranslation(e,n,r),this.applyMatrix4(Yi),this}scale(e,n,r){return Yi.makeScale(e,n,r),this.applyMatrix4(Yi),this}lookAt(e){return Zy.lookAt(e),Zy.updateMatrix(),this.applyMatrix4(Zy.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tu).negate(),this.translate(tu.x,tu.y,tu.z),this}setFromPoints(e){const n=[];for(let r=0,o=e.length;r<o;r++){const l=e[r];n.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new Eu(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ds);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Pe(-1/0,-1/0,-1/0),new Pe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,o=n.length;r<o;r++){const l=n[r];Oi.setFromBufferAttribute(l),this.morphTargetsRelative?(kr.addVectors(this.boundingBox.min,Oi.min),this.boundingBox.expandByPoint(kr),kr.addVectors(this.boundingBox.max,Oi.max),this.boundingBox.expandByPoint(kr)):(this.boundingBox.expandByPoint(Oi.min),this.boundingBox.expandByPoint(Oi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new da);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Pe,1/0);return}if(e){const r=this.boundingSphere.center;if(Oi.setFromBufferAttribute(e),n)for(let l=0,h=n.length;l<h;l++){const d=n[l];Xm.setFromBufferAttribute(d),this.morphTargetsRelative?(kr.addVectors(Oi.min,Xm.min),Oi.expandByPoint(kr),kr.addVectors(Oi.max,Xm.max),Oi.expandByPoint(kr)):(Oi.expandByPoint(Xm.min),Oi.expandByPoint(Xm.max))}Oi.getCenter(r);let o=0;for(let l=0,h=e.count;l<h;l++)kr.fromBufferAttribute(e,l),o=Math.max(o,r.distanceToSquared(kr));if(n)for(let l=0,h=n.length;l<h;l++){const d=n[l],p=this.morphTargetsRelative;for(let g=0,v=d.count;g<v;g++)kr.fromBufferAttribute(d,g),p&&(tu.fromBufferAttribute(e,g),kr.add(tu)),o=Math.max(o,r.distanceToSquared(kr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,o=n.normal,l=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Di(new Float32Array(4*r.count),4));const h=this.getAttribute("tangent"),d=[],p=[];for(let ae=0;ae<r.count;ae++)d[ae]=new Pe,p[ae]=new Pe;const g=new Pe,v=new Pe,y=new Pe,x=new hr,T=new hr,w=new hr,M=new Pe,S=new Pe;function j(ae,ve,re){g.fromBufferAttribute(r,ae),v.fromBufferAttribute(r,ve),y.fromBufferAttribute(r,re),x.fromBufferAttribute(l,ae),T.fromBufferAttribute(l,ve),w.fromBufferAttribute(l,re),v.sub(g),y.sub(g),T.sub(x),w.sub(x);const se=1/(T.x*w.y-w.x*T.y);isFinite(se)&&(M.copy(v).multiplyScalar(w.y).addScaledVector(y,-T.y).multiplyScalar(se),S.copy(y).multiplyScalar(T.x).addScaledVector(v,-w.x).multiplyScalar(se),d[ae].add(M),d[ve].add(M),d[re].add(M),p[ae].add(S),p[ve].add(S),p[re].add(S))}let k=this.groups;k.length===0&&(k=[{start:0,count:e.count}]);for(let ae=0,ve=k.length;ae<ve;++ae){const re=k[ae],se=re.start,oe=re.count;for(let Q=se,pe=se+oe;Q<pe;Q+=3)j(e.getX(Q+0),e.getX(Q+1),e.getX(Q+2))}const W=new Pe,q=new Pe,Z=new Pe,Y=new Pe;function he(ae){Z.fromBufferAttribute(o,ae),Y.copy(Z);const ve=d[ae];W.copy(ve),W.sub(Z.multiplyScalar(Z.dot(ve))).normalize(),q.crossVectors(Y,ve);const se=q.dot(p[ae])<0?-1:1;h.setXYZW(ae,W.x,W.y,W.z,se)}for(let ae=0,ve=k.length;ae<ve;++ae){const re=k[ae],se=re.start,oe=re.count;for(let Q=se,pe=se+oe;Q<pe;Q+=3)he(e.getX(Q+0)),he(e.getX(Q+1)),he(e.getX(Q+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Di(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let x=0,T=r.count;x<T;x++)r.setXYZ(x,0,0,0);const o=new Pe,l=new Pe,h=new Pe,d=new Pe,p=new Pe,g=new Pe,v=new Pe,y=new Pe;if(e)for(let x=0,T=e.count;x<T;x+=3){const w=e.getX(x+0),M=e.getX(x+1),S=e.getX(x+2);o.fromBufferAttribute(n,w),l.fromBufferAttribute(n,M),h.fromBufferAttribute(n,S),v.subVectors(h,l),y.subVectors(o,l),v.cross(y),d.fromBufferAttribute(r,w),p.fromBufferAttribute(r,M),g.fromBufferAttribute(r,S),d.add(v),p.add(v),g.add(v),r.setXYZ(w,d.x,d.y,d.z),r.setXYZ(M,p.x,p.y,p.z),r.setXYZ(S,g.x,g.y,g.z)}else for(let x=0,T=n.count;x<T;x+=3)o.fromBufferAttribute(n,x+0),l.fromBufferAttribute(n,x+1),h.fromBufferAttribute(n,x+2),v.subVectors(h,l),y.subVectors(o,l),v.cross(y),r.setXYZ(x+0,v.x,v.y,v.z),r.setXYZ(x+1,v.x,v.y,v.z),r.setXYZ(x+2,v.x,v.y,v.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)kr.fromBufferAttribute(e,n),kr.normalize(),e.setXYZ(n,kr.x,kr.y,kr.z)}toNonIndexed(){function e(d,p){const g=d.array,v=d.itemSize,y=d.normalized,x=new g.constructor(p.length*v);let T=0,w=0;for(let M=0,S=p.length;M<S;M++){d.isInterleavedBufferAttribute?T=p[M]*d.data.stride+d.offset:T=p[M]*v;for(let j=0;j<v;j++)x[w++]=g[T++]}return new Di(x,v,y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new _l,r=this.index.array,o=this.attributes;for(const d in o){const p=o[d],g=e(p,r);n.setAttribute(d,g)}const l=this.morphAttributes;for(const d in l){const p=[],g=l[d];for(let v=0,y=g.length;v<y;v++){const x=g[v],T=e(x,r);p.push(T)}n.morphAttributes[d]=p}n.morphTargetsRelative=this.morphTargetsRelative;const h=this.groups;for(let d=0,p=h.length;d<p;d++){const g=h[d];n.addGroup(g.start,g.count,g.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const p=this.parameters;for(const g in p)p[g]!==void 0&&(e[g]=p[g]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const p in r){const g=r[p];e.data.attributes[p]=g.toJSON(e.data)}const o={};let l=!1;for(const p in this.morphAttributes){const g=this.morphAttributes[p],v=[];for(let y=0,x=g.length;y<x;y++){const T=g[y];v.push(T.toJSON(e.data))}v.length>0&&(o[p]=v,l=!0)}l&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const h=this.groups;h.length>0&&(e.data.groups=JSON.parse(JSON.stringify(h)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const o=e.attributes;for(const g in o){const v=o[g];this.setAttribute(g,v.clone(n))}const l=e.morphAttributes;for(const g in l){const v=[],y=l[g];for(let x=0,T=y.length;x<T;x++)v.push(y[x].clone(n));this.morphAttributes[g]=v}this.morphTargetsRelative=e.morphTargetsRelative;const h=e.groups;for(let g=0,v=h.length;g<v;g++){const y=h[g];this.addGroup(y.start,y.count,y.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const p=e.boundingSphere;return p!==null&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const rS=new Nn,Sc=new w0,og=new da,iS=new Pe,nu=new Pe,ru=new Pe,iu=new Pe,Jy=new Pe,ag=new Pe,sg=new hr,lg=new hr,cg=new hr,oS=new Pe,aS=new Pe,sS=new Pe,hg=new Pe,ug=new Pe;class Xr extends zr{constructor(e=new _l,n=new Lc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,h=o.length;l<h;l++){const d=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}getVertexPosition(e,n){const r=this.geometry,o=r.attributes.position,l=r.morphAttributes.position,h=r.morphTargetsRelative;n.fromBufferAttribute(o,e);const d=this.morphTargetInfluences;if(l&&d){ag.set(0,0,0);for(let p=0,g=l.length;p<g;p++){const v=d[p],y=l[p];v!==0&&(Jy.fromBufferAttribute(y,e),h?ag.addScaledVector(Jy,v):ag.addScaledVector(Jy.sub(n),v))}n.add(ag)}return n}raycast(e,n){const r=this.geometry,o=this.material,l=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),og.copy(r.boundingSphere),og.applyMatrix4(l),Sc.copy(e.ray).recast(e.near),!(og.containsPoint(Sc.origin)===!1&&(Sc.intersectSphere(og,iS)===null||Sc.origin.distanceToSquared(iS)>(e.far-e.near)**2))&&(rS.copy(l).invert(),Sc.copy(e.ray).applyMatrix4(rS),!(r.boundingBox!==null&&Sc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Sc)))}_computeIntersections(e,n,r){let o;const l=this.geometry,h=this.material,d=l.index,p=l.attributes.position,g=l.attributes.uv,v=l.attributes.uv1,y=l.attributes.normal,x=l.groups,T=l.drawRange;if(d!==null)if(Array.isArray(h))for(let w=0,M=x.length;w<M;w++){const S=x[w],j=h[S.materialIndex],k=Math.max(S.start,T.start),W=Math.min(d.count,Math.min(S.start+S.count,T.start+T.count));for(let q=k,Z=W;q<Z;q+=3){const Y=d.getX(q),he=d.getX(q+1),ae=d.getX(q+2);o=dg(this,j,e,r,g,v,y,Y,he,ae),o&&(o.faceIndex=Math.floor(q/3),o.face.materialIndex=S.materialIndex,n.push(o))}}else{const w=Math.max(0,T.start),M=Math.min(d.count,T.start+T.count);for(let S=w,j=M;S<j;S+=3){const k=d.getX(S),W=d.getX(S+1),q=d.getX(S+2);o=dg(this,h,e,r,g,v,y,k,W,q),o&&(o.faceIndex=Math.floor(S/3),n.push(o))}}else if(p!==void 0)if(Array.isArray(h))for(let w=0,M=x.length;w<M;w++){const S=x[w],j=h[S.materialIndex],k=Math.max(S.start,T.start),W=Math.min(p.count,Math.min(S.start+S.count,T.start+T.count));for(let q=k,Z=W;q<Z;q+=3){const Y=q,he=q+1,ae=q+2;o=dg(this,j,e,r,g,v,y,Y,he,ae),o&&(o.faceIndex=Math.floor(q/3),o.face.materialIndex=S.materialIndex,n.push(o))}}else{const w=Math.max(0,T.start),M=Math.min(p.count,T.start+T.count);for(let S=w,j=M;S<j;S+=3){const k=S,W=S+1,q=S+2;o=dg(this,h,e,r,g,v,y,k,W,q),o&&(o.faceIndex=Math.floor(S/3),n.push(o))}}}}function Jse(a,e,n,r,o,l,h,d){let p;if(e.side===pC?p=r.intersectTriangle(h,l,o,!0,d):p=r.intersectTriangle(o,l,h,e.side===Vg,d),p===null)return null;ug.copy(d),ug.applyMatrix4(a.matrixWorld);const g=n.ray.origin.distanceTo(ug);return g<n.near||g>n.far?null:{distance:g,point:ug.clone(),object:a}}function dg(a,e,n,r,o,l,h,d,p,g){a.getVertexPosition(d,nu),a.getVertexPosition(p,ru),a.getVertexPosition(g,iu);const v=Jse(a,e,n,r,nu,ru,iu,hg);if(v){o&&(sg.fromBufferAttribute(o,d),lg.fromBufferAttribute(o,p),cg.fromBufferAttribute(o,g),v.uv=sa.getInterpolation(hg,nu,ru,iu,sg,lg,cg,new hr)),l&&(sg.fromBufferAttribute(l,d),lg.fromBufferAttribute(l,p),cg.fromBufferAttribute(l,g),v.uv1=sa.getInterpolation(hg,nu,ru,iu,sg,lg,cg,new hr)),h&&(oS.fromBufferAttribute(h,d),aS.fromBufferAttribute(h,p),sS.fromBufferAttribute(h,g),v.normal=sa.getInterpolation(hg,nu,ru,iu,oS,aS,sS,new Pe),v.normal.dot(r.direction)>0&&v.normal.multiplyScalar(-1));const y={a:d,b:p,c:g,normal:new Pe,materialIndex:0};sa.getNormal(nu,ru,iu,y.normal),v.face=y}return v}class N0 extends _l{constructor(e=1,n=1,r=1,o=1,l=1,h=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:o,heightSegments:l,depthSegments:h};const d=this;o=Math.floor(o),l=Math.floor(l),h=Math.floor(h);const p=[],g=[],v=[],y=[];let x=0,T=0;w("z","y","x",-1,-1,r,n,e,h,l,0),w("z","y","x",1,-1,r,n,-e,h,l,1),w("x","z","y",1,1,e,r,n,o,h,2),w("x","z","y",1,-1,e,r,-n,o,h,3),w("x","y","z",1,-1,e,n,r,o,l,4),w("x","y","z",-1,-1,e,n,-r,o,l,5),this.setIndex(p),this.setAttribute("position",new Eu(g,3)),this.setAttribute("normal",new Eu(v,3)),this.setAttribute("uv",new Eu(y,2));function w(M,S,j,k,W,q,Z,Y,he,ae,ve){const re=q/he,se=Z/ae,oe=q/2,Q=Z/2,pe=Y/2,be=he+1,fe=ae+1;let de=0,De=0;const Be=new Pe;for(let _e=0;_e<fe;_e++){const ke=_e*se-Q;for(let je=0;je<be;je++){const mt=je*re-oe;Be[M]=mt*k,Be[S]=ke*W,Be[j]=pe,g.push(Be.x,Be.y,Be.z),Be[M]=0,Be[S]=0,Be[j]=Y>0?1:-1,v.push(Be.x,Be.y,Be.z),y.push(je/he),y.push(1-_e/ae),de+=1}}for(let _e=0;_e<ae;_e++)for(let ke=0;ke<he;ke++){const je=x+ke+be*_e,mt=x+ke+be*(_e+1),pt=x+(ke+1)+be*(_e+1),Bt=x+(ke+1)+be*_e;p.push(je,mt,Bt),p.push(mt,pt,Bt),De+=6}d.addGroup(T,De,ve),T+=De,x+=de}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new N0(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yC(a){const e={};for(const n in a){e[n]={};for(const r in a[n]){const o=a[n][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=o.clone():Array.isArray(o)?e[n][r]=o.slice():e[n][r]=o}}return e}function Qse(a){const e={};for(let n=0;n<a.length;n++){const r=yC(a[n]);for(const o in r)e[o]=r[o]}return e}function ele(a){const e=[];for(let n=0;n<a.length;n++)e.push(a[n].clone());return e}const tle={clone:yC,merge:Qse};var nle=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rle=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ile extends hl{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nle,this.fragmentShader=rle,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yC(e.uniforms),this.uniformsGroups=ele(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const h=this.uniforms[o].value;h&&h.isTexture?n.uniforms[o]={type:"t",value:h.toJSON(e).uuid}:h&&h.isColor?n.uniforms[o]={type:"c",value:h.getHex()}:h&&h.isVector2?n.uniforms[o]={type:"v2",value:h.toArray()}:h&&h.isVector3?n.uniforms[o]={type:"v3",value:h.toArray()}:h&&h.isVector4?n.uniforms[o]={type:"v4",value:h.toArray()}:h&&h.isMatrix3?n.uniforms[o]={type:"m3",value:h.toArray()}:h&&h.isMatrix4?n.uniforms[o]={type:"m4",value:h.toArray()}:n.uniforms[o]={value:h}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const o in this.extensions)this.extensions[o]===!0&&(r[o]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class UI extends zr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nn,this.projectionMatrix=new Nn,this.projectionMatrixInverse=new Nn,this.coordinateSystem=Oc}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ol=new Pe,lS=new hr,cS=new hr;class xC extends UI{constructor(e=50,n=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=lp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return lp*2*Math.atan(Math.tan(Jm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ol.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ol.x,ol.y).multiplyScalar(-e/ol.z),ol.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ol.x,ol.y).multiplyScalar(-e/ol.z)}getViewSize(e,n){return this.getViewBounds(e,lS,cS),n.subVectors(cS,lS)}setViewOffset(e,n,r,o,l,h){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Jm*.5*this.fov)/this.zoom,r=2*n,o=this.aspect*r,l=-.5*o;const h=this.view;if(this.view!==null&&this.view.enabled){const p=h.fullWidth,g=h.fullHeight;l+=h.offsetX*o/p,n-=h.offsetY*r/g,o*=h.width/p,r*=h.height/g}const d=this.filmOffset;d!==0&&(l+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+o,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Qy=new Pe,ole=new Pe,ale=new us;class ou{constructor(e=new Pe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,o){return this.normal.set(e,n,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const o=Qy.subVectors(r,n).cross(ole.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Qy),o=this.normal.dot(r);if(o===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const l=-(e.start.dot(this.normal)+this.constant)/o;return l<0||l>1?null:n.copy(e.start).addScaledVector(r,l)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ale.getNormalMatrix(e),o=this.coplanarPoint(Qy).applyMatrix4(e),l=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(l),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ac=new da,mg=new Pe;class sle{constructor(e=new ou,n=new ou,r=new ou,o=new ou,l=new ou,h=new ou){this.planes=[e,n,r,o,l,h]}set(e,n,r,o,l,h){const d=this.planes;return d[0].copy(e),d[1].copy(n),d[2].copy(r),d[3].copy(o),d[4].copy(l),d[5].copy(h),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Oc){const r=this.planes,o=e.elements,l=o[0],h=o[1],d=o[2],p=o[3],g=o[4],v=o[5],y=o[6],x=o[7],T=o[8],w=o[9],M=o[10],S=o[11],j=o[12],k=o[13],W=o[14],q=o[15];if(r[0].setComponents(p-l,x-g,S-T,q-j).normalize(),r[1].setComponents(p+l,x+g,S+T,q+j).normalize(),r[2].setComponents(p+h,x+v,S+w,q+k).normalize(),r[3].setComponents(p-h,x-v,S-w,q-k).normalize(),r[4].setComponents(p-d,x-y,S-M,q-W).normalize(),n===Oc)r[5].setComponents(p+d,x+y,S+M,q+W).normalize();else if(n===qx)r[5].setComponents(d,y,M,W).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Ac.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Ac.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ac)}intersectsSprite(e){return Ac.center.set(0,0,0),Ac.radius=.7071067811865476,Ac.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ac)}intersectsSphere(e){const n=this.planes,r=e.center,o=-e.radius;for(let l=0;l<6;l++)if(n[l].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const o=n[r];if(mg.x=o.normal.x>0?e.max.x:e.min.x,mg.y=o.normal.y>0?e.max.y:e.min.y,mg.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(mg)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class GI extends UI{constructor(e=-1,n=1,r=1,o=-1,l=.1,h=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=o,this.near=l,this.far=h,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,o,l,h){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=h,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let l=r-e,h=r+e,d=o+n,p=o-n;if(this.view!==null&&this.view.enabled){const g=(this.right-this.left)/this.view.fullWidth/this.zoom,v=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=g*this.view.offsetX,h=l+g*this.view.width,d-=v*this.view.offsetY,p=d-v*this.view.height}this.projectionMatrix.makeOrthographic(l,h,d,p,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class lle extends to{constructor(e,n,r,o,l,h,d,p,g,v){if(v=v!==void 0?v:Oy,v!==Oy&&v!==j3)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&v===Oy&&(r=cse),r===void 0&&v===j3&&(r=hse),super(null,o,l,h,d,p,v,r,g),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=d!==void 0?d:ap,this.minFilter=p!==void 0?p:ap,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const cle=new lle(1,1);cle.compareFunction=gse;class ex extends zr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class hle extends zr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ml,this.environmentIntensity=1,this.environmentRotation=new ml,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class ule{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=$x,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Oo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return XI("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let o=0,l=this.stride;o<l;o++)this.array[e+o]=n.array[r+o];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Oo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const mi=new Pe;class CC{constructor(e,n,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyMatrix4(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.applyNormalMatrix(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)mi.fromBufferAttribute(this,n),mi.transformDirection(e),this.setXYZ(n,mi.x,mi.y,mi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Ro(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Wn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Wn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Wn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ro(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ro(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ro(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ro(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Wn(n,this.array),r=Wn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=Wn(n,this.array),r=Wn(r,this.array),o=Wn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,n,r,o,l){return e=e*this.data.stride+this.offset,this.normalized&&(n=Wn(n,this.array),r=Wn(r,this.array),o=Wn(o,this.array),l=Wn(l,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=l,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[o+l])}return new Di(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new CC(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)n.push(this.data.array[o+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const hS=new Pe,uS=new Zi,dS=new Zi,dle=new Pe,mS=new Nn,pg=new Pe,tx=new da,pS=new Nn,nx=new w0;class mle extends Xr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=L3,this.bindMatrix=new Nn,this.bindMatrixInverse=new Nn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ds),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,pg),this.boundingBox.expandByPoint(pg)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new da),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,pg),this.boundingSphere.expandByPoint(pg)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,o=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tx.copy(this.boundingSphere),tx.applyMatrix4(o),e.ray.intersectsSphere(tx)!==!1&&(pS.copy(o).invert(),nx.copy(e.ray).applyMatrix4(pS),!(this.boundingBox!==null&&nx.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,nx)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Zi,n=this.geometry.attributes.skinWeight;for(let r=0,o=n.count;r<o;r++){e.fromBufferAttribute(n,r);const l=1/e.manhattanLength();l!==1/0?e.multiplyScalar(l):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===L3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===ise?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,o=this.geometry;uS.fromBufferAttribute(o.attributes.skinIndex,e),dS.fromBufferAttribute(o.attributes.skinWeight,e),hS.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let l=0;l<4;l++){const h=dS.getComponent(l);if(h!==0){const d=uS.getComponent(l);mS.multiplyMatrices(r.bones[d].matrixWorld,r.boneInverses[d]),n.addScaledVector(dle.copy(hS).applyMatrix4(mS),h)}}return n.applyMatrix4(this.bindMatrixInverse)}}class WI extends zr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class VI extends to{constructor(e=null,n=1,r=1,o,l,h,d,p,g=ap,v=ap,y,x){super(null,h,d,p,g,v,o,l,y,x),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const fS=new Nn,ple=new Nn;class _C{constructor(e=[],n=[]){this.uuid=Oo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new Nn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Nn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,o=this.boneTexture;for(let l=0,h=e.length;l<h;l++){const d=e[l]?e[l].matrixWorld:ple;fS.multiplyMatrices(d,n[l]),fS.toArray(r,l*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new _C(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new VI(n,e,e,jI,bC);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const o=this.bones[n];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,o=e.bones.length;r<o;r++){const l=e.bones[r];let h=n[l];h===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),h=new WI),this.bones.push(h),this.boneInverses.push(new Nn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let o=0,l=n.length;o<l;o++){const h=n[o];e.bones.push(h.uuid);const d=r[o];e.boneInverses.push(d.toArray())}return e}}class Kx extends Di{constructor(e,n,r,o=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const au=new Nn,gS=new Nn,fg=[],bS=new ds,fle=new Nn,zm=new Xr,Um=new da;class gle extends Xr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Kx(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<r;o++)this.setMatrixAt(o,fle)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ds),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,au),bS.copy(e.boundingBox).applyMatrix4(au),this.boundingBox.union(bS)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new da),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,au),Um.copy(e.boundingSphere).applyMatrix4(au),this.boundingSphere.union(Um)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,o=this.morphTexture.source.data.data,l=r.length+1,h=e*l+1;for(let d=0;d<r.length;d++)r[d]=o[h+d]}raycast(e,n){const r=this.matrixWorld,o=this.count;if(zm.geometry=this.geometry,zm.material=this.material,zm.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Um.copy(this.boundingSphere),Um.applyMatrix4(r),e.ray.intersectsSphere(Um)!==!1))for(let l=0;l<o;l++){this.getMatrixAt(l,au),gS.multiplyMatrices(r,au),zm.matrixWorld=gS,zm.raycast(e,fg);for(let h=0,d=fg.length;h<d;h++){const p=fg[h];p.instanceId=l,p.object=this,n.push(p)}fg.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Kx(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,o=r.length+1;this.morphTexture===null&&(this.morphTexture=new VI(new Float32Array(o*this.count),o,this.count,use,bC));const l=this.morphTexture.source.data.data;let h=0;for(let g=0;g<r.length;g++)h+=r[g];const d=this.geometry.morphTargetsRelative?1:1-h,p=o*e;l[p]=d,l.set(r,p+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class HI extends hl{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Mr(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Hg=new Pe,$g=new Pe,vS=new Nn,Gm=new w0,gg=new da,rx=new Pe,yS=new Pe;class TC extends zr{constructor(e=new _l,n=new HI){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let o=1,l=n.count;o<l;o++)Hg.fromBufferAttribute(n,o-1),$g.fromBufferAttribute(n,o),r[o]=r[o-1],r[o]+=Hg.distanceTo($g);e.setAttribute("lineDistance",new Eu(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,l=e.params.Line.threshold,h=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),gg.copy(r.boundingSphere),gg.applyMatrix4(o),gg.radius+=l,e.ray.intersectsSphere(gg)===!1)return;vS.copy(o).invert(),Gm.copy(e.ray).applyMatrix4(vS);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=d*d,g=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const T=Math.max(0,h.start),w=Math.min(v.count,h.start+h.count);for(let M=T,S=w-1;M<S;M+=g){const j=v.getX(M),k=v.getX(M+1),W=bg(this,e,Gm,p,j,k);W&&n.push(W)}if(this.isLineLoop){const M=v.getX(w-1),S=v.getX(T),j=bg(this,e,Gm,p,M,S);j&&n.push(j)}}else{const T=Math.max(0,h.start),w=Math.min(x.count,h.start+h.count);for(let M=T,S=w-1;M<S;M+=g){const j=bg(this,e,Gm,p,M,M+1);j&&n.push(j)}if(this.isLineLoop){const M=bg(this,e,Gm,p,w-1,T);M&&n.push(M)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,h=o.length;l<h;l++){const d=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}}function bg(a,e,n,r,o,l){const h=a.geometry.attributes.position;if(Hg.fromBufferAttribute(h,o),$g.fromBufferAttribute(h,l),n.distanceSqToSegment(Hg,$g,rx,yS)>r)return;rx.applyMatrix4(a.matrixWorld);const p=e.ray.origin.distanceTo(rx);if(!(p<e.near||p>e.far))return{distance:p,point:yS.clone().applyMatrix4(a.matrixWorld),index:o,face:null,faceIndex:null,object:a}}const xS=new Pe,CS=new Pe;class ble extends TC{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let o=0,l=n.count;o<l;o+=2)xS.fromBufferAttribute(n,o),CS.fromBufferAttribute(n,o+1),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+xS.distanceTo(CS);e.setAttribute("lineDistance",new Eu(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class vle extends TC{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class $I extends hl{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Mr(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const _S=new Nn,Zx=new w0,vg=new da,yg=new Pe;class yle extends zr{constructor(e=new _l,n=new $I){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,o=this.matrixWorld,l=e.params.Points.threshold,h=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),vg.copy(r.boundingSphere),vg.applyMatrix4(o),vg.radius+=l,e.ray.intersectsSphere(vg)===!1)return;_S.copy(o).invert(),Zx.copy(e.ray).applyMatrix4(_S);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),p=d*d,g=r.index,y=r.attributes.position;if(g!==null){const x=Math.max(0,h.start),T=Math.min(g.count,h.start+h.count);for(let w=x,M=T;w<M;w++){const S=g.getX(w);yg.fromBufferAttribute(y,S),TS(yg,S,p,o,e,n,this)}}else{const x=Math.max(0,h.start),T=Math.min(y.count,h.start+h.count);for(let w=x,M=T;w<M;w++)yg.fromBufferAttribute(y,w),TS(yg,w,p,o,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const o=n[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,h=o.length;l<h;l++){const d=o[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}}function TS(a,e,n,r,o,l,h){const d=Zx.distanceSqToPoint(a);if(d<n){const p=new Pe;Zx.closestPointToPoint(a,p),p.applyMatrix4(r);const g=o.ray.origin.distanceTo(p);if(g<o.near||g>o.far)return;l.push({distance:g,distanceToRay:Math.sqrt(d),point:p,index:e,face:null,object:h})}}class cp extends hl{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pse,this.normalScale=new hr(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ml,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ma extends cp{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new hr(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ni(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Mr(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Mr(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Mr(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function xg(a,e,n){return!a||!n&&a.constructor===e?a:typeof e.BYTES_PER_ELEMENT=="number"?new e(a):Array.prototype.slice.call(a)}function xle(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function Cle(a){function e(o,l){return a[o]-a[l]}const n=a.length,r=new Array(n);for(let o=0;o!==n;++o)r[o]=o;return r.sort(e),r}function wS(a,e,n){const r=a.length,o=new a.constructor(r);for(let l=0,h=0;h!==r;++l){const d=n[l]*e;for(let p=0;p!==e;++p)o[h++]=a[d+p]}return o}function qI(a,e,n,r){let o=1,l=a[0];for(;l!==void 0&&l[r]===void 0;)l=a[o++];if(l===void 0)return;let h=l[r];if(h!==void 0)if(Array.isArray(h))do h=l[r],h!==void 0&&(e.push(l.time),n.push.apply(n,h)),l=a[o++];while(l!==void 0);else if(h.toArray!==void 0)do h=l[r],h!==void 0&&(e.push(l.time),h.toArray(n,n.length)),l=a[o++];while(l!==void 0);else do h=l[r],h!==void 0&&(e.push(l.time),n.push(h)),l=a[o++];while(l!==void 0)}class wp{constructor(e,n,r,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,o=n[r],l=n[r-1];n:{e:{let h;t:{r:if(!(e<o)){for(let d=r+2;;){if(o===void 0){if(e<l)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===d)break;if(l=o,o=n[++r],e<o)break e}h=n.length;break t}if(!(e>=l)){const d=n[1];e<d&&(r=2,l=d);for(let p=r-2;;){if(l===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===p)break;if(o=l,l=n[--r-1],e>=l)break e}h=r,r=0;break t}break n}for(;r<h;){const d=r+h>>>1;e<n[d]?h=d:r=d+1}if(o=n[r],l=n[r-1],l===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,l,o)}return this.interpolate_(r,l,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=e*o;for(let h=0;h!==o;++h)n[h]=r[l+h];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class _le extends wp{constructor(e,n,r,o){super(e,n,r,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:D3,endingEnd:D3}}intervalChanged_(e,n,r){const o=this.parameterPositions;let l=e-2,h=e+1,d=o[l],p=o[h];if(d===void 0)switch(this.getSettings_().endingStart){case F3:l=e,d=2*n-r;break;case k3:l=o.length-2,d=n+o[l]-o[l+1];break;default:l=e,d=r}if(p===void 0)switch(this.getSettings_().endingEnd){case F3:h=e,p=2*r-n;break;case k3:h=1,p=r+o[1]-o[0];break;default:h=e-1,p=n}const g=(r-n)*.5,v=this.valueSize;this._weightPrev=g/(n-d),this._weightNext=g/(p-r),this._offsetPrev=l*v,this._offsetNext=h*v}interpolate_(e,n,r,o){const l=this.resultBuffer,h=this.sampleValues,d=this.valueSize,p=e*d,g=p-d,v=this._offsetPrev,y=this._offsetNext,x=this._weightPrev,T=this._weightNext,w=(r-n)/(o-n),M=w*w,S=M*w,j=-x*S+2*x*M-x*w,k=(1+x)*S+(-1.5-2*x)*M+(-.5+x)*w+1,W=(-1-T)*S+(1.5+T)*M+.5*w,q=T*S-T*M;for(let Z=0;Z!==d;++Z)l[Z]=j*h[v+Z]+k*h[g+Z]+W*h[p+Z]+q*h[y+Z];return l}}class Tle extends wp{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const l=this.resultBuffer,h=this.sampleValues,d=this.valueSize,p=e*d,g=p-d,v=(r-n)/(o-n),y=1-v;for(let x=0;x!==d;++x)l[x]=h[g+x]*y+h[p+x]*v;return l}}class wle extends wp{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class pa{constructor(e,n,r,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xg(n,this.TimeBufferType),this.values=xg(r,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:xg(e.times,Array),values:xg(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(r.interpolation=o)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new wle(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Tle(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new _le(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case sp:n=this.InterpolantFactoryMethodDiscrete;break;case Pu:n=this.InterpolantFactoryMethodLinear;break;case Ly:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sp;case this.InterpolantFactoryMethodLinear:return Pu;case this.InterpolantFactoryMethodSmooth:return Ly}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,o=n.length;r!==o;++r)n[r]*=e}return this}trim(e,n){const r=this.times,o=r.length;let l=0,h=o-1;for(;l!==o&&r[l]<e;)++l;for(;h!==-1&&r[h]>n;)--h;if(++h,l!==0||h!==o){l>=h&&(h=Math.max(h,1),l=h-1);const d=this.getValueSize();this.times=r.slice(l,h),this.values=this.values.slice(l*d,h*d)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,o=this.values,l=r.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let h=null;for(let d=0;d!==l;d++){const p=r[d];if(typeof p=="number"&&isNaN(p)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,p),e=!1;break}if(h!==null&&h>p){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,p,h),e=!1;break}h=p}if(o!==void 0&&xle(o))for(let d=0,p=o.length;d!==p;++d){const g=o[d];if(isNaN(g)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,g),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),o=this.getInterpolation()===Ly,l=e.length-1;let h=1;for(let d=1;d<l;++d){let p=!1;const g=e[d],v=e[d+1];if(g!==v&&(d!==1||g!==e[0]))if(o)p=!0;else{const y=d*r,x=y-r,T=y+r;for(let w=0;w!==r;++w){const M=n[y+w];if(M!==n[x+w]||M!==n[T+w]){p=!0;break}}}if(p){if(d!==h){e[h]=e[d];const y=d*r,x=h*r;for(let T=0;T!==r;++T)n[x+T]=n[y+T]}++h}}if(l>0){e[h]=e[l];for(let d=l*r,p=h*r,g=0;g!==r;++g)n[p+g]=n[d+g];++h}return h!==e.length?(this.times=e.slice(0,h),this.values=n.slice(0,h*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,o=new r(this.name,e,n);return o.createInterpolant=this.createInterpolant,o}}pa.prototype.TimeBufferType=Float32Array;pa.prototype.ValueBufferType=Float32Array;pa.prototype.DefaultInterpolation=Pu;class qu extends pa{}qu.prototype.ValueTypeName="bool";qu.prototype.ValueBufferType=Array;qu.prototype.DefaultInterpolation=sp;qu.prototype.InterpolantFactoryMethodLinear=void 0;qu.prototype.InterpolantFactoryMethodSmooth=void 0;class YI extends pa{}YI.prototype.ValueTypeName="color";class Bu extends pa{}Bu.prototype.ValueTypeName="number";class Nle extends wp{constructor(e,n,r,o){super(e,n,r,o)}interpolate_(e,n,r,o){const l=this.resultBuffer,h=this.sampleValues,d=this.valueSize,p=(r-n)/(o-n);let g=e*d;for(let v=g+d;g!==v;g+=4)Cl.slerpFlat(l,0,h,g-d,h,g,p);return l}}class Xc extends pa{InterpolantFactoryMethodLinear(e){return new Nle(this.times,this.values,this.getValueSize(),e)}}Xc.prototype.ValueTypeName="quaternion";Xc.prototype.DefaultInterpolation=Pu;Xc.prototype.InterpolantFactoryMethodSmooth=void 0;class Yu extends pa{}Yu.prototype.ValueTypeName="string";Yu.prototype.ValueBufferType=Array;Yu.prototype.DefaultInterpolation=sp;Yu.prototype.InterpolantFactoryMethodLinear=void 0;Yu.prototype.InterpolantFactoryMethodSmooth=void 0;class Ou extends pa{}Ou.prototype.ValueTypeName="vector";class Mle{constructor(e="",n=-1,r=[],o=dse){this.name=e,this.tracks=r,this.duration=n,this.blendMode=o,this.uuid=Oo(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,o=1/(e.fps||1);for(let h=0,d=r.length;h!==d;++h)n.push(Ale(r[h]).scale(o));const l=new this(e.name,e.duration,n,e.blendMode);return l.uuid=e.uuid,l}static toJSON(e){const n=[],r=e.tracks,o={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let l=0,h=r.length;l!==h;++l)n.push(pa.toJSON(r[l]));return o}static CreateFromMorphTargetSequence(e,n,r,o){const l=n.length,h=[];for(let d=0;d<l;d++){let p=[],g=[];p.push((d+l-1)%l,d,(d+1)%l),g.push(0,1,0);const v=Cle(p);p=wS(p,1,v),g=wS(g,1,v),!o&&p[0]===0&&(p.push(l),g.push(g[0])),h.push(new Bu(".morphTargetInfluences["+n[d].name+"]",p,g).scale(1/r))}return new this(e,-1,h)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const o=e;r=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<r.length;o++)if(r[o].name===n)return r[o];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const o={},l=/^([\w-]*?)([\d]+)$/;for(let d=0,p=e.length;d<p;d++){const g=e[d],v=g.name.match(l);if(v&&v.length>1){const y=v[1];let x=o[y];x||(o[y]=x=[]),x.push(g)}}const h=[];for(const d in o)h.push(this.CreateFromMorphTargetSequence(d,o[d],n,r));return h}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(y,x,T,w,M){if(T.length!==0){const S=[],j=[];qI(T,S,j,w),S.length!==0&&M.push(new y(x,S,j))}},o=[],l=e.name||"default",h=e.fps||30,d=e.blendMode;let p=e.length||-1;const g=e.hierarchy||[];for(let y=0;y<g.length;y++){const x=g[y].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const T={};let w;for(w=0;w<x.length;w++)if(x[w].morphTargets)for(let M=0;M<x[w].morphTargets.length;M++)T[x[w].morphTargets[M]]=-1;for(const M in T){const S=[],j=[];for(let k=0;k!==x[w].morphTargets.length;++k){const W=x[w];S.push(W.time),j.push(W.morphTarget===M?1:0)}o.push(new Bu(".morphTargetInfluence["+M+"]",S,j))}p=T.length*h}else{const T=".bones["+n[y].name+"]";r(Ou,T+".position",x,"pos",o),r(Xc,T+".quaternion",x,"rot",o),r(Ou,T+".scale",x,"scl",o)}}return o.length===0?null:new this(l,p,o,d)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,o=e.length;r!==o;++r){const l=this.tracks[r];n=Math.max(n,l.times[l.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Sle(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bu;case"vector":case"vector2":case"vector3":case"vector4":return Ou;case"color":return YI;case"quaternion":return Xc;case"bool":case"boolean":return qu;case"string":return Yu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}function Ale(a){if(a.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Sle(a.type);if(a.times===void 0){const n=[],r=[];qI(a.keys,n,r,"value"),a.times=n,a.values=r}return e.parse!==void 0?e.parse(a):new e(a.name,a.times,a.values,a.interpolation)}const cl={enabled:!1,files:{},add:function(a,e){this.enabled!==!1&&(this.files[a]=e)},get:function(a){if(this.enabled!==!1)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};class Ele{constructor(e,n,r){const o=this;let l=!1,h=0,d=0,p;const g=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(v){d++,l===!1&&o.onStart!==void 0&&o.onStart(v,h,d),l=!0},this.itemEnd=function(v){h++,o.onProgress!==void 0&&o.onProgress(v,h,d),h===d&&(l=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(v){o.onError!==void 0&&o.onError(v)},this.resolveURL=function(v){return p?p(v):v},this.setURLModifier=function(v){return p=v,this},this.addHandler=function(v,y){return g.push(v,y),this},this.removeHandler=function(v){const y=g.indexOf(v);return y!==-1&&g.splice(y,2),this},this.getHandler=function(v){for(let y=0,x=g.length;y<x;y+=2){const T=g[y],w=g[y+1];if(T.global&&(T.lastIndex=0),T.test(v))return w}return null}}}const Ile=new Ele;class qc{constructor(e){this.manager=e!==void 0?e:Ile,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(o,l){r.load(e,o,n,l)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}qc.DEFAULT_MATERIAL_NAME="__DEFAULT";const ts={};class Rle extends Error{constructor(e,n){super(e),this.response=n}}class qg extends qc{constructor(e){super(e)}load(e,n,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=cl.get(e);if(l!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(l),this.manager.itemEnd(e)},0),l;if(ts[e]!==void 0){ts[e].push({onLoad:n,onProgress:r,onError:o});return}ts[e]=[],ts[e].push({onLoad:n,onProgress:r,onError:o});const h=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),d=this.mimeType,p=this.responseType;fetch(h).then(g=>{if(g.status===200||g.status===0){if(g.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||g.body===void 0||g.body.getReader===void 0)return g;const v=ts[e],y=g.body.getReader(),x=g.headers.get("X-File-Size")||g.headers.get("Content-Length"),T=x?parseInt(x):0,w=T!==0;let M=0;const S=new ReadableStream({start(j){k();function k(){y.read().then(({done:W,value:q})=>{if(W)j.close();else{M+=q.byteLength;const Z=new ProgressEvent("progress",{lengthComputable:w,loaded:M,total:T});for(let Y=0,he=v.length;Y<he;Y++){const ae=v[Y];ae.onProgress&&ae.onProgress(Z)}j.enqueue(q),k()}})}}});return new Response(S)}else throw new Rle(`fetch for "${g.url}" responded with ${g.status}: ${g.statusText}`,g)}).then(g=>{switch(p){case"arraybuffer":return g.arrayBuffer();case"blob":return g.blob();case"document":return g.text().then(v=>new DOMParser().parseFromString(v,d));case"json":return g.json();default:if(d===void 0)return g.text();{const y=/charset="?([^;"\s]*)"?/i.exec(d),x=y&&y[1]?y[1].toLowerCase():void 0,T=new TextDecoder(x);return g.arrayBuffer().then(w=>T.decode(w))}}}).then(g=>{cl.add(e,g);const v=ts[e];delete ts[e];for(let y=0,x=v.length;y<x;y++){const T=v[y];T.onLoad&&T.onLoad(g)}}).catch(g=>{const v=ts[e];if(v===void 0)throw this.manager.itemError(e),g;delete ts[e];for(let y=0,x=v.length;y<x;y++){const T=v[y];T.onError&&T.onError(g)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ple extends qc{constructor(e){super(e)}load(e,n,r,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,h=cl.get(e);if(h!==void 0)return l.manager.itemStart(e),setTimeout(function(){n&&n(h),l.manager.itemEnd(e)},0),h;const d=Yx("img");function p(){v(),cl.add(e,this),n&&n(this),l.manager.itemEnd(e)}function g(y){v(),o&&o(y),l.manager.itemError(e),l.manager.itemEnd(e)}function v(){d.removeEventListener("load",p,!1),d.removeEventListener("error",g,!1)}return d.addEventListener("load",p,!1),d.addEventListener("error",g,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),l.manager.itemStart(e),d.src=e,d}}class Ble extends qc{constructor(e){super(e)}load(e,n,r,o){const l=new to,h=new Ple(this.manager);return h.setCrossOrigin(this.crossOrigin),h.setPath(this.path),h.load(e,function(d){l.image=d,l.needsUpdate=!0,n!==void 0&&n(l)},r,o),l}}class wC extends zr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Mr(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const ix=new Nn,NS=new Pe,MS=new Pe;class NC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new hr(512,512),this.map=null,this.mapPass=null,this.matrix=new Nn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new sle,this._frameExtents=new hr(1,1),this._viewportCount=1,this._viewports=[new Zi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;NS.setFromMatrixPosition(e.matrixWorld),n.position.copy(NS),MS.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(MS),n.updateMatrixWorld(),ix.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ix),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ix)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ole extends NC{constructor(){super(new xC(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=lp*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,l=e.distance||n.far;(r!==n.fov||o!==n.aspect||l!==n.far)&&(n.fov=r,n.aspect=o,n.far=l,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lle extends wC{constructor(e,n,r=0,o=Math.PI/3,l=0,h=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(zr.DEFAULT_UP),this.updateMatrix(),this.target=new zr,this.distance=r,this.angle=o,this.penumbra=l,this.decay=h,this.map=null,this.shadow=new Ole}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const SS=new Nn,Wm=new Pe,ox=new Pe;class jle extends NC{constructor(){super(new xC(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new hr(4,2),this._viewportCount=6,this._viewports=[new Zi(2,1,1,1),new Zi(0,1,1,1),new Zi(3,1,1,1),new Zi(1,1,1,1),new Zi(3,0,1,1),new Zi(1,0,1,1)],this._cubeDirections=[new Pe(1,0,0),new Pe(-1,0,0),new Pe(0,0,1),new Pe(0,0,-1),new Pe(0,1,0),new Pe(0,-1,0)],this._cubeUps=[new Pe(0,1,0),new Pe(0,1,0),new Pe(0,1,0),new Pe(0,1,0),new Pe(0,0,1),new Pe(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,o=this.matrix,l=e.distance||r.far;l!==r.far&&(r.far=l,r.updateProjectionMatrix()),Wm.setFromMatrixPosition(e.matrixWorld),r.position.copy(Wm),ox.copy(r.position),ox.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(ox),r.updateMatrixWorld(),o.makeTranslation(-Wm.x,-Wm.y,-Wm.z),SS.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SS)}}class KI extends wC{constructor(e,n,r=0,o=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new jle}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Dle extends NC{constructor(){super(new GI(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Fle extends wC{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(zr.DEFAULT_UP),this.updateMatrix(),this.target=new zr,this.shadow=new Dle}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ep{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,o=e.length;r<o;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class kle extends qc{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const l=this,h=cl.get(e);if(h!==void 0){if(l.manager.itemStart(e),h.then){h.then(g=>{n&&n(g),l.manager.itemEnd(e)}).catch(g=>{o&&o(g)});return}return setTimeout(function(){n&&n(h),l.manager.itemEnd(e)},0),h}const d={};d.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",d.headers=this.requestHeader;const p=fetch(e,d).then(function(g){return g.blob()}).then(function(g){return createImageBitmap(g,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(g){return cl.add(e,g),n&&n(g),l.manager.itemEnd(e),g}).catch(function(g){o&&o(g),cl.remove(e),l.manager.itemError(e),l.manager.itemEnd(e)});cl.add(e,p),l.manager.itemStart(e)}}const MC="\\[\\]\\.:\\/",Xle=new RegExp("["+MC+"]","g"),SC="[^"+MC+"]",zle="[^"+MC.replace("\\.","")+"]",Ule=/((?:WC+[\/:])*)/.source.replace("WC",SC),Gle=/(WCOD+)?/.source.replace("WCOD",zle),Wle=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",SC),Vle=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",SC),Hle=new RegExp("^"+Ule+Gle+Wle+Vle+"$"),$le=["material","materials","bones","map"];class qle{constructor(e,n,r){const o=r||Vn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,o)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,o=this._bindings[r];o!==void 0&&o.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,l=r.length;o!==l;++o)r[o].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Vn{constructor(e,n,r){this.path=n,this.parsedPath=r||Vn.parseTrackName(n),this.node=Vn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Vn.Composite(e,n,r):new Vn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xle,"")}static parseTrackName(e){const n=Hle.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const l=r.nodeName.substring(o+1);$le.indexOf(l)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=l)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(l){for(let h=0;h<l.length;h++){const d=l[h];if(d.name===n||d.uuid===n)return d;const p=r(d.children);if(p)return p}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)e[n++]=r[o]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)r[o]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)r[o]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let o=0,l=r.length;o!==l;++o)r[o]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,o=n.propertyName;let l=n.propertyIndex;if(e||(e=Vn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let g=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===g){g=v;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(g!==void 0){if(e[g]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[g]}}const h=e[o];if(h===void 0){const g=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+g+"."+o+" but it wasn't found.",e);return}let d=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?d=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(d=this.Versioning.MatrixWorldNeedsUpdate);let p=this.BindingType.Direct;if(l!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[l]!==void 0&&(l=e.morphTargetDictionary[l])}p=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=l}else h.fromArray!==void 0&&h.toArray!==void 0?(p=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(p=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=o;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Vn.Composite=qle;Vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Vn.prototype.GetterByBindingType=[Vn.prototype._getValue_direct,Vn.prototype._getValue_array,Vn.prototype._getValue_arrayElement,Vn.prototype._getValue_toArray];Vn.prototype.SetterByBindingTypeAndVersioning=[[Vn.prototype._setValue_direct,Vn.prototype._setValue_direct_setNeedsUpdate,Vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_array,Vn.prototype._setValue_array_setNeedsUpdate,Vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_arrayElement,Vn.prototype._setValue_arrayElement_setNeedsUpdate,Vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_fromArray,Vn.prototype._setValue_fromArray_setNeedsUpdate,Vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:OI}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=OI);class M0 extends Xr{constructor(){const e=M0.SkyShader,n=new ile({name:e.name,uniforms:tle.clone(e.uniforms),vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,side:pC,depthWrite:!1});super(new N0(1,1,1),n),this.isSky=!0}}M0.SkyShader={name:"SkyShader",uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new Pe},up:{value:new Pe(0,1,0)}},vertexShader:`
		uniform vec3 sunPosition;
		uniform float rayleigh;
		uniform float turbidity;
		uniform float mieCoefficient;
		uniform vec3 up;

		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		// constants for atmospheric scattering
		const float e = 2.71828182845904523536028747135266249775724709369995957;
		const float pi = 3.141592653589793238462643383279502884197169;

		// wavelength of used primaries, according to preetham
		const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
		// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
		// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
		const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

		// mie stuff
		// K coefficient for the primaries
		const float v = 4.0;
		const vec3 K = vec3( 0.686, 0.678, 0.666 );
		// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
		const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

		// earth shadow hack
		// cutoffAngle = pi / 1.95;
		const float cutoffAngle = 1.6110731556870734;
		const float steepness = 1.5;
		const float EE = 1000.0;

		float sunIntensity( float zenithAngleCos ) {
			zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
			return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
		}

		vec3 totalMie( float T ) {
			float c = ( 0.2 * T ) * 10E-18;
			return 0.434 * c * MieConst;
		}

		void main() {

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vWorldPosition = worldPosition.xyz;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			gl_Position.z = gl_Position.w; // set z to camera.far

			vSunDirection = normalize( sunPosition );

			vSunE = sunIntensity( dot( vSunDirection, up ) );

			vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

			float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

			// extinction (absorbtion + out scattering)
			// rayleigh coefficients
			vBetaR = totalRayleigh * rayleighCoefficient;

			// mie coefficients
			vBetaM = totalMie( turbidity ) * mieCoefficient;

		}`,fragmentShader:`
		varying vec3 vWorldPosition;
		varying vec3 vSunDirection;
		varying float vSunfade;
		varying vec3 vBetaR;
		varying vec3 vBetaM;
		varying float vSunE;

		uniform float mieDirectionalG;
		uniform vec3 up;

		// constants for atmospheric scattering
		const float pi = 3.141592653589793238462643383279502884197169;

		const float n = 1.0003; // refractive index of air
		const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

		// optical length at zenith for molecules
		const float rayleighZenithLength = 8.4E3;
		const float mieZenithLength = 1.25E3;
		// 66 arc seconds -> degrees, and the cosine of that
		const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

		// 3.0 / ( 16.0 * pi )
		const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
		// 1.0 / ( 4.0 * pi )
		const float ONE_OVER_FOURPI = 0.07957747154594767;

		float rayleighPhase( float cosTheta ) {
			return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
		}

		float hgPhase( float cosTheta, float g ) {
			float g2 = pow( g, 2.0 );
			float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
			return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
		}

		void main() {

			vec3 direction = normalize( vWorldPosition - cameraPosition );

			// optical length
			// cutoff angle at 90 to avoid singularity in next formula.
			float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
			float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
			float sR = rayleighZenithLength * inverse;
			float sM = mieZenithLength * inverse;

			// combined extinction factor
			vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

			// in scattering
			float cosTheta = dot( direction, vSunDirection );

			float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
			vec3 betaRTheta = vBetaR * rPhase;

			float mPhase = hgPhase( cosTheta, mieDirectionalG );
			vec3 betaMTheta = vBetaM * mPhase;

			vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
			Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

			// nightsky
			float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
			float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
			vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
			vec3 L0 = vec3( 0.1 ) * Fex;

			// composition + solar disc
			float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
			L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

			vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

			vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

			gl_FragColor = vec4( retColor, 1.0 );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>

		}`};const Yle=Object.freeze(Object.defineProperty({__proto__:null,Sky:M0},Symbol.toStringTag,{value:"Module"})),Kle=P.getAugmentedNamespace(Yle);var AS;function Zle(){return AS||(AS=1,function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(vl()),o=e(yl()),l=e(ua()),h=v(cs()),d=Kle,p=xl();function g(T){if(typeof WeakMap!="function")return null;var w=new WeakMap,M=new WeakMap;return(g=function(j){return j?M:w})(T)}function v(T,w){if(T&&T.__esModule)return T;if(T===null||n(T)!="object"&&typeof T!="function")return{default:T};var M=g(w);if(M&&M.has(T))return M.get(T);var S={__proto__:null},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in T)if(k!=="default"&&{}.hasOwnProperty.call(T,k)){var W=j?Object.getOwnPropertyDescriptor(T,k):null;W&&(W.get||W.set)?Object.defineProperty(S,k,W):S[k]=T[k]}return S.default=T,M&&M.set(T,S),S}function y(T,w){var M=Object.keys(T);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(T);w&&(S=S.filter(function(j){return Object.getOwnPropertyDescriptor(T,j).enumerable})),M.push.apply(M,S)}return M}function x(T){for(var w=1;w<arguments.length;w++){var M=arguments[w]!=null?arguments[w]:{};w%2?y(Object(M),!0).forEach(function(S){(0,l.default)(T,S,M[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(M)):y(Object(M)).forEach(function(S){Object.defineProperty(T,S,Object.getOwnPropertyDescriptor(M,S))})}return T}a.default=function(){function T(w){(0,r.default)(this,T),(0,l.default)(this,"options",void 0),(0,l.default)(this,"sky",void 0),(0,l.default)(this,"sun",void 0),this.options=x(x({},p.sky),w),this.sky=new d.Sky,this.sky.scale.setScalar(1e3);var M=this.options,S=M.turbidity,j=M.rayleigh,k=M.mieDirectionalG,W=M.mieCoefficient;this.sky.material.uniforms=x(x({},this.sky.material.uniforms),{},{turbidity:{value:S},rayleigh:{value:j},mieDirectionalG:{value:k},mieCoefficient:{value:W}}),this.sun=new h.Vector3,this.update()}return(0,o.default)(T,[{key:"update",value:function(){var M=this.options,S=M.inclination,j=M.azimuth,k=Math.PI*(S-.5),W=2*Math.PI*(j-.5);this.sun.x=Math.cos(W),this.sun.y=Math.sin(W)*Math.sin(k),this.sun.z=Math.sin(W)*Math.cos(k),this.sky.material.uniforms.sunPosition.value.copy(this.sun)}}])}()}(By)),By}var ax={},ES;function Jle(){return ES||(ES=1,function(a){var e=Fo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=e(ua());function r(Y,he){var ae=Object.keys(Y);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(Y);he&&(ve=ve.filter(function(re){return Object.getOwnPropertyDescriptor(Y,re).enumerable})),ae.push.apply(ae,ve)}return ae}function o(Y){for(var he=1;he<arguments.length;he++){var ae=arguments[he]!=null?arguments[he]:{};he%2?r(Object(ae),!0).forEach(function(ve){(0,n.default)(Y,ve,ae[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(ae)):r(Object(ae)).forEach(function(ve){Object.defineProperty(Y,ve,Object.getOwnPropertyDescriptor(ae,ve))})}return Y}var l=window,h=l.requestAnimationFrame,d=function(){return new Date().getTime()},p="There is nothing to undo.",g=d(),v={enable:!1,timestamp:g,stopTime:g,lastTime:g,fps:0},y=o({},v),x={do:function(){},list:[]},T=function(he){x.list.push(x.do),x.do=function(ae){return function(){return he(arguments[0]),ae.apply(this,arguments)}}(x.do)},w=function Y(){if(y.enable){var he=d(),ae=y.fps?1e3/y.fps:0,ve=he-y.lastTime;if(ve<ae){h(function(){return Y()});return}y.lastTime=he;var re=he-y.timestamp;x.do({delta:re}),h(function(){return Y()})}},M=function(){if(!y.enable){y.enable=!0;var he=d()-y.stopTime;y.timestamp+=he,w()}},S=function(){y.enable=!1,y.stopTime=d()},j=function(){y.enable=v.enable,x.do=function(){},x.list=[]},k=function(){var he=x.list;if(he.length===0){console.warn(p);return}x.do=he[he.length-1],he.pop()},W=function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30;y.fps=he},q=function(){y.timestamp=d(),y.stopTime=d(),y.lastTime=d()},Z={add:T,todo:x,play:M,stop:S,destroy:j,undo:k,setFPS:W,reset:q};a.default=Z}(ax)),ax}var sx={exports:{}},IS;function Qle(){return IS||(IS=1,function(a,e){(function(n,r){a.exports=r()})(P.commonjsGlobal,function(){var n=function(){var r=0,o=document.createElement("div");function l(T){return o.appendChild(T.dom),T}function h(T){for(var w=0;w<o.children.length;w++)o.children[w].style.display=w===T?"block":"none";r=T}o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(T){T.preventDefault(),h(++r%o.children.length)},!1);var d=(performance||Date).now(),p=d,g=0,v=l(new n.Panel("FPS","#0ff","#002")),y=l(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var x=l(new n.Panel("MB","#f08","#201"));return h(0),{REVISION:16,dom:o,addPanel:l,showPanel:h,begin:function(){d=(performance||Date).now()},end:function(){g++;var T=(performance||Date).now();if(y.update(T-d,200),p+1e3<=T&&(v.update(1e3*g/(T-p),100),p=T,g=0,x)){var w=performance.memory;x.update(w.usedJSHeapSize/1048576,w.jsHeapSizeLimit/1048576)}return T},update:function(){d=this.end()},domElement:o,setMode:h}};return n.Panel=function(r,o,l){var h=1/0,d=0,p=Math.round,g=p(window.devicePixelRatio||1),v=80*g,y=48*g,x=3*g,T=2*g,w=3*g,M=15*g,S=74*g,j=30*g,k=document.createElement("canvas");k.width=v,k.height=y,k.style.cssText="width:80px;height:48px";var W=k.getContext("2d");return W.font="bold "+9*g+"px Helvetica,Arial,sans-serif",W.textBaseline="top",W.fillStyle=l,W.fillRect(0,0,v,y),W.fillStyle=o,W.fillText(r,x,T),W.fillRect(w,M,S,j),W.fillStyle=l,W.globalAlpha=.9,W.fillRect(w,M,S,j),{dom:k,update:function(q,Z){h=Math.min(h,q),d=Math.max(d,q),W.fillStyle=l,W.globalAlpha=1,W.fillRect(0,0,v,M),W.fillStyle=o,W.fillText(p(q)+" "+r+" ("+p(h)+"-"+p(d)+")",x,T),W.drawImage(k,w+g,M,S-g,j,w,M,S-g,j),W.fillRect(w+S-g,M,g,j),W.fillStyle=l,W.globalAlpha=.9,W.fillRect(w+S-g,M,g,p((1-q/Z)*j))}}},n})}(sx)),sx.exports}var fr=cs();function ece(a,e,n){let{color:r=65280,scale:o=1,onInit:l,onUpdate:h}=n===void 0?{}:n;const d=[],p=new fr.MeshBasicMaterial({color:r??65280,wireframe:!0}),g=new z,v=new z,y=new z,x=new Vr,T=new fr.SphereGeometry(1),w=new fr.BoxGeometry(1,1,1),M=new fr.PlaneGeometry(10,10,10,10);M.translate(0,0,1e-4);function S(ae){const ve=new fr.BufferGeometry,re=[];for(let oe=0;oe<ae.vertices.length;oe++){const Q=ae.vertices[oe];re.push(Q.x,Q.y,Q.z)}ve.setAttribute("position",new fr.Float32BufferAttribute(re,3));const se=[];for(let oe=0;oe<ae.faces.length;oe++){const Q=ae.faces[oe],pe=Q[0];for(let be=1;be<Q.length-1;be++){const fe=Q[be],de=Q[be+1];se.push(pe,fe,de)}}return ve.setIndex(se),ve.computeBoundingSphere(),ve.computeVertexNormals(),ve}function j(ae){const ve=new fr.BufferGeometry,re=[],se=g,oe=v,Q=y;for(let pe=0;pe<ae.indices.length/3;pe++)ae.getTriangleVertices(pe,se,oe,Q),re.push(se.x,se.y,se.z),re.push(oe.x,oe.y,oe.z),re.push(Q.x,Q.y,Q.z);return ve.setAttribute("position",new fr.Float32BufferAttribute(re,3)),ve.computeBoundingSphere(),ve.computeVertexNormals(),ve}function k(ae){const ve=new fr.BufferGeometry,re=ae.elementSize||1,se=ae.data.flatMap((Q,pe)=>Q.flatMap((be,fe)=>[pe*re,fe*re,be])),oe=[];for(let Q=0;Q<ae.data.length-1;Q++)for(let pe=0;pe<ae.data[Q].length-1;pe++){const be=ae.data[Q].length,fe=Q*be+pe;oe.push(fe+1,fe+be,fe+be+1),oe.push(fe+be,fe+1,fe)}return ve.setIndex(oe),ve.setAttribute("position",new fr.Float32BufferAttribute(se,3)),ve.computeBoundingSphere(),ve.computeVertexNormals(),ve}function W(ae){let ve=new fr.Mesh;const{SPHERE:re,BOX:se,PLANE:oe,CYLINDER:Q,CONVEXPOLYHEDRON:pe,TRIMESH:be,HEIGHTFIELD:fe}=st.types;switch(ae.type){case re:{ve=new fr.Mesh(T,p);break}case se:{ve=new fr.Mesh(w,p);break}case oe:{ve=new fr.Mesh(M,p);break}case Q:{const de=new fr.CylinderGeometry(ae.radiusTop,ae.radiusBottom,ae.height,ae.numSegments);ve=new fr.Mesh(de,p),ae.geometryId=de.id;break}case pe:{const de=S(ae);ve=new fr.Mesh(de,p),ae.geometryId=de.id;break}case be:{const de=j(ae);ve=new fr.Mesh(de,p),ae.geometryId=de.id;break}case fe:{const de=k(ae);ve=new fr.Mesh(de,p),ae.geometryId=de.id;break}}return a.add(ve),ve}function q(ae,ve){const{SPHERE:re,BOX:se,PLANE:oe,CYLINDER:Q,CONVEXPOLYHEDRON:pe,TRIMESH:be,HEIGHTFIELD:fe}=st.types;switch(ve.type){case re:{const{radius:de}=ve;ae.scale.set(de*o,de*o,de*o);break}case se:{ae.scale.copy(ve.halfExtents),ae.scale.multiplyScalar(2*o);break}case oe:break;case Q:{ae.scale.set(1*o,1*o,1*o);break}case pe:{ae.scale.set(1*o,1*o,1*o);break}case be:{ae.scale.copy(ve.scale).multiplyScalar(o);break}case fe:{ae.scale.set(1*o,1*o,1*o);break}}}function Z(ae,ve){if(!ae)return!1;const{geometry:re}=ae;return re instanceof fr.SphereGeometry&&ve.type===st.types.SPHERE||re instanceof fr.BoxGeometry&&ve.type===st.types.BOX||re instanceof fr.PlaneGeometry&&ve.type===st.types.PLANE||re.id===ve.geometryId&&ve.type===st.types.CYLINDER||re.id===ve.geometryId&&ve.type===st.types.CONVEXPOLYHEDRON||re.id===ve.geometryId&&ve.type===st.types.TRIMESH||re.id===ve.geometryId&&ve.type===st.types.HEIGHTFIELD}function Y(ae,ve){let re=d[ae],se=!1;return Z(re,ve)||(re&&a.remove(re),d[ae]=re=W(ve),se=!0),q(re,ve),se}function he(){const ae=d,ve=g,re=x;let se=0;for(const oe of e.bodies)for(let Q=0;Q!==oe.shapes.length;Q++){const pe=oe.shapes[Q],be=Y(se,pe),fe=ae[se];fe&&(oe.quaternion.vmult(oe.shapeOffsets[Q],ve),oe.position.vadd(ve,ve),oe.quaternion.mult(oe.shapeOrientations[Q],re),fe.position.copy(ve),fe.quaternion.copy(re),be&&l instanceof Function&&l(oe,fe,pe),!be&&h instanceof Function&&h(oe,fe,pe)),se++}for(let oe=se;oe<ae.length;oe++){const Q=ae[oe];Q&&a.remove(Q)}ae.length=se}return{update:he}}const tce=Object.freeze(Object.defineProperty({__proto__:null,default:ece},Symbol.toStringTag,{value:"Module"})),nce=P.getAugmentedNamespace(tce);(function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.THREE=void 0;var r=e(vl()),o=e(yl()),l=e(ua()),h=j(cs());a.THREE=h;var d=e(xl()),p=e(qne()),g=e(Yne()),v=e(Jne()),y=e(Qae()),x=e(ese()),T=e(tse()),w=e(Zle()),M=e(Jle());function S(Y){if(typeof WeakMap!="function")return null;var he=new WeakMap,ae=new WeakMap;return(S=function(re){return re?ae:he})(Y)}function j(Y,he){if(Y&&Y.__esModule)return Y;if(Y===null||n(Y)!="object"&&typeof Y!="function")return{default:Y};var ae=S(he);if(ae&&ae.has(Y))return ae.get(Y);var ve={__proto__:null},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var se in Y)if(se!=="default"&&{}.hasOwnProperty.call(Y,se)){var oe=re?Object.getOwnPropertyDescriptor(Y,se):null;oe&&(oe.get||oe.set)?Object.defineProperty(ve,se,oe):ve[se]=Y[se]}return ve.default=Y,ae&&ae.set(Y,ve),ve}function k(Y,he){var ae=Object.keys(Y);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(Y);he&&(ve=ve.filter(function(re){return Object.getOwnPropertyDescriptor(Y,re).enumerable})),ae.push.apply(ae,ve)}return ae}function W(Y){for(var he=1;he<arguments.length;he++){var ae=arguments[he]!=null?arguments[he]:{};he%2?k(Object(ae),!0).forEach(function(ve){(0,l.default)(Y,ve,ae[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(ae)):k(Object(ae)).forEach(function(ve){Object.defineProperty(Y,ve,Object.getOwnPropertyDescriptor(ae,ve))})}return Y}var q=Qle(),Z=nce.default;a.default=function(){function Y(he){var ae=this;(0,r.default)(this,Y),(0,l.default)(this,"options",void 0),(0,l.default)(this,"renderer",void 0),(0,l.default)(this,"update",void 0),(0,l.default)(this,"scene",void 0),(0,l.default)(this,"camera",void 0),(0,l.default)(this,"light",void 0),(0,l.default)(this,"render",void 0),(0,l.default)(this,"controls",void 0),(0,l.default)(this,"clock",void 0),(0,l.default)(this,"sky",void 0),(0,l.default)(this,"physicsImpactMaterial",void 0),(0,l.default)(this,"physicsStaticMaterial",void 0),(0,l.default)(this,"world",void 0),(0,l.default)(this,"stats",void 0),(0,l.default)(this,"enterframe",M.default),this.options=W(W({},d.default),he),this.scene=new h.Scene,this.camera=new p.default(this.options.camera).camera,this.light=new g.default(this.scene,this.options.light),this.renderer=new T.default(this.options.renderer,this.options.camera.dom||null,this.camera),this.renderer.addListeners(),this.render=this.renderer.renderer,this.controls=new v.default(this.camera,this.render,this.options.controls),this.clock=new h.Clock;var ve=this.options,re=ve.physics,se=ve.sky,oe=ve.stats;if(se.enabled&&(this.sky=new w.default(this.options.sky),this.scene.add(this.sky.sky)),re){var Q=new y.default,pe=Q.Impact,be=Q.Static;this.physicsImpactMaterial=pe,this.physicsStaticMaterial=be,this.world=new x.default().world,this.world.addContactMaterial(Q.material)}oe&&(this.stats=new q,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),this.update=function(){var fe,de;(fe=ae.stats)===null||fe===void 0||fe.begin(),ae.controls.controls.update(),ae.render.render(ae.scene,ae.camera),(de=ae.world)===null||de===void 0||de.step(1/60,ae.clock.getDelta())},this.enterframe.setFPS(this.options.fps),this.enterframe.add(this.update),this.enterframe.play()}return(0,o.default)(Y,[{key:"setFPS",value:function(ae){this.enterframe.setFPS(ae)}},{key:"addCannonDebuger",value:function(){var ae=new Z(this.scene,this.world);return ae}},{key:"updateMatrix",value:function(){this.renderer.update()}},{key:"updateDom",value:function(ae){this.renderer.updateDom(ae),this.updateMatrix()}},{key:"addResizeListeners",value:function(){this.renderer.addListeners()}},{key:"removeResizeListeners",value:function(){this.renderer.removeListeners()}}])}()})(Ht);const rce=P.getDefaultExportFromCjs(Ht);var ZI={};const lx=new WeakMap;class ice extends qc{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,o){const l=new qg(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,h=>{this.parse(h,n,o)},r,o)}parse(e,n,r=()=>{}){this.decodeDracoFile(e,n,null,null,pi).catch(r)}decodeDracoFile(e,n,r,o,l=ki,h=()=>{}){const d={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r,vertexColorSpace:l};return this.decodeGeometry(e,d).then(n).catch(h)}decodeGeometry(e,n){const r=JSON.stringify(n);if(lx.has(e)){const p=lx.get(e);if(p.key===r)return p.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const l=this.workerNextTaskID++,h=e.byteLength,d=this._getWorker(l,h).then(p=>(o=p,new Promise((g,v)=>{o._callbacks[l]={resolve:g,reject:v},o.postMessage({type:"decode",id:l,taskConfig:n,buffer:e},[e])}))).then(p=>this._createGeometry(p.geometry));return d.catch(()=>!0).then(()=>{o&&l&&this._releaseTask(o,l)}),lx.set(e,{key:r,promise:d}),d}_createGeometry(e){const n=new _l;e.index&&n.setIndex(new Di(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const o=e.attributes[r],l=o.name,h=o.array,d=o.itemSize,p=new Di(h,d);l==="color"&&(this._assignVertexColorSpace(p,o.vertexColorSpace),p.normalized=!(h instanceof Float32Array)),n.setAttribute(l,p)}return n}_assignVertexColorSpace(e,n){if(n!==pi)return;const r=new Mr;for(let o=0,l=e.count;o<l;o++)r.fromBufferAttribute(e,o).convertSRGBToLinear(),e.setXYZ(o,r.r,r.g,r.b)}_loadLibrary(e,n){const r=new qg(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((o,l)=>{r.load(e,o,void 0,l)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const o=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const l=oce.toString(),h=["/* draco decoder */",o,"","/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([h]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(l){const h=l.data;switch(h.type){case"decode":o._callbacks[h.id].resolve(h);break;case"error":o._callbacks[h.id].reject(h);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+h.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,l){return o._taskLoad>l._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function oce(){let a,e;onmessage=function(h){const d=h.data;switch(d.type){case"init":a=d.decoderConfig,e=new Promise(function(v){a.onModuleLoaded=function(y){v({draco:y})},DracoDecoderModule(a)});break;case"decode":const p=d.buffer,g=d.taskConfig;e.then(v=>{const y=v.draco,x=new y.Decoder;try{const T=n(y,x,new Int8Array(p),g),w=T.attributes.map(M=>M.array.buffer);T.index&&w.push(T.index.array.buffer),self.postMessage({type:"decode",id:d.id,geometry:T},w)}catch(T){console.error(T),self.postMessage({type:"error",id:d.id,error:T.message})}finally{y.destroy(x)}});break}};function n(h,d,p,g){const v=g.attributeIDs,y=g.attributeTypes;let x,T;const w=d.GetEncodedGeometryType(p);if(w===h.TRIANGULAR_MESH)x=new h.Mesh,T=d.DecodeArrayToMesh(p,p.byteLength,x);else if(w===h.POINT_CLOUD)x=new h.PointCloud,T=d.DecodeArrayToPointCloud(p,p.byteLength,x);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!T.ok()||x.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+T.error_msg());const M={index:null,attributes:[]};for(const S in v){const j=self[y[S]];let k,W;if(g.useUniqueIDs)W=v[S],k=d.GetAttributeByUniqueId(x,W);else{if(W=d.GetAttributeId(x,h[v[S]]),W===-1)continue;k=d.GetAttribute(x,W)}const q=o(h,d,x,S,j,k);S==="color"&&(q.vertexColorSpace=g.vertexColorSpace),M.attributes.push(q)}return w===h.TRIANGULAR_MESH&&(M.index=r(h,d,x)),h.destroy(x),M}function r(h,d,p){const v=p.num_faces()*3,y=v*4,x=h._malloc(y);d.GetTrianglesUInt32Array(p,y,x);const T=new Uint32Array(h.HEAPF32.buffer,x,v).slice();return h._free(x),{array:T,itemSize:1}}function o(h,d,p,g,v,y){const x=y.num_components(),w=p.num_points()*x,M=w*v.BYTES_PER_ELEMENT,S=l(h,v),j=h._malloc(M);d.GetAttributeDataArrayForAllPoints(p,y,S,M,j);const k=new v(h.HEAPF32.buffer,j,w).slice();return h._free(j),{name:g,array:k,itemSize:x}}function l(h,d){switch(d){case Float32Array:return h.DT_FLOAT32;case Int8Array:return h.DT_INT8;case Int16Array:return h.DT_INT16;case Int32Array:return h.DT_INT32;case Uint8Array:return h.DT_UINT8;case Uint16Array:return h.DT_UINT16;case Uint32Array:return h.DT_UINT32}}}const ace=Object.freeze(Object.defineProperty({__proto__:null,DRACOLoader:ice},Symbol.toStringTag,{value:"Module"})),sce=P.getAugmentedNamespace(ace);function RS(a,e){if(e===mse)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),a;if(e===Vx||e===DI){let n=a.getIndex();if(n===null){const h=[],d=a.getAttribute("position");if(d!==void 0){for(let p=0;p<d.count;p++)h.push(p);a.setIndex(h),n=a.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a}const r=n.count-2,o=[];if(e===Vx)for(let h=1;h<=r;h++)o.push(n.getX(0)),o.push(n.getX(h)),o.push(n.getX(h+1));else for(let h=0;h<r;h++)h%2===0?(o.push(n.getX(h)),o.push(n.getX(h+1)),o.push(n.getX(h+2))):(o.push(n.getX(h+2)),o.push(n.getX(h+1)),o.push(n.getX(h)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=a.clone();return l.setIndex(o),l.clearGroups(),l}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),a}let lce=class extends qc{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new mce(n)}),this.register(function(n){return new pce(n)}),this.register(function(n){return new Tce(n)}),this.register(function(n){return new wce(n)}),this.register(function(n){return new Nce(n)}),this.register(function(n){return new gce(n)}),this.register(function(n){return new bce(n)}),this.register(function(n){return new vce(n)}),this.register(function(n){return new yce(n)}),this.register(function(n){return new dce(n)}),this.register(function(n){return new xce(n)}),this.register(function(n){return new fce(n)}),this.register(function(n){return new _ce(n)}),this.register(function(n){return new Cce(n)}),this.register(function(n){return new hce(n)}),this.register(function(n){return new Mce(n)}),this.register(function(n){return new Sce(n)})}load(e,n,r,o){const l=this;let h;if(this.resourcePath!=="")h=this.resourcePath;else if(this.path!==""){const g=ep.extractUrlBase(e);h=ep.resolveURL(g,this.path)}else h=ep.extractUrlBase(e);this.manager.itemStart(e);const d=function(g){o?o(g):console.error(g),l.manager.itemError(e),l.manager.itemEnd(e)},p=new qg(this.manager);p.setPath(this.path),p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials),p.load(e,function(g){try{l.parse(g,h,function(v){n(v),l.manager.itemEnd(e)},d)}catch(v){d(v)}},r,d)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,o){let l;const h={},d={},p=new TextDecoder;if(typeof e=="string")l=JSON.parse(e);else if(e instanceof ArrayBuffer)if(p.decode(new Uint8Array(e,0,4))===JI){try{h[vn.KHR_BINARY_GLTF]=new Ace(e)}catch(y){o&&o(y);return}l=JSON.parse(h[vn.KHR_BINARY_GLTF].content)}else l=JSON.parse(p.decode(e));else l=e;if(l.asset===void 0||l.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const g=new zce(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});g.fileLoader.setRequestHeader(this.requestHeader);for(let v=0;v<this.pluginCallbacks.length;v++){const y=this.pluginCallbacks[v](g);y.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),d[y.name]=y,h[y.name]=!0}if(l.extensionsUsed)for(let v=0;v<l.extensionsUsed.length;++v){const y=l.extensionsUsed[v],x=l.extensionsRequired||[];switch(y){case vn.KHR_MATERIALS_UNLIT:h[y]=new uce;break;case vn.KHR_DRACO_MESH_COMPRESSION:h[y]=new Ece(l,this.dracoLoader);break;case vn.KHR_TEXTURE_TRANSFORM:h[y]=new Ice;break;case vn.KHR_MESH_QUANTIZATION:h[y]=new Rce;break;default:x.indexOf(y)>=0&&d[y]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+y+'".')}}g.setExtensions(h),g.setPlugins(d),g.parse(r,o)}parseAsync(e,n){const r=this;return new Promise(function(o,l){r.parse(e,n,o,l)})}};function cce(){let a={};return{get:function(e){return a[e]},add:function(e,n){a[e]=n},remove:function(e){delete a[e]},removeAll:function(){a={}}}}const vn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class hce{constructor(e){this.parser=e,this.name=vn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,o=n.length;r<o;r++){const l=n[r];l.extensions&&l.extensions[this.name]&&l.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let o=n.cache.get(r);if(o)return o;const l=n.json,p=((l.extensions&&l.extensions[this.name]||{}).lights||[])[e];let g;const v=new Mr(16777215);p.color!==void 0&&v.setRGB(p.color[0],p.color[1],p.color[2],ki);const y=p.range!==void 0?p.range:0;switch(p.type){case"directional":g=new Fle(v),g.target.position.set(0,0,-1),g.add(g.target);break;case"point":g=new KI(v),g.distance=y;break;case"spot":g=new Lle(v),g.distance=y,p.spot=p.spot||{},p.spot.innerConeAngle=p.spot.innerConeAngle!==void 0?p.spot.innerConeAngle:0,p.spot.outerConeAngle=p.spot.outerConeAngle!==void 0?p.spot.outerConeAngle:Math.PI/4,g.angle=p.spot.outerConeAngle,g.penumbra=1-p.spot.innerConeAngle/p.spot.outerConeAngle,g.target.position.set(0,0,-1),g.add(g.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+p.type)}return g.position.set(0,0,0),g.decay=2,ll(g,p),p.intensity!==void 0&&(g.intensity=p.intensity),g.name=n.createUniqueName(p.name||"light_"+e),o=Promise.resolve(g),n.cache.add(r,o),o}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,l=r.json.nodes[e],d=(l.extensions&&l.extensions[this.name]||{}).light;return d===void 0?null:this._loadLight(d).then(function(p){return r._getNodeRef(n.cache,d,p)})}}class uce{constructor(){this.name=vn.KHR_MATERIALS_UNLIT}getMaterialType(){return Lc}extendParams(e,n,r){const o=[];e.color=new Mr(1,1,1),e.opacity=1;const l=n.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const h=l.baseColorFactor;e.color.setRGB(h[0],h[1],h[2],ki),e.opacity=h[3]}l.baseColorTexture!==void 0&&o.push(r.assignTexture(e,"map",l.baseColorTexture,pi))}return Promise.all(o)}}class dce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name].emissiveStrength;return l!==void 0&&(n.emissiveIntensity=l),Promise.resolve()}}class mce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];if(h.clearcoatFactor!==void 0&&(n.clearcoat=h.clearcoatFactor),h.clearcoatTexture!==void 0&&l.push(r.assignTexture(n,"clearcoatMap",h.clearcoatTexture)),h.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=h.clearcoatRoughnessFactor),h.clearcoatRoughnessTexture!==void 0&&l.push(r.assignTexture(n,"clearcoatRoughnessMap",h.clearcoatRoughnessTexture)),h.clearcoatNormalTexture!==void 0&&(l.push(r.assignTexture(n,"clearcoatNormalMap",h.clearcoatNormalTexture)),h.clearcoatNormalTexture.scale!==void 0)){const d=h.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new hr(d,d)}return Promise.all(l)}}class pce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name];return n.dispersion=l.dispersion!==void 0?l.dispersion:0,Promise.resolve()}}class fce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];return h.iridescenceFactor!==void 0&&(n.iridescence=h.iridescenceFactor),h.iridescenceTexture!==void 0&&l.push(r.assignTexture(n,"iridescenceMap",h.iridescenceTexture)),h.iridescenceIor!==void 0&&(n.iridescenceIOR=h.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),h.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=h.iridescenceThicknessMinimum),h.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=h.iridescenceThicknessMaximum),h.iridescenceThicknessTexture!==void 0&&l.push(r.assignTexture(n,"iridescenceThicknessMap",h.iridescenceThicknessTexture)),Promise.all(l)}}class gce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[];n.sheenColor=new Mr(0,0,0),n.sheenRoughness=0,n.sheen=1;const h=o.extensions[this.name];if(h.sheenColorFactor!==void 0){const d=h.sheenColorFactor;n.sheenColor.setRGB(d[0],d[1],d[2],ki)}return h.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=h.sheenRoughnessFactor),h.sheenColorTexture!==void 0&&l.push(r.assignTexture(n,"sheenColorMap",h.sheenColorTexture,pi)),h.sheenRoughnessTexture!==void 0&&l.push(r.assignTexture(n,"sheenRoughnessMap",h.sheenRoughnessTexture)),Promise.all(l)}}class bce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];return h.transmissionFactor!==void 0&&(n.transmission=h.transmissionFactor),h.transmissionTexture!==void 0&&l.push(r.assignTexture(n,"transmissionMap",h.transmissionTexture)),Promise.all(l)}}class vce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];n.thickness=h.thicknessFactor!==void 0?h.thicknessFactor:0,h.thicknessTexture!==void 0&&l.push(r.assignTexture(n,"thicknessMap",h.thicknessTexture)),n.attenuationDistance=h.attenuationDistance||1/0;const d=h.attenuationColor||[1,1,1];return n.attenuationColor=new Mr().setRGB(d[0],d[1],d[2],ki),Promise.all(l)}}class yce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=o.extensions[this.name];return n.ior=l.ior!==void 0?l.ior:1.5,Promise.resolve()}}class xce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];n.specularIntensity=h.specularFactor!==void 0?h.specularFactor:1,h.specularTexture!==void 0&&l.push(r.assignTexture(n,"specularIntensityMap",h.specularTexture));const d=h.specularColorFactor||[1,1,1];return n.specularColor=new Mr().setRGB(d[0],d[1],d[2],ki),h.specularColorTexture!==void 0&&l.push(r.assignTexture(n,"specularColorMap",h.specularColorTexture,pi)),Promise.all(l)}}class Cce{constructor(e){this.parser=e,this.name=vn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];return n.bumpScale=h.bumpFactor!==void 0?h.bumpFactor:1,h.bumpTexture!==void 0&&l.push(r.assignTexture(n,"bumpMap",h.bumpTexture)),Promise.all(l)}}class _ce{constructor(e){this.parser=e,this.name=vn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ma}extendMaterialParams(e,n){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const l=[],h=o.extensions[this.name];return h.anisotropyStrength!==void 0&&(n.anisotropy=h.anisotropyStrength),h.anisotropyRotation!==void 0&&(n.anisotropyRotation=h.anisotropyRotation),h.anisotropyTexture!==void 0&&l.push(r.assignTexture(n,"anisotropyMap",h.anisotropyTexture)),Promise.all(l)}}class Tce{constructor(e){this.parser=e,this.name=vn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,o=r.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const l=o.extensions[this.name],h=n.options.ktx2Loader;if(!h){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,l.source,h)}}class wce{constructor(e){this.parser=e,this.name=vn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,l=o.textures[e];if(!l.extensions||!l.extensions[n])return null;const h=l.extensions[n],d=o.images[h.source];let p=r.textureLoader;if(d.uri){const g=r.options.manager.getHandler(d.uri);g!==null&&(p=g)}return this.detectSupport().then(function(g){if(g)return r.loadTextureImage(e,h.source,p);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Nce{constructor(e){this.parser=e,this.name=vn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,o=r.json,l=o.textures[e];if(!l.extensions||!l.extensions[n])return null;const h=l.extensions[n],d=o.images[h.source];let p=r.textureLoader;if(d.uri){const g=r.options.manager.getHandler(d.uri);g!==null&&(p=g)}return this.detectSupport().then(function(g){if(g)return r.loadTextureImage(e,h.source,p);if(o.extensionsRequired&&o.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Mce{constructor(e){this.name=vn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],l=this.parser.getDependency("buffer",o.buffer),h=this.parser.options.meshoptDecoder;if(!h||!h.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(d){const p=o.byteOffset||0,g=o.byteLength||0,v=o.count,y=o.byteStride,x=new Uint8Array(d,p,g);return h.decodeGltfBufferAsync?h.decodeGltfBufferAsync(v,y,x,o.mode,o.filter).then(function(T){return T.buffer}):h.ready.then(function(){const T=new ArrayBuffer(v*y);return h.decodeGltfBuffer(new Uint8Array(T),v,y,x,o.mode,o.filter),T})})}else return null}}class Sce{constructor(e){this.name=vn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const o=n.meshes[r.mesh];for(const g of o.primitives)if(g.mode!==Ki.TRIANGLES&&g.mode!==Ki.TRIANGLE_STRIP&&g.mode!==Ki.TRIANGLE_FAN&&g.mode!==void 0)return null;const h=r.extensions[this.name].attributes,d=[],p={};for(const g in h)d.push(this.parser.getDependency("accessor",h[g]).then(v=>(p[g]=v,p[g])));return d.length<1?null:(d.push(this.parser.createNodeMesh(e)),Promise.all(d).then(g=>{const v=g.pop(),y=v.isGroup?v.children:[v],x=g[0].count,T=[];for(const w of y){const M=new Nn,S=new Pe,j=new Cl,k=new Pe(1,1,1),W=new gle(w.geometry,w.material,x);for(let q=0;q<x;q++)p.TRANSLATION&&S.fromBufferAttribute(p.TRANSLATION,q),p.ROTATION&&j.fromBufferAttribute(p.ROTATION,q),p.SCALE&&k.fromBufferAttribute(p.SCALE,q),W.setMatrixAt(q,M.compose(S,j,k));for(const q in p)if(q==="_COLOR_0"){const Z=p[q];W.instanceColor=new Kx(Z.array,Z.itemSize,Z.normalized)}else q!=="TRANSLATION"&&q!=="ROTATION"&&q!=="SCALE"&&w.geometry.setAttribute(q,p[q]);zr.prototype.copy.call(W,w),this.parser.assignFinalMaterial(W),T.push(W)}return v.isGroup?(v.clear(),v.add(...T),v):T[0]}))}}const JI="glTF",Vm=12,PS={JSON:1313821514,BIN:5130562};class Ace{constructor(e){this.name=vn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Vm),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==JI)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const o=this.header.length-Vm,l=new DataView(e,Vm);let h=0;for(;h<o;){const d=l.getUint32(h,!0);h+=4;const p=l.getUint32(h,!0);if(h+=4,p===PS.JSON){const g=new Uint8Array(e,Vm+h,d);this.content=r.decode(g)}else if(p===PS.BIN){const g=Vm+h;this.body=e.slice(g,g+d)}h+=d}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ece{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=vn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,o=this.dracoLoader,l=e.extensions[this.name].bufferView,h=e.extensions[this.name].attributes,d={},p={},g={};for(const v in h){const y=Jx[v]||v.toLowerCase();d[y]=h[v]}for(const v in e.attributes){const y=Jx[v]||v.toLowerCase();if(h[v]!==void 0){const x=r.accessors[e.attributes[v]],T=Iu[x.componentType];g[y]=T.name,p[y]=x.normalized===!0}}return n.getDependency("bufferView",l).then(function(v){return new Promise(function(y,x){o.decodeDracoFile(v,function(T){for(const w in T.attributes){const M=T.attributes[w],S=p[w];S!==void 0&&(M.normalized=S)}y(T)},d,g,ki,x)})})}}class Ice{constructor(){this.name=vn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Rce{constructor(){this.name=vn.KHR_MESH_QUANTIZATION}}class QI extends wp{constructor(e,n,r,o){super(e,n,r,o)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,o=this.valueSize,l=e*o*3+o;for(let h=0;h!==o;h++)n[h]=r[l+h];return n}interpolate_(e,n,r,o){const l=this.resultBuffer,h=this.sampleValues,d=this.valueSize,p=d*2,g=d*3,v=o-n,y=(r-n)/v,x=y*y,T=x*y,w=e*g,M=w-g,S=-2*T+3*x,j=T-x,k=1-S,W=j-x+y;for(let q=0;q!==d;q++){const Z=h[M+q+d],Y=h[M+q+p]*v,he=h[w+q+d],ae=h[w+q]*v;l[q]=k*Z+W*Y+S*he+j*ae}return l}}const Pce=new Cl;class Bce extends QI{interpolate_(e,n,r,o){const l=super.interpolate_(e,n,r,o);return Pce.fromArray(l).normalize().toArray(l),l}}const Ki={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Iu={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},BS={9728:ap,9729:fC,9984:ose,9985:sse,9986:ase,9987:gC},OS={33071:Km,33648:Wx,10497:op},cx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Jx={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},al={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Oce={CUBICSPLINE:void 0,LINEAR:Pu,STEP:sp},hx={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Lce(a){return a.DefaultMaterial===void 0&&(a.DefaultMaterial=new cp({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Vg})),a.DefaultMaterial}function Ec(a,e,n){for(const r in n.extensions)a[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function ll(a,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(a.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function jce(a,e,n){let r=!1,o=!1,l=!1;for(let g=0,v=e.length;g<v;g++){const y=e[g];if(y.POSITION!==void 0&&(r=!0),y.NORMAL!==void 0&&(o=!0),y.COLOR_0!==void 0&&(l=!0),r&&o&&l)break}if(!r&&!o&&!l)return Promise.resolve(a);const h=[],d=[],p=[];for(let g=0,v=e.length;g<v;g++){const y=e[g];if(r){const x=y.POSITION!==void 0?n.getDependency("accessor",y.POSITION):a.attributes.position;h.push(x)}if(o){const x=y.NORMAL!==void 0?n.getDependency("accessor",y.NORMAL):a.attributes.normal;d.push(x)}if(l){const x=y.COLOR_0!==void 0?n.getDependency("accessor",y.COLOR_0):a.attributes.color;p.push(x)}}return Promise.all([Promise.all(h),Promise.all(d),Promise.all(p)]).then(function(g){const v=g[0],y=g[1],x=g[2];return r&&(a.morphAttributes.position=v),o&&(a.morphAttributes.normal=y),l&&(a.morphAttributes.color=x),a.morphTargetsRelative=!0,a})}function Dce(a,e){if(a.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)a.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(a.morphTargetInfluences.length===n.length){a.morphTargetDictionary={};for(let r=0,o=n.length;r<o;r++)a.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Fce(a){let e;const n=a.extensions&&a.extensions[vn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+ux(n.attributes):e=a.indices+":"+ux(a.attributes)+":"+a.mode,a.targets!==void 0)for(let r=0,o=a.targets.length;r<o;r++)e+=":"+ux(a.targets[r]);return e}function ux(a){let e="";const n=Object.keys(a).sort();for(let r=0,o=n.length;r<o;r++)e+=n[r]+":"+a[n[r]]+";";return e}function Qx(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function kce(a){return a.search(/\.jpe?g($|\?)/i)>0||a.search(/^data\:image\/jpeg/)===0?"image/jpeg":a.search(/\.webp($|\?)/i)>0||a.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Xce=new Nn;class zce{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new cce,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,l=-1;typeof navigator<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,l=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||o&&l<98?this.textureLoader=new Ble(this.options.manager):this.textureLoader=new kle(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new qg(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,o=this.json,l=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(h){return h._markDefs&&h._markDefs()}),Promise.all(this._invokeAll(function(h){return h.beforeRoot&&h.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(h){const d={scene:h[0][o.scene||0],scenes:h[0],animations:h[1],cameras:h[2],asset:o.asset,parser:r,userData:{}};return Ec(l,d,o),ll(d,o),Promise.all(r._invokeAll(function(p){return p.afterRoot&&p.afterRoot(d)})).then(function(){for(const p of d.scenes)p.updateMatrixWorld();e(d)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let o=0,l=n.length;o<l;o++){const h=n[o].joints;for(let d=0,p=h.length;d<p;d++)e[h[d]].isBone=!0}for(let o=0,l=e.length;o<l;o++){const h=e[o];h.mesh!==void 0&&(this._addNodeRef(this.meshCache,h.mesh),h.skin!==void 0&&(r[h.mesh].isSkinnedMesh=!0)),h.camera!==void 0&&this._addNodeRef(this.cameraCache,h.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const o=r.clone(),l=(h,d)=>{const p=this.associations.get(h);p!=null&&this.associations.set(d,p);for(const[g,v]of h.children.entries())l(v,d.children[g])};return l(r,o),o.name+="_instance_"+e.uses[n]++,o}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const o=e(n[r]);if(o)return o}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let o=0;o<n.length;o++){const l=e(n[o]);l&&r.push(l)}return r}getDependency(e,n){const r=e+":"+n;let o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(n);break;case"node":o=this._invokeOne(function(l){return l.loadNode&&l.loadNode(n)});break;case"mesh":o=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(n)});break;case"accessor":o=this.loadAccessor(n);break;case"bufferView":o=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(n)});break;case"buffer":o=this.loadBuffer(n);break;case"material":o=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(n)});break;case"texture":o=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(n)});break;case"skin":o=this.loadSkin(n);break;case"animation":o=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(n)});break;case"camera":o=this.loadCamera(n);break;default:if(o=this._invokeOne(function(l){return l!=this&&l.getDependency&&l.getDependency(e,n)}),!o)throw new Error("Unknown type: "+e);break}this.cache.add(r,o)}return o}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(o.map(function(l,h){return r.getDependency(e,h)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[vn.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(l,h){r.load(ep.resolveURL(n.uri,o.path),l,void 0,function(){h(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const o=n.byteLength||0,l=n.byteOffset||0;return r.slice(l,l+o)})}loadAccessor(e){const n=this,r=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0){const h=cx[o.type],d=Iu[o.componentType],p=o.normalized===!0,g=new d(o.count*h);return Promise.resolve(new Di(g,h,p))}const l=[];return o.bufferView!==void 0?l.push(this.getDependency("bufferView",o.bufferView)):l.push(null),o.sparse!==void 0&&(l.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(l).then(function(h){const d=h[0],p=cx[o.type],g=Iu[o.componentType],v=g.BYTES_PER_ELEMENT,y=v*p,x=o.byteOffset||0,T=o.bufferView!==void 0?r.bufferViews[o.bufferView].byteStride:void 0,w=o.normalized===!0;let M,S;if(T&&T!==y){const j=Math.floor(x/T),k="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+j+":"+o.count;let W=n.cache.get(k);W||(M=new g(d,j*T,o.count*T/v),W=new ule(M,T/v),n.cache.add(k,W)),S=new CC(W,p,x%T/v,w)}else d===null?M=new g(o.count*p):M=new g(d,x,o.count*p),S=new Di(M,p,w);if(o.sparse!==void 0){const j=cx.SCALAR,k=Iu[o.sparse.indices.componentType],W=o.sparse.indices.byteOffset||0,q=o.sparse.values.byteOffset||0,Z=new k(h[1],W,o.sparse.count*j),Y=new g(h[2],q,o.sparse.count*p);d!==null&&(S=new Di(S.array.slice(),S.itemSize,S.normalized));for(let he=0,ae=Z.length;he<ae;he++){const ve=Z[he];if(S.setX(ve,Y[he*p]),p>=2&&S.setY(ve,Y[he*p+1]),p>=3&&S.setZ(ve,Y[he*p+2]),p>=4&&S.setW(ve,Y[he*p+3]),p>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(e){const n=this.json,r=this.options,l=n.textures[e].source,h=n.images[l];let d=this.textureLoader;if(h.uri){const p=r.manager.getHandler(h.uri);p!==null&&(d=p)}return this.loadTextureImage(e,l,d)}loadTextureImage(e,n,r){const o=this,l=this.json,h=l.textures[e],d=l.images[n],p=(d.uri||d.bufferView)+":"+h.sampler;if(this.textureCache[p])return this.textureCache[p];const g=this.loadImageSource(n,r).then(function(v){v.flipY=!1,v.name=h.name||d.name||"",v.name===""&&typeof d.uri=="string"&&d.uri.startsWith("data:image/")===!1&&(v.name=d.uri);const x=(l.samplers||{})[h.sampler]||{};return v.magFilter=BS[x.magFilter]||fC,v.minFilter=BS[x.minFilter]||gC,v.wrapS=OS[x.wrapS]||op,v.wrapT=OS[x.wrapT]||op,o.associations.set(v,{textures:e}),v}).catch(function(){return null});return this.textureCache[p]=g,g}loadImageSource(e,n){const r=this,o=this.json,l=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(y=>y.clone());const h=o.images[e],d=self.URL||self.webkitURL;let p=h.uri||"",g=!1;if(h.bufferView!==void 0)p=r.getDependency("bufferView",h.bufferView).then(function(y){g=!0;const x=new Blob([y],{type:h.mimeType});return p=d.createObjectURL(x),p});else if(h.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const v=Promise.resolve(p).then(function(y){return new Promise(function(x,T){let w=x;n.isImageBitmapLoader===!0&&(w=function(M){const S=new to(M);S.needsUpdate=!0,x(S)}),n.load(ep.resolveURL(y,l.path),w,void 0,T)})}).then(function(y){return g===!0&&d.revokeObjectURL(p),y.userData.mimeType=h.mimeType||kce(h.uri),y}).catch(function(y){throw console.error("THREE.GLTFLoader: Couldn't load texture",p),y});return this.sourceCache[e]=v,v}assignTexture(e,n,r,o){const l=this;return this.getDependency("texture",r.index).then(function(h){if(!h)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(h=h.clone(),h.channel=r.texCoord),l.extensions[vn.KHR_TEXTURE_TRANSFORM]){const d=r.extensions!==void 0?r.extensions[vn.KHR_TEXTURE_TRANSFORM]:void 0;if(d){const p=l.associations.get(h);h=l.extensions[vn.KHR_TEXTURE_TRANSFORM].extendTexture(h,d),l.associations.set(h,p)}}return o!==void 0&&(h.colorSpace=o),e[n]=h,h})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const o=n.attributes.tangent===void 0,l=n.attributes.color!==void 0,h=n.attributes.normal===void 0;if(e.isPoints){const d="PointsMaterial:"+r.uuid;let p=this.cache.get(d);p||(p=new $I,hl.prototype.copy.call(p,r),p.color.copy(r.color),p.map=r.map,p.sizeAttenuation=!1,this.cache.add(d,p)),r=p}else if(e.isLine){const d="LineBasicMaterial:"+r.uuid;let p=this.cache.get(d);p||(p=new HI,hl.prototype.copy.call(p,r),p.color.copy(r.color),p.map=r.map,this.cache.add(d,p)),r=p}if(o||l||h){let d="ClonedMaterial:"+r.uuid+":";o&&(d+="derivative-tangents:"),l&&(d+="vertex-colors:"),h&&(d+="flat-shading:");let p=this.cache.get(d);p||(p=r.clone(),l&&(p.vertexColors=!0),h&&(p.flatShading=!0),o&&(p.normalScale&&(p.normalScale.y*=-1),p.clearcoatNormalScale&&(p.clearcoatNormalScale.y*=-1)),this.cache.add(d,p),this.associations.set(p,this.associations.get(r))),r=p}e.material=r}getMaterialType(){return cp}loadMaterial(e){const n=this,r=this.json,o=this.extensions,l=r.materials[e];let h;const d={},p=l.extensions||{},g=[];if(p[vn.KHR_MATERIALS_UNLIT]){const y=o[vn.KHR_MATERIALS_UNLIT];h=y.getMaterialType(),g.push(y.extendParams(d,l,n))}else{const y=l.pbrMetallicRoughness||{};if(d.color=new Mr(1,1,1),d.opacity=1,Array.isArray(y.baseColorFactor)){const x=y.baseColorFactor;d.color.setRGB(x[0],x[1],x[2],ki),d.opacity=x[3]}y.baseColorTexture!==void 0&&g.push(n.assignTexture(d,"map",y.baseColorTexture,pi)),d.metalness=y.metallicFactor!==void 0?y.metallicFactor:1,d.roughness=y.roughnessFactor!==void 0?y.roughnessFactor:1,y.metallicRoughnessTexture!==void 0&&(g.push(n.assignTexture(d,"metalnessMap",y.metallicRoughnessTexture)),g.push(n.assignTexture(d,"roughnessMap",y.metallicRoughnessTexture))),h=this._invokeOne(function(x){return x.getMaterialType&&x.getMaterialType(e)}),g.push(Promise.all(this._invokeAll(function(x){return x.extendMaterialParams&&x.extendMaterialParams(e,d)})))}l.doubleSided===!0&&(d.side=nse);const v=l.alphaMode||hx.OPAQUE;if(v===hx.BLEND?(d.transparent=!0,d.depthWrite=!1):(d.transparent=!1,v===hx.MASK&&(d.alphaTest=l.alphaCutoff!==void 0?l.alphaCutoff:.5)),l.normalTexture!==void 0&&h!==Lc&&(g.push(n.assignTexture(d,"normalMap",l.normalTexture)),d.normalScale=new hr(1,1),l.normalTexture.scale!==void 0)){const y=l.normalTexture.scale;d.normalScale.set(y,y)}if(l.occlusionTexture!==void 0&&h!==Lc&&(g.push(n.assignTexture(d,"aoMap",l.occlusionTexture)),l.occlusionTexture.strength!==void 0&&(d.aoMapIntensity=l.occlusionTexture.strength)),l.emissiveFactor!==void 0&&h!==Lc){const y=l.emissiveFactor;d.emissive=new Mr().setRGB(y[0],y[1],y[2],ki)}return l.emissiveTexture!==void 0&&h!==Lc&&g.push(n.assignTexture(d,"emissiveMap",l.emissiveTexture,pi)),Promise.all(g).then(function(){const y=new h(d);return l.name&&(y.name=l.name),ll(y,l),n.associations.set(y,{materials:e}),l.extensions&&Ec(o,y,l),y})}createUniqueName(e){const n=Vn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,o=this.primitiveCache;function l(d){return r[vn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,n).then(function(p){return LS(p,d,n)})}const h=[];for(let d=0,p=e.length;d<p;d++){const g=e[d],v=Fce(g),y=o[v];if(y)h.push(y.promise);else{let x;g.extensions&&g.extensions[vn.KHR_DRACO_MESH_COMPRESSION]?x=l(g):x=LS(new _l,g,n),o[v]={primitive:g,promise:x},h.push(x)}}return Promise.all(h)}loadMesh(e){const n=this,r=this.json,o=this.extensions,l=r.meshes[e],h=l.primitives,d=[];for(let p=0,g=h.length;p<g;p++){const v=h[p].material===void 0?Lce(this.cache):this.getDependency("material",h[p].material);d.push(v)}return d.push(n.loadGeometries(h)),Promise.all(d).then(function(p){const g=p.slice(0,p.length-1),v=p[p.length-1],y=[];for(let T=0,w=v.length;T<w;T++){const M=v[T],S=h[T];let j;const k=g[T];if(S.mode===Ki.TRIANGLES||S.mode===Ki.TRIANGLE_STRIP||S.mode===Ki.TRIANGLE_FAN||S.mode===void 0)j=l.isSkinnedMesh===!0?new mle(M,k):new Xr(M,k),j.isSkinnedMesh===!0&&j.normalizeSkinWeights(),S.mode===Ki.TRIANGLE_STRIP?j.geometry=RS(j.geometry,DI):S.mode===Ki.TRIANGLE_FAN&&(j.geometry=RS(j.geometry,Vx));else if(S.mode===Ki.LINES)j=new ble(M,k);else if(S.mode===Ki.LINE_STRIP)j=new TC(M,k);else if(S.mode===Ki.LINE_LOOP)j=new vle(M,k);else if(S.mode===Ki.POINTS)j=new yle(M,k);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(j.geometry.morphAttributes).length>0&&Dce(j,l),j.name=n.createUniqueName(l.name||"mesh_"+e),ll(j,l),S.extensions&&Ec(o,j,S),n.assignFinalMaterial(j),y.push(j)}for(let T=0,w=y.length;T<w;T++)n.associations.set(y[T],{meshes:e,primitives:T});if(y.length===1)return l.extensions&&Ec(o,y[0],l),y[0];const x=new ex;l.extensions&&Ec(o,x,l),n.associations.set(x,{meshes:e});for(let T=0,w=y.length;T<w;T++)x.add(y[T]);return x})}loadCamera(e){let n;const r=this.json.cameras[e],o=r[r.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new xC(Bse.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):r.type==="orthographic"&&(n=new GI(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),ll(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let o=0,l=n.joints.length;o<l;o++)r.push(this._loadNodeShallow(n.joints[o]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(o){const l=o.pop(),h=o,d=[],p=[];for(let g=0,v=h.length;g<v;g++){const y=h[g];if(y){d.push(y);const x=new Nn;l!==null&&x.fromArray(l.array,g*16),p.push(x)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[g])}return new _C(d,p)})}loadAnimation(e){const n=this.json,r=this,o=n.animations[e],l=o.name?o.name:"animation_"+e,h=[],d=[],p=[],g=[],v=[];for(let y=0,x=o.channels.length;y<x;y++){const T=o.channels[y],w=o.samplers[T.sampler],M=T.target,S=M.node,j=o.parameters!==void 0?o.parameters[w.input]:w.input,k=o.parameters!==void 0?o.parameters[w.output]:w.output;M.node!==void 0&&(h.push(this.getDependency("node",S)),d.push(this.getDependency("accessor",j)),p.push(this.getDependency("accessor",k)),g.push(w),v.push(M))}return Promise.all([Promise.all(h),Promise.all(d),Promise.all(p),Promise.all(g),Promise.all(v)]).then(function(y){const x=y[0],T=y[1],w=y[2],M=y[3],S=y[4],j=[];for(let k=0,W=x.length;k<W;k++){const q=x[k],Z=T[k],Y=w[k],he=M[k],ae=S[k];if(q===void 0)continue;q.updateMatrix&&q.updateMatrix();const ve=r._createAnimationTracks(q,Z,Y,he,ae);if(ve)for(let re=0;re<ve.length;re++)j.push(ve[re])}return new Mle(l,void 0,j)})}createNodeMesh(e){const n=this.json,r=this,o=n.nodes[e];return o.mesh===void 0?null:r.getDependency("mesh",o.mesh).then(function(l){const h=r._getNodeRef(r.meshCache,o.mesh,l);return o.weights!==void 0&&h.traverse(function(d){if(d.isMesh)for(let p=0,g=o.weights.length;p<g;p++)d.morphTargetInfluences[p]=o.weights[p]}),h})}loadNode(e){const n=this.json,r=this,o=n.nodes[e],l=r._loadNodeShallow(e),h=[],d=o.children||[];for(let g=0,v=d.length;g<v;g++)h.push(r.getDependency("node",d[g]));const p=o.skin===void 0?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([l,Promise.all(h),p]).then(function(g){const v=g[0],y=g[1],x=g[2];x!==null&&v.traverse(function(T){T.isSkinnedMesh&&T.bind(x,Xce)});for(let T=0,w=y.length;T<w;T++)v.add(y[T]);return v})}_loadNodeShallow(e){const n=this.json,r=this.extensions,o=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const l=n.nodes[e],h=l.name?o.createUniqueName(l.name):"",d=[],p=o._invokeOne(function(g){return g.createNodeMesh&&g.createNodeMesh(e)});return p&&d.push(p),l.camera!==void 0&&d.push(o.getDependency("camera",l.camera).then(function(g){return o._getNodeRef(o.cameraCache,l.camera,g)})),o._invokeAll(function(g){return g.createNodeAttachment&&g.createNodeAttachment(e)}).forEach(function(g){d.push(g)}),this.nodeCache[e]=Promise.all(d).then(function(g){let v;if(l.isBone===!0?v=new WI:g.length>1?v=new ex:g.length===1?v=g[0]:v=new zr,v!==g[0])for(let y=0,x=g.length;y<x;y++)v.add(g[y]);if(l.name&&(v.userData.name=l.name,v.name=h),ll(v,l),l.extensions&&Ec(r,v,l),l.matrix!==void 0){const y=new Nn;y.fromArray(l.matrix),v.applyMatrix4(y)}else l.translation!==void 0&&v.position.fromArray(l.translation),l.rotation!==void 0&&v.quaternion.fromArray(l.rotation),l.scale!==void 0&&v.scale.fromArray(l.scale);return o.associations.has(v)||o.associations.set(v,{}),o.associations.get(v).nodes=e,v}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],o=this,l=new ex;r.name&&(l.name=o.createUniqueName(r.name)),ll(l,r),r.extensions&&Ec(n,l,r);const h=r.nodes||[],d=[];for(let p=0,g=h.length;p<g;p++)d.push(o.getDependency("node",h[p]));return Promise.all(d).then(function(p){for(let v=0,y=p.length;v<y;v++)l.add(p[v]);const g=v=>{const y=new Map;for(const[x,T]of o.associations)(x instanceof hl||x instanceof to)&&y.set(x,T);return v.traverse(x=>{const T=o.associations.get(x);T!=null&&y.set(x,T)}),y};return o.associations=g(l),l})}_createAnimationTracks(e,n,r,o,l){const h=[],d=e.name?e.name:e.uuid,p=[];al[l.path]===al.weights?e.traverse(function(x){x.morphTargetInfluences&&p.push(x.name?x.name:x.uuid)}):p.push(d);let g;switch(al[l.path]){case al.weights:g=Bu;break;case al.rotation:g=Xc;break;case al.position:case al.scale:g=Ou;break;default:switch(r.itemSize){case 1:g=Bu;break;case 2:case 3:default:g=Ou;break}break}const v=o.interpolation!==void 0?Oce[o.interpolation]:Pu,y=this._getArrayFromAccessor(r);for(let x=0,T=p.length;x<T;x++){const w=new g(p[x]+"."+al[l.path],n.array,y,v);o.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(w),h.push(w)}return h}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=Qx(n.constructor),o=new Float32Array(n.length);for(let l=0,h=n.length;l<h;l++)o[l]=n[l]*r;n=o}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const o=this instanceof Xc?Bce:QI;return new o(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Uce(a,e,n){const r=e.attributes,o=new ds;if(r.POSITION!==void 0){const d=n.json.accessors[r.POSITION],p=d.min,g=d.max;if(p!==void 0&&g!==void 0){if(o.set(new Pe(p[0],p[1],p[2]),new Pe(g[0],g[1],g[2])),d.normalized){const v=Qx(Iu[d.componentType]);o.min.multiplyScalar(v),o.max.multiplyScalar(v)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const l=e.targets;if(l!==void 0){const d=new Pe,p=new Pe;for(let g=0,v=l.length;g<v;g++){const y=l[g];if(y.POSITION!==void 0){const x=n.json.accessors[y.POSITION],T=x.min,w=x.max;if(T!==void 0&&w!==void 0){if(p.setX(Math.max(Math.abs(T[0]),Math.abs(w[0]))),p.setY(Math.max(Math.abs(T[1]),Math.abs(w[1]))),p.setZ(Math.max(Math.abs(T[2]),Math.abs(w[2]))),x.normalized){const M=Qx(Iu[x.componentType]);p.multiplyScalar(M)}d.max(p)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(d)}a.boundingBox=o;const h=new da;o.getCenter(h.center),h.radius=o.min.distanceTo(o.max)/2,a.boundingSphere=h}function LS(a,e,n){const r=e.attributes,o=[];function l(h,d){return n.getDependency("accessor",h).then(function(p){a.setAttribute(d,p)})}for(const h in r){const d=Jx[h]||h.toLowerCase();d in a.attributes||o.push(l(r[h],d))}if(e.indices!==void 0&&!a.index){const h=n.getDependency("accessor",e.indices).then(function(d){a.setIndex(d)});o.push(h)}return ji.workingColorSpace!==ki&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${ji.workingColorSpace}" not supported.`),ll(a,e),Uce(a,e,n),Promise.all(o).then(function(){return e.targets!==void 0?jce(a,e.targets,n):a})}const Gce=Object.freeze(Object.defineProperty({__proto__:null,GLTFLoader:lce},Symbol.toStringTag,{value:"Module"})),Wce=P.getAugmentedNamespace(Gce);(function(a){var e=Fo,n=oo;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=e(ua()),o=g(cs()),l=sce,h=Wce,d=xl();function p(T){if(typeof WeakMap!="function")return null;var w=new WeakMap,M=new WeakMap;return(p=function(j){return j?M:w})(T)}function g(T,w){if(T&&T.__esModule)return T;if(T===null||n(T)!="object"&&typeof T!="function")return{default:T};var M=p(w);if(M&&M.has(T))return M.get(T);var S={__proto__:null},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in T)if(k!=="default"&&{}.hasOwnProperty.call(T,k)){var W=j?Object.getOwnPropertyDescriptor(T,k):null;W&&(W.get||W.set)?Object.defineProperty(S,k,W):S[k]=T[k]}return S.default=T,M&&M.set(T,S),S}function v(T,w){var M=Object.keys(T);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(T);w&&(S=S.filter(function(j){return Object.getOwnPropertyDescriptor(T,j).enumerable})),M.push.apply(M,S)}return M}function y(T){for(var w=1;w<arguments.length;w++){var M=arguments[w]!=null?arguments[w]:{};w%2?v(Object(M),!0).forEach(function(S){(0,r.default)(T,S,M[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(M)):v(Object(M)).forEach(function(S){Object.defineProperty(T,S,Object.getOwnPropertyDescriptor(M,S))})}return T}var x=function(w,M){var S=y(y({},d.GLBLoaderConfig),M),j=S.onProcess,k=S.loop,W=S.castShadow,q=S.receiveShadow,Z=S.material,Y=new h.GLTFLoader,he=new l.DRACOLoader;return he.setDecoderConfig({type:"js"}),he.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),Y.setDRACOLoader(he),new Promise(function(ae,ve){Y.load(w,function(re){var se=[],oe=re.scene;re.animations.forEach(function(pe){var be=new o.AnimationMixer(oe);if(k)be.clipAction(pe).play().setLoop(o.LoopRepeat,1/0);else{var fe=be.clipAction(pe).play().setLoop(o.LoopOnce,1);fe.clampWhenFinished=!0}se.push(be)}),re.scene.traverse(function(pe){var be=pe;if(pe instanceof o.Mesh){var fe=be.name;typeof W=="boolean"?be.castShadow=W:W.forEach(function(De){De===fe&&(be.castShadow=!0)}),typeof q=="boolean"?be.receiveShadow=q:q.forEach(function(De){De===fe&&(be.receiveShadow=!0)});var de=be.material;de&&(de.metalness=Z.metalness,de.roughness=Z.roughness,de.clearcoat=Z.clearcoat,de.clearcoatRoughness=Z.clearcoatRoughness)}});var Q={gltf:re,model:oe,mixers:se};ae(Q)},function(re){var se=re.loaded,oe=re.total;j(se,oe)},function(){ve(new Error("[lesca-glb-loader] load ".concat(w," error")))})})};a.default=x})(ZI);const Vce=P.getDefaultExportFromCjs(ZI);var e5=xl();const Hce=P.getDefaultExportFromCjs(e5);var $ce=hC();const qce={...e5.GLBLoaderConfig,loop:!0,castShadow:!0,receiveShadow:!0,material:{metalness:0,roughness:.8,clearcoat:1,clearcoatRoughness:0}},jS={...Hce,camera:{fov:45,far:3e3,type:$ce.CameraType.perspective,dom:void 0},sky:{enabled:!1,turbidity:0,rayleigh:.079,mieCoefficient:.023,mieDirectionalG:.226,inclination:70,azimuth:-102.7},controls:{enabled:!0,distance:{min:1,max:8},polar:{min:-10,max:90},azimuth:{min:-1/0,max:1/0},default:{polar:20,azimuth:0,distance:4},offsetAzimuth:0,panEasing:100,damping:!0,dampingFactor:1.1},light:{ambient:{enabled:!0,color:16777215,intensity:1},lights:[{type:"spot",enabled:!0,distance:100,color:16777215,intensity:1,decay:1,angle:Math.PI/2,position:{x:0,y:5,z:0},castShadow:!1,bias:-.01,blurSamples:25,penumbra:1},{type:"spot",enabled:!0,color:16777215,intensity:3,distance:100,decay:1,angle:Math.PI/5,penumbra:1,position:{x:0,y:10,z:0},bias:-.01,blurSamples:25,castShadow:!0},{type:"hemisphere",enabled:!0,color:16777215,groundColor:4473924,intensity:5,position:{x:0,y:8,z:0}},{type:"spot",enabled:!0,color:16777215,intensity:10,distance:100,decay:1,angle:Math.PI/9,penumbra:1,position:{x:0,y:0,z:-10},bias:-.01,blurSamples:25,castShadow:!1}],shadowMapSize:2048,debug:!1},renderer:{alpha:!1,preserveDrawingBuffer:!0,exposure:1,background:{color:0,alpha:0},shadowType:Ht.THREE.BasicShadowMap,outputEncoding:Ht.THREE.LinearSRGBColorSpace},stats:!1};class Yce{constructor(e,n){Yn(this,"scene");Yn(this,"mesh",new Ht.THREE.Group);Yn(this,"meshBackSide",new Ht.THREE.Group);Yn(this,"material",new Ht.THREE.MeshPhysicalMaterial);Yn(this,"materialBackSide",new Ht.THREE.MeshPhongMaterial);Yn(this,"options");Yn(this,"axis",new Ht.THREE.Group);Yn(this,"width",1024);Yn(this,"height",1024);Yn(this,"downscaleWidth",1024);Yn(this,"anisotropy",16);Yn(this,"ground",new Ht.THREE.Mesh);Yn(this,"defaultColor","#ffffff");this.scene=e,this.options=n,this.scene.add(this.axis);const[r,o,l]=this.options.slider;this.material=new Ht.THREE.MeshPhysicalMaterial({side:Ht.THREE.FrontSide,transparent:!0,opacity:r.value,color:this.options.color,roughness:o.value,specularColor:new Ht.THREE.Color(1,1,1),specularIntensity:l.value,emissive:new Ht.THREE.Color(1,1,1),emissiveIntensity:.05,alphaTest:.5,precision:"highp",sheen:1,normalScale:new Ht.THREE.Vector2(.5,.5),aoMapIntensity:0}),this.materialBackSide=new Ht.THREE.MeshPhongMaterial({side:Ht.THREE.BackSide,color:16737792}),this.addGround()}addGround(){this.ground=new Ht.THREE.Mesh(new Ht.THREE.PlaneGeometry(100,100),new Ht.THREE.ShadowMaterial({opacity:.1})),this.ground.rotation.x=-Math.PI/2,this.ground.receiveShadow=!0,this.ground.position.y=px,this.scene.add(this.ground)}addModel(e){this.removeModel(),this.mesh=e,this.axis.add(this.mesh),this.meshBackSide=e.clone(),this.mesh.add(this.meshBackSide),this.rerender()}updateModel(e,n){this.options.model=n,this.mesh=e,this.meshBackSide=e.clone(),this.removeModel(),this.axis.add(this.mesh),this.mesh.add(this.meshBackSide),this.rerender()}removeModel(){this.axis.children.forEach(e=>{this.axis.remove(e)})}addMaterial(e){this.material.map=e,this.setTexture(this.material.map,!0),this.material.map.magFilter=Ht.THREE.LinearFilter,this.rerender()}updateMaterial(e){this.options.slider=e,this.rerender()}addAlphaMap(e){this.material.alphaMap=e,this.setTexture(this.material.alphaMap),this.rerender()}removeAlphaMap(){this.material.alphaMap=null,this.rerender()}addBumpMap(e,n){this.material.bumpMap=e,this.setTexture(this.material.bumpMap),n&&(this.material.bumpScale=n),this.rerender()}removeBumpMap(){this.material.bumpMap=null,this.rerender()}updateBumpScale(e){this.material.bumpScale=e}addRoughnessMap(e){this.material.roughnessMap=e,this.setTexture(this.material.roughnessMap),this.rerender()}removeRoughnessMap(){this.material.roughnessMap=null,this.rerender()}addDisplacementMap(e){this.material.displacementMap=e,this.setTexture(this.material.displacementMap),this.rerender()}removeDisplacementMap(){this.material.displacementMap=null,this.rerender()}addNormalMap(e,n){this.material.normalMap=e,this.material.normalScale=new Ht.THREE.Vector2(n,n),this.setTexture(this.material.normalMap),this.rerender()}removeNormalMap(){this.material.normalMap=null,this.rerender()}updateDefaultColor(e){this.defaultColor=e;const{color:n}=this.options.userProps.texture,r=n?ip.rgb(n.r,n.g,n.b).hex():this.defaultColor;this.updateColor(r)}updateColor(e){this.materialBackSide.color.set(e)}updateTemperature(e){const n=ip.temperature(e).hex();this.material.color.set(n)}updateMapScale(e){this.options.userProps.texture.mapScale=e,this.rerender()}updateDefaultMapScale(e){this.options.userProps.texture.defaultMapScale=e,this.rerender()}updateNormalScale(e){this.material.normalScale=new Ht.THREE.Vector2(e,e)}getRepeatMapByDpi(){const{dpi:e=600}=this.options.userProps.texture,n=this.downscaleWidth/e*2.54,{mapScale:r,maxScale:o,minScale:l}=this.options.model,h=r/n,d=h/(this.height/this.width),{value:p}=this.options.slider[3],g=(h-l)*2,v=(d-l)*2,y=Math.min(Math.max(Number((g*p).toFixed(2)),l),o),x=Math.min(Math.max(Number((v*p).toFixed(2)),l/(this.height/this.width)),o/(this.height/this.width));return{x:y,y:x}}setTexture(e,n=!1){e.wrapS=e.wrapT=Ht.THREE.RepeatWrapping,e.flipY=!1,e.minFilter=Ht.THREE.LinearMipmapLinearFilter,n&&(e.colorSpace=Ht.THREE.SRGBColorSpace),e.anisotropy=this.anisotropy,e.needsUpdate=!0,e.matrixAutoUpdate=!0,e.center.set(.5,.5)}setSize(e,n){this.width=e,this.height=n}setDownscaleWidth(e){this.downscaleWidth=e}setAnisotropy(e=16){this.anisotropy=e,this.material.anisotropy=e}setGroundShadowByType(e){e==="image"?this.ground.position.y=-4:this.ground.position.y=px}rerender(){const{ignore:e,hidden:n,position:r={x:0,y:0,z:0},scale:o=1}=this.options.model,[l,h,d,p,g,v]=this.options.slider;if(this.material.opacity=l.value,this.material.roughness=h.value,this.material.specularIntensity=d.value,this.material.displacementScale=P.DISPLACEMENT_SCALE*1e-4/Math.max(p.value,.1),this.material.map){const{x:y,y:x}=this.getRepeatMapByDpi();["map","alphaMap","bumpMap","roughnessMap","displacementMap","normalMap"].forEach(T=>{var M;(M=this.material[T])==null||M.repeat.set(y,x)})}this.axis.scale.set(o,o,o),this.axis.position.set(r.x||0,r.y||0,r.z||0),this.mesh.traverse(y=>{const x=y;if(x.isMesh||x.isObject3D){if(!(e!=null&&e.includes(x.name))&&!x.name.includes("ignore")&&(x.material=this.material),n!=null&&n.includes(x.name)&&x.position.set(0,1e5,0),x.name.includes("color")){const T=`#${x.name.slice(-6)}`;x.material=new Ht.THREE.MeshPhongMaterial({color:T,flatShading:!0})}x.receiveShadow=!0,x.castShadow=!0}x.frustumCulled=!1}),this.meshBackSide.traverse(y=>{const x=y;(x.isMesh||x.isObject3D)&&(!(e!=null&&e.includes(x.name))&&!x.name.includes("ignore")?x.material=this.materialBackSide:x.visible=!1)}),this.axis.rotation.y=Math.PI/180*v.value*360,this.axis.rotation.x=Math.PI/180*g.value*360}}class Kce{constructor(e,n){Yn(this,"scene");Yn(this,"sphere",new Ht.THREE.Mesh);Yn(this,"sphereMaterial",new Ht.THREE.MeshBasicMaterial({side:Ht.THREE.BackSide,lightMapIntensity:1}));Yn(this,"options");Yn(this,"ground",new Ht.THREE.Mesh);Yn(this,"groundMaterial",new Ht.THREE.MeshBasicMaterial);Yn(this,"type","image");Yn(this,"fog",new Ht.THREE.Fog(0,8,20));this.scene=e,this.options=n,this.sphere=new Ht.THREE.Mesh(new Ht.THREE.SphereGeometry(1e3,60,30),this.sphereMaterial),this.sphere.name="panorama",this.scene.add(this.sphere),this.ground=new Ht.THREE.Mesh(new Ht.THREE.CircleGeometry(20,32),this.groundMaterial),this.ground.name="ground",this.ground.rotation.x=-Math.PI/2,this.ground.position.y=px-.01,this.scene.add(this.ground),this.scene.fog=this.fog}addMaterial(e,n){const r=n.data[n.index];this.type=r.type,this.type==="model"?(this.groundMaterial.map=e,this.groundMaterial.map.mapping=Ht.THREE.EquirectangularReflectionMapping,this.groundMaterial.map.minFilter=Ht.THREE.LinearMipMapLinearFilter,this.groundMaterial.map.colorSpace=Ht.THREE.SRGBColorSpace,this.groundMaterial.map.wrapS=Ht.THREE.RepeatWrapping,this.groundMaterial.map.wrapT=Ht.THREE.RepeatWrapping,this.groundMaterial.map.repeat.set(25,25),this.groundMaterial.needsUpdate=!0):(this.sphereMaterial.map=e,this.sphereMaterial.map.mapping=Ht.THREE.EquirectangularReflectionMapping,this.sphereMaterial.map.colorSpace=Ht.THREE.LinearSRGBColorSpace,this.sphereMaterial.map.generateMipmaps=!1,this.sphereMaterial.map.minFilter=Ht.THREE.LinearMipMapLinearFilter,this.sphere.material=this.sphereMaterial),this.rerender(),requestAnimationFrame(()=>this.rerender())}rerender(){const{visible:e}=this.options.panorama.toggle;this.type==="model"?(this.ground.visible=e,this.sphere.visible=e,this.sphereMaterial.map=null,this.scene.fog=this.fog):(this.ground.visible=!1,this.sphere.visible=e,this.scene.fog=null)}updateToggle(e){this.options.panorama.toggle.visible=e,this.rerender()}}class Zce extends hle{constructor(e=null){super();const n=new N0;n.deleteAttribute("uv");const r=new cp({side:pC}),o=new cp;let l=5;e!==null&&e._useLegacyLights===!1&&(l=900);const h=new KI(16777215,l,28,2);h.position.set(.418,16.199,.3),this.add(h);const d=new Xr(n,r);d.position.set(-.757,13.219,.717),d.scale.set(31.713,28.305,28.591),this.add(d);const p=new Xr(n,o);p.position.set(-10.906,2.009,1.846),p.rotation.set(0,-.195,0),p.scale.set(2.328,7.905,4.651),this.add(p);const g=new Xr(n,o);g.position.set(-5.607,-.754,-.758),g.rotation.set(0,.994,0),g.scale.set(1.97,1.534,3.955),this.add(g);const v=new Xr(n,o);v.position.set(6.167,.857,7.803),v.rotation.set(0,.561,0),v.scale.set(3.927,6.285,3.687),this.add(v);const y=new Xr(n,o);y.position.set(-2.017,.018,6.124),y.rotation.set(0,.333,0),y.scale.set(2.002,4.566,2.064),this.add(y);const x=new Xr(n,o);x.position.set(2.291,-.756,-2.621),x.rotation.set(0,-.286,0),x.scale.set(1.546,1.552,1.496),this.add(x);const T=new Xr(n,o);T.position.set(-2.193,-.369,-5.547),T.rotation.set(0,.516,0),T.scale.set(3.875,3.487,2.986),this.add(T);const w=new Xr(n,su(50));w.position.set(-16.116,14.37,8.208),w.scale.set(.1,2.428,2.739),this.add(w);const M=new Xr(n,su(50));M.position.set(-16.109,18.021,-8.207),M.scale.set(.1,2.425,2.751),this.add(M);const S=new Xr(n,su(17));S.position.set(14.904,12.198,-1.832),S.scale.set(.15,4.265,6.331),this.add(S);const j=new Xr(n,su(43));j.position.set(-.462,8.89,14.52),j.scale.set(4.38,5.441,.088),this.add(j);const k=new Xr(n,su(20));k.position.set(3.235,11.486,-12.541),k.scale.set(2.5,2,.1),this.add(k);const W=new Xr(n,su(100));W.position.set(0,20,0),W.scale.set(1,.1,1),this.add(W)}dispose(){const e=new Set;this.traverse(n=>{n.isMesh&&(e.add(n.geometry),e.add(n.material))});for(const n of e)n.dispose()}}function su(a){const e=new Lc;return e.color.setScalar(a),e}class Jce{constructor(e,n){const r=new Zce,o=new Ht.THREE.PMREMGenerator(n);e.environment=o.fromScene(r).texture}}class Qce{constructor(e){Yn(this,"props");Yn(this,"webgl");Yn(this,"panorama");Yn(this,"object3D");Yn(this,"onReady",()=>{});Yn(this,"onUpdate",()=>{});jS.camera.dom=e.dom,this.props=e,this.webgl=new rce(jS),new Jce(this.webgl.scene,this.webgl.render),this.panorama=new Kce(this.webgl.scene,this.props),this.object3D=new Yce(this.webgl.scene,this.props),this.object3D.setAnisotropy(this.webgl.renderer.renderer.capabilities.getMaxAnisotropy()),this.loadAndProcessingMaterial(e),this.webgl.render.domElement.addEventListener("touchmove",n=>n.preventDefault()),e.dom.appendChild(this.webgl.render.domElement),Hne(e.dom).then(()=>{this.webgl.updateMatrix()}),this.webgl.enterframe.add(()=>{const{x:n,y:r,z:o}=this.webgl.camera.position,[l]=this.webgl.light.lights;l instanceof Ht.THREE.Light&&l.position.set(n,r,o),this.webgl.scene.traverse(h=>{h instanceof Ht.THREE.SpotLightHelper&&h.update()}),e.setState(h=>({...h,polar:this.webgl.controls.controls.getPolarAngle()}))})}async loadAndProcessingMaterial(e){var l;const n=await this.loadTexture(e.userProps.texture.base,!0);this.object3D.addMaterial(n.texture),n.color&&(e.onColorChange(n.color),this.object3D.updateDefaultColor(n.color),this.object3D.setDownscaleWidth(n.downscaleWidth??2048)),n.width&&n.height&&this.object3D.setSize(n.width,n.height);const r=await this.loadModel(e.model.glb);this.object3D.addModel(r);const o=await this.loadTexture(e.panorama.data[e.panorama.index].uri,!1,!1);if(this.panorama.addMaterial(o.texture,e.panorama),e.userProps.texture.alpha){const h=await this.loadTexture(e.userProps.texture.alpha,!1,!1);this.object3D.addAlphaMap(h.texture)}if(e.userProps.texture.bump){const h=await this.loadTexture(e.userProps.texture.bump,!1,!1);this.object3D.addBumpMap(h.texture,e.userProps.texture.bumpScale||.1)}if(e.userProps.texture.roughImgUrl){const h=await this.loadTexture(e.userProps.texture.roughImgUrl,!1,!1);this.object3D.addRoughnessMap(h.texture)}if(e.userProps.texture.dispImgUrl){const h=await this.loadTexture(e.userProps.texture.dispImgUrl,!1,!1);this.object3D.addDisplacementMap(h.texture)}if(e.userProps.texture.normalImgUrl){const h=await this.loadTexture(e.userProps.texture.normalImgUrl,!1,!0);this.object3D.addNormalMap(h.texture,e.userProps.texture.normalScale||.5)}(l=this.onReady)==null||l.call(this)}loadModel(e){return new Promise((n,r)=>{Vce("/3d-viewer/"+e,qce).then(o=>n(o.gltf.scene)).catch(o=>r(`load model error: ${o}`))})}async loadTexture(e,n=!1,r=!0){return new Promise((o,l)=>{if(r)Vne(e,n).then(h=>{const{currentColor:d,currentURI:p,width:g,height:v,downscaleWidth:y}=h,x=p.startsWith("data:image")?p:p+"?"+new Date().getTime();new Ht.THREE.TextureLoader().load(x,w=>o({texture:w,color:d,width:g,height:v,downscaleWidth:y}),void 0,w=>l(`load texture error: ${w}`))}).catch(h=>l(`load texture error: ${h}`));else{const h=e.startsWith("data:image")?e:e+"?"+new Date().getTime();new Ht.THREE.TextureLoader().load(h,p=>o({texture:p}),void 0,p=>l(`load texture error: ${p}`))}})}updateMaterial(e){this.object3D.updateMaterial(e)}updateModel(e,n){this.loadModel(e.glb).then(r=>{var o;this.object3D.updateModel(r,e),(o=this.onUpdate)==null||o.call(this),n==null||n()})}updateColor(e){this.props.color=e,this.object3D.updateColor(e)}updateMatrix(){this.webgl.updateMatrix()}stopRender(){this.webgl.enterframe.stop(),this.webgl.removeResizeListeners()}restart(e){this.webgl.updateDom(e),this.webgl.addResizeListeners(),this.webgl.enterframe.play(),e.appendChild(this.webgl.render.domElement),this.webgl.render.domElement.addEventListener("touchmove",n=>n.preventDefault())}addEventListener(e,n){switch(e){case"onReady":this.onReady=n;break;case"onUpdate":this.onUpdate=n;break}}setSpotLightIntensityByColor(e){const[,,n]=ip(e).hsv(),[,r,o]=this.webgl.light.lights;r.intensity=10-n*20,o.intensity=30-n*30}async updateUserProps(e,n){if(this.props.userProps.texture.base!==e.texture.base){const r=await this.loadTexture(e.texture.base,!0);this.object3D.addMaterial(r.texture),r.color&&(this.object3D.updateDefaultColor(r.color),this.props.onColorChange(r.color)),r.width&&r.height&&this.object3D.setSize(r.width,r.height)}if(this.props.userProps.texture.alpha!==e.texture.alpha)if(e.texture.alpha){const r=await this.loadTexture(e.texture.alpha);this.object3D.addAlphaMap(r.texture)}else this.object3D.removeAlphaMap();if(this.props.userProps.texture.bump!==e.texture.bump)if(e.texture.bump){const r=await this.loadTexture(e.texture.bump);this.object3D.addBumpMap(r.texture)}else this.object3D.removeBumpMap();if(this.props.userProps.texture.roughImgUrl!==e.texture.roughImgUrl)if(e.texture.roughImgUrl){const r=await this.loadTexture(e.texture.roughImgUrl);this.object3D.addRoughnessMap(r.texture)}else this.object3D.removeRoughnessMap();if(this.props.userProps.texture.dispImgUrl!==e.texture.dispImgUrl)if(e.texture.dispImgUrl){const r=await this.loadTexture(e.texture.dispImgUrl);this.object3D.addDisplacementMap(r.texture)}else this.object3D.removeDisplacementMap();if(this.props.userProps.texture.normalImgUrl!==e.texture.normalImgUrl)if(e.texture.normalImgUrl){const r=await this.loadTexture(e.texture.normalImgUrl);this.object3D.addNormalMap(r.texture,e.texture.normalScale||.5)}else this.object3D.removeNormalMap();this.props.userProps.texture.bumpScale!==e.texture.bumpScale&&this.object3D.updateBumpScale(e.texture.bumpScale??.1),this.props.userProps.texture.mapScale!==e.texture.mapScale&&this.object3D.updateMapScale(e.texture.mapScale??15),this.props.userProps.texture.defaultMapScale!==e.texture.defaultMapScale&&this.object3D.updateDefaultMapScale(e.texture.defaultMapScale??15),this.props.userProps.texture.normalScale!==e.texture.normalScale&&this.object3D.updateNormalScale(e.texture.normalScale??.5),this.props.userProps=e,n==null||n()}getDomElementFromRender(){return this.webgl.render.domElement}updatePanorama(e,n){if(this.props.panorama.toggle.visible!==e.toggle.visible&&(this.panorama.updateToggle(e.toggle.visible),n==null||n()),this.props.panorama.index!==e.index){const r=e.data[e.index];this.loadTexture(r.uri,!1,!1).then(o=>{this.panorama.addMaterial(o.texture,e),this.object3D.setGroundShadowByType(r.type),n==null||n()})}this.props.panorama=e}updateTemperature(e){const n=e.data[e.index].value;this.object3D.updateTemperature(n)}}const ehe=P.reactExports.memo(({polar:a})=>{const e=P.reactExports.useMemo(()=>{if(!a)return"#fff";const n=a*(180/Math.PI);return n>65?`linear-gradient(0deg, rgba(170,170,170,1) 0%, rgba(255,255,255,1) ${Math.max(70-(n-65)/25*100,0)}%)`:`-webkit-radial-gradient(50% ${Math.max(158-(65-n)/30*50,0)}%,rgba(170,170,170,1),rgba(255,255,255,1),rgba(255,255,255,1))`},[a]);return P.jsxRuntimeExports.jsx("div",{className:"absolute top-0 h-full w-full",style:{background:e}})});let On=null;const the=P.reactExports.memo(()=>{var j,k;const[a,e]=P.reactExports.useContext(P.Context),n=a[P.ActionType.UserProps],r=a[P.ActionType.ModelPicker],o=(j=a[P.ActionType.GUI_Color])==null?void 0:j.data,l=(k=a[P.ActionType.GUI_Slider])==null?void 0:k.data,h=a[P.ActionType.View3DEvents],d=a[P.ActionType.GUI_Panorama],p=a[P.ActionType.GUI_temperature],g=a[P.ActionType.WebGL],[v,y]=P.reactExports.useContext(ju),{drawer:x}=v,T=P.reactExports.useRef(null),[w,M]=P.reactExports.useState(!!g),S=P.reactExports.useMemo(()=>(n==null?void 0:n.model)||P.DEFAULT_PICKER_OPTIONS,[n==null?void 0:n.model]);return P.reactExports.useEffect(()=>{if(e({type:P.ActionType.LoadingProcess,state:{enabled:!0}}),T.current){if(!g&&o&&l&&n&&d&&p){const{value:W}=o[o.length-1];On=new Qce({dom:T.current,color:W,userProps:n,slider:l,model:S[r||0],panorama:d,temperature:p,setState:y,onColorChange:q=>{const{color:Z}=n.texture,Y=Z?ip.rgb(Z.r,Z.g,Z.b).hex():q;e({type:P.ActionType.DiffuseColor,state:Y}),e({type:P.ActionType.GUI_Color,state:{data:[{value:Y,defaultValue:Y}]}})}}),On.addEventListener("onReady",()=>{e({type:P.ActionType.LoadingProcess,state:{enabled:!1}}),M(!0),h==null||h.onAssetsLoaded()}),e({type:P.ActionType.WebGL,state:!0})}else On==null||On.restart(T.current);y(W=>({...W,domElement:On==null?void 0:On.getDomElementFromRender()}))}return()=>On==null?void 0:On.stopRender()},[]),P.reactExports.useEffect(()=>{On==null||On.updateMatrix()},[x]),P.reactExports.useEffect(()=>{l&&(On==null||On.updateMaterial(l))},[l]),P.reactExports.useEffect(()=>{if(o){const{value:W}=o[o.length-1];On==null||On.updateColor(W)}},[o]),P.reactExports.useEffect(()=>{r!==void 0&&(e({type:P.ActionType.LoadingProcess,state:{enabled:!0}}),On==null||On.updateModel(S[r],()=>{w&&e({type:P.ActionType.LoadingProcess,state:{enabled:!1}})}))},[r]),P.reactExports.useEffect(()=>{e({type:P.ActionType.LoadingProcess,state:{enabled:!0}}),n&&(On==null||On.updateUserProps(n,()=>{w&&setTimeout(()=>{e({type:P.ActionType.LoadingProcess,state:{enabled:!1}})},300)}))},[n]),P.reactExports.useEffect(()=>{w&&d&&(e({type:P.ActionType.LoadingProcess,state:{enabled:!0}}),On==null||On.updatePanorama(d,()=>{e({type:P.ActionType.LoadingProcess,state:{enabled:!1}})}))},[d]),P.reactExports.useEffect(()=>{p&&(On==null||On.updateTemperature(p))},[p]),P.jsxRuntimeExports.jsxs(P.jsxRuntimeExports.Fragment,{children:[P.jsxRuntimeExports.jsx(ehe,{polar:v.polar}),P.jsxRuntimeExports.jsx("div",{className:"relative h-full w-full",onTouchMove:W=>W.preventDefault(),ref:T})]})}),nhe=P.reactExports.memo(()=>{const[,a]=P.reactExports.useContext(P.Context);return P.reactExports.useEffect(()=>{a({type:P.ActionType.LoadingProcess,state:{enabled:!1}})},[]),P.jsxRuntimeExports.jsx("div",{className:"flex h-full w-full animate-pulse items-center justify-center text-xl text-primary-400",children:"Waiting for parameters...."})}),rhe=P.reactExports.memo(()=>{const[a]=P.reactExports.useContext(P.Context),e=a[P.ActionType.Display],n=a[P.ActionType.UserProps],[r,o]=P.reactExports.useContext(ju);return P.jsxRuntimeExports.jsx(lI,{onload:()=>{o(l=>({...l,loadSteps:mx.dom}))},children:P.jsxRuntimeExports.jsx("div",{className:"relative h-[calc(100vh-80px)] w-full bg-grey-850",children:P.jsxRuntimeExports.jsx(One,{children:e&&n&&r.loadSteps===mx.dom&&(n.texture.base===""?P.jsxRuntimeExports.jsx(nhe,{}):e===P.TDisplayType["2D"]?P.jsxRuntimeExports.jsx(Xne,{}):P.jsxRuntimeExports.jsx(the,{}))})})})}),ihe=P.reactExports.memo(()=>{const[a]=P.reactExports.useContext(P.Context),e=a[P.ActionType.View3DEvents],n=P.reactExports.useState(HS);return P.reactExports.useEffect(()=>{if(e)return e.onMounted(),()=>e.unmounted()},[e]),P.jsxRuntimeExports.jsx("div",{className:"flex h-full w-full flex-col",children:P.jsxRuntimeExports.jsxs(ju.Provider,{value:n,children:[P.jsxRuntimeExports.jsx(dB,{}),P.jsxRuntimeExports.jsx(rhe,{})]})})});exports.default=ihe;
